!function(e,n,t,o,i){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof r[o]&&r[o],c=s.cache||{},a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(n,t){if(!c[n]){if(!e[n]){var i="function"==typeof r[o]&&r[o];if(!t&&i)return i(n,!0);if(s)return s(n,!0);if(a&&"string"==typeof n)return a(n);var u=Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}f.resolve=function(t){var o=e[n][1][t];return null!=o?o:t},f.cache={};var d=c[n]=new l.Module(n);e[n][0].call(d.exports,f,d,d.exports,this)}return c[n].exports;function f(e){var n=f.resolve(e);return!1===n?{}:l(n)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=c,l.parent=s,l.register=function(n,t){e[n]=[function(e,n){n.exports=t},{}]},Object.defineProperty(l,"root",{get:function(){return r[o]}}),r[o]=l;for(var u=0;u<n.length;u++)l(n[u])}({"7g4Fh":[function(e,n,t){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"Sync",(function(){return _}));var i=e("@swc/helpers/_/_async_to_generator"),r=e("@swc/helpers/_/_class_call_check"),s=e("@swc/helpers/_/_create_class"),c=e("@swc/helpers/_/_get"),a=e("@swc/helpers/_/_get_prototype_of"),l=e("@swc/helpers/_/_inherits"),u=e("@swc/helpers/_/_create_super"),d=e("@swc/helpers/_/_ts_generator"),f=e("../Base/index"),_=function(e){(0,l._)(t,e);var n=(0,u._)(t);function t(){var e;return(0,r._)(this,t),(e=n.apply(this,arguments)).users={},e}return(0,s._)(t,[{key:"destroy",value:function(){var e;null===(e=this.connection)||void 0===e||e.disconnect(),(0,c._)((0,a._)(t.prototype),"destroy",this).call(this)}},{key:"connect",value:function(e){var n=this,o=this;return(0,i._)((function(){return(0,d._)(this,(function(i){return(0,c._)((0,a._)(t.prototype),"connect",n).call(o,e),o.domain=e.config||"meet.jit.si",window.JitsiMeetJS?o.init(!0):o.load(["https://meet.jit.si/libs/lib-jitsi-meet.min.js"],o),[2]}))}))()}},{key:"init",value:function(e,n){var t=this.uniqueID();if(e&&window.JitsiMeetJS&&t){window.LIA.debug||window.JitsiMeetJS.setLogLevel(window.JitsiMeetJS.logLevels.ERROR),this.connection=new window.JitsiMeetJS.JitsiConnection(null,null,{hosts:{domain:this.domain,muc:"conference.".concat(this.domain),focus:"focus.".concat(this.domain)},configOverwrite:{openBridgeChannel:!1},serviceUrl:"https://".concat(this.domain,"/http-bind?room=").concat(btoa(t)),clientNode:"http://jitsi.org/jitsimeet"});var o=this;this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,(function(){o.conferenceRoom=o.connection.initJitsiConference(btoa(t).toLowerCase(),{configOverwrite:{openBridgeChannel:!1},enableLayerSuspension:!0,p2p:{enabled:!0}}),o.conferenceRoom.setDisplayName(o.token),o.conferenceRoom.on(window.JitsiMeetJS.events.conference.CONFERENCE_JOINED,(function(){o.sendConnect()})),o.conferenceRoom.on(window.JitsiMeetJS.errors.conference.PASSWORD_REQUIRED,(function(){o.sendDisconnectError("password required")})),o.conferenceRoom.on(window.JitsiMeetJS.events.conference.USER_JOINED,(function(e){o.users[e]||(o.users[e]=null)})),o.conferenceRoom.on(window.JitsiMeetJS.events.conference.USER_LEFT,(function(e){var n=o.users[e];n&&o.db.removePeer(n),delete o.users[e]})),o.conferenceRoom.on(window.JitsiMeetJS.events.conference.MESSAGE_RECEIVED,(function(e,n){for(var t=o.conferenceRoom.getParticipants(),i=0;i<t.length;i++)if(e===t[i].getId()){o.users[e]=t[i].getDisplayName();break}o.applyUpdate(f.base64_to_unit8(n))})),o.conferenceRoom.join()})),this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_FAILED,(function(e){o.sendDisconnectError("Connection failed"+e)})),this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_DISCONNECTED,(function(e){o.disconnect()})),this.connection.connect()}else{var i="Jitsi unknown error";n?i="Could not load resource: "+n:void 0===window.JitsiMeetJS&&(i="Could not load Jitsi interface"),this.sendDisconnectError(i)}}},{key:"broadcast",value:function(e){try{var n;null===(n=this.conferenceRoom)||void 0===n||n.sendTextMessage(f.uint8_to_base64(e))}catch(e){console.warn("Jitsi: broadcast =>",e.message)}}}]),t}(f.Sync)},{"@swc/helpers/_/_async_to_generator":"9nZrO","@swc/helpers/_/_class_call_check":"aKk2j","@swc/helpers/_/_create_class":"1kStN","@swc/helpers/_/_get":"eIgRj","@swc/helpers/_/_get_prototype_of":"cFXpH","@swc/helpers/_/_inherits":"cPJNz","@swc/helpers/_/_create_super":"4oibw","@swc/helpers/_/_ts_generator":"9rWj2","../Base/index":"5ZLLr","@parcel/transformer-js/src/esmodule-helpers.js":"1NFta"}]},[],0,"parcelRequire55a5");
