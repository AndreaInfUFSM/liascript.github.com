parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function jh(a){return a&&a.__esModule?{d:a.default}:{d:a}}var Cr=this;var hF;"undefined"!=typeof window?hF=window.__DEV__:"undefined"!=typeof Cr&&(hF=Cr.__DEV__),void 0===hF&&(hF=!0);var Dr={},iF=2311;function jF(){return iF++}Dr=jF;var x={},kF="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:lF(navigator.userAgent);function lF(e){var o={},t=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),n=e.match(/Edge\/([\d.]+)/),d=/micromessenger/i.test(e);return t&&(o.firefox=!0,o.version=t[1]),r&&(o.ie=!0,o.version=r[1]),n&&(o.edge=!0,o.version=n[1]),d&&(o.weChat=!0),{browser:o,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!o.ie&&!o.edge,pointerEventsSupported:"onpointerdown"in window&&(o.edge||o.ie&&o.version>=11),domSupported:"undefined"!=typeof document}}x=kF;var c={},Er={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Fr={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},qf=Object.prototype.toString,rf=Array.prototype,mF=rf.forEach,nF=rf.filter,sf=rf.slice,oF=rf.map,pF=rf.reduce,Fk={};function qF($,r){"createCanvas"===$&&(Hr=null),Fk[$]=r}function Pd($){if(null==$||"object"!=typeof $)return $;var r=$,e=qf.call($);if("[object Array]"===e){if(!Qd($)){r=[];for(var v=0,t=$.length;v<t;v++)r[v]=Pd($[v])}}else if(Fr[e]){if(!Qd($)){var a=$.constructor;if($.constructor.from)r=a.from($);else{r=new a($.length);for(v=0,t=$.length;v<t;v++)r[v]=Pd($[v])}}}else if(!Er[e]&&!Qd($)&&!lh($))for(var o in r={},$)$.hasOwnProperty(o)&&(r[o]=Pd($[o]));return r}function Gk($,r,e){if(!tf(r)||!tf($))return e?Pd(r):$;for(var v in r)if(r.hasOwnProperty(v)){var t=$[v],a=r[v];!tf(a)||!tf(t)||kh(a)||kh(t)||lh(a)||lh(t)||Hk(a)||Hk(t)||Qd(a)||Qd(t)?!e&&v in $||($[v]=Pd(r[v],!0)):Gk(t,a,e)}return $}function rF($,r){for(var e=$[0],v=1,t=$.length;v<t;v++)e=Gk(e,$[v],r);return e}function sF($,r){for(var e in r)r.hasOwnProperty(e)&&($[e]=r[e]);return $}function Gr($,r,e){for(var v in r)r.hasOwnProperty(v)&&(e?null!=r[v]:null==$[v])&&($[v]=r[v]);return $}var Hr,Ir=function(){return Fk.createCanvas()};function tF(){return Hr||(Hr=Ir().getContext("2d")),Hr}function uF($,r){if($){if($.indexOf)return $.indexOf(r);for(var e=0,v=$.length;e<v;e++)if($[e]===r)return e}return-1}function vF($,r){var e=$.prototype;function v(){}for(var t in v.prototype=r.prototype,$.prototype=new v,e)e.hasOwnProperty(t)&&($.prototype[t]=e[t]);$.prototype.constructor=$,$.superClass=r}function wF($,r,e){Gr($="prototype"in $?$.prototype:$,r="prototype"in r?r.prototype:r,e)}function xF($){if($)return"string"!=typeof $&&"number"==typeof $.length}function Jr($,r,e){if($&&r)if($.forEach&&$.forEach===mF)$.forEach(r,e);else if($.length===+$.length)for(var v=0,t=$.length;v<t;v++)r.call(e,$[v],v,$);else for(var a in $)$.hasOwnProperty(a)&&r.call(e,$[a],a,$)}function yF($,r,e){if($&&r){if($.map&&$.map===oF)return $.map(r,e);for(var v=[],t=0,a=$.length;t<a;t++)v.push(r.call(e,$[t],t,$));return v}}function zF($,r,e,v){if($&&r){if($.reduce&&$.reduce===pF)return $.reduce(r,e,v);for(var t=0,a=$.length;t<a;t++)e=r.call(v,e,$[t],t,$);return e}}function AF($,r,e){if($&&r){if($.filter&&$.filter===nF)return $.filter(r,e);for(var v=[],t=0,a=$.length;t<a;t++)r.call(e,$[t],t,$)&&v.push($[t]);return v}}function BF($,r,e){if($&&r)for(var v=0,t=$.length;v<t;v++)if(r.call(e,$[v],v,$))return $[v]}function Kr($,r){var e=sf.call(arguments,2);return function(){return $.apply(r,e.concat(sf.call(arguments)))}}function CF($){var r=sf.call(arguments,1);return function(){return $.apply(this,r.concat(sf.call(arguments)))}}function kh($){return"[object Array]"===qf.call($)}function DF($){return"function"==typeof $}function EF($){return"[object String]"===qf.call($)}function tf($){var r=typeof $;return"function"===r||!!$&&"object"===r}function Hk($){return!!Er[qf.call($)]}function FF($){return!!Fr[qf.call($)]}function lh($){return"object"==typeof $&&"number"==typeof $.nodeType&&"object"==typeof $.ownerDocument}function GF($){return $!=$}function HF($){for(var r=0,e=arguments.length;r<e;r++)if(null!=arguments[r])return arguments[r]}function IF($,r){return null!=$?$:r}function JF($,r,e){return null!=$?$:null!=r?r:e}function KF(){return Function.call.apply(sf,arguments)}function LF($){if("number"==typeof $)return[$,$,$,$];var r=$.length;return 2===r?[$[0],$[1],$[0],$[1]]:3===r?[$[0],$[1],$[2],$[1]]:$}function MF($,r){if(!$)throw new Error(r)}function NF($){return null==$?null:"function"==typeof $.trim?$.trim():$.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}Fk.createCanvas=function(){return document.createElement("canvas")};var Lr="__ec_primitive__";function OF($){$[Lr]=!0}function Qd($){return $[Lr]}function mh($){var r=kh($);this.data={};var e=this;function v($,v){r?e.set($,v):e.set(v,$)}$ instanceof mh?$.each(v):$&&Jr($,v)}function PF($){return new mh($)}function QF($,r){for(var e=new $.constructor($.length+r.length),v=0;v<$.length;v++)e[v]=$[v];var t=$.length;for(v=0;v<r.length;v++)e[v+t]=r[v];return e}function RF(){}mh.prototype={constructor:mh,get:function($){return this.data.hasOwnProperty($)?this.data[$]:null},set:function($,r){return this.data[$]=r},each:function($,r){for(var e in void 0!==r&&($=Kr($,r)),this.data)this.data.hasOwnProperty(e)&&$(this.data[e],e)},removeKey:function($){delete this.data[$]}};var Mr=qF;c.$override=Mr;var B=Pd;c.clone=B;var f=Gk;c.merge=f;var uf=rF;c.mergeAll=uf;var z=sF;c.extend=z;var E=Gr;c.defaults=E;var vf=Ir;c.createCanvas=vf;var Nr=tF;c.getContext=Nr;var C=uF;c.indexOf=C;var n=vF;c.inherits=n;var l=wF;c.mixin=l;var Rd=xF;c.isArrayLike=Rd;var k=Jr;c.each=k;var j=yF;c.map=j;var Sd=zF;c.reduce=Sd;var Ea=AF;c.filter=Ea;var Or=BF;c.find=Or;var m=Kr;c.bind=m;var w=CF;c.curry=w;var J=kh;c.isArray=J;var fa=DF;c.isFunction=fa;var M=EF;c.isString=M;var y=tf;c.isObject=y;var SF=Hk;c.isBuiltInObject=SF;var Rc=FF;c.isTypedArray=Rc;var Pr=lh;c.isDom=Pr;var wf=GF;c.eqNaN=wf;var ua=HF;c.retrieve=ua;var Fa=IF;c.retrieve2=Fa;var kc=JF;c.retrieve3=kc;var Td=KF;c.slice=Td;var Ik=LF;c.normalizeCssArray=Ik;var lc=MF;c.assert=lc;var nh=NF;c.trim=nh;var Jk=OF;c.setAsPrimitive=Jk;var TF=Qd;c.isPrimitive=TF;var G=PF;c.createHashMap=G;var Qr=QF;c.concatArray=Qr;var $=RF;c.noop=$;var r={},Rr="undefined"==typeof Float32Array?Array:Float32Array;function UF($,t){var r=new Rr(2);return null==$&&($=0),null==t&&(t=0),r[0]=$,r[1]=t,r}function VF($,t){return $[0]=t[0],$[1]=t[1],$}function WF($){var t=new Rr(2);return t[0]=$[0],t[1]=$[1],t}function XF($,t,r){return $[0]=t,$[1]=r,$}function YF($,t,r){return $[0]=t[0]+r[0],$[1]=t[1]+r[1],$}function ZF($,t,r,e){return $[0]=t[0]+r[0]*e,$[1]=t[1]+r[1]*e,$}function $F($,t,r){return $[0]=t[0]-r[0],$[1]=t[1]-r[1],$}function Kk($){return Math.sqrt(Lk($))}var _F=Kk;function Lk($){return $[0]*$[0]+$[1]*$[1]}var aG=Lk;function bG($,t,r){return $[0]=t[0]*r[0],$[1]=t[1]*r[1],$}function cG($,t,r){return $[0]=t[0]/r[0],$[1]=t[1]/r[1],$}function dG($,t){return $[0]*t[0]+$[1]*t[1]}function eG($,t,r){return $[0]=t[0]*r,$[1]=t[1]*r,$}function fG($,t){var r=Kk(t);return 0===r?($[0]=0,$[1]=0):($[0]=t[0]/r,$[1]=t[1]/r),$}function Sr($,t){return Math.sqrt(($[0]-t[0])*($[0]-t[0])+($[1]-t[1])*($[1]-t[1]))}var gG=Sr;function Tr($,t){return($[0]-t[0])*($[0]-t[0])+($[1]-t[1])*($[1]-t[1])}var hG=Tr;function iG($,t){return $[0]=-t[0],$[1]=-t[1],$}function jG($,t,r,e){return $[0]=t[0]+e*(r[0]-t[0]),$[1]=t[1]+e*(r[1]-t[1]),$}function kG($,t,r){var e=t[0],a=t[1];return $[0]=r[0]*e+r[2]*a+r[4],$[1]=r[1]*e+r[3]*a+r[5],$}function lG($,t,r){return $[0]=Math.min(t[0],r[0]),$[1]=Math.min(t[1],r[1]),$}function mG($,t,r){return $[0]=Math.max(t[0],r[0]),$[1]=Math.max(t[1],r[1]),$}var Ud=UF;r.create=Ud;var _=VF;r.copy=_;var eb=WF;r.clone=eb;var Ur=XF;r.set=Ur;var Vr=YF;r.add=Vr;var xf=ZF;r.scaleAndAdd=xf;var Pb=$F;r.sub=Pb;var Mk=Kk;r.len=Mk;var nG=_F;r.length=nG;var oG=Lk;r.lenSquare=oG;var pG=aG;r.lengthSquare=pG;var qG=bG;r.mul=qG;var rG=cG;r.div=rG;var sG=dG;r.dot=sG;var Wr=eG;r.scale=Wr;var Vd=fG;r.normalize=Vd;var Nk=Sr;r.distance=Nk;var Qb=gG;r.dist=Qb;var tG=Tr;r.distanceSquare=tG;var Ok=hG;r.distSquare=Ok;var uG=iG;r.negate=uG;var Xr=jG;r.lerp=Xr;var Ga=kG;r.applyTransform=Ga;var Wd=lG;r.min=Wd;var Xd=mG;r.max=Xd;var Yr={};function Pk(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function Yd(t,a){return{target:t,topTarget:a&&a.topTarget}}Pk.prototype={constructor:Pk,_dragStart:function(t){for(var a=t.target;a&&!a.draggable;)a=a.parent;a&&(this._draggingTarget=a,a.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(Yd(a,t),"dragstart",t.event))},_drag:function(t){var a=this._draggingTarget;if(a){var r=t.offsetX,e=t.offsetY,g=r-this._x,h=e-this._y;this._x=r,this._y=e,a.drift(g,h,t),this.dispatchToElement(Yd(a,t),"drag",t.event);var i=this.findHover(r,e,a).target,s=this._dropTarget;this._dropTarget=i,a!==i&&(s&&i!==s&&this.dispatchToElement(Yd(s,t),"dragleave",t.event),i&&i!==s&&this.dispatchToElement(Yd(i,t),"dragenter",t.event))}},_dragEnd:function(t){var a=this._draggingTarget;a&&(a.dragging=!1),this.dispatchToElement(Yd(a,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(Yd(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var vG=Pk;Yr=vG;var aa={},Zr=Array.prototype.slice,Qk=function(r){this._$handlers={},this._$eventProcessor=r};function wG(r,e){var t=r._$eventProcessor;return null!=e&&t&&t.normalizeQuery&&(e=t.normalizeQuery(e)),e}function $r(r,e,t,a,l,n){var i=r._$handlers;if("function"==typeof t&&(l=a,a=t,t=null),!a||!e)return r;t=wG(r,t),i[e]||(i[e]=[]);for(var $=0;$<i[e].length;$++)if(i[e][$].h===a)return r;var s={h:a,one:n,query:t,ctx:l||r,callAtLast:a.zrEventfulCallAtLast},h=i[e].length-1,c=i[e][h];return c&&c.callAtLast?i[e].splice(h,0,s):i[e].push(s),r}Qk.prototype={constructor:Qk,one:function(r,e,t,a){return $r(this,r,e,t,a,!0)},on:function(r,e,t,a){return $r(this,r,e,t,a,!1)},isSilent:function(r){var e=this._$handlers;return!e[r]||!e[r].length},off:function(r,e){var t=this._$handlers;if(!r)return this._$handlers={},this;if(e){if(t[r]){for(var a=[],l=0,n=t[r].length;l<n;l++)t[r][l].h!==e&&a.push(t[r][l]);t[r]=a}t[r]&&0===t[r].length&&delete t[r]}else delete t[r];return this},trigger:function(r){var e=this._$handlers[r],t=this._$eventProcessor;if(e){var a=arguments,l=a.length;l>3&&(a=Zr.call(a,1));for(var n=e.length,i=0;i<n;){var $=e[i];if(t&&t.filter&&null!=$.query&&!t.filter(r,$.query))i++;else{switch(l){case 1:$.h.call($.ctx);break;case 2:$.h.call($.ctx,a[1]);break;case 3:$.h.call($.ctx,a[1],a[2]);break;default:$.h.apply($.ctx,a);}$.one?(e.splice(i,1),n--):i++}}}return t&&t.afterTrigger&&t.afterTrigger(r),this},triggerWithContext:function(r){var e=this._$handlers[r],t=this._$eventProcessor;if(e){var a=arguments,l=a.length;l>4&&(a=Zr.call(a,1,a.length-1));for(var n=a[a.length-1],i=e.length,$=0;$<i;){var s=e[$];if(t&&t.filter&&null!=s.query&&!t.filter(r,s.query))$++;else{switch(l){case 1:s.h.call(n);break;case 2:s.h.call(n,a[1]);break;case 3:s.h.call(n,a[1],a[2]);break;default:s.h.apply(n,a);}s.one?(e.splice($,1),i--):$++}}}return t&&t.afterTrigger&&t.afterTrigger(r),this}};var xG=Qk;aa=xG;var yG=Math.log(2);function Rk(r,$,a,n,t,e){var o=n+"-"+t,v=r.length;if(e.hasOwnProperty(o))return e[o];if(1===$){var x=Math.round(Math.log((1<<v)-1&~t)/yG);return r[a][x]}for(var f=n|1<<a,i=a+1;n&1<<i;)i++;for(var u=0,I=0,Q=0;I<v;I++){var S=1<<I;S&t||(u+=(Q%2?-1:1)*r[a][I]*Rk(r,$-1,i,f,t|S,e),Q++)}return e[o]=u,u}function zG(r,$){var a=[[r[0],r[1],1,0,0,0,-$[0]*r[0],-$[0]*r[1]],[0,0,0,r[0],r[1],1,-$[1]*r[0],-$[1]*r[1]],[r[2],r[3],1,0,0,0,-$[2]*r[2],-$[2]*r[3]],[0,0,0,r[2],r[3],1,-$[3]*r[2],-$[3]*r[3]],[r[4],r[5],1,0,0,0,-$[4]*r[4],-$[4]*r[5]],[0,0,0,r[4],r[5],1,-$[5]*r[4],-$[5]*r[5]],[r[6],r[7],1,0,0,0,-$[6]*r[6],-$[6]*r[7]],[0,0,0,r[6],r[7],1,-$[7]*r[6],-$[7]*r[7]]],n={},t=Rk(a,8,0,0,0,n);if(0!==t){for(var e=[],o=0;o<8;o++)for(var v=0;v<8;v++)null==e[v]&&(e[v]=0),e[v]+=((o+v)%2?-1:1)*Rk(a,7,0===o?1:0,1<<o,1<<v,n)/t*$[o];return function(r,$,a){var n=$*e[6]+a*e[7]+1;r[0]=($*e[0]+a*e[1]+e[2])/n,r[1]=($*e[3]+a*e[4]+e[5])/n}}}var AG=zG;var _r=AG,as="___zrEVENTSAVED",Sk=[];function BG(r,o,$,a,t){return Tk(Sk,o,a,t,!0)&&Tk(r,$,Sk[0],Sk[1])}function Tk(r,o,$,a,t){if(o.getBoundingClientRect&&x.domSupported&&!bs(o)){var e=o[as]||(o[as]={}),d=DG(CG(o,e),e,t);if(d)return d(r,$,a),!0}return!1}function CG(r,o){var $=o.markers;if($)return $;$=o.markers=[];for(var a=["left","right"],t=["top","bottom"],e=0;e<4;e++){var d=document.createElement("div"),n=e%2,s=(e>>1)%2;d.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[n]+":0",t[s]+":0",a[1-n]+":auto",t[1-s]+":auto",""].join("!important;"),r.appendChild(d),$.push(d)}return $}function DG(r,o,$){for(var a=$?"invTrans":"trans",t=o[a],e=o.srcCoords,d=!0,n=[],s=[],i=0;i<4;i++){var v=r[i].getBoundingClientRect(),O=2*i,p=v.left,f=v.top;n.push(p,f),d=d&&e&&p===e[O]&&f===e[O+1],s.push(r[i].offsetLeft,r[i].offsetTop)}return d&&t?t:(o.srcCoords=n,o[a]=$?_r(s,n):_r(n,s))}function bs(r){return"CANVAS"===r.nodeName.toUpperCase()}var EG=BG;var FG=Tk;var GG=bs;var HG=GG,IG=FG,Uk="undefined"!=typeof window&&!!window.addEventListener,JG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Vk=[];function Wk(e,$,t,r){return t=t||{},r||!x.canvasSupported?cs(e,$,t):x.browser.firefox&&null!=$.layerX&&$.layerX!==$.offsetX?(t.zrX=$.layerX,t.zrY=$.layerY):null!=$.offsetX?(t.zrX=$.offsetX,t.zrY=$.offsetY):cs(e,$,t),t}function cs(e,$,t){if(x.domSupported&&e.getBoundingClientRect){var r=$.clientX,n=$.clientY;if(HG(e)){var o=e.getBoundingClientRect();return t.zrX=r-o.left,void(t.zrY=n-o.top)}if(IG(Vk,e,r,n))return t.zrX=Vk[0],void(t.zrY=Vk[1])}t.zrX=t.zrY=0}function ds(e){return e||window.event}function KG(e,$,t){if(null!=($=ds($)).zrX)return $;var r=$.type;if(r&&r.indexOf("touch")>=0){var n="touchend"!==r?$.targetTouches[0]:$.changedTouches[0];n&&Wk(e,n,$,t)}else Wk(e,$,$,t),$.zrDelta=$.wheelDelta?$.wheelDelta/120:-($.detail||0)/3;var o=$.button;return null==$.which&&void 0!==o&&JG.test($.type)&&($.which=1&o?1:2&o?3:4&o?2:0),$}function LG(e,$,t,r){Uk?e.addEventListener($,t,r):e.attachEvent("on"+$,t)}function MG(e,$,t,r){Uk?e.removeEventListener($,t,r):e.detachEvent("on"+$,t)}var NG=Uk?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function OG(e){return 2===e.which||3===e.which}var PG=Wk;var QG=ds;var es=KG;var Xk=LG;var RG=MG;var Sc=NG;var fs=OG;var SG={},Yk=function(){this._track=[]};function gs(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}function TG(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}Yk.prototype={constructor:Yk,recognize:function(r,t,e){return this._doTrack(r,t,e),this._recognize(r)},clear:function(){return this._track.length=0,this},_doTrack:function(r,t,e){var $=r.touches;if($){for(var n={points:[],touches:[],target:t,event:r},i=0,a=$.length;i<a;i++){var c=$[i],o=PG(e,c,{});n.points.push([o.zrX,o.zrY]),n.touches.push(c)}this._track.push(n)}},_recognize:function(r){for(var t in Zk)if(Zk.hasOwnProperty(t)){var e=Zk[t](this._track,r);if(e)return e}}};var Zk={pinch:function(r,t){var e=r.length;if(e){var $=(r[e-1]||{}).points,n=(r[e-2]||{}).points||$;if(n&&n.length>1&&$&&$.length>1){var i=gs($)/gs(n);!isFinite(i)&&(i=1),t.pinchScale=i;var a=TG($);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:r[0].target,event:t}}}}},UG=Yk;SG=UG;var VG={},hs="silent";function WG(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:XG}}function XG(){Sc(this.event)}function is(){}is.prototype.dispose=function(){};var YG=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Zd=function(t,e,r,i){aa.call(this),this.storage=t,this.painter=e,this.painterRoot=i,r=r||new is,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Yr.call(this),this.setHandlerProxy(r)};function ZG(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var i,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,r))return!1;o.silent&&(i=!0),o=o.parent}return!i||hs}return!1}function js(t,e,r){var i=t.painter;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}Zd.prototype={constructor:Zd,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(k(YG,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,r=t.zrY,i=js(this,e,r),o=this._hovered,a=o.target;a&&!a.__zr&&(a=(o=this.findHover(o.x,o.y)).target);var n=this._hovered=i?{x:e,y:r}:this.findHover(e,r),s=n.target,$=this.proxy;$.setCursor&&$.setCursor(s?s.cursor:"default"),a&&s!==a&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(n,"mousemove",t),s&&s!==a&&this.dispatchToElement(n,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,r=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!r&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var r=this[t];r&&r.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,r){var i=(t=t||{}).target;if(!i||!i.silent){for(var o="on"+e,a=WG(e,t,r);i&&(i[o]&&(a.cancelBubble=i[o].call(i,a)),i.trigger(e,a),i=i.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,r){for(var i=this.storage.getDisplayList(),o={x:t,y:e},a=i.length-1;a>=0;a--){var n;if(i[a]!==r&&!i[a].ignore&&(n=ZG(i[a],t,e))&&(!o.topTarget&&(o.topTarget=i[a]),n!==hs)){o.target=i[a];break}}return o},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new SG);var r=this._gestureMgr;"start"===e&&r.clear();var i=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&r.clear(),i){var o=i.type;t.gestureEvent=o,this.dispatchToElement({target:i.target},o,i.event)}}},k(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Zd.prototype[t]=function(e){var r,i,o=e.zrX,a=e.zrY,n=js(this,o,a);if("mouseup"===t&&n||(i=(r=this.findHover(o,a)).target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Qb(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,t,e)}}),l(Zd,aa),l(Zd,Yr);var $G=Zd;VG=$G;var vb={},_G="undefined"==typeof Float32Array?Array:Float32Array;function ks(){var t=new _G(6);return ls(t),t}function ls(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function ms(t,$){return t[0]=$[0],t[1]=$[1],t[2]=$[2],t[3]=$[3],t[4]=$[4],t[5]=$[5],t}function aH(t,$,r){var e=$[0]*r[0]+$[2]*r[1],a=$[1]*r[0]+$[3]*r[1],o=$[0]*r[2]+$[2]*r[3],n=$[1]*r[2]+$[3]*r[3],L=$[0]*r[4]+$[2]*r[5]+$[4],O=$[1]*r[4]+$[3]*r[5]+$[5];return t[0]=e,t[1]=a,t[2]=o,t[3]=n,t[4]=L,t[5]=O,t}function bH(t,$,r){return t[0]=$[0],t[1]=$[1],t[2]=$[2],t[3]=$[3],t[4]=$[4]+r[0],t[5]=$[5]+r[1],t}function cH(t,$,r){var e=$[0],a=$[2],o=$[4],n=$[1],L=$[3],O=$[5],v=Math.sin(r),p=Math.cos(r);return t[0]=e*p+n*v,t[1]=-e*v+n*p,t[2]=a*p+L*v,t[3]=-a*v+p*L,t[4]=p*o+v*O,t[5]=p*O-v*o,t}function dH(t,$,r){var e=r[0],a=r[1];return t[0]=$[0]*e,t[1]=$[1]*a,t[2]=$[2]*e,t[3]=$[3]*a,t[4]=$[4]*e,t[5]=$[5]*a,t}function eH(t,$){var r=$[0],e=$[2],a=$[4],o=$[1],n=$[3],L=$[5],O=r*n-o*e;return O?(O=1/O,t[0]=n*O,t[1]=-o*O,t[2]=-e*O,t[3]=r*O,t[4]=(e*L-n*a)*O,t[5]=(o*a-r*L)*O,t):null}function fH(t){var $=ks();return ms($,t),$}var Ha=ks;vb.create=Ha;var yf=ls;vb.identity=yf;var oh=ms;vb.copy=oh;var mc=aH;vb.mul=mc;var fb=bH;vb.translate=fb;var Rb=cH;vb.rotate=Rb;var zf=dH;vb.scale=zf;var ph=eH;vb.invert=ph;var ns=fH;vb.clone=ns;var nc={},$k=yf,os=5e-5;function Tc(r){return r>os||r<-os}var qh=function(r){(r=r||{}).position||(this.position=[0,0]),null==r.rotation&&(this.rotation=0),r.scale||(this.scale=[1,1]),this.origin=this.origin||null},gb=qh.prototype;gb.transform=null,gb.needLocalTransform=function(){return Tc(this.rotation)||Tc(this.position[0])||Tc(this.position[1])||Tc(this.scale[0]-1)||Tc(this.scale[1]-1)};var Uc=[];gb.updateTransform=function(){var r=this.parent,a=r&&r.transform,$=this.needLocalTransform(),o=this.transform;if($||a){o=o||Ha(),$?this.getLocalTransform(o):$k(o),a&&($?mc(o,r.transform,o):oh(o,r.transform)),this.transform=o;var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(Uc);var e=Uc[0]<0?-1:1,n=Uc[1]<0?-1:1,s=((Uc[0]-e)*t+e)/Uc[0]||0,i=((Uc[1]-n)*t+n)/Uc[1]||0;o[0]*=s,o[1]*=s,o[2]*=i,o[3]*=i}this.invTransform=this.invTransform||Ha(),ph(this.invTransform,o)}else o&&$k(o)},gb.getLocalTransform=function(r){return qh.getLocalTransform(this,r)},gb.setTransform=function(r){var a=this.transform,$=r.dpr||1;a?r.setTransform($*a[0],$*a[1],$*a[2],$*a[3],$*a[4],$*a[5]):r.setTransform($,0,0,$,0,0)},gb.restoreTransform=function(r){var a=r.dpr||1;r.setTransform(a,0,0,a,0,0)};var $d=[],_k=Ha();gb.setLocalTransform=function(r){if(r){var a=r[0]*r[0]+r[1]*r[1],$=r[2]*r[2]+r[3]*r[3],o=this.position,t=this.scale;Tc(a-1)&&(a=Math.sqrt(a)),Tc($-1)&&($=Math.sqrt($)),r[0]<0&&(a=-a),r[3]<0&&($=-$),o[0]=r[4],o[1]=r[5],t[0]=a,t[1]=$,this.rotation=Math.atan2(-r[1]/$,r[0]/a)}},gb.decomposeTransform=function(){if(this.transform){var r=this.parent,a=this.transform;r&&r.transform&&(mc($d,r.invTransform,a),a=$d);var $=this.origin;$&&($[0]||$[1])&&(_k[4]=$[0],_k[5]=$[1],mc($d,a,_k),$d[4]-=$[0],$d[5]-=$[1],a=$d),this.setLocalTransform(a)}},gb.getGlobalScale=function(r){var a=this.transform;return r=r||[],a?(r[0]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),r[1]=Math.sqrt(a[2]*a[2]+a[3]*a[3]),a[0]<0&&(r[0]=-r[0]),a[3]<0&&(r[1]=-r[1]),r):(r[0]=1,r[1]=1,r)},gb.transformCoordToLocal=function(r,a){var $=[r,a],o=this.invTransform;return o&&Ga($,$,o),$},gb.transformCoordToGlobal=function(r,a){var $=[r,a],o=this.transform;return o&&Ga($,$,o),$},qh.getLocalTransform=function(r,a){$k(a=a||[]);var $=r.origin,o=r.scale||[1,1],t=r.rotation||0,e=r.position||[0,0];return $&&(a[4]-=$[0],a[5]-=$[1]),zf(a,a,o),t&&Rb(a,a,t),$&&(a[4]+=$[0],a[5]+=$[1]),a[4]+=e[0],a[5]+=e[1],a};var gH=qh;nc=gH;var hH={},rh={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,u=.1;return 0===n?0:1===n?1:(!u||u<1?(u=1,t=.1):t=.4*Math.asin(1/u)/(2*Math.PI),-u*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,u=.1;return 0===n?0:1===n?1:(!u||u<1?(u=1,t=.1):t=.4*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,u=.1;return 0===n?0:1===n?1:(!u||u<1?(u=1,t=.1):t=.4*Math.asin(1/u)/(2*Math.PI),(n*=2)<1?u*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:u*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-rh.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*rh.bounceIn(2*n):.5*rh.bounceOut(2*n-1)+.5}},iH=rh;hH=iH;var jH={};function al(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}al.prototype={constructor:al,step:function(t,i){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=i;else{var e=(t-this._startTime-this._pausedTime)/this._life;if(!(e<0)){e=Math.min(e,1);var s=this.easing,a="string"==typeof s?hH[s]:s,n="function"==typeof a?a(e):e;return this.fire("frame",n),1===e?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var i=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-i+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,i){this[t="on"+t]&&this[t](this._target,i)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var kH=al;jH=kH;var ps={},qs=function(){this.head=null,this.tail=null,this._len=0},Af=qs.prototype;Af.insert=function(t){var i=new rs(t);return this.insertEntry(i),i},Af.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Af.remove=function(t){var i=t.prev,e=t.next;i?i.next=e:this.head=e,e?e.prev=i:this.tail=i,t.next=t.prev=null,this._len--},Af.len=function(){return this._len},Af.clear=function(){this.head=this.tail=null,this._len=0};var rs=function(t){this.value=t,this.next,this.prev},ss=function(t){this._list=new qs,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},bl=ss.prototype;bl.put=function(t,i){var e=this._list,r=this._map,n=null;if(null==r[t]){var $=e.len(),h=this._lastRemovedEntry;if($>=this._maxSize&&$>0){var a=e.head;e.remove(a),delete r[a.key],n=a.value,this._lastRemovedEntry=a}h?h.value=i:h=new rs(i),h.key=t,e.insertEntry(h),r[t]=h}return n},bl.get=function(t){var i=this._map[t],e=this._list;if(null!=i)return i!==e.tail&&(e.remove(i),e.insertEntry(i)),i.value},bl.clear=function(){this._list.clear(),this._map={}};var lH=ss;ps=lH;var hb={},ts={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ib(r){return(r=Math.round(r))<0?0:r>255?255:r}function mH(r){return(r=Math.round(r))<0?0:r>360?360:r}function Bf(r){return r<0?0:r>1?1:r}function cl(r){return r.length&&"%"===r.charAt(r.length-1)?ib(parseFloat(r)/100*255):ib(parseInt(r,10))}function _d(r){return r.length&&"%"===r.charAt(r.length-1)?Bf(parseFloat(r)/100):Bf(parseFloat(r))}function dl(r,$,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?r+($-r)*a*6:2*a<1?$:3*a<2?r+($-r)*(2/3-a)*6:r}function oc(r,$,a){return r+($-r)*a}function jb(r,$,a,e,t){return r[0]=$,r[1]=a,r[2]=e,r[3]=t,r}function el(r,$){return r[0]=$[0],r[1]=$[1],r[2]=$[2],r[3]=$[3],r}var us=new ps(20),fl=null;function ae(r,$){fl&&el(fl,$),fl=us.put(r,fl||$.slice())}function Vc(r,$){if(r){$=$||[];var a=us.get(r);if(a)return el($,a);var e,t=(r+="").replace(/ /g,"").toLowerCase();if(t in ts)return el($,ts[t]),ae(r,$),$;if("#"===t.charAt(0))return 4===t.length?(e=parseInt(t.substr(1),16))>=0&&e<=4095?(jb($,(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1),ae(r,$),$):void jb($,0,0,0,1):7===t.length?(e=parseInt(t.substr(1),16))>=0&&e<=16777215?(jb($,(16711680&e)>>16,(65280&e)>>8,255&e,1),ae(r,$),$):void jb($,0,0,0,1):void 0;var l=t.indexOf("("),o=t.indexOf(")");if(-1!==l&&o+1===t.length){var s=t.substr(0,l),n=t.substr(l+1,o-(l+1)).split(","),v=1;switch(s){case"rgba":if(4!==n.length)return void jb($,0,0,0,1);v=_d(n.pop());case"rgb":return 3!==n.length?void jb($,0,0,0,1):(jb($,cl(n[0]),cl(n[1]),cl(n[2]),v),ae(r,$),$);case"hsla":return 4!==n.length?void jb($,0,0,0,1):(n[3]=_d(n[3]),gl(n,$),ae(r,$),$);case"hsl":return 3!==n.length?void jb($,0,0,0,1):(gl(n,$),ae(r,$),$);default:return;}}jb($,0,0,0,1)}}function gl(r,$){var a=(parseFloat(r[0])%360+360)%360/360,e=_d(r[1]),t=_d(r[2]),l=t<=.5?t*(e+1):t+e-t*e,o=2*t-l;return jb($=$||[],ib(255*dl(o,l,a+1/3)),ib(255*dl(o,l,a)),ib(255*dl(o,l,a-1/3)),1),4===r.length&&($[3]=r[3]),$}function nH(r){if(r){var $,a,e=r[0]/255,t=r[1]/255,l=r[2]/255,o=Math.min(e,t,l),s=Math.max(e,t,l),n=s-o,v=(s+o)/2;if(0===n)$=0,a=0;else{a=v<.5?n/(s+o):n/(2-s-o);var i=((s-e)/6+n/2)/n,S=((s-t)/6+n/2)/n,p=((s-l)/6+n/2)/n;e===s?$=p-S:t===s?$=1/3+i-p:l===s&&($=2/3+S-i),$<0&&($+=1),$>1&&($-=1)}var D=[360*$,a,v];return null!=r[3]&&D.push(r[3]),D}}function oH(r,$){var a=Vc(r);if(a){for(var e=0;e<3;e++)a[e]=$<0?a[e]*(1-$)|0:(255-a[e])*$+a[e]|0,a[e]>255?a[e]=255:r[e]<0&&(a[e]=0);return Cf(a,4===a.length?"rgba":"rgb")}}function pH(r){var $=Vc(r);if($)return((1<<24)+($[0]<<16)+($[1]<<8)+ +$[2]).toString(16).slice(1)}function vs(r,$,a){if($&&$.length&&r>=0&&r<=1){a=a||[];var e=r*($.length-1),t=Math.floor(e),l=Math.ceil(e),o=$[t],s=$[l],n=e-t;return a[0]=ib(oc(o[0],s[0],n)),a[1]=ib(oc(o[1],s[1],n)),a[2]=ib(oc(o[2],s[2],n)),a[3]=Bf(oc(o[3],s[3],n)),a}}var qH=vs;function ws(r,$,a){if($&&$.length&&r>=0&&r<=1){var e=r*($.length-1),t=Math.floor(e),l=Math.ceil(e),o=Vc($[t]),s=Vc($[l]),n=e-t,v=Cf([ib(oc(o[0],s[0],n)),ib(oc(o[1],s[1],n)),ib(oc(o[2],s[2],n)),Bf(oc(o[3],s[3],n))],"rgba");return a?{color:v,leftIndex:t,rightIndex:l,value:e}:v}}var rH=ws;function sH(r,$,a,e){if(r=Vc(r))return r=nH(r),null!=$&&(r[0]=mH($)),null!=a&&(r[1]=_d(a)),null!=e&&(r[2]=_d(e)),Cf(gl(r),"rgba")}function tH(r,$){if((r=Vc(r))&&null!=$)return r[3]=Bf($),Cf(r,"rgba")}function Cf(r,$){if(r&&r.length){var a=r[0]+","+r[1]+","+r[2];return"rgba"!==$&&"hsva"!==$&&"hsla"!==$||(a+=","+r[3]),$+"("+a+")"}}var Wc=Vc;hb.parse=Wc;var xs=oH;hb.lift=xs;var hl=pH;hb.toHex=hl;var sh=vs;hb.fastLerp=sh;var uH=qH;hb.fastMapToColor=uH;var vH=ws;hb.lerp=vH;var wH=rH;hb.mapToColor=wH;var be=sH;hb.modifyHSL=be;var th=tH;hb.modifyAlpha=th;var Df=Cf;hb.stringify=Df;var ys={},uh=Rd,il=Array.prototype.slice;function xH(r,t){return r[t]}function yH(r,t,a){r[t]=a}function jl(r,t,a){return(t-r)*a+r}function zs(r,t,a){return a>.5?t:r}function As(r,t,a,e,i){var $=r.length;if(1===i)for(var n=0;n<$;n++)e[n]=jl(r[n],t[n],a);else{var l=$&&r[0].length;for(n=0;n<$;n++)for(var o=0;o<l;o++)e[n][o]=jl(r[n][o],t[n][o],a)}}function Bs(r,t,a){var e=r.length,i=t.length;if(e!==i)if(e>i)r.length=i;else for(var $=e;$<i;$++)r.push(1===a?t[$]:il.call(t[$]));var n=r[0]&&r[0].length;for($=0;$<r.length;$++)if(1===a)isNaN(r[$])&&(r[$]=t[$]);else for(var l=0;l<n;l++)isNaN(r[$][l])&&(r[$][l]=t[$][l])}function zH(r,t,a){if(r===t)return!0;var e=r.length;if(e!==t.length)return!1;if(1===a){for(var i=0;i<e;i++)if(r[i]!==t[i])return!1}else{var $=r[0].length;for(i=0;i<e;i++)for(var n=0;n<$;n++)if(r[i][n]!==t[i][n])return!1}return!0}function Cs(r,t,a,e,i,$,n,l,o){var s=r.length;if(1===o)for(var v=0;v<s;v++)l[v]=kl(r[v],t[v],a[v],e[v],i,$,n);else{var f=r[0].length;for(v=0;v<s;v++)for(var u=0;u<f;u++)l[v][u]=kl(r[v][u],t[v][u],a[v][u],e[v][u],i,$,n)}}function kl(r,t,a,e,i,$,n){var l=.5*(a-r),o=.5*(e-t);return(2*(t-a)+l+o)*n+(-3*(t-a)-2*l-o)*$+l*i+t}function AH(r){if(uh(r)){var t=r.length;if(uh(r[0])){for(var a=[],e=0;e<t;e++)a.push(il.call(r[e]));return a}return il.call(r)}return r}function Ds(r){return r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.floor(r[2]),"rgba("+r.join(",")+")"}function BH(r){var t=r[r.length-1].value;return uh(t&&t[0])?2:1}function CH(r,t,a,e,i,$){var n=r._getter,l=r._setter,o="spline"===t,s=e.length;if(s){var v,f=e[0].value,u=uh(f),h=!1,A=!1,c=u?BH(e):0;e.sort(function(r,t){return r.time-t.time}),v=e[s-1].time;for(var N=[],p=[],I=e[0].value,m=!0,_=0;_<s;_++){N.push(e[_].time/v);var g=e[_].value;if(u&&zH(g,I,c)||!u&&g===I||(m=!1),I=g,"string"==typeof g){var y=Wc(g);y?(g=y,h=!0):A=!0}p.push(g)}if($||!m){var d=p[s-1];for(_=0;_<s-1;_++)u?Bs(p[_],d,c):!isNaN(p[_])||isNaN(d)||A||h||(p[_]=d);u&&Bs(n(r._target,i),d,c);var L,k,S,C,b,R=0,M=0;if(h)var w=[0,0,0,0];var q=new jH({target:r._target,life:v,loop:r._loop,delay:r._delay,onframe:function(r,t){var a;if(t<0)a=0;else if(t<M){for(a=Math.min(R+1,s-1);a>=0&&!(N[a]<=t);a--);a=Math.min(a,s-2)}else{for(a=R;a<s&&!(N[a]>t);a++);a=Math.min(a-1,s-2)}R=a,M=t;var e=N[a+1]-N[a];if(0!==e)if(L=(t-N[a])/e,o){if(S=p[a],k=p[0===a?a:a-1],C=p[a>s-2?s-1:a+1],b=p[a>s-3?s-1:a+2],u)Cs(k,S,C,b,L,L*L,L*L*L,n(r,i),c);else{if(h)$=Cs(k,S,C,b,L,L*L,L*L*L,w,1),$=Ds(w);else{if(A)return zs(S,C,L);$=kl(k,S,C,b,L,L*L,L*L*L)}l(r,i,$)}}else if(u)As(p[a],p[a+1],L,n(r,i),c);else{var $;if(h)As(p[a],p[a+1],L,w,1),$=Ds(w);else{if(A)return zs(p[a],p[a+1],L);$=jl(p[a],p[a+1],L)}l(r,i,$)}},ondestroy:a});return t&&"spline"!==t&&(q.easing=t),q}}}var Es=function(r,t,a,e){this._tracks={},this._target=r,this._loop=t||!1,this._getter=a||xH,this._setter=e||yH,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Es.prototype={when:function(r,t){var a=this._tracks;for(var e in t)if(t.hasOwnProperty(e)){if(!a[e]){a[e]=[];var i=this._getter(this._target,e);if(null==i)continue;0!==r&&a[e].push({time:0,value:AH(i)})}a[e].push({time:r,value:t[e]})}return this},during:function(r){return this._onframeList.push(r),this},pause:function(){for(var r=0;r<this._clipList.length;r++)this._clipList[r].pause();this._paused=!0},resume:function(){for(var r=0;r<this._clipList.length;r++)this._clipList[r].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var r=this._doneList,t=r.length,a=0;a<t;a++)r[a].call(this)},start:function(r,t){var a,e=this,i=0,$=function(){--i||e._doneCallback()};for(var n in this._tracks)if(this._tracks.hasOwnProperty(n)){var l=CH(this,r,$,this._tracks[n],n,t);l&&(this._clipList.push(l),i++,this.animation&&this.animation.addClip(l),a=l)}if(a){var o=a.onframe;a.onframe=function(r,t){o(r,t);for(var a=0;a<e._onframeList.length;a++)e._onframeList[a](r,t)}}return i||this._doneCallback(),this},stop:function(r){for(var t=this._clipList,a=this.animation,e=0;e<t.length;e++){var i=t[e];r&&i.onframe(this._target,1),a&&a.removeClip(i)}t.length=0},delay:function(r){return this._delay=r,this},done:function(r){return r&&this._doneList.push(r),this},getClips:function(){return this._clipList}};var DH=Es;ys=DH;var EH=1;"undefined"!=typeof window&&(EH=Math.max(window.devicePixelRatio||1,1));var FH=0,GH=EH,HH=FH;var ll=GH;var pc={},IH=HH,JH=function(){};1===IH&&(JH=console.error);var KH=JH;pc=KH;var Fs={},LH=M,ml=fa,MH=y,NH=Rd,OH=C,nl=function(){this.animators=[]};function Gs($,a,r,t,i,n,c,e){LH(t)?(n=i,i=t,t=0):ml(i)?(n=i,i="linear",t=0):ml(t)?(n=t,t=0):ml(r)?(n=r,r=500):r||(r=500),$.stopAnimation(),Hs($,"",$,a,r,t,e);var o=$.animators.slice(),g=o.length;function v(){--g||n&&n()}g||n&&n();for(var x=0;x<o.length;x++)o[x].done(v).start(i,c)}function Hs($,a,r,t,i,n,c){var e={},o=0;for(var g in t)t.hasOwnProperty(g)&&(null!=r[g]?MH(t[g])&&!NH(t[g])?Hs($,a?a+"."+g:g,r[g],t[g],i,n,c):(c?(e[g]=r[g],Is($,a,g,t[g])):e[g]=t[g],o++):null==t[g]||c||Is($,a,g,t[g]));o>0&&$.animate(a,!1).when(null==i?500:i,e).delay(n||0)}function Is($,a,r,t){if(a){var i={};i[a]={},i[a][r]=t,$.attr(i)}else $.attr(r,t)}nl.prototype={constructor:nl,animate:function($,a){var r,t=!1,i=this,n=this.__zr;if($){var c=$.split("."),e=i;t="shape"===c[0];for(var o=0,g=c.length;o<g;o++)e&&(e=e[c[o]]);e&&(r=e)}else r=i;if(r){var v=i.animators,x=new ys(r,a);return x.during(function($){i.dirty(t)}).done(function(){v.splice(OH(v,x),1)}),v.push(x),n&&n.animation.addAnimator(x),x}pc("Property \""+$+"\" is not existed in element "+i.id)},stopAnimation:function($){for(var a=this.animators,r=a.length,t=0;t<r;t++)a[t].stop($);return a.length=0,this},animateTo:function($,a,r,t,i,n){Gs(this,$,a,r,t,i,n)},animateFrom:function($,a,r,t,i,n){Gs(this,$,a,r,t,i,n,!0)}};var PH=nl;Fs=PH;var Ef={},Ff=function(r){nc.call(this,r),aa.call(this,r),Fs.call(this,r),this.id=r.id||Dr()};Ff.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(r,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":r=0;}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=r,i[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(r,t){},attrKV:function(r,t){if("position"===r||"scale"===r||"origin"===r){if(t){var i=this[r];i||(i=this[r]=[]),i[0]=t[0],i[1]=t[1]}}else this[r]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(r,t){if("string"==typeof r)this.attrKV(r,t);else if(y(r))for(var i in r)r.hasOwnProperty(i)&&this.attrKV(i,r[i]);return this.dirty(!1),this},setClipPath:function(r){var t=this.__zr;t&&r.addSelfToZr(t),this.clipPath&&this.clipPath!==r&&this.removeClipPath(),this.clipPath=r,r.__zr=t,r.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var r=this.clipPath;r&&(r.__zr&&r.removeSelfFromZr(r.__zr),r.__zr=null,r.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(r){this.__zr=r;var t=this.animators;if(t)for(var i=0;i<t.length;i++)r.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(r)},removeSelfFromZr:function(r){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)r.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(r)}},l(Ff,Fs),l(Ff,nc),l(Ff,aa);var QH=Ff;Ef=QH;var I={},vh=Ga,wh=Math.min,xh=Math.max;function qc(t,i,h,$){h<0&&(t+=h,h=-h),$<0&&(i+=$,$=-$),this.x=t,this.y=i,this.width=h,this.height=$}qc.prototype={constructor:qc,union:function(t){var i=wh(t.x,this.x),h=wh(t.y,this.y);this.width=xh(t.x+t.width,this.x+this.width)-i,this.height=xh(t.y+t.height,this.y+this.height)-h,this.x=i,this.y=h},applyTransform:function(){var t=[],i=[],h=[],$=[];return function(s){if(s){t[0]=h[0]=this.x,t[1]=$[1]=this.y,i[0]=$[0]=this.x+this.width,i[1]=h[1]=this.y+this.height,vh(t,t,s),vh(i,i,s),vh(h,h,s),vh($,$,s),this.x=wh(t[0],i[0],h[0],$[0]),this.y=wh(t[1],i[1],h[1],$[1]);var r=xh(t[0],i[0],h[0],$[0]),a=xh(t[1],i[1],h[1],$[1]);this.width=r-this.x,this.height=a-this.y}}}(),calculateTransform:function(t){var i=this,h=t.width/i.width,$=t.height/i.height,s=Ha();return fb(s,s,[-i.x,-i.y]),zf(s,s,[h,$]),fb(s,s,[t.x,t.y]),s},intersect:function(t){if(!t)return!1;t instanceof qc||(t=qc.create(t));var i=this,h=i.x,$=i.x+i.width,s=i.y,r=i.y+i.height,a=t.x,n=t.x+t.width,e=t.y,v=t.y+t.height;return!($<a||n<h||r<e||v<s)},contain:function(t,i){return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},clone:function(){return new qc(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},qc.create=function(t){return new qc(t.x,t.y,t.width,t.height)};var RH=qc;I=RH;var q={},Sb=function(r){for(var e in r=r||{},Ef.call(this,r),r)r.hasOwnProperty(e)&&(this[e]=r[e]);this._children=[],this.__storage=null,this.__dirty=!0};Sb.prototype={constructor:Sb,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(r){return this._children[r]},childOfName:function(r){for(var e=this._children,t=0;t<e.length;t++)if(e[t].name===r)return e[t]},childCount:function(){return this._children.length},add:function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},addBefore:function(r,e){if(r&&r!==this&&r.parent!==this&&e&&e.parent===this){var t=this._children,n=t.indexOf(e);n>=0&&(t.splice(n,0,r),this._doAdd(r))}return this},_doAdd:function(r){r.parent&&r.parent.remove(r),r.parent=this;var e=this.__storage,t=this.__zr;e&&e!==r.__storage&&(e.addToStorage(r),r instanceof Sb&&r.addChildrenToStorage(e)),t&&t.refresh()},remove:function(r){var e=this.__zr,t=this.__storage,n=this._children,i=C(n,r);return i<0?this:(n.splice(i,1),r.parent=null,t&&(t.delFromStorage(r),r instanceof Sb&&r.delChildrenFromStorage(t)),e&&e.refresh(),this)},removeAll:function(){var r,e,t=this._children,n=this.__storage;for(e=0;e<t.length;e++)r=t[e],n&&(n.delFromStorage(r),r instanceof Sb&&r.delChildrenFromStorage(n)),r.parent=null;return t.length=0,this},eachChild:function(r,e){for(var t=this._children,n=0;n<t.length;n++){var i=t[n];r.call(e,i,n)}return this},traverse:function(r,e){for(var t=0;t<this._children.length;t++){var n=this._children[t];r.call(e,n),"group"===n.type&&n.traverse(r,e)}return this},addChildrenToStorage:function(r){for(var e=0;e<this._children.length;e++){var t=this._children[e];r.addToStorage(t),t instanceof Sb&&t.addChildrenToStorage(r)}},delChildrenFromStorage:function(r){for(var e=0;e<this._children.length;e++){var t=this._children[e];r.delFromStorage(t),t instanceof Sb&&t.delChildrenFromStorage(r)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(r){for(var e=null,t=new I(0,0,0,0),n=r||this._children,i=[],o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var c=a.getBoundingRect(),h=a.getLocalTransform(i);h?(t.copy(c),t.applyTransform(h),(e=e||t.clone()).union(t)):(e=e||c.clone()).union(c)}}return e||t}},n(Sb,Ef);var SH=Sb;q=SH;var yh={},Js=32,Gf=7;function TH(r){for(var $=0;r>=Js;)$|=1&r,r>>=1;return r+$}function Ks(r,$,a,e){var f=$+1;if(f===a)return 1;if(e(r[f++],r[$])<0){for(;f<a&&e(r[f],r[f-1])<0;)f++;UH(r,$,f)}else for(;f<a&&e(r[f],r[f-1])>=0;)f++;return f-$}function UH(r,$,a){for(a--;$<a;){var e=r[$];r[$++]=r[a],r[a--]=e}}function Ls(r,$,a,e,f){for(e===$&&e++;e<a;e++){for(var i,o=r[e],n=$,v=e;n<v;)f(o,r[i=n+v>>>1])<0?v=i:n=i+1;var g=e-n;switch(g){case 3:r[n+3]=r[n+2];case 2:r[n+2]=r[n+1];case 1:r[n+1]=r[n];break;default:for(;g>0;)r[n+g]=r[n+g-1],g--;}r[n]=o}}function ol(r,$,a,e,f,i){var o=0,n=0,v=1;if(i(r,$[a+f])>0){for(n=e-f;v<n&&i(r,$[a+f+v])>0;)o=v,(v=1+(v<<1))<=0&&(v=n);v>n&&(v=n),o+=f,v+=f}else{for(n=f+1;v<n&&i(r,$[a+f-v])<=0;)o=v,(v=1+(v<<1))<=0&&(v=n);v>n&&(v=n);var g=o;o=f-v,v=f-g}for(o++;o<v;){var t=o+(v-o>>>1);i(r,$[a+t])>0?o=t+1:v=t}return v}function pl(r,$,a,e,f,i){var o=0,n=0,v=1;if(i(r,$[a+f])<0){for(n=f+1;v<n&&i(r,$[a+f-v])<0;)o=v,(v=1+(v<<1))<=0&&(v=n);v>n&&(v=n);var g=o;o=f-v,v=f-g}else{for(n=e-f;v<n&&i(r,$[a+f+v])>=0;)o=v,(v=1+(v<<1))<=0&&(v=n);v>n&&(v=n),o+=f,v+=f}for(o++;o<v;){var t=o+(v-o>>>1);i(r,$[a+t])<0?v=t:o=t+1}return v}function VH(r,$){var a,e,f,i=Gf,o=0;a=r.length;var n=[];function v(a){var v=e[a],g=f[a],t=e[a+1],T=f[a+1];f[a]=g+T,a===o-3&&(e[a+1]=e[a+2],f[a+1]=f[a+2]),o--;var u=pl(r[t],r,v,g,0,$);v+=u,0!==(g-=u)&&0!==(T=ol(r[v+g-1],r,t,T,T-1,$))&&(g<=T?function(a,e,f,o){var v=0;for(v=0;v<e;v++)n[v]=r[a+v];var g=0,t=f,T=a;if(r[T++]=r[t++],0==--o){for(v=0;v<e;v++)r[T+v]=n[g+v];return}if(1===e){for(v=0;v<o;v++)r[T+v]=r[t+v];return void(r[T+o]=n[g])}var u,j,s,Y=i;for(;;){u=0,j=0,s=!1;do{if($(r[t],n[g])<0){if(r[T++]=r[t++],j++,u=0,0==--o){s=!0;break}}else if(r[T++]=n[g++],u++,j=0,1==--e){s=!0;break}}while((u|j)<Y);if(s)break;do{if(0!==(u=pl(r[t],n,g,e,0,$))){for(v=0;v<u;v++)r[T+v]=n[g+v];if(T+=u,g+=u,(e-=u)<=1){s=!0;break}}if(r[T++]=r[t++],0==--o){s=!0;break}if(0!==(j=ol(n[g],r,t,o,0,$))){for(v=0;v<j;v++)r[T+v]=r[t+v];if(T+=j,t+=j,0===(o-=j)){s=!0;break}}if(r[T++]=n[g++],1==--e){s=!0;break}Y--}while(u>=Gf||j>=Gf);if(s)break;Y<0&&(Y=0),Y+=2}if((i=Y)<1&&(i=1),1===e){for(v=0;v<o;v++)r[T+v]=r[t+v];r[T+o]=n[g]}else{if(0===e)throw new Error;for(v=0;v<e;v++)r[T+v]=n[g+v]}}(v,g,t,T):function(a,e,f,o){var v=0;for(v=0;v<o;v++)n[v]=r[f+v];var g=a+e-1,t=o-1,T=f+o-1,u=0,j=0;if(r[T--]=r[g--],0==--e){for(u=T-(o-1),v=0;v<o;v++)r[u+v]=n[v];return}if(1===o){for(j=(T-=e)+1,u=(g-=e)+1,v=e-1;v>=0;v--)r[j+v]=r[u+v];return void(r[T]=n[t])}var s=i;for(;;){var Y=0,l=0,L=!1;do{if($(n[t],r[g])<0){if(r[T--]=r[g--],Y++,l=0,0==--e){L=!0;break}}else if(r[T--]=n[t--],l++,Y=0,1==--o){L=!0;break}}while((Y|l)<s);if(L)break;do{if(0!==(Y=e-pl(n[t],r,a,e,e-1,$))){for(e-=Y,j=(T-=Y)+1,u=(g-=Y)+1,v=Y-1;v>=0;v--)r[j+v]=r[u+v];if(0===e){L=!0;break}}if(r[T--]=n[t--],1==--o){L=!0;break}if(0!==(l=o-ol(r[g],n,0,o,o-1,$))){for(o-=l,j=(T-=l)+1,u=(t-=l)+1,v=0;v<l;v++)r[j+v]=n[u+v];if(o<=1){L=!0;break}}if(r[T--]=r[g--],0==--e){L=!0;break}s--}while(Y>=Gf||l>=Gf);if(L)break;s<0&&(s=0),s+=2}(i=s)<1&&(i=1);if(1===o){for(j=(T-=e)+1,u=(g-=e)+1,v=e-1;v>=0;v--)r[j+v]=r[u+v];r[T]=n[t]}else{if(0===o)throw new Error;for(u=T-(o-1),v=0;v<o;v++)r[u+v]=n[v]}}(v,g,t,T))}e=[],f=[],this.mergeRuns=function(){for(;o>1;){var r=o-2;if(r>=1&&f[r-1]<=f[r]+f[r+1]||r>=2&&f[r-2]<=f[r]+f[r-1])f[r-1]<f[r+1]&&r--;else if(f[r]>f[r+1])break;v(r)}},this.forceMergeRuns=function(){for(;o>1;){var r=o-2;r>0&&f[r-1]<f[r+1]&&r--,v(r)}},this.pushRun=function(r,$){e[o]=r,f[o]=$,o+=1}}function WH(r,$,a,e){a||(a=0),e||(e=r.length);var f=e-a;if(!(f<2)){var i=0;if(f<Js)Ls(r,a,e,a+(i=Ks(r,a,e,$)),$);else{var o=new VH(r,$),n=TH(f);do{if((i=Ks(r,a,e,$))<n){var v=f;v>n&&(v=n),Ls(r,a,a+v,a+i,$),i=v}o.pushRun(a,i),o.mergeRuns(),f-=i,a+=i}while(0!==f);o.forceMergeRuns()}}}yh=WH;var XH={};function Ms(t,r){return t.zlevel===r.zlevel?t.z===r.z?t.z2-r.z2:t.z-r.z:t.zlevel-r.zlevel}var ql=function(){this._roots=[],this._displayList=[],this._displayListLen=0};ql.prototype={constructor:ql,traverse:function(t,r){for(var e=0;e<this._roots.length;e++)this._roots[e].traverse(t,r)},getDisplayList:function(t,r){return r=r||!1,t&&this.updateDisplayList(r),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var r=this._roots,e=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,t);e.length=this._displayListLen,x.canvasSupported&&yh(e,Ms)},_updateAndAddDisplayable:function(t,r,e){if(!t.ignore||e){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){r=r?r.slice():[];for(var a=i,s=t;a;)a.parent=s,a.updateTransform(),r.push(a),s=a,a=a.clipPath}if(t.isGroup){for(var o=t._children,n=0;n<o.length;n++){var l=o[n];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,r,e)}t.__dirty=!1}else t.__clipPaths=r,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof q&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var r=0;r<this._roots.length;r++){var e=this._roots[r];e instanceof q&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){r=0;for(var i=t.length;r<i;r++)this.delRoot(t[r])}else{var a=C(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof q&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Ms};var YH=ql;XH=YH;var rl={},ZH={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function $H(t,o,e){return ZH.hasOwnProperty(o)?e*t.dpr:e}rl=$H;var _H={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},aI=9,sl=_H;var Ns=aI;var zh={},Os=sl,Ah=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Hf=function(t){this.extendFrom(t,!1)};function bI(t,e,i){var r=null==e.x?0:e.x,l=null==e.x2?1:e.x2,a=null==e.y?0:e.y,n=null==e.y2?0:e.y2;return e.global||(r=r*i.width+i.x,l=l*i.width+i.x,a=a*i.height+i.y,n=n*i.height+i.y),r=isNaN(r)?0:r,l=isNaN(l)?1:l,a=isNaN(a)?0:a,n=isNaN(n)?0:n,t.createLinearGradient(r,a,l,n)}function cI(t,e,i){var r=i.width,l=i.height,a=Math.min(r,l),n=null==e.x?.5:e.x,o=null==e.y?.5:e.y,$=null==e.r?.5:e.r;return e.global||(n=n*r+i.x,o=o*l+i.y,$*=a),t.createRadialGradient(n,o,0,n,o,$)}Hf.prototype={constructor:Hf,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){var r=i&&i.style,l=!r||t.__attrCachedBy!==Os.STYLE_BIND;t.__attrCachedBy=Os.STYLE_BIND;for(var a=0;a<Ah.length;a++){var n=Ah[a],o=n[0];(l||this[o]!==r[o])&&(t[o]=rl(t,o,this[o]||n[1]))}if((l||this.fill!==r.fill)&&(t.fillStyle=this.fill),(l||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(l||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(l||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var $=this.lineWidth;t.lineWidth=$/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var r=("radial"===e.type?cI:bI)(t,e,i),l=e.colorStops,a=0;a<l.length;a++)r.addColorStop(l[a].offset,l[a].color);return r}};for(var tl=Hf.prototype,ul=0;ul<Ah.length;ul++){var vl=Ah[ul];vl[0]in tl||(tl[vl[0]]=vl[1])}Hf.getGradient=tl.getGradient;var dI=Hf;zh=dI;var Ps={},Qs=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};Qs.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var eI=Qs;Ps=eI;var wl={},fI=ll;function gI(){return!1}function Rs(t,e,r){var a=vf(),i=e.getWidth(),$=e.getHeight(),s=a.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=i+"px",s.height=$+"px",a.setAttribute("data-zr-dom-id",t)),a.width=i*r,a.height=$*r,a}var xl=function(t,e,r){var a;r=r||fI,"string"==typeof t?a=Rs(t,e,r):y(t)&&(t=(a=t).id),this.id=t,this.dom=a;var i=a.style;i&&(a.onselectstart=gI,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};xl.prototype={constructor:xl,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Rs("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var r=this.dpr,a=this.dom,i=a.style,$=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),a.width=t*r,a.height=e*r,$&&($.width=t*r,$.height=e*r,1!==r&&this.ctxBack.scale(r,r))},clear:function(t,e){var r,a=this.dom,i=this.ctx,$=a.width,s=a.height,c=(e=e||this.clearColor,this.motionBlur&&!t),o=this.lastFrameAlpha,n=this.dpr;(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,$/n,s/n)),i.clearRect(0,0,$,s),e&&"transparent"!==e)&&(e.colorStops?(r=e.__canvasGradient||zh.getGradient(i,e,{x:0,y:0,width:$,height:s}),e.__canvasGradient=r):e.image&&(r=Ps.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=r||e,i.fillRect(0,0,$,s),i.restore());if(c){var h=this.domBack;i.save(),i.globalAlpha=o,i.drawImage(h,0,0,$,s),i.restore()}}};var hI=xl;wl=hI;var yl={},iI="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)};yl=iI;var zl=new ps(50);function jI(e){if("string"==typeof e){var a=zl.get(e);return a&&a.image}return e}function kI(e,a,r,$,i){if(e){if("string"==typeof e){if(a&&a.__zrImageSrc===e||!r)return a;var t=zl.get(e),g={hostEl:r,cb:$,cbPayload:i};return t?!Ss(a=t.image)&&t.pending.push(g):((a=new Image).onload=a.onerror=lI,zl.put(e,a.__cachedImgObj={image:a,pending:[g]}),a.src=a.__zrImageSrc=e),a}return e}return a}function lI(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var a=0;a<e.pending.length;a++){var r=e.pending[a],$=r.cb;$&&$(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function Ss(e){return e&&e.width&&e.height}var mI=jI;var Ts=kI;var Al=Ss;var nI=Nr,oI=z,rc=Fa,pI=kc,qI=nh,Bl={},Us=0,rI=5e3,Cl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Dl="12px sans-serif",El={};function sI(t,e){El[t]=e}function wb(t,e){var $=t+":"+(e=e||Dl);if(Bl[$])return Bl[$];for(var r=(t+"").split("\n"),a=0,i=0,n=r.length;i<n;i++)a=Math.max(yI(r[i],e).width,a);return Us>rI&&(Us=0,Bl={}),Us++,Bl[$]=a,a}function tI(t,e,$,r,a,i,n,o){return n?vI(t,e,$,r,a,i,n,o):uI(t,e,$,r,a,i,o)}function uI(t,e,$,r,a,i,n){var o=Zs(t,e,a,i,n),H=wb(t,e);a&&(H+=a[1]+a[3]);var v=o.outerHeight,j=Fl(0,H,$),h=Gl(0,v,r),x=new I(j,h,H,v);return x.lineHeight=o.lineHeight,x}function vI(t,e,$,r,a,i,n,o){var H=$s(t,{rich:n,truncate:o,font:e,textAlign:$,textPadding:a,textLineHeight:i}),v=H.outerWidth,j=H.outerHeight,h=Fl(0,v,$),x=Gl(0,j,r);return new I(h,x,v,j)}function Fl(t,e,$){return"right"===$?t-=e:"center"===$&&(t-=e/2),t}function Gl(t,e,$){return"middle"===$?t-=e/2:"bottom"===$&&(t-=e),t}function wI(t,e,$){var r=e.textPosition,a=e.textDistance,i=$.x,n=$.y;a=a||0;var o=$.height,H=$.width,v=o/2,j="left",h="top";switch(r){case"left":i-=a,n+=v,j="right",h="middle";break;case"right":i+=a+H,n+=v,h="middle";break;case"top":i+=H/2,n-=a,j="center",h="bottom";break;case"bottom":i+=H/2,n+=o+a,j="center";break;case"inside":i+=H/2,n+=v,j="center",h="middle";break;case"insideLeft":i+=a,n+=v,h="middle";break;case"insideRight":i+=H-a,n+=v,j="right",h="middle";break;case"insideTop":i+=H/2,n+=a,j="center";break;case"insideBottom":i+=H/2,n+=o-a,j="center",h="bottom";break;case"insideTopLeft":i+=a,n+=a;break;case"insideTopRight":i+=H-a,n+=a,j="right";break;case"insideBottomLeft":i+=a,n+=o-a,h="bottom";break;case"insideBottomRight":i+=H-a,n+=o-a,j="right",h="bottom";}return(t=t||{}).x=i,t.y=n,t.textAlign=j,t.textVerticalAlign=h,t}function Vs(t,e,$,r,a){if(!e)return"";var i=(t+"").split("\n");a=Ws(e,$,r,a);for(var n=0,o=i.length;n<o;n++)i[n]=Xs(i[n],a);return i.join("\n")}function Ws(t,e,$,r){(r=oI({},r)).font=e;$=rc($,"...");r.maxIterations=rc(r.maxIterations,2);var a=r.minChar=rc(r.minChar,0);r.cnCharWidth=wb("\u56FD",e);var i=r.ascCharWidth=wb("a",e);r.placeholder=rc(r.placeholder,"");for(var n=t=Math.max(0,t-1),o=0;o<a&&n>=i;o++)n-=i;var H=wb($,e);return H>n&&($="",H=0),n=t-H,r.ellipsis=$,r.ellipsisWidth=H,r.contentWidth=n,r.containerWidth=t,r}function Xs(t,e){var $=e.containerWidth,r=e.font,a=e.contentWidth;if(!$)return"";var i=wb(t,r);if(i<=$)return t;for(var n=0;;n++){if(i<=a||n>=e.maxIterations){t+=e.ellipsis;break}var o=0===n?xI(t,a,e.ascCharWidth,e.cnCharWidth):i>0?Math.floor(t.length*a/i):0;i=wb(t=t.substr(0,o),r)}return""===t&&(t=e.placeholder),t}function xI(t,e,$,r){for(var a=0,i=0,n=t.length;i<n&&a<e;i++){var o=t.charCodeAt(i);a+=0<=o&&o<=127?$:r}return i}function Ys(t){return wb("\u56FD",t)}function yI(t,e){return El.measureText(t,e)}function Zs(t,e,$,r,a){null!=t&&(t+="");var i=rc(r,Ys(e)),n=t?t.split("\n"):[],o=n.length*i,H=o,v=!0;if($&&(H+=$[0]+$[2]),t&&a){v=!1;var j=a.outerHeight,h=a.outerWidth;if(null!=j&&H>j)t="",n=[];else if(null!=h)for(var x=Ws(h-($?$[1]+$[3]:0),e,a.ellipsis,{minChar:a.minChar,placeholder:a.placeholder}),s=0,G=n.length;s<G;s++)n[s]=Xs(n[s],x)}return{lines:n,height:o,outerHeight:H,lineHeight:i,canCacheByTextString:v}}function $s(t,e){var $={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return $;for(var r,a=Cl.lastIndex=0;null!=(r=Cl.exec(t));){var i=r.index;i>a&&Hl($,t.substring(a,i)),Hl($,r[2],r[1]),a=Cl.lastIndex}a<t.length&&Hl($,t.substring(a,t.length));var n=$.lines,o=0,H=0,v=[],j=e.textPadding,h=e.truncate,x=h&&h.outerWidth,s=h&&h.outerHeight;j&&(null!=x&&(x-=j[1]+j[3]),null!=s&&(s-=j[0]+j[2]));for(var G=0;G<n.length;G++){for(var u=n[G],l=0,d=0,c=0;c<u.tokens.length;c++){var g=(P=u.tokens[c]).styleName&&e.rich[P.styleName]||{},p=P.textPadding=g.textPadding,T=P.font=g.font||e.font,f=P.textHeight=rc(g.textHeight,Ys(T));if(p&&(f+=p[0]+p[2]),P.height=f,P.lineHeight=pI(g.textLineHeight,e.textLineHeight,f),P.textAlign=g&&g.textAlign||e.textAlign,P.textVerticalAlign=g&&g.textVerticalAlign||"middle",null!=s&&o+P.lineHeight>s)return{lines:[],width:0,height:0};P.textWidth=wb(P.text,T);var m=g.textWidth,W=null==m||"auto"===m;if("string"==typeof m&&"%"===m.charAt(m.length-1))P.percentWidth=m,v.push(P),m=0;else{if(W){m=P.textWidth;var R=g.textBackgroundColor,C=R&&R.image;C&&(C=mI(C),Al(C)&&(m=Math.max(m,C.width*f/C.height)))}var L=p?p[1]+p[3]:0;m+=L;var k=null!=x?x-d:null;null!=k&&k<m&&(!W||k<L?(P.text="",P.textWidth=m=0):(P.text=Vs(P.text,k-L,T,h.ellipsis,{minChar:h.minChar}),P.textWidth=wb(P.text,T),m=P.textWidth+L))}d+=P.width=m,g&&(l=Math.max(l,P.lineHeight))}u.width=d,u.lineHeight=l,o+=l,H=Math.max(H,d)}$.outerWidth=$.width=rc(e.textWidth,H),$.outerHeight=$.height=rc(e.textHeight,o),j&&($.outerWidth+=j[1]+j[3],$.outerHeight+=j[0]+j[2]);for(G=0;G<v.length;G++){var P,b=(P=v[G]).percentWidth;P.width=parseInt(b,10)/100*H}return $}function Hl(t,e,$){for(var r=""===e,a=e.split("\n"),i=t.lines,n=0;n<a.length;n++){var o=a[n],H={styleName:$,text:o,isLineHolder:!o&&!r};if(n)i.push({tokens:[H]});else{var v=(i[i.length-1]||(i[0]={tokens:[]})).tokens,j=v.length;1===j&&v[0].isLineHolder?v[0]=H:(o||!j||r)&&v.push(H)}}}function zI(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&qI(e)||t.textFont||t.font}El.measureText=function(t,e){var $=nI();return $.font=e||Dl,$.measureText(t)};var _s=Dl;var AI=sI;var Il=wb;var xb=tI;var Jl=Fl;var Bh=Gl;var Kl=wI;var at=Vs;var bt=Zs;var ct=$s;var dt=zI;function BI(t,a){var h,r,e,$,i,o=a.x,l=a.y,n=a.width,P=a.height,u=a.r;n<0&&(o+=n,n=-n),P<0&&(l+=P,P=-P),"number"==typeof u?h=r=e=$=u:u instanceof Array?1===u.length?h=r=e=$=u[0]:2===u.length?(h=e=u[0],r=$=u[1]):3===u.length?(h=u[0],r=$=u[1],e=u[2]):(h=u[0],r=u[1],e=u[2],$=u[3]):h=r=e=$=0,h+r>n&&(h*=n/(i=h+r),r*=n/i),e+$>n&&(e*=n/(i=e+$),$*=n/i),r+e>P&&(r*=P/(i=r+e),e*=P/i),h+$>P&&(h*=P/(i=h+$),$*=P/i),t.moveTo(o+h,l),t.lineTo(o+n-r,l),0!==r&&t.arc(o+n-r,l+r,r,-Math.PI/2,0),t.lineTo(o+n,l+P-e),0!==e&&t.arc(o+n-e,l+P-e,e,0,Math.PI/2),t.lineTo(o+$,l+P),0!==$&&t.arc(o+$,l+P-$,$,Math.PI/2,Math.PI),t.lineTo(o,l+h),0!==h&&t.arc(o+h,l+h,h,Math.PI,1.5*Math.PI)}var et=BI;var CI=Fa,Ll=kc,DI=k,EI=Ik,FI=M,GI=y,If=sl,ft=Ns,Ml=_s,HI={left:1,right:1,center:1},II={top:1,bottom:1,middle:1},gt=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],ht={},it={};function JI(t){return jt(t),DI(t.rich,jt),t}function jt(t){if(t){t.font=dt(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||HI[e]?e:"left";var $=t.textVerticalAlign||t.textBaseline;"center"===$&&($="middle"),t.textVerticalAlign=null==$||II[$]?$:"top",t.textPadding&&(t.textPadding=EI(t.textPadding))}}function KI(t,e,$,r,a,o){r.rich?MI(t,e,$,r,a,o):LI(t,e,$,r,a,o)}function LI(t,e,$,r,a,o){var i,n=Ol(r),u=!1,l=e.__attrCachedBy===If.PLAIN_TEXT;o!==ft?(o&&(i=o.style,u=!n&&l&&i),e.__attrCachedBy=n?If.NONE:If.PLAIN_TEXT):l&&(e.__attrCachedBy=If.NONE);var C=r.font||Ml;u&&C===(i.font||Ml)||(e.font=C);var x=t.__computedFont;t.__styleFont!==C&&(t.__styleFont=C,x=t.__computedFont=e.font);var F=r.textPadding,v=r.textLineHeight,d=t.__textCotentBlock;d&&!t.__dirtyText||(d=t.__textCotentBlock=bt($,x,F,v,r.truncate));var s=d.outerHeight,h=d.lines,c=d.lineHeight,g=Ql(it,t,r,a),f=g.baseX,p=g.baseY,T=g.textAlign||"left",_=g.textVerticalAlign;kt(e,r,a,f,p);var S=Bh(p,s,_),B=f,w=S;if(n||F){var y=Il($,x);F&&(y+=F[1]+F[3]);var A=Jl(f,y,T);n&&Pl(t,e,r,A,S,y,s),F&&(B=mt(f,T,F),w+=F[0])}e.textAlign=T,e.textBaseline="middle",e.globalAlpha=r.opacity||1;for(var O=0;O<gt.length;O++){var P=gt[O],k=P[0],m=P[1],R=r[k];u&&R===i[k]||(e[m]=rl(e,m,R||P[2]))}w+=c/2;var L=r.textStrokeWidth,E=u?i.textStrokeWidth:null,D=!u||L!==E,I=!u||D||r.textStroke!==i.textStroke,N=Rl(r.textStroke,L),X=lt(r.textFill);if(N&&(D&&(e.lineWidth=L),I&&(e.strokeStyle=N)),X&&(u&&r.textFill===i.textFill||(e.fillStyle=X)),1===h.length)N&&e.strokeText(h[0],B,w),X&&e.fillText(h[0],B,w);else for(O=0;O<h.length;O++)N&&e.strokeText(h[O],B,w),X&&e.fillText(h[O],B,w),w+=c}function MI(t,e,$,r,a,o){o!==ft&&(e.__attrCachedBy=If.NONE);var i=t.__textCotentBlock;i&&!t.__dirtyText||(i=t.__textCotentBlock=ct($,r)),NI(t,e,i,r,a)}function NI(t,e,$,r,a){var o=$.width,i=$.outerWidth,n=$.outerHeight,u=r.textPadding,l=Ql(it,t,r,a),C=l.baseX,x=l.baseY,F=l.textAlign,v=l.textVerticalAlign;kt(e,r,a,C,x);var d=Jl(C,i,F),s=Bh(x,n,v),h=d,c=s;u&&(h+=u[3],c+=u[0]);var g=h+o;Ol(r)&&Pl(t,e,r,d,s,i,n);for(var f=0;f<$.lines.length;f++){for(var p,T=$.lines[f],_=T.tokens,S=_.length,B=T.lineHeight,w=T.width,y=0,A=h,O=g,P=S-1;y<S&&(!(p=_[y]).textAlign||"left"===p.textAlign);)Nl(t,e,p,r,B,c,A,"left"),w-=p.width,A+=p.width,y++;for(;P>=0&&"right"===(p=_[P]).textAlign;)Nl(t,e,p,r,B,c,O,"right"),w-=p.width,O-=p.width,P--;for(A+=(o-(A-h)-(g-O)-w)/2;y<=P;)Nl(t,e,p=_[y],r,B,c,A+p.width/2,"center"),A+=p.width,y++;c+=B}}function kt(t,e,$,r,a){if($&&e.textRotation){var o=e.textOrigin;"center"===o?(r=$.width/2+$.x,a=$.height/2+$.y):o&&(r=o[0]+$.x,a=o[1]+$.y),t.translate(r,a),t.rotate(-e.textRotation),t.translate(-r,-a)}}function Nl(t,e,$,r,a,o,i,n){var u=r.rich[$.styleName]||{};u.text=$.text;var l=$.textVerticalAlign,C=o+a/2;"top"===l?C=o+$.height/2:"bottom"===l&&(C=o+a-$.height/2),!$.isLineHolder&&Ol(u)&&Pl(t,e,u,"right"===n?i-$.width:"center"===n?i-$.width/2:i,C-$.height/2,$.width,$.height);var x=$.textPadding;x&&(i=mt(i,n,x),C-=$.height/2-x[2]-$.textHeight/2),ba(e,"shadowBlur",Ll(u.textShadowBlur,r.textShadowBlur,0)),ba(e,"shadowColor",u.textShadowColor||r.textShadowColor||"transparent"),ba(e,"shadowOffsetX",Ll(u.textShadowOffsetX,r.textShadowOffsetX,0)),ba(e,"shadowOffsetY",Ll(u.textShadowOffsetY,r.textShadowOffsetY,0)),ba(e,"textAlign",n),ba(e,"textBaseline","middle"),ba(e,"font",$.font||Ml);var F=Rl(u.textStroke||r.textStroke,d),v=lt(u.textFill||r.textFill),d=CI(u.textStrokeWidth,r.textStrokeWidth);F&&(ba(e,"lineWidth",d),ba(e,"strokeStyle",F),e.strokeText($.text,i,C)),v&&(ba(e,"fillStyle",v),e.fillText($.text,i,C))}function Ol(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function Pl(t,e,$,r,a,o,i){var n=$.textBackgroundColor,u=$.textBorderWidth,l=$.textBorderColor,C=FI(n);if(ba(e,"shadowBlur",$.textBoxShadowBlur||0),ba(e,"shadowColor",$.textBoxShadowColor||"transparent"),ba(e,"shadowOffsetX",$.textBoxShadowOffsetX||0),ba(e,"shadowOffsetY",$.textBoxShadowOffsetY||0),C||u&&l){e.beginPath();var x=$.textBorderRadius;x?et(e,{x:r,y:a,width:o,height:i,r:x}):e.rect(r,a,o,i),e.closePath()}if(C){if(ba(e,"fillStyle",n),null!=$.fillOpacity){var F=e.globalAlpha;e.globalAlpha=$.fillOpacity*$.opacity,e.fill(),e.globalAlpha=F}else e.fill();}else if(GI(n)){var v=n.image;(v=Ts(v,null,t,OI,n))&&Al(v)&&e.drawImage(v,r,a,o,i)}if(u&&l)if(ba(e,"lineWidth",u),ba(e,"strokeStyle",l),null!=$.strokeOpacity){F=e.globalAlpha;e.globalAlpha=$.strokeOpacity*$.opacity,e.stroke(),e.globalAlpha=F}else e.stroke()}function OI(t,e){e.image=t}function Ql(t,e,$,r){var a=$.x||0,o=$.y||0,i=$.textAlign,n=$.textVerticalAlign;if(r){var u=$.textPosition;if(u instanceof Array)a=r.x+Sl(u[0],r.width),o=r.y+Sl(u[1],r.height);else{var l=e&&e.calculateTextPosition?e.calculateTextPosition(ht,$,r):Kl(ht,$,r);a=l.x,o=l.y,i=i||l.textAlign,n=n||l.textVerticalAlign}var C=$.textOffset;C&&(a+=C[0],o+=C[1])}return(t=t||{}).baseX=a,t.baseY=o,t.textAlign=i,t.textVerticalAlign=n,t}function ba(t,e,$){return t[e]=rl(t,e,$),t[e]}function Rl(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function lt(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Sl(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function mt(t,e,$){return"right"===e?t-$[1]:"center"===e?t+$[3]/2-$[1]/2:t+$[3]}function PI(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var Jf=JI;var nt=KI;var QI=Ql;var RI=Rl;var SI=Sl;var Tl=PI;var ot={},TI=Ns,Ul=new I,Vl=function(){};Vl.prototype={constructor:Vl,drawRectText:function($,t){var e=this.style;t=e.textRect||t,this.__dirty&&Jf(e,!0);var r=e.text;if(null!=r&&(r+=""),Tl(r,e)){$.save();var a=this.transform;e.transformText?this.setTransform($):a&&(Ul.copy(t),Ul.applyTransform(a),t=Ul),nt(this,$,r,e,t,TI),$.restore()}}};var UI=Vl;ot=UI;var yb={};function Kf(t){for(var e in t=t||{},Ef.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new zh(t.style,this),this._rect=null,this.__clipPaths=null}Kf.prototype={constructor:Kf,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var r=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Ef.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new zh(t,this),this.dirty(!1),this},calculateTextPosition:null},n(Kf,Ef),l(Kf,ot);var VI=Kf;yb=VI;var oa={};function Ch(t){yb.call(this,t)}Ch.prototype={constructor:Ch,type:"image",brush:function(t,e){var r=this.style,a=r.image;r.bind(t,this,e);var $=this._image=Ts(a,this._image,this,this.onload);if($&&Al($)){var i=r.x||0,s=r.y||0,l=r.width,h=r.height,w=$.width/$.height;if(null==l&&null!=h?l=h*w:null==h&&null!=l?h=l/w:null==l&&null==h&&(l=$.width,h=$.height),this.setTransform(t),r.sWidth&&r.sHeight){var g=r.sx||0,n=r.sy||0;t.drawImage($,g,n,r.sWidth,r.sHeight,i,s,l,h)}else if(r.sx&&r.sy){var u=l-(g=r.sx),v=h-(n=r.sy);t.drawImage($,g,n,u,v,i,s,l,h)}else t.drawImage($,i,s,l,h);null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new I(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},n(Ch,yb);var WI=Ch;oa=WI;var XI={},YI=ll,pt=1e5,Xc=314159,Dh=.01,ZI=.001;function Eh(e){return parseInt(e,10)}function $I(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}var Wl=new I(0,0,0,0),Xl=new I(0,0,0,0);function _I(e,t,r){return Wl.copy(e.getBoundingRect()),e.transform&&Wl.applyTransform(e.transform),Xl.width=t,Xl.height=r,!Wl.intersect(Xl)}function aJ(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function bJ(e,t){for(var r=0;r<e.length;r++){var i=e[r];i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}}function cJ(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var Yl=function(e,t,r){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=r=z({},r||{}),this.dpr=r.devicePixelRatio||YI,this._singleCanvas=i,this.root=e;var a=e.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var n=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var o=e.width,c=e.height;null!=r.width&&(o=r.width),null!=r.height&&(c=r.height),this.dpr=r.devicePixelRatio||1,e.width=o*this.dpr,e.height=c*this.dpr,this._width=o,this._height=c;var l=new wl(e,this,this.dpr);l.__builtin__=!0,l.initContext(),s[Xc]=l,l.zlevel=Xc,n.push(Xc),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=cJ(this._width,this._height);e.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};Yl.prototype={constructor:Yl,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<r.length;i++){var a=r[i],n=this._layers[a];if(!n.__builtin__&&n.refresh){var s=0===i?this._backgroundColor:null;n.refresh(s)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return r.__from=e,e.__hoverMir=r,t&&r.setStyle(t),this._hoverElements.push(r),r}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,i=C(r,t);i>=0&&r.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var i=t[r].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),t){yh(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(pt));var i={};r.ctx.save();for(var a=0;a<t;){var n=e[a],s=n.__from;s&&s.__zr?(a++,s.invisible||(n.transform=s.transform,n.invTransform=s.invTransform,n.__clipPaths=s.__clipPaths,this._doPaintEl(n,r,!0,i))):(e.splice(a,1),s.__hoverMir=null,t--)}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(pt)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var a=this;yl(function(){a._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(Xc).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];(o=this._layers[a]).__builtin__&&o!==this._hoverlayer&&(o.__dirty||t)&&r.push(o)}for(var n=!0,s=0;s<r.length;s++){var o,c=(o=r[s]).ctx,l={};c.save();var h=t?o.__startIndex:o.__drawIndex,_=!t&&o.incremental&&Date.now,$=_&&Date.now(),v=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,v);else if(h===o.__startIndex){var d=e[h];d.incremental&&d.notClear&&!t||o.clear(!1,v)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=o.__startIndex);for(var u=h;u<o.__endIndex;u++){var f=e[u];if(this._doPaintEl(f,o,t,l),f.__dirty=f.__dirtyText=!1,_)if(Date.now()-$>15)break}o.__drawIndex=u,o.__drawIndex<o.__endIndex&&(n=!1),l.prevElClipPaths&&c.restore(),c.restore()}return x.wxa&&k(this._layers,function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()}),n},_doPaintEl:function(e,t,r,i){var a=t.ctx,n=e.transform;if((t.__dirty||r)&&!e.invisible&&0!==e.style.opacity&&(!n||n[0]||n[3])&&(!e.culling||!_I(e,this._width,this._height))){var s=e.__clipPaths,o=i.prevElClipPaths;o&&!aJ(s,o)||(o&&(a.restore(),i.prevElClipPaths=null,i.prevEl=null),s&&(a.save(),bJ(s,a),i.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(a),e.brush(a,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(a)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Xc);var r=this._layers[e];return r||((r=new wl("zr_"+e,this,this.dpr)).zlevel=e,r.__builtin__=!0,this._layerConfig[e]?f(r,this._layerConfig[e],!0):this._layerConfig[e-Dh]&&f(r,this._layerConfig[e-Dh],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,i=this._zlevelList,a=i.length,n=null,s=-1,o=this._domRoot;if(r[e])pc("ZLevel "+e+" has been used already");else if($I(t)){if(a>0&&e>i[0]){for(s=0;s<a-1&&!(i[s]<e&&i[s+1]>e);s++);n=r[i[s]]}if(i.splice(s+1,0,e),r[e]=t,!t.virtual)if(n){var c=n.dom;c.nextSibling?o.insertBefore(t.dom,c.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom)}else pc("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var r,i,a=this._zlevelList;for(i=0;i<a.length;i++)r=a[i],e.call(t,this._layers[r],r)},eachBuiltinLayer:function(e,t){var r,i,a,n=this._zlevelList;for(a=0;a<n.length;a++)i=n[a],(r=this._layers[i]).__builtin__&&e.call(t,r,i)},eachOtherLayer:function(e,t){var r,i,a,n=this._zlevelList;for(a=0;a<n.length;a++)i=n[a],(r=this._layers[i]).__builtin__||e.call(t,r,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){a&&(a.__endIndex!==e&&(a.__dirty=!0),a.__endIndex=e)}if(this.eachBuiltinLayer(function(e,t){e.__dirty=e.__used=!1}),this._singleCanvas)for(var r=1;r<e.length;r++){if((s=e[r]).zlevel!==e[r-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var i,a=null,n=0;for(r=0;r<e.length;r++){var s,o,c=(s=e[r]).zlevel;i!==c&&(i=c,n=0),s.incremental?((o=this.getLayer(c+ZI,this._needsManuallyCompositing)).incremental=!0,n=1):o=this.getLayer(c+(n>0?Dh:0),this._needsManuallyCompositing),o.__builtin__||pc("ZLevel "+c+" has been used by unkown layer "+o.id),o!==a&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.incremental?o.__drawIndex=-1:o.__drawIndex=r,t(r),a=o),s.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?f(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+Dh){var n=this._layers[a];f(n,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(C(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||t!==this._height){for(var a in r.style.width=e+"px",r.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);k(this._progressiveLayers,function(r){r.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(Xc).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Xc].dom;var t=new wl("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,i=t.dom.height,a=t.ctx;this.eachLayer(function(e){e.__builtin__?a.drawImage(e.dom,0,0,r,i):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var n={},s=this.storage.getDisplayList(!0),o=0;o<s.length;o++){var c=s[o];this._doPaintEl(c,t,!0,n)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],n=["paddingRight","paddingBottom"][e];if(null!=t[r]&&"auto"!==t[r])return parseFloat(t[r]);var s=this.root,o=document.defaultView.getComputedStyle(s);return(s[i]||Eh(o[r])||Eh(s.style[r]))-(Eh(o[a])||0)-(Eh(o[n])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),i=r.getContext("2d"),a=e.getBoundingRect(),n=e.style,s=n.shadowBlur*t,o=n.shadowOffsetX*t,c=n.shadowOffsetY*t,l=n.hasStroke()?n.lineWidth:0,h=Math.max(l/2,-o+s),_=Math.max(l/2,o+s),$=Math.max(l/2,-c+s),v=Math.max(l/2,c+s),d=a.width+h+_,u=a.height+$+v;r.width=d*t,r.height=u*t,i.scale(t,t),i.clearRect(0,0,d,u),i.dpr=t;var f={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[h-a.x,$-a.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var g=new oa({style:{x:0,y:0,image:r}});return null!=f.position&&(g.position=e.position=f.position),null!=f.rotation&&(g.rotation=e.rotation=f.rotation),null!=f.scale&&(g.scale=e.scale=f.scale),g}};var dJ=Yl;XI=dJ;var eJ={},Fh=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,aa.call(this)};Fh.prototype={constructor:Fh,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var i=t.getClips(),e=0;e<i.length;e++)this.addClip(i[e])},removeClip:function(t){var i=C(this._clips,t);i>=0&&this._clips.splice(i,1)},removeAnimator:function(t){for(var i=t.getClips(),e=0;e<i.length;e++)this.removeClip(i[e]);t.animation=null},_update:function(){for(var t=new Date().getTime()-this._pausedTime,i=t-this._time,e=this._clips,a=e.length,r=[],n=[],s=0;s<a;s++){var $=e[s],o=$.step(t,i);o&&(r.push(o),n.push($))}for(s=0;s<a;)e[s]._needsRemove?(e[s]=e[a-1],e.pop(),a--):s++;a=r.length;for(s=0;s<a;s++)n[s].fire(r[s]);this._time=t,this.onframe(i),this.trigger("frame",i),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,yl(function i(){t._running&&(yl(i),!t._paused&&t._update())})},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,i){var e=new ys(t,(i=i||{}).loop,i.getter,i.setter);return this.addAnimator(e),e}},l(Fh,aa);var fJ=Fh;eJ=fJ;var gJ={},hJ=Xk,iJ=RG,Tb=es,qt=QG,jJ=300,Zl=x.domSupported,$l=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:e,touch:["touchstart","touchend","touchmove"],pointer:j(e,function(e){var r=e.replace("mouse","pointer");return t.hasOwnProperty(r)?r:e})}}(),rt={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function st(e){return"mousewheel"===e&&x.browser.firefox?"DOMMouseScroll":e}function _l(e){var t=e.pointerType;return"pen"===t||"touch"===t}function kJ(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function am(e){e&&(e.zrByTouch=!0)}function lJ(e,t){return Tb(e.dom,new ut(e,t),!0)}function tt(e,t){for(var r=t,o=!1;r&&9!==r.nodeType&&!(o=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return o}function ut(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var bm=ut.prototype;bm.stopPropagation=bm.stopImmediatePropagation=bm.preventDefault=$;var kb={mousedown:function(e){e=Tb(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Tb(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||em(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Tb(this.dom,e),em(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Tb(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=tt(this,t),this.trigger("mouseout",e)},touchstart:function(e){am(e=Tb(this.dom,e)),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),kb.mousemove.call(this,e),kb.mousedown.call(this,e)},touchmove:function(e){am(e=Tb(this.dom,e)),this.handler.processGesture(e,"change"),kb.mousemove.call(this,e)},touchend:function(e){am(e=Tb(this.dom,e)),this.handler.processGesture(e,"end"),kb.mouseup.call(this,e),+new Date-this._lastTouchMoment<jJ&&kb.click.call(this,e)},pointerdown:function(e){kb.mousedown.call(this,e)},pointermove:function(e){_l(e)||kb.mousemove.call(this,e)},pointerup:function(e){kb.mouseup.call(this,e)},pointerout:function(e){_l(e)||kb.mouseout.call(this,e)}};k(["click","mousewheel","dblclick","contextmenu"],function(e){kb[e]=function(t){t=Tb(this.dom,t),this.trigger(e,t)}});var cm={pointermove:function(e){_l(e)||cm.mousemove.call(this,e)},pointerup:function(e){cm.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;em(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function mJ(e,t){var r=t.domHandlers;x.pointerEventsSupported?k($l.pointer,function(o){Gh(t,o,function(t){r[o].call(e,t)})}):(x.touchEventsSupported&&k($l.touch,function(o){Gh(t,o,function($){r[o].call(e,$),kJ(t)})}),k($l.mouse,function(o){Gh(t,o,function($){$=qt($),t.touching||r[o].call(e,$)})}))}function nJ(e,t){function r(r){Gh(t,r,function(o){o=qt(o),tt(e,o.target)||(o=lJ(e,o),t.domHandlers[r].call(e,o))},{capture:!0})}x.pointerEventsSupported?k(rt.pointer,r):x.touchEventsSupported||k(rt.mouse,r)}function Gh(e,t,r,o){e.mounted[t]=r,e.listenerOpts[t]=o,hJ(e.domTarget,st(t),r,o)}function dm(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&iJ(e.domTarget,st(r),t[r],e.listenerOpts[r]);e.mounted={}}function em(e,t){if(e._mayPointerCapture=null,Zl&&e._pointerCapturing^t){e._pointerCapturing=t;var r=e._globalHandlerScope;t?nJ(e,r):dm(r)}}function vt(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function fm(e,t){aa.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new vt(e,kb),Zl&&(this._globalHandlerScope=new vt(document,cm)),this._pointerCapturing=!1,this._mayPointerCapture=null,mJ(this,this._localHandlerScope)}var wt=fm.prototype;wt.dispose=function(){dm(this._localHandlerScope),Zl&&dm(this._globalHandlerScope)},wt.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},l(fm,aa);var oJ=fm;gJ=oJ;var ce={},pJ=!x.canvasSupported,Hh={canvas:XI},de={},qJ="4.3.2";function rJ(e,r){var t=new gm(Dr(),e,r);return de[t.id]=t,t}function sJ(e){if(e)e.dispose();else{for(var r in de)de.hasOwnProperty(r)&&de[r].dispose();de={}}return this}function tJ(e){return de[e]}function uJ(e,r){Hh[e]=r}function vJ(e){delete de[e]}var gm=function(e,r,t){t=t||{},this.dom=r,this.id=e;var i=this,n=new XH,a=t.renderer;if(pJ){if(!Hh.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&Hh[a]||(a="canvas");var s=new Hh[a](r,n,t,e);this.storage=n,this.painter=s;var $=x.node||x.worker?null:new gJ(s.getViewportRoot(),s.root);this.handler=new VG(n,s,$,s.root),this.animation=new eJ({stage:{update:m(this.flush,this)}}),this.animation.start(),this._needsRefresh;var o=n.delFromStorage,h=n.addToStorage;n.delFromStorage=function(e){o.call(n,e),e&&e.removeSelfFromZr(i)},n.addToStorage=function(e){h.call(n,e),e.addSelfToZr(i)}};gm.prototype={constructor:gm,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,r){this.painter.configLayer&&this.painter.configLayer(e,r),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,r){if(this.painter.addHover){var t=this.painter.addHover(e,r);return this.refreshHover(),t}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,r){return this.painter.pathToImage(e,r)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,r){return this.handler.findHover(e,r)},on:function(e,r,t){this.handler.on(e,r,t)},off:function(e,r){this.handler.off(e,r)},trigger:function(e,r){this.handler.trigger(e,r)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,vJ(this.id)}};var wJ=qJ;ce.version=wJ;var hm=rJ;ce.init=hm;var xJ=sJ;ce.dispose=xJ;var yJ=tJ;ce.getInstance=yJ;var im=uJ;ce.registerPainter=im;var ee=k,fe=y,zJ=J,xt="series\0";function yt(e){return e instanceof Array?e:null==e?[]:[e]}function AJ(e,r,$){if(e){e[r]=e[r]||{},e.emphasis=e.emphasis||{},e.emphasis[r]=e.emphasis[r]||{};for(var a=0,o=$.length;a<o;a++){var t=$[a];!e.emphasis[r].hasOwnProperty(t)&&e[r].hasOwnProperty(t)&&(e.emphasis[r][t]=e[r][t])}}}var BJ=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function CJ(e){return!fe(e)||zJ(e)||e instanceof Date?e:e.value}function DJ(e){return fe(e)&&!(e instanceof Array)}function EJ(e,r){r=(r||[]).slice();var $=j(e||[],function(e,r){return{exist:e}});return ee(r,function(e,a){if(fe(e)){for(var o=0;o<$.length;o++)if(!$[o].option&&null!=e.id&&$[o].exist.id===e.id+"")return $[o].option=e,void(r[a]=null);for(o=0;o<$.length;o++){var t=$[o].exist;if(!($[o].option||null!=t.id&&null!=e.id||null==e.name||Ih(e)||Ih(t)||t.name!==e.name+""))return $[o].option=e,void(r[a]=null)}}}),ee(r,function(e,r){if(fe(e)){for(var a=0;a<$.length;a++){var o=$[a].exist;if(!$[a].option&&!Ih(o)&&null==e.id){$[a].option=e;break}}a>=$.length&&$.push({option:e})}}),$}function FJ(e){var r=G();ee(e,function(e,$){var a=e.exist;a&&r.set(a.id,e)}),ee(e,function(e,$){var a=e.option;lc(!a||null==a.id||!r.get(a.id)||r.get(a.id)===e,"id duplicates: "+(a&&a.id)),a&&null!=a.id&&r.set(a.id,e),!e.keyInfo&&(e.keyInfo={})}),ee(e,function(e,$){var a=e.exist,o=e.option,t=e.keyInfo;if(fe(o)){if(t.name=null!=o.name?o.name+"":a?a.name:xt+$,a)t.id=a.id;else if(null!=o.id)t.id=o.id+"";else{var n=0;do{t.id="\0"+t.name+"\0"+n++}while(r.get(t.id))}r.set(t.id,e)}})}function GJ(e){var r=e.name;return!(!r||!r.indexOf(xt))}function Ih(e){return fe(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function HJ(e,r){var $={},a={};return o(e||[],$),o(r||[],a,$),[t($),t(a)];function o(e,r,$){for(var a=0,o=e.length;a<o;a++)for(var t=e[a].seriesId,n=yt(e[a].dataIndex),i=$&&$[t],g=0,s=n.length;g<s;g++){var D=n[g];i&&i[D]?i[D]=null:(r[t]||(r[t]={}))[D]=1}}function t(e,r){var $=[];for(var a in e)if(e.hasOwnProperty(a)&&null!=e[a])if(r)$.push(+a);else{var o=t(e[a],!0);o.length&&$.push({seriesId:a,dataIndex:o})}return $}}function IJ(e,r){return null!=r.dataIndexInside?r.dataIndexInside:null!=r.dataIndex?J(r.dataIndex)?j(r.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(r.dataIndex):null!=r.name?J(r.name)?j(r.name,function(r){return e.indexOfName(r)}):e.indexOfName(r.name):void 0}function JJ(){var e="__\0ec_inner_"+KJ++ +"_"+Math.random().toFixed(5);return function(r){return r[e]||(r[e]={})}}var KJ=0;function LJ(e,r,$){if(M(r)){var a={};a[r+"Index"]=0,r=a}var o=$&&$.defaultMainType;!o||jm(r,o+"Index")||jm(r,o+"Id")||jm(r,o+"Name")||(r[o+"Index"]=0);var t={};return ee(r,function(a,o){a=r[o];if("dataIndex"!==o&&"dataIndexInside"!==o){var n=o.match(/^(\w+)(Index|Id|Name)$/)||[],i=n[1],g=(n[2]||"").toLowerCase();if(!(!i||!g||null==a||"index"===g&&"none"===a||$&&$.includeMainTypes&&C($.includeMainTypes,i)<0)){var s={mainType:i};"index"===g&&"all"===a||(s[g]=a);var D=e.queryComponents(s);t[i+"Models"]=D,t[i+"Model"]=D[0]}}else t[o]=a}),t}function jm(e,r){return e&&e.hasOwnProperty(r)}function MJ(e,r,$){e.setAttribute?e.setAttribute(r,$):e[r]=$}function NJ(e,r){return e.getAttribute?e.getAttribute(r):e[r]}function OJ(e){return"auto"===e?x.domSupported?"html":"richText":e||"html"}function PJ(e,r){var $=G(),a=[];return k(e,function(e){var o=r(e);($.get(o)||(a.push(o),$.set(o,[]))).push(e)}),{keys:a,buckets:$}}var pa=yt;var Yc=AJ;var zt=BJ;var Jh=CJ;var QJ=DJ;var km=EJ;var At=FJ;var lm=GJ;var RJ=Ih;var SJ=HJ;var Kh=IJ;var va=JJ;var Lh=LJ;var Bt=MJ;var TJ=NJ;var Ct=OJ;var Dt=PJ;var UJ=".",Zc="___EC__COMPONENT__CONTAINER___";function ge(e){var $={main:"",sub:""};return e&&(e=e.split(UJ),$.main=e[0]||"",$.sub=e[1]||""),$}function VJ(e){lc(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),"componentType \""+e+"\" illegal")}function WJ(e,$){e.$constructor=e,e.extend=function(e){var $=this,a=function(){e.$constructor?e.$constructor.apply(this,arguments):$.apply(this,arguments)};return z(a.prototype,e),a.extend=this.extend,a.superCall=ZJ,a.superApply=$J,n(a,this),a.superClass=$,a}}var XJ=0;function YJ(e){var $=["__\0is_clz",XJ++,Math.random().toFixed(3)].join("_");e.prototype[$]=!0,e.isInstance=function(e){return!(!e||!e[$])}}function ZJ(e,$){var a=Td(arguments,2);return this.superClass.prototype[$].apply(e,a)}function $J(e,$,a){return this.superClass.prototype[$].apply(e,a)}function _J(e,$){$=$||{};var a={};if(e.registerClass=function(e,$){if($)if(VJ($),($=ge($)).sub){if($.sub!==Zc){(function(e){var $=a[e.main];$&&$[Zc]||(($=a[e.main]={})[Zc]=!0);return $})($)[$.sub]=e}}else a[$.main]=e;return e},e.getClass=function(e,$,r){var s=a[e];if(s&&s[Zc]&&(s=$?s[$]:null),r&&!s)throw new Error($?"Component "+e+"."+($||"")+" not exists. Load it first.":e+".type should be specified.");return s},e.getClassesByMainType=function(e){e=ge(e);var $=[],r=a[e.main];return r&&r[Zc]?k(r,function(e,a){a!==Zc&&$.push(e)}):$.push(r),$},e.hasClass=function(e){return e=ge(e),!!a[e.main]},e.getAllClassMainTypes=function(){var e=[];return k(a,function($,a){e.push(a)}),e},e.hasSubTypes=function(e){e=ge(e);var $=a[e.main];return $&&$[Zc]},e.parseClassType=ge,$.registerWhenExtend){var r=e.extend;r&&(e.extend=function($){var a=r.call(this,$);return e.registerClass(a,$.type)})}return e}var Et=ge;var Lf=WJ;var mm=YJ;var Mh=_J;var he={};function aK(r){for(var $=0;$<r.length;$++)r[$][1]||(r[$][1]=r[$][0]);return function($,e,t){for(var a={},l=0;l<r.length;l++){var n=r[l][1];if(!(e&&C(e,n)>=0||t&&C(t,n)<0)){var h=$.getShallow(n);null!=h&&(a[r[l][0]]=h)}}return a}}he=aK;var bK={},cK=he([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),dK={getLineStyle:function(e){var t=cK(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),a=Math.max(e,2),n=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[n,n]:[a,a])}};bK=dK;var eK={},fK=he([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),gK={getAreaStyle:function(e,a){return fK(this,e,a)}};eK=gK;var nm=Ud,ie=Ok,Nh=Math.pow,sc=Math.sqrt,Oh=1e-8,Ft=1e-4,Gt=sc(3),Ph=1/3,zb=nm(),Sa=nm(),je=nm();function tc($){return $>-Oh&&$<Oh}function Ht($){return $>Oh||$<-Oh}function Ub($,r,V,a,t){var v=1-t;return v*v*(v*$+3*t*r)+t*t*(t*a+3*v*V)}function hK($,r,V,a,t){var v=1-t;return 3*(((r-$)*v+2*(V-r)*t)*v+(a-V)*t*t)}function iK($,r,V,a,t,v){var i=a+3*(r-V)-$,j=3*(V-2*r+$),C=3*(r-$),e=$-t,c=j*j-3*i*C,u=j*C-9*i*e,o=C*C-3*j*e,d=0;if(tc(c)&&tc(u)){if(tc(j))v[0]=0;else(E=-C/j)>=0&&E<=1&&(v[d++]=E)}else{var n=u*u-4*c*o;if(tc(n)){var A=u/c,q=-A/2;(E=-j/i+A)>=0&&E<=1&&(v[d++]=E),q>=0&&q<=1&&(v[d++]=q)}else if(n>0){var b=sc(n),s=c*j+1.5*i*(-u+b),x=c*j+1.5*i*(-u-b);(E=(-j-((s=s<0?-Nh(-s,Ph):Nh(s,Ph))+(x=x<0?-Nh(-x,Ph):Nh(x,Ph))))/(3*i))>=0&&E<=1&&(v[d++]=E)}else{var _=(2*c*j-3*i*u)/(2*sc(c*c*c)),p=Math.acos(_)/3,S=sc(c),P=Math.cos(p),E=(-j-2*S*P)/(3*i),f=(q=(-j+S*(P+Gt*Math.sin(p)))/(3*i),(-j+S*(P-Gt*Math.sin(p)))/(3*i));E>=0&&E<=1&&(v[d++]=E),q>=0&&q<=1&&(v[d++]=q),f>=0&&f<=1&&(v[d++]=f)}}return d}function jK($,r,V,a,t){var v=6*V-12*r+6*$,i=9*r+3*a-3*$-9*V,j=3*r-3*$,C=0;if(tc(i)){if(Ht(v))(c=-j/v)>=0&&c<=1&&(t[C++]=c)}else{var e=v*v-4*i*j;if(tc(e))t[0]=-v/(2*i);else if(e>0){var c,u=sc(e),o=(-v-u)/(2*i);(c=(-v+u)/(2*i))>=0&&c<=1&&(t[C++]=c),o>=0&&o<=1&&(t[C++]=o)}}return C}function kK($,r,V,a,t,v){var i=(r-$)*t+$,j=(V-r)*t+r,C=(a-V)*t+V,e=(j-i)*t+i,c=(C-j)*t+j,u=(c-e)*t+e;v[0]=$,v[1]=i,v[2]=e,v[3]=u,v[4]=u,v[5]=c,v[6]=C,v[7]=a}function lK($,r,V,a,t,v,i,j,C,e,c){var u,o,d,n,A,q=.005,b=1/0;zb[0]=C,zb[1]=e;for(var s=0;s<1;s+=.05)Sa[0]=Ub($,V,t,i,s),Sa[1]=Ub(r,a,v,j,s),(n=ie(zb,Sa))<b&&(u=s,b=n);b=1/0;for(var x=0;x<32&&!(q<Ft);x++)o=u-q,d=u+q,Sa[0]=Ub($,V,t,i,o),Sa[1]=Ub(r,a,v,j,o),n=ie(Sa,zb),o>=0&&n<b?(u=o,b=n):(je[0]=Ub($,V,t,i,d),je[1]=Ub(r,a,v,j,d),A=ie(je,zb),d<=1&&A<b?(u=d,b=A):q*=.5);return c&&(c[0]=Ub($,V,t,i,u),c[1]=Ub(r,a,v,j,u)),sc(b)}function Vb($,r,V,a){var t=1-a;return t*(t*$+2*a*r)+a*a*V}function mK($,r,V,a){return 2*((1-a)*(r-$)+a*(V-r))}function nK($,r,V,a,t){var v=$-2*r+V,i=2*(r-$),j=$-a,C=0;if(tc(v)){if(Ht(i))(c=-j/i)>=0&&c<=1&&(t[C++]=c)}else{var e=i*i-4*v*j;if(tc(e))(c=-i/(2*v))>=0&&c<=1&&(t[C++]=c);else if(e>0){var c,u=sc(e),o=(-i-u)/(2*v);(c=(-i+u)/(2*v))>=0&&c<=1&&(t[C++]=c),o>=0&&o<=1&&(t[C++]=o)}}return C}function oK($,r,V){var a=$+V-2*r;return 0===a?.5:($-r)/a}function pK($,r,V,a,t){var v=(r-$)*a+$,i=(V-r)*a+r,j=(i-v)*a+v;t[0]=$,t[1]=v,t[2]=j,t[3]=j,t[4]=i,t[5]=V}function qK($,r,V,a,t,v,i,j,C){var e,c=.005,u=1/0;zb[0]=i,zb[1]=j;for(var o=0;o<1;o+=.05){Sa[0]=Vb($,V,t,o),Sa[1]=Vb(r,a,v,o),(q=ie(zb,Sa))<u&&(e=o,u=q)}u=1/0;for(var d=0;d<32&&!(c<Ft);d++){var n=e-c,A=e+c;Sa[0]=Vb($,V,t,n),Sa[1]=Vb(r,a,v,n);var q=ie(Sa,zb);if(n>=0&&q<u)e=n,u=q;else{je[0]=Vb($,V,t,A),je[1]=Vb(r,a,v,A);var b=ie(je,zb);A<=1&&b<u?(e=A,u=b):c*=.5}}return C&&(C[0]=Vb($,V,t,e),C[1]=Vb(r,a,v,e)),sc(u)}var ke=Ub;var rK=hK;var sK=iK;var It=jK;var tK=kK;var uK=lK;var $c=Vb;var Jt=mK;var vK=nK;var Kt=oK;var Lt=pK;var wK=qK;var wa=Math.min,xa=Math.max,om=Math.sin,pm=Math.cos,_c=2*Math.PI,Qh=Ud(),Rh=Ud(),Sh=Ud();function xK($,a,r){if(0!==$.length){var x,v=$[0],t=v[0],Z=v[0],m=v[1],e=v[1];for(x=1;x<$.length;x++)v=$[x],t=wa(t,v[0]),Z=xa(Z,v[0]),m=wa(m,v[1]),e=xa(e,v[1]);a[0]=t,a[1]=m,r[0]=Z,r[1]=e}}function yK($,a,r,x,v,t){v[0]=wa($,r),v[1]=wa(a,x),t[0]=xa($,r),t[1]=xa(a,x)}var Mt=[],Nt=[];function zK($,a,r,x,v,t,Z,m,e,i){var o,n=It,h=ke,c=n($,r,v,Z,Mt);for(e[0]=1/0,e[1]=1/0,i[0]=-1/0,i[1]=-1/0,o=0;o<c;o++){var f=h($,r,v,Z,Mt[o]);e[0]=wa(f,e[0]),i[0]=xa(f,i[0])}for(c=n(a,x,t,m,Nt),o=0;o<c;o++){var M=h(a,x,t,m,Nt[o]);e[1]=wa(M,e[1]),i[1]=xa(M,i[1])}e[0]=wa($,e[0]),i[0]=xa($,i[0]),e[0]=wa(Z,e[0]),i[0]=xa(Z,i[0]),e[1]=wa(a,e[1]),i[1]=xa(a,i[1]),e[1]=wa(m,e[1]),i[1]=xa(m,i[1])}function AK($,a,r,x,v,t,Z,m){var e=Kt,i=$c,o=xa(wa(e($,r,v),1),0),n=xa(wa(e(a,x,t),1),0),h=i($,r,v,o),c=i(a,x,t,n);Z[0]=wa($,v,h),Z[1]=wa(a,t,c),m[0]=xa($,v,h),m[1]=xa(a,t,c)}function BK($,a,r,x,v,t,Z,m,e){var i=Wd,o=Xd,n=Math.abs(v-t);if(n%_c<1e-4&&n>1e-4)return m[0]=$-r,m[1]=a-x,e[0]=$+r,void(e[1]=a+x);if(Qh[0]=pm(v)*r+$,Qh[1]=om(v)*x+a,Rh[0]=pm(t)*r+$,Rh[1]=om(t)*x+a,i(m,Qh,Rh),o(e,Qh,Rh),(v%=_c)<0&&(v+=_c),(t%=_c)<0&&(t+=_c),v>t&&!Z?t+=_c:v<t&&Z&&(v+=_c),Z){var h=t;t=v,v=h}for(var c=0;c<t;c+=Math.PI/2)c>v&&(Sh[0]=pm(c)*r+$,Sh[1]=om(c)*x+a,i(m,Sh,m),o(e,Sh,e))}var Th=xK;var Ot=yK;var CK=zK;var DK=AK;var EK=BK;var lb={},Pt=ll,P={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ab=[],uc=[],Bb=[],Cb=[],Qt=Math.min,Rt=Math.max,Mf=Math.cos,Nf=Math.sin,Uh=Math.sqrt,le=Math.abs,qm="undefined"!=typeof Float32Array,Vh=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};Vh.prototype={constructor:Vh,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,$,s){s=s||0,this._ux=le(s/Pt/a)||0,this._uy=le(s/Pt/$)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,$){return this.addData(P.M,a,$),this._ctx&&this._ctx.moveTo(a,$),this._x0=a,this._y0=$,this._xi=a,this._yi=$,this},lineTo:function(a,$){var s=le(a-this._xi)>this._ux||le($-this._yi)>this._uy||this._len<5;return this.addData(P.L,a,$),this._ctx&&s&&(this._needsDash()?this._dashedLineTo(a,$):this._ctx.lineTo(a,$)),s&&(this._xi=a,this._yi=$),this},bezierCurveTo:function(a,$,s,t,r,i){return this.addData(P.C,a,$,s,t,r,i),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,$,s,t,r,i):this._ctx.bezierCurveTo(a,$,s,t,r,i)),this._xi=r,this._yi=i,this},quadraticCurveTo:function(a,$,s,t){return this.addData(P.Q,a,$,s,t),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,$,s,t):this._ctx.quadraticCurveTo(a,$,s,t)),this._xi=s,this._yi=t,this},arc:function(a,$,s,t,r,i){return this.addData(P.A,a,$,s,s,t,r-t,0,i?0:1),this._ctx&&this._ctx.arc(a,$,s,t,r,i),this._xi=Mf(r)*s+a,this._yi=Nf(r)*s+$,this},arcTo:function(a,$,s,t,r){return this._ctx&&this._ctx.arcTo(a,$,s,t,r),this},rect:function(a,$,s,t){return this._ctx&&this._ctx.rect(a,$,s,t),this.addData(P.R,a,$,s,t),this},closePath:function(){this.addData(P.Z);var a=this._ctx,$=this._x0,s=this._y0;return a&&(this._needsDash()&&this._dashedLineTo($,s),a.closePath()),this._xi=$,this._yi=s,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var $=0,s=0;s<a.length;s++)$+=a[s];this._dashSum=$}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var $=a.length;this.data&&this.data.length===$||!qm||(this.data=new Float32Array($));for(var s=0;s<$;s++)this.data[s]=a[s];this._len=$},appendPath:function(a){a instanceof Array||(a=[a]);for(var $=a.length,s=0,t=this._len,r=0;r<$;r++)s+=a[r].len();qm&&this.data instanceof Float32Array&&(this.data=new Float32Array(t+s));for(r=0;r<$;r++)for(var i=a[r].data,h=0;h<i.length;h++)this.data[t++]=i[h];this._len=t},addData:function(a){if(this._saveData){var $=this.data;this._len+arguments.length>$.length&&(this._expandData(),$=this.data);for(var s=0;s<arguments.length;s++)$[this._len++]=arguments[s];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],$=0;$<this._len;$++)a[$]=this.data[$];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,$){var s,t,r=this._dashSum,i=this._dashOffset,h=this._lineDash,e=this._ctx,n=this._xi,v=this._yi,k=a-n,q=$-v,o=Uh(k*k+q*q),c=n,_=v,d=h.length;for(i<0&&(i=r+i),c-=(i%=r)*(k/=o),_-=i*(q/=o);k>0&&c<=a||k<0&&c>=a||0===k&&(q>0&&_<=$||q<0&&_>=$);)c+=k*(s=h[t=this._dashIdx]),_+=q*s,this._dashIdx=(t+1)%d,k>0&&c<n||k<0&&c>n||q>0&&_<v||q<0&&_>v||e[t%2?"moveTo":"lineTo"](k>=0?Qt(c,a):Rt(c,a),q>=0?Qt(_,$):Rt(_,$));k=c-a,q=_-$,this._dashOffset=-Uh(k*k+q*q)},_dashedBezierTo:function(a,$,s,t,r,i){var h,e,n,v,k,q=this._dashSum,o=this._dashOffset,c=this._lineDash,_=this._ctx,d=this._xi,m=this._yi,u=ke,x=0,f=this._dashIdx,l=c.length,D=0;for(o<0&&(o=q+o),o%=q,h=0;h<1;h+=.1)e=u(d,a,s,r,h+.1)-u(d,a,s,r,h),n=u(m,$,t,i,h+.1)-u(m,$,t,i,h),x+=Uh(e*e+n*n);for(;f<l&&!((D+=c[f])>o);f++);for(h=(D-o)/x;h<=1;)v=u(d,a,s,r,h),k=u(m,$,t,i,h),f%2?_.moveTo(v,k):_.lineTo(v,k),h+=c[f]/x,f=(f+1)%l;f%2!=0&&_.lineTo(r,i),e=r-v,n=i-k,this._dashOffset=-Uh(e*e+n*n)},_dashedQuadraticTo:function(a,$,s,t){var r=s,i=t;s=(s+2*a)/3,t=(t+2*$)/3,a=(this._xi+2*a)/3,$=(this._yi+2*$)/3,this._dashedBezierTo(a,$,s,t,r,i)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,qm&&(this.data=new Float32Array(a)))},getBoundingRect:function(){Ab[0]=Ab[1]=Bb[0]=Bb[1]=Number.MAX_VALUE,uc[0]=uc[1]=Cb[0]=Cb[1]=-Number.MAX_VALUE;for(var a=this.data,$=0,s=0,t=0,r=0,i=0;i<a.length;){var h=a[i++];switch(1===i&&(t=$=a[i],r=s=a[i+1]),h){case P.M:$=t=a[i++],s=r=a[i++],Bb[0]=t,Bb[1]=r,Cb[0]=t,Cb[1]=r;break;case P.L:Ot($,s,a[i],a[i+1],Bb,Cb),$=a[i++],s=a[i++];break;case P.C:CK($,s,a[i++],a[i++],a[i++],a[i++],a[i],a[i+1],Bb,Cb),$=a[i++],s=a[i++];break;case P.Q:DK($,s,a[i++],a[i++],a[i],a[i+1],Bb,Cb),$=a[i++],s=a[i++];break;case P.A:var e=a[i++],n=a[i++],v=a[i++],k=a[i++],q=a[i++],o=a[i++]+q;i+=1;var c=1-a[i++];1===i&&(t=Mf(q)*v+e,r=Nf(q)*k+n),EK(e,n,v,k,q,o,c,Bb,Cb),$=Mf(o)*v+e,s=Nf(o)*k+n;break;case P.R:t=$=a[i++],r=s=a[i++];var _=a[i++],d=a[i++];Ot(t,r,t+_,r+d,Bb,Cb);break;case P.Z:$=t,s=r;}Wd(Ab,Ab,Bb),Xd(uc,uc,Cb)}return 0===i&&(Ab[0]=Ab[1]=uc[0]=uc[1]=0),new I(Ab[0],Ab[1],uc[0]-Ab[0],uc[1]-Ab[1])},rebuildPath:function(a){for(var $,s,t,r,i,h,e=this.data,n=this._ux,v=this._uy,k=this._len,q=0;q<k;){var o=e[q++];switch(1===q&&($=t=e[q],s=r=e[q+1]),o){case P.M:$=t=e[q++],s=r=e[q++],a.moveTo(t,r);break;case P.L:i=e[q++],h=e[q++],(le(i-t)>n||le(h-r)>v||q===k-1)&&(a.lineTo(i,h),t=i,r=h);break;case P.C:a.bezierCurveTo(e[q++],e[q++],e[q++],e[q++],e[q++],e[q++]),t=e[q-2],r=e[q-1];break;case P.Q:a.quadraticCurveTo(e[q++],e[q++],e[q++],e[q++]),t=e[q-2],r=e[q-1];break;case P.A:var c=e[q++],_=e[q++],d=e[q++],m=e[q++],u=e[q++],x=e[q++],f=e[q++],l=e[q++],D=d>m?d:m,b=d>m?1:d/m,C=d>m?m/d:1,M=u+x;Math.abs(d-m)>.001?(a.translate(c,_),a.rotate(f),a.scale(b,C),a.arc(0,0,D,u,M,1-l),a.scale(1/b,1/C),a.rotate(-f),a.translate(-c,-_)):a.arc(c,_,D,u,M,1-l),1===q&&($=Mf(u)*d+c,s=Nf(u)*m+_),t=Mf(M)*d+c,r=Nf(M)*m+_;break;case P.R:$=t=e[q],s=r=e[q+1],a.rect(e[q++],e[q++],e[q++],e[q++]);break;case P.Z:a.closePath(),t=$,r=s;}}}},Vh.CMD=P;var FK=Vh;lb=FK;function GK(r,t,n,$,o,a,e){if(0===o)return!1;var i=o,h=0;if(e>t+i&&e>$+i||e<t-i&&e<$-i||a>r+i&&a>n+i||a<r-i&&a<n-i)return!1;if(r===n)return Math.abs(a-r)<=i/2;var c=(h=(t-$)/(r-n))*a-e+(r*$-n*t)/(r-n);return c*c/(h*h+1)<=i/2*i/2}var vc=GK;function HK(r,$,e,i,t,o,L,n,c,a,v){if(0===c)return!1;var u=c;return!(v>$+u&&v>i+u&&v>o+u&&v>n+u||v<$-u&&v<i-u&&v<o-u&&v<n-u||a>r+u&&a>e+u&&a>t+u&&a>L+u||a<r-u&&a<e-u&&a<t-u&&a<L-u)&&uK(r,$,e,i,t,o,L,n,a,v,null)<=u/2}var IK=HK;var JK=wK;function KK(r,$,t,o,a,e,n,c,i){if(0===n)return!1;var j=n;return!(i>$+j&&i>o+j&&i>e+j||i<$-j&&i<o-j&&i<e-j||c>r+j&&c>t+j&&c>a+j||c<r-j&&c<t-j&&c<a-j)&&JK(r,$,t,o,a,e,c,i,null)<=j/2}var St=KK;var Tt=2*Math.PI;function LK($){return($%=Tt)<0&&($+=Tt),$}var Ut=LK;var Wh=Ut,Of=2*Math.PI;function MK($,a,r,n,t,i,e,q,o){if(0===e)return!1;var v=e;q-=$,o-=a;var K=Math.sqrt(q*q+o*o);if(K-v>r||K+v<r)return!1;if(Math.abs(n-t)%Of<1e-4)return!0;if(i){var l=n;n=Wh(t),t=Wh(l)}else n=Wh(n),t=Wh(t);n>t&&(t+=Of);var u=Math.atan2(o,q);return u<0&&(u+=Of),u>=n&&u<=t||u+Of>=n&&u+Of<=t}var NK=MK;var Wb={};function OK(r,n,$,i,e,s){if(s>n&&s>i||s<n&&s<i)return 0;if(i===n)return 0;var t=i<n?1:-1,a=(s-n)/(i-n);1!==a&&0!==a||(t=i<n?.5:-.5);var v=a*($-r)+r;return v===e?1/0:v>e?t:0}Wb=OK;var Xh=Ut,wc=lb.CMD,me=2*Math.PI,PK=1e-4;function QK($,r){return Math.abs($-r)<PK}var qa=[-1,-1,-1],Ta=[-1,-1];function RK(){var $=Ta[0];Ta[0]=Ta[1],Ta[1]=$}function SK($,r,a,e,f,t,i,n,v,b){if(b>r&&b>e&&b>t&&b>n||b<r&&b<e&&b<t&&b<n)return 0;var S=sK(r,e,t,n,b,qa);if(0===S)return 0;for(var U,o,c=0,u=-1,s=0;s<S;s++){var l=qa[s],d=0===l||1===l?.5:1;ke($,a,f,i,l)<v||(u<0&&(u=It(r,e,t,n,Ta),Ta[1]<Ta[0]&&u>1&&RK(),U=ke(r,e,t,n,Ta[0]),u>1&&(o=ke(r,e,t,n,Ta[1]))),2===u?l<Ta[0]?c+=U<r?d:-d:l<Ta[1]?c+=o<U?d:-d:c+=n<o?d:-d:l<Ta[0]?c+=U<r?d:-d:c+=n<U?d:-d)}return c}function TK($,r,a,e,f,t,i,n){if(n>r&&n>e&&n>t||n<r&&n<e&&n<t)return 0;var v=vK(r,e,t,n,qa);if(0===v)return 0;var b=Kt(r,e,t);if(b>=0&&b<=1){for(var S=0,U=$c(r,e,t,b),o=0;o<v;o++){var c=0===qa[o]||1===qa[o]?.5:1;$c($,a,f,qa[o])<i||(qa[o]<b?S+=U<r?c:-c:S+=t<U?c:-c)}return S}c=0===qa[0]||1===qa[0]?.5:1;return $c($,a,f,qa[0])<i?0:t<r?c:-c}function UK($,r,a,e,f,t,i,n){if((n-=r)>a||n<-a)return 0;var v=Math.sqrt(a*a-n*n);qa[0]=-v,qa[1]=v;var b=Math.abs(e-f);if(b<1e-4)return 0;if(b%me<1e-4){e=0,f=me;var S=t?1:-1;return i>=qa[0]+$&&i<=qa[1]+$?S:0}if(t){v=e;e=Xh(f),f=Xh(v)}else e=Xh(e),f=Xh(f);e>f&&(f+=me);for(var U=0,o=0;o<2;o++){var c=qa[o];if(c+$>i){var u=Math.atan2(n,c);S=t?1:-1;u<0&&(u=me+u),(u>=e&&u<=f||u+me>=e&&u+me<=f)&&(u>Math.PI/2&&u<1.5*Math.PI&&(S=-S),U+=S)}}return U}function Vt($,r,a,e,f){for(var t=0,i=0,n=0,v=0,b=0,S=0;S<$.length;){var U=$[S++];switch(U===wc.M&&S>1&&(a||(t+=Wb(i,n,v,b,e,f))),1===S&&(v=i=$[S],b=n=$[S+1]),U){case wc.M:i=v=$[S++],n=b=$[S++];break;case wc.L:if(a){if(vc(i,n,$[S],$[S+1],r,e,f))return!0}else t+=Wb(i,n,$[S],$[S+1],e,f)||0;i=$[S++],n=$[S++];break;case wc.C:if(a){if(IK(i,n,$[S++],$[S++],$[S++],$[S++],$[S],$[S+1],r,e,f))return!0}else t+=SK(i,n,$[S++],$[S++],$[S++],$[S++],$[S],$[S+1],e,f)||0;i=$[S++],n=$[S++];break;case wc.Q:if(a){if(St(i,n,$[S++],$[S++],$[S],$[S+1],r,e,f))return!0}else t+=TK(i,n,$[S++],$[S++],$[S],$[S+1],e,f)||0;i=$[S++],n=$[S++];break;case wc.A:var o=$[S++],c=$[S++],u=$[S++],s=$[S++],l=$[S++],d=$[S++];S+=1;var x=1-$[S++],m=Math.cos(l)*u+o,M=Math.sin(l)*s+c;S>1?t+=Wb(i,n,m,M,e,f):(v=m,b=M);var P=(e-o)*s/u+o;if(a){if(NK(o,c,s,l,l+d,x,r,P,f))return!0}else t+=UK(o,c,s,l,l+d,x,P,f);i=Math.cos(l+d)*u+o,n=Math.sin(l+d)*s+c;break;case wc.R:v=i=$[S++],b=n=$[S++];m=v+$[S++],M=b+$[S++];if(a){if(vc(v,b,m,b,r,e,f)||vc(m,b,m,M,r,e,f)||vc(m,M,v,M,r,e,f)||vc(v,M,v,b,r,e,f))return!0}else t+=Wb(m,b,m,M,e,f),t+=Wb(v,M,v,b,e,f);break;case wc.Z:if(a){if(vc(i,n,v,b,r,e,f))return!0}else t+=Wb(i,n,v,b,e,f);i=v,n=b;}}return a||QK(n,b)||(t+=Wb(i,n,v,b,e,f)||0),0!==t}function VK($,r,a){return Vt($,0,!1,r,a)}function WK($,r,a,e){return Vt($,r,!0,a,e)}var XK=VK;var YK=WK;var g={},Wt=Ps.prototype.getCanvasPattern,rm=Math.abs,ZK=new lb(!0);function ad(t){yb.call(this,t),this.path=null}ad.prototype={constructor:ad,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,r){var a,e=this.style,i=this.path||ZK,h=e.hasStroke(),s=e.hasFill(),n=e.fill,l=e.stroke,$=s&&!!n.colorStops,o=h&&!!l.colorStops,f=s&&!!n.image,u=h&&!!l.image;(e.bind(t,this,r),this.setTransform(t),this.__dirty)&&($&&(a=a||this.getBoundingRect(),this._fillGradient=e.getGradient(t,n,a)),o&&(a=a||this.getBoundingRect(),this._strokeGradient=e.getGradient(t,l,a)));$?t.fillStyle=this._fillGradient:f&&(t.fillStyle=Wt.call(n,t)),o?t.strokeStyle=this._strokeGradient:u&&(t.strokeStyle=Wt.call(l,t));var p=e.lineDash,c=e.lineDashOffset,v=!!t.setLineDash,D=this.getGlobalScale();if(i.setScale(D[0],D[1],this.segmentIgnoreThreshold),this.__dirtyPath||p&&!v&&h?(i.beginPath(t),p&&!v&&(i.setLineDash(p),i.setLineDashOffset(c)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),s)if(null!=e.fillOpacity){var y=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,i.fill(t),t.globalAlpha=y}else i.fill(t);if(p&&v&&(t.setLineDash(p),t.lineDashOffset=c),h)if(null!=e.strokeOpacity){y=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,i.stroke(t),t.globalAlpha=y}else i.stroke(t);p&&v&&t.setLineDash([]),null!=e.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,r,a){},createPathProxy:function(){this.path=new lb},getBoundingRect:function(){var t=this._rect,r=this.style,a=!t;if(a){var e=this.path;e||(e=this.path=new lb),this.__dirtyPath&&(e.beginPath(),this.buildPath(e,this.shape,!1)),t=e.getBoundingRect()}if(this._rect=t,r.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||a){i.copy(t);var h=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;r.hasFill()||(h=Math.max(h,this.strokeContainThreshold||4)),s>1e-10&&(i.width+=h/s,i.height+=h/s,i.x-=h/s/2,i.y-=h/s/2)}return i}return t},contain:function(t,r){var a=this.transformCoordToLocal(t,r),e=this.getBoundingRect(),i=this.style;if(t=a[0],r=a[1],e.contain(t,r)){var h=this.path.data;if(i.hasStroke()){var s=i.lineWidth,n=i.strokeNoScale?this.getLineScale():1;if(n>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),YK(h,s/n,t,r)))return!0}if(i.hasFill())return XK(h,t,r)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,r){"shape"===t?(this.setShape(r),this.__dirtyPath=!0,this._rect=null):yb.prototype.attrKV.call(this,t,r)},setShape:function(t,r){var a=this.shape;if(a){if(y(t))for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);else a[t]=r;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&rm(t[0]-1)>1e-10&&rm(t[3]-1)>1e-10?Math.sqrt(rm(t[0]*t[3]-t[2]*t[1])):1}},ad.extend=function(t){var r=function(r){ad.call(this,r),t.style&&this.style.extendFrom(t.style,!1);var a=t.shape;if(a){this.shape=this.shape||{};var e=this.shape;for(var i in a)!e.hasOwnProperty(i)&&a.hasOwnProperty(i)&&(e[i]=a[i])}t.init&&t.init.call(this,r)};for(var a in n(r,ad),t)"style"!==a&&"shape"!==a&&(r.prototype[a]=t[a]);return r},n(ad,yb);var $K=ad;g=$K;var _K={},sm=Ga,ne=lb.CMD,aL=[[],[],[]],Xt=Math.sqrt,bL=Math.atan2;function cL($,a){var r,v,P,t,L,E=$.data,e=ne.M,o=ne.C,s=ne.L,p=ne.R,c=ne.A,n=ne.Q;for(P=0,t=0;P<E.length;){switch(r=E[P++],t=P,v=0,r){case e:case s:v=1;break;case o:v=3;break;case n:v=2;break;case c:var h=a[4],M=a[5],f=Xt(a[0]*a[0]+a[1]*a[1]),l=Xt(a[2]*a[2]+a[3]*a[3]),m=bL(-a[1]/l,a[0]/f);E[P]*=f,E[P++]+=h,E[P]*=l,E[P++]+=M,E[P++]*=f,E[P++]*=l,E[P++]+=m,E[P++]+=m,t=P+=2;break;case p:C[0]=E[P++],C[1]=E[P++],sm(C,C,a),E[t++]=C[0],E[t++]=C[1],C[0]+=E[P++],C[1]+=E[P++],sm(C,C,a),E[t++]=C[0],E[t++]=C[1];}for(L=0;L<v;L++){var C;(C=aL[L])[0]=E[P++],C[1]=E[P++],sm(C,C,a),E[t++]=C[0],E[t++]=C[1]}}}_K=cL;var tm=Math.sqrt,Yh=Math.sin,Zh=Math.cos,$h=Math.PI,Yt=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},um=function(a,r){return(a[0]*r[0]+a[1]*r[1])/(Yt(a)*Yt(r))},Zt=function(a,r){return(a[0]*r[1]<a[1]*r[0]?-1:1)*Math.acos(um(a,r))};function $t(a,r,$,t,e,c,v,n,q,o,h){var d=q*($h/180),s=Zh(d)*(a-$)/2+Yh(d)*(r-t)/2,i=-1*Yh(d)*(a-$)/2+Zh(d)*(r-t)/2,P=s*s/(v*v)+i*i/(n*n);P>1&&(v*=tm(P),n*=tm(P));var m=(e===c?-1:1)*tm((v*v*(n*n)-v*v*(i*i)-n*n*(s*s))/(v*v*(i*i)+n*n*(s*s)))||0,g=m*v*i/n,u=m*-n*s/v,p=(a+$)/2+Zh(d)*g-Yh(d)*u,x=(r+t)/2+Yh(d)*g+Zh(d)*u,l=Zt([1,0],[(s-g)/v,(i-u)/n]),b=[(s-g)/v,(i-u)/n],S=[(-1*s-g)/v,(-1*i-u)/n],f=Zt(b,S);um(b,S)<=-1&&(f=$h),um(b,S)>=1&&(f=0),0===c&&f>0&&(f-=2*$h),1===c&&f<0&&(f+=2*$h),h.addData(o,p,x,v,n,l,f,d,c)}var dL=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,eL=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function fL(a){if(!a)return new lb;for(var r,$=0,t=0,e=$,c=t,v=new lb,n=lb.CMD,q=a.match(dL),o=0;o<q.length;o++){for(var h,d=q[o],s=d.charAt(0),i=d.match(eL)||[],P=i.length,m=0;m<P;m++)i[m]=parseFloat(i[m]);for(var g=0;g<P;){var u,p,x,l,b,S,f,D=$,k=t;switch(s){case"l":$+=i[g++],t+=i[g++],h=n.L,v.addData(h,$,t);break;case"L":$=i[g++],t=i[g++],h=n.L,v.addData(h,$,t);break;case"m":$+=i[g++],t+=i[g++],h=n.M,v.addData(h,$,t),e=$,c=t,s="l";break;case"M":$=i[g++],t=i[g++],h=n.M,v.addData(h,$,t),e=$,c=t,s="L";break;case"h":$+=i[g++],h=n.L,v.addData(h,$,t);break;case"H":$=i[g++],h=n.L,v.addData(h,$,t);break;case"v":t+=i[g++],h=n.L,v.addData(h,$,t);break;case"V":t=i[g++],h=n.L,v.addData(h,$,t);break;case"C":h=n.C,v.addData(h,i[g++],i[g++],i[g++],i[g++],i[g++],i[g++]),$=i[g-2],t=i[g-1];break;case"c":h=n.C,v.addData(h,i[g++]+$,i[g++]+t,i[g++]+$,i[g++]+t,i[g++]+$,i[g++]+t),$+=i[g-2],t+=i[g-1];break;case"S":u=$,p=t;var C=v.len(),F=v.data;r===n.C&&(u+=$-F[C-4],p+=t-F[C-3]),h=n.C,D=i[g++],k=i[g++],$=i[g++],t=i[g++],v.addData(h,u,p,D,k,$,t);break;case"s":u=$,p=t;C=v.len(),F=v.data;r===n.C&&(u+=$-F[C-4],p+=t-F[C-3]),h=n.C,D=$+i[g++],k=t+i[g++],$+=i[g++],t+=i[g++],v.addData(h,u,p,D,k,$,t);break;case"Q":D=i[g++],k=i[g++],$=i[g++],t=i[g++],h=n.Q,v.addData(h,D,k,$,t);break;case"q":D=i[g++]+$,k=i[g++]+t,$+=i[g++],t+=i[g++],h=n.Q,v.addData(h,D,k,$,t);break;case"T":u=$,p=t;C=v.len(),F=v.data;r===n.Q&&(u+=$-F[C-4],p+=t-F[C-3]),$=i[g++],t=i[g++],h=n.Q,v.addData(h,u,p,$,t);break;case"t":u=$,p=t;C=v.len(),F=v.data;r===n.Q&&(u+=$-F[C-4],p+=t-F[C-3]),$+=i[g++],t+=i[g++],h=n.Q,v.addData(h,u,p,$,t);break;case"A":x=i[g++],l=i[g++],b=i[g++],S=i[g++],f=i[g++],$t(D=$,k=t,$=i[g++],t=i[g++],S,f,x,l,b,h=n.A,v);break;case"a":x=i[g++],l=i[g++],b=i[g++],S=i[g++],f=i[g++],$t(D=$,k=t,$+=i[g++],t+=i[g++],S,f,x,l,b,h=n.A,v);}}"z"!==s&&"Z"!==s||(h=n.Z,v.addData(h),$=e,t=c),r=h}return v.toStatic(),v}function _t(a,r){var $=fL(a);return(r=r||{}).buildPath=function(a){if(a.setData){a.setData($.data),(r=a.getContext())&&a.rebuildPath(r)}else{var r=a;$.rebuildPath(r)}},r.applyTransform=function(a){_K($,a),this.dirty(!0)},r}function gL(a,r){return new g(_t(a,r))}function hL(a,r){return g.extend(_t(a,r))}function iL(a,r){for(var $=[],t=a.length,e=0;e<t;e++){var c=a[e];c.path||c.createPathProxy(),c.__dirtyPath&&c.buildPath(c.path,c.shape,!0),$.push(c.path)}var v=new g(r);return v.createPathProxy(),v.buildPath=function(a){a.appendPath($);var r=a.getContext();r&&a.rebuildPath(r)},v}var au=gL;var jL=hL;var kL=iL;var K={},lL=sl,_h=function(t){yb.call(this,t)};_h.prototype={constructor:_h,type:"text",brush:function(t,e){var r=this.style;this.__dirty&&Jf(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var $=r.text;null!=$&&($+=""),Tl($,r)?(this.setTransform(t),nt(this,t,$,r,null,e),this.restoreTransform(t)):t.__attrCachedBy=lL.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&Jf(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var r=xb(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(r.x+=t.x||0,r.y+=t.y||0,RI(t.textStroke,t.textStrokeWidth)){var $=t.textStrokeWidth;r.x-=$/2,r.y-=$/2,r.width+=$,r.height+=$}this._rect=r}return this._rect}},n(_h,yb);var mL=_h;K=mL;var Db={},nL=g.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function($,a,r){r&&$.moveTo(a.cx+a.r,a.cy),$.arc(a.cx,a.cy,a.r,0,2*Math.PI,!0)}});Db=nL;var vm={},xc=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function oL($){return x.browser.ie&&x.browser.version>=11?function(){var e,r=this.__clipPaths,t=this.style;if(r)for(var a=0;a<r.length;a++){var s=r[a],o=s&&s.shape,h=s&&s.type;if(o&&("sector"===h&&o.startAngle===o.endAngle||"rect"===h&&(!o.width||!o.height))){for(var v=0;v<xc.length;v++)xc[v][2]=t[xc[v][0]],t[xc[v][0]]=xc[v][1];e=!0;break}}if($.apply(this,arguments),e)for(v=0;v<xc.length;v++)t[xc[v][0]]=xc[v][2]}:$}vm=oL;var mb={},pL=g.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:vm(g.prototype.brush),buildPath:function(a,e){var r=e.cx,t=e.cy,$=Math.max(e.r0||0,0),h=Math.max(e.r,0),p=e.startAngle,i=e.endAngle,l=e.clockwise,o=Math.cos(p),P=Math.sin(p);a.moveTo(o*$+r,P*$+t),a.lineTo(o*h+r,P*h+t),a.arc(r,t,h,p,i,!l),a.lineTo(Math.cos(i)*$+r,Math.sin(i)*$+t),0!==$&&a.arc(r,t,$,i,p,l),a.closePath()}});mb=pL;var ai={},qL=g.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(r,$){var a=$.cx,e=$.cy,p=2*Math.PI;r.moveTo(a+$.r,e),r.arc(a,e,$.r,0,p,!1),r.moveTo(a+$.r0,e),r.arc(a,e,$.r0,0,p,!0)}});ai=qL;var rL={},sL=Nk;function bu(r,$,a,e,t,u,v){var d=.5*(a-r),o=.5*(e-$);return(2*($-a)+d+o)*v+(-3*($-a)-2*d-o)*u+d*t+$}function tL(r,$){for(var a=r.length,e=[],t=0,u=1;u<a;u++)t+=sL(r[u-1],r[u]);var v=t/2;v=v<a?a:v;for(u=0;u<v;u++){var d,o,g,n=u/(v-1)*($?a:a-1),M=Math.floor(n),c=n-M,i=r[M%a];$?(d=r[(M-1+a)%a],o=r[(M+1)%a],g=r[(M+2)%a]):(d=r[0===M?M:M-1],o=r[M>a-2?a-1:M+1],g=r[M>a-3?a-1:M+2]);var l=c*c,f=c*l;e.push([bu(d[0],i[0],o[0],g[0],c,l,f),bu(d[1],i[1],o[1],g[1],c,l,f)])}return e}rL=tL;var uL={},bi=Wd,ci=Xd,wm=Wr,cu=Nk,du=Vr,vL=eb,wL=Pb;function xL(v,$,a,r){var z,K,Z,e,c=[],t=[],n=[],o=[];if(r){Z=[1/0,1/0],e=[-1/0,-1/0];for(var i=0,l=v.length;i<l;i++)bi(Z,Z,v[i]),ci(e,e,v[i]);bi(Z,Z,r[0]),ci(e,e,r[1])}for(i=0,l=v.length;i<l;i++){var s=v[i];if(a)z=v[i?i-1:l-1],K=v[(i+1)%l];else{if(0===i||i===l-1){c.push(vL(v[i]));continue}z=v[i-1],K=v[i+1]}wL(t,K,z),wm(t,t,$);var u=cu(s,z),d=cu(s,K),M=u+d;0!==M&&(u/=M,d/=M),wm(n,t,-u),wm(o,t,d);var _=du([],s,n),f=du([],s,o);r&&(ci(_,_,Z),bi(_,_,e),ci(f,f,Z),bi(f,f,e)),c.push(_),c.push(f)}return a&&c.push(c.shift()),c}uL=xL;function yL(e,o,$){var r=o.points,l=o.smooth;if(r&&r.length>=2){if(l&&"spline"!==l){var t=uL(r,l,$,o.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var a=r.length,i=0;i<($?a:a-1);i++){var h=t[2*i],s=t[2*i+1],v=r[(i+1)%a];e.bezierCurveTo(h[0],h[1],s[0],s[1],v[0],v[1])}}else{"spline"===l&&(r=rL(r,$)),e.moveTo(r[0][0],r[0][1]);i=1;for(var z=r.length;i<z;i++)e.lineTo(r[i][0],r[i][1])}$&&e.closePath()}}var eu=yL;var ya={},zL=g.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function($,e){eu($,e,!0)}});ya=zL;var Ua={},AL=g.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function($,e){eu($,e,!1)}});Ua=AL;var oe=Math.round;function BL(i,$,e){if($){var s=$.x1,t=$.x2,r=$.y1,x=$.y2;i.x1=s,i.x2=t,i.y1=r,i.y2=x;var u=e&&e.lineWidth;u&&(oe(2*s)===oe(2*t)&&(i.x1=i.x2=bd(s,u,!0)),oe(2*r)===oe(2*x)&&(i.y1=i.y2=bd(r,u,!0)))}}function CL(i,$,e){if($){var s=$.x,t=$.y,r=$.width,x=$.height;i.x=s,i.y=t,i.width=r,i.height=x;var u=e&&e.lineWidth;u&&(i.x=bd(s,u,!0),i.y=bd(t,u,!0),i.width=Math.max(bd(s+r,u,!1)-i.x,0===r?0:1),i.height=Math.max(bd(t+x,u,!1)-i.y,0===x?0:1))}}function bd(i,$,e){if(!$)return i;var s=oe(2*i);return(s+oe($))%2==0?s/2:(s+(e?1:-1))/2}var fu=BL;var gu=CL;var DL=bd;var F={},EL=gu,cd={},FL=g.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,$){var t,i,r,p;this.subPixelOptimize?(EL(cd,$,this.style),t=cd.x,i=cd.y,r=cd.width,p=cd.height,cd.r=$.r,$=cd):(t=$.x,i=$.y,r=$.width,p=$.height),$.r?et(e,$):e.rect(t,i,r,p),e.closePath()}});F=FL;var ca={},GL=fu,Pf={},HL=g.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,i){var p,$,t,a;this.subPixelOptimize?(GL(Pf,i,this.style),p=Pf.x1,$=Pf.y1,t=Pf.x2,a=Pf.y2):(p=i.x1,$=i.y1,t=i.x2,a=i.y2);var u=i.percent;0!==u&&(e.moveTo(p,$),u<1&&(t=p*(1-u)+t*u,a=$*(1-u)+a*u),e.lineTo(t,a))},pointAt:function(e){var i=this.shape;return[i.x1*(1-e)+i.x2*e,i.y1*(1-e)+i.y2*e]}});ca=HL;var di={},hu=Lt,iu=tK,ju=$c,ku=ke,lu=Jt,mu=rK,za=[];function nu($,r,a){var v=$.cpx2,t=$.cpy2;return null===v||null===t?[(a?mu:ku)($.x1,$.cpx1,$.cpx2,$.x2,r),(a?mu:ku)($.y1,$.cpy1,$.cpy2,$.y2,r)]:[(a?lu:ju)($.x1,$.cpx1,$.x2,r),(a?lu:ju)($.y1,$.cpy1,$.y2,r)]}var IL=g.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function($,r){var a=r.x1,v=r.y1,t=r.x2,e=r.y2,c=r.cpx1,u=r.cpy1,i=r.cpx2,T=r.cpy2,G=r.percent;0!==G&&($.moveTo(a,v),null==i||null==T?(G<1&&(hu(a,c,t,G,za),c=za[1],t=za[2],hu(v,u,e,G,za),u=za[1],e=za[2]),$.quadraticCurveTo(c,u,t,e)):(G<1&&(iu(a,c,i,t,G,za),c=za[1],i=za[2],t=za[3],iu(v,u,T,e,G,za),u=za[1],T=za[2],e=za[3]),$.bezierCurveTo(c,u,i,T,t,e)))},pointAt:function($){return nu(this.shape,$,!1)},tangentAt:function($){var r=nu(this.shape,$,!0);return Vd(r,r)}});di=IL;var xm={},JL=g.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,e){var l=e.cx,t=e.cy,r=Math.max(e.r,0),$=e.startAngle,c=e.endAngle,n=e.clockwise,s=Math.cos($),h=Math.sin($);a.moveTo(s*r+l,h*r+t),a.arc(l,t,r,$,c,!n)}});xm=JL;var ou={},KL=g.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,h=this.shape.paths,a=0;a<h.length;a++)t=t||h[a].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],h=this.getGlobalScale(),a=0;a<t.length;a++)t[a].path||t[a].createPathProxy(),t[a].path.setScale(h[0],h[1],t[a].segmentIgnoreThreshold)},buildPath:function(t,h){for(var a=h.paths||[],e=0;e<a.length;e++)a[e].buildPath(t,a[e].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],h=0;h<t.length;h++)t[h].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),g.prototype.getBoundingRect.call(this)}});ou=KL;var yc={},ym=function($){this.colorStops=$||[]};ym.prototype={constructor:ym,addColorStop:function($,r){this.colorStops.push({offset:$,color:r})}};var LL=ym;yc=LL;var ei={},fi=function(r,$,a,i,t,e){this.x=null==r?0:r,this.y=null==$?0:$,this.x2=null==a?1:a,this.y2=null==i?0:i,this.type="linear",this.global=e||!1,yc.call(this,t)};fi.prototype={constructor:fi},n(fi,yc);var ML=fi;ei=ML;var NL={},gi=function($,a,r,Q,i){this.x=null==$?.5:$,this.y=null==a?.5:a,this.r=null==r?.5:r,this.type="radial",this.global=i||!1,yc.call(this,Q)};gi.prototype={constructor:gi},n(gi,yc);var OL=gi;NL=OL;var zm={},PL=n;function nb(a){yb.call(this,a),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}nb.prototype.incremental=!0,nb.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},nb.prototype.addDisplayable=function(a,l){l?this._temporaryDisplayables.push(a):this._displayables.push(a),this.dirty()},nb.prototype.addDisplayables=function(a,l){l=l||!1;for(var r=0;r<a.length;r++)this.addDisplayable(a[r],l)},nb.prototype.eachPendingDisplayable=function(a){for(var l=this._cursor;l<this._displayables.length;l++)a&&a(this._displayables[l]);for(l=0;l<this._temporaryDisplayables.length;l++)a&&a(this._temporaryDisplayables[l])},nb.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){(l=this._displayables[a]).parent=this,l.update(),l.parent=null}for(a=0;a<this._temporaryDisplayables.length;a++){var l;(l=this._temporaryDisplayables[a]).parent=this,l.update(),l.parent=null}},nb.prototype.brush=function(a,l){for(var r=this._cursor;r<this._displayables.length;r++){(e=this._displayables[r]).beforeBrush&&e.beforeBrush(a),e.brush(a,r===this._cursor?null:this._displayables[r-1]),e.afterBrush&&e.afterBrush(a)}this._cursor=r;for(r=0;r<this._temporaryDisplayables.length;r++){var e;(e=this._temporaryDisplayables[r]).beforeBrush&&e.beforeBrush(a),e.brush(a,0===r?null:this._temporaryDisplayables[r-1]),e.afterBrush&&e.afterBrush(a)}this._temporaryDisplayables=[],this.notClear=!0};var QL=[];nb.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new I(1/0,1/0,-1/0,-1/0),l=0;l<this._displayables.length;l++){var r=this._displayables[l],e=r.getBoundingRect().clone();r.needLocalTransform()&&e.applyTransform(r.getLocalTransform(QL)),a.union(e)}this._rect=a}return this._rect},nb.prototype.contain=function(a,l){var r=this.transformCoordToLocal(a,l);if(this.getBoundingRect().contain(r[0],r[1]))for(var e=0;e<this._displayables.length;e++){if(this._displayables[e].contain(a,l))return!0}return!1},PL(nb,yb);var RL=nb;zm=RL;var b={};b.Image=oa;b.Group=q;b.Text=K;b.Circle=Db;b.Sector=mb;b.Ring=ai;b.Polygon=ya;b.Polyline=Ua;b.Rect=F;b.Line=ca;b.BezierCurve=di;b.Arc=xm;b.CompoundPath=ou;b.LinearGradient=ei;b.RadialGradient=NL;b.BoundingRect=I;b.IncrementalDisplayable=zm;var hi=Math.max,ii=Math.min,ji={},Am=1,SL={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},pu="emphasis",qu="normal",ru=1,su={},Bm={};function TL(e){return g.extend(e)}function UL(e,t){return jL(e,t)}function Eb(e,t){Bm[e]=t}function VL(e){if(Bm.hasOwnProperty(e))return Bm[e]}function tu(e,t,$,r){var l=au(e,t);return $&&("center"===r&&($=uu($,l.getBoundingRect())),vu(l,$)),l}function WL(e,t,$){var r=new oa({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===$){var l={width:e.width,height:e.height};r.setStyle(uu(t,l))}}});return r}function uu(e,t){var $,r=t.width/t.height,l=e.height*r;return $=l<=e.width?e.height:(l=e.width)/r,{x:e.x+e.width/2-l/2,y:e.y+e.height/2-$/2,width:l,height:$}}var XL=kL;function vu(e,t){if(e.applyTransform){var $=e.getBoundingRect().calculateTransform(t);e.applyTransform($)}}function YL(e){return fu(e.shape,e.shape,e.style),e}function ZL(e){return gu(e.shape,e.shape,e.style),e}var $L=DL;function wu(e){return null!=e&&"none"!==e}var xu=G(),yu=0;function _L(e){if("string"!=typeof e)return e;var t=xu.get(e);return t||(t=xs(e,-.1),yu<1e4&&(xu.set(e,t),yu++)),t}function aM(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(t){var $=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var r=e.style;for(var l in t)null!=t[l]&&($[l]=r[l]);$.fill=r.fill,$.stroke=r.stroke}else e.__cachedNormalStl=e.__cachedNormalZ2=null}}function Cm(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var $=e.__zr,r=e.useHoverLayer&&$&&"canvas"===$.painter.type;if(e.__highlighted=r?"layer":"plain",!(e.isGroup||!$&&e.useHoverLayer)){var l=e,a=e.style;r&&(a=(l=$.addHover(e)).style),li(a),r||aM(l),a.extendFrom(t),zu(a,t,"fill"),zu(a,t,"stroke"),Rf(a),r||(e.dirty(!1),e.z2+=Am)}}}function zu(e,t,$){!wu(t[$])&&wu(e[$])&&(e[$]=_L(e[$]))}function Dm(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var $=e.style,r=e.__cachedNormalStl;r&&(li($),e.setStyle(r),Rf($));var l=e.__cachedNormalZ2;null!=l&&e.z2-l===Am&&(e.z2=l)}}function Qf(e,t,$){var r,l=qu,a=qu;e.__highlighted&&(l=pu,r=!0),t(e,$),e.__highlighted&&(a=pu,r=!0),e.isGroup&&e.traverse(function(e){!e.isGroup&&t(e,$)}),r&&e.__highDownOnUpdate&&e.__highDownOnUpdate(l,a)}function Au(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Dm(e),Cm(e))}function bM(e){!Bu(this,e)&&!this.__highByOuter&&Qf(this,Cm)}function cM(e){!Bu(this,e)&&!this.__highByOuter&&Qf(this,Dm)}function dM(e){this.__highByOuter|=1<<(e||0),Qf(this,Cm)}function eM(e){!(this.__highByOuter&=~(1<<(e||0)))&&Qf(this,Dm)}function Bu(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function fM(e,t){Cu(e,!0),Qf(e,Au,t)}function Cu(e,t){var $=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!$||e.__highDownDispatcher){var r=$?"off":"on";e[r]("mouseover",bM)[r]("mouseout",cM),e[r]("emphasis",dM)[r]("normal",eM),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!$}}function gM(e){return!(!e||!e.__highDownDispatcher)}function hM(e){var t=su[e];return null==t&&ru<=32&&(t=su[e]=ru++),t}function iM(e,t,$,r,l,a,o){var i,n=(l=l||ji).labelFetcher,H=l.labelDataIndex,F=l.labelDimIndex,Q=l.labelProp,v=$.getShallow("show"),p=r.getShallow("show");(v||p)&&(n&&(i=n.getFormattedLabel(H,"normal",null,F,Q)),null==i&&(i=fa(l.defaultText)?l.defaultText(H,l):l.defaultText));var s=v?i:null,h=p?Fa(n?n.getFormattedLabel(H,"emphasis",null,F,Q):null,i):null;null==s&&null==h||(Em(e,$,a,l),Em(t,r,o,l,!0)),e.text=s,t.text=h}function jM(e,t,$){var r=e.style;t&&(li(r),e.setStyle(t),Rf(r)),r=e.__hoverStl,$&&r&&(li(r),z(r,$),Rf(r))}function Em(e,t,$,r,l){return Du(e,t,r,l),$&&z(e,$),e}function kM(e,t,$){var r,l={isRectText:!0};!1===$?r=!0:l.autoColor=$,Du(e,t,l,r)}function Du(e,t,$,r){if(($=$||ji).isRectText){var l;$.getTextPosition?l=$.getTextPosition(t,r):"outside"===(l=t.getShallow("position")||(r?null:"inside"))&&(l="top"),e.textPosition=l,e.textOffset=t.getShallow("offset");var a=t.getShallow("rotate");null!=a&&(a*=Math.PI/180),e.textRotation=a,e.textDistance=Fa(t.getShallow("distance"),r?null:5)}var o,i=t.ecModel,n=i&&i.option.textStyle,H=lM(t);if(H)for(var F in o={},H)if(H.hasOwnProperty(F)){var Q=t.getModel(["rich",F]);Eu(o[F]={},Q,n,$,r)}return e.rich=o,Eu(e,t,n,$,r,!0),$.forceRich&&!$.textStyle&&($.textStyle={}),e}function lM(e){for(var t;e&&e!==e.ecModel;){var $=(e.option||ji).rich;if($)for(var r in t=t||{},$)$.hasOwnProperty(r)&&(t[r]=1);e=e.parentModel}return t}function Eu(e,t,$,r,l,a){$=!l&&$||ji,e.textFill=ki(t.getShallow("color"),r)||$.color,e.textStroke=ki(t.getShallow("textBorderColor"),r)||$.textBorderColor,e.textStrokeWidth=Fa(t.getShallow("textBorderWidth"),$.textBorderWidth),l||(a&&(e.insideRollbackOpt=r,Rf(e)),null==e.textFill&&(e.textFill=r.autoColor)),e.fontStyle=t.getShallow("fontStyle")||$.fontStyle,e.fontWeight=t.getShallow("fontWeight")||$.fontWeight,e.fontSize=t.getShallow("fontSize")||$.fontSize,e.fontFamily=t.getShallow("fontFamily")||$.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),a&&r.disableBox||(e.textBackgroundColor=ki(t.getShallow("backgroundColor"),r),e.textPadding=t.getShallow("padding"),e.textBorderColor=ki(t.getShallow("borderColor"),r),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||$.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||$.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||$.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||$.textShadowOffsetY}function ki(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Rf(e){var t,$=e.textPosition,r=e.insideRollbackOpt;if(r&&null==e.textFill){var l=r.autoColor,a=r.isRectText,o=r.useInsideStyle,i=!1!==o&&(!0===o||a&&$&&"string"==typeof $&&$.indexOf("inside")>=0),n=!i&&null!=l;(i||n)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),i&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=l,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),n&&(e.textFill=l)}e.insideRollback=t}function li(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function mM(e,t){var $=t&&t.getModel("textStyle");return nh([e.fontStyle||$&&$.getShallow("fontStyle")||"",e.fontWeight||$&&$.getShallow("fontWeight")||"",(e.fontSize||$&&$.getShallow("fontSize")||12)+"px",e.fontFamily||$&&$.getShallow("fontFamily")||"sans-serif"].join(" "))}function Fu(e,t,$,r,l,a){if("function"==typeof l&&(a=l,l=null),r&&r.isAnimationEnabled()){var o=e?"Update":"",i=r.getShallow("animationDuration"+o),n=r.getShallow("animationEasing"+o),H=r.getShallow("animationDelay"+o);"function"==typeof H&&(H=H(l,r.getAnimationDelayParams?r.getAnimationDelayParams(t,l):null)),"function"==typeof i&&(i=i(l)),i>0?t.animateTo($,i,H||0,n,a,!!a):(t.stopAnimation(),t.attr($),a&&a())}else t.stopAnimation(),t.attr($),a&&a()}function Gu(e,t,$,r,l){Fu(!0,e,t,$,r,l)}function nM(e,t,$,r,l){Fu(!1,e,t,$,r,l)}function oM(e,t){for(var $=yf([]);e&&e!==t;)mc($,e.getLocalTransform(),$),e=e.parent;return $}function Hu(e,t,$){return t&&!Rd(t)&&(t=nc.getLocalTransform(t)),$&&(t=ph([],t)),Ga([],e,t)}function pM(e,t,$){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),l=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===e?-r:"right"===e?r:0,"top"===e?-l:"bottom"===e?l:0];return a=Hu(a,t,$),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function qM(e,t,$,r){if(e&&t){var l,a=(l={},e.traverse(function(e){!e.isGroup&&e.anid&&(l[e.anid]=e)}),l);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=a[e.anid];if(t){var r=o(e);e.attr(o(t)),Gu(e,r,$,e.dataIndex)}}})}function o(e){var t={position:eb(e.position),rotation:e.rotation};return e.shape&&(t.shape=z({},e.shape)),t}}function rM(e,t){return j(e,function(e){var $=e[0];$=hi($,t.x),$=ii($,t.x+t.width);var r=e[1];return r=hi(r,t.y),[$,r=ii(r,t.y+t.height)]})}function sM(e,t){var $=hi(e.x,t.x),r=ii(e.x+e.width,t.x+t.width),l=hi(e.y,t.y),a=ii(e.y+e.height,t.y+t.height);if(r>=$&&a>=l)return{x:$,y:l,width:r-$,height:a-l}}function tM(e,t,$){var r=(t=z({rectHover:!0},t)).style={strokeNoScale:!0};if($=$||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(r.image=e.slice(8),E(r,$),new oa(t)):tu(e.replace("path://",""),t,$,"center")}function uM(e,t,$,r,l){for(var a=0,o=l[l.length-1];a<l.length;a++){var i=l[a];if(Iu(e,t,$,r,i[0],i[1],o[0],o[1]))return!0;o=i}}function Iu(e,t,$,r,l,a,o,i){var n=$-e,H=r-t,F=o-l,Q=i-a,v=Fm(F,Q,n,H);if(vM(v))return!1;var p=e-l,s=t-a,h=Fm(p,s,n,H)/v;if(h<0||h>1)return!1;var x=Fm(p,s,F,Q)/v;return!(x<0||x>1)}function Fm(e,t,$,r){return e*r-$*t}function vM(e){return e<=1e-6&&e>=-1e-6}Eb("circle",Db),Eb("sector",mb),Eb("ring",ai),Eb("polygon",ya),Eb("polyline",Ua),Eb("rect",F),Eb("line",ca),Eb("bezierCurve",di),Eb("arc",xm);var Gm=Am;b.Z2_EMPHASIS_LIFT=Gm;var Ju=SL;b.CACHED_LABEL_STYLE_PROPERTIES=Ju;var Va=TL;b.extendShape=Va;var wM=UL;b.extendPath=wM;var xM=Eb;b.registerShape=xM;var Hm=VL;b.getShapeClass=Hm;var Im=tu;b.makePath=Im;var Ku=WL;b.makeImage=Ku;var Wa=XL;b.mergePath=Wa;var yM=vu;b.resizePath=yM;var zM=YL;b.subPixelOptimizeLine=zM;var AM=ZL;b.subPixelOptimizeRect=AM;var Lu=$L;b.subPixelOptimize=Lu;var mi=Au;b.setElementHoverStyle=mi;var V=fM;b.setHoverStyle=V;var pe=Cu;b.setAsHighDownDispatcher=pe;var ni=gM;b.isHighDownDispatcher=ni;var Mu=hM;b.getHighlightDigit=Mu;var Ia=iM;b.setLabelStyle=Ia;var Jm=jM;b.modifyLabelStyle=Jm;var R=Em;b.setTextStyle=R;var BM=kM;b.setText=BM;var Km=mM;b.getFont=Km;var A=Gu;b.updateProps=A;var ga=nM;b.initProps=ga;var dd=oM;b.getTransform=dd;var Xb=Hu;b.applyTransform=Xb;var Lm=pM;b.transformDirection=Lm;var oi=qM;b.groupTransition=oi;var Nu=rM;b.clipPointsByRect=Nu;var CM=sM;b.clipRectByRect=CM;var qe=tM;b.createIcon=qe;var Ou=uM;b.linePolygonIntersect=Ou;var DM=Iu;b.lineLineIntersect=DM;var EM={},FM=["textStyle","color"],GM={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(FM):null)},getFont:function(){return Km({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return xb(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};EM=GM;var HM={},IM=he([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),JM={getItemStyle:function(e,t){var r=IM(this,e,t),a=this.getBorderLineDash();return a&&(r.lineDash=a),r},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}};HM=JM;var L={},KM=va,LM=Lf,MM=mm,pi=l,Pu=KM();function Fb($,e,r){this.parentModel=e,this.ecModel=r,this.option=$}function Qu($,e,r){for(var t=0;t<e.length&&(!e[t]||null!=($=$&&"object"==typeof $?$[e[t]]:null));t++);return null==$&&r&&($=r.get(e)),$}function Mm($,e){var r=Pu($).getParent;return r?r.call($,e):$.parentModel}Fb.prototype={constructor:Fb,init:null,mergeOption:function($){f(this.option,$,!0)},get:function($,e){return null==$?this.option:Qu(this.option,this.parsePath($),!e&&Mm(this,$))},getShallow:function($,e){var r=this.option,t=null==r?r:r[$],n=!e&&Mm(this,$);return null==t&&n&&(t=n.getShallow($)),t},getModel:function($,e){var r;return new Fb(null==$?this.option:Qu(this.option,$=this.parsePath($)),e=e||(r=Mm(this,$))&&r.getModel($),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(B(this.option))},setReadOnly:function($){},parsePath:function($){return"string"==typeof $&&($=$.split(".")),$},customizeGetParent:function($){Pu(this).getParent=$},isAnimationEnabled:function(){if(!x.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},LM(Fb),MM(Fb),pi(Fb,bK),pi(Fb,eK),pi(Fb,EM),pi(Fb,HM);var NM=Fb;L=NM;var Ru=Et,OM=0;function PM(e){return[e||"",OM++,Math.random().toFixed(5)].join("_")}function QM(e){var r={};return e.registerSubTypeDefaulter=function(e,$){e=Ru(e),r[e.main]=$},e.determineSubType=function($,a){var t=a.type;if(!t){var n=Ru($).main;e.hasSubTypes($)&&r[n]&&(t=r[n](a))}return t},e}function RM(e,r){function $(e,r){return e[r]||(e[r]={predecessor:[],successor:[]}),e[r]}e.topologicalTravel=function(e,a,t,n){if(e.length){var o=function(e){var a={},t=[];return k(e,function(n){var o=$(a,n),l=function(e,r){var $=[];return k(e,function(e){C(r,e)>=0&&$.push(e)}),$}(o.originalDeps=r(n),e);o.entryCount=l.length,0===o.entryCount&&t.push(n),k(l,function(e){C(o.predecessor,e)<0&&o.predecessor.push(e);var r=$(a,e);C(r.successor,e)<0&&r.successor.push(n)})}),{graph:a,noEntryList:t}}(a),l=o.graph,i=o.noEntryList,u={};for(k(e,function(e){u[e]=!0});i.length;){var s=i.pop(),p=l[s],c=!!u[s];c&&(t.call(n,s,p.originalDeps.slice()),delete u[s]),k(p.successor,c?v:d)}k(u,function(){throw new Error("Circle dependency may exists")})}function d(e){l[e].entryCount--,0===l[e].entryCount&&i.push(e)}function v(e){u[e]=!0,d(e)}}}var Sf=PM;var SM=QM;var TM=RM;var W={},Su=1e-4;function UM(r){return r.replace(/^\s+|\s+$/g,"")}function VM(r,$,e,t){var a=$[1]-$[0],D=e[1]-e[0];if(0===a)return 0===D?e[0]:(e[0]+e[1])/2;if(t){if(a>0){if(r<=$[0])return e[0];if(r>=$[1])return e[1]}else{if(r>=$[0])return e[0];if(r<=$[1])return e[1]}}else{if(r===$[0])return e[0];if(r===$[1])return e[1]}return(r-$[0])/a*D+e[0]}function WM(r,$){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";}return"string"==typeof r?UM(r).match(/%$/)?parseFloat(r)/100*$:parseFloat(r):null==r?NaN:+r}function XM(r,$,e){return null==$&&($=10),$=Math.min(Math.max(0,$),20),r=(+r).toFixed($),e?r:+r}function YM(r){return r.sort(function(r,$){return r-$}),r}function ZM(r){if(r=+r,isNaN(r))return 0;for(var $=1,e=0;Math.round(r*$)/$!==r;)$*=10,e++;return e}function $M(r){var $=r.toString(),e=$.indexOf("e");if(e>0){var t=+$.slice(e+1);return t<0?-t:0}var a=$.indexOf(".");return a<0?0:$.length-1-a}function _M(r,$){var e=Math.log,t=Math.LN10,a=Math.floor(e(r[1]-r[0])/t),D=Math.round(e(Math.abs($[1]-$[0]))/t),n=Math.min(Math.max(-a+D,0),20);return isFinite(n)?n:20}function aN(r,$,e){if(!r[$])return 0;var t=Sd(r,function(r,$){return r+(isNaN($)?0:$)},0);if(0===t)return 0;for(var a=Math.pow(10,e),D=j(r,function(r){return(isNaN(r)?0:r)/t*a*100}),n=100*a,i=j(D,function(r){return Math.floor(r)}),o=Sd(i,function(r,$){return r+$},0),M=j(D,function(r,$){return r-i[$]});o<n;){for(var u=Number.NEGATIVE_INFINITY,s=null,v=0,p=M.length;v<p;++v)M[v]>u&&(u=M[v],s=v);++i[s],M[s]=0,++o}return i[$]/a}var bN=9007199254740991;function cN(r){var $=2*Math.PI;return(r%$+$)%$}function dN(r){return r>-Su&&r<Su}var eN=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function fN(r){if(r instanceof Date)return r;if("string"==typeof r){var $=eN.exec(r);if(!$)return new Date(NaN);if($[8]){var e=+$[4]||0;return"Z"!==$[8].toUpperCase()&&(e-=$[8].slice(0,3)),new Date(Date.UTC(+$[1],+($[2]||1)-1,+$[3]||1,e,+($[5]||0),+$[6]||0,+$[7]||0))}return new Date(+$[1],+($[2]||1)-1,+$[3]||1,+$[4]||0,+($[5]||0),+$[6]||0,+$[7]||0)}return null==r?new Date(NaN):new Date(Math.round(r))}function gN(r){return Math.pow(10,Nm(r))}function Nm(r){if(0===r)return 0;var $=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,$)>=10&&$++,$}function hN(r,$){var e=Nm(r),t=Math.pow(10,e),a=r/t;return r=($?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10)*t,e>=-20?+r.toFixed(e<0?-e:0):r}function iN(r,$){var e=(r.length-1)*$+1,t=Math.floor(e),a=+r[t-1],D=e-t;return D?a+D*(r[t]-a):a}function jN(r){r.sort(function(r,$){return function r($,e,t){return $.interval[t]<e.interval[t]||$.interval[t]===e.interval[t]&&($.close[t]-e.close[t]==(t?-1:1)||!t&&r($,e,1))}(r,$,0)?-1:1});for(var $=-1/0,e=1,t=0;t<r.length;){for(var a=r[t].interval,D=r[t].close,n=0;n<2;n++)a[n]<=$&&(a[n]=$,D[n]=n?1:1-e),$=a[n],e=D[n];a[0]===a[1]&&D[0]*D[1]!=1?r.splice(t,1):t++}return r}function kN(r){return r-parseFloat(r)>=0}var ra=VM;W.linearMap=ra;var D=WM;W.parsePercent=D;var ha=XM;W.round=ha;var ed=YM;W.asc=ed;var Tu=ZM;W.getPrecision=Tu;var qi=$M;W.getPrecisionSafe=qi;var Om=_M;W.getPixelPrecision=Om;var Uu=aN;W.getPercentWithPrecision=Uu;var Vu=bN;W.MAX_SAFE_INTEGER=Vu;var Wu=cN;W.remRadian=Wu;var Xu=dN;W.isRadianAroundZero=Xu;var Tf=fN;W.parseDate=Tf;var Yu=gN;W.quantity=Yu;var lN=Nm;W.quantityExponent=lN;var Pm=hN;W.nice=Pm;var mN=iN;W.quantile=mN;var Zu=jN;W.reformIntervals=Zu;var $u=kN;W.isNumeric=$u;var Aa={};function nN(r){return isNaN(r)?"-":(r=(r+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(r.length>1?"."+r[1]:"")}function oN(r,e){return r=(r||"").toLowerCase().replace(/-(.)/g,function(r,e){return e.toUpperCase()}),e&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var pN=Ik,qN=/([&<>"'])/g,rN={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"};function Uf(r){return null==r?"":(r+"").replace(qN,function(r,e){return rN[e]})}var _u=["a","b","c","d","e","f","g"],Qm=function(r,e){return"{"+r+(null==e?"":e)+"}"};function sN(r,e,$){J(e)||(e=[e]);var t=e.length;if(!t)return"";for(var a=e[0].$vars||[],o=0;o<a.length;o++){var n=_u[o];r=r.replace(Qm(n),Qm(n,0))}for(var p=0;p<t;p++)for(var i=0;i<a.length;i++){var l=e[p][a[i]];r=r.replace(Qm(_u[i],p),$?Uf(l):l)}return r}function tN(r,e,$){return k(e,function(e,t){r=r.replace("{"+t+"}",$?Uf(e):e)}),r}function uN(r,e){var $=(r=M(r)?{color:r,extraCssText:e}:r||{}).color,t=r.type,a=(e=r.extraCssText,r.renderMode||"html"),o=r.markerId||"X";return $?"html"===a?"subItem"===t?"<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:"+Uf($)+";"+(e||"")+"\"></span>":"<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:"+Uf($)+";"+(e||"")+"\"></span>":{renderMode:a,content:"{marker"+o+"|}  ",style:{color:$}}:""}function re(r,e){return"0000".substr(0,e-(r+="").length)+r}function vN(r,e,$){"week"!==r&&"month"!==r&&"quarter"!==r&&"half-year"!==r&&"year"!==r||(r="MM-dd\nyyyy");var t=Tf(e),a=$?"UTC":"",o=t["get"+a+"FullYear"](),n=t["get"+a+"Month"]()+1,p=t["get"+a+"Date"](),i=t["get"+a+"Hours"](),l=t["get"+a+"Minutes"](),k=t["get"+a+"Seconds"](),B=t["get"+a+"Milliseconds"]();return r=r.replace("MM",re(n,2)).replace("M",n).replace("yyyy",o).replace("yy",o%100).replace("dd",re(p,2)).replace("d",p).replace("hh",re(i,2)).replace("h",i).replace("mm",re(l,2)).replace("m",l).replace("ss",re(k,2)).replace("s",k).replace("SSS",re(B,3))}function wN(r){return r?r.charAt(0).toUpperCase()+r.substr(1):r}var xN=at;function yN(r){return xb(r.text,r.font,r.textAlign,r.textVerticalAlign,r.textPadding,r.textLineHeight,r.rich,r.truncate)}function zN(r,e,$,t,a,o,n,p){return xb(r,e,$,t,a,p,o,n)}function AN(r,e){if("_blank"===e||"blank"===e){var $=window.open();$.opener=null,$.location=r}else window.open(r,e)}var se=nN;Aa.addCommas=se;var av=oN;Aa.toCamelCase=av;var fd=pN;Aa.normalizeCssArray=fd;var Ja=Uf;Aa.encodeHTML=Ja;var Rm=sN;Aa.formatTpl=Rm;var bv=tN;Aa.formatTplSimple=bv;var Sm=uN;Aa.getTooltipMarker=Sm;var Tm=vN;Aa.formatTime=Tm;var ri=wN;Aa.capitalFirst=ri;var cv=xN;Aa.truncateText=cv;var BN=yN;Aa.getTextBoundingRect=BN;var CN=zN;Aa.getTextRect=CN;var si=AN;Aa.windowOpen=si;var Gb=D,ti=k,dv=["left","right","top","bottom","width","height"],gd=[["width","left","right"],["height","top","bottom"]];function Um(e,$,r,a,t){var p=0,o=0;null==a&&(a=1/0),null==t&&(t=1/0);var m=0;$.eachChild(function(i,n){var v,Y,l=i.position,s=i.getBoundingRect(),u=$.childAt(n+1),c=u&&u.getBoundingRect();if("horizontal"===e){var h=s.width+(c?-c.x+s.x:0);(v=p+h)>a||i.newline?(p=0,v=h,o+=m+r,m=s.height):m=Math.max(m,s.height)}else{var x=s.height+(c?-c.y+s.y:0);(Y=o+x)>t||i.newline?(p+=m+r,o=0,Y=x,m=s.width):m=Math.max(m,s.width)}i.newline||(l[0]=p,l[1]=o,"horizontal"===e?p=v+r:o=Y+r)})}var DN=Um,i=w(Um,"vertical"),o=w(Um,"horizontal");function EN(e,$,r){var a=$.width,t=$.height,p=Gb(e.x,a),o=Gb(e.y,t),m=Gb(e.x2,a),i=Gb(e.y2,t);return(isNaN(p)||isNaN(parseFloat(e.x)))&&(p=0),(isNaN(m)||isNaN(parseFloat(e.x2)))&&(m=a),(isNaN(o)||isNaN(parseFloat(e.y)))&&(o=0),(isNaN(i)||isNaN(parseFloat(e.y2)))&&(i=t),r=fd(r||0),{width:Math.max(m-p-r[1]-r[3],0),height:Math.max(i-o-r[0]-r[2],0)}}function ev(e,$,r){r=fd(r||0);var a=$.width,t=$.height,p=Gb(e.left,a),o=Gb(e.top,t),m=Gb(e.right,a),i=Gb(e.bottom,t),n=Gb(e.width,a),v=Gb(e.height,t),Y=r[2]+r[0],l=r[1]+r[3],s=e.aspect;switch(isNaN(n)&&(n=a-m-l-p),isNaN(v)&&(v=t-i-Y-o),null!=s&&(isNaN(n)&&isNaN(v)&&(s>a/t?n=.8*a:v=.8*t),isNaN(n)&&(n=s*v),isNaN(v)&&(v=n/s)),isNaN(p)&&(p=a-m-n-l),isNaN(o)&&(o=t-i-v-Y),e.left||e.right){case"center":p=a/2-n/2-r[3];break;case"right":p=a-n-l;}switch(e.top||e.bottom){case"middle":case"center":o=t/2-v/2-r[0];break;case"bottom":o=t-v-Y;}p=p||0,o=o||0,isNaN(n)&&(n=a-l-p-(m||0)),isNaN(v)&&(v=t-Y-o-(i||0));var u=new I(p+r[3],o+r[0],n,v);return u.margin=r,u}function FN(e,$,r,a,t){var p=!t||!t.hv||t.hv[0],o=!t||!t.hv||t.hv[1],m=t&&t.boundingMode||"all";if(p||o){var i;if("raw"===m)i="group"===e.type?new I(0,0,+$.width||0,+$.height||0):e.getBoundingRect();else if(i=e.getBoundingRect(),e.needLocalTransform()){var n=e.getLocalTransform();(i=i.clone()).applyTransform(n)}$=ev(E({width:i.width,height:i.height},$),r,a);var v=e.position,Y=p?$.x-i.x:0,l=o?$.y-i.y:0;e.attr("position","raw"===m?[Y,l]:[v[0]+Y,v[1]+l])}}function GN(e,$){return null!=e[gd[$][0]]||null!=e[gd[$][1]]&&null!=e[gd[$][2]]}function HN(e,$,r){!y(r)&&(r={});var a=r.ignoreSize;!J(a)&&(a=[a,a]);var t=o(gd[0],0),p=o(gd[1],1);function o(r,t){var p={},o=0,n={},v=0;if(ti(r,function($){n[$]=e[$]}),ti(r,function(e){m($,e)&&(p[e]=n[e]=$[e]),i(p,e)&&o++,i(n,e)&&v++}),a[t])return i($,r[1])?n[r[2]]=null:i($,r[2])&&(n[r[1]]=null),n;if(2!==v&&o){if(o>=2)return p;for(var Y=0;Y<r.length;Y++){var l=r[Y];if(!m(p,l)&&m(e,l)){p[l]=e[l];break}}return p}return n}function m(e,$){return e.hasOwnProperty($)}function i(e,$){return null!=e[$]&&"auto"!==e[$]}function n(e,$,r){ti(e,function(e){$[e]=r[e]})}n(gd[0],e,t),n(gd[1],e,p)}function IN(e){return fv({},e)}function fv(e,$){return $&&e&&ti(dv,function(r){$.hasOwnProperty(r)&&(e[r]=$[r])}),e}var JN=dv;var hd=DN;var KN=EN;var T=ev;var ui=FN;var LN=GN;var id=HN;var te=IN;var MN=fv;var NN={},ON={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};NN=ON;var p={},PN=Mh,QN=Et,RN=va,SN=RN(),ue=L.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,$,a,t){L.call(this,e,$,a,t),this.uid=Sf("ec_cpt_model")},init:function(e,$,a,t){this.mergeDefaultAndTheme(e,a)},mergeDefaultAndTheme:function(e,$){var a=this.layoutMode,t=a?te(e):{},r=$.getTheme();f(e,r.get(this.mainType)),f(e,this.getDefaultOption()),a&&id(e,t,a)},mergeOption:function(e,$){f(this.option,e,!0);var a=this.layoutMode;a&&id(this.option,e,a)},optionUpdated:function(e,$){},getDefaultOption:function(){var e=SN(this);if(!e.defaultOption){for(var $=[],a=this.constructor;a;){var t=a.prototype.defaultOption;t&&$.push(t),a=a.superClass}for(var r={},n=$.length-1;n>=0;n--)r=f(r,$[n],!0);e.defaultOption=r}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});function TN(e){var $=[];return k(ue.getClassesByMainType(e),function(e){$=$.concat(e.prototype.dependencies||[])}),$=j($,function(e){return QN(e).main}),"dataset"!==e&&C($,"dataset")<=0&&$.unshift("dataset"),$}PN(ue,{registerWhenExtend:!0}),SM(ue),TM(ue,TN),l(ue,NN);var UN=ue;p=UN;var VN={},WN="";"undefined"!=typeof navigator&&(WN=navigator.platform||"");var XN={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:WN.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};VN=XN;var Vm={},YN=va,ZN=pa,Wm=YN();function $N(r,o){for(var e=r.length,$=0;$<e;$++)if(r[$].length>o)return r[$];return r[e-1]}var _N={clearColorPalette:function(){Wm(this).colorIdx=0,Wm(this).colorNameMap={}},getColorFromPalette:function(r,o,e){var $=Wm(o=o||this),a=$.colorIdx||0,t=$.colorNameMap=$.colorNameMap||{};if(t.hasOwnProperty(r))return t[r];var l=ZN(this.get("color",!0)),n=this.get("colorLayer",!0),u=null!=e&&n?$N(n,e):l;if((u=u||l)&&u.length){var v=u[a];return r&&(t[r]=v),$.colorIdx=(a+1)%u.length,v}}};Vm=_N;var aO="original",bO="arrayRows",cO="objectRows",dO="keyedColumns",eO="unknown",fO="typedArray",gO="column",hO="row",vi=aO;var gv=bO;var hv=cO;var iv=dO;var jv=eO;var Xm=fO;var kv=gO;var iO=hO;var zc={},jO=G,kO=Rc,lO=mm,mO=vi,nO=kv,oO=jv,pO=Xm,qO=iv;function wi($){this.fromDataset=$.fromDataset,this.data=$.data||($.sourceFormat===qO?{}:[]),this.sourceFormat=$.sourceFormat||oO,this.seriesLayoutBy=$.seriesLayoutBy||nO,this.dimensionsDefine=$.dimensionsDefine,this.encodeDefine=$.encodeDefine&&jO($.encodeDefine),this.startIndex=$.startIndex||0,this.dimensionsDetectCount=$.dimensionsDetectCount}wi.seriesDataToSource=function($){return new wi({data:$,sourceFormat:kO($)?pO:mO,fromDataset:!1})},lO(wi);var rO=wi;zc=rO;var sO=va,lv=Jh,mv=G,Vf=k,tO=j,xi=J,Ym=M,ve=y,yi=Rc,uO=Rd,vO=z,Zm=vi,zi=gv,Ai=hv,Bi=iv,wO=jv,nv=Xm,$m=iO,ia={Must:1,Might:2,Not:3},we=sO();function xO($){var r=$.option.source,e=wO;if(yi(r))e=nv;else if(xi(r)){0===r.length&&(e=zi);for(var a=0,u=r.length;a<u;a++){var R=r[a];if(null!=R){if(xi(R)){e=zi;break}if(ve(R)){e=Ai;break}}}}else if(ve(r)){for(var t in r)if(r.hasOwnProperty(t)&&uO(r[t])){e=Bi;break}}else if(null!=r)throw new Error("Invalid data");we($).sourceFormat=e}function yO($){return we($).source}function zO($){we($).datasetMap=mv()}function AO($){var r=$.option,e=r.data,a=yi(e)?nv:Zm,u=!1,R=r.seriesLayoutBy,t=r.sourceHeader,n=r.dimensions,i=_m($);if(i){var o=i.option;e=o.source,a=we(i).sourceFormat,u=!0,R=R||o.seriesLayoutBy,null==t&&(t=o.sourceHeader),n=n||o.dimensions}var v=BO(e,a,R,t,n);we($).source=new zc({data:e,fromDataset:u,seriesLayoutBy:R,sourceFormat:a,dimensionsDefine:v.dimensionsDefine,startIndex:v.startIndex,dimensionsDetectCount:v.dimensionsDetectCount,encodeDefine:r.encode})}function BO($,r,e,a,u){if(!$)return{dimensionsDefine:ov(u)};var R,t;if(r===zi)"auto"===a||null==a?pv(function($){null!=$&&"-"!==$&&(Ym($)?null==t&&(t=1):t=0)},e,$,10):t=a?1:0,u||1!==t||(u=[],pv(function($,r){u[r]=null!=$?$:""},e,$)),R=u?u.length:e===$m?$.length:$[0]?$[0].length:null;else if(r===Ai)u||(u=CO($));else if(r===Bi)u||(u=[],Vf($,function($,r){u.push(r)}));else if(r===Zm){var n=lv($[0]);R=xi(n)&&n.length||1}return{startIndex:t,dimensionsDefine:ov(u),dimensionsDetectCount:R}}function ov($){if($){var r=mv();return tO($,function($,e){if(null==($=vO({},ve($)?$:{name:$})).name)return $;$.name+="",null==$.displayName&&($.displayName=$.name);var a=r.get($.name);return a?$.name+="-"+a.count++:r.set($.name,{count:1}),$})}}function pv($,r,e,a){if(null==a&&(a=1/0),r===$m)for(var u=0;u<e.length&&u<a;u++)$(e[u]?e[u][0]:null,u);else{var R=e[0]||[];for(u=0;u<R.length&&u<a;u++)$(R[u],u)}}function CO($){for(var r,e=0;e<$.length&&!(r=$[e++]););if(r){var a=[];return Vf(r,function($,r){a.push(r)}),a}}function DO($,r,e){var a={},u=_m(r);if(!u||!$)return a;var R,t,n=[],i=[],o=r.ecModel,v=we(o).datasetMap,s=u.uid+"_"+e.seriesLayoutBy;$=$.slice(),Vf($,function(r,e){!ve(r)&&($[e]={name:r}),"ordinal"===r.type&&null==R&&(R=e,t=l($[e])),a[r.name]=[]});var w=v.get(s)||v.set(s,{categoryWayDim:t,valueWayDim:0});function Q($,r,e){for(var a=0;a<e;a++)$.push(r+a)}function l($){var r=$.dimsDef;return r?r.length:1}return Vf($,function($,r){var e=$.name,u=l($);if(null==R){var t=w.valueWayDim;Q(a[e],t,u),Q(i,t,u),w.valueWayDim+=u}else if(R===r)Q(a[e],0,u),Q(n,0,u);else{t=w.categoryWayDim;Q(a[e],t,u),Q(i,t,u),w.categoryWayDim+=u}}),n.length&&(a.itemName=n),i.length&&(a.seriesName=i),a}function EO($,r,e){var a={};if(!_m($))return a;var u,R=r.sourceFormat,t=r.dimensionsDefine;R!==Ai&&R!==Bi||Vf(t,function($,r){"name"===(ve($)?$.name:$)&&(u=r)});var n=function(){for(var $={},a={},n=[],i=0,o=Math.min(5,e);i<o;i++){var v=qv(r.data,R,r.seriesLayoutBy,t,r.startIndex,i);n.push(v);var s=v===ia.Not;if(s&&null==$.v&&i!==u&&($.v=i),(null==$.n||$.n===$.v||!s&&n[$.n]===ia.Not)&&($.n=i),w($)&&n[$.n]!==ia.Not)return $;s||(v===ia.Might&&null==a.v&&i!==u&&(a.v=i),null!=a.n&&a.n!==a.v||(a.n=i))}function w($){return null!=$.v&&null!=$.n}return w($)?$:w(a)?a:null}();if(n){a.value=n.v;var i=null!=u?u:n.n;a.itemName=[i],a.seriesName=[i]}return a}function _m($){var r=$.option;if(!r.data)return $.ecModel.getComponent("dataset",r.datasetIndex||0)}function FO($,r){return qv($.data,$.sourceFormat,$.seriesLayoutBy,$.dimensionsDefine,$.startIndex,r)}function qv($,r,e,a,u,R){var t,n,i;if(yi($))return ia.Not;if(a){var o=a[R];ve(o)?(n=o.name,i=o.type):Ym(o)&&(n=o)}if(null!=i)return"ordinal"===i?ia.Must:ia.Not;if(r===zi){if(e===$m){for(var v=$[R],s=0;s<(v||[]).length&&s<5;s++)if(null!=(t=_(v[u+s])))return t}else for(s=0;s<$.length&&s<5;s++){var w=$[u+s];if(w&&null!=(t=_(w[R])))return t}}else if(r===Ai){if(!n)return ia.Not;for(s=0;s<$.length&&s<5;s++){if((Q=$[s])&&null!=(t=_(Q[n])))return t}}else if(r===Bi){if(!n)return ia.Not;if(!(v=$[n])||yi(v))return ia.Not;for(s=0;s<v.length&&s<5;s++)if(null!=(t=_(v[s])))return t}else if(r===Zm)for(s=0;s<$.length&&s<5;s++){var Q=$[s],l=lv(Q);if(!xi(l))return ia.Not;if(null!=(t=_(l[R])))return t}function _($){var r=Ym($);return null!=$&&isFinite($)&&""!==$?r?ia.Might:ia.Not:r&&"-"!==$?ia.Must:void 0}return ia.Not}var GO=ia;var HO=xO;var IO=yO;var JO=zO;var KO=AO;var rv=DO;var an=EO;var LO=FO;var sv={},sa=k,Ac=Ea,tv=j,Ci=J,uv=C,bn=y,MO=M,cn=G,vv=lc,dn=B,en=f,wv=z,NO=l,OO=JO,fn="\0_ec_inner",xv=L.extend({init:function(e,r,$,t){$=$||{},this.option=null,this._theme=new L($),this._optionManager=t},setOption:function(e,r){vv(!(fn in e),"please use chart.getOption()"),this._optionManager.setOption(e,r),this.resetOption(null)},resetOption:function(e){var r=!1,$=this._optionManager;if(!e||"recreate"===e){var t=$.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(t)):RO.call(this,t),r=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var i=$.getTimelineOption(this);i&&(this.mergeOption(i),r=!0)}if(!e||"recreate"===e||"media"===e){var n=$.getMediaOption(this,this._api);n.length&&sa(n,function(e){this.mergeOption(e,r=!0)},this)}return r},mergeOption:function(e){var r=this.option,$=this._componentsMap,t=[];OO(this),sa(e,function(e,$){null!=e&&(p.hasClass($)?$&&t.push($):r[$]=null==r[$]?dn(e):en(r[$],e,!0))}),p.topologicalTravel(t,p.getAllClassMainTypes(),function(t,i){var n=pa(e[t]),a=km($.get(t),n);At(a),sa(a,function(e,r){var $=e.option;bn($)&&(e.keyInfo.mainType=t,e.keyInfo.subType=TO(t,$,e.exist))});var s=SO($,i);r[t]=[],$.set(t,[]),sa(a,function(e,i){var n=e.exist,a=e.option;if(vv(bn(a)||n,"Empty component definition"),a){var o=p.getClass(t,e.keyInfo.subType,!0);if(n&&n.constructor===o)n.name=e.keyInfo.name,n.mergeOption(a,this),n.optionUpdated(a,!1);else{var y=wv({dependentModels:s,componentIndex:i},e.keyInfo);n=new o(a,this,this,y),wv(n,y),n.init(a,this,this,y),n.optionUpdated(null,!0)}}else n.mergeOption({},this),n.optionUpdated({},!1);$.get(t)[i]=n,r[t][i]=n.option},this),"series"===t&&gn(this,$.get("series"))},this),this._seriesIndicesMap=cn(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=dn(this.option);return sa(e,function(r,$){if(p.hasClass($)){for(var t=(r=pa(r)).length-1;t>=0;t--)RJ(r[t])&&r.splice(t,1);e[$]=r}}),delete e[fn],e},getTheme:function(){return this._theme},getComponent:function(e,r){var $=this._componentsMap.get(e);if($)return $[r||0]},queryComponents:function(e){var r=e.mainType;if(!r)return[];var $,t=e.index,i=e.id,n=e.name,a=this._componentsMap.get(r);if(!a||!a.length)return[];if(null!=t)Ci(t)||(t=[t]),$=Ac(tv(t,function(e){return a[e]}),function(e){return!!e});else if(null!=i){var s=Ci(i);$=Ac(a,function(e){return s&&uv(i,e.id)>=0||!s&&e.id===i})}else if(null!=n){var o=Ci(n);$=Ac(a,function(e){return o&&uv(n,e.name)>=0||!o&&e.name===n})}else $=a.slice();return yv($,e)},findComponents:function(e){var r,$,t,i,n,a=e.query,s=e.mainType,o=($=s+"Index",t=s+"Id",i=s+"Name",!(r=a)||null==r[$]&&null==r[t]&&null==r[i]?null:{mainType:s,index:r[$],id:r[t],name:r[i]}),y=o?this.queryComponents(o):this._componentsMap.get(s);return n=yv(y,e),e.filter?Ac(n,e.filter):n},eachComponent:function(e,r,$){var t=this._componentsMap;if("function"==typeof e)$=r,r=e,t.each(function(e,t){sa(e,function(e,i){r.call($,t,e,i)})});else if(MO(e))sa(t.get(e),r,$);else if(bn(e)){var i=this.findComponents(e);sa(i,r,$)}},getSeriesByName:function(e){var r=this._componentsMap.get("series");return Ac(r,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var r=this._componentsMap.get("series");return Ac(r,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,r){Di(this),sa(this._seriesIndices,function($){var t=this._componentsMap.get("series")[$];e.call(r,t,$)},this)},eachRawSeries:function(e,r){sa(this._componentsMap.get("series"),e,r)},eachSeriesByType:function(e,r,$){Di(this),sa(this._seriesIndices,function(t){var i=this._componentsMap.get("series")[t];i.subType===e&&r.call($,i,t)},this)},eachRawSeriesByType:function(e,r,$){return sa(this.getSeriesByType(e),r,$)},isSeriesFiltered:function(e){return Di(this),null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,r){Di(this),gn(this,Ac(this._componentsMap.get("series"),e,r))},restoreData:function(e){var r=this._componentsMap;gn(this,r.get("series"));var $=[];r.each(function(e,r){$.push(r)}),p.topologicalTravel($,p.getAllClassMainTypes(),function($,t){sa(r.get($),function(r){("series"!==$||!PO(r,e))&&r.restoreData()})})}});function PO(e,r){if(r){var $=r.seiresIndex,t=r.seriesId,i=r.seriesName;return null!=$&&e.componentIndex!==$||null!=t&&e.id!==t||null!=i&&e.name!==i}}function QO(e,r){var $=e.color&&!e.colorLayer;sa(r,function(r,t){"colorLayer"===t&&$||p.hasClass(t)||("object"==typeof r?e[t]=e[t]?en(e[t],r,!1):dn(r):null==e[t]&&(e[t]=r))})}function RO(e){e=e,this.option={},this.option[fn]=1,this._componentsMap=cn({series:[]}),this._seriesIndices,this._seriesIndicesMap,QO(e,this._theme.option),en(e,VN,!1),this.mergeOption(e)}function SO(e,r){Ci(r)||(r=r?[r]:[]);var $={};return sa(r,function(r){$[r]=(e.get(r)||[]).slice()}),$}function TO(e,r,$){return r.type?r.type:$?$.subType:p.determineSubType(e,r)}function gn(e,r){e._seriesIndicesMap=cn(e._seriesIndices=tv(r,function(e){return e.componentIndex})||[])}function yv(e,r){return r.hasOwnProperty("subType")?Ac(e,function(e){return e.subType===r.subType}):e}function Di(e){}NO(xv,Vm);var UO=xv;sv=UO;var zv={},VO=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function WO(e){k(VO,function(t){this[t]=m(e[t],e)},this)}var XO=WO;zv=XO;var Xa={},hn={};function Wf(){this._coordinateSystems=[]}Wf.prototype={constructor:Wf,create:function(r,t){var e=[];k(hn,function(a,$){var o=a.create(r,t);e=e.concat(o||[])}),this._coordinateSystems=e},update:function(r,t){k(this._coordinateSystems,function(e){e.update&&e.update(r,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Wf.register=function(r,t){hn[r]=t},Wf.get=function(r){return hn[r]};var YO=Wf;Xa=YO;var ZO={},Ei=k,jd=B,Fi=j,Av=f,$O=/^(min|max)?(.+)$/;function jn(i){this._api=i,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function _O(i,e,t){var a,$,r=[],n=[],b=i.timeline;if(i.baseOption&&($=i.baseOption),(b||i.options)&&($=$||{},r=(i.options||[]).slice()),i.media){$=$||{};var o=i.media;Ei(o,function(i){i&&i.option&&(i.query?n.push(i):a||(a=i))})}return $||($=i),$.timeline||($.timeline=b),Ei([$].concat(r).concat(j(n,function(i){return i.option})),function(i){Ei(e,function(e){e(i,t)})}),{baseOption:$,timelineOptions:r,mediaDefault:a,mediaList:n}}function aP(i,e,t){var a={width:e,height:t,aspectratio:e/t},$=!0;return k(i,function(i,e){var t=e.match($O);if(t&&t[1]&&t[2]){var r=t[1],n=t[2].toLowerCase();bP(a[n],i,r)||($=!1)}}),$}function bP(i,e,t){return"min"===t?i>=e:"max"===t?i<=e:i===e}function cP(i,e){return i.join(",")===e.join(",")}function dP(i,e){Ei(e=e||{},function(e,t){if(null!=e){var a=i[t];if(p.hasClass(t)){e=pa(e),a=pa(a);var $=km(a,e);i[t]=Fi($,function(i){return i.option&&i.exist?Av(i.exist,i.option,!0):i.exist||i.option})}else i[t]=Av(a,e,!0)}})}jn.prototype={constructor:jn,setOption:function(i,e){i&&k(pa(i.series),function(i){i&&i.data&&Rc(i.data)&&Jk(i.data)}),i=jd(i);var t=this._optionBackup,a=_O.call(this,i,e,!t);this._newBaseOption=a.baseOption,t?(dP(t.baseOption,a.baseOption),a.timelineOptions.length&&(t.timelineOptions=a.timelineOptions),a.mediaList.length&&(t.mediaList=a.mediaList),a.mediaDefault&&(t.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(i){var e=this._optionBackup;return this._timelineOptions=Fi(e.timelineOptions,jd),this._mediaList=Fi(e.mediaList,jd),this._mediaDefault=jd(e.mediaDefault),this._currentMediaIndices=[],jd(i?e.baseOption:this._newBaseOption)},getTimelineOption:function(i){var e,t=this._timelineOptions;if(t.length){var a=i.getComponent("timeline");a&&(e=jd(t[a.getCurrentIndex()],!0))}return e},getMediaOption:function(i){var e=this._api.getWidth(),t=this._api.getHeight(),a=this._mediaList,$=this._mediaDefault,r=[],n=[];if(!a.length&&!$)return n;for(var b=0,o=a.length;b<o;b++)aP(a[b].query,e,t)&&r.push(b);return!r.length&&$&&(r=[-1]),r.length&&!cP(r,this._currentMediaIndices)&&(n=Fi(r,function(i){return jd(-1===i?$.option:a[i].option)})),this._currentMediaIndices=r,n}};var eP=jn;ZO=eP;var fP={},ob=k,Xf=y,Bv=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function kn($){var a=$&&$.itemStyle;if(a)for(var r=0,e=Bv.length;r<e;r++){var t=Bv[r],q=a.normal,l=a.emphasis;q&&q[t]&&($[t]=$[t]||{},$[t].normal?f($[t].normal,q[t]):$[t].normal=q[t],q[t]=null),l&&l[t]&&($[t]=$[t]||{},$[t].emphasis?f($[t].emphasis,l[t]):$[t].emphasis=l[t],l[t]=null)}}function ja($,a,r){if($&&$[a]&&($[a].normal||$[a].emphasis)){var e=$[a].normal,t=$[a].emphasis;e&&(r?($[a].normal=$[a].emphasis=null,E($[a],e)):$[a]=e),t&&($.emphasis=$.emphasis||{},$.emphasis[a]=t)}}function Yf($){ja($,"itemStyle"),ja($,"lineStyle"),ja($,"areaStyle"),ja($,"label"),ja($,"labelLine"),ja($,"upperLabel"),ja($,"edgeLabel")}function S($,a){var r=Xf($)&&$[a],e=Xf(r)&&r.textStyle;if(e)for(var t=0,q=zt.length;t<q;t++){a=zt[t];e.hasOwnProperty(a)&&(r[a]=e[a])}}function Ya($){$&&(Yf($),S($,"label"),$.emphasis&&S($.emphasis,"label"))}function gP($){if(Xf($)){kn($),Yf($),S($,"label"),S($,"upperLabel"),S($,"edgeLabel"),$.emphasis&&(S($.emphasis,"label"),S($.emphasis,"upperLabel"),S($.emphasis,"edgeLabel")),(r=$.markPoint)&&(kn(r),Ya(r)),(e=$.markLine)&&(kn(e),Ya(e));var a=$.markArea;a&&Ya(a);var r,e,t=$.data;if("graph"===$.type){t=t||$.nodes;var q=$.links||$.edges;if(q&&!Rc(q))for(var l=0;l<q.length;l++)Ya(q[l]);k($.categories,function($){Yf($)})}if(t&&!Rc(t))for(l=0;l<t.length;l++)Ya(t[l]);if((r=$.markPoint)&&r.data){var o=r.data;for(l=0;l<o.length;l++)Ya(o[l])}if((e=$.markLine)&&e.data){var m=e.data;for(l=0;l<m.length;l++)J(m[l])?(Ya(m[l][0]),Ya(m[l][1])):Ya(m[l])}"gauge"===$.type?(S($,"axisLabel"),S($,"title"),S($,"detail")):"treemap"===$.type?(ja($.breadcrumb,"itemStyle"),k($.levels,function($){Yf($)})):"tree"===$.type&&Yf($.leaves)}}function Yb($){return J($)?$:$?[$]:[]}function Cv($){return(J($)?$[0]:$)||{}}function hP($,a){ob(Yb($.series),function($){Xf($)&&gP($)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];a&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),ob(r,function(a){ob(Yb($[a]),function($){$&&(S($,"axisLabel"),S($.axisPointer,"label"))})}),ob(Yb($.parallel),function($){var a=$&&$.parallelAxisDefault;S(a,"axisLabel"),S(a&&a.axisPointer,"label")}),ob(Yb($.calendar),function($){ja($,"itemStyle"),S($,"dayLabel"),S($,"monthLabel"),S($,"yearLabel")}),ob(Yb($.radar),function($){S($,"name")}),ob(Yb($.geo),function($){Xf($)&&(Ya($),ob(Yb($.regions),function($){Ya($)}))}),ob(Yb($.timeline),function($){Ya($),ja($,"label"),ja($,"itemStyle"),ja($,"controlStyle",!0);var a=$.data;J(a)&&k(a,function($){y($)&&(ja($,"label"),ja($,"itemStyle"))})}),ob(Yb($.toolbox),function($){ja($,"iconStyle"),ob($.feature,function($){ja($,"iconStyle")})}),S(Cv($.axisPointer),"label"),S(Cv($.tooltip).axisPointer,"label")}fP=hP;var Dv={},Gi=k,iP=J,jP=y,kP=pa;function lP($,i){i=i.split(",");for(var o=$,r=0;r<i.length&&null!=(o=o&&o[i[r]]);r++);return o}function mP($,i,o,r){i=i.split(",");for(var a,e=$,s=0;s<i.length-1;s++)null==e[a=i[s]]&&(e[a]={}),e=e[a];(r||null==e[i[s]])&&(e[i[s]]=o)}function Ev($){Gi(nP,function(i){i[0]in $&&!(i[1]in $)&&($[i[1]]=$[i[0]])})}var nP=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],oP=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function pP($,i){fP($,i),$.series=kP($.series),Gi($.series,function($){if(jP($)){var i=$.type;if("line"===i)null!=$.clipOverflow&&($.clip=$.clipOverflow);else if("pie"===i||"gauge"===i)null!=$.clockWise&&($.clockwise=$.clockWise);else if("gauge"===i){var o=lP($,"pointer.color");null!=o&&mP($,"itemStyle.color",o)}Ev($)}}),$.dataRange&&($.visualMap=$.dataRange),Gi(oP,function(i){var o=$[i];o&&(iP(o)||(o=[o]),Gi(o,function($){Ev($)}))})}Dv=pP;var qP={},rP=G,sP=k;function tP(e){var a=rP();e.eachSeries(function(e){var t=e.get("stack");if(t){var n=a.get(t)||a.set(t,[]),i=e.getData(),s={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;n.length&&i.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(s)}}),a.each(uP)}function uP(e){sP(e,function(a,t){var n=[],i=[NaN,NaN],s=[a.stackResultDimension,a.stackedOverDimension],c=a.data,r=a.isStackedByIndex,o=c.map(s,function(s,o,$){var d,l,m=c.get(a.stackedDimension,$);if(isNaN(m))return i;r?l=c.getRawIndex($):d=c.get(a.stackedByDimension,$);for(var u=NaN,k=t-1;k>=0;k--){var y=e[k];if(r||(l=y.data.rawIndexOf(y.stackedByDimension,d)),l>=0){var v=y.data.getByRawIndex(y.stackResultDimension,l);if(m>=0&&v>0||m<=0&&v<0){m+=v,u=v;break}}}return n[0]=m,n[1]=u,n});c.hostModel.setData(o),a.data=o})}qP=tP;var vP=z,wP=k,xP=y,yP=Jh,zP=QJ,AP=Tf,BP=Xm,CP=gv,Fv=vi,DP=hv;function Gv(r,e){zc.isInstance(r)||(r=zc.seriesDataToSource(r)),this._source=r;var a=this._data=r.data,t=r.sourceFormat;t===BP&&(this._offset=0,this._dimSize=e,this._data=a);var $=EP[t===CP?t+"_"+r.seriesLayoutBy:t];vP(this,$)}var ln=Gv.prototype;ln.pure=!1,ln.persistent=!0,ln.getSource=function(){return this._source};var EP={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(r){return this._data[r+this._source.startIndex]},appendData:mn},arrayRows_row:{pure:!0,count:function(){var r=this._data[0];return r?Math.max(0,r.length-this._source.startIndex):0},getItem:function(r){r+=this._source.startIndex;for(var e=[],a=this._data,t=0;t<a.length;t++){var $=a[t];e.push($?$[r]:null)}return e},appendData:function(){throw new Error("Do not support appendData when set seriesLayoutBy: \"row\".")}},objectRows:{pure:!0,count:Hv,getItem:Iv,appendData:mn},keyedColumns:{pure:!0,count:function(){var r=this._source.dimensionsDefine[0].name,e=this._data[r];return e?e.length:0},getItem:function(r){for(var e=[],a=this._source.dimensionsDefine,t=0;t<a.length;t++){var $=this._data[a[t].name];e.push($?$[r]:null)}return e},appendData:function(r){var e=this._data;wP(r,function(r,a){for(var t=e[a]||(e[a]=[]),$=0;$<(r||[]).length;$++)t.push(r[$])})}},original:{count:Hv,getItem:Iv,appendData:mn},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(r,e){r-=this._offset,e=e||[];for(var a=this._dimSize*r,t=0;t<this._dimSize;t++)e[t]=this._data[a+t];return e},appendData:function(r){this._data=r},clean:function(){this._offset+=this.count(),this._data=null}}};function Hv(){return this._data.length}function Iv(r){return this._data[r]}function mn(r){for(var e=0;e<r.length;e++)this._data.push(r[e])}var FP={arrayRows:nn,objectRows:function(r,e,a,t){return null!=a?r[t]:r},keyedColumns:nn,original:function(r,e,a,t){var $=yP(r);return null!=a&&$ instanceof Array?$[a]:$},typedArray:nn};function nn(r,e,a,t){return null!=a?r[a]:r}var GP={arrayRows:Jv,objectRows:function(r,e,a,t){return on(r[e],this._dimensionInfos[e])},keyedColumns:Jv,original:function(r,e,a,t){var $=r&&(null==r.value?r:r.value);return!this._rawData.pure&&zP(r)&&(this.hasItemOption=!0),on($ instanceof Array?$[t]:$,this._dimensionInfos[e])},typedArray:function(r,e,a,t){return r[t]}};function Jv(r,e,a,t){return on(r[t],this._dimensionInfos[e])}function on(r,e){var a=e&&e.type;if("ordinal"===a){var t=e&&e.ordinalMeta;return t?t.parseAndCollect(r):r}return"time"===a&&"number"!=typeof r&&null!=r&&"-"!==r&&(r=+AP(r)),null==r||""===r?NaN:+r}function HP(r,e,a){if(r){var t=r.getRawDataItem(e);if(null!=t){var $,v,i=r.getProvider().getSource().sourceFormat,n=r.getDimensionInfo(a);return n&&($=n.name,v=n.index),FP[i](t,e,v,$)}}}function IP(r,e,a){if(r){var t=r.getProvider().getSource().sourceFormat;if(t===Fv||t===DP){var $=r.getRawDataItem(e);return t!==Fv||xP($)||($=null),$?$[a]:void 0}}}var JP=Gv;var KP=GP;var Hi=HP;var Kv=IP;var pn={},Lv=Hi,LP=Sm,MP=Rm,NP=Ct,OP=/\{@(.+?)\}/g,PP={getDataParams:function(e,a){var r=this.getData(a),t=this.getRawValue(e,a),o=r.getRawIndex(e),$=r.getName(e),u=r.getRawDataItem(e),l=r.getItemVisual(e,"color"),n=r.getItemVisual(e,"borderColor"),i=this.ecModel.getComponent("tooltip"),s=i&&i.get("renderMode"),d=NP(s),m=this.mainType,v="series"===m,p=r.userOutput;return{componentType:m,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:v?this.subType:null,seriesIndex:this.seriesIndex,seriesId:v?this.id:null,seriesName:v?this.name:null,name:$,dataIndex:o,data:u,dataType:a,value:t,color:l,borderColor:n,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:LP({color:l,renderMode:d}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,a,r,t,o){a=a||"normal";var $=this.getData(r),u=$.getItemModel(e),l=this.getDataParams(e,r);null!=t&&l.value instanceof Array&&(l.value=l.value[t]);var n=u.get("normal"===a?[o||"label","formatter"]:[a,o||"label","formatter"]);return"function"==typeof n?(l.status=a,l.dimensionIndex=t,n(l)):"string"==typeof n?MP(n,l).replace(OP,function(a,r){var t=r.length;return"["===r.charAt(0)&&"]"===r.charAt(t-1)&&(r=+r.slice(1,t-1)),Lv($,e,r)}):void 0},getRawValue:function(e,a){return Lv(this.getData(a),e)},formatTooltip:function(){}};pn=PP;var Mv=J;function QP(t){return new Nv(t)}function Nv(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var Bc=Nv.prototype;Bc.perform=function(t){var r,s=this._upstream,a=t&&t.skip;if(this._dirty&&s){var e=this.context;e.data=e.outputData=s.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!a&&(r=this._plan(this.context));var i,n=_(this._modBy),o=this._modDataCount||0,$=_(t&&t.modBy),u=t&&t.modDataCount||0;function _(t){return!(t>=1)&&(t=1),t}n===$&&o===u||(r="reset"),(this._dirty||"reset"===r)&&(this._dirty=!1,i=RP(this,a)),this._modBy=$,this._modDataCount=u;var d=t&&t.step;if(this._dueEnd=s?s._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!a&&(i||h<p)){var v=this._progress;if(Mv(v))for(var c=0;c<v.length;c++)Pv(this,v[c],h,p,$,u);else Pv(this,v,h,p,$,u)}this._dueIndex=p;var I=null!=this._settedOutputEnd?this._settedOutputEnd:p;this._outputDueEnd=I}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Ov=function(){var t,r,s,a,e,i={reset:function($,u,_,d){r=$,t=u,s=_,a=d,e=Math.ceil(a/s),i.next=s>1&&a>0?o:n}};return i;function n(){return r<t?r++:null}function o(){var i=r%e*s+Math.ceil(r/e),n=r>=t?null:i<a?i:r;return r++,n}}();function Pv(t,r,s,a,e,i){Ov.reset(s,a,e,i),t._callingProgress=r,t._callingProgress({start:s,end:a,count:a-s,next:Ov.next},t.context)}function RP(t,r){var s,a;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!r&&t._reset&&((s=t._reset(t.context))&&s.progress&&(a=s.forceFirstProgress,s=s.progress),Mv(s)&&!s.length&&(s=null)),t._progress=s,t._modBy=t._modDataCount=null;var e=t._downstream;return e&&e.dirty(),a}Bc.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Bc.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Bc.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},Bc.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Bc.getUpstream=function(){return this._upstream},Bc.getDownstream=function(){return this._downstream},Bc.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var qn=QP;var Q={},SP=Tm,Zf=Ja,Qv=se,Rv=Sm,TP=te,Sv=id,UP=qn,Tv=KO,VP=IO,Uv=Hi,$f=va(),rn=p.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,a,t,r){this.seriesIndex=this.componentIndex,this.dataTask=UP({count:XP,reset:YP}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,t),Tv(this);var $=this.getInitialData(e,t);Wv($,this),this.dataTask.context.data=$,$f(this).dataBeforeProcessed=$,Vv(this)},mergeDefaultAndTheme:function(e,a){var t=this.layoutMode,r=t?TP(e):{},$=this.subType;p.hasClass($)&&($+="Series"),f(e,a.getTheme().get(this.subType)),f(e,this.getDefaultOption()),Yc(e,"label",["show"]),this.fillDataTextStyle(e.data),t&&Sv(e,r,t)},mergeOption:function(e,a){e=f(this.option,e,!0),this.fillDataTextStyle(e.data);var t=this.layoutMode;t&&Sv(this.option,e,t),Tv(this);var r=this.getInitialData(e,a);Wv(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,$f(this).dataBeforeProcessed=r,Vv(this)},fillDataTextStyle:function(e){if(e&&!Rc(e))for(var a=["show"],t=0;t<e.length;t++)e[t]&&e[t].label&&Yc(e[t],"label",a)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var a=sn(this);if(a){var t=a.context.data;return null==e?t:t.getLinkedData(e)}return $f(this).data},setData:function(e){var a=sn(this);if(a){var t=a.context;t.data!==e&&a.modifyOutputEnd&&a.setOutputEnd(e.count()),t.outputData=e,a!==this.dataTask&&(t.data=e)}$f(this).data=e},getSource:function(){return VP(this)},getRawData:function(){return $f(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,a,t,r){var $=this,i="html"===(r=r||"html")?"<br/>":"\n",o="richText"===r,n={},g=0;function l(e){return{renderMode:r,content:Zf(Qv(e)),style:n}}var s=this.getData(),T=s.mapDimension("defaultedTooltip",!0),u=T.length,v=this.getRawValue(e),d=J(v),N=s.getItemVisual(e,"color");y(N)&&N.colorStops&&(N=(N.colorStops[0]||{}).color),N=N||"transparent";var E=(u>1||d&&!u?function(t){var i=Sd(t,function(e,a,t){var r=s.getDimensionInfo(t);return e|(r&&!1!==r.tooltip&&null!=r.displayName)},0),l=[];function u(e,t){var T=s.getDimensionInfo(t);if(T&&!1!==T.otherDims.tooltip){var u=T.type,v="sub"+$.seriesIndex+"at"+g,d=Rv({color:N,type:"subItem",renderMode:r,markerId:v}),E="string"==typeof d?d:d.content,c=(i?E+Zf(T.displayName||"-")+": ":"")+Zf("ordinal"===u?e+"":"time"===u?a?"":SP("yyyy/MM/dd hh:mm:ss",e):Qv(e));c&&l.push(c),o&&(n[v]=N,++g)}}T.length?k(T,function(a){u(Uv(s,e,a),a)}):k(t,u);var v=i?o?"\n":"<br/>":"",d=v+l.join(v||", ");return{renderMode:r,content:d,style:n}}(v):l(u?Uv(s,e,T[0]):d?v[0]:v)).content,c=$.seriesIndex+"at"+g,m=Rv({color:N,type:"item",renderMode:r,markerId:c});n[c]=N,++g;var p=s.getName(e),h=this.name;lm(this)||(h=""),h=h?Zf(h)+(a?": ":i):"";var f="string"==typeof m?m:m.content;return{html:a?f+h+E:h+f+(p?Zf(p)+": "+E:E),markers:n}},isAnimationEnabled:function(){if(x.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,a,t){var r=this.ecModel,$=Vm.getColorFromPalette.call(this,e,a,t);return $||($=r.getColorFromPalette(e,a,t)),$},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function Vv(e){var a=e.name;lm(e)||(e.name=WP(e)||a)}function WP(e){var a=e.getRawData(),t=a.mapDimension("seriesName",!0),r=[];return k(t,function(e){var t=a.getDimensionInfo(e);t.displayName&&r.push(t.displayName)}),r.join(" ")}function XP(e){return e.model.getRawData().count()}function YP(e){var a=e.model;return a.setData(a.getRawData().cloneShallow()),ZP}function ZP(e,a){a.outputData&&e.end>a.outputData.count()&&a.model.getRawData().cloneShallow(a.outputData)}function Wv(e,a){k(e.CHANGABLE_METHODS,function(t){e.wrapMethod(t,w($P,a))})}function $P(e){var a=sn(e);a&&a.setOutputEnd(this.count())}function sn(e){var a=(e.ecModel||{}).scheduler,t=a&&a.getPipeline(e.uid);if(t){var r=t.currentTask;if(r){var $=r.agentStubMap;$&&(r=$.get(e.uid))}return r}}l(rn,pn),l(rn,Vm);var _P=rn;Q=_P;var _f={},xe=function(){this.group=new q,this.uid=Sf("viewComponent")};xe.prototype={constructor:xe,init:function($,o){},render:function($,o,e,n){},dispose:function(){},filterForExposedEvent:null};var tn=xe.prototype;tn.updateView=tn.updateLayout=tn.updateVisual=function($,o,e,n){},Lf(xe),Mh(xe,{registerWhenExtend:!0});var aQ=xe;_f=aQ;var ye={},bQ=va;function cQ(){var e=bQ();return function(r){var a=e(r),$=r.pipelineContext,n=a.large,t=a.progressiveRender,v=a.large=$&&$.large,x=a.progressiveRender=$&&$.progressiveRender;return!!(n^v||t^x)&&"reset"}}ye=cQ;var Ba={},dQ=k,eQ=qn,Xv=va(),fQ=ye();function ze(){this.group=new q,this.uid=Sf("viewChart"),this.renderTask=eQ({plan:gQ,reset:hQ}),this.renderTask.context={view:this}}ze.prototype={type:"chart",init:function(e,r){},render:function(e,r,$,a){},highlight:function(e,r,$,a){Yv(e.getData(),a,"emphasis")},downplay:function(e,r,$,a){Yv(e.getData(),a,"normal")},remove:function(e,r){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var un=ze.prototype;function vn(e,r,$){if(e&&(e.trigger(r,$),e.isGroup&&!ni(e)))for(var a=0,t=e.childCount();a<t;a++)vn(e.childAt(a),r,$)}function Yv(e,r,$){var a=Kh(e,r),t=r&&null!=r.highlightKey?Mu(r.highlightKey):null;null!=a?dQ(pa(a),function(r){vn(e.getItemGraphicEl(r),$,t)}):e.eachItemGraphicEl(function(e){vn(e,$,t)})}function gQ(e){return fQ(e.model)}function hQ(e){var r=e.model,$=e.ecModel,a=e.api,t=e.payload,n=r.pipelineContext.progressiveRender,i=e.view,l=t&&Xv(t).updateMethod,o=n?"incrementalPrepareRender":l&&i[l]?l:"render";return"render"!==o&&i[o](r,$,a,t),iQ[o]}un.updateView=un.updateLayout=un.updateVisual=function(e,r,$,a){this.render(e,r,$,a)},Lf(ze,["dispose"]),Mh(ze,{registerWhenExtend:!0}),ze.markUpdateMethod=function(e,r){Xv(e).updateMethod=r};var iQ={incrementalPrepareRender:{progress:function(e,r){r.view.incrementalRender(e,r.model,r.ecModel,r.api,r.payload)}},render:{forceFirstProgress:!0,progress:function(e,r){r.view.render(r.model,r.ecModel,r.api,r.payload)}}},jQ=ze;Ba=jQ;var Ii="\0__throttleOriginMethod",Zv="\0__throttleRate",$v="\0__throttleType";function _v($,r,t){var e,a,u,m,o,G=0,l=0,C=null;function v(){l=new Date().getTime(),C=null,$.apply(u,m||[])}r=r||0;var n=function(){e=new Date().getTime(),u=this,m=arguments;var $=o||r,n=o||t;o=null,a=e-(n?G:l)-$,clearTimeout(C),n?C=setTimeout(v,$):a>=0?v():C=setTimeout(v,-a),G=e};return n.clear=function(){C&&(clearTimeout(C),C=null)},n.debounceNextCall=function($){o=$},n}function kQ($,r,t,e){var a=$[r];if(a){var u=a[Ii]||a,m=a[$v];if(a[Zv]!==t||m!==e){if(null==t||!e)return $[r]=u;(a=$[r]=_v(u,t,"debounce"===e))[Ii]=u,a[$v]=e,a[Zv]=t}return a}}function lQ($,r){var t=$[r];t&&t[Ii]&&($[r]=t[Ii])}var wn=_v;var ag=kQ;var aw=lQ;var mQ={},nQ=fa,oQ={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData(),i=(r.visualColorAccessPath||"itemStyle.color").split("."),a=r.get(i),l=!nQ(a)||a instanceof yc?null:a;a&&!l||(a=r.getColorFromPalette(r.name,null,e.getSeriesCount())),t.setVisual("color",a);var o=(r.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=r.get(o);if(t.setVisual("borderColor",s),!e.isSeriesFiltered(r)){l&&t.each(function(e){t.setItemVisual(e,"color",l(r.getDataParams(e)))});return{dataEach:t.hasItemOption?function(r,e){var t=r.getItemModel(e),a=t.get(i,!0),l=t.get(o,!0);null!=a&&r.setItemVisual(e,"color",a),null!=l&&r.setItemVisual(e,"borderColor",l)}:null}}}};mQ=oQ;var Zb={},pQ={legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};Zb=pQ;var qQ={},rQ=Hi;function sQ(e,a){var r=a.getModel("aria");if(r.get("show"))if(r.get("description"))e.setAttribute("aria-label",r.get("description"));else{var t=0;a.eachSeries(function(e,a){++t},this);var i,l=r.get("data.maxCount")||10,n=r.get("series.maxCount")||10,s=Math.min(t,n);if(!(t<1)){var p=function(){var e=a.getModel("title").option;e&&e.length&&(e=e[0]);return e&&e.text}();i=p?u(o("general.withTitle"),{title:p}):o("general.withoutTitle");var $=[];i+=u(o(t>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:t}),a.eachSeries(function(e,a){if(a<s){var r,i=e.get("name"),n="series."+(t>1?"multiple":"single")+".";r=u(r=o(i?n+"withName":n+"withoutName"),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(c=e.subType,Zb.series.typeNames[c]||"\u81EA\u5B9A\u4E49\u56FE")});var p=e.getData();window.data=p,p.count()>l?r+=u(o("data.partialData"),{displayCnt:l}):r+=o("data.allData");for(var v=[],d=0;d<p.count();d++)if(d<l){var g=p.getName(d),f=rQ(p,d);v.push(u(o(g?"data.withName":"data.withoutName"),{name:g,value:f}))}r+=v.join(o("data.separator.middle"))+o("data.separator.end"),$.push(r)}var c}),i+=$.join(o("series.multiple.separator.middle"))+o("series.multiple.separator.end"),e.setAttribute("aria-label",i)}}function u(e,a){if("string"!=typeof e)return e;var r=e;return k(a,function(e,a){r=r.replace(new RegExp("\\{\\s*"+a+"\\s*\\}","g"),e)}),r}function o(e){var a=r.get(e);if(null==a){for(var t=e.split("."),i=Zb.aria,l=0;l<t.length;++l)i=i[t[l]];return i}return a}}qQ=sQ;var tQ={},Ji=Math.PI;function uQ(e,t){t=t||{},E(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new q,a=new F({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(a);var i=t.fontSize+" sans-serif",n=new F({style:{fill:"none",text:t.text,font:i,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(r.add(n),t.showSpinner){var $=new xm({shape:{startAngle:-Ji/2,endAngle:-Ji/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});$.animateShape(!0).when(1e3,{endAngle:3*Ji/2}).start("circularInOut"),$.animateShape(!0).when(1e3,{startAngle:3*Ji/2}).delay(300).start("circularInOut"),r.add($)}return r.resize=function(){var r=Il(t.text,i),l=t.showSpinner?t.spinnerRadius:0,x=(e.getWidth()-2*l-(t.showSpinner&&r?10:0)-r)/2-(t.showSpinner?0:r/2),h=e.getHeight()/2;t.showSpinner&&$.setShape({cx:x,cy:h}),n.setShape({x:x-l,y:h-l,width:2*l,height:2*l}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}tQ=uQ;var bw={},xn=k,vQ=j,wQ=fa,Ki=G,xQ=$,yn=qn,yQ=Sf,zQ=pa;function zn(e,r,a,s){this.ecInstance=e,this.api=r,this.unfinished;a=this._dataProcessorHandlers=a.slice(),s=this._visualHandlers=s.slice();this._allHandlers=a.concat(s),this._stageTaskMap=Ki()}var Za=zn.prototype;function cw(e,r,a,s,$){var t;function i(e,r){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(r.__pipeline.id))}$=$||{},xn(r,function(r,o){if(!$.visualType||$.visualType===r.visualType){var n=e._stageTaskMap.get(r.uid),l=n.seriesTaskMap,p=n.overallTask;if(p){var v,c=p.agentStubMap;c.each(function(e){i($,e)&&(e.dirty(),v=!0)}),v&&p.dirty(),dw(p,s);var u=e.getPerformArgs(p,$.block);c.each(function(e){e.perform(u)}),t|=p.perform(u)}else l&&l.each(function(o,n){i($,o)&&o.dirty();var l=e.getPerformArgs(o,$.block);l.skip=!r.performRawSeries&&a.isSeriesFiltered(o.context.model),dw(o,s),t|=o.perform(l)})}}),e.unfinished|=t}Za.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(e){var r=e.overallTask;r&&r.dirty()})},Za.getPerformArgs=function(e,r){if(e.__pipeline){var a=this._pipelineMap.get(e.__pipeline.id),s=a.context,$=!r&&a.progressiveEnabled&&(!s||s.progressiveRender)&&e.__idxInPipeline>a.blockIndex?a.step:null,t=s&&s.modDataCount;return{step:$,modBy:null!=t?Math.ceil(t/$):null,modDataCount:t}}},Za.getPipeline=function(e){return this._pipelineMap.get(e)},Za.updateStreamModes=function(e,r){var a=this._pipelineMap.get(e.uid),s=e.getData().count(),$=a.progressiveEnabled&&r.incrementalPrepareRender&&s>=a.threshold,t=e.get("large")&&s>=e.get("largeThreshold"),i="mod"===e.get("progressiveChunkMode")?s:null;e.pipelineContext=a.context={progressiveRender:$,modDataCount:i,large:t}},Za.restorePipelines=function(e){var r=this,a=r._pipelineMap=Ki();e.eachSeries(function(e){var s=e.getProgressive(),$=e.uid;a.set($,{id:$,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:s&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(s||700),count:0}),Li(r,e,e.dataTask)})},Za.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.ecInstance.getModel(),a=this.api;xn(this._allHandlers,function(s){var $=e.get(s.uid)||e.set(s.uid,[]);s.reset&&AQ(this,s,$,r,a),s.overallReset&&BQ(this,s,$,r,a)},this)},Za.prepareView=function(e,r,a,s){var $=e.renderTask,t=$.context;t.model=r,t.ecModel=a,t.api=s,$.__block=!e.incrementalPrepareRender,Li(this,r,$)},Za.performDataProcessorTasks=function(e,r){cw(this,this._dataProcessorHandlers,e,r,{block:!0})},Za.performVisualTasks=function(e,r,a){cw(this,this._visualHandlers,e,r,a)},Za.performSeriesTasks=function(e){var r;e.eachSeries(function(e){r|=e.dataTask.perform()}),this.unfinished|=r},Za.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})};var dw=Za.updatePayload=function(e,r){"remain"!==r&&(e.context.payload=r)};function AQ(e,r,a,s,$){var t=a.seriesTaskMap||(a.seriesTaskMap=Ki()),i=r.seriesType,o=r.getTargetSeries;function n(a){var i=a.uid,o=t.get(i)||t.set(i,yn({plan:GQ,reset:HQ,count:JQ}));o.context={model:a,ecModel:s,api:$,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:e},Li(e,a,o)}r.createOnAllSeries?s.eachRawSeries(n):i?s.eachRawSeriesByType(i,n):o&&o(s,$).each(n);var l=e._pipelineMap;t.each(function(e,r){l.get(r)||(e.dispose(),t.removeKey(r))})}function BQ(e,r,a,s,$){var t=a.overallTask=a.overallTask||yn({reset:CQ});t.context={ecModel:s,api:$,overallReset:r.overallReset,scheduler:e};var i=t.agentStubMap=t.agentStubMap||Ki(),o=r.seriesType,n=r.getTargetSeries,l=!0,p=r.modifyOutputEnd;function v(r){var a=r.uid,s=i.get(a);s||(s=i.set(a,yn({reset:DQ,onDirty:FQ})),t.dirty()),s.context={model:r,overallProgress:l,modifyOutputEnd:p},s.agent=t,s.__block=l,Li(e,r,s)}o?s.eachRawSeriesByType(o,v):n?n(s,$).each(v):(l=!1,xn(s.getSeries(),v));var c=e._pipelineMap;i.each(function(e,r){c.get(r)||(e.dispose(),t.dirty(),i.removeKey(r))})}function CQ(e){e.overallReset(e.ecModel,e.api,e.payload)}function DQ(e,r){return e.overallProgress&&EQ}function EQ(){this.agent.dirty(),this.getDownstream().dirty()}function FQ(){this.agent&&this.agent.dirty()}function GQ(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function HQ(e){e.useClearVisual&&e.data.clearAllVisual();var r=e.resetDefines=zQ(e.reset(e.model,e.ecModel,e.api,e.payload));return r.length>1?vQ(r,function(e,r){return ew(r)}):IQ}var IQ=ew(0);function ew(e){return function(r,a){var s=a.data,$=a.resetDefines[e];if($&&$.dataEach)for(var t=r.start;t<r.end;t++)$.dataEach(s,t);else $&&$.progress&&$.progress(r,s)}}function JQ(e){return e.data.count()}function Li(e,r,a){var s=r.uid,$=e._pipelineMap.get(s);!$.head&&($.head=a),$.tail&&$.tail.pipe(a),$.tail=a,a.__idxInPipeline=$.count++,a.__pipeline=$}function KQ(e){LQ=null;try{e(bg,fw)}catch(r){}return LQ}zn.wrapStageHandler=function(e,r){return wQ(e)&&(e={overallReset:e,seriesType:KQ(e)}),e.uid=yQ("stageHandler"),r&&(e.visualType=r),e};var LQ,bg={},fw={};function gw(e,r){for(var a in r.prototype)e[a]=xQ}gw(bg,sv),gw(fw,zv),bg.eachSeriesByType=bg.eachRawSeriesByType=function(e){LQ=e},bg.eachComponent=function(e){"series"===e.mainType&&e.subType&&(LQ=e.subType)};var MQ=zn;bw=MQ;var NQ={},hw=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],OQ={color:hw,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],hw]};NQ=OQ;var PQ={},da="#eee",Mi=function(){return{axisLine:{lineStyle:{color:da}},axisTick:{lineStyle:{color:da}},axisLabel:{textStyle:{color:da}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:da}}}},An=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],iw={color:An,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:da},crossStyle:{color:da},label:{color:"#000"}}},legend:{textStyle:{color:da}},textStyle:{color:da},title:{textStyle:{color:da}},toolbox:{iconStyle:{normal:{borderColor:da}}},dataZoom:{textStyle:{color:da}},visualMap:{textStyle:{color:da}},timeline:{lineStyle:{color:da},itemStyle:{normal:{color:An[1]}},label:{normal:{textStyle:{color:da}}},controlStyle:{normal:{color:da,borderColor:da}}},timeAxis:Mi(),logAxis:Mi(),valueAxis:Mi(),categoryAxis:Mi(),line:{symbol:"circle"},graph:{color:An},gauge:{title:{textStyle:{color:da}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};iw.categoryAxis.splitLine.show=!1;var QQ=iw;PQ=QQ;var RQ={},SQ=g.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,r){var $=.5522848,a=r.cx,k=r.cy,l=r.rx,t=r.ry,v=l*$,o=t*$;e.moveTo(a-l,k),e.bezierCurveTo(a-l,k-o,a-v,k-t,a,k-t),e.bezierCurveTo(a+v,k-t,a+l,k-o,a+l,k),e.bezierCurveTo(a+l,k+o,a+v,k+t,a,k+t),e.bezierCurveTo(a-v,k+t,a-l,k+o,a-l,k),e.closePath()}});var TQ=HO,UQ=kv;p.extend({type:"dataset",defaultOption:{seriesLayoutBy:UQ,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){TQ(this)}}),_f.extend({type:"dataset"});RQ=SQ;var VQ=au,WQ=M,XQ=z,YQ=E,$b=nh,jw=k,Cc=/[\s,]+/;function kw(t){WQ(t)&&(t=new DOMParser().parseFromString(t,"text/xml"));for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Ni(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}Ni.prototype.parse=function(t,e){e=e||{};var r=kw(t);if(!r)throw new Error("Illegal svg");var a=new q;this._root=a;var s=r.getAttribute("viewBox")||"",$=parseFloat(r.getAttribute("width")||e.width),i=parseFloat(r.getAttribute("height")||e.height);isNaN($)&&($=null),isNaN(i)&&(i=null),Ka(r,a,null,!0);for(var n,l,o=r.firstChild;o;)this._parseNode(o,a),o=o.nextSibling;if(s){var p=$b(s).split(Cc);p.length>=4&&(n={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(n&&null!=$&&null!=i&&(l=ow(n,$,i),!e.ignoreViewBox)){var v=a;(a=new q).add(v),v.scale=l.scale.slice(),v.position=l.position.slice()}return e.ignoreRootClip||null==$||null==i||a.setClipPath(new F({shape:{x:0,y:0,width:$,height:i}})),{root:a,width:$,height:i,viewBoxRect:n,viewBoxTransform:l}},Ni.prototype._parseNode=function(t,e){var r,a,s=t.nodeName.toLowerCase();if("defs"===s?this._isDefine=!0:"text"===s&&(this._isText=!0),this._isDefine){if(a=$Q[s]){var $=a.call(this,t),i=t.getAttribute("id");i&&(this._defs[i]=$)}}else(a=ZQ[s])&&(r=a.call(this,t,e),e.add(r));for(var n=t.firstChild;n;)1===n.nodeType&&this._parseNode(n,r),3===n.nodeType&&this._isText&&this._parseText(n,r),n=n.nextSibling;"defs"===s?this._isDefine=!1:"text"===s&&(this._isText=!1)},Ni.prototype._parseText=function(t,e){if(1===t.nodeType){var r=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(a)}var s=new K({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});$a(e,s),Ka(t,s,this._defs);var $=s.style.fontSize;$&&$<9&&(s.style.fontSize=9,s.scale=s.scale||[1,1],s.scale[0]*=$/9,s.scale[1]*=$/9);var i=s.getBoundingRect();return this._textX+=i.width,e.add(s),s};var ZQ={g:function(t,e){var r=new q;return $a(e,r),Ka(t,r,this._defs),r},rect:function(t,e){var r=new F;return $a(e,r),Ka(t,r,this._defs),r.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),r},circle:function(t,e){var r=new Db;return $a(e,r),Ka(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),r},line:function(t,e){var r=new ca;return $a(e,r),Ka(t,r,this._defs),r.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),r},ellipse:function(t,e){var r=new RQ;return $a(e,r),Ka(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),r},polygon:function(t,e){var r=t.getAttribute("points");r&&(r=lw(r));var a=new ya({shape:{points:r||[]}});return $a(e,a),Ka(t,a,this._defs),a},polyline:function(t,e){var r=new g;$a(e,r),Ka(t,r,this._defs);var a=t.getAttribute("points");return a&&(a=lw(a)),new Ua({shape:{points:a||[]}})},image:function(t,e){var r=new oa;return $a(e,r),Ka(t,r,this._defs),r.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),r},text:function(t,e){var r=t.getAttribute("x")||0,a=t.getAttribute("y")||0,s=t.getAttribute("dx")||0,$=t.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(s),this._textY=parseFloat(a)+parseFloat($);var i=new q;return $a(e,i),Ka(t,i,this._defs),i},tspan:function(t,e){var r=t.getAttribute("x"),a=t.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=a&&(this._textY=parseFloat(a));var s=t.getAttribute("dx")||0,$=t.getAttribute("dy")||0,i=new q;return $a(e,i),Ka(t,i,this._defs),this._textX+=s,this._textY+=$,i},path:function(t,e){var r=t.getAttribute("d")||"",a=VQ(r);return $a(e,a),Ka(t,a,this._defs),a}},$Q={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),r=parseInt(t.getAttribute("y1")||0,10),a=parseInt(t.getAttribute("x2")||10,10),s=parseInt(t.getAttribute("y2")||0,10),$=new ei(e,r,a,s);return _Q(t,$),$},radialgradient:function(t){}};function _Q(t,e){for(var r=t.firstChild;r;){if(1===r.nodeType){var a=r.getAttribute("offset");a=a.indexOf("%")>0?parseInt(a,10)/100:a?parseFloat(a):0;var s=r.getAttribute("stop-color")||"#000000";e.addColorStop(a,s)}r=r.nextSibling}}function $a(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),YQ(e.__inheritedStyle,t.__inheritedStyle))}function lw(t){for(var e=$b(t).split(Cc),r=[],a=0;a<e.length;a+=2){var s=parseFloat(e[a]),$=parseFloat(e[a+1]);r.push([s,$])}return r}var Ae={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Ka(t,e,r,a){var s=e.__inheritedStyle||{},$="text"===e.type;if(1===t.nodeType&&(cR(t,e),XQ(s,dR(t)),!a))for(var i in Ae)if(Ae.hasOwnProperty(i)){var n=t.getAttribute(i);null!=n&&(s[Ae[i]]=n)}var l=$?"textFill":"fill",o=$?"textStroke":"stroke";e.style=e.style||new zh;var p=e.style;null!=s.fill&&p.set(l,mw(s.fill,r)),null!=s.stroke&&p.set(o,mw(s.stroke,r)),jw(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&$?"textStrokeWidth":t;null!=s[t]&&p.set(e,parseFloat(s[t]))}),s.textBaseline&&"auto"!==s.textBaseline||(s.textBaseline="alphabetic"),"alphabetic"===s.textBaseline&&(s.textBaseline="bottom"),"start"===s.textAlign&&(s.textAlign="left"),"end"===s.textAlign&&(s.textAlign="right"),jw(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=s[t]&&p.set(t,s[t])}),s.lineDash&&(e.style.lineDash=$b(s.lineDash).split(Cc)),p[o]&&"none"!==p[o]&&(e[o]=!0),e.__inheritedStyle=s}var aR=/url\(\s*#(.*?)\)/;function mw(t,e){var r=e&&t&&t.match(aR);return r?e[$b(r[1])]:t}var bR=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function cR(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var a=null,s=[];r.replace(bR,function(t,e,r){s.push(e,r)});for(var $=s.length-1;$>0;$-=2){var i=s[$],n=s[$-1];switch(a=a||Ha(),n){case"translate":i=$b(i).split(Cc),fb(a,a,[parseFloat(i[0]),parseFloat(i[1]||0)]);break;case"scale":i=$b(i).split(Cc),zf(a,a,[parseFloat(i[0]),parseFloat(i[1]||i[0])]);break;case"rotate":i=$b(i).split(Cc),Rb(a,a,parseFloat(i[0]));break;case"skew":i=$b(i).split(Cc),console.warn("Skew transform is not supported yet");break;case"matrix":i=$b(i).split(Cc);a[0]=parseFloat(i[0]),a[1]=parseFloat(i[1]),a[2]=parseFloat(i[2]),a[3]=parseFloat(i[3]),a[4]=parseFloat(i[4]),a[5]=parseFloat(i[5]);}}e.setLocalTransform(a)}}var nw=/([^\s:;]+)\s*:\s*([^:;]+)/g;function dR(t){var e=t.getAttribute("style"),r={};if(!e)return r;var a,s={};for(nw.lastIndex=0;null!=(a=nw.exec(e));)s[a[1]]=a[2];for(var $ in Ae)Ae.hasOwnProperty($)&&null!=s[$]&&(r[Ae[$]]=s[$]);return r}function ow(t,e,r){var a=e/t.width,s=r/t.height,$=Math.min(a,s);return{scale:[$,$],position:[-(t.x+t.width/2)*$+e/2,-(t.y+t.height/2)*$+r/2]}}function eR(t,e){return new Ni().parse(t,e)}var fR=kw;var gR=ow;var hR=eR;var Oi={},iR=G,jR=M,kR=J,lR=k,mR=fR,pw=iR(),nR={registerMap:function(r,$,e){var a;return kR($)?a=$:$.svg?a=[{type:"svg",source:$.svg,specialAreas:$.specialAreas}]:($.geoJson&&!$.features&&(e=$.specialAreas,$=$.geoJson),a=[{type:"geoJSON",source:$,specialAreas:e}]),lR(a,function(r){var $=r.type;"geoJson"===$&&($=r.type="geoJSON"),(0,oR[$])(r)}),pw.set(r,a)},retrieveMap:function(r){return pw.get(r)}},oR={geoJSON:function(r){var $=r.source;r.geoJSON=jR($)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse($):new Function("return ("+$+");")():$},svg:function(r){r.svgXML=mR(r.source)}};Oi=nR;var kd={};function qw(t){return t}function Bn(t,e,r,a,i){this._old=t,this._new=e,this._oldKeyGetter=r||qw,this._newKeyGetter=a||qw,this.context=i}function rw(t,e,r,a,i){for(var n=0;n<t.length;n++){var $="_ec_"+i[a](t[n],n),h=e[$];null==h?(r.push($),e[$]=n):(h.length||(e[$]=h=[h]),h.push(n))}}Bn.prototype={constructor:Bn,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,r={},a=[],i=[];for(rw(t,{},a,"_oldKeyGetter",this),rw(e,r,i,"_newKeyGetter",this),n=0;n<t.length;n++){if(null!=(h=r[$=a[n]]))(u=h.length)?(1===u&&(r[$]=null),h=h.shift()):r[$]=null,this._update&&this._update(h,n);else this._remove&&this._remove(n)}for(var n=0;n<i.length;n++){var $=i[n];if(r.hasOwnProperty($)){var h;if(null==(h=r[$]))continue;if(h.length)for(var s=0,u=h.length;s<u;s++)this._add&&this._add(h[s]);else this._add&&this._add(h)}}}};var pR=Bn;kd=pR;var qR=k,sw=G,tw=sw(["tooltip","label","itemName","itemId","seriesName"]);function rR(e){var $={},r=$.encode={},a=sw(),i=[],t=[],G=$.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};qR(e.dimensions,function($){var n=e.getDimensionInfo($),o=n.coordDim;if(o){var s=n.coordDimIndex;Cn(r,o)[s]=$,n.isExtraCoord||(a.set(o,1),tR(n.type)&&(i[0]=$),Cn(G.encode,o)[s]=n.index),n.defaultTooltip&&t.push($)}tw.each(function(e,$){var a=Cn(r,$),i=n.otherDims[$];null!=i&&!1!==i&&(a[i]=n.name)})});var n=[],o={};a.each(function(e,$){var a=r[$];o[$]=a[0],n=n.concat(a)}),$.dataDimsOnCoord=n,$.encodeFirstDimNotExtra=o;var s=r.label;s&&s.length&&(i=s.slice());var f=r.tooltip;return f&&f.length?t=f.slice():t.length||(t=i.slice()),r.defaultedLabel=i,r.defaultedTooltip=t,$}function Cn(e,$){return e.hasOwnProperty($)||(e[$]=[]),e[$]}function sR(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function tR(e){return!("ordinal"===e||"time"===e)}var uR=tw;var vR=rR;var Dn=sR;var cg={};function wR($){null!=$&&z(this,$),this.otherDims={}}var xR=wR;cg=xR;var ka={},uw=KP,yR=JP,zR=vR,Pi=y,dg="undefined",vw=-1,AR="e\0\0",BR={float:typeof Float64Array===dg?Array:Float64Array,int:typeof Int32Array===dg?Array:Int32Array,ordinal:Array,number:Array,time:Array},CR=typeof Uint32Array===dg?Array:Uint32Array,DR=typeof Int32Array===dg?Array:Int32Array,ER=typeof Uint16Array===dg?Array:Uint16Array;function Qi(t){return t._rawCount>65535?CR:ER}function FR(t){var i=t.constructor;return i===Array?t.slice():new i(t)}var GR=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],HR=["_extent","_approximateExtent","_rawExtent"];function ww(t,i){k(GR.concat(i.__wrappedMethods||[]),function(r){i.hasOwnProperty(r)&&(t[r]=i[r])}),t.__wrappedMethods=i.__wrappedMethods,k(HR,function(r){t[r]=B(i[r])}),t._calculationInfo=z(i._calculationInfo)}var Ri=function(t,i){t=t||["x","y"];for(var r={},e=[],a={},n=0;n<t.length;n++){var s=t[n];M(s)?s=new cg({name:s}):s instanceof cg||(s=new cg(s));var o=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=o,s.coordDimIndex=0),s.otherDims=s.otherDims||{},e.push(o),r[o]=s,s.index=n,s.createInvertedIndices&&(a[o]=[])}this.dimensions=e,this._dimensionInfos=r,this.hostModel=i,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=zR(this),this._invertedIndicesMap=a,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},a=Ri.prototype;function xw(t,i,r,e,a){var n=BR[i.type],s=e-1,o=i.name,h=t[o][s];if(h&&h.length<r){for(var $=new n(Math.min(a-s*r,r)),u=0;u<h.length;u++)$[u]=h[u];t[o][s]=$}for(var l=e*r;l<a;l+=r)t[o].push(new n(Math.min(a-l,r)))}function yw(t){var i=t._invertedIndicesMap;k(i,function(r,e){var a=t._dimensionInfos[e].ordinalMeta;if(a){r=i[e]=new DR(a.categories.length);for(var n=0;n<r.length;n++)r[n]=vw;for(n=0;n<t._count;n++)r[t.get(e,n)]=n}})}function zw(t,i,r){var e;if(null!=i){var a=t._chunkSize,n=Math.floor(r/a),s=r%a,o=t.dimensions[i],h=t._storage[o][n];if(h){e=h[s];var $=t._dimensionInfos[o].ordinalMeta;$&&$.categories.length&&(e=$.categories[e])}}return e}function eg(t){return t}function fg(t){return t<this._count&&t>=0?this._indices[t]:-1}function En(t,i){var r=t._idList[i];return null==r&&(r=zw(t,t._idDimIdx,i)),null==r&&(r=AR+i),r}function Fn(t){return J(t)||(t=[t]),t}function Aw(t,i){var r=t.dimensions,e=new Ri(j(r,t.getDimensionInfo,t),t.hostModel);ww(e,t);for(var a=e._storage={},n=t._storage,s=0;s<r.length;s++){var o=r[s];n[o]&&(C(i,o)>=0?(a[o]=IR(n[o]),e._rawExtent[o]=Si(),e._extent[o]=null):a[o]=n[o])}return e}function IR(t){for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]=FR(t[r]);return i}function Si(){return[1/0,-1/0]}a.type="list",a.hasItemOption=!0,a.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},a.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},a.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},a.mapDimension=function(t,i){var r=this._dimensionsSummary;if(null==i)return r.encodeFirstDimNotExtra[t];var e=r.encode[t];return!0===i?(e||[]).slice():e&&e[i]},a.initData=function(t,i,r){(zc.isInstance(t)||Rd(t))&&(t=new yR(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=i||[],this._idList=[],this._nameRepeatCount={},r||(this.hasItemOption=!1),this.defaultDimValueGetter=uw[this._rawData.getSource().sourceFormat],this._dimValueGetter=r=r||this.defaultDimValueGetter,this._dimValueGetterArrayRows=uw.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},a.getProvider=function(){return this._rawData},a.appendData=function(t){var i=this._rawData,r=this.count();i.appendData(t);var e=i.count();i.persistent||(e+=r),this._initDataFromProvider(r,e)},a.appendValues=function(t,i){for(var r=this._chunkSize,e=this._storage,a=this.dimensions,n=a.length,s=this._rawExtent,o=this.count(),h=o+Math.max(t.length,i?i.length:0),$=this._chunkCount,u=0;u<n;u++){s[_=a[u]]||(s[_]=Si()),e[_]||(e[_]=[]),xw(e,this._dimensionInfos[_],r,$,h),this._chunkCount=e[_].length}for(var l=new Array(n),v=o;v<h;v++){for(var D=v-o,c=Math.floor(v/r),f=v%r,d=0;d<n;d++){var _=a[d],k=this._dimValueGetterArrayRows(t[D]||l,_,D,d);e[_][c][f]=k;var X=s[_];k<X[0]&&(X[0]=k),k>X[1]&&(X[1]=k)}i&&(this._nameList[v]=i[D])}this._rawCount=this._count=h,this._extent={},yw(this)},a._initDataFromProvider=function(t,i){if(!(t>=i)){for(var r,e=this._chunkSize,a=this._rawData,n=this._storage,s=this.dimensions,o=s.length,h=this._dimensionInfos,$=this._nameList,u=this._idList,l=this._rawExtent,v=this._nameRepeatCount={},D=this._chunkCount,c=0;c<o;c++){l[g=s[c]]||(l[g]=Si());var f=h[g];0===f.otherDims.itemName&&(r=this._nameDimIdx=c),0===f.otherDims.itemId&&(this._idDimIdx=c),n[g]||(n[g]=[]),xw(n,f,e,D,i),this._chunkCount=n[g].length}for(var d=new Array(o),_=t;_<i;_++){d=a.getItem(_,d);for(var k=Math.floor(_/e),X=_%e,m=0;m<o;m++){var g,I=n[g=s[m]][k],p=this._dimValueGetter(d,g,_,m);I[X]=p;var w=l[g];p<w[0]&&(w[0]=p),p>w[1]&&(w[1]=p)}if(!a.pure){var x=$[_];if(d&&null==x)if(null!=d.name)$[_]=x=d.name;else if(null!=r){var y=s[r],P=n[y][k];if(P){x=P[X];var E=h[y].ordinalMeta;E&&E.categories.length&&(x=E.categories[x])}}var R=null==d?null:d.id;null==R&&null!=x&&(v[x]=v[x]||0,R=x,v[x]>0&&(R+="__ec__"+v[x]),v[x]++),null!=R&&(u[_]=R)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=i,this._extent={},yw(this)}},a.count=function(){return this._count},a.getIndices=function(){var t=this._indices;if(t){var i=t.constructor,r=this._count;if(i===Array){a=new i(r);for(var e=0;e<r;e++)a[e]=t[e]}else a=new i(t.buffer,0,r)}else{var a=new(i=Qi(this))(this.count());for(e=0;e<a.length;e++)a[e]=e}return a},a.get=function(t,i){if(!(i>=0&&i<this._count))return NaN;var r=this._storage;if(!r[t])return NaN;i=this.getRawIndex(i);var e=Math.floor(i/this._chunkSize),a=i%this._chunkSize;return r[t][e][a]},a.getByRawIndex=function(t,i){if(!(i>=0&&i<this._rawCount))return NaN;var r=this._storage[t];if(!r)return NaN;var e=Math.floor(i/this._chunkSize),a=i%this._chunkSize;return r[e][a]},a._getFast=function(t,i){var r=Math.floor(i/this._chunkSize),e=i%this._chunkSize;return this._storage[t][r][e]},a.getValues=function(t,i){var r=[];J(t)||(i=t,t=this.dimensions);for(var e=0,a=t.length;e<a;e++)r.push(this.get(t[e],i));return r},a.hasValue=function(t){for(var i=this._dimensionsSummary.dataDimsOnCoord,r=0,e=i.length;r<e;r++)if(isNaN(this.get(i[r],t)))return!1;return!0},a.getDataExtent=function(t){t=this.getDimension(t);var i=this._storage[t],r=Si();if(!i)return r;var e,a=this.count();if(!this._indices)return this._rawExtent[t].slice();if(e=this._extent[t])return e.slice();for(var n=(e=r)[0],s=e[1],o=0;o<a;o++){var h=this._getFast(t,this.getRawIndex(o));h<n&&(n=h),h>s&&(s=h)}return e=[n,s],this._extent[t]=e,e},a.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},a.setApproximateExtent=function(t,i){i=this.getDimension(i),this._approximateExtent[i]=t.slice()},a.getCalculationInfo=function(t){return this._calculationInfo[t]},a.setCalculationInfo=function(t,i){Pi(t)?z(this._calculationInfo,t):this._calculationInfo[t]=i},a.getSum=function(t){var i=0;if(this._storage[t])for(var r=0,e=this.count();r<e;r++){var a=this.get(t,r);isNaN(a)||(i+=a)}return i},a.getMedian=function(t){var i=[];this.each(t,function(t,r){isNaN(t)||i.push(t)});var r=[].concat(i).sort(function(t,i){return t-i}),e=this.count();return 0===e?0:e%2==1?r[(e-1)/2]:(r[e/2]+r[e/2-1])/2},a.rawIndexOf=function(t,i){var r=(t&&this._invertedIndicesMap[t])[i];return null==r||isNaN(r)?vw:r},a.indexOfName=function(t){for(var i=0,r=this.count();i<r;i++)if(this.getName(i)===t)return i;return-1},a.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var i=this._indices,r=i[t];if(null!=r&&r<this._count&&r===t)return t;for(var e=0,a=this._count-1;e<=a;){var n=(e+a)/2|0;if(i[n]<t)e=n+1;else{if(!(i[n]>t))return n;a=n-1}}return-1},a.indicesOfNearest=function(t,i,r){var e=[];if(!this._storage[t])return e;null==r&&(r=1/0);for(var a=1/0,n=-1,s=0,o=0,h=this.count();o<h;o++){var $=i-this.get(t,o),u=Math.abs($);u<=r&&((u<a||u===a&&$>=0&&n<0)&&(a=u,n=$,s=0),$===n&&(e[s++]=o))}return e.length=s,e},a.getRawIndex=eg,a.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var i=[],r=0;r<this.dimensions.length;r++){var e=this.dimensions[r];i.push(this.get(e,t))}return i},a.getName=function(t){var i=this.getRawIndex(t);return this._nameList[i]||zw(this,this._nameDimIdx,i)||""},a.getId=function(t){return En(this,this.getRawIndex(t))},a.each=function(t,i,r,e){if(this._count){"function"==typeof t&&(e=r,r=i,i=t,t=[]),r=r||e||this;for(var a=(t=j(Fn(t),this.getDimension,this)).length,n=0;n<this.count();n++)switch(a){case 0:i.call(r,n);break;case 1:i.call(r,this.get(t[0],n),n);break;case 2:i.call(r,this.get(t[0],n),this.get(t[1],n),n);break;default:for(var s=0,o=[];s<a;s++)o[s]=this.get(t[s],n);o[s]=n,i.apply(r,o);}}},a.filterSelf=function(t,i,r,e){if(this._count){"function"==typeof t&&(e=r,r=i,i=t,t=[]),r=r||e||this,t=j(Fn(t),this.getDimension,this);for(var a=this.count(),n=new(Qi(this))(a),s=[],o=t.length,h=0,$=t[0],u=0;u<a;u++){var l,v=this.getRawIndex(u);if(0===o)l=i.call(r,u);else if(1===o){var D=this._getFast($,v);l=i.call(r,D,u)}else{for(var c=0;c<o;c++)s[c]=this._getFast($,v);s[c]=u,l=i.apply(r,s)}l&&(n[h++]=v)}return h<a&&(this._indices=n),this._count=h,this._extent={},this.getRawIndex=this._indices?fg:eg,this}},a.selectRange=function(t){if(this._count){var i=[];for(var r in t)t.hasOwnProperty(r)&&i.push(r);var e=i.length;if(e){var a=this.count(),n=new(Qi(this))(a),s=0,o=i[0],h=t[o][0],$=t[o][1],u=!1;if(!this._indices){var l=0;if(1===e){for(var v=this._storage[i[0]],D=0;D<this._chunkCount;D++)for(var c=v[D],f=Math.min(this._count-D*this._chunkSize,this._chunkSize),d=0;d<f;d++){((g=c[d])>=h&&g<=$||isNaN(g))&&(n[s++]=l),l++}u=!0}else if(2===e){v=this._storage[o];var _=this._storage[i[1]],k=t[i[1]][0],X=t[i[1]][1];for(D=0;D<this._chunkCount;D++){c=v[D];var m=_[D];for(f=Math.min(this._count-D*this._chunkSize,this._chunkSize),d=0;d<f;d++){var g=c[d],I=m[d];(g>=h&&g<=$||isNaN(g))&&(I>=k&&I<=X||isNaN(I))&&(n[s++]=l),l++}}u=!0}}if(!u)if(1===e)for(d=0;d<a;d++){var p=this.getRawIndex(d);((g=this._getFast(o,p))>=h&&g<=$||isNaN(g))&&(n[s++]=p)}else for(d=0;d<a;d++){var w=!0;for(p=this.getRawIndex(d),D=0;D<e;D++){var x=i[D];((g=this._getFast(r,p))<t[x][0]||g>t[x][1])&&(w=!1)}w&&(n[s++]=this.getRawIndex(d))}return s<a&&(this._indices=n),this._count=s,this._extent={},this.getRawIndex=this._indices?fg:eg,this}}},a.mapArray=function(t,i,r,e){"function"==typeof t&&(e=r,r=i,i=t,t=[]),r=r||e||this;var a=[];return this.each(t,function(){a.push(i&&i.apply(this,arguments))},r),a},a.map=function(t,i,r,e){r=r||e||this;var a=Aw(this,t=j(Fn(t),this.getDimension,this));a._indices=this._indices,a.getRawIndex=a._indices?fg:eg;for(var n=a._storage,s=[],o=this._chunkSize,h=t.length,$=this.count(),u=[],l=a._rawExtent,v=0;v<$;v++){for(var D=0;D<h;D++)u[D]=this.get(t[D],v);u[h]=v;var c=i&&i.apply(r,u);if(null!=c){"object"!=typeof c&&(s[0]=c,c=s);for(var f=this.getRawIndex(v),d=Math.floor(f/o),_=f%o,k=0;k<c.length;k++){var X=t[k],m=c[k],g=l[X],I=n[X];I&&(I[d][_]=m),m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}}return a},a.downSample=function(t,i,r,e){for(var a=Aw(this,[t]),n=a._storage,s=[],o=Math.floor(1/i),h=n[t],$=this.count(),u=this._chunkSize,l=a._rawExtent[t],v=new(Qi(this))($),D=0,c=0;c<$;c+=o){o>$-c&&(o=$-c,s.length=o);for(var f=0;f<o;f++){var d=this.getRawIndex(c+f),_=Math.floor(d/u),k=d%u;s[f]=h[_][k]}var X=r(s),m=this.getRawIndex(Math.min(c+e(s,X)||0,$-1)),g=m%u;h[Math.floor(m/u)][g]=X,X<l[0]&&(l[0]=X),X>l[1]&&(l[1]=X),v[D++]=m}return a._count=D,a._indices=v,a.getRawIndex=fg,a},a.getItemModel=function(t){var i=this.hostModel;return new L(this.getRawDataItem(t),i,i&&i.ecModel)},a.diff=function(t){var i=this;return new kd(t?t.getIndices():[],this.getIndices(),function(i){return En(t,i)},function(t){return En(i,t)})},a.getVisual=function(t){var i=this._visual;return i&&i[t]},a.setVisual=function(t,i){if(Pi(t))for(var r in t)t.hasOwnProperty(r)&&this.setVisual(r,t[r]);else this._visual=this._visual||{},this._visual[t]=i},a.setLayout=function(t,i){if(Pi(t))for(var r in t)t.hasOwnProperty(r)&&this.setLayout(r,t[r]);else this._layout[t]=i},a.getLayout=function(t){return this._layout[t]},a.getItemLayout=function(t){return this._itemLayouts[t]},a.setItemLayout=function(t,i,r){this._itemLayouts[t]=r?z(this._itemLayouts[t]||{},i):i},a.clearItemLayouts=function(){this._itemLayouts.length=0},a.getItemVisual=function(t,i,r){var e=this._itemVisuals[t],a=e&&e[i];return null!=a||r?a:this.getVisual(i)},a.setItemVisual=function(t,i,r){var e=this._itemVisuals[t]||{},a=this.hasItemVisual;if(this._itemVisuals[t]=e,Pi(i))for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n],a[n]=!0);else e[i]=r,a[i]=!0},a.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var JR=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};a.setItemGraphicEl=function(t,i){var r=this.hostModel;i&&(i.dataIndex=t,i.dataType=this.dataType,i.seriesIndex=r&&r.seriesIndex,"group"===i.type&&i.traverse(JR,i)),this._graphicEls[t]=i},a.getItemGraphicEl=function(t){return this._graphicEls[t]},a.eachItemGraphicEl=function(t,i){k(this._graphicEls,function(r,e){r&&t&&t.call(i,r,e)})},a.cloneShallow=function(t){if(!t){var i=j(this.dimensions,this.getDimensionInfo,this);t=new Ri(i,this.hostModel)}if(t._storage=this._storage,ww(t,this),this._indices){var r=this._indices.constructor;t._indices=new r(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?fg:eg,t},a.wrapMethod=function(t,i){var r=this[t];"function"==typeof r&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=r.apply(this,arguments);return i.apply(this,[t].concat(Td(arguments)))})},a.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],a.CHANGABLE_METHODS=["filterSelf","selectRange"];var KR=Ri;ka=KR;var Bw={},Gn=G,Ti=k,Hn=M,Cw=E,LR=z,Dw=y,MR=B,Ew=pa,NR=LO,OR=GO,PR=uR;function QR(e,$,r){zc.isInstance($)||($=zc.seriesDataToSource($)),r=r||{},e=(e||[]).slice();for(var a=(r.dimsDef||[]).slice(),n=Gn(),i=Gn(),t=[],l=RR($,e,a,r.dimCount),o=0;o<l;o++){var O=a[o]=LR({},Dw(a[o])?a[o]:{name:a[o]}),v=O.name,E=t[o]=new cg;null!=v&&null==n.get(v)&&(E.name=E.displayName=v,n.set(v,o)),null!=O.type&&(E.type=O.type),null!=O.displayName&&(E.displayName=O.displayName)}var s=r.encodeDef;!s&&r.encodeDefaulter&&(s=r.encodeDefaulter($,l)),(s=Gn(s)).each(function(e,$){if(1===(e=Ew(e).slice()).length&&!Hn(e[0])&&e[0]<0)s.set($,!1);else{var r=s.set($,[]);Ti(e,function(e,a){Hn(e)&&(e=n.get(e)),null!=e&&e<l&&(r[a]=e,U(t[e],$,a))})}});var u=0;function U(e,$,r){null!=PR.get($)?e.otherDims[$]=r:(e.coordDim=$,e.coordDimIndex=r,i.set($,!0))}Ti(e,function(e,$){var r,a,n;if(Hn(e))r=e,e={};else{r=e.name;var i=e.ordinalMeta;e.ordinalMeta=null,(e=MR(e)).ordinalMeta=i,a=e.dimsDef,n=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}if(!1!==(l=s.get(r))){var l;if(!(l=Ew(l)).length)for(var o=0;o<(a&&a.length||1);o++){for(;u<t.length&&null!=t[u].coordDim;)u++;u<t.length&&l.push(u++)}Ti(l,function($,i){var l=t[$];if(U(Cw(l,e),r,i),null==l.name&&a){var o=a[i];!Dw(o)&&(o={name:o}),l.name=l.displayName=o.name,l.defaultTooltip=o.defaultTooltip}n&&Cw(l.otherDims,n)})}});var m=r.generateCoord,c=r.generateCoordCount,d=null!=c;c=m?c||1:0;for(var D=m||"value",f=0;f<l;f++){null==(E=t[f]=t[f]||new cg).coordDim&&(E.coordDim=Fw(D,i,d),E.coordDimIndex=0,(!m||c<=0)&&(E.isExtraCoord=!0),c--),null==E.name&&(E.name=Fw(E.coordDim,n)),null!=E.type||NR($,f,E.name)!==OR.Must&&(!E.isExtraCoord||null==E.otherDims.itemName&&null==E.otherDims.seriesName)||(E.type="ordinal")}return t}function RR(e,$,r,a){var n=Math.max(e.dimensionsDetectCount||1,$.length,r.length,a||0);return Ti($,function(e){var $=e.dimsDef;$&&(n=Math.max(n,$.length))}),n}function Fw(e,$,r){if(r||null!=$.get(e)){for(var a=0;null!=$.get(e+a);)a++;e+=a}return $.set(e,!0),e}var SR=QR;Bw=SR;var Be={};function TR(e,n){return Bw((n=n||{}).coordDimensions||[],e,{dimsDef:n.dimensionsDefine||e.dimensionsDefine,encodeDef:n.encodeDefine||e.encodeDefine,dimCount:n.dimensionsCount,encodeDefaulter:n.encodeDefaulter,generateCoord:n.generateCoord,generateCoordCount:n.generateCoordCount})}Be=TR;var Gw=G,UR=k;function VR(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=Gw(),this.categoryAxisMap=Gw(),this.firstCategoryDimIndex=null}function WR(e){var a=e.get("coordinateSystem"),r=new VR(a),s=XR[a];if(s)return s(e,r,r.axisMap,r.categoryAxisMap),r}var XR={cartesian2d:function(e,a,r,s){var i=e.getReferringComponents("xAxis")[0],t=e.getReferringComponents("yAxis")[0];a.coordSysDims=["x","y"],r.set("x",i),r.set("y",t),Ce(i)&&(s.set("x",i),a.firstCategoryDimIndex=0),Ce(t)&&(s.set("y",t),a.firstCategoryDimIndex,a.firstCategoryDimIndex=1)},singleAxis:function(e,a,r,s){var i=e.getReferringComponents("singleAxis")[0];a.coordSysDims=["single"],r.set("single",i),Ce(i)&&(s.set("single",i),a.firstCategoryDimIndex=0)},polar:function(e,a,r,s){var i=e.getReferringComponents("polar")[0],t=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");a.coordSysDims=["radius","angle"],r.set("radius",t),r.set("angle",o),Ce(t)&&(s.set("radius",t),a.firstCategoryDimIndex=0),Ce(o)&&(s.set("angle",o),null==a.firstCategoryDimIndex&&(a.firstCategoryDimIndex=1))},geo:function(e,a,r,s){a.coordSysDims=["lng","lat"]},parallel:function(e,a,r,s){var i=e.ecModel,t=i.getComponent("parallel",e.get("parallelIndex")),o=a.coordSysDims=t.dimensions.slice();UR(t.parallelAxisIndex,function(e,t){var $=i.getComponent("parallelAxis",e),n=o[t];r.set(n,$),Ce($)&&null==a.firstCategoryDimIndex&&(s.set(n,$),a.firstCategoryDimIndex=t)})}};function Ce(e){return"category"===e.get("type")}var YR=WR;var Hw=k,ZR=M;function $R(e,o,a){var t,i,n,$,r=(a=a||{}).byIndex,D=a.stackedCoordDimension,c=!(!e||!e.get("stack"));if(Hw(o,function(e,a){ZR(e)&&(o[a]=e={name:e}),c&&!e.isExtraCoord&&(r||t||!e.ordinalMeta||(t=e),i||"ordinal"===e.type||"time"===e.type||D&&D!==e.coordDim||(i=e))}),!i||r||t||(r=!0),i){n="__\0ecstackresult",$="__\0ecstackedover",t&&(t.createInvertedIndices=!0);var s=i.coordDim,d=i.type,m=0;Hw(o,function(e){e.coordDim===s&&m++}),o.push({name:n,coordDim:s,coordDimIndex:m,type:d,isExtraCoord:!0,isCalculationCoord:!0}),m++,o.push({name:$,coordDim:$,coordDimIndex:m,type:d,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:i&&i.name,stackedByDimension:t&&t.name,isStackedByIndex:r,stackedOverDimension:$,stackResultDimension:n}}function Iw(e,o){return!!o&&o===e.getCalculationInfo("stackedDimension")}function _R(e,o){return Iw(e,o)?e.getCalculationInfo("stackResultDimension"):o}var Jw=$R;var De=Iw;var Ui=_R;var _b={},aS=vi,bS=Dn,cS=Jh,dS=YR,eS=Jw,fS=rv;function gS(e,r,t){t=t||{},zc.isInstance(e)||(e=zc.seriesDataToSource(e));var a,$=r.get("coordinateSystem"),i=Xa.get($),o=dS(r);o&&(a=j(o.coordSysDims,function(e){var r={name:e},t=o.axisMap.get(e);if(t){var a=t.get("type");r.type=bS(a)}return r})),a||(a=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]);var n,l,s=Be(e,{coordDimensions:a,generateCoord:t.generateCoord,encodeDefaulter:t.useEncodeDefaulter?w(fS,a,r):null});o&&k(s,function(e,r){var t=e.coordDim,a=o.categoryAxisMap.get(t);a&&(null==n&&(n=r),e.ordinalMeta=a.getOrdinalMeta()),null!=e.otherDims.itemName&&(l=!0)}),l||null==n||(s[n].otherDims.itemName=0);var C=eS(r,s),u=new ka(s,r);u.setCalculationInfo(C);var Z=null!=n&&hS(e)?function(e,r,t,a){return a===n?t:this.defaultDimValueGetter(e,r,t,a)}:null;return u.hasItemOption=!1,u.initData(e,null,Z),u}function hS(e){if(e.sourceFormat===aS){var r=iS(e.data||[]);return null!=r&&!J(cS(r))}}function iS(e){for(var r=0;r<e.length&&null==e[r];)r++;return e[r]}var jS=gS;_b=jS;var ld={};function ta(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}ta.prototype.parse=function(t){return t},ta.prototype.getSetting=function(t){return this._setting[t]},ta.prototype.contain=function(t){var r=this._extent;return t>=r[0]&&t<=r[1]},ta.prototype.normalize=function(t){var r=this._extent;return r[1]===r[0]?.5:(t-r[0])/(r[1]-r[0])},ta.prototype.scale=function(t){var r=this._extent;return t*(r[1]-r[0])+r[0]},ta.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},ta.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},ta.prototype.getExtent=function(){return this._extent.slice()},ta.prototype.setExtent=function(t,r){var e=this._extent;isNaN(t)||(e[0]=t),isNaN(r)||(e[1]=r)},ta.prototype.isBlank=function(){return this._isBlank},ta.prototype.setBlank=function(t){this._isBlank=t},ta.prototype.getLabel=null,Lf(ta),Mh(ta,{registerWhenExtend:!0});var kS=ta;ld=kS;var Kw={},lS=G,mS=y,nS=j;function Vi(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}Vi.createByAxisModel=function(e){var a=e.option,t=a.data,i=t&&nS(t,oS);return new Vi({categories:i,needCollect:!i,deduplication:!1!==a.dedplication})};var Lw=Vi.prototype;function Mw(e){return e._map||(e._map=lS(e.categories))}function oS(e){return mS(e)&&null!=e.value?e.value:e+""}Lw.getOrdinal=function(e){return Mw(this).get(e)},Lw.parseAndCollect=function(e){var a,t=this._needCollect;if("string"!=typeof e&&!t)return e;if(t&&!this._deduplication)return a=this.categories.length,this.categories[a]=e,a;var i=Mw(this);return null==(a=i.get(e))&&(t?(a=this.categories.length,this.categories[a]=e,i.set(e,a)):a=NaN),a};var pS=Vi;Kw=pS;var qS={},In=ld.prototype,Jn=ld.extend({type:"ordinal",init:function(t,r){t&&!J(t)||(t=new Kw({categories:t})),this._ordinalMeta=t,this._extent=r||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),In.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return In.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(In.scale.call(this,t))},getTicks:function(){for(var t=[],r=this._extent,e=r[0];e<=r[1];)t.push(e),e++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,r){this.unionExtent(t.getApproximateExtent(r))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:$,niceExtent:$});Jn.create=function(){return new Jn};var rS=Jn;qS=rS;var Nw=ha;function sS($,r,e,t){var i={},n=$[1]-$[0],a=i.interval=Pm(n/r,!0);null!=e&&a<e&&(a=i.interval=e),null!=t&&a>t&&(a=i.interval=t);var f=i.intervalPrecision=Ow(a);return Qw(i.niceTickExtent=[Nw(Math.ceil($[0]/a)*a,f),Nw(Math.floor($[1]/a)*a,f)],$),i}function Ow($){return qi($)+2}function Pw($,r,e){$[r]=Math.max(Math.min($[r],e[1]),e[0])}function Qw($,r){!isFinite($[0])&&($[0]=r[0]),!isFinite($[1])&&($[1]=r[1]),Pw($,0,r),Pw($,1,r),$[0]>$[1]&&($[0]=$[1])}var tS=sS;var uS=Ow;var vS=Qw;var md={},Ee=ha,Wi=ld.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,r){var t=this._extent;isNaN(e)||(t[0]=parseFloat(e)),isNaN(r)||(t[1]=parseFloat(r))},unionExtent:function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1]),Wi.prototype.setExtent.call(this,r[0],r[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=uS(e)},getTicks:function(e){var r=this._interval,t=this._extent,i=this._niceExtent,n=this._intervalPrecision,a=[];if(!r)return a;t[0]<i[0]&&(e?a.push(Ee(i[0]-r,n)):a.push(t[0]));for(var s=i[0];s<=i[1]&&(a.push(s),(s=Ee(s+r,n))!==a[a.length-1]);)if(a.length>1e4)return[];var $=a.length?a[a.length-1]:i[1];return t[1]>$&&(e?a.push(Ee($+r,n)):a.push(t[1])),a},getMinorTicks:function(e){for(var r=this.getTicks(!0),t=[],i=this.getExtent(),n=1;n<r.length;n++){for(var a=r[n],s=r[n-1],$=0,l=[],v=(a-s)/e;$<e-1;){var u=ha(s+($+1)*v);u>i[0]&&u<i[1]&&l.push(u),$++}t.push(l)}return t},getLabel:function(e,r){if(null==e)return"";var t=r&&r.precision;return null==t?t=qi(e)||0:"auto"===t&&(t=this._intervalPrecision),e=Ee(e,t,!0),se(e)},niceTicks:function(e,r,t){e=e||5;var i=this._extent,n=i[1]-i[0];if(isFinite(n)){n<0&&(n=-n,i.reverse());var a=tS(i,e,r,t);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(e){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var t=r[0];e.fixMax?r[0]-=t/2:(r[1]+=t/2,r[0]-=t/2)}else r[1]=1;var i=r[1]-r[0];isFinite(i)||(r[0]=0,r[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var n=this._interval;e.fixMin||(r[0]=Ee(Math.floor(r[0]/n)*n)),e.fixMax||(r[1]=Ee(Math.ceil(r[1]/n)*n))}});Wi.create=function(){return new Wi};var wS=Wi;md=wS;var gg=D,xS=De,Kn="__ec_stack_",Rw=.5,Ln="undefined"!=typeof Float32Array?Float32Array:Array;function Mn(a){return a.get("stack")||Kn+a.seriesIndex}function Nn(a){return a.dim+a.index}function yS(a){var r=[],e=a.axis;if("category"===e.type){for(var t=e.getBandWidth(),n=0;n<a.count;n++)r.push(E({bandWidth:t,axisKey:"axis0",stackId:Kn+n},a));var $=Tw(r),i=[];for(n=0;n<a.count;n++){var v=$.axis0[Kn+n];v.offsetCenter=v.offset+v.width/2,i.push(v)}return i}}function Sw(a,r){var e=[];return r.eachSeriesByType(a,function(a){Vw(a)&&!Ww(a)&&e.push(a)}),e}function zS(a){var r={};k(a,function(a){var e=a.coordinateSystem.getBaseAxis();if("time"===e.type||"value"===e.type)for(var t=a.getData(),n=e.dim+"_"+e.index,$=t.mapDimension(e.dim),i=0,v=t.count();i<v;++i){var o=t.get($,i);r[n]?r[n].push(o):r[n]=[o]}});var e=[];for(var t in r)if(r.hasOwnProperty(t)){var n=r[t];if(n){n.sort(function(a,r){return a-r});for(var $=null,i=1;i<n.length;++i){var v=n[i]-n[i-1];v>0&&($=null===$?v:Math.min($,v))}e[t]=$}}return e}function On(a){var r=zS(a),e=[];return k(a,function(a){var t,n=a.coordinateSystem.getBaseAxis(),$=n.getExtent();if("category"===n.type)t=n.getBandWidth();else if("value"===n.type||"time"===n.type){var i=n.dim+"_"+n.index,v=r[i],o=Math.abs($[1]-$[0]),s=n.scale.getExtent(),u=Math.abs(s[1]-s[0]);t=v?o/u*v:o}else{var W=a.getData();t=Math.abs($[1]-$[0])/W.count()}var d=gg(a.get("barWidth"),t),z=gg(a.get("barMaxWidth"),t),l=gg(a.get("barMinWidth")||1,t),h=a.get("barGap"),c=a.get("barCategoryGap");e.push({bandWidth:t,barWidth:d,barMaxWidth:z,barMinWidth:l,barGap:h,barCategoryGap:c,axisKey:Nn(n),stackId:Mn(a)})}),Tw(e)}function Tw(a){var r={};k(a,function(a,e){var t=a.axisKey,n=a.bandWidth,$=r[t]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},i=$.stacks;r[t]=$;var v=a.stackId;i[v]||$.autoWidthCount++,i[v]=i[v]||{width:0,maxWidth:0};var o=a.barWidth;o&&!i[v].width&&(i[v].width=o,o=Math.min($.remainedWidth,o),$.remainedWidth-=o);var s=a.barMaxWidth;s&&(i[v].maxWidth=s);var u=a.barMinWidth;u&&(i[v].minWidth=u);var W=a.barGap;null!=W&&($.gap=W);var d=a.barCategoryGap;null!=d&&($.categoryGap=d)});var e={};return k(r,function(a,r){e[r]={};var t=a.stacks,n=a.bandWidth,$=gg(a.categoryGap,n),i=gg(a.gap,1),v=a.remainedWidth,o=a.autoWidthCount,s=(v-$)/(o+(o-1)*i);s=Math.max(s,0),k(t,function(a){var r=a.maxWidth,e=a.minWidth;if(a.width){t=a.width;r&&(t=Math.min(t,r)),e&&(t=Math.max(t,e)),a.width=t,v-=t+i*t,o--}else{var t=s;r&&r<t&&(t=Math.min(r,v)),e&&e>t&&(t=e),t!==s&&(a.width=t,v-=t+i*t,o--)}}),s=(v-$)/(o+(o-1)*i),s=Math.max(s,0);var u,W=0;k(t,function(a,r){a.width||(a.width=s),u=a,W+=a.width*(1+i)}),u&&(W-=u.width*i);var d=-W/2;k(t,function(a,t){e[r][t]=e[r][t]||{bandWidth:n,offset:d,width:a.width},d+=a.width*(1+i)})}),e}function Uw(a,r,e){if(a&&r){var t=a[Nn(r)];return null!=t&&null!=e&&(t=t[Mn(e)]),t}}function AS(a,r){var e=Sw(a,r),t=On(e),n={},$={};k(e,function(a){var r=a.getData(),e=a.coordinateSystem,i=e.getBaseAxis(),v=Mn(a),o=t[Nn(i)][v],s=o.offset,u=o.width,W=e.getOtherAxis(i),d=a.get("barMinHeight")||0;n[v]=n[v]||[],$[v]=$[v]||[],r.setLayout({bandWidth:o.bandWidth,offset:s,size:u});for(var z=r.mapDimension(W.dim),l=r.mapDimension(i.dim),h=xS(r,z),c=W.isHorizontal(),p=Xw(i,W,h),g=0,y=r.count();g<y;g++){var m,x,f,A,L,b=r.get(z,g),S=r.get(l,g),C=b>=0?"p":"n",k=p;if(h&&(n[v][S]||(n[v][S]={p:p,n:p}),k=n[v][S][C]),c)m=k,x=(L=e.dataToPoint([b,S]))[1]+s,f=L[0]-p,A=u,Math.abs(f)<d&&(f=(f<0?-1:1)*d),isNaN(f)||h&&(n[v][S][C]+=f);else m=(L=e.dataToPoint([S,b]))[0]+s,x=k,f=u,A=L[1]-p,Math.abs(A)<d&&(A=(A<=0?-1:1)*d),isNaN(A)||h&&(n[v][S][C]+=A);r.setItemLayout(g,{x:m,y:x,width:f,height:A})}},this)}var BS={seriesType:"bar",plan:ye(),reset:function(a){if(Vw(a)&&Ww(a)){var r=a.getData(),e=a.coordinateSystem,t=e.grid.getRect(),n=e.getBaseAxis(),$=e.getOtherAxis(n),i=r.mapDimension($.dim),v=r.mapDimension(n.dim),o=$.isHorizontal(),s=o?0:1,u=Uw(On([a]),n,a).width;return u>Rw||(u=Rw),{progress:function(a,r){var W,d=a.count,z=new Ln(2*d),l=new Ln(2*d),h=new Ln(d),c=[],p=[],g=0,y=0;for(;null!=(W=a.next());)p[s]=r.get(i,W),p[1-s]=r.get(v,W),c=e.dataToPoint(p,null,c),l[g]=o?t.x+t.width:c[0],z[g++]=c[0],l[g]=o?c[1]:t.y+t.height,z[g++]=c[1],h[y++]=W;r.setLayout({largePoints:z,largeDataIndices:h,largeBackgroundPoints:l,barWidth:u,valueAxisStart:Xw(n,$,!1),backgroundStart:o?t.x:t.y,valueAxisHorizontal:o})}}}}};function Vw(a){return a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type}function Ww(a){return a.pipelineContext&&a.pipelineContext.large}function Xw(a,r,e){return r.toGlobalCoord(r.dataToCoord("log"===r.type?1:0))}var CS=yS;var DS=Sw;var ES=On;var FS=Uw;var Yw=AS;var GS=BS;var HS=DS,IS=ES,JS=FS;function Zw(e,a){var t,r,$,c=e.type,l=a.getMin(),n=a.getMax(),i=e.getExtent();"ordinal"===c?t=a.getCategories().length:(r=a.get("boundaryGap"),J(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=D(r[0],1),r[1]=D(r[1],1),$=i[1]-i[0]||Math.abs(i[0])),"dataMin"===l?l=i[0]:"function"==typeof l&&(l=l({min:i[0],max:i[1]})),"dataMax"===n?n=i[1]:"function"==typeof n&&(n=n({min:i[0],max:i[1]}));var o=null!=l,v=null!=n;null==l&&(l="ordinal"===c?t?0:NaN:i[0]-r[0]*$),null==n&&(n="ordinal"===c?t?t-1:NaN:i[1]+r[1]*$),(null==l||!isFinite(l))&&(l=NaN),(null==n||!isFinite(n))&&(n=NaN),e.setBlank(wf(l)||wf(n)||"ordinal"===c&&!e.getOrdinalMeta().categories.length),a.getNeedCrossZero()&&(l>0&&n>0&&!o&&(l=0),l<0&&n<0&&!v&&(n=0));var s=a.ecModel;if(s&&"time"===c){var u,j=HS("bar",s);if(k(j,function(e){u|=e.getBaseAxis()===a.axis}),u){var Q=IS(j),Y=KS(l,n,a,Q);l=Y.min,n=Y.max}}return{extent:[l,n],fixMin:o,fixMax:v}}function KS(e,a,t,r){var $=t.axis.getExtent(),c=$[1]-$[0],l=JS(r,t.axis);if(void 0===l)return{min:e,max:a};var n=1/0;k(l,function(e){n=Math.min(e.offset,n)});var i=-1/0;k(l,function(e){i=Math.max(e.offset+e.width,i)}),n=Math.abs(n),i=Math.abs(i);var o=n+i,v=a-e,s=v/(1-(n+i)/c)-v;return{min:e-=s*(n/o),max:a+=s*(i/o)}}function LS(e,a){var t=Zw(e,a),r=t.extent,$=a.get("splitNumber");"log"===e.type&&(e.base=a.get("logBase"));var c=e.type;e.setExtent(r[0],r[1]),e.niceExtent({splitNumber:$,fixMin:t.fixMin,fixMax:t.fixMax,minInterval:"interval"===c||"time"===c?a.get("minInterval"):null,maxInterval:"interval"===c||"time"===c?a.get("maxInterval"):null});var l=a.get("interval");null!=l&&e.setInterval&&e.setInterval(l)}function MS(e,a){if(a=a||e.get("type"))switch(a){case"category":return new qS(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new md;default:return(ld.getClass(a)||md).create(e);}}function NS(e){var a=e.scale.getExtent(),t=a[0],r=a[1];return!(t>0&&r>0||t<0&&r<0)}function $w(e){var a,t=e.getLabelModel().get("formatter"),r="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof t?(a=t,t=function(t){return t=e.scale.getLabel(t),a.replace("{value}",null!=t?t:"")}):"function"==typeof t?function(a,$){return null!=r&&($=a-r),t(_w(e,a),$)}:function(a){return e.scale.getLabel(a)}}function _w(e,a){return"category"===e.type?e.scale.getLabel(a):a}function OS(e){var a=e.model,t=e.scale;if(a.get("axisLabel.show")&&!t.isBlank()){var r,$,c="category"===e.type,l=t.getExtent();$=c?t.count():(r=t.getTicks()).length;var n,i=e.getLabelModel(),o=$w(e),v=1;$>40&&(v=Math.ceil($/40));for(var s=0;s<$;s+=v){var u=o(r?r[s]:l[0]+s),j=PS(i.getTextRect(u),i.get("rotate")||0);n?n.union(j):n=j}return n}}function PS(e,a){var t=a*Math.PI/180,r=e.plain(),$=r.width,c=r.height,l=$*Math.abs(Math.cos(t))+Math.abs(c*Math.sin(t)),n=$*Math.abs(Math.sin(t))+Math.abs(c*Math.cos(t));return new I(r.x,r.y,l,n)}function ax(e){var a=e.get("interval");return null==a?"auto":a}function QS(e){return"category"===e.type&&0===ax(e.getLabelModel())}var RS=md.prototype,bx=Math.ceil,cx=Math.floor,Fe=1e3,Ge=60*Fe,hg=60*Ge,t=24*hg,SS=function(r,$,a,e){for(;a<e;){var E=a+e>>>1;r[E][1]<$?a=E+1:e=E}return a},Pn=md.extend({type:"time",getLabel:function(r){var $=this._stepLvl,a=new Date(r);return Tm($[0],a,this.getSetting("useUTC"))},niceExtent:function(r){var $=this._extent;if($[0]===$[1]&&($[0]-=t,$[1]+=t),$[1]===-1/0&&$[0]===1/0){var a=new Date;$[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),$[0]=$[1]-t}this.niceTicks(r.splitNumber,r.minInterval,r.maxInterval);var e=this._interval;r.fixMin||($[0]=ha(cx($[0]/e)*e)),r.fixMax||($[1]=ha(bx($[1]/e)*e))},niceTicks:function(r,$,a){r=r||10;var e=this._extent,E=e[1]-e[0],t=E/r;null!=$&&t<$&&(t=$),null!=a&&t>a&&(t=a);var Y=Qn.length,v=SS(Qn,t,0,Y),n=Qn[Math.min(v,Y-1)],l=n[1];if("year"===n[0]){var i=E/l;l*=Pm(i/r,!0)}var m=this.getSetting("useUTC")?0:60*new Date(+e[0]||+e[1]).getTimezoneOffset()*1e3,h=[Math.round(bx((e[0]-m)/l)*l+m),Math.round(cx((e[1]-m)/l)*l+m)];vS(h,e),this._stepLvl=n,this._interval=l,this._niceExtent=h},parse:function(r){return+Tf(r)}});k(["contain","normalize"],function(r){Pn.prototype[r]=function($){return RS[r].call(this,this.parse($))}});var Qn=[["hh:mm:ss",Fe],["hh:mm:ss",5*Fe],["hh:mm:ss",10*Fe],["hh:mm:ss",15*Fe],["hh:mm:ss",30*Fe],["hh:mm\nMM-dd",Ge],["hh:mm\nMM-dd",5*Ge],["hh:mm\nMM-dd",10*Ge],["hh:mm\nMM-dd",15*Ge],["hh:mm\nMM-dd",30*Ge],["hh:mm\nMM-dd",hg],["hh:mm\nMM-dd",2*hg],["hh:mm\nMM-dd",6*hg],["hh:mm\nMM-dd",12*hg],["MM-dd\nyyyy",t],["MM-dd\nyyyy",2*t],["MM-dd\nyyyy",3*t],["MM-dd\nyyyy",4*t],["MM-dd\nyyyy",5*t],["MM-dd\nyyyy",6*t],["week",7*t],["MM-dd\nyyyy",10*t],["week",14*t],["week",21*t],["month",31*t],["week",42*t],["month",62*t],["week",70*t],["quarter",95*t],["month",31*t*4],["month",31*t*5],["half-year",380*t/2],["month",31*t*8],["month",31*t*10],["year",380*t]];Pn.create=function(r){return new Pn({useUTC:r.ecModel.get("useUTC")})};var TS={},Xi=ld.prototype,ig=md.prototype,US=qi,VS=ha,WS=Math.floor,XS=Math.ceil,Yi=Math.pow,Hb=Math.log,Zi=ld.extend({type:"log",base:10,$constructor:function(){ld.apply(this,arguments),this._originalScale=new md},getTicks:function($){var a=this._originalScale,r=this._extent,t=a.getExtent();return j(ig.getTicks.call(this,$),function($){var e=ha(Yi(this.base,$));return e=$===r[0]&&a.__fixMin?$i(e,t[0]):e,e=$===r[1]&&a.__fixMax?$i(e,t[1]):e},this)},getMinorTicks:ig.getMinorTicks,getLabel:ig.getLabel,scale:function($){return $=Xi.scale.call(this,$),Yi(this.base,$)},setExtent:function($,a){var r=this.base;$=Hb($)/Hb(r),a=Hb(a)/Hb(r),ig.setExtent.call(this,$,a)},getExtent:function(){var $=this.base,a=Xi.getExtent.call(this);a[0]=Yi($,a[0]),a[1]=Yi($,a[1]);var r=this._originalScale,t=r.getExtent();return r.__fixMin&&(a[0]=$i(a[0],t[0])),r.__fixMax&&(a[1]=$i(a[1],t[1])),a},unionExtent:function($){this._originalScale.unionExtent($);var a=this.base;$[0]=Hb($[0])/Hb(a),$[1]=Hb($[1])/Hb(a),Xi.unionExtent.call(this,$)},unionExtentFromData:function($,a){this.unionExtent($.getApproximateExtent(a))},niceTicks:function($){$=$||10;var a=this._extent,r=a[1]-a[0];if(!(r===1/0||r<=0)){var t=Yu(r);for($/r*t<=.5&&(t*=10);!isNaN(t)&&Math.abs(t)<1&&Math.abs(t)>0;)t*=10;var e=[ha(XS(a[0]/t)*t),ha(WS(a[1]/t)*t)];this._interval=t,this._niceExtent=e}},niceExtent:function($){ig.niceExtent.call(this,$);var a=this._originalScale;a.__fixMin=$.fixMin,a.__fixMax=$.fixMax}});function $i($,a){return VS($,US(a))}k(["contain","normalize"],function($){Zi.prototype[$]=function(a){return a=Hb(a)/Hb(this.base),Xi[$].call(this,a)}}),Zi.create=function(){return new Zi};var YS=Zi;TS=YS;var ZS=Zw;var He=LS;var Ie=MS;var $S=NS;var _S=$w;var dx=_w;var aT=OS;var bT=ax;var ex=QS;var nd={},cT={getMin:function(t){var n=this.option,r=t||null==n.rangeStart?n.min:n.rangeStart;return this.axis&&null!=r&&"dataMin"!==r&&"function"!=typeof r&&!wf(r)&&(r=this.axis.scale.parse(r)),r},getMax:function(t){var n=this.option,r=t||null==n.rangeEnd?n.max:n.rangeEnd;return this.axis&&null!=r&&"dataMax"!==r&&"function"!=typeof r&&!wf(r)&&(r=this.axis.scale.parse(r)),r},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:$,setRange:function(t,n){this.option.rangeStart=t,this.option.rangeEnd=n},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};nd=cT;var dT=Kl,eT=Va({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,i){var t=i.cx,r=i.cy,a=i.width/2,$=i.height/2;e.moveTo(t,r-$),e.lineTo(t+a,r+$),e.lineTo(t-a,r+$),e.closePath()}}),fT=Va({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,i){var t=i.cx,r=i.cy,a=i.width/2,$=i.height/2;e.moveTo(t,r-$),e.lineTo(t+a,r),e.lineTo(t,r+$),e.lineTo(t-a,r),e.closePath()}}),gT=Va({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,i){var t=i.x,r=i.y,a=i.width/5*3,$=Math.max(a,i.height),o=a/2,h=o*o/($-o),v=r-$+o+h,n=Math.asin(h/o),c=Math.cos(n)*o,l=Math.sin(n),s=Math.cos(n),y=.6*o,p=.7*o;e.moveTo(t-c,v+h),e.arc(t,v,o,Math.PI-n,2*Math.PI+n),e.bezierCurveTo(t+c-l*y,v+h+s*y,t,r-p,t,r),e.bezierCurveTo(t,r-p,t-c+l*y,v+h+s*y,t-c,v+h),e.closePath()}}),hT=Va({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,i){var t=i.height,r=i.width,a=i.x,$=i.y,o=r/3*2;e.moveTo(a,$),e.lineTo(a+o,$+t),e.lineTo(a,$+t/4*3),e.lineTo(a-o,$+t),e.lineTo(a,$),e.closePath()}}),iT={line:ca,rect:F,roundRect:F,square:F,circle:Db,diamond:fT,pin:gT,arrow:hT,triangle:eT},jT={line:function(e,i,t,r,a){a.x1=e,a.y1=i+r/2,a.x2=e+t,a.y2=i+r/2},rect:function(e,i,t,r,a){a.x=e,a.y=i,a.width=t,a.height=r},roundRect:function(e,i,t,r,a){a.x=e,a.y=i,a.width=t,a.height=r,a.r=Math.min(t,r)/4},square:function(e,i,t,r,a){var $=Math.min(t,r);a.x=e,a.y=i,a.width=$,a.height=$},circle:function(e,i,t,r,a){a.cx=e+t/2,a.cy=i+r/2,a.r=Math.min(t,r)/2},diamond:function(e,i,t,r,a){a.cx=e+t/2,a.cy=i+r/2,a.width=t,a.height=r},pin:function(e,i,t,r,a){a.x=e+t/2,a.y=i+r/2,a.width=t,a.height=r},arrow:function(e,i,t,r,a){a.x=e+t/2,a.y=i+r/2,a.width=t,a.height=r},triangle:function(e,i,t,r,a){a.cx=e+t/2,a.cy=i+r/2,a.width=t,a.height=r}},Rn={};k(iT,function(e,i){Rn[i]=new e});var kT=Va({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,i,t){var r=dT(e,i,t),a=this.shape;return a&&"pin"===a.symbolType&&"inside"===i.textPosition&&(r.y=t.y+.4*t.height),r},buildPath:function(e,i,t){var r=i.symbolType;if("none"!==r){var a=Rn[r];a||(a=Rn[r="rect"]),jT[r](i.x,i.y,i.width,i.height,a.shape),a.buildPath(e,a.shape,t)}}});function lT(e,i){if("image"!==this.type){var t=this.style,r=this.shape;r&&"line"===r.symbolType?t.stroke=e:this.__isEmptyBrush?(t.stroke=e,t.fill=i||"#fff"):(t.fill&&(t.fill=e),t.stroke&&(t.stroke=e)),this.dirty(!1)}}function mT(e,i,t,r,a,$,o){var h,v=0===e.indexOf("empty");return v&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(h=0===e.indexOf("image://")?Ku(e.slice(8),new I(i,t,r,a),o?"center":"cover"):0===e.indexOf("path://")?Im(e.slice(7),{},new I(i,t,r,a),o?"center":"cover"):new kT({shape:{symbolType:e,x:i,y:t,width:r,height:a}})).__isEmptyBrush=v,h.setColor=lT,h.setColor($),h}var _a=mT;var ac={},nT=T;ac.getLayoutRect=nT;var oT=Jw,pT=De,qT=Ui;ac.completeDimensions=Bw;ac.createDimensions=Be;var rT=_a;function sT(e){return _b(e.getSource(),e)}ac.createSymbol=rT;var tT={isDimensionStacked:pT,enableDataStack:oT,getStackedDimension:qT};function uT(e,$){var a=$;L.isInstance($)||(a=new L($),l(a,nd));var r=Ie(a);return r.setExtent(e[0],e[1]),He(r,a),r}function vT(e){l(e,nd)}var wT=sT;ac.createList=wT;var xT=tT;ac.dataStack=xT;var yT=uT;ac.createScale=yT;var zT=vT;ac.mixinAxisModelCommonMethods=zT;var AT=1e-8;function fx(r,$){return Math.abs(r-$)<AT}function BT(r,$,n){var a=0,i=r[0];if(!i)return!1;for(var E=1;E<r.length;E++){var e=r[E];a+=Wb(i[0],i[1],e[0],e[1],$,n),i=e}var t=r[0];return fx(i[0],t[0])&&fx(i[1],t[1])||(a+=Wb(i[0],i[1],t[0],t[1],$,n)),0!==a}var od=BT;var gx={};function _i(e,r,t){if(this.name=e,this.geometries=r,t)t=[t[0],t[1]];else{var n=this.getBoundingRect();t=[n.x+n.width/2,n.y+n.height/2]}this.center=t}_i.prototype={constructor:_i,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var r=Number.MAX_VALUE,t=[r,r],n=[-r,-r],o=[],i=[],$=this.geometries,a=0;a<$.length;a++)if("polygon"===$[a].type){var c=$[a].exterior;Th(c,o,i),Wd(t,t,o),Xd(n,n,i)}return 0===a&&(t[0]=t[1]=n[0]=n[1]=0),this._rect=new I(t[0],t[1],n[0]-t[0],n[1]-t[1])},contain:function(e){var r=this.getBoundingRect(),t=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var n=0,o=t.length;n<o;n++)if("polygon"===t[n].type){var i=t[n].exterior,$=t[n].interiors;if(od(i,e[0],e[1])){for(var a=0;a<($?$.length:0);a++)if(od($[a]))continue e;return!0}}return!1},transformTo:function(e,r,t,n){var o=this.getBoundingRect(),i=o.width/o.height;t?n||(n=t/i):t=i*n;for(var $=new I(e,r,t,n),a=o.calculateTransform($),c=this.geometries,v=0;v<c.length;v++)if("polygon"===c[v].type){for(var g=c[v].exterior,l=c[v].interiors,s=0;s<g.length;s++)Ga(g[s],g[s],a);for(var h=0;h<(l?l.length:0);h++)for(s=0;s<l[h].length;s++)Ga(l[h][s],l[h][s],a)}(o=this._rect).copy($),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var r=new _i(e,this.geometries,this.center);return r._rect=this._rect,r.transformTo=null,r}};var CT=_i;gx=CT;var Sn={};function DT(e){if(!e.UTF8Encoding)return e;var r=e.UTF8Scale;null==r&&(r=1024);for(var o=e.features,t=0;t<o.length;t++)for(var n=o[t].geometry,$=n.coordinates,a=n.encodeOffsets,i=0;i<$.length;i++){var f=$[i];if("Polygon"===n.type)$[i]=hx(f,a[i],r);else if("MultiPolygon"===n.type)for(var l=0;l<f.length;l++){var c=f[l];f[l]=hx(c,a[i][l],r)}}return e.UTF8Encoding=!1,e}function hx(e,r,o){for(var t=[],n=r[0],$=r[1],a=0;a<e.length;a+=2){var i=e.charCodeAt(a)-64,f=e.charCodeAt(a+1)-64;i=i>>1^-(1&i),f=f>>1^-(1&f),n=i+=n,$=f+=$,t.push([i/o,f/o])}return t}function ET(e,r){return DT(e),j(Ea(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var o=e.properties,t=e.geometry,n=t.coordinates,$=[];"Polygon"===t.type&&$.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===t.type&&k(n,function(e){e[0]&&$.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var a=new gx(o[r||"name"],$,o.cp);return a.properties=o,a})}Sn=ET;var FT=va,aj=_S,ix=bT,GT=ex,jg=FT();function HT(a){return"category"===a.type?JT(a):LT(a)}function IT(a,e){return"category"===a.type?KT(a,e):{ticks:a.scale.getTicks()}}function JT(a){var e=a.getLabelModel(),t=jx(a,e);return!e.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function jx(a,e){var t,r=kx(a,"labels"),$=ix(e),l=lx(r,$);return l||mx(r,$,{labels:fa($)?ox(a,$):nx(a,t="auto"===$?MT(a):$),labelCategoryInterval:t})}function KT(a,e){var t,r,$=kx(a,"ticks"),l=ix(e),o=lx($,l);if(o)return o;if(e.get("show")&&!a.scale.isBlank()||(t=[]),fa(l))t=ox(a,l,!0);else if("auto"===l){var n=jx(a,a.getLabelModel());r=n.labelCategoryInterval,t=j(n.labels,function(a){return a.tickValue})}else t=nx(a,r=l,!0);return mx($,l,{ticks:t,tickCategoryInterval:r})}function LT(a){var e=a.scale.getTicks(),t=aj(a);return{labels:j(e,function(e,r){return{formattedLabel:t(e,r),rawLabel:a.scale.getLabel(e),tickValue:e}})}}function kx(a,e){return jg(a)[e]||(jg(a)[e]=[])}function lx(a,e){for(var t=0;t<a.length;t++)if(a[t].key===e)return a[t].value}function mx(a,e,t){return a.push({key:e,value:t}),t}function MT(a){var e=jg(a).autoInterval;return null!=e?e:jg(a).autoInterval=a.calculateCategoryInterval()}function NT(a){var e=OT(a),t=aj(a),r=(e.axisRotate-e.labelRotate)/180*Math.PI,$=a.scale,l=$.getExtent(),o=$.count();if(l[1]-l[0]<1)return 0;var n=1;o>40&&(n=Math.max(1,Math.floor(o/40)));for(var i=l[0],v=a.dataToCoord(i+1)-a.dataToCoord(i),s=Math.abs(v*Math.cos(r)),c=Math.abs(v*Math.sin(r)),u=0,z=0;i<=l[1];i+=n){var q,X,g=xb(t(i),e.font,"center","top");q=1.3*g.width,X=1.3*g.height,u=Math.max(u,q,7),z=Math.max(z,X,7)}var b=u/s,m=z/c;isNaN(b)&&(b=1/0),isNaN(m)&&(m=1/0);var C=Math.max(0,Math.floor(Math.min(b,m))),k=jg(a.model),x=a.getExtent(),y=k.lastAutoInterval,h=k.lastTickCount;return null!=y&&null!=h&&Math.abs(y-C)<=1&&Math.abs(h-o)<=1&&y>C&&k.axisExtend0===x[0]&&k.axisExtend1===x[1]?C=y:(k.lastTickCount=o,k.lastAutoInterval=C,k.axisExtend0=x[0],k.axisExtend1=x[1]),C}function OT(a){var e=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function nx(a,e,t){var r=aj(a),$=a.scale,l=$.getExtent(),o=a.getLabelModel(),n=[],i=Math.max((e||0)+1,1),v=l[0],s=$.count();0!==v&&i>1&&s/i>2&&(v=Math.round(Math.ceil(v/i)*i));var c=GT(a),u=o.get("showMinLabel")||c,z=o.get("showMaxLabel")||c;u&&v!==l[0]&&X(l[0]);for(var q=v;q<=l[1];q+=i)X(q);function X(a){n.push(t?a:{formattedLabel:r(a),rawLabel:$.getLabel(a),tickValue:a})}return z&&q-i!==l[1]&&X(l[1]),n}function ox(a,e,t){var r=a.scale,$=aj(a),l=[];return k(r.getTicks(),function(a){var o=r.getLabel(a);e(a,o)&&l.push(t?a:{formattedLabel:$(a),rawLabel:o,tickValue:a})}),l}var PT=HT;var QT=IT;var RT=NT;var X={},ST=k,Tn=j,px=ra,TT=Om,qx=ha,UT=QT,VT=PT,WT=RT,rx=[0,1],Un=function(e,t,r){this.dim=e,this.scale=t,this._extent=r||[0,0],this.inverse=!1,this.onBand=!1};function sx(e,t){var r=(e[1]-e[0])/t/2;e[0]+=r,e[1]-=r}function XT(e,t,r,a){var i=t.length;if(e.onBand&&!r&&i){var n,$,o=e.getExtent();if(1===i)t[0].coord=o[0],n=t[1]={coord:o[0]};else{var d=t[i-1].tickValue-t[0].tickValue,c=(t[i-1].coord-t[0].coord)/d;ST(t,function(e){e.coord-=c/2}),$=1+e.scale.getExtent()[1]-t[i-1].tickValue,n={coord:t[i-1].coord+c*$},t.push(n)}var s=o[0]>o[1];l(t[0].coord,o[0])&&(a?t[0].coord=o[0]:t.shift()),a&&l(o[0],t[0].coord)&&t.unshift({coord:o[0]}),l(o[1],n.coord)&&(a?n.coord=o[1]:t.pop()),a&&l(n.coord,o[1])&&t.push({coord:o[1]})}function l(e,t){return e=qx(e),t=qx(t),s?e>t:e<t}}Un.prototype={constructor:Un,contain:function(e){var t=this._extent,r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return e>=r&&e<=a},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return TT(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var r=this._extent;r[0]=e,r[1]=t},dataToCoord:function(e,t){var r=this._extent,a=this.scale;return e=a.normalize(e),this.onBand&&"ordinal"===a.type&&sx(r=r.slice(),a.count()),px(e,rx,r,t)},coordToData:function(e,t){var r=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&sx(r=r.slice(),a.count());var i=px(e,r,rx,t);return this.scale.scale(i)},pointToData:function(e,t){},getTicksCoords:function(e){var t=(e=e||{}).tickModel||this.getTickModel(),r=UT(this,t).ticks,a=Tn(r,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this);return XT(this,a,t.get("alignWithLabel"),e.clamp),a},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");e>0&&e<100||(e=5);var t=this.scale.getMinorTicks(e);return Tn(t,function(e){return Tn(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this)},getViewLabels:function(){return VT(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);0===r&&(r=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/r},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return WT(this)}};var YT=Un;X=YT;var v={};v.zrender=ce;v.matrix=vb;v.vector=r;v.color=hb;v.number=W;v.format=Aa;var ZT=wn;v.throttle=ZT;v.helper=ac;v.parseGeoJSON=Sn;v.List=ka;v.Model=L;v.Axis=X;v.env=x;var tx={};k(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function($){tx[$]=c[$]});var ux={};k(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function($){ux[$]=b[$]});v.parseGeoJson=Sn;var $T=tx;v.util=$T;var _T=ux;v.graphic=_T;var h={},aU=wn;var bU=lc,Y=k,cU=fa,kg=y,Vn=p.parseClassType,dU="4.9.0",eU={zrender:"4.3.2"},fU=1,vx=1e3,gU=800,hU=900,iU=5e3,wx=1e3,jU=1100,xx=2e3,yx=3e3,kU=3500,lU=4e3,mU=5e3,nU={PROCESSOR:{FILTER:vx,SERIES_FILTER:gU,STATISTIC:iU},VISUAL:{LAYOUT:wx,PROGRESSIVE_LAYOUT:jU,GLOBAL:xx,CHART:yx,POST_CHART_LAYOUT:kU,COMPONENT:lU,BRUSH:mU}},Ib="__flagInMainProcess",Dc="__optionUpdated",zx=/^[a-zA-Z0-9_]+$/;function Je(e,r){return function($,s,t){r||!this._disposed?($=$&&$.toLowerCase(),aa.prototype[e].call(this,$,s,t)):La(this.id)}}function lg(){aa.call(this)}function mg(e,r,$){$=$||{},"string"==typeof r&&(r=Jx[r]),this.id,this.group,this._dom=e;var s=this._zr=hm(e,{renderer:$.renderer||"canvas",devicePixelRatio:$.devicePixelRatio,width:$.width,height:$.height});this._throttledZrFlush=aU(m(s.flush,s),17),(r=B(r))&&Dv(r,!0),this._theme=r,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Xa;var t=this._api=tU(this);function a(e,r){return e.__prio-r.__prio}yh(fj,a),yh($n,a),this._scheduler=new bw(this,t,$n,fj),aa.call(this,this._ecEventProcessor=new Zn),this._messageCenter=new lg,this._initEvents(),this.resize=m(this.resize,this),this._pendingActions=[],s.animation.on("frame",this._onframe,this),oU(s,this),Jk(this)}lg.prototype.on=Je("on",!0),lg.prototype.off=Je("off",!0),lg.prototype.one=Je("one",!0),l(lg,aa);var e=mg.prototype;function Ax(e,r,$){if(this._disposed)La(this.id);else{var s,t=this._model,a=this._coordSysMgr.getCoordinateSystems();r=Lh(t,r);for(var i=0;i<a.length;i++){var n=a[i];if(n[e]&&null!=(s=n[e](t,r,$)))return s}}}e._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[Dc]){var r=this[Dc].silent;this[Ib]=!0,ng(this),Ec.update.call(this),this[Ib]=!1,this[Dc]=!1,bj.call(this,r),cj.call(this,r)}else if(e.unfinished){var $=fU,s=this._model,t=this._api;e.unfinished=!1;do{var a=+new Date;e.performSeriesTasks(s),e.performDataProcessorTasks(s),Cx(this,s),e.performVisualTasks(s),Xn(this,this._model,t,"remain"),$-=+new Date-a}while($>0&&e.unfinished);e.unfinished||this._zr.flush()}}},e.getDom=function(){return this._dom},e.getZr=function(){return this._zr},e.setOption=function(e,r,$){if(this._disposed)La(this.id);else{var s;if(kg(r)&&($=r.lazyUpdate,s=r.silent,r=r.notMerge),this[Ib]=!0,!this._model||r){var t=new ZO(this._api),a=this._theme,i=this._model=new sv;i.scheduler=this._scheduler,i.init(null,null,a,t)}this._model.setOption(e,Hx),$?(this[Dc]={silent:s},this[Ib]=!1):(ng(this),Ec.update.call(this),this._zr.flush(),this[Dc]=!1,this[Ib]=!1,bj.call(this,s),cj.call(this,s))}},e.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.getModel=function(){return this._model},e.getOption=function(){return this._model&&this._model.getOption()},e.getWidth=function(){return this._zr.getWidth()},e.getHeight=function(){return this._zr.getHeight()},e.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},e.getRenderedCanvas=function(e){if(x.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},e.getSvgDataURL=function(){if(x.svgSupported){var e=this._zr,r=e.storage.getDisplayList();return k(r,function(e){e.stopAnimation(!0)}),e.painter.toDataURL()}},e.getDataURL=function(e){if(!this._disposed){var r=(e=e||{}).excludeComponents,$=this._model,s=[],t=this;Y(r,function(e){$.eachComponent({mainType:e},function(e){var r=t._componentsMap[e.__viewId];r.group.ignore||(s.push(r),r.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Y(s,function(e){e.group.ignore=!1}),a}La(this.id)},e.getConnectedDataURL=function(e){if(this._disposed)La(this.id);else if(x.canvasSupported){var r="svg"===e.type,$=this.group,s=Math.min,t=Math.max;if(gj[$]){var a=1/0,i=1/0,n=-1/0,o=-1/0,v=[],w=e&&e.pixelRatio||1;k(pd,function(w,d){if(w.group===$){var c=r?w.getZr().painter.getSvgDom().innerHTML:w.getRenderedCanvas(B(e)),p=w.getDom().getBoundingClientRect();a=s(p.left,a),i=s(p.top,i),n=t(p.right,n),o=t(p.bottom,o),v.push({dom:c,left:p.left,top:p.top})}});var d=(n*=w)-(a*=w),c=(o*=w)-(i*=w),p=vf(),Q=hm(p,{renderer:r?"svg":"canvas"});if(Q.resize({width:d,height:c}),r){var l="";return Y(v,function(e){var r=e.left-a,$=e.top-i;l+="<g transform=\"translate("+r+","+$+")\">"+e.dom+"</g>"}),Q.painter.getSvgRoot().innerHTML=l,e.connectedBackgroundColor&&Q.painter.setBackgroundColor(e.connectedBackgroundColor),Q.refreshImmediately(),Q.painter.toDataURL()}return e.connectedBackgroundColor&&Q.add(new F({shape:{x:0,y:0,width:d,height:c},style:{fill:e.connectedBackgroundColor}})),Y(v,function(e){var r=new oa({style:{x:e.left*w-a,y:e.top*w-i,image:e.dom}});Q.add(r)}),Q.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},e.convertToPixel=w(Ax,"convertToPixel"),e.convertFromPixel=w(Ax,"convertFromPixel"),e.containPixel=function(e,r){if(!this._disposed){var $,s=this._model;return e=Lh(s,e),k(e,function(e,s){s.indexOf("Models")>=0&&k(e,function(e){var t=e.coordinateSystem;if(t&&t.containPoint)$|=!!t.containPoint(r);else if("seriesModels"===s){var a=this._chartsMap[e.__viewId];a&&a.containPoint&&($|=a.containPoint(r,e))}},this)},this),!!$}La(this.id)},e.getVisual=function(e,r){var $=this._model,s=(e=Lh($,e,{defaultMainType:"series"})).seriesModel.getData(),t=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?s.indexOfRawIndex(e.dataIndex):null;return null!=t?s.getItemVisual(t,r):s.getVisual(r)},e.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},e.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Ec={prepareAndUpdate:function(e){ng(this),Ec.update.call(this,e)},update:function(e){var r=this._model,$=this._api,s=this._zr,t=this._coordSysMgr,a=this._scheduler;if(r){a.restoreData(r,e),a.performSeriesTasks(r),t.create(r,$),a.performDataProcessorTasks(r,e),Cx(this,r),t.update(r,$),Wn(r),a.performVisualTasks(r,e),Fx(this,r,$,e);var i=r.get("backgroundColor")||"transparent";if(x.canvasSupported)s.setBackgroundColor(i);else{var n=Wc(i);i=Df(n,"rgb"),0===n[3]&&(i="transparent")}Yn(r,$)}},updateTransform:function(e){var r=this._model,$=this,s=this._api;if(r){var t=[];r.eachComponent(function(a,i){var n=$.getViewOfComponentModel(i);if(n&&n.__alive)if(n.updateTransform){var o=n.updateTransform(i,r,s,e);o&&o.update&&t.push(n)}else t.push(n)});var a=G();r.eachSeries(function(t){var i=$._chartsMap[t.__viewId];if(i.updateTransform){var n=i.updateTransform(t,r,s,e);n&&n.update&&a.set(t.uid,1)}else a.set(t.uid,1)}),Wn(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0,dirtyMap:a}),Xn($,r,s,e,a),Yn(r,this._api)}},updateView:function(e){var r=this._model;r&&(Ba.markUpdateMethod(e,"updateView"),Wn(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0}),Fx(this,this._model,this._api,e),Yn(r,this._api))},updateVisual:function(e){Ec.update.call(this,e)},updateLayout:function(e){Ec.update.call(this,e)}};function ng(e){var r=e._model,$=e._scheduler;$.restorePipelines(r),$.prepareStageTasks(),Ex(e,"component",r,$),Ex(e,"chart",r,$),$.plan()}function Bx(e,r,$,s,t){var a=e._model;if(s){var i={};i[s+"Id"]=$[s+"Id"],i[s+"Index"]=$[s+"Index"],i[s+"Name"]=$[s+"Name"];var n={mainType:s,query:i};t&&(n.subType=t);var o=$.excludeSeriesId;null!=o&&(o=G(pa(o))),a&&a.eachComponent(n,function(r){o&&null!=o.get(r.id)||v(e["series"===s?"_chartsMap":"_componentsMap"][r.__viewId])},e)}else Y(e._componentsViews.concat(e._chartsViews),v);function v(s){s&&s.__alive&&s[r]&&s[r](s.__model,a,e._api,$)}}function Cx(e,r){var $=e._chartsMap,s=e._scheduler;r.eachSeries(function(e){s.updateStreamModes(e,$[e.__viewId])})}function Dx(e,r){var $=e.type,s=e.escapeConnect,t=dj[$],a=t.actionInfo,i=(a.update||"update").split(":"),n=i.pop();i=null!=i[0]&&Vn(i[0]),this[Ib]=!0;var o=[e],v=!1;e.batch&&(v=!0,o=j(e.batch,function(r){return(r=E(z({},r),e)).batch=null,r}));var w,d=[],c="highlight"===$||"downplay"===$;Y(o,function(e){(w=(w=t.action(e,this._model,this._api))||z({},e)).type=a.event||w.type,d.push(w),c?Bx(this,n,e,"series"):i&&Bx(this,n,e,i.main,i.sub)},this),"none"===n||c||i||(this[Dc]?(ng(this),Ec.update.call(this,e),this[Dc]=!1):Ec[n].call(this,e)),w=v?{type:a.event||$,escapeConnect:s,batch:d}:d[0],this[Ib]=!1,!r&&this._messageCenter.trigger(w.type,w)}function bj(e){for(var r=this._pendingActions;r.length;){var $=r.shift();Dx.call(this,$,e)}}function cj(e){!e&&this.trigger("updated")}function oU(e,r){e.on("rendered",function(){r.trigger("rendered"),!e.animation.isFinished()||r[Dc]||r._scheduler.unfinished||r._pendingActions.length||r.trigger("finished")})}function Ex(e,r,$,s){for(var t="component"===r,a=t?e._componentsViews:e._chartsViews,i=t?e._componentsMap:e._chartsMap,n=e._zr,o=e._api,v=0;v<a.length;v++)a[v].__alive=!1;function w(e){var r="_ec_"+e.id+"_"+e.type,v=i[r];if(!v){var w=Vn(e.type);(v=new(t?_f.getClass(w.main,w.sub):Ba.getClass(w.sub))).init($,o),i[r]=v,a.push(v),n.add(v.group)}e.__viewId=v.__id=r,v.__alive=!0,v.__model=e,v.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&s.prepareView(v,e,$,o)}t?$.eachComponent(function(e,r){"series"!==e&&w(r)}):$.eachSeries(w);for(v=0;v<a.length;){var d=a[v];d.__alive?v++:(!t&&d.renderTask.dispose(),n.remove(d.group),d.dispose($,o),a.splice(v,1),delete i[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function Wn(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function Fx(e,r,$,s){pU(e,r,$,s),Y(e._chartsViews,function(e){e.__alive=!1}),Xn(e,r,$,s),Y(e._chartsViews,function(e){e.__alive||e.remove(r,$)})}function pU(e,r,$,s,t){Y(t||e._componentsViews,function(e){var t=e.__model;e.render(t,r,$,s),Gx(t,e)})}function Xn(e,r,$,s,t){var a,i=e._scheduler;r.eachSeries(function(r){var $=e._chartsMap[r.__viewId];$.__alive=!0;var n=$.renderTask;i.updatePayload(n,s),t&&t.get(r.uid)&&n.dirty(),a|=n.perform(i.getPerformArgs(n)),$.group.silent=!!r.get("silent"),Gx(r,$),sU(r,$)}),i.unfinished|=a,rU(e,r),qQ(e._zr.dom,r)}function Yn(e,r){Y(Ix,function($){$(e,r)})}e.resize=function(e){if(this._disposed)La(this.id);else{this._zr.resize(e);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),r){var $=r.resetOption("media"),s=e&&e.silent;this[Ib]=!0,$&&ng(this),Ec.update.call(this),this[Ib]=!1,bj.call(this,s),cj.call(this,s)}}},e.showLoading=function(e,r){if(this._disposed)La(this.id);else if(kg(e)&&(r=e,e=""),e=e||"default",this.hideLoading(),_n[e]){var $=_n[e](this._api,r),s=this._zr;this._loadingFX=$,s.add($)}},e.hideLoading=function(){this._disposed?La(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.makeActionFromEvent=function(e){var r=z({},e);return r.type=ej[e.type],r},e.dispatchAction=function(e,r){this._disposed?La(this.id):(kg(r)||(r={silent:!!r}),dj[e.type]&&this._model&&(this[Ib]?this._pendingActions.push(e):(Dx.call(this,e,r.silent),r.flush?this._zr.flush(!0):!1!==r.flush&&x.browser.weChat&&this._throttledZrFlush(),bj.call(this,r.silent),cj.call(this,r.silent))))},e.appendData=function(e){if(this._disposed)La(this.id);else{var r=e.seriesIndex;this.getModel().getSeriesByIndex(r).appendData(e),this._scheduler.unfinished=!0}},e.on=Je("on",!1),e.off=Je("off",!1),e.one=Je("one",!1);var qU=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function La(e){}function rU(e,r){var $=e._zr.storage,s=0;$.traverse(function(e){s++}),s>r.get("hoverLayerThreshold")&&!x.node&&r.eachSeries(function(r){if(!r.preventUsingHoverLayer){var $=e._chartsMap[r.__viewId];$.__alive&&$.group.traverse(function(e){e.useHoverLayer=!0})}})}function sU(e,r){var $=e.get("blendMode")||null;r.group.traverse(function(e){e.isGroup||e.style.blend!==$&&e.setStyle("blend",$),e.eachPendingDisplayable&&e.eachPendingDisplayable(function(e){e.setStyle("blend",$)})})}function Gx(e,r){var $=e.get("z"),s=e.get("zlevel");r.group.traverse(function(e){"group"!==e.type&&(null!=$&&(e.z=$),null!=s&&(e.zlevel=s))})}function tU(e){var r=e._coordSysMgr;return z(new zv(e),{getCoordinateSystems:m(r.getCoordinateSystems,r),getComponentByElement:function(r){for(;r;){var $=r.__ecComponentInfo;if(null!=$)return e._model.getComponent($.mainType,$.index);r=r.parent}}})}function Zn(){this.eventInfo}e._initEvents=function(){Y(qU,function(e){var r=function(r){var $,s=this.getModel(),t=r.target;if("globalout"===e)$={};else if(t&&null!=t.dataIndex){var a=t.dataModel||s.getSeriesByIndex(t.seriesIndex);$=a&&a.getDataParams(t.dataIndex,t.dataType,t)||{}}else t&&t.eventData&&($=z({},t.eventData));if($){var i=$.componentType,n=$.componentIndex;"markLine"!==i&&"markPoint"!==i&&"markArea"!==i||(i="series",n=$.seriesIndex);var o=i&&null!=n&&s.getComponent(i,n),v=o&&this["series"===o.mainType?"_chartsMap":"_componentsMap"][o.__viewId];$.event=r,$.type=e,this._ecEventProcessor.eventInfo={targetEl:t,packedEvent:$,model:o,view:v},this.trigger(e,$)}};r.zrEventfulCallAtLast=!0,this._zr.on(e,r,this)},this),Y(ej,function(e,r){this._messageCenter.on(r,function(e){this.trigger(r,e)},this)},this)},e.isDisposed=function(){return this._disposed},e.clear=function(){this._disposed?La(this.id):this.setOption({series:[]},!0)},e.dispose=function(){if(this._disposed)La(this.id);else{this._disposed=!0,Bt(this.getDom(),ao,"");var e=this._api,r=this._model;Y(this._componentsViews,function($){$.dispose(r,e)}),Y(this._chartsViews,function($){$.dispose(r,e)}),this._zr.dispose(),delete pd[this.id]}},l(mg,aa),Zn.prototype={constructor:Zn,normalizeQuery:function(e){var r={},$={},s={};if(M(e)){var t=Vn(e);r.mainType=t.main||null,r.subType=t.sub||null}else{var a=["Index","Name","Id"],i={name:1,dataIndex:1,dataType:1};k(e,function(e,t){for(var n=!1,o=0;o<a.length;o++){var v=a[o],w=t.lastIndexOf(v);if(w>0&&w===t.length-v.length){var d=t.slice(0,w);"data"!==d&&(r.mainType=d,r[v.toLowerCase()]=e,n=!0)}}i.hasOwnProperty(t)&&($[t]=e,n=!0),n||(s[t]=e)})}return{cptQuery:r,dataQuery:$,otherQuery:s}},filter:function(e,r,$){var s=this.eventInfo;if(!s)return!0;var t=s.targetEl,a=s.packedEvent,i=s.model,n=s.view;if(!i||!n)return!0;var o=r.cptQuery,v=r.dataQuery;return w(o,i,"mainType")&&w(o,i,"subType")&&w(o,i,"index","componentIndex")&&w(o,i,"name")&&w(o,i,"id")&&w(v,a,"name")&&w(v,a,"dataIndex")&&w(v,a,"dataType")&&(!n.filterForExposedEvent||n.filterForExposedEvent(e,r.otherQuery,t,a));function w(e,r,$,s){return null==e[$]||r[s||$]===e[$]}},afterTrigger:function(){this.eventInfo=null}};var dj={},ej={},$n=[],Hx=[],Ix=[],fj=[],Jx={},_n={},pd={},gj={},uU=new Date-0,vU=new Date-0,ao="_echarts_instance_";function wU(e){var r="__connectUpdateStatus";function $(e,$){for(var s=0;s<e.length;s++){e[s][r]=$}}Y(ej,function(s,t){e._messageCenter.on(t,function(s){if(gj[e.group]&&0!==e[r]){if(s&&s.escapeConnect)return;var t=e.makeActionFromEvent(s),a=[];Y(pd,function(r){r!==e&&r.group===e.group&&a.push(r)}),$(a,0),Y(a,function(e){1!==e[r]&&e.dispatchAction(t)}),$(a,2)}})})}function xU(e,r,$){var s=bo(e);if(s)return s;var t=new mg(e,r,$);return t.id="ec_"+uU++,pd[t.id]=t,Bt(e,ao,t.id),wU(t),t}function yU(e){if(J(e)){var r=e;e=null,Y(r,function(r){null!=r.group&&(e=r.group)}),e=e||"g_"+vU++,Y(r,function(r){r.group=e})}return gj[e]=!0,e}function Kx(e){gj[e]=!1}var zU=Kx;function AU(e){"string"==typeof e?e=pd[e]:e instanceof mg||(e=bo(e)),e instanceof mg&&!e.isDisposed()&&e.dispose()}function bo(e){return pd[TJ(e,ao)]}function BU(e){return pd[e]}function co(e,r){Jx[e]=r}function Lx(e){Hx.push(e)}function Mx(e,r){fo($n,e,r,vx)}function CU(e){Ix.push(e)}function eo(e,r,$){"function"==typeof r&&($=r,r="");var s=kg(e)?e.type:[e,e={event:r}][0];e.event=(e.event||s).toLowerCase(),r=e.event,bU(zx.test(s)&&zx.test(r)),dj[s]||(dj[s]={action:$,actionInfo:e}),ej[r]=s}function DU(e,r){Xa.register(e,r)}function EU(e){var r=Xa.get(e);if(r)return r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice()}function FU(e,r){fo(fj,e,r,wx,"layout")}function Nx(e,r){fo(fj,e,r,yx,"visual")}function fo(e,r,$,s,t){(cU(r)||kg(r))&&($=r,r=s);var a=bw.wrapStageHandler($,t);return a.__prio=r,a.__raw=$,e.push(a),a}function Ox(e,r){_n[e]=r}function GU(e){return p.extend(e)}function HU(e){return _f.extend(e)}function IU(e){return Q.extend(e)}function JU(e){return Ba.extend(e)}function KU(e){Mr("createCanvas",e)}function LU(e,r,$){Oi.registerMap(e,r,$)}function MU(e){var r=Oi.retrieveMap(e);return r&&r[0]&&{geoJson:r[0].geoJSON,specialAreas:r[0].specialAreas}}Nx(xx,mQ),Lx(Dv),Mx(hU,qP),Ox("default",tQ),eo({type:"highlight",event:"highlight",update:"highlight"},$),eo({type:"downplay",event:"downplay",update:"downplay"},$),co("light",NQ),co("dark",PQ);var NU={},OU=dU;h.version=OU;var PU=eU;h.dependencies=PU;var Jb=nU;h.PRIORITY=Jb;var QU=xU;h.init=QU;var RU=yU;h.connect=RU;var SU=Kx;h.disConnect=SU;var TU=zU;h.disconnect=TU;var UU=AU;h.dispose=UU;var VU=bo;h.getInstanceByDom=VU;var WU=BU;h.getInstanceById=WU;var XU=co;h.registerTheme=XU;var la=Lx;h.registerPreprocessor=la;var ab=Mx;h.registerProcessor=ab;var YU=CU;h.registerPostUpdate=YU;var d=eo;h.registerAction=d;var go=DU;h.registerCoordinateSystem=go;var ZU=EU;h.getCoordinateSystemDimensions=ZU;var u=FU;h.registerLayout=u;var s=Nx;h.registerVisual=s;var $U=Ox;h.registerLoading=$U;var Ma=GU;h.extendComponentModel=Ma;var Z=HU;h.extendComponentView=Z;var hj=IU;h.extendSeriesModel=hj;var Ca=JU;h.extendChartView=Ca;var _U=KU;h.setCanvasCreator=_U;var aV=LU;h.registerMap=aV;var bV=MU;h.getMap=bV;var cV=NU;h.dataTool=cV;!function(){for(var e in v)v.hasOwnProperty(e)&&(h[e]=v[e])}();var Ke={};!function(){for(var e in h){if(null==h||!h.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;Ke[e]=h[e]}}();var qd={},ho=fa;var bka=Q.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,r){return _b(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Px=Hi;function dV(e,a){var t=e.mapDimension("defaultedLabel",!0),r=t.length;if(1===r)return Px(e,a,t[0]);if(r){for(var $=[],l=0;l<t.length;l++){var v=Px(e,a,t[l]);$.push(v)}return $.join(" ")}}var io=dV;var og={},eV=_a,Qx=D,fV=io;function ij(e,t,a){q.call(this),this.updateData(e,t,a)}var pb=ij.prototype,gV=ij.getSymbolSize=function(e,t){var a=e.getItemVisual(t,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};function jo(e){return[e[0]/2,e[1]/2]}function hV(e,t){this.parent.drift(e,t)}pb._createSymbol=function(e,t,a,l,r){this.removeAll();var $=t.getItemVisual(a,"color"),o=eV(e,-1,-1,2,2,$,r);o.attr({z2:100,culling:!0,scale:jo(l)}),o.drift=hV,this._symbolType=e,this.add(o)},pb.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},pb.getSymbolPath=function(){return this.childAt(0)},pb.getScale=function(){return this.childAt(0).scale},pb.highlight=function(){this.childAt(0).trigger("emphasis")},pb.downplay=function(){this.childAt(0).trigger("normal")},pb.setZ=function(e,t){var a=this.childAt(0);a.zlevel=e,a.z=t},pb.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},pb.updateData=function(e,t,a){this.silent=!1;var l=e.getItemVisual(t,"symbol")||"circle",r=e.hostModel,$=gV(e,t),o=l!==this._symbolType;if(o){var i=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(l,e,t,$,i)}else{(s=this.childAt(0)).silent=!1,A(s,{scale:jo($)},r,t)}if(this._updateCommon(e,t,$,a),o){var s=this.childAt(0),c=a&&a.fadeIn,n={scale:s.scale.slice()};c&&(n.style={opacity:s.style.opacity}),s.scale=[0,0],c&&(s.style.opacity=0),ga(s,n,r,t)}this._seriesModel=r};var iV=["itemStyle"],jV=["emphasis","itemStyle"],kV=["label"],lV=["emphasis","label"];function mV(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var a=this.__symbolOriginalScale,l=a[1]/a[0],r={scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+3*l)]};this.animateTo(r,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}pb._updateCommon=function(e,t,a,l){var r=this.childAt(0),$=e.hostModel,o=e.getItemVisual(t,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var i=l&&l.itemStyle,s=l&&l.hoverItemStyle,c=l&&l.symbolOffset,n=l&&l.labelModel,m=l&&l.hoverLabelModel,h=l&&l.hoverAnimation,v=l&&l.cursorStyle;if(!l||e.hasItemOption){var M=l&&l.itemModel?l.itemModel:e.getItemModel(t);i=M.getModel(iV).getItemStyle(["color"]),s=M.getModel(jV).getItemStyle(),c=M.getShallow("symbolOffset"),n=M.getModel(kV),m=M.getModel(lV),h=M.getShallow("hoverAnimation"),v=M.getShallow("cursor")}else s=z({},s);var u=r.style,y=e.getItemVisual(t,"symbolRotate");r.attr("rotation",(y||0)*Math.PI/180||0),c&&r.attr("position",[Qx(c[0],a[0]),Qx(c[1],a[1])]),v&&r.attr("cursor",v),r.setColor(o,l&&l.symbolInnerColor),r.setStyle(i);var b=e.getItemVisual(t,"opacity");null!=b&&(u.opacity=b);var G=e.getItemVisual(t,"liftZ"),F=r.__z2Origin;null!=G?null==F&&(r.__z2Origin=r.z2,r.z2+=G):null!=F&&(r.z2=F,r.__z2Origin=null);var p=l&&l.useNameLabel;Ia(u,s,n,m,{labelFetcher:$,labelDataIndex:t,defaultText:function(t,a){return p?e.getName(t):fV(e,t)},isRectText:!0,autoColor:o}),r.__symbolOriginalScale=jo(a),r.hoverStyle=s,r.highDownOnUpdate=h&&$.isAnimationEnabled()?mV:null,V(r)},pb.fadeOut=function(e,t){var a=this.childAt(0);this.silent=a.silent=!0,(!t||!t.keepLabel)&&(a.style.text=null),A(a,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},n(ij,q);var nV=ij;og=nV;var pg={},oV=y;function Rx(e){this.group=new q,this._symbolCtor=e||og}var Le=Rx.prototype;function ko(e,t,r,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(r))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(r,"symbol")}function Sx(e){return null==e||oV(e)||(e={isIgnore:e}),e||{}}function Tx(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}Le.updateData=function(e,t){t=Sx(t);var r=this.group,a=e.hostModel,o=this._data,$=this._symbolCtor,i=Tx(e);o||r.removeAll(),e.diff(o).add(function(a){var o=e.getItemLayout(a);if(ko(e,o,a,t)){var l=new $(e,a,i);l.attr("position",o),e.setItemGraphicEl(a,l),r.add(l)}}).update(function(l,s){var n=o.getItemGraphicEl(s),m=e.getItemLayout(l);ko(e,m,l,t)?(n?(n.updateData(e,l,i),A(n,{position:m},a)):(n=new $(e,l)).attr("position",m),r.add(n),e.setItemGraphicEl(l,n)):r.remove(n)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&t.fadeOut(function(){r.remove(t)})}).execute(),this._data=e},Le.isPersistent=function(){return!0},Le.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,r){var a=e.getItemLayout(r);t.attr("position",a)})},Le.incrementalPrepareUpdate=function(e){this._seriesScope=Tx(e),this._data=null,this.group.removeAll()},Le.incrementalUpdate=function(e,t,r){function a(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}r=Sx(r);for(var o=e.start;o<e.end;o++){var $=t.getItemLayout(o);if(ko(t,$,o,r)){var i=new this._symbolCtor(t,o,this._seriesScope);i.traverse(a),i.attr("position",$),this.group.add(i),t.setItemGraphicEl(o,i)}}},Le.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll()};var pV=Rx;pg=pV;var Ux=De,qV=j;function rV(a,e,r){var t,$=a.getBaseAxis(),i=a.getOtherAxis($),n=sV(i,r),o=$.dim,s=i.dim,g=e.mapDimension(s),d=e.mapDimension(o),b="x"===s||"radius"===s?1:0,c=qV(a.dimensions,function(a){return e.mapDimension(a)}),p=e.getCalculationInfo("stackResultDimension");return(t|=Ux(e,c[0]))&&(c[0]=p),(t|=Ux(e,c[1]))&&(c[1]=p),{dataDimsForPoint:c,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!t,valueDim:g,baseDim:d,baseDataOffset:b,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function sV(a,e){var r=0,t=a.scale.getExtent();return"start"===e?r=t[0]:"end"===e?r=t[1]:t[0]>0?r=t[0]:t[1]<0&&(r=t[1]),r}function tV(a,e,r,t){var $=NaN;a.stacked&&($=r.get(r.getCalculationInfo("stackedOverDimension"),t)),isNaN($)&&($=a.valueStart);var i=a.baseDataOffset,n=[];return n[i]=r.get(a.baseDim,t),n[1-i]=$,e.dataToPoint(n)}var Vx=rV;var Wx=tV;var uV={},Xx=Vx,Yx=Wx;function vV(t,a){var e=[];return a.diff(t).add(function(t){e.push({cmd:"+",idx:t})}).update(function(t,a){e.push({cmd:"=",idx:a,idx1:t})}).remove(function(t){e.push({cmd:"-",idx:t})}).execute(),e}function wV(t,a,e,r,s,$,n,o){for(var d=vV(t,a),u=[],i=[],p=[],h=[],c=[],v=[],f=[],L=Xx(s,a,n),x=Xx($,t,o),g=0;g<d.length;g++){var B=d[g],m=!0;switch(B.cmd){case"=":var l=t.getItemLayout(B.idx),I=a.getItemLayout(B.idx1);(isNaN(l[0])||isNaN(l[1]))&&(l=I.slice()),u.push(l),i.push(I),p.push(e[B.idx]),h.push(r[B.idx1]),f.push(a.getRawIndex(B.idx1));break;case"+":var D=B.idx;u.push(s.dataToPoint([a.get(L.dataDimsForPoint[0],D),a.get(L.dataDimsForPoint[1],D)])),i.push(a.getItemLayout(D).slice()),p.push(Yx(L,s,a,D)),h.push(r[D]),f.push(a.getRawIndex(D));break;case"-":D=B.idx;var P=t.getRawIndex(D);P!==D?(u.push(t.getItemLayout(D)),i.push($.dataToPoint([t.get(x.dataDimsForPoint[0],D),t.get(x.dataDimsForPoint[1],D)])),p.push(e[D]),h.push(Yx(x,$,t,D)),f.push(P)):m=!1;}m&&(c.push(B),v.push(v.length))}v.sort(function(t,a){return f[t]-f[a]});var k=[],O=[],C=[],N=[],_=[];for(g=0;g<v.length;g++){D=v[g];k[g]=u[D],O[g]=i[D],C[g]=p[D],N[g]=h[D],_[g]=c[D]}return{current:k,next:O,stackedOnCurrent:C,stackedOnNext:N,status:_}}uV=wV;var Zx=Wd,$x=Xd,_x=xf,jj=_,lo=[],bb=[],cb=[];function bc($){return isNaN($[0])||isNaN($[1])}function mo($,r,a,o,n,v,e,t,i,S,I){return"none"!==S&&S?xV.apply(this,arguments):yV.apply(this,arguments)}function xV($,r,a,o,n,v,e,t,i,S,I){for(var Y=0,l=a,c=0;c<o;c++){var s=r[l];if(l>=n||l<0)break;if(bc(s)){if(I){l+=v;continue}break}if(l===a)$[v>0?"moveTo":"lineTo"](s[0],s[1]);else if(i>0){var p=r[Y],u="y"===S?1:0,h=(s[u]-p[u])*i;jj(bb,p),bb[u]=p[u]+h,jj(cb,s),cb[u]=s[u]-h,$.bezierCurveTo(bb[0],bb[1],cb[0],cb[1],s[0],s[1])}else $.lineTo(s[0],s[1]);Y=l,l+=v}return c}function yV($,r,a,o,n,v,e,t,i,S,I){for(var Y=0,l=a,c=0;c<o;c++){var s=r[l];if(l>=n||l<0)break;if(bc(s)){if(I){l+=v;continue}break}if(l===a)$[v>0?"moveTo":"lineTo"](s[0],s[1]),jj(bb,s);else if(i>0){var p=l+v,u=r[p];if(I)for(;u&&bc(r[p]);)u=r[p+=v];var h=.5,d=r[Y];if(!(u=r[p])||bc(u))jj(cb,s);else{var f,m;if(bc(u)&&!I&&(u=s),Pb(lo,u,d),"x"===S||"y"===S){var P="x"===S?0:1;f=Math.abs(s[P]-d[P]),m=Math.abs(s[P]-u[P])}else f=Qb(s,d),m=Qb(s,u);_x(cb,s,lo,-i*(1-(h=m/(m+f))))}Zx(bb,bb,t),$x(bb,bb,e),Zx(cb,cb,t),$x(cb,cb,e),$.bezierCurveTo(bb[0],bb[1],cb[0],cb[1],s[0],s[1]),_x(bb,s,lo,i*h)}else $.lineTo(s[0],s[1]);Y=l,l+=v}return c}function no($,r){var a=[1/0,1/0],o=[-1/0,-1/0];if(r)for(var n=0;n<$.length;n++){var v=$[n];v[0]<a[0]&&(a[0]=v[0]),v[1]<a[1]&&(a[1]=v[1]),v[0]>o[0]&&(o[0]=v[0]),v[1]>o[1]&&(o[1]=v[1])}return{min:r?a:o,max:r?o:a}}var zV=g.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:vm(g.prototype.brush),buildPath:function($,r){var a=r.points,o=0,n=a.length,v=no(a,r.smoothConstraint);if(r.connectNulls){for(;n>0&&bc(a[n-1]);n--);for(;o<n&&bc(a[o]);o++);}for(;o<n;)o+=mo($,a,o,n,n,1,v.min,v.max,r.smooth,r.smoothMonotone,r.connectNulls)+1}}),AV=g.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:vm(g.prototype.brush),buildPath:function($,r){var a=r.points,o=r.stackedOnPoints,n=0,v=a.length,e=r.smoothMonotone,t=no(a,r.smoothConstraint),i=no(o,r.smoothConstraint);if(r.connectNulls){for(;v>0&&bc(a[v-1]);v--);for(;n<v&&bc(a[n]);n++);}for(;n<v;){var S=mo($,a,n,v,v,1,t.min,t.max,r.smooth,e,r.connectNulls);mo($,o,n+S-1,S,v,-1,i.min,i.max,r.stackedOnSmooth,e,r.connectNulls),n+=S+1,$.closePath()}}}),BV=zV;var ay=AV;var kj=ha;function by(r,e,a){var $=r.getArea(),t=r.getBaseAxis().isHorizontal(),i=$.x,l=$.y,p=$.width,h=$.height,n=a.get("lineStyle.width")||2;i-=n/2,l-=n/2,p+=n,h+=n,i=Math.floor(i),p=Math.round(p);var c=new F({shape:{x:i,y:l,width:p,height:h}});return e&&(c.shape[t?"width":"height"]=0,ga(c,{shape:{width:p,height:h}},a)),c}function cy(r,e,a){var $=r.getArea(),t=new mb({shape:{cx:kj(r.cx,1),cy:kj(r.cy,1),r0:kj($.r0,1),r:kj($.r,1),startAngle:$.startAngle,endAngle:$.endAngle,clockwise:$.clockwise}});return e&&(t.shape.endAngle=$.startAngle,ga(t,{shape:{endAngle:$.endAngle}},a)),t}function CV(r,e,a){return r?"polar"===r.type?cy(r,e,a):"cartesian2d"===r.type?by(r,e,a):null:null}var DV=by;var EV=cy;var lj=CV;var dy=Th,FV=BV,GV=ay,HV=Vx,IV=Wx,JV=DV,KV=EV;function ey(t,o){if(t.length===o.length){for(var e=0;e<t.length;e++){var r=t[e],a=o[e];if(r[0]!==a[0]||r[1]!==a[1])return}return!0}}function fy(t,o){var e=[],r=[],a=[],i=[];return dy(t,e,r),dy(o,a,i),Math.max(Math.abs(e[0]-a[0]),Math.abs(e[1]-a[1]),Math.abs(r[0]-i[0]),Math.abs(r[1]-i[1]))}function gy(t){return"number"==typeof t?t:t?.5:0}function LV(t,o,e){if(!e.valueDim)return[];for(var r=[],a=0,i=o.count();a<i;a++)r.push(IV(e,t,o,a));return r}function Fc(t,o,e){for(var r=o.getBaseAxis(),a="x"===r.dim||"radius"===r.dim?0:1,i=[],n=0;n<t.length-1;n++){var $=t[n+1],s=t[n];i.push(s);var u=[];switch(e){case"end":u[a]=$[a],u[1-a]=s[1-a],i.push(u);break;case"middle":var l=(s[a]+$[a])/2,p=[];u[a]=p[a]=l,u[1-a]=s[1-a],p[1-a]=$[1-a],i.push(u),i.push(p);break;default:u[a]=s[a],u[1-a]=$[1-a],i.push(u);}}return t[n]&&i.push(t[n]),i}function MV(t,o){var e=t.getVisual("visualMeta");if(e&&e.length&&t.count()&&"cartesian2d"===o.type){for(var r,a,i=e.length-1;i>=0;i--){var n=e[i].dimension,$=t.dimensions[n],s=t.getDimensionInfo($);if("x"===(r=s&&s.coordDim)||"y"===r){a=e[i];break}}if(a){var u=o.getAxis(r),l=j(a.stops,function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}}),p=l.length,h=a.outerColors.slice();p&&l[0].coord>l[p-1].coord&&(l.reverse(),h.reverse());var c=l[0].coord-10,v=l[p-1].coord+10,w=v-c;if(w<.001)return"transparent";k(l,function(t){t.offset=(t.coord-c)/w}),l.push({offset:p?l[p-1].offset:.5,color:h[1]||"transparent"}),l.unshift({offset:p?l[0].offset:.5,color:h[0]||"transparent"});var d=new ei(0,0,0,0,l,!0);return d[r]=c,d[r+"2"]=v,d}}}function NV(t,o,e){var r=t.get("showAllSymbol"),a="auto"===r;if(!r||a){var i=e.getAxesByScale("ordinal")[0];if(i&&(!a||!OV(i,o))){var n=o.mapDimension(i.dim),$={};return k(i.getViewLabels(),function(t){$[t.tickValue]=1}),function(t){return!$.hasOwnProperty(o.get(n,t))}}}}function OV(t,o){var e=t.getExtent(),r=Math.abs(e[1]-e[0])/t.scale.count();isNaN(r)&&(r=0);for(var a=o.count(),i=Math.max(1,Math.round(a/5)),n=0;n<a;n+=i)if(1.5*og.getSymbolSize(o,n)[t.isHorizontal()?1:0]>r)return!1;return!0}function hy(t,o,e){if("cartesian2d"===t.type){var r=t.getBaseAxis().isHorizontal(),a=JV(t,o,e);if(!e.get("clip",!0)){var i=a.shape,n=Math.max(i.width,i.height);r?(i.y-=n,i.height+=2*n):(i.x-=n,i.width+=2*n)}return a}return KV(t,o,e)}var cka=Ba.extend({type:"line",init:function(){var t=new q,o=new pg;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=t},render:function(t,o,e){var r=t.coordinateSystem,a=this.group,i=t.getData(),n=t.getModel("lineStyle"),$=t.getModel("areaStyle"),s=i.mapArray(i.getItemLayout),u="polar"===r.type,l=this._coordSys,p=this._symbolDraw,h=this._polyline,c=this._polygon,v=this._lineGroup,w=t.get("animation"),d=!$.isEmpty(),g=$.get("origin"),B=LV(r,i,HV(r,i,g)),m=t.get("showSymbol"),f=m&&!u&&NV(t,i,r),y=this._data;y&&y.eachItemGraphicEl(function(t,o){t.__temp&&(a.remove(t),y.setItemGraphicEl(o,null))}),m||p.remove(),a.add(v);var _,S=!u&&t.get("step");r&&r.getArea&&t.get("clip",!0)&&(null!=(_=r.getArea()).width?(_.x-=.1,_.y-=.1,_.width+=.2,_.height+=.2):_.r0&&(_.r0-=.5,_.r1+=.5)),this._clipShapeForSymbol=_,h&&l.type===r.type&&S===this._step?(d&&!c?c=this._newPolygon(s,B,r,w):c&&!d&&(v.remove(c),c=this._polygon=null),v.setClipPath(hy(r,!1,t)),m&&p.updateData(i,{isIgnore:f,clipShape:_}),i.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),ey(this._stackedOnPoints,B)&&ey(this._points,s)||(w?this._updateAnimation(i,B,r,e,S,g):(S&&(s=Fc(s,r,S),B=Fc(B,r,S)),h.setShape({points:s}),c&&c.setShape({points:s,stackedOnPoints:B})))):(m&&p.updateData(i,{isIgnore:f,clipShape:_}),S&&(s=Fc(s,r,S),B=Fc(B,r,S)),h=this._newPolyline(s,r,w),d&&(c=this._newPolygon(s,B,r,w)),v.setClipPath(hy(r,!0,t)));var P=MV(i,r)||i.getVisual("color");h.useStyle(E(n.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"}));var b=t.get("smooth");if(b=gy(t.get("smooth")),h.setShape({smooth:b,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),c){var C=i.getCalculationInfo("stackedOnSeries"),I=0;c.useStyle(E($.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel"})),C&&(I=gy(C.get("smooth"))),c.setShape({smooth:b,stackedOnSmooth:I,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=i,this._coordSys=r,this._stackedOnPoints=B,this._points=s,this._step=S,this._valueOrigin=g},dispose:function(){},highlight:function(t,o,e,r){var a=t.getData(),i=Kh(a,r);if(!(i instanceof Array)&&null!=i&&i>=0){var n=a.getItemGraphicEl(i);if(!n){var $=a.getItemLayout(i);if(!$)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain($[0],$[1]))return;(n=new og(a,i)).position=$,n.setZ(t.get("zlevel"),t.get("z")),n.ignore=isNaN($[0])||isNaN($[1]),n.__temp=!0,a.setItemGraphicEl(i,n),n.stopSymbolAnimation(!0),this.group.add(n)}n.highlight()}else Ba.prototype.highlight.call(this,t,o,e,r)},downplay:function(t,o,e,r){var a=t.getData(),i=Kh(a,r);if(null!=i&&i>=0){var n=a.getItemGraphicEl(i);n&&(n.__temp?(a.setItemGraphicEl(i,null),this.group.remove(n)):n.downplay())}else Ba.prototype.downplay.call(this,t,o,e,r)},_newPolyline:function(t){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new FV({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(o),this._polyline=o,o},_newPolygon:function(t,o){var e=this._polygon;return e&&this._lineGroup.remove(e),e=new GV({shape:{points:t,stackedOnPoints:o},silent:!0}),this._lineGroup.add(e),this._polygon=e,e},_updateAnimation:function(t,o,e,r,a,i){var n=this._polyline,$=this._polygon,s=t.hostModel,u=uV(this._data,t,this._stackedOnPoints,o,this._coordSys,e,this._valueOrigin,i),l=u.current,p=u.stackedOnCurrent,h=u.next,c=u.stackedOnNext;if(a&&(l=Fc(u.current,e,a),p=Fc(u.stackedOnCurrent,e,a),h=Fc(u.next,e,a),c=Fc(u.stackedOnNext,e,a)),fy(l,h)>3e3||$&&fy(p,c)>3e3)return n.setShape({points:h}),void($&&$.setShape({points:h,stackedOnPoints:c}));n.shape.__points=u.current,n.shape.points=l,A(n,{shape:{points:h}},s),$&&($.setShape({points:l,stackedOnPoints:p}),A($,{shape:{points:h,stackedOnPoints:c}},s));for(var v=[],w=u.status,d=0;d<w.length;d++){if("="===w[d].cmd){var g=t.getItemGraphicEl(w[d].idx1);g&&v.push({el:g,ptIdx:d})}}n.animators&&n.animators.length&&n.animators[0].during(function(){for(var t=0;t<v.length;t++){v[t].el.attr("position",n.shape.__points[v[t].ptIdx])}})},remove:function(t){var o=this.group,e=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),e&&e.eachItemGraphicEl(function(t,r){t.__temp&&(o.remove(t),e.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});function PV(e,t,o){return{seriesType:e,performRawSeries:!0,reset:function(e,l,s){var a=e.getData(),i=e.get("symbol"),m=e.get("symbolSize"),r=e.get("symbolKeepAspect"),u=e.get("symbolRotate"),$=ho(i),n=ho(m),b=ho(u),y=$||n||b,c=!$&&i?i:t,p=n?null:m;if(a.setVisual({legendSymbol:o||c,symbol:c,symbolSize:p,symbolKeepAspect:r,symbolRotate:u}),!l.isSeriesFiltered(e))return{dataEach:a.hasItemOption||y?function(t,o){if(y){var l=e.getRawValue(o),s=e.getDataParams(o);$&&t.setItemVisual(o,"symbol",i(l,s)),n&&t.setItemVisual(o,"symbolSize",m(l,s)),b&&t.setItemVisual(o,"symbolRotate",u(l,s))}if(t.hasItemOption){var a=t.getItemModel(o),r=a.getShallow("symbol",!0),c=a.getShallow("symbolSize",!0),p=a.getShallow("symbolRotate",!0),g=a.getShallow("symbolKeepAspect",!0);null!=r&&t.setItemVisual(o,"symbol",r),null!=c&&t.setItemVisual(o,"symbolSize",c),null!=p&&t.setItemVisual(o,"symbolRotate",p),null!=g&&t.setItemVisual(o,"symbolKeepAspect",g)}}:null}}}}qd=PV;var qg={},QV=j,iy=De;function RV(e){return{seriesType:e,plan:ye(),reset:function(e){var a=e.getData(),r=e.coordinateSystem,i=e.pipelineContext.large;if(r){var t=QV(r.dimensions,function(e){return a.mapDimension(e)}).slice(0,2),n=t.length,$=a.getCalculationInfo("stackResultDimension");return iy(a,t[0])&&(t[0]=$),iy(a,t[1])&&(t[1]=$),n&&{progress:function(e,a){for(var $=e.end-e.start,s=i&&new Float32Array($*n),l=e.start,o=0,g=[],c=[];l<e.end;l++){var u;if(1===n){var d=a.get(t[0],l);u=!isNaN(d)&&r.dataToPoint(d,null,c)}else{d=g[0]=a.get(t[0],l);var v=g[1]=a.get(t[1],l);u=!isNaN(d)&&!isNaN(v)&&r.dataToPoint(g,null,c)}i?(s[o++]=u?u[0]:NaN,s[o++]=u?u[1]:NaN):a.setItemLayout(l,u&&u.slice()||[NaN,NaN])}i&&a.setLayout("symbolPoints",s)}}}}}}qg=RV;var SV={},TV={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},UV=function(t,e){return Math.round(t.length/2)};function VV(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,n){var r=t.getData(),a=t.get("sampling"),i=t.coordinateSystem;if("cartesian2d"===i.type&&a){var f,o=i.getBaseAxis(),s=i.getOtherAxis(o),u=o.getExtent(),$=Math.abs(u[1]-u[0]),m=Math.round(r.count()/$);if(m>1)"string"==typeof a?f=TV[a]:"function"==typeof a&&(f=a),f&&t.setData(r.downSample(r.mapDimension(s.dim),1/m,f,UV))}}}}SV=VV;var jy={};function WV(a){return this._axes[a]}var oo=function(a){this._axes={},this._dimList=[],this.name=a||""};oo.prototype={constructor:oo,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return j(this._dimList,WV,this)},getAxesByScale:function(a){return a=a.toLowerCase(),Ea(this.getAxes(),function(t){return t.scale.type===a})},addAxis:function(a){var t=a.dim;this._axes[t]=a,this._dimList.push(t)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,t){for(var r=this._dimList,i=a instanceof Array?[]:{},e=0;e<r.length;e++){var n=r[e],o=this._axes[n];i[n]=o[t](a[n])}return i}};var XV=oo;jy=XV;var ky={};function mj(t){jy.call(this,t)}mj.prototype={constructor:mj,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var a=this.getAxis("x"),i=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,a,i){var r=this.getAxis("x"),e=this.getAxis("y");return(i=i||[])[0]=r.toGlobalCoord(r.dataToCoord(t[0])),i[1]=e.toGlobalCoord(e.dataToCoord(t[1])),i},clampData:function(t,a){var i=this.getAxis("x").scale,r=this.getAxis("y").scale,e=i.getExtent(),n=r.getExtent(),o=i.parse(t[0]),s=r.parse(t[1]);return(a=a||[])[0]=Math.min(Math.max(Math.min(e[0],e[1]),o),Math.max(e[0],e[1])),a[1]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1])),a},pointToData:function(t,a){var i=this.getAxis("x"),r=this.getAxis("y");return(a=a||[])[0]=i.coordToData(i.toLocalCoord(t[0])),a[1]=r.coordToData(r.toLocalCoord(t[1])),a},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),r=Math.min(a[0],a[1]),e=Math.max(t[0],t[1])-i,n=Math.max(a[0],a[1])-r;return new I(i,r,e,n)}},n(mj,jy);var YV=mj;ky=YV;var ZV={},nj=function(t,r,o,i,$){X.call(this,t,r,o),this.type=i||"value",this.position=$||"bottom"};nj.prototype={constructor:nj,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,r){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),r)},toLocalCoord:null,toGlobalCoord:null},n(nj,X);var $V=nj;ZV=$V;var _V=y,qb=k,aW=j,po=C,bW=T,cW=Ie,dW=$S,ly=He,eW=aT,fW=Ui;function qo(e,r,t){return e.getCoordSysModel()===r}function Me(e,r,t){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,r,t),this.model=e}var my={},ny={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},rd={};rd.categoryAxis=f({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ny),rd.valueAxis=f({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},ny),rd.timeAxis=E({scale:!0,min:"dataMin",max:"dataMax"},rd.valueAxis),rd.logAxis=E({scale:!0,logBase:10},rd.valueAxis);var gW=rd;my=gW;var Ne={},hW=te,iW=id,jW=["value","category","time","log"];function kW(e,a,r,t){k(jW,function($){a.extend({type:e+"Axis."+$,mergeDefaultAndTheme:function(a,t){var i=this.layoutMode,d=i?hW(a):{},o=t.getTheme();f(a,o.get($+"Axis")),f(a,this.getDefaultOption()),a.type=r(e,a),i&&iW(a,d,i)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Kw.createByAxisModel(this))},getCategories:function(e){var a=this.option;if("category"===a.type)return e?a.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:uf([{},my[$+"Axis"],t],!0)})}),p.registerSubTypeDefaulter(e+"Axis",w(r,e))}Ne=kW;var Oe=p.extend({type:"cartesian2dAxis",axis:null,init:function(){Oe.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Oe.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Oe.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function oy(e,$){return $.type||($.data?"category":"value")}f(Oe.prototype,nd);var py={offset:0};Ne("x",Oe,oy,py),Ne("y",Oe,oy,py);var dka=p.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var ma=Me.prototype;function qy(e,r,t,i){t.getAxesOnZeroOf=function(){return a?[a]:[]};var a,$=e[r],n=t.model,o=n.get("axisLine.onZero"),s=n.get("axisLine.onZeroAxisIndex");if(o){if(null!=s)ry($[s])&&(a=$[s]);else for(var h in $)if($.hasOwnProperty(h)&&ry($[h])&&!i[c($[h])]){a=$[h];break}a&&(i[c(a)]=!0)}function c(e){return e.dim+"_"+e.index}}function ry(e){return e&&"category"!==e.type&&"time"!==e.type&&dW(e)}function lW(e,r){var t=e.getExtent(),i=t[0]+t[1];e.toGlobalCoord="x"===e.dim?function(e){return e+r}:function(e){return i-e+r},e.toLocalCoord="x"===e.dim?function(e){return e-r}:function(e){return i-e+r}}ma.type="grid",ma.axisPointerEnabled=!0,ma.getRect=function(){return this._rect},ma.update=function(e,r){var t=this._axesMap;this._updateScale(e,this.model),qb(t.x,function(e){ly(e.scale,e.model)}),qb(t.y,function(e){ly(e.scale,e.model)});var i={};qb(t.x,function(e){qy(t,"y",e,i)}),qb(t.y,function(e){qy(t,"x",e,i)}),this.resize(this.model,r)},ma.resize=function(e,r,t){var i=bW(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});this._rect=i;var a=this._axesList;function $(){qb(a,function(e){var r=e.isHorizontal(),t=r?[0,i.width]:[0,i.height],a=e.inverse?1:0;e.setExtent(t[a],t[1-a]),lW(e,r?i.x:i.y)})}$(),!t&&e.get("containLabel")&&(qb(a,function(e){if(!e.model.get("axisLabel.inside")){var r=eW(e);if(r){var t=e.isHorizontal()?"height":"width",a=e.model.get("axisLabel.margin");i[t]-=r[t]+a,"top"===e.position?i.y+=r.height+a:"left"===e.position&&(i.x+=r.width+a)}}}),$())},ma.getAxis=function(e,r){var t=this._axesMap[e];if(null!=t){if(null==r)for(var i in t)if(t.hasOwnProperty(i))return t[i];return t[r]}},ma.getAxes=function(){return this._axesList.slice()},ma.getCartesian=function(e,r){if(null!=e&&null!=r){var t="x"+e+"y"+r;return this._coordsMap[t]}_V(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===r)return a[i]},ma.getCartesians=function(){return this._coordsList.slice()},ma.convertToPixel=function(e,r,t){var i=this._findConvertTarget(e,r);return i.cartesian?i.cartesian.dataToPoint(t):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(t)):null},ma.convertFromPixel=function(e,r,t){var i=this._findConvertTarget(e,r);return i.cartesian?i.cartesian.pointToData(t):i.axis?i.axis.coordToData(i.axis.toLocalCoord(t)):null},ma._findConvertTarget=function(e,r){var t,i,a=r.seriesModel,$=r.xAxisModel||a&&a.getReferringComponents("xAxis")[0],n=r.yAxisModel||a&&a.getReferringComponents("yAxis")[0],o=r.gridModel,s=this._coordsList;if(a)t=a.coordinateSystem,po(s,t)<0&&(t=null);else if($&&n)t=this.getCartesian($.componentIndex,n.componentIndex);else if($)i=this.getAxis("x",$.componentIndex);else if(n)i=this.getAxis("y",n.componentIndex);else if(o){o.coordinateSystem===this&&(t=this._coordsList[0])}return{cartesian:t,axis:i}},ma.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},ma._initCartesian=function(e,r,t){var i={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},$={x:0,y:0};if(r.eachComponent("xAxis",n("x"),this),r.eachComponent("yAxis",n("y"),this),!$.x||!$.y)return this._axesMap={},void(this._axesList=[]);function n(t){return function(n,o){if(qo(n,e,r)){var s=n.get("position");"x"===t?"top"!==s&&"bottom"!==s&&(s=i.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=i.left?"right":"left"),i[s]=!0;var h=new ZV(t,cW(n),[0,0],n.get("type"),s),c="category"===h.type;h.onBand=c&&n.get("boundaryGap"),h.inverse=n.get("inverse"),n.axis=h,h.model=n,h.grid=this,h.index=o,this._axesList.push(h),a[t][o]=h,$[t]++}}}this._axesMap=a,qb(a.x,function(r,t){qb(a.y,function(i,a){var $="x"+t+"y"+a,n=new ky($);n.grid=this,n.model=e,this._coordsMap[$]=n,this._coordsList.push(n),n.addAxis(r),n.addAxis(i)},this)},this)},ma._updateScale=function(e,r){function t(e,r,t){qb(e.mapDimension(r.dim,!0),function(t){r.scale.unionExtentFromData(e,fW(e,t))})}qb(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if(ty(i)){var a=sy(i,e),$=a[0],n=a[1];if(!qo($,r,e)||!qo(n,r,e))return;var o=this.getCartesian($.componentIndex,n.componentIndex),s=i.getData(),h=o.getAxis("x"),c=o.getAxis("y");"list"===s.type&&(t(s,h,i),t(s,c,i))}},this)},ma.getTooltipAxes=function(e){var r=[],t=[];return qb(this.getCartesians(),function(i){var a=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),$=i.getOtherAxis(a);po(r,a)<0&&r.push(a),po(t,$)<0&&t.push($)}),{baseAxes:r,otherAxes:t}};var mW=["xAxis","yAxis"];function sy(e,r){return aW(mW,function(r){return e.getReferringComponents(r)[0]})}function ty(e){return"cartesian2d"===e.get("coordinateSystem")}Me.create=function(e,r){var t=[];return e.eachComponent("grid",function(i,a){var $=new Me(i,e,r);$.name="grid_"+a,$.resize(i,r,!0),i.coordinateSystem=$,t.push($)}),e.eachSeries(function(r){if(ty(r)){var t=sy(r,e),i=t[0],a=t[1],$=i.getCoordSysModel().coordinateSystem;r.coordinateSystem=$.getCartesian(i.componentIndex,a.componentIndex)}}),t},Me.dimensions=Me.prototype.dimensions=ky.prototype.dimensions,Xa.register("cartesian2d",Me);var cc={},oj=ua,pj=E,uy=z,vy=k,qj=Xu,wy=Wu,nW=_a,rj=Ga,oW=ex,Gc=Math.PI,Pe=function(a,r){this.opt=r,this.axisModel=a,pj(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new q;var e=new q({position:r.position.slice(),rotation:r.rotation});e.updateTransform(),this._transform=e.transform,this._dumbGroup=e};Pe.prototype={constructor:Pe,hasBuilder:function(a){return!!xy[a]},add:function(a){xy[a].call(this)},getGroup:function(){return this.group}};var xy={axisLine:function(){var a=this.opt,r=this.axisModel;if(r.get("axisLine.show")){var e=this.axisModel.axis.getExtent(),t=this._transform,i=[e[0],0],$=[e[1],0];t&&(rj(i,i,t),rj($,$,t));var n=uy({lineCap:"round"},r.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new ca({anid:"line",subPixelOptimize:!0,shape:{x1:i[0],y1:i[1],x2:$[0],y2:$[1]},style:n,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1}));var o=r.get("axisLine.symbol"),l=r.get("axisLine.symbolSize"),x=r.get("axisLine.symbolOffset")||0;if("number"==typeof x&&(x=[x,x]),null!=o){"string"==typeof o&&(o=[o,o]),"string"!=typeof l&&"number"!=typeof l||(l=[l,l]);var s=l[0],v=l[1];vy([{rotate:a.rotation+Math.PI/2,offset:x[0],r:0},{rotate:a.rotation-Math.PI/2,offset:x[1],r:Math.sqrt((i[0]-$[0])*(i[0]-$[0])+(i[1]-$[1])*(i[1]-$[1]))}],function(r,e){if("none"!==o[e]&&null!=o[e]){var t=nW(o[e],-s/2,-v/2,s,v,n.stroke,!0),$=r.r+r.offset,l=[i[0]+$*Math.cos(a.rotation),i[1]-$*Math.sin(a.rotation)];t.attr({rotation:r.rotate,position:l,silent:!0,z2:11}),this.group.add(t)}},this)}}},axisTickLabel:function(){var a=this.axisModel,r=this.opt,e=rW(this,a,r);qW(a,tW(this,a,r),e),sW(this,a,r)},axisName:function(){var a=this.opt,r=this.axisModel,e=oj(a.axisName,r.get("name"));if(e){var t,i,$=r.get("nameLocation"),n=a.nameDirection,o=r.getModel("nameTextStyle"),l=r.get("nameGap")||0,x=this.axisModel.axis.getExtent(),s=x[0]>x[1]?-1:1,v=["start"===$?x[0]-s*l:"end"===$?x[1]+s*l:(x[0]+x[1])/2,Cy($)?a.labelOffset+n*l:0],u=r.get("nameRotate");null!=u&&(u=u*Gc/180),Cy($)?t=zy(a.rotation,null!=u?u:a.rotation,n):(t=pW(a,$,u||0,x),null!=(i=a.axisNameAvailableWidth)&&(i=Math.abs(i/Math.sin(t.rotation)),!isFinite(i)&&(i=null)));var V=o.getFont(),c=r.get("nameTruncate",!0)||{},g=c.ellipsis,d=oj(a.nameTruncateMaxWidth,c.maxWidth,i),p=null!=g&&null!=d?cv(e,d,V,g,{minChar:2,placeholder:c.placeholder}):e,m=r.get("tooltip",!0),f=r.mainType,h={componentType:f,name:e,$vars:["name"]};h[f+"Index"]=r.componentIndex;var b=new K({anid:"name",__fullText:e,__truncatedText:p,position:v,rotation:t.rotation,silent:Ay(r),z2:1,tooltip:m&&m.show?uy({content:e,formatter:function(){return e},formatterParams:h},m):null});R(b.style,o,{text:p,textFont:V,textFill:o.getTextColor()||r.get("axisLine.lineStyle.color"),textAlign:o.get("align")||t.textAlign,textVerticalAlign:o.get("verticalAlign")||t.textVerticalAlign}),r.get("triggerEvent")&&(b.eventData=yy(r),b.eventData.targetType="axisName",b.eventData.name=e),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},yy=Pe.makeAxisEventDataBase=function(a){var r={componentType:a.mainType,componentIndex:a.componentIndex};return r[a.mainType+"Index"]=a.componentIndex,r},zy=Pe.innerTextLayout=function(a,r,e){var t,i,$=wy(r-a);return qj($)?(i=e>0?"top":"bottom",t="center"):qj($-Gc)?(i=e>0?"bottom":"top",t="center"):(i="middle",t=$>0&&$<Gc?e>0?"right":"left":e>0?"left":"right"),{rotation:$,textAlign:t,textVerticalAlign:i}};function pW(a,r,e,t){var i,$,n=wy(e-a.rotation),o=t[0]>t[1],l="start"===r&&!o||"start"!==r&&o;return qj(n-Gc/2)?($=l?"bottom":"top",i="center"):qj(n-1.5*Gc)?($=l?"top":"bottom",i="center"):($="middle",i=n<1.5*Gc&&n>Gc/2?l?"left":"right":l?"right":"left"),{rotation:n,textAlign:i,textVerticalAlign:$}}var Ay=Pe.isLabelSilent=function(a){var r=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||r&&r.show)};function qW(a,r,e){if(!oW(a.axis)){var t=a.get("axisLabel.showMinLabel"),i=a.get("axisLabel.showMaxLabel");e=e||[];var $=(r=r||[])[0],n=r[1],o=r[r.length-1],l=r[r.length-2],x=e[0],s=e[1],v=e[e.length-1],u=e[e.length-2];!1===t?(db($),db(x)):By($,n)&&(t?(db(n),db(s)):(db($),db(x))),!1===i?(db(o),db(v)):By(l,o)&&(i?(db(l),db(u)):(db(o),db(v)))}}function db(a){a&&(a.ignore=!0)}function By(a,r,e){var t=a&&a.getBoundingRect().clone(),i=r&&r.getBoundingRect().clone();if(t&&i){var $=yf([]);return Rb($,$,-a.rotation),t.applyTransform(mc([],$,a.getLocalTransform())),i.applyTransform(mc([],$,r.getLocalTransform())),t.intersect(i)}}function Cy(a){return"middle"===a||"center"===a}function Dy(a,r,e,t,i){for(var $=[],n=[],o=[],l=0;l<a.length;l++){var x=a[l].coord;n[0]=x,n[1]=0,o[0]=x,o[1]=e,r&&(rj(n,n,r),rj(o,o,r));var s=new ca({anid:i+"_"+a[l].tickValue,subPixelOptimize:!0,shape:{x1:n[0],y1:n[1],x2:o[0],y2:o[1]},style:t,z2:2,silent:!0});$.push(s)}return $}function rW(a,r,e){var t=r.axis,i=r.getModel("axisTick");if(i.get("show")&&!t.scale.isBlank()){for(var $=i.getModel("lineStyle"),n=e.tickDirection*i.get("length"),o=Dy(t.getTicksCoords(),a._transform,n,pj($.getLineStyle(),{stroke:r.get("axisLine.lineStyle.color")}),"ticks"),l=0;l<o.length;l++)a.group.add(o[l]);return o}}function sW(a,r,e){var t=r.axis,i=r.getModel("minorTick");if(i.get("show")&&!t.scale.isBlank()){var $=t.getMinorTicksCoords();if($.length)for(var n=i.getModel("lineStyle"),o=e.tickDirection*i.get("length"),l=pj(n.getLineStyle(),pj(r.getModel("axisTick").getLineStyle(),{stroke:r.get("axisLine.lineStyle.color")})),x=0;x<$.length;x++)for(var s=Dy($[x],a._transform,o,l,"minorticks_"+x),v=0;v<s.length;v++)a.group.add(s[v])}}function tW(a,r,e){var t=r.axis;if(oj(e.axisLabelShow,r.get("axisLabel.show"))&&!t.scale.isBlank()){var i=r.getModel("axisLabel"),$=i.get("margin"),n=t.getViewLabels(),o=(oj(e.labelRotate,i.get("rotate"))||0)*Gc/180,l=zy(e.rotation,o,e.labelDirection),x=r.getCategories&&r.getCategories(!0),s=[],v=Ay(r),u=r.get("triggerEvent");return vy(n,function(n,o){var V=n.tickValue,c=n.formattedLabel,g=n.rawLabel,d=i;x&&x[V]&&x[V].textStyle&&(d=new L(x[V].textStyle,i,r.ecModel));var p=d.getTextColor()||r.get("axisLine.lineStyle.color"),m=[t.dataToCoord(V),e.labelOffset+e.labelDirection*$],f=new K({anid:"label_"+V,position:m,rotation:l.rotation,silent:v,z2:10});R(f.style,d,{text:c,textAlign:d.getShallow("align",!0)||l.textAlign,textVerticalAlign:d.getShallow("verticalAlign",!0)||d.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof p?p("category"===t.type?g:"value"===t.type?V+"":V,o):p}),u&&(f.eventData=yy(r),f.eventData.targetType="axisLabel",f.eventData.value=g),a._dumbGroup.add(f),f.updateTransform(),s.push(f),a.group.add(f),f.decomposeTransform()}),s}}var uW=Pe;cc=uW;var Qe=k,ro=w;function vW(e,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return wW(r,e,n),r.seriesInvolved&&yW(r,e),r}function wW(e,n,r){var $=n.getComponent("tooltip"),o=n.getComponent("axisPointer"),t=o.get("link",!0)||[],a=[];Qe(r.getCoordinateSystems(),function(r){if(r.axisPointerEnabled){var i=rg(r.model),s=e.coordSysAxesInfo[i]={};e.coordSysMap[i]=r;var l=r.model.getModel("tooltip",$);if(Qe(r.getAxes(),ro(x,!1,null)),r.getTooltipAxes&&$&&l.get("show")){var P="axis"===l.get("trigger"),v="cross"===l.get("axisPointer.type"),c=r.getTooltipAxes(l.get("axisPointer.axis"));(P||v)&&Qe(c.baseAxes,ro(x,!v||"cross",P)),v&&Qe(c.otherAxes,ro(x,"cross",!1))}}function x($,i,P){var v=P.model.getModel("axisPointer",o),c=v.get("show");if(c&&("auto"!==c||$||uo(v))){null==i&&(i=v.get("triggerTooltip"));var x=(v=$?xW(P,l,o,n,$,i):v).get("snap"),T=rg(P.model),g=i||x||"category"===P.type,d=e.axesInfo[T]={key:T,axis:P,coordSys:r,axisPointerModel:v,triggerTooltip:i,involveSeries:g,snap:x,useHandle:uo(v),seriesModels:[]};s[T]=d,e.seriesInvolved|=g;var u=zW(t,P);if(null!=u){var p=a[u]||(a[u]={axesInfo:{}});p.axesInfo[T]=d,p.mapper=t[u].mapper,d.linkGroup=p}}}})}function xW(e,n,r,$,o,t){var a=n.getModel("axisPointer"),i={};Qe(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){i[e]=B(a.get(e))}),i.snap="category"!==e.type&&!!t,"cross"===a.get("type")&&(i.type="line");var s=i.label||(i.label={});if(null==s.show&&(s.show=!1),"cross"===o){var l=a.get("label.show");if(s.show=null==l||l,!t){var P=i.lineStyle=a.get("crossStyle");P&&E(s,P.textStyle)}}return e.model.getModel("axisPointer",new L(i,r,$))}function yW(e,n){n.eachSeries(function(n){var r=n.coordinateSystem,$=n.get("tooltip.trigger",!0),o=n.get("tooltip.show",!0);r&&"none"!==$&&!1!==$&&"item"!==$&&!1!==o&&!1!==n.get("axisPointer.show",!0)&&Qe(e.coordSysAxesInfo[rg(r.model)],function(e){var $=e.axis;r.getAxis($.dim)===$&&(e.seriesModels.push(n),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=n.getData().count())})},this)}function zW(e,n){for(var r=n.model,$=n.dim,o=0;o<e.length;o++){var t=e[o]||{};if(so(t[$+"AxisId"],r.id)||so(t[$+"AxisIndex"],r.componentIndex)||so(t[$+"AxisName"],r.name))return o}}function so(e,n){return"all"===e||J(e)&&C(e,n)>=0||e===n}function AW(e){var n=to(e);if(n){var r=n.axisPointerModel,$=n.axis.scale,o=r.option,t=r.get("status"),a=r.get("value");null!=a&&(a=$.parse(a));var i=uo(r);null==t&&(o.status=i?"show":"hide");var s=$.getExtent().slice();s[0]>s[1]&&s.reverse(),(null==a||a>s[1])&&(a=s[1]),a<s[0]&&(a=s[0]),o.value=a,i&&(o.status=n.axis.scale.isBlank()?"hide":"show")}}function to(e){var n=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[rg(e)]}function BW(e){var n=to(e);return n&&n.axisPointerModel}function uo(e){return!!e.get("handle.show")}function rg(e){return e.type+"||"+e.id}var CW=vW;var DW=AW;var EW=to;var FW=BW;var GW=rg;var sd={},td=Z({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(r,i,e,$){this.axisPointerClass&&DW(r),td.superApply(this,"render",arguments),Ey(this,r,i,e,$,!0)},updateAxisPointer:function(r,i,e,$,s){Ey(this,r,i,e,$,!1)},remove:function(r,i){var e=this._axisPointer;e&&e.remove(i),td.superApply(this,"remove",arguments)},dispose:function(r,i){Fy(this,i),td.superApply(this,"dispose",arguments)}});function Ey(r,i,e,$,s,a){var t=td.getAxisPointerClass(r.axisPointerClass);if(t){var n=FW(i);n?(r._axisPointer||(r._axisPointer=new t)).render(i,n,$,a):Fy(r,$)}}function Fy(r,i,e){var $=r._axisPointer;$&&$.dispose(i,e),r._axisPointer=null}var Gy=[];td.registerAxisPointerClass=function(r,i){Gy[r]=i},td.getAxisPointerClass=function(r){return r&&Gy[r]};var HW=td;sd=HW;function IW(t,e,o){o=o||{};var i=t.coordinateSystem,r=e.axis,a={},l=r.getAxesOnZeroOf()[0],n=r.position,$=l?"onZero":n,c=r.dim,s=i.getRect(),x=[s.x,s.x+s.width,s.y,s.y+s.height],b={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p="x"===c?[x[2]-d,x[3]+d]:[x[0]-d,x[1]+d];if(l){var v=l.toGlobalCoord(l.dataToCoord(0));p[b.onZero]=Math.max(Math.min(v,p[1]),p[0])}a.position=["y"===c?p[b[$]]:x[0],"x"===c?p[b[$]]:x[3]],a.rotation=Math.PI/2*("x"===c?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[n],a.labelOffset=l?p[b[n]]-p[b.onZero]:0,e.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),ua(o.labelInside,e.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var A=e.get("axisLabel.rotate");return a.labelRotate="top"===$?-A:A,a.z2=1,a}var vo=IW;function JW(r,e,l,o){var t=l.axis;if(!t.scale.isBlank()){var a=l.getModel("splitArea"),i=a.getModel("areaStyle"),$=i.get("color"),d=o.coordinateSystem.getRect(),s=t.getTicksCoords({tickModel:a,clamp:!0});if(s.length){var c=$.length,v=r.__splitAreaColors,n=G(),p=0;if(v)for(var U=0;U<s.length;U++){var A=v.get(s[U].tickValue);if(null!=A){p=(A+(c-1)*U)%c;break}}var x=t.toGlobalCoord(s[0].coord),u=i.getAreaStyle();$=J($)?$:[$];for(U=1;U<s.length;U++){var L,P,Z,g,C=t.toGlobalCoord(s[U].coord);t.isHorizontal()?(L=x,P=d.y,Z=C-L,g=d.height,x=L+Z):(L=d.x,P=x,Z=d.width,x=P+(g=C-P));var h=s[U-1].tickValue;null!=h&&n.set(h,p),e.add(new F({anid:null!=h?"area_"+h:null,shape:{x:L,y:P,width:Z,height:g},style:E({fill:$[p]},u),silent:!0})),p=(p+1)%c}r.__splitAreaColors=n}}}function KW(r){r.__splitAreaColors=null}var Hy=JW;var Iy=KW;var LW=Hy,MW=Iy,NW=["axisLine","axisTickLabel","axisName"],OW=["splitArea","splitLine","minorSplitLine"],wo=sd.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(i,e,r,a){this.group.removeAll();var t=this._axisGroup;if(this._axisGroup=new q,this.group.add(this._axisGroup),i.get("show")){var s=i.getCoordSysModel(),$=vo(s,i),l=new cc(i,$);k(NW,l.add,l),this._axisGroup.add(l.getGroup()),k(OW,function(e){i.get(e+".show")&&this["_"+e](i,s)},this),oi(t,this._axisGroup,i),wo.superCall(this,"render",i,e,r,a)}},remove:function(){MW(this)},_splitLine:function(i,e){var r=i.axis;if(!r.scale.isBlank()){var a=i.getModel("splitLine"),t=a.getModel("lineStyle"),s=t.get("color");s=J(s)?s:[s];for(var $=e.coordinateSystem.getRect(),l=r.isHorizontal(),o=0,n=r.getTicksCoords({tickModel:a}),A=[],x=[],d=t.getLineStyle(),p=0;p<n.length;p++){var G=r.toGlobalCoord(n[p].coord);l?(A[0]=G,A[1]=$.y,x[0]=G,x[1]=$.y+$.height):(A[0]=$.x,A[1]=G,x[0]=$.x+$.width,x[1]=G);var c=o++%s.length,v=n[p].tickValue;this._axisGroup.add(new ca({anid:null!=v?"line_"+n[p].tickValue:null,subPixelOptimize:!0,shape:{x1:A[0],y1:A[1],x2:x[0],y2:x[1]},style:E({stroke:s[c]},d),silent:!0}))}}},_minorSplitLine:function(i,e){var r=i.axis,a=i.getModel("minorSplitLine").getModel("lineStyle"),t=e.coordinateSystem.getRect(),s=r.isHorizontal(),$=r.getMinorTicksCoords();if($.length)for(var l=[],o=[],n=a.getLineStyle(),A=0;A<$.length;A++)for(var x=0;x<$[A].length;x++){var d=r.toGlobalCoord($[A][x].coord);s?(l[0]=d,l[1]=t.y,o[0]=d,o[1]=t.y+t.height):(l[0]=t.x,l[1]=d,o[0]=t.x+t.width,o[1]=d),this._axisGroup.add(new ca({anid:"minor_line_"+$[A][x].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:o[0],y2:o[1]},style:n,silent:!0}))}},_splitArea:function(i,e){LW(this,this._axisGroup,i,e)}});wo.extend({type:"xAxis"}),wo.extend({type:"yAxis"});Z({type:"grid",render:function(r,e){this.group.removeAll(),r.get("show")&&this.group.add(new F({shape:r.coordinateSystem.getRect(),style:E({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))}}),la(function(r){r.xAxis&&r.yAxis&&!r.grid&&(r.grid={})});s(qd("line","circle","line")),u(qg("line")),ab(Jb.PROCESSOR.STATISTIC,SV("line"));var PW=Yw,QW=GS;var Jy={},RW=Q.extend({type:"series.__base_bar__",getInitialData:function(e,r){return _b(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var r=this.coordinateSystem;if(r){var t=r.dataToPoint(r.clampData(e)),a=this.getData(),i=a.getLayout("offset"),o=a.getLayout("size");return t[r.getBaseAxis().isHorizontal()?0:1]+=i+o/2,t}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});Jy=RW;var eka=Jy.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var SW=io;function TW(e,a,$,t,l,s,r){var c=$.getModel("label"),i=$.getModel("emphasis.label");Ia(e,a,c,i,{labelFetcher:l,labelDataIndex:s,defaultText:SW(l.getData(),s),isRectText:!0,autoColor:t}),Ky(e),Ky(a)}function Ky(e,a){"outside"===e.textPosition&&(e.textPosition=a)}var Ly=TW;var UW={},VW=he([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),WW={getBarItemStyle:function(e){var r=VW(this,e);if(this.getBorderLineDash){var t=this.getBorderLineDash();t&&(r.lineDash=t)}return r}};UW=WW;var XW={},YW=Va,ZW=YW({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(a,e){var t=e.cx,r=e.cy,$=Math.max(e.r0||0,0),h=Math.max(e.r,0),c=.5*(h-$),w=$+c,o=e.startAngle,s=e.endAngle,n=e.clockwise,M=Math.cos(o),l=Math.sin(o),p=Math.cos(s),v=Math.sin(s);(n?s-o<2*Math.PI:o-s<2*Math.PI)&&(a.moveTo(M*$+t,l*$+r),a.arc(M*w+t,l*w+r,c,-Math.PI+o,o,!n)),a.arc(t,r,h,o,s,!n),a.moveTo(p*h+t,v*h+r),a.arc(p*w+t,v*w+r,c,s-2*Math.PI,s-Math.PI,!n),0!==$&&(a.arc(t,r,$,s,o,n),a.moveTo(M*$+t,v*$+r)),a.closePath()}});XW=ZW;var $W=Ly,_W=wn,aX=lj,bX=["itemStyle","barBorderWidth"],sj=[0,0];function cX(e,r){var t=e.getArea&&e.getArea();if("cartesian2d"===e.type){var a=e.getBaseAxis();if("category"!==a.type||!a.onBand){var l=r.getLayout("bandWidth");a.isHorizontal()?(t.x-=l,t.width+=2*l):(t.y-=l,t.height+=2*l)}}return t}z(L.prototype,UW);var fka=Ca({type:"bar",render:function(e,r,t){this._updateDrawMode(e);var a=e.get("coordinateSystem");return"cartesian2d"!==a&&"polar"!==a||(this._isLargeDraw?this._renderLarge(e,r,t):this._renderNormal(e,r,t)),this.group},incrementalPrepareRender:function(e,r,t){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,r,t,a){this._incrementalRenderLarge(e,r)},_updateDrawMode:function(e){var r=e.pipelineContext.large;(null==this._isLargeDraw||r^this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},_renderNormal:function(e,r,t){var a,l=this.group,$=e.getData(),i=this._data,n=e.coordinateSystem,o=n.getBaseAxis();"cartesian2d"===n.type?a=o.isHorizontal():"polar"===n.type&&(a="angle"===o.dim);var h=e.isAnimationEnabled()?e:null,s=e.get("clip",!0),v=cX(n,$);l.removeClipPath();var d=e.get("roundCap",!0),g=e.get("showBackground",!0),u=e.getModel("backgroundStyle"),c=u.get("barBorderRadius")||0,p=[],w=this._backgroundEls||[],U=function(e){var r=tj[n.type]($,e),t=hX(n,a,r);return t.useStyle(u.getBarItemStyle()),"cartesian2d"===n.type&&t.setShape("r",c),p[e]=t,t};$.diff(i).add(function(r){var t=$.getItemModel(r),i=tj[n.type]($,r,t);if(g&&U(r),$.hasValue(r)){if(s)if(My[n.type](v,i))return void l.remove(o);var o=Ny[n.type](r,i,a,h,!1,d);$.setItemGraphicEl(r,o),l.add(o),Qy(o,$,r,t,i,e,a,"polar"===n.type)}}).update(function(r,t){var o=$.getItemModel(r),y=tj[n.type]($,r,o);if(g){var m;0===w.length?m=U(t):((m=w[t]).useStyle(u.getBarItemStyle()),"cartesian2d"===n.type&&m.setShape("r",c),p[r]=m);var _=tj[n.type]($,r),f=Uy(a,_,n);A(m,{shape:f},h,r)}var x=i.getItemGraphicEl(t);if($.hasValue(r)){if(s)if(My[n.type](v,y))return void l.remove(x);x?A(x,{shape:y},h,r):x=Ny[n.type](r,y,a,h,!0,d),$.setItemGraphicEl(r,x),l.add(x),Qy(x,$,r,o,y,e,a,"polar"===n.type)}else l.remove(x)}).remove(function(e){var r=i.getItemGraphicEl(e);"cartesian2d"===n.type?r&&Oy(e,h,r):r&&Py(e,h,r)}).execute();var y=this._backgroundGroup||(this._backgroundGroup=new q);y.removeAll();for(var m=0;m<p.length;++m)y.add(p[m]);l.add(y),this._backgroundEls=p,this._data=$},_renderLarge:function(e,r,t){this._clear(),Sy(e,this.group);var a=e.get("clip",!0)?aX(e.coordinateSystem,!1,e):null;a?this.group.setClipPath(a):this.group.removeClipPath()},_incrementalRenderLarge:function(e,r){this._removeBackground(),Sy(r,this.group,!0)},dispose:$,remove:function(e){this._clear(e)},_clear:function(e){var r=this.group,t=this._data;e&&e.get("animation")&&t&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],t.eachItemGraphicEl(function(r){"sector"===r.type?Py(r.dataIndex,e,r):Oy(r.dataIndex,e,r)})):r.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),xo=Math.max,yo=Math.min,My={cartesian2d:function(e,r){var t=r.width<0?-1:1,a=r.height<0?-1:1;t<0&&(r.x+=r.width,r.width=-r.width),a<0&&(r.y+=r.height,r.height=-r.height);var l=xo(r.x,e.x),$=yo(r.x+r.width,e.x+e.width),i=xo(r.y,e.y),n=yo(r.y+r.height,e.y+e.height);r.x=l,r.y=i,r.width=$-l,r.height=n-i;var o=r.width<0||r.height<0;return t<0&&(r.x+=r.width,r.width=-r.width),a<0&&(r.y+=r.height,r.height=-r.height),o},polar:function(e,r){var t=r.r0<=r.r?1:-1;if(t<0){var a=r.r;r.r=r.r0,r.r0=a}a=yo(r.r,e.r);var l=xo(r.r0,e.r0);r.r=a,r.r0=l;var $=a-l<0;if(t<0){a=r.r;r.r=r.r0,r.r0=a}return $}},Ny={cartesian2d:function(e,r,t,a,l){var $=new F({shape:z({},r),z2:1});if($.name="item",a){var i=t?"height":"width",n={};$.shape[i]=0,n[i]=r[i],b[l?"updateProps":"initProps"]($,{shape:n},a,e)}return $},polar:function(e,r,t,a,l,$){var i=r.startAngle<r.endAngle,n=new(!t&&$?XW:mb)({shape:E({clockwise:i},r),z2:1});if(n.name="item",a){var o=t?"r":"endAngle",h={};n.shape[o]=t?0:r.startAngle,h[o]=r[o],b[l?"updateProps":"initProps"](n,{shape:h},a,e)}return n}};function Oy(e,r,t){t.style.text=null,A(t,{shape:{width:0}},r,e,function(){t.parent&&t.parent.remove(t)})}function Py(e,r,t){t.style.text=null,A(t,{shape:{r:t.shape.r0}},r,e,function(){t.parent&&t.parent.remove(t)})}var tj={cartesian2d:function(e,r,t){var a=e.getItemLayout(r),l=t?dX(t,a):0,$=a.width>0?1:-1,i=a.height>0?1:-1;return{x:a.x+$*l/2,y:a.y+i*l/2,width:a.width-$*l,height:a.height-i*l}},polar:function(e,r,t){var a=e.getItemLayout(r);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}};function zo(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function Qy(e,r,t,a,l,$,i,n){var o=r.getItemVisual(t,"color"),h=r.getItemVisual(t,"opacity"),s=r.getVisual("borderColor"),v=a.getModel("itemStyle"),d=a.getModel("emphasis.itemStyle").getBarItemStyle();n||e.setShape("r",v.get("barBorderRadius")||0),e.useStyle(E({stroke:zo(l)?"none":s,fill:zo(l)?"none":o,opacity:h},v.getBarItemStyle()));var g=a.getShallow("cursor");g&&e.attr("cursor",g);var u=i?l.height>0?"bottom":"top":l.width>0?"left":"right";n||$W(e.style,d,a,o,$,t,u),zo(l)&&(d.fill=d.stroke="none"),V(e,d)}function dX(e,r){var t=e.get(bX)||0,a=isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),l=isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height);return Math.min(t,a,l)}var Ry=g.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,r){for(var t=r.points,a=this.__startPoint,l=this.__baseDimIdx,$=0;$<t.length;$+=2)a[l]=t[$+l],e.moveTo(a[0],a[1]),e.lineTo(t[$],t[$+1])}});function Sy(e,r,t){var a=e.getData(),l=[],$=a.getLayout("valueAxisHorizontal")?1:0;l[1-$]=a.getLayout("valueAxisStart");var i=a.getLayout("largeDataIndices"),n=a.getLayout("barWidth"),o=e.getModel("backgroundStyle");if(e.get("showBackground",!0)){var h=a.getLayout("largeBackgroundPoints"),s=[];s[1-$]=a.getLayout("backgroundStart");var v=new Ry({shape:{points:h},incremental:!!t,__startPoint:s,__baseDimIdx:$,__largeDataIndices:i,__barWidth:n,silent:!0,z2:0});gX(v,o,a),r.add(v)}var d=new Ry({shape:{points:a.getLayout("largePoints")},incremental:!!t,__startPoint:l,__baseDimIdx:$,__largeDataIndices:i,__barWidth:n});r.add(d),fX(d,e,a),d.seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",Ty),d.on("mousemove",Ty))}var Ty=_W(function(e){var r=eX(this,e.offsetX,e.offsetY);this.dataIndex=r>=0?r:null},30,!1);function eX(e,r,t){var a=e.__baseDimIdx,l=1-a,$=e.shape.points,i=e.__largeDataIndices,n=Math.abs(e.__barWidth/2),o=e.__startPoint[l];sj[0]=r,sj[1]=t;for(var h=sj[a],s=sj[1-a],v=h-n,d=h+n,g=0,u=$.length/2;g<u;g++){var c=2*g,p=$[c+a],w=$[c+l];if(p>=v&&p<=d&&(o<=w?s>=o&&s<=w:s>=w&&s<=o))return i[g]}return-1}function fX(e,r,t){var a=t.getVisual("borderColor")||t.getVisual("color"),l=r.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(l),e.style.fill=null,e.style.stroke=a,e.style.lineWidth=t.getLayout("barWidth")}function gX(e,r,t){var a=r.get("borderColor")||r.get("color"),l=r.getItemStyle(["color","borderColor"]);e.useStyle(l),e.style.fill=null,e.style.stroke=a,e.style.lineWidth=t.getLayout("barWidth")}function Uy(e,r,t){var a,l="polar"===t.type;return a=l?t.getArea():t.grid.getRect(),l?{cx:a.cx,cy:a.cy,r0:e?a.r0:r.r0,r:e?a.r:r.r,startAngle:e?r.startAngle:0,endAngle:e?r.endAngle:2*Math.PI}:{x:e?r.x:a.x,y:e?a.y:r.y,width:e?r.width:a.width,height:e?a.height:r.height}}function hX(e,r,t){return new("polar"===e.type?mb:F)({shape:Uy(r,t,e),silent:!0,z2:0})}u(Jb.VISUAL.LAYOUT,w(PW,"bar")),u(Jb.VISUAL.PROGRESSIVE_LAYOUT,QW),s({seriesType:"bar",reset:function(r){r.getData().setVisual("legendSymbol","roundRect")}});var Vy={};var Re={},iX=z,jX=J;function kX($,r,t){r=jX(r)&&{coordDimensions:r}||iX({},r);var e=$.getSource(),a=Be(e,r),u=new ka(a,$);return u.initData(e,t),u}Re=kX;var Ao={},lX={updateSelectedMap:function(e){this._targetList=J(e)?e.slice():[],this._selectTargetMap=Sd(e||[],function(e,t){return e.set(t.name,t),e},G())},select:function(e,t){var r=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(e){e.selected=!1}),r&&(r.selected=!0)},unSelect:function(e,t){var r=null!=t?this._targetList[t]:this._selectTargetMap.get(e);r&&(r.selected=!1)},toggleSelected:function(e,t){var r=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=r)return this[r.selected?"unSelect":"select"](e,t),r.selected},isSelected:function(e,t){var r=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return r&&r.selected}};Ao=lX;var sg={};function mX(e,i){this.getAllNames=function(){var e=i();return e.mapArray(e.getName)},this.containName=function(e){return i().indexOfName(e)>=0},this.indexOfName=function(i){return e().indexOfName(i)},this.getItemVisual=function(i,t){return e().getItemVisual(i,t)}}var nX=mX;sg=nX;var oX=Uu,pX=Kv,qX=an,uj=hj({type:"series.pie",init:function(e){uj.superApply(this,"init",arguments),this.legendVisualProvider=new sg(m(this.getData,this),m(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){uj.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,r){return Re(this,{coordDimensions:["value"],encodeDefaulter:w(qX,this)})},_createSelectableList:function(){for(var e=this.getRawData(),r=e.mapDimension("value"),a=[],i=0,t=e.count();i<t;i++)a.push({name:e.getName(i),value:e.get(r,i),selected:pX(e,i,"selected")});return a},getDataParams:function(e){var r=this.getData(),a=uj.superCall(this,"getDataParams",e),i=[];return r.each(r.mapDimension("value"),function(e){i.push(e)}),a.percent=oX(i,e,r.hostModel.get("percentPrecision")),a.$vars.push("percent"),a},_defaultLabelLine:function(e){Yc(e,"labelLine",["show"]);var r=e.labelLine,a=e.emphasis.labelLine;r.show=r.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});l(uj,Ao);function rX(e,t,a,i){var r=t.getData(),o=this.dataIndex,n=r.getName(o),l=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:n,seriesId:t.id}),r.each(function(e){Wy(r.getItemGraphicEl(e),r.getItemLayout(e),t.isSelected(r.getName(e)),l,a)})}function Wy(e,t,a,i,r){var o=(t.startAngle+t.endAngle)/2,n=a?i:0,l=[Math.cos(o)*n,Math.sin(o)*n];r?e.animate().when(200,{position:l}).start("bounceOut"):e.attr("position",l)}function Bo(e,t){q.call(this);var a=new mb({z2:2}),i=new Ua,r=new K;this.add(a),this.add(i),this.add(r),this.updateData(e,t,!0)}var Xy=Bo.prototype;Xy.updateData=function(e,t,a){var i=this.childAt(0),r=this.childAt(1),o=this.childAt(2),n=e.hostModel,l=e.getItemModel(t),s=e.getItemLayout(t),$=z({},s);$.label=null;var g=n.getShallow("animationTypeUpdate");a?(i.setShape($),"scale"===n.getShallow("animationType")?(i.shape.r=s.r0,ga(i,{shape:{r:s.r}},n,t)):(i.shape.endAngle=s.startAngle,A(i,{shape:{endAngle:s.endAngle}},n,t))):"expansion"===g?i.setShape($):A(i,{shape:$},n,t);var c=e.getItemVisual(t,"color");i.useStyle(E({lineJoin:"bevel",fill:c},l.getModel("itemStyle").getItemStyle())),i.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var h=l.getShallow("cursor");h&&i.attr("cursor",h),Wy(this,e.getItemLayout(t),n.isSelected(e.getName(t)),n.get("selectedOffset"),n.get("animation"));var p=!a&&"transition"===g;this._updateLabel(e,t,p),this.highDownOnUpdate=n.get("silent")?null:function(e,t){var a=n.isAnimationEnabled()&&l.get("hoverAnimation");"emphasis"===t?(r.ignore=r.hoverIgnore,o.ignore=o.hoverIgnore,a&&(i.stopAnimation(!0),i.animateTo({shape:{r:s.r+n.get("hoverOffset")}},300,"elasticOut"))):(r.ignore=r.normalIgnore,o.ignore=o.normalIgnore,a&&(i.stopAnimation(!0),i.animateTo({shape:{r:s.r}},300,"elasticOut")))},V(this)},Xy._updateLabel=function(e,t,a){var i=this.childAt(1),r=this.childAt(2),o=e.hostModel,n=e.getItemModel(t),l=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");if(!l||isNaN(l.x)||isNaN(l.y))r.ignore=r.normalIgnore=r.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var $={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},g={x:l.x,y:l.y};a?(A(i,{shape:$},o,t),A(r,{style:g},o,t)):(i.attr({shape:$}),r.attr({style:g})),r.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var c=n.getModel("label"),h=n.getModel("emphasis.label"),p=n.getModel("labelLine"),d=n.getModel("emphasis.labelLine");s=e.getItemVisual(t,"color");Ia(r.style,r.hoverStyle={},c,h,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:l.text,autoColor:s,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),r.ignore=r.normalIgnore=!c.get("show"),r.hoverIgnore=!h.get("show"),i.ignore=i.normalIgnore=!p.get("show"),i.hoverIgnore=!d.get("show"),i.setStyle({stroke:s,opacity:e.getItemVisual(t,"opacity")}),i.setStyle(p.getModel("lineStyle").getLineStyle()),i.hoverStyle=d.getModel("lineStyle").getLineStyle();var v=p.get("smooth");v&&!0===v&&(v=.4),i.setShape({smooth:v})}},n(Bo,q);var gka=Ba.extend({type:"pie",init:function(){var e=new q;this._sectorGroup=e},render:function(e,t,a,i){if(!i||i.from!==this.uid){var r=e.getData(),o=this._data,n=this.group,l=t.get("animation"),s=!o,$=e.get("animationType"),g=e.get("animationTypeUpdate"),c=w(rX,this.uid,e,l,a),h=e.get("selectedMode");if(r.diff(o).add(function(e){var t=new Bo(r,e);s&&"scale"!==$&&t.eachChild(function(e){e.stopAnimation(!0)}),h&&t.on("click",c),r.setItemGraphicEl(e,t),n.add(t)}).update(function(e,t){var a=o.getItemGraphicEl(t);s||"transition"===g||a.eachChild(function(e){e.stopAnimation(!0)}),a.updateData(r,e),a.off("click"),h&&a.on("click",c),n.add(a),r.setItemGraphicEl(e,a)}).remove(function(e){var t=o.getItemGraphicEl(e);n.remove(t)}).execute(),l&&r.count()>0&&(s?"scale"!==$:"transition"!==g)){for(var p=r.getItemLayout(0),d=1;isNaN(p.startAngle)&&d<r.count();++d)p=r.getItemLayout(d);var v=Math.max(a.getWidth(),a.getHeight())/2,u=m(n.removeClipPath,n);n.setClipPath(this._createClipPath(p.cx,p.cy,v,p.startAngle,p.clockwise,u,e,s))}else n.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(e,t,a,i,r,o,n,l){var s=new mb({shape:{cx:e,cy:t,r0:0,r:a,startAngle:i,endAngle:i,clockwise:r}});return(l?ga:A)(s,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},n,o),s},containPoint:function(e,t){var a=t.getData().getItemLayout(0);if(a){var i=e[0]-a.cx,r=e[1]-a.cy,o=Math.sqrt(i*i+r*r);return o<=a.r&&o>=a.r0}}});function sX(e,r){k(r,function(r){r.update="updateView",d(r,function(a,t){var $={};return t.eachComponent({mainType:"series",subType:e,query:a},function(e){e[r.method]&&e[r.method](a.name,a.dataIndex);var t=e.getData();t.each(function(r){var a=t.getName(r);$[a]=e.isSelected(a)||!1})}),{name:a.name,selected:$,seriesId:a.seriesId}})})}Vy=sX;var vj={},tX=G;function uX(e){return{getTargetSeries:function(t){var r={},a=tX();return t.eachSeriesByType(e,function(e){e.__paletteScope=r,a.set(e.uid,e)}),a},reset:function(e,t){var r=e.getRawData(),a={},l=e.getData();l.each(function(e){var t=l.getRawIndex(e);a[t]=e}),r.each(function(t){var o,u=a[t],$=null!=u&&l.getItemVisual(u,"color",!0),i=null!=u&&l.getItemVisual(u,"borderColor",!0);if($&&i||(o=r.getItemModel(t)),!$){var n=o.get("itemStyle.color")||e.getColorFromPalette(r.getName(t)||t+"",e.__paletteScope,r.count());null!=u&&l.setItemVisual(u,"color",n)}if(!i){var c=o.get("itemStyle.borderColor");null!=u&&l.setItemVisual(u,"borderColor",c)}})}}}vj=uX;var vX={},Co=D,wX=Math.PI/180;function Yy(e,t,a,n,r,i,l,o,$,g){function v(t,a,n,r){for(var i=t;i<a&&!(e[i].y+n>$+l);i++)if(e[i].y+=n,i>t&&i+1<a&&e[i+1].y>e[i].y+e[i].height)return void s(i,n/2);s(a-1,n/2)}function s(t,a){for(var n=t;n>=0&&!(e[n].y-a<$)&&(e[n].y-=a,!(n>0&&e[n].y>e[n-1].y+e[n-1].height));n--);}function b(e,t,a,n,r,i){for(var l=t?Number.MAX_VALUE:0,o=0,$=e.length;o<$;o++)if("none"===e[o].labelAlignTo){var g=Math.abs(e[o].y-n),v=e[o].len,s=e[o].len2,b=g<r+v?Math.sqrt((r+v+s)*(r+v+s)-g*g):Math.abs(e[o].x-a);t&&b>=l&&(b=l-10),!t&&b<=l&&(b=l+10),e[o].x=a+b*i,l=b}}e.sort(function(e,t){return e.y-t.y});for(var c,h=0,u=e.length,d=[],x=[],f=0;f<u;f++){if("outer"===e[f].position&&"labelLine"===e[f].labelAlignTo){var j=e[f].x-g;e[f].linePoints[1][0]+=j,e[f].x=g}(c=e[f].y-h)<0&&v(f,u,-c),h=e[f].y+e[f].height}l-h<0&&s(u-1,h-l);for(f=0;f<u;f++)e[f].y>=a?x.push(e[f]):d.push(e[f]);b(d,!1,t,a,n,r),b(x,!0,t,a,n,r)}function xX(e,t,a,n,r,i,l,o){for(var $=[],g=[],v=Number.MAX_VALUE,s=-Number.MAX_VALUE,b=0;b<e.length;b++)Zy(e[b])||(e[b].x<t?(v=Math.min(v,e[b].x),$.push(e[b])):(s=Math.max(s,e[b].x),g.push(e[b])));Yy(g,t,a,n,1,r,i,l,o,s),Yy($,t,a,n,-1,r,i,l,o,v);for(b=0;b<e.length;b++){var c=e[b];if(!Zy(c)){var h=c.linePoints;if(h){var u,d="edge"===c.labelAlignTo,x=c.textRect.width;(u=d?c.x<t?h[2][0]-c.labelDistance-l-c.labelMargin:l+r-c.labelMargin-h[2][0]-c.labelDistance:c.x<t?c.x-l-c.bleedMargin:l+r-c.x-c.bleedMargin)<c.textRect.width&&(c.text=at(c.text,u,c.font),"edge"===c.labelAlignTo&&(x=Il(c.text,c.font)));var f=h[1][0]-h[2][0];d?c.x<t?h[2][0]=l+c.labelMargin+x+c.labelDistance:h[2][0]=l+r-c.labelMargin-x-c.labelDistance:(c.x<t?h[2][0]=c.x+c.labelDistance:h[2][0]=c.x-c.labelDistance,h[1][0]=h[2][0]+f),h[1][1]=h[2][1]=c.y}}}}function Zy(e){return"center"===e.position}function yX(e,t,a,n,r,i){var l,o,$=e.getData(),g=[],v=!1,s=(e.get("minShowLabelAngle")||0)*wX;$.each(function(n){var i=$.getItemLayout(n),b=$.getItemModel(n),c=b.getModel("label"),h=c.get("position")||b.get("emphasis.label.position"),u=c.get("distanceToLabelLine"),d=c.get("alignTo"),x=Co(c.get("margin"),a),f=c.get("bleedMargin"),j=c.getFont(),U=b.getModel("labelLine"),B=U.get("length");B=Co(B,a);var Q=U.get("length2");if(Q=Co(Q,a),!(i.angle<s)){var p,M,y,A,m=(i.startAngle+i.endAngle)/2,P=Math.cos(m),L=Math.sin(m);l=i.cx,o=i.cy;var D,T=e.getFormattedLabel(n,"normal")||$.getName(n),C=xb(T,j,A,"top"),I="inside"===h||"inner"===h;if("center"===h)p=i.cx,M=i.cy,A="center";else{var S=(I?(i.r+i.r0)/2*P:i.r*P)+l,_=(I?(i.r+i.r0)/2*L:i.r*L)+o;if(p=S+3*P,M=_+3*L,!I){var N=S+P*(B+t-i.r),R=_+L*(B+t-i.r),q=N+(P<0?-1:1)*Q;p="edge"===d?P<0?r+x:r+a-x:q+(P<0?-u:u),M=R,y=[[S,_],[N,R],[q,R]]}A=I?"center":"edge"===d?P>0?"right":"left":P>0?"left":"right"}var w=c.get("rotate");D="number"==typeof w?w*(Math.PI/180):w?P<0?-m+Math.PI:-m:0,v=!!D,i.label={x:p,y:M,position:h,height:C.height,len:B,len2:Q,linePoints:y,textAlign:A,verticalAlign:"middle",rotation:D,inside:I,labelDistance:u,labelAlignTo:d,labelMargin:x,bleedMargin:f,textRect:C,text:T,font:j},I||g.push(i.label)}}),!v&&e.get("avoidLabelOverlap")&&xX(g,l,o,t,a,n,r,i)}vX=yX;var zX={},Se=D,AX=ra,wj=2*Math.PI,$y=Math.PI/180;function BX(e,a){return T(e.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function CX(e,a,r,$){a.eachSeriesByType(e,function(e){var a=e.getData(),$=a.mapDimension("value"),t=BX(e,r),c=e.get("center"),h=e.get("radius");J(h)||(h=[0,h]),J(c)||(c=[c,c]);var i=Se(t.width,r.getWidth()),n=Se(t.height,r.getHeight()),l=Math.min(i,n),v=Se(c[0],i)+t.x,g=Se(c[1],n)+t.y,u=Se(h[0],l/2),s=Se(h[1],l/2),o=-e.get("startAngle")*$y,y=e.get("minAngle")*$y,p=0;a.each($,function(e){!isNaN(e)&&p++});var N=a.getSum($),A=Math.PI/(N||p)*2,P=e.get("clockwise"),m=e.get("roseType"),I=e.get("stillShowZeroSum"),f=a.getDataExtent($);f[0]=0;var d=wj,w=0,L=o,b=P?1:-1;if(a.each($,function(e,r){var $;if(isNaN(e))a.setItemLayout(r,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:P,cx:v,cy:g,r0:u,r:m?NaN:s,viewRect:t});else{($="area"!==m?0===N&&I?A:e*A:wj/p)<y?($=y,d-=y):w+=e;var c=L+b*$;a.setItemLayout(r,{angle:$,startAngle:L,endAngle:c,clockwise:P,cx:v,cy:g,r0:u,r:m?AX(e,f,[u,s]):s,viewRect:t}),L=c}}),d<wj&&p)if(d<=.001){var x=wj/p;a.each($,function(e,r){if(!isNaN(e)){var $=a.getItemLayout(r);$.angle=x,$.startAngle=o+b*r*x,$.endAngle=o+b*(r+1)*x}})}else A=d/w,L=o,a.each($,function(e,r){if(!isNaN(e)){var $=a.getItemLayout(r),t=$.angle===y?y:e*A;$.startAngle=L,$.endAngle=L+b*t,L+=b*t}});vX(e,s,t.width,t.height,t.x,t.y)})}zX=CX;var tg={};function DX(e){return{seriesType:e,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(r&&r.length){var n=e.getData();n.filterSelf(function(e){for(var t=n.getName(e),a=0;a<r.length;a++)if(!r[a].isSelected(t))return!1;return!0})}}}}tg=DX;Vy("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),s(vj("pie")),u(w(zX,"pie")),ab(tg("pie"));var hka=Q.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,r){return _b(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});var EX={},FX=_a,Do=4,Eo=Va({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var a=e.points,r=e.size,o=this.symbolProxy,l=o.shape;if(!((t.getContext?t.getContext():t)&&r[0]<Do))for(var n=0;n<a.length;){var i=a[n++],s=a[n++];isNaN(i)||isNaN(s)||this.softClipShape&&!this.softClipShape.contain(i,s)||(l.x=i-r[0]/2,l.y=s-r[1]/2,l.width=r[0],l.height=r[1],o.buildPath(t,l,!0))}},afterBrush:function(t){var e=this.shape,a=e.points,r=e.size;if(r[0]<Do){this.setTransform(t);for(var o=0;o<a.length;){var l=a[o++],n=a[o++];isNaN(l)||isNaN(n)||this.softClipShape&&!this.softClipShape.contain(l,n)||t.fillRect(l-r[0]/2,n-r[1]/2,r[0],r[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var a=this.shape,r=a.points,o=a.size,l=Math.max(o[0],4),n=Math.max(o[1],4),i=r.length/2-1;i>=0;i--){var s=2*i,m=r[s]-l/2,$=r[s+1]-n/2;if(t>=m&&e>=$&&t<=m+l&&e<=$+n)return i}return-1}});function _y(){this.group=new q}var Hc=_y.prototype;Hc.isPersistent=function(){return!this._incremental},Hc.updateData=function(t,e){this.group.removeAll();var a=new Eo({rectHover:!0,cursor:"default"});a.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(a,t,!1,e),this.group.add(a),this._incremental=null},Hc.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var a=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,a)}t.setShape("points",e)})}},Hc.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new zm({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Hc.incrementalUpdate=function(t,e,a){var r;this._incremental?(r=new Eo,this._incremental.addDisplayable(r,!0)):((r=new Eo({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(r)),r.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(r,e,!!this._incremental,a)},Hc._setCommon=function(t,e,a,r){var o=e.hostModel;r=r||{};var l=e.getVisual("symbolSize");t.setShape("size",l instanceof Array?l:[l,l]),t.softClipShape=r.clipShape||null,t.symbolProxy=FX(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var n=t.shape.size[0]<Do;t.useStyle(o.getModel("itemStyle").getItemStyle(n?["color","shadowBlur","shadowColor"]:["color"]));var i=e.getVisual("color");i&&t.setColor(i),a||(t.seriesIndex=o.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var a=t.findDataIndex(e.offsetX,e.offsetY);a>=0&&(t.dataIndex=a+(t.startIndex||0))}))},Hc.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Hc._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var GX=_y;EX=GX;Ca({type:"scatter",render:function(e,r,a){var t=e.getData();this._updateSymbolDraw(t,e).updateData(t,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,r,a){var t=e.getData();this._updateSymbolDraw(t,e).incrementalPrepareUpdate(t),this._finished=!1},incrementalRender:function(e,r,a){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},updateTransform:function(e,r,a){var t=e.getData();if(this.group.dirty(),!this._finished||t.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var i=qg().reset(e);i.progress&&i.progress({start:0,end:t.count()},t),this._symbolDraw.updateLayout(t)},_getClipShape:function(e){var r=e.coordinateSystem,a=r&&r.getArea&&r.getArea();return e.get("clip",!0)?a:null},_updateSymbolDraw:function(e,r){var a=this._symbolDraw,t=r.pipelineContext.large;return a&&t===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=t?new EX:new pg,this._isLargeDraw=t,this.group.removeAll()),this.group.add(a.group),a},remove:function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}});s(qd("scatter","circle")),u(qg("scatter"));var HX={};var IX={};function az($,r,i){X.call(this,$,r,i),this.type="value",this.angle=0,this.name="",this.model}n(az,X);var JX=az;IX=JX;var KX=ZS,LX=He;function Kb(t,e,a){this._model=t,this.dimensions=[],this._indicatorAxes=j(t.getIndicatorModels(),function(t,e){var a="indicator_"+e,r=new IX(a,"log"===t.get("axisType")?new TS:new md);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(a),r},this),this.resize(t,a),this.cx,this.cy,this.r,this.r0,this.startAngle}Kb.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Kb.prototype.dataToPoint=function(t,e){var a=this._indicatorAxes[e];return this.coordToPoint(a.dataToCoord(t),e)},Kb.prototype.coordToPoint=function(t,e){var a=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(a),this.cy-t*Math.sin(a)]},Kb.prototype.pointToData=function(t){var e=t[0]-this.cx,a=t[1]-this.cy,r=Math.sqrt(e*e+a*a);e/=r,a/=r;for(var i,n=Math.atan2(-a,e),$=1/0,s=-1,v=0;v<this._indicatorAxes.length;v++){var o=this._indicatorAxes[v],c=Math.abs(n-o.angle);c<$&&(i=o,s=v,$=c)}return[s,+(i&&i.coordToData(r))]},Kb.prototype.resize=function(t,e){var a=t.get("center"),r=e.getWidth(),i=e.getHeight(),n=Math.min(r,i)/2;this.cx=D(a[0],r),this.cy=D(a[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var $=t.get("radius");"string"!=typeof $&&"number"!=typeof $||($=[0,$]),this.r0=D($[0],n),this.r=D($[1],n),k(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var a=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;a=Math.atan2(Math.sin(a),Math.cos(a)),t.angle=a},this)},Kb.prototype.update=function(t,e){var a=this._indicatorAxes,r=this._model;k(a,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===r){var n=e.getData();k(a,function(t){t.scale.unionExtentFromData(n,n.mapDimension(t.dim))})}},this);var i=r.get("splitNumber");function n(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),a=t/e;return 2===a?a=5:a*=2,a*e}k(a,function(t,e){var a=KX(t.scale,t.model).extent;LX(t.scale,t.model);var r=t.model,$=t.scale,s=r.getMin(),v=r.getMax(),o=$.getInterval();if(null!=s&&null!=v)$.setExtent(+s,+v),$.setInterval((v-s)/i);else if(null!=s){do{c=s+o*i,$.setExtent(+s,c),$.setInterval(o),o=n(o)}while(c<a[1]&&isFinite(c)&&isFinite(a[1]))}else if(null!=v){do{l=v-o*i,$.setExtent(l,+v),$.setInterval(o),o=n(o)}while(l>a[0]&&isFinite(l)&&isFinite(a[0]))}else{$.getTicks().length-1>i&&(o=n(o));var c=Math.ceil(a[1]/o)*o,l=ha(c-o*i);$.setExtent(l,c),$.setInterval(o)}})},Kb.dimensions=[],Kb.create=function(t,e){var a=[];return t.eachComponent("radar",function(r){var i=new Kb(r,t,e);a.push(i),r.coordinateSystem=i}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=a[t.get("radarIndex")||0])}),a},Xa.register("radar",Kb);var ug=my.valueAxis;function xj(e,a){return E({show:a},e)}var ika=Ma({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),a=this.get("splitNumber"),t=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),$=this.get("axisType"),o=this.get("axisLabel"),l=this.get("name"),n=this.get("name.show"),s=this.get("name.formatter"),u=this.get("nameGap"),v=this.get("triggerEvent"),D=j(this.get("indicator")||[],function(D){null!=D.max&&D.max>0&&!D.min?D.min=0:null!=D.min&&D.min<0&&!D.max&&(D.max=0);var q=l;if(null!=D.color&&(q=E({color:D.color},l)),D=f(B(D),{boundaryGap:e,splitNumber:a,scale:t,axisLine:r,axisTick:i,axisType:$,axisLabel:o,name:D.text,nameLocation:"end",nameGap:u,nameTextStyle:q,triggerEvent:v},!1),n||(D.name=""),"string"==typeof s){var x=D.name;D.name=s.replace("{value}",null!=x?x:"")}else"function"==typeof s&&(D.name=s(D.name,D));var d=z(new L(D,null,this.ecModel),nd);return d.mainType="radar",d.componentIndex=this.componentIndex,d},this);this.getIndicatorModels=function(){return D}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:f({lineStyle:{color:"#bbb"}},ug.axisLine),axisLabel:xj(ug.axisLabel,!1),axisTick:xj(ug.axisTick,!1),axisType:"interval",splitLine:xj(ug.splitLine,!0),splitArea:xj(ug.splitArea,!0),indicator:[]}});var MX=["axisLine","axisTickLabel","axisName"],jka=Z({type:"radar",render:function(r,e,i){this.group.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},_buildAxes:function(r){var e=r.coordinateSystem,i=e.getIndicatorAxes(),o=j(i,function(r){return new cc(r.model,{position:[e.cx,e.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});k(o,function(r){k(MX,r.add,r),this.group.add(r.getGroup())},this)},_buildSplitLineAndArea:function(r){var e=r.coordinateSystem,i=e.getIndicatorAxes();if(i.length){var o=r.get("shape"),t=r.getModel("splitLine"),a=r.getModel("splitArea"),$=t.getModel("lineStyle"),l=a.getModel("areaStyle"),n=t.get("show"),c=a.get("show"),s=$.get("color"),h=l.get("color");s=J(s)?s:[s],h=J(h)?h:[h];var u=[],g=[];if("circle"===o)for(var d=i[0].getTicksCoords(),p=e.cx,v=e.cy,q=0;q<d.length;q++){if(n)u[m(u,s,q)].push(new Db({shape:{cx:p,cy:v,r:d[q].coord}}));if(c&&q<d.length-1)g[m(g,h,q)].push(new ai({shape:{cx:p,cy:v,r0:d[q].coord,r:d[q+1].coord}}))}else{var B,Y=j(i,function(r,i){var o=r.getTicksCoords();return B=null==B?o.length-1:Math.min(o.length-1,B),j(o,function(r){return e.coordToPoint(r.coord,i)})}),f=[];for(q=0;q<=B;q++){for(var x=[],A=0;A<i.length;A++)x.push(Y[A][q]);if(x[0]&&x.push(x[0].slice()),n)u[m(u,s,q)].push(new Ua({shape:{points:x}}));if(c&&f)g[m(g,h,q-1)].push(new ya({shape:{points:x.concat(f)}}));f=x.slice().reverse()}}var y=$.getLineStyle(),_=l.getAreaStyle();k(g,function(r,e){this.group.add(Wa(r,{style:E({stroke:"none",fill:h[e%h.length]},_),silent:!0}))},this),k(u,function(r,e){this.group.add(Wa(r,{style:E({fill:"none",stroke:s[e%s.length]},y),silent:!0}))},this)}function m(r,e,i){var o=i%e.length;return r[o]=r[o]||[],o}}});var bz=Ja,NX=Q.extend({type:"series.radar",dependencies:["radar"],init:function(e){NX.superApply(this,"init",arguments),this.legendVisualProvider=new sg(m(this.getData,this),m(this.getRawData,this))},getInitialData:function(e,r){return Re(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e,r,i,t){var a=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),$=this.getData().getName(e),n="html"===t?"<br/>":"\n";return bz(""===$?this.name:$)+n+j(o,function(r,i){var t=a.get(a.mapDimension(r.dim),e);return bz(r.name+" : "+t)}).join(n)},getTooltipPosition:function(e){if(null!=e)for(var r=this.getData(),i=this.coordinateSystem,t=r.getValues(j(i.dimensions,function(e){return r.mapDimension(e)}),e,!0),a=0,o=t.length;a<o;a++)if(!isNaN(t[a])){var $=i.getIndicatorAxes();return i.coordToPoint($[a].dataToCoord(t[a]),a)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function OX(e){return J(e)||(e=[+e,+e]),e}var kka=Ca({type:"radar",render:function(e,t,a){var r=e.coordinateSystem,i=this.group,l=e.getData(),o=this._data;function $(e,t){var a=e.getItemVisual(t,"symbol")||"circle",r=e.getItemVisual(t,"color");if("none"!==a){var i=OX(e.getItemVisual(t,"symbolSize")),l=_a(a,-1,-1,2,2,r),o=e.getItemVisual(t,"symbolRotate")||0;return l.attr({style:{strokeNoScale:!0},z2:100,scale:[i[0]/2,i[1]/2],rotation:o*Math.PI/180||0}),l}}function s(t,a,r,i,l,o){r.removeAll();for(var s=0;s<a.length-1;s++){var n=$(i,l);n&&(n.__dimIdx=s,t[s]?(n.attr("position",t[s]),b[o?"initProps":"updateProps"](n,{position:a[s]},e,l)):n.attr("position",a[s]),r.add(n))}}function n(e){return j(e,function(e){return[r.cx,r.cy]})}l.diff(o).add(function(t){var a=l.getItemLayout(t);if(a){var r=new ya,i=new Ua,o={shape:{points:a}};r.shape.points=n(a),i.shape.points=n(a),ga(r,o,e,t),ga(i,o,e,t);var $=new q,g=new q;$.add(i),$.add(r),$.add(g),s(i.shape.points,a,g,l,t,!0),l.setItemGraphicEl(t,$)}}).update(function(t,a){var r=o.getItemGraphicEl(a),i=r.childAt(0),$=r.childAt(1),n=r.childAt(2),g={shape:{points:l.getItemLayout(t)}};g.shape.points&&(s(i.shape.points,g.shape.points,n,l,t,!1),A(i,g,e),A($,g,e),l.setItemGraphicEl(t,r))}).remove(function(e){i.remove(o.getItemGraphicEl(e))}).execute(),l.eachItemGraphicEl(function(e,t){var a=l.getItemModel(t),r=e.childAt(0),o=e.childAt(1),$=e.childAt(2),s=l.getItemVisual(t,"color");i.add(e),r.useStyle(E(a.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:s})),r.hoverStyle=a.getModel("emphasis.lineStyle").getLineStyle();var n=a.getModel("areaStyle"),g=a.getModel("emphasis.areaStyle"),p=n.isEmpty()&&n.parentModel.isEmpty(),c=g.isEmpty()&&g.parentModel.isEmpty();c=c&&p,o.ignore=p,o.useStyle(E(n.getAreaStyle(),{fill:s,opacity:.7})),o.hoverStyle=g.getAreaStyle();var S=a.getModel("itemStyle").getItemStyle(["color"]),d=a.getModel("emphasis.itemStyle").getItemStyle(),h=a.getModel("label"),u=a.getModel("emphasis.label");$.eachChild(function(e){e.setStyle(S),e.hoverStyle=B(d);var a=l.get(l.dimensions[e.__dimIdx],t);(null==a||isNaN(a))&&(a=""),Ia(e.style,e.hoverStyle,h,u,{labelFetcher:l.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:a,autoColor:s,isRectText:!0})}),e.highDownOnUpdate=function(e,t){o.attr("ignore","emphasis"===t?c:p)},V(e)}),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});function PX(i){i.eachSeriesByType("radar",function(i){var a=i.getData(),t=[],$=i.coordinateSystem;if($){var r=$.getIndicatorAxes();k(r,function(i,e){a.each(a.mapDimension(r[e].dim),function(i,a){t[a]=t[a]||[];var r=$.dataToPoint(i,e);t[a][e]=cz(r)?r:dz($)})}),a.each(function(i){var r=Or(t[i],function(i){return cz(i)})||dz($);t[i].push(r.slice()),a.setItemLayout(i,t[i])})}})}function cz(i){return!isNaN(i[0])&&!isNaN(i[1])}function dz(i){return[i.cx,i.cy]}HX=PX;var QX={};function RX(r){var a=r.polar;if(a){J(a)||(a=[a]);var i=[];k(a,function(a,$){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],J(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):i.push(a)}),r.polar=i}k(r.series,function(r){r&&"radar"===r.type&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}QX=RX;s(vj("radar")),s(qd("radar","circle")),u(HX),ab(tg("radar")),la(QX);var SX={};for(var TX={},Fo=[126,25],ud=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],vd=0;vd<ud.length;vd++)for(var Te=0;Te<ud[vd].length;Te++)ud[vd][Te][0]/=10.5,ud[vd][Te][1]/=-14,ud[vd][Te][0]+=Fo[0],ud[vd][Te][1]+=Fo[1];function UX($,r){"china"===$&&r.push(new gx("\u5357\u6D77\u8BF8\u5C9B",j(ud,function($){return{type:"polygon",exterior:$}}),Fo))}TX=UX;var VX={},WX={"\u5357\u6D77\u8BF8\u5C9B":[32,80],"\u5E7F\u4E1C":[0,-10],"\u9999\u6E2F":[10,5],"\u6FB3\u95E8":[-10,10],"\u5929\u6D25":[5,5]};function XX($,a){if("china"===$){var v=WX[a.name];if(v){var r=a.center;r[0]+=v[0]/10.5,r[1]+=-v[1]/14}}}VX=XX;var YX={},ZX={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function $X(a,$){if("world"===a){var e=ZX[$.name];if(e){var r=$.center;r[0]=e[0],r[1]=e[1]}}}YX=$X;var _X={},aY=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function bY(e,$){"china"===e&&"\u53F0\u6E7E"===$.name&&$.geometries.push({type:"polygon",exterior:aY[0]})}_X=bY;var cY={},dY=k,eY=va,ez=eY(),fY={load:function($,r,e){var a=ez(r).parsed;if(a)return a;var W,n=r.specialAreas||{},o=r.geoJSON;try{W=o?Sn(o,e):[]}catch(i){throw new Error("Invalid geoJson format\n"+i.message)}return TX($,W),dY(W,function(r){var e=r.name;VX($,r),YX($,r),_X($,r);var a=n[e];a&&r.transformTo(a.left,a.top,a.width,a.height)}),ez(r).parsed={regions:W,boundingRect:gY(W)}}};function gY($){for(var r,e=0;e<$.length;e++){var a=$[e].getBoundingRect();(r=r||a.clone()).union(a)}return r}cY=fY;var hY={},iY=hR,jY=gR,kY=lc,lY=G,mY=va,Ue=mY(),nY={load:function(r,n){var $=Ue(n).originRoot;if($)return{root:$,boundingRect:Ue(n).boundingRect};var e=fz(n);return Ue(n).originRoot=e.root,Ue(n).boundingRect=e.boundingRect,e},makeGraphic:function(r,n,$){var e=Ue(n),t=e.rootMap||(e.rootMap=lY()),a=t.get($);if(a)return a;var o=e.originRoot,u=e.boundingRect;return e.originRootHostKey?a=fz(n,u).root:(e.originRootHostKey=$,a=o),t.set($,a)},removeGraphic:function(r,n,$){var e=Ue(n),t=e.rootMap;t&&t.removeKey($),$===e.originRootHostKey&&(e.originRootHostKey=null)}};function fz(r,n){var $,e,t=r.svgXML;try{e=($=t&&iY(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,kY(null!=e)}catch(v){throw new Error("Invalid svg format\n"+v.message)}var a=$.width,o=$.height,u=$.viewBoxRect;if(n||(n=null==a||null==o?e.getBoundingRect():new I(0,0,0,0),null!=a&&(n.width=a),null!=o&&(n.height=o)),u){var i=jY(u,n.width,n.height),b=e;(e=new q).add(b),b.scale=i.scale,b.position=i.position}return e.setClipPath(new F({shape:n.plain()})),{root:e,boundingRect:n}}hY=nY;var vg={},Go=k,gz=G,hz={geoJSON:cY,svg:hY},oY={load:function(r,$,a){var e,p=[],o=gz(),f=gz(),n=jz(r);return Go(n,function(n){var v=hz[n.type].load(r,n,a);Go(v.regions,function(r){var a=r.name;$&&$.hasOwnProperty(a)&&(r=r.cloneShallow(a=$[a])),p.push(r),o.set(a,r),f.set(a,r.center)});var t=v.boundingRect;t&&(e?e.union(t):e=t.clone())}),{regions:p,regionsMap:o,nameCoordMap:f,boundingRect:e||new I(0,0,0,0)}},makeGraphic:iz("makeGraphic"),removeGraphic:iz("removeGraphic")};function iz(r){return function($,a){var e=jz($),p=[];return Go(e,function(e){var o=hz[e.type][r];o&&p.push(o($,e,a))}),p}}function jz(r){return Oi.retrieveMap(r)||[]}vg=oY;var kz=Ja,pY=se,qY=Kv,rY=an,sY=Q.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var r=Re(this,{coordDimensions:["value"],encodeDefaulter:w(rY,this)}),a=r.mapDimension("value"),i=G(),t=[],o=[],$=0,n=r.count();$<n;$++){var m=r.getName($);i.set(m,!0),t.push({name:m,value:r.get(a,$),selected:qY(r,$,"selected")})}var l=vg.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return k(l.regions,function(e){var r=e.name;i.get(r)||(t.push({name:r}),o.push(r))}),this.updateSelectedMap(t),r.appendValues([],o),r},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},getRegionModel:function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},formatTooltip:function(e,r,a,i){for(var t=this.getData(),o=pY(this.getRawValue(e)),$=t.getName(e),n=this.seriesGroup,m=[],l=0;l<n.length;l++){var s=n[l].originalData.indexOfName($),d=t.mapDimension("value");isNaN(n[l].originalData.get(d,s))||m.push(kz(n[l].name))}var p="html"===i?"<br/>":"\n";return m.join(", ")+p+kz($+" : "+o)},getTooltipPosition:function(e){if(null!=e){var r=this.getData().getName(e),a=this.coordinateSystem,i=a.getRegion(r);return i&&a.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});l(sY,Ao);var lz="\0_ec_interaction_mutex";function tY($,e,r){Ho($)[e]=r}function uY($,e,r){var a=Ho($);a[e]===r&&(a[e]=null)}function vY($,e){return!!Ho($)[e]}function Ho($){return $[lz]||($[lz]={})}d({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var wY=tY;var xY=uY;var mz=vY;var wg={};function nz(i){this.pointerChecker,this._zr=i,this._opt={};var e=m,r=e(yY,this),o=e(zY,this),t=e(AY,this),$=e(BY,this),n=e(CY,this);aa.call(this),this.setPointerChecker=function(i){this.pointerChecker=i},this.enable=function(e,a){this.disable(),this._opt=E(B(a)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(i.on("mousedown",r),i.on("mousemove",o),i.on("mouseup",t)),!0!==e&&"scale"!==e&&"zoom"!==e||(i.on("mousewheel",$),i.on("pinch",n))},this.disable=function(){i.off("mousedown",r),i.off("mousemove",o),i.off("mouseup",t),i.off("mousewheel",$),i.off("pinch",n)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function yY(i){if(!(fs(i)||i.target&&i.target.draggable)){var e=i.offsetX,r=i.offsetY;this.pointerChecker&&this.pointerChecker(i,e,r)&&(this._x=e,this._y=r,this._dragging=!0)}}function zY(i){if(this._dragging&&yj("moveOnMouseMove",i,this._opt)&&"pinch"!==i.gestureEvent&&!mz(this._zr,"globalPan")){var e=i.offsetX,r=i.offsetY,o=this._x,t=this._y,$=e-o,n=r-t;this._x=e,this._y=r,this._opt.preventDefaultMouseMove&&Sc(i.event),oz(this,"pan","moveOnMouseMove",i,{dx:$,dy:n,oldX:o,oldY:t,newX:e,newY:r})}}function AY(i){fs(i)||(this._dragging=!1)}function BY(i){var e=yj("zoomOnMouseWheel",i,this._opt),r=yj("moveOnMouseWheel",i,this._opt),o=i.wheelDelta,t=Math.abs(o),$=i.offsetX,n=i.offsetY;if(0!==o&&(e||r)){if(e){var a=t>3?1.4:t>1?1.2:1.1;Io(this,"zoom","zoomOnMouseWheel",i,{scale:o>0?a:1/a,originX:$,originY:n})}if(r){var s=Math.abs(o);Io(this,"scrollMove","moveOnMouseWheel",i,{scrollDelta:(o>0?1:-1)*(s>3?.4:s>1?.15:.05),originX:$,originY:n})}}}function CY(i){mz(this._zr,"globalPan")||Io(this,"zoom",null,i,{scale:i.pinchScale>1?1.1:1/1.1,originX:i.pinchX,originY:i.pinchY})}function Io(i,e,r,o,t){i.pointerChecker&&i.pointerChecker(o,t.originX,t.originY)&&(Sc(o.event),oz(i,e,r,o,t))}function oz(i,e,r,o,t){t.isAvailableBehavior=m(yj,null,r,o),i.trigger(e,t)}function yj(i,e,r){var o=r[i];return!i||o&&(!M(o)||e.event[o+"Key"])}l(nz,aa);var DY=nz;wg=DY;function EY(a,o,e){var t=a.target,$=t.position;$[0]+=o,$[1]+=e,t.dirty()}function FY(a,o,e,t){var $=a.target,m=a.zoomLimit,i=$.position,n=$.scale,r=a.zoom=a.zoom||1;if(r*=o,m){var p=m.min||0,d=m.max||1/0;r=Math.max(Math.min(d,r),p)}var u=r/a.zoom;a.zoom=r,i[0]-=(e-i[0])*(u-1),i[1]-=(t-i[1])*(u-1),n[0]*=u,n[1]*=u,$.dirty()}var Jo=EY;var Ko=FY;var GY={axisPointer:1,tooltip:1,brush:1};function HY(e,r,t){var n=r.getComponentByElement(e.topTarget),$=n&&n.coordinateSystem;return n&&n!==t&&!GY[n.mainType]&&$&&$.model!==t}var zj=HY;var pz={},IY=zj,JY=Sf;function qz(e){var r=e.getItemStyle(),a=e.get("areaColor");return null!=a&&(r.fill=a),r}function KY(e,r,a,o,t){a.off("click"),a.off("mousedown"),r.get("selectedMode")&&(a.on("mousedown",function(){e._mouseDownFlag=!0}),a.on("click",function(n){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var i=n.target;!i.__regions;)i=i.parent;if(i){var $={type:("geo"===r.mainType?"geo":"map")+"ToggleSelect",batch:j(i.__regions,function(e){return{name:e.name,from:t.uid}})};$[r.mainType+"Id"]=r.id,o.dispatchAction($),rz(r,a)}}}))}function rz(e,r){r.eachChild(function(r){k(r.__regions,function(a){r.trigger(e.isSelected(a.name)?"emphasis":"normal")})})}function Lo(e,r){var a=new q;this.uid=JY("ec_map_draw"),this._controller=new wg(e.getZr()),this._controllerHost={target:r?a:null},this.group=a,this._updateGroup=r,this._mouseDownFlag,this._mapName,this._initialized,a.add(this._regionsGroup=new q),a.add(this._backgroundGroup=new q)}Lo.prototype={constructor:Lo,draw:function(e,r,a,o,t){var n="geo"===e.mainType,i=e.getData&&e.getData();n&&r.eachComponent({mainType:"series",subType:"map"},function(r){i||r.getHostGeoModel()!==e||(i=r.getData())});var $=e.coordinateSystem;this._updateBackground($);var l,s=this._regionsGroup,p=this.group,c=$.getTransformInfo(),m=!s.childAt(0)||t;if(m)p.transform=c.roamTransform,p.decomposeTransform(),p.dirty();else{var g=new nc;g.transform=c.roamTransform,g.decomposeTransform();var u={scale:g.scale,position:g.position};l=g.scale,A(p,u,e)}var h=c.rawScale,d=c.rawPosition;s.removeAll();var v=["itemStyle"],T=["emphasis","itemStyle"],U=["label"],R=["emphasis","label"],W=G();k($.regions,function(r){var a=W.get(r.name)||W.set(r.name,new q),o=new ou({segmentIgnoreThreshold:1,shape:{paths:[]}});a.add(o);var t,$=(H=e.getRegionModel(r.name)||e).getModel(v),c=H.getModel(T),g=qz($),u=qz(c),f=H.getModel(U),_=H.getModel(R);if(i){t=i.indexOfName(r.name);var y=i.getItemVisual(t,"color",!0);y&&(g.fill=y)}var w=function(e){return[e[0]*h[0]+d[0],e[1]*h[1]+d[1]]};k(r.geometries,function(e){if("polygon"===e.type){for(var r=[],a=0;a<e.exterior.length;++a)r.push(w(e.exterior[a]));o.shape.paths.push(new ya({segmentIgnoreThreshold:1,shape:{points:r}}));for(a=0;a<(e.interiors?e.interiors.length:0);++a){for(var t=e.interiors[a],n=(r=[],0);n<t.length;++n)r.push(w(t[n]));o.shape.paths.push(new ya({segmentIgnoreThreshold:1,shape:{points:r}}))}}}),o.setStyle(g),o.style.strokeNoScale=!0,o.culling=!0;var S=f.get("show"),I=_.get("show"),x=i&&isNaN(i.get(i.mapDimension("value"),t)),M=i&&i.getItemLayout(t);if(n||x&&(S||I)||M&&M.showLabel){var D,z=n?r.name:t;(!i||t>=0)&&(D=e);var b=new K({position:w(r.center.slice()),scale:[1/p.scale[0],1/p.scale[1]],z2:10,silent:!0});if(Ia(b.style,b.hoverStyle={},f,_,{labelFetcher:D,labelDataIndex:z,defaultText:r.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!m){var G=[1/l[0],1/l[1]];A(b,{scale:G},e)}a.add(b)}if(i)i.setItemGraphicEl(t,a);else{var H=e.getRegionModel(r.name);o.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:r.name,region:H&&H.option||{}}}(a.__regions||(a.__regions=[])).push(r),a.highDownSilentOnTouch=!!e.get("selectedMode"),V(a,u),s.add(a)}),this._updateController(e,r,a),KY(this,e,s,a,o),rz(e,s)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&vg.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var r=e.map;this._mapName!==r&&k(vg.makeGraphic(r,this.uid),function(e){this._backgroundGroup.add(e)},this),this._mapName=r},_updateController:function(e,r,a){var o=e.coordinateSystem,t=this._controller,n=this._controllerHost;n.zoomLimit=e.get("scaleLimit"),n.zoom=o.getZoom(),t.enable(e.get("roam")||!1);var i=e.mainType;function $(){var r={type:"geoRoam",componentType:i};return r[i+"Id"]=e.id,r}t.off("pan").on("pan",function(e){this._mouseDownFlag=!1,Jo(n,e.dx,e.dy),a.dispatchAction(z($(),{dx:e.dx,dy:e.dy}))},this),t.off("zoom").on("zoom",function(e){if(this._mouseDownFlag=!1,Ko(n,e.scale,e.originX,e.originY),a.dispatchAction(z($(),{zoom:e.scale,originX:e.originX,originY:e.originY})),this._updateGroup){var r=this.group.scale;this._regionsGroup.traverse(function(e){"text"===e.type&&e.attr("scale",[1/r[0],1/r[1]])})}},this),t.setPointerChecker(function(r,t,n){return o.getViewRectAfterRoam().contain(t,n)&&!IY(r,a,e)})}};var LY=Lo;pz=LY;var Mo="__seriesMapHighDown",sz="__seriesMapCallKey",lka=Ca({type:"map",render:function(e,r,a,t){if(!t||"mapToggleSelect"!==t.type||t.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(t&&"geoRoam"===t.type&&"series"===t.componentType&&t.seriesId===e.id)($=this._mapDraw)&&i.add($.group);else if(e.needsDrawMap){var $=this._mapDraw||new pz(a,!0);i.add($.group),$.draw(e,r,a,this,t),this._mapDraw=$}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,a)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,r,a){var t=e.originalData,i=this.group;t.each(t.mapDimension("value"),function(r,a){if(!isNaN(r)){var $=t.getItemLayout(a);if($&&$.point){var o=$.point,l=$.offset,n=new Db({style:{fill:e.getData().getVisual("color")},shape:{cx:o[0]+9*l,cy:o[1],r:3},silent:!0,z2:8+(l?0:Gm+1)});if(!l){var c=e.mainSeries.getData(),s=t.getName(a),p=c.indexOfName(s),R=t.getItemModel(a),m=R.getModel("label"),h=R.getModel("emphasis.label"),v=c.getItemGraphicEl(p),g=Fa(e.getFormattedLabel(p,"normal"),s),_=Fa(e.getFormattedLabel(p,"emphasis"),g),G=v[Mo],d=Math.random();if(!G){G=v[Mo]={};var u=w(tz,!0),D=w(tz,!1);v.on("mouseover",u).on("mouseout",D).on("emphasis",u).on("normal",D)}v[sz]=d,z(G,{recordVersion:d,circle:n,labelModel:m,hoverLabelModel:h,emphasisText:_,normalText:g}),uz(G,!1)}i.add(n)}}})}});function tz(e){var r=this[Mo];r&&r.recordVersion===this[sz]&&uz(r,e)}function uz(e,r){var a=e.circle,t=e.labelModel,i=e.hoverLabelModel,$=e.emphasisText,o=e.normalText;r?(a.style.extendFrom(R({},i,{text:i.get("show")?$:null},{isRectText:!0,useInsideStyle:!1},!0)),a.__mapOriginalZ2=a.z2,a.z2+=Gm):(R(a.style,t,{text:t.get("show")?o:null,textPosition:t.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),a.dirty(!1),null!=a.__mapOriginalZ2&&(a.z2=a.__mapOriginalZ2,a.__mapOriginalZ2=null))}function MY(e,t,o){var a=e.getZoom(),n=e.getCenter(),r=t.zoom,p=e.dataToPoint(n);if(null!=t.dx&&null!=t.dy){p[0]-=t.dx,p[1]-=t.dy;n=e.pointToData(p);e.setCenter(n)}if(null!=r){if(o){var d=o.min||0,$=o.max||1/0;r=Math.max(Math.min(a*r,$),d)/a}e.scale[0]*=r,e.scale[1]*=r;var i=e.position,m=(t.originX-i[0])*(r-1),v=(t.originY-i[1])*(r-1);i[0]-=m,i[1]-=v,e.updateTransform();n=e.pointToData(p);e.setCenter(n),e.setZoom(r*a)}return{center:e.getCenter(),zoom:e.getZoom()}}var No=MY;var NY=No;d({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r){var t=e.componentType||"series";r.eachComponent({mainType:t,query:e},function(r){var o=r.coordinateSystem;if("geo"===o.type){var a=NY(o,e,r.get("scaleLimit"));r.setCenter&&r.setCenter(a.center),r.setZoom&&r.setZoom(a.zoom),"series"===t&&k(r.seriesGroup,function(e){e.setCenter(a.center),e.setZoom(a.zoom)})}})});var xg={},vz=Ga;function Oo(){nc.call(this)}function Aj(r){this.name=r,this.zoomLimit,nc.call(this),this._roamTransformable=new Oo,this._rawTransformable=new Oo,this._center,this._zoom}function wz(r,t,a,e){var n=a.seriesModel,o=n?n.coordinateSystem:null;return o===this?o[r](e):null}l(Oo,nc),Aj.prototype={constructor:Aj,type:"view",dimensions:["x","y"],setBoundingRect:function(r,t,a,e){return this._rect=new I(r,t,a,e),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(r,t,a,e){this.transformTo(r,t,a,e),this._viewRect=new I(r,t,a,e)},transformTo:function(r,t,a,e){var n=this.getBoundingRect(),o=this._rawTransformable;o.transform=n.calculateTransform(new I(r,t,a,e)),o.decomposeTransform(),this._updateTransform()},setCenter:function(r){r&&(this._center=r,this._updateCenterAndZoom())},setZoom:function(r){r=r||1;var t=this.zoomLimit;t&&(null!=t.max&&(r=Math.min(t.max,r)),null!=t.min&&(r=Math.max(t.min,r))),this._zoom=r,this._updateCenterAndZoom()},getDefaultCenter:function(){var r=this.getBoundingRect();return[r.x+r.width/2,r.y+r.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var r=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,a=this.getDefaultCenter(),e=this.getCenter(),n=this.getZoom();e=Ga([],e,r),a=Ga([],a,r),t.origin=e,t.position=[a[0]-e[0],a[1]-e[1]],t.scale=[n,n],this._updateTransform()},_updateTransform:function(){var r=this._roamTransformable,t=this._rawTransformable;t.parent=r,r.updateTransform(),t.updateTransform(),oh(this.transform||(this.transform=[]),t.transform||Ha()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],ph(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var r=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:r?Td(r):Ha(),rawScale:Td(t.scale),rawPosition:Td(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},dataToPoint:function(r,t,a){var e=t?this._rawTransform:this.transform;return a=a||[],e?vz(a,r,e):_(a,r)},pointToData:function(r){var t=this.invTransform;return t?vz([],r,t):[r[0],r[1]]},convertToPixel:w(wz,"dataToPoint"),convertFromPixel:w(wz,"pointToData"),containPoint:function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])}},l(Aj,nc);var OY=Aj;xg=OY;var Po={};function Bj(t,r,e,o){xg.call(this,t),this.map=r;var n=vg.load(r,e);this._nameCoordMap=n.nameCoordMap,this._regionsMap=n.regionsMap,this._invertLongitute=null==o||o,this.regions=n.regions,this._rect=n.boundingRect}function xz(t,r,e,o){var n=e.geoModel,i=e.seriesModel,a=n?n.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[t](o):null}Bj.prototype={constructor:Bj,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var r=this.regions,e=0;e<r.length;e++)if(r[e].contain(t))return!0;return!1},transformTo:function(t,r,e,o){var n=this.getBoundingRect(),i=this._invertLongitute;n=n.clone(),i&&(n.y=-n.y-n.height);var a=this._rawTransformable;if(a.transform=n.calculateTransform(new I(t,r,e,o)),a.decomposeTransform(),i){var $=a.scale;$[1]=-$[1]}a.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var r=this.regions,e=0;e<r.length;e++)if(r[e].contain(t))return r[e]},addGeoCoord:function(t,r){this._nameCoordMap.set(t,r)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,r,e){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return xg.prototype.dataToPoint.call(this,t,r,e)},convertToPixel:w(xz,"dataToPoint"),convertFromPixel:w(xz,"pointToData")},l(Bj,xg);var PY=Bj;Po=PY;var QY={};function yz(e,r){var a=e.get("boundingCoords");if(null!=a){var t=a[0],$=a[1];isNaN(t[0])||isNaN(t[1])||isNaN($[0])||isNaN($[1])||this.setBoundingRect(t[0],t[1],$[0]-t[0],$[1]-t[1])}var s,i=this.getBoundingRect(),l=e.get("layoutCenter"),o=e.get("layoutSize"),n=r.getWidth(),c=r.getHeight(),C=i.width/i.height*this.aspectScale,g=!1;if(l&&o&&(l=[D(l[0],n),D(l[1],c)],o=D(o,Math.min(n,c)),isNaN(l[0])||isNaN(l[1])||isNaN(o)||(g=!0)),g){var v={};C>1?(v.width=o,v.height=o/C):(v.height=o,v.width=o*C),v.y=l[1]-v.height/2,v.x=l[0]-v.width/2}else(s=e.getBoxLayoutParams()).aspect=C,v=T(s,{width:n,height:c});this.setViewRect(v.x,v.y,v.width,v.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function zz(e,r){k(r.get("geoCoord"),function(r,a){e.addGeoCoord(a,r)})}var Az={dimensions:Po.prototype.dimensions,create:function(e,r){var a=[];e.eachComponent("geo",function(e,t){var $=e.get("map"),s=e.get("aspectScale"),i=!0,l=Oi.retrieveMap($);l&&l[0]&&"svg"===l[0].type?(null==s&&(s=1),i=!1):null==s&&(s=.75);var o=new Po($+t,$,e.get("nameMap"),i);o.aspectScale=s,o.zoomLimit=e.get("scaleLimit"),a.push(o),zz(o,e),e.coordinateSystem=o,o.model=e,o.resize=yz,o.resize(e,r)}),e.eachSeries(function(e){if("geo"===e.get("coordinateSystem")){var r=e.get("geoIndex")||0;e.coordinateSystem=a[r]}});var t={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var r=e.getMapType();t[r]=t[r]||[],t[r].push(e)}}),k(t,function(e,t){var $=j(e,function(e){return e.get("nameMap")}),s=new Po(t,t,uf($));s.zoomLimit=ua.apply(null,j(e,function(e){return e.get("scaleLimit")})),a.push(s),s.resize=yz,s.aspectScale=e[0].get("aspectScale"),s.resize(e[0],r),k(e,function(e){e.coordinateSystem=s,zz(s,e)})}),a},getFilledRegions:function(e,r,a){for(var t=(e||[]).slice(),$=G(),s=0;s<t.length;s++)$.set(t[s].name,t[s]);var i=vg.load(r,a);return k(i.regions,function(e){var r=e.name;!$.get(r)&&t.push({name:r})}),t}};go("geo",Az);var RY=Az;QY=RY;function SY(e){var t={};e.eachSeriesByType("map",function(a){var o=a.getMapType();if(!a.getHostGeoModel()&&!t[o]){var r={};k(a.seriesGroup,function(t){var a=t.coordinateSystem,o=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&o.each(o.mapDimension("value"),function(e,t){var i=o.getName(t),n=a.getRegion(i);if(n&&!isNaN(e)){var $=r[i]||0,s=a.dataToPoint(n.center);r[i]=$+1,o.setItemLayout(t,{point:s,offset:$})}})});var i=a.getData();i.each(function(e){var t=i.getName(e),a=i.getItemLayout(e)||{};a.showLabel=!r[t],i.setItemLayout(e,a)}),t[o]=!0}})}SX=SY;var TY={};function UY(e){e.eachSeriesByType("map",function(e){var o=e.get("color"),t=e.getModel("itemStyle"),a=t.get("areaColor"),r=t.get("color")||o[e.seriesIndex%o.length];e.getData().setVisual({areaColor:a,color:r})})}TY=UY;var VY={};function WY(a,e){var t={};return k(a,function(a){a.each(a.mapDimension("value"),function(e,n){var r="ec-"+a.getName(n);t[r]=t[r]||[],isNaN(e)||t[r].push(e)})}),a[0].map(a[0].mapDimension("value"),function(n,r){for(var i,$="ec-"+a[0].getName(r),o=0,l=1/0,u=-1/0,c=t[$].length,s=0;s<c;s++)l=Math.min(l,t[$][s]),u=Math.max(u,t[$][s]),o+=t[$][s];return i="min"===e?l:"max"===e?u:"average"===e?o/c:o,0===c?NaN:i})}function XY(a){var e={};a.eachSeriesByType("map",function(a){var t=a.getHostGeoModel(),n=t?"o"+t.id:"i"+a.getMapType();(e[n]=e[n]||[]).push(a)}),k(e,function(a,e){for(var t=WY(j(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),n=0;n<a.length;n++)a[n].originalData=a[n].getData();for(n=0;n<a.length;n++)a[n].seriesGroup=a,a[n].needsDrawMap=0===n&&!a[n].getHostGeoModel(),a[n].setData(t.cloneShallow()),a[n].mainSeries=a[0]})}VY=XY;var YY={};function ZY($){var r=[];k($.series,function($){$&&"map"===$.type&&(r.push($),$.map=$.map||$.mapType,E($,$.mapLocation))})}YY=ZY;u(SX),s(TY),ab(Jb.PROCESSOR.STATISTIC,VY),la(YY),Vy("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var Bz={},yg=k,zg="\0__link_datas",Cj="\0__link_mainData";function $Y($){var a=$.mainData,r=$.datas;r||(r={main:a},$.datasAttr={main:"data"}),$.datas=$.mainData=null,Cz(a,r,$),yg(r,function(r){yg(a.TRANSFERABLE_METHODS,function(a){r.wrapMethod(a,w(_Y,$))})}),a.wrapMethod("cloneShallow",w(bZ,$)),yg(a.CHANGABLE_METHODS,function(r){a.wrapMethod(r,w(aZ,$))}),lc(r[a.dataType]===a)}function _Y($,a){if(dZ(this)){var r=z({},this[zg]);r[this.dataType]=a,Cz(a,r,$)}else Qo(a,this.dataType,this[Cj],$);return a}function aZ($,a){return $.struct&&$.struct.update(this),a}function bZ($,a){return yg(a[zg],function(r,v){r!==a&&Qo(r.cloneShallow(),v,a,$)}),a}function cZ($){var a=this[Cj];return null==$||null==a?a:a[zg][$]}function dZ($){return $[Cj]===$}function Cz($,a,r){$[zg]={},yg(a,function(a,v){Qo(a,v,$,r)})}function Qo($,a,r,v){r[zg][a]=$,$[Cj]=r,$.dataType=a,v.struct&&($[v.structAttr]=v.struct,v.struct[v.datasAttr[a]]=$),$.getLinkedData=cZ}var eZ=$Y;Bz=eZ;var Ro={},So=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};function Ag(t){this.root,this.data,this._nodes=[],this.hostModel=t}function fZ(t,e){var r=e.children;t.parentNode!==e&&(r.push(t),t.parentNode=e)}So.prototype={constructor:So,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,r){"function"==typeof t&&(r=e,e=t,t=null),t=t||{},M(t)&&(t={order:t});var a,n=t.order||"preorder",i=this[t.attr||"children"];"preorder"===n&&(a=e.call(r,this));for(var o=0;!a&&o<i.length;o++)i[o].eachNode(t,e,r);"postorder"===n&&e.call(r,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var a=this.children[r];a.updateDepthAndHeight(t+1),a.height>e&&(e=a.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,r=this.children,a=r.length;e<a;e++){var n=r[e].getNodeById(t);if(n)return n}},contains:function(t){if(t===this)return!0;for(var e=0,r=this.children,a=r.length;e<a;e++){var n=r[e].contains(t);if(n)return n}},getAncestors:function(t){for(var e=[],r=t?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},Ag.prototype={constructor:Ag,type:"tree",eachNode:function(t,e,r){this.root.eachNode(t,e,r)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,r=0,a=e.length;r<a;r++)e[r].dataIndex=-1;for(r=0,a=t.count();r<a;r++)e[t.getRawIndex(r)].dataIndex=r},clearLayouts:function(){this.data.clearItemLayouts()}},Ag.createTree=function(t,e,r){var a=new Ag(e),n=[],i=1;!function t(e,r){var o=e.value;i=Math.max(i,J(o)?o.length:1);n.push(e);var s=new So(e.name,a);r?fZ(s,r):a.root=s;a._nodes.push(s);var d=e.children;if(d)for(var h=0;h<d.length;h++)t(d[h],s)}(t),a.root.updateDepthAndHeight(0);var o=Be(n,{coordDimensions:["value"],dimensionsCount:i}),s=new ka(o,e);return s.initData(n),r&&r(s),Bz({mainData:s,struct:a,structAttr:"tree"}),a.update(),a};var gZ=Ag;Ro=gZ;var hZ=Ja,mka=Q.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},r=e.leaves||{},a=new L(r,this,this.ecModel),o=Ro.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,t){var r=o.getNodeByDataIndex(t);return r.children.length&&r.isExpand||(e.parentModel=a),e})});var n=0;o.eachNode("preorder",function(e){e.depth>n&&(n=e.depth)});var i=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:n;return o.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=i}),o.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,r=t.root.children[0],a=t.getNodeByDataIndex(e),o=a.getValue(),n=a.name;a&&a!==r;)n=a.parentNode.name+"."+n,a=a.parentNode;return hZ(n+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});function iZ(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r,a,i=[e];r=i.pop();)if(a=r.children,r.isExpand&&a.length)for(var t=a.length-1;t>=0;t--){var o=a[t];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:t,thread:null},i.push(o)}}function jZ(e,r){var a=e.isExpand?e.children:[],i=e.parentNode.children,t=e.hierNode.i?i[e.hierNode.i-1]:null;if(a.length){oZ(e);var o=(a[0].hierNode.prelim+a[a.length-1].hierNode.prelim)/2;t?(e.hierNode.prelim=t.hierNode.prelim+r(e,t),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else t&&(e.hierNode.prelim=t.hierNode.prelim+r(e,t));e.parentNode.hierNode.defaultAncestor=pZ(e,t,e.parentNode.hierNode.defaultAncestor||i[0],r)}function kZ(e){var r=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:r},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function lZ(e){return arguments.length?e:sZ}function mZ(e,r){var a={};return e-=Math.PI/2,a.x=r*Math.cos(e),a.y=r*Math.sin(e),a}function nZ(e,r){return T(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function oZ(e){for(var r=e.children,a=r.length,i=0,t=0;--a>=0;){var o=r[a];o.hierNode.prelim+=i,o.hierNode.modifier+=i,t+=o.hierNode.change,i+=o.hierNode.shift+t}}function pZ(e,r,a,i){if(r){for(var t=e,o=e,$=o.parentNode.children[0],n=r,d=t.hierNode.modifier,h=o.hierNode.modifier,g=$.hierNode.modifier,l=n.hierNode.modifier;n=To(n),o=Uo(o),n&&o;){t=To(t),$=Uo($),t.hierNode.ancestor=e;var p=n.hierNode.prelim+l-o.hierNode.prelim-h+i(n,o);p>0&&(rZ(qZ(n,e,a),e,p),h+=p,d+=p),l+=n.hierNode.modifier,h+=o.hierNode.modifier,d+=t.hierNode.modifier,g+=$.hierNode.modifier}n&&!To(t)&&(t.hierNode.thread=n,t.hierNode.modifier+=l-d),o&&!Uo($)&&($.hierNode.thread=o,$.hierNode.modifier+=h-g,a=e)}return a}function To(e){var r=e.children;return r.length&&e.isExpand?r[r.length-1]:e.hierNode.thread}function Uo(e){var r=e.children;return r.length&&e.isExpand?r[0]:e.hierNode.thread}function qZ(e,r,a){return e.hierNode.ancestor.parentNode===r.parentNode?e.hierNode.ancestor:a}function rZ(e,r,a){var i=a/(r.hierNode.i-e.hierNode.i);r.hierNode.change-=i,r.hierNode.shift+=a,r.hierNode.modifier+=a,r.hierNode.prelim+=a,e.hierNode.change+=i}function sZ(e,r){return e.parentNode===r.parentNode?1:2}var tZ=iZ;var uZ=jZ;var vZ=kZ;var wZ=lZ;var Dz=mZ;var xZ=nZ;var Dj=Dz,yZ=zj,zZ=D,AZ=Va({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.childPoints,a=r.length,i=t.parentPoint,o=r[0],n=r[a-1];if(1===a)return e.moveTo(i[0],i[1]),void e.lineTo(o[0],o[1]);var l=t.orient,$="TB"===l||"BT"===l?0:1,d=1-$,y=zZ(t.forkPosition,1),p=[];p[$]=i[$],p[d]=i[d]+(n[d]-i[d])*y,e.moveTo(i[0],i[1]),e.lineTo(p[0],p[1]),e.moveTo(o[0],o[1]),p[$]=o[$],e.lineTo(p[0],p[1]),p[$]=n[$],e.lineTo(p[0],p[1]),e.lineTo(n[0],n[1]);for(var s=1;s<a-1;s++){var c=r[s];e.moveTo(c[0],c[1]),p[$]=c[$],e.lineTo(p[0],p[1])}}}),nka=Ca({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new q,this._controller=new wg(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,r,a){var i=e.getData(),o=e.layoutInfo,n=this._mainGroup,l=e.get("layout");"radial"===l?n.attr("position",[o.x+o.width/2,o.y+o.height/2]):n.attr("position",[o.x,o.y]),this._updateViewCoordSys(e,o,l),this._updateController(e,t,r);var $=this._data,d={expandAndCollapse:e.get("expandAndCollapse"),layout:l,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};i.diff($).add(function(t){Ez(i,t)&&Gz(i,t,null,n,e,d)}).update(function(t,r){var a=$.getItemGraphicEl(r);Ez(i,t)?Gz(i,t,a,n,e,d):a&&Hz($,r,a,n,e,d)}).remove(function(t){var r=$.getItemGraphicEl(t);r&&Hz($,t,r,n,e,d)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===d.expandAndCollapse&&i.eachItemGraphicEl(function(t,a){t.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:a})})}),this._data=i},_updateViewCoordSys:function(e){var t=e.getData(),r=[];t.each(function(e){var a=t.getItemLayout(e);!a||isNaN(a.x)||isNaN(a.y)||r.push([+a.x,+a.y])});var a=[],i=[];Th(r,a,i);var o=this._min,n=this._max;i[0]-a[0]==0&&(a[0]=o?o[0]:a[0]-1,i[0]=n?n[0]:i[0]+1),i[1]-a[1]==0&&(a[1]=o?o[1]:a[1]-1,i[1]=n?n[1]:i[1]+1);var l=e.coordinateSystem=new xg;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(a[0],a[1],i[0]-a[0],i[1]-a[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({position:l.position,scale:l.scale}),this._viewCoordSys=l,this._min=a,this._max=i},_updateController:function(e,t,r){var a=this._controller,i=this._controllerHost,o=this.group;a.setPointerChecker(function(t,a,i){var n=o.getBoundingRect();return n.applyTransform(o.transform),n.contain(a,i)&&!yZ(t,r,e)}),a.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(t){Jo(i,t.dx,t.dy),r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})},this).on("zoom",function(t){Ko(i,t.scale,t.originX,t.originY),r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)},this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),r=this._getNodeGlobalScale(e),a=[r,r];t.eachItemGraphicEl(function(e,t){e.attr("scale",a)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var r=this._nodeScaleRatio,a=t.scale,i=a&&a[0]||1;return((t.getZoom()-1)*r+1)/i},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function Ez(e,t){var r=e.getItemLayout(t);return r&&!isNaN(r.x)&&!isNaN(r.y)&&"none"!==e.getItemVisual(t,"symbol")}function Fz(e,t,r){return r.itemModel=t,r.itemStyle=t.getModel("itemStyle").getItemStyle(),r.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),r.lineStyle=t.getModel("lineStyle").getLineStyle(),r.labelModel=t.getModel("label"),r.hoverLabelModel=t.getModel("emphasis.label"),!1===e.isExpand&&0!==e.children.length?r.symbolInnerColor=r.itemStyle.fill:r.symbolInnerColor="#fff",r}function Gz(e,t,r,a,i,o){var n=!r,l=e.tree.getNodeByDataIndex(t),$=l.getModel(),d=(o=Fz(l,$,o),e.tree.root),y=l.parentNode===d?l:l.parentNode||l,p=e.getItemGraphicEl(y.dataIndex),s=y.getLayout(),c=p?{x:p.position[0],y:p.position[1],rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:s,u=l.getLayout();n?(r=new og(e,t,o)).attr("position",[c.x,c.y]):r.updateData(e,t,o),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=u.rawX,r.__radialRawY=u.rawY,a.add(r),e.setItemGraphicEl(t,r),A(r,{position:[u.x,u.y]},i);var h=r.getSymbolPath();if("radial"===o.layout){var v,g,P=d.children[0],m=P.getLayout(),j=P.children.length;if(u.x===m.x&&!0===l.isExpand){var _={};_.x=(P.children[0].getLayout().x+P.children[j-1].getLayout().x)/2,_.y=(P.children[0].getLayout().y+P.children[j-1].getLayout().y)/2,(v=Math.atan2(_.y-m.y,_.x-m.x))<0&&(v=2*Math.PI+v),(g=_.x<m.x)&&(v-=Math.PI)}else(v=Math.atan2(u.y-m.y,u.x-m.x))<0&&(v=2*Math.PI+v),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(g=u.x<m.x)&&(v-=Math.PI):(g=u.x>m.x)||(v-=Math.PI);var f=g?"left":"right",x=o.labelModel.get("rotate"),S=x*(Math.PI/180);h.setStyle({textPosition:o.labelModel.get("position")||f,textRotation:null==x?-v:S,textOrigin:"center",verticalAlign:"middle"})}BZ(i,l,d,r,c,s,u,a,o)}function BZ(e,t,r,a,i,o,n,l,$){var d=$.edgeShape,y=a.__edge;if("curve"===d)t.parentNode&&t.parentNode!==r&&(y||(y=a.__edge=new di({shape:Vo($,i,i),style:E({opacity:0,strokeNoScale:!0},$.lineStyle)})),A(y,{shape:Vo($,o,n),style:E({opacity:1},$.lineStyle)},e));else if("polyline"===d&&"orthogonal"===$.layout&&t!==r&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var p=t.children,s=[],c=0;c<p.length;c++){var u=p[c].getLayout();s.push([u.x,u.y])}y||(y=a.__edge=new AZ({shape:{parentPoint:[n.x,n.y],childPoints:[[n.x,n.y]],orient:$.orient,forkPosition:$.edgeForkPosition},style:E({opacity:0,strokeNoScale:!0},$.lineStyle)})),A(y,{shape:{parentPoint:[n.x,n.y],childPoints:s},style:E({opacity:1},$.lineStyle)},e)}l.add(y)}function Hz(e,t,r,a,i,o){for(var n,l=e.tree.getNodeByDataIndex(t),$=e.tree.root,d=l.getModel(),y=(o=Fz(l,d,o),l.parentNode===$?l:l.parentNode||l),p=o.edgeShape;null==(n=y.getLayout());)y=y.parentNode===$?y:y.parentNode||y;A(r,{position:[n.x+1,n.y+1]},i,function(){a.remove(r),e.setItemGraphicEl(t,null)}),r.fadeOut(null,{keepLabel:!0});var s=e.getItemGraphicEl(y.dataIndex).__edge,c=r.__edge||(!1===y.isExpand||1===y.children.length?s:void 0);p=o.edgeShape;c&&("curve"===p?A(c,{shape:Vo(o,n,n),style:{opacity:0}},i,function(){a.remove(c)}):"polyline"===p&&"orthogonal"===o.layout&&A(c,{shape:{parentPoint:[n.x,n.y],childPoints:[[n.x,n.y]]},style:{opacity:0}},i,function(){a.remove(c)}))}function Vo(e,t,r){var a,i,o,n,l,$,d,y,p=e.orient;if("radial"===e.layout){l=t.rawX,d=t.rawY,$=r.rawX,y=r.rawY;var s=Dj(l,d),c=Dj(l,d+(y-d)*e.curvature),u=Dj($,y+(d-y)*e.curvature),h=Dj($,y);return{x1:s.x,y1:s.y,x2:h.x,y2:h.y,cpx1:c.x,cpy1:c.y,cpx2:u.x,cpy2:u.y}}return l=t.x,d=t.y,$=r.x,y=r.y,"LR"!==p&&"RL"!==p||(a=l+($-l)*e.curvature,i=d,o=$+(l-$)*e.curvature,n=y),"TB"!==p&&"BT"!==p||(a=l,i=d+(y-d)*e.curvature,o=$,n=y+(d-y)*e.curvature),{x1:l,y1:d,x2:$,y2:y,cpx1:a,cpy1:i,cpx2:o,cpy2:n}}var CZ=No;d({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var r=e.dataIndex,a=t.getData().tree.getNodeByDataIndex(r);a.isExpand=!a.isExpand})}),d({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var r=t.coordinateSystem,a=CZ(r,e);t.setCenter&&t.setCenter(a.center),t.setZoom&&t.setZoom(a.zoom)})});function DZ(e,r,$){for(var a,c=[e],o=[];a=c.pop();)if(o.push(a),a.isExpand){var f=a.children;if(f.length)for(var h=0;h<f.length;h++)c.push(f[h])}for(;a=o.pop();)r(a,$)}function EZ(e,r){for(var $,a=[e];$=a.pop();)if(r($),$.isExpand){var c=$.children;if(c.length)for(var o=c.length-1;o>=0;o--)a.push(c[o])}}var FZ=DZ;var GZ=EZ;var HZ={},IZ=FZ,Bg=GZ,JZ=tZ,KZ=uZ,LZ=vZ,Iz=wZ,MZ=Dz,NZ=xZ;function OZ(e,a){e.eachSeriesByType("tree",function(e){PZ(e,a)})}function PZ(e,a){var $=NZ(e,a);e.layoutInfo=$;var r=e.get("layout"),t=0,C=0,o=null;"radial"===r?(t=2*Math.PI,C=Math.min($.height,$.width)/2,o=Iz(function(e,a){return(e.parentNode===a.parentNode?1:2)/e.depth})):(t=$.width,C=$.height,o=Iz());var H=e.getData().tree.root,v=H.children[0];if(v){JZ(H),IZ(v,KZ,o),H.hierNode.modifier=-v.hierNode.prelim,Bg(v,LZ);var i=v,l=v,u=v;Bg(v,function(e){var a=e.getLayout().x;a<i.getLayout().x&&(i=e),a>l.getLayout().x&&(l=e),e.depth>u.depth&&(u=e)});var Q=i===l?1:o(i,l)/2,n=Q-i.getLayout().x,p=0,h=0,d=0,y=0;if("radial"===r)p=t/(l.getLayout().x+Q+n),h=C/(u.depth-1||1),Bg(v,function(e){d=(e.getLayout().x+n)*p,y=(e.depth-1)*h;var a=MZ(d,y);e.setLayout({x:a.x,y:a.y,rawX:d,rawY:y},!0)});else{var c=e.getOrient();"RL"===c||"LR"===c?(h=C/(l.getLayout().x+Q+n),p=t/(u.depth-1||1),Bg(v,function(e){y=(e.getLayout().x+n)*h,d="LR"===c?(e.depth-1)*p:t-(e.depth-1)*p,e.setLayout({x:d,y:y},!0)})):"TB"!==c&&"BT"!==c||(p=t/(l.getLayout().x+Q+n),h=C/(u.depth-1||1),Bg(v,function(e){d=(e.getLayout().x+n)*p,y="TB"===c?(e.depth-1)*h:C-(e.depth-1)*h,e.setLayout({x:d,y:y},!0)}))}}}HZ=OZ;s(qd("tree","circle")),u(HZ);var ea={},Cg=ra,Dg=k,Jz=y,Ej=-1,na=function(r){var a=r.mappingMethod,$=r.type,i=this.option=B(r);this.type=$,this.mappingMethod=a,this._normalizeData=q$[a];var e=Gg[$];this.applyVisual=e.applyVisual,this.getColorMapper=e.getColorMapper,this._doMap=e._doMap[a],"piecewise"===a?(ap(i),o$(i)):"category"===a?i.categories?p$(i):ap(i,!0):(lc("linear"!==a||i.dataExtent),ap(i))};function QZ(e,r,t){if(e&&C(r,e.type)>=0){var o=t.getData().tree.root,$=e.targetNode;if("string"==typeof $&&($=o.getNodeById($)),$&&o.contains($))return{node:$};var a=e.targetNodeId;if(null!=a&&($=o.getNodeById(a)))return{node:$}}}function Kz(e){for(var r=[];e;)(e=e.parentNode)&&r.push(e);return r.reverse()}function RZ(e,r){var t=Kz(e);return C(t,r)>=0}function SZ(e,r){for(var t=[];e;){var o=e.dataIndex;t.push({name:e.name,dataIndex:o,value:r.getRawValue(o)}),e=e.parentNode}return t.reverse(),t}var Eg=QZ;var TZ=Kz;var Wo=RZ;var Xo=SZ;var UZ=Ja,Lz=se,VZ=Xo,oka=Q.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,r){var t={name:e.name,children:e.data};Mz(t);var a=e.levels||[],o=this.designatedVisualItemStyle={},i=new L({itemStyle:o},this,r);a=e.levels=WZ(a,r);var l=j(a||[],function(e){return new L(e,i,r)},this),n=Ro.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,r){var t=n.getNodeByDataIndex(r),a=l[t.depth];return e.parentModel=a||i,e})});return n.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var r=this.getData(),t=this.getRawValue(e),a=J(t)?Lz(t[0]):Lz(t),o=r.getName(e);return UZ(o+": "+a)},getDataParams:function(e){var r=Q.prototype.getDataParams.apply(this,arguments),t=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=VZ(t,this),r},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},z(this.layoutInfo,e)},mapIdToIndex:function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=G(),this._idIndexMapCount=0);var t=r.get(e);return null==t&&r.set(e,t=this._idIndexMapCount++),t},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;e&&(e===r||r.contains(e))||(this._viewRoot=r)}});function Mz(e){var r=0;k(e.children,function(e){Mz(e);var t=e.value;J(t)&&(t=t[0]),r+=t});var t=e.value;J(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=r),t<0&&(t=0),J(e.value)?e.value[0]=t:e.value=t}function WZ(e,r){var t=r.get("color");if(t){var a;if(e=e||[],k(e,function(e){var r=new L(e),t=r.get("color");(r.get("itemStyle.color")||t&&"none"!==t)&&(a=!0)}),!a)(e[0]||(e[0]={})).color=t.slice();return e}}var XZ={},YZ=Xo,ZZ=8,Nz=8,Yo=5;function Zo(e){this.group=new q,e.add(this.group)}function $Z(e,t,r,$,a,o){var c=[[a?e:e-Yo,t],[e+r,t],[e+r,t+$],[a?e:e-Yo,t+$]];return!o&&c.splice(2,0,[e+r+Yo,t+$/2]),!a&&c.push([e,t+$/2]),c}function _Z(e,t,r){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&YZ(r,t)}}Zo.prototype={constructor:Zo,render:function(e,t,r,$){var a=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),a.get("show")&&r){var c=a.getModel("itemStyle"),g=c.getModel("textStyle"),n={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,n,g),this._renderContent(e,n,c,g,$),ui(o,n.pos,n.box)}},_prepare:function(e,t,r){for(var $=e;$;$=$.parentNode){var a=$.getModel().get("name"),o=r.getTextRect(a),c=Math.max(o.width+2*ZZ,t.emptyItemWidth);t.totalWidth+=c+Nz,t.renderList.push({node:$,text:a,width:c})}},_renderContent:function(e,t,r,$,a){for(var o=0,c=t.emptyItemWidth,g=e.get("breadcrumb.height"),n=KN(t.pos,t.box),i=t.totalWidth,p=t.renderList,x=p.length-1;x>=0;x--){var l=p[x],A=l.node,d=l.width,v=l.text;i>n.width&&(i-=d-c,d=c,v=null);var h=new ya({shape:{points:$Z(o,0,d,g,x===p.length-1,0===x)},style:E(r.getItemStyle(),{lineJoin:"bevel",text:v,textFill:$.getTextColor(),textFont:$.getFont()}),z:10,onclick:w(a,A)});this.group.add(h),_Z(h,e,A),o+=d+Nz}},remove:function(){this.group.removeAll()}};var a$=Zo;XZ=a$;function b$(){var e,r=[],t={};return{add:function(e,a,$,n,o){return M(n)&&(o=n,n=0),!t[e.id]&&(t[e.id]=1,r.push({el:e,target:a,time:$,delay:n,easing:o}),!0)},done:function(r){return e=r,this},start:function(){for(var a=r.length,$=0,n=r.length;$<n;$++){var o=r[$];o.el.animateTo(o.target,o.time,o.delay,o.easing,i)}return this;function i(){--a||(r.length=0,t={},e&&e())}}}}var c$=b$;var d$=si,Fj=m,Lb=k,Oz=3,e$=["label"],f$=["emphasis","label"],g$=["upperLabel"],h$=["emphasis","upperLabel"],i$=10,j$=1,k$=2,$o=he([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Pz=function(e){var t=$o(e);return t.stroke=t.fill=t.lineWidth=null,t},pka=Ca({type:"treemap",init:function(e,t){this._containerGroup,this._storage=Fg(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,r,a){var i=t.findComponents({mainType:"series",subType:"treemap",query:a});if(!(C(i,e)<0)){this.seriesModel=e,this.api=r,this.ecModel=t;var o=Eg(a,["treemapZoomToNode","treemapRootToNode"],e),n=a&&a.type,$=e.layoutInfo,l=!this._oldTree,s=this._storage,d="treemapRootToNode"===n&&o&&s?{rootNodeGroup:s.nodeGroup[o.node.getRawIndex()],direction:a.direction}:null,f=this._giveContainerGroup($),h=this._doRender(f,e,d);l||n&&"treemapZoomToNode"!==n&&"treemapRootToNode"!==n?h.renderFinally():this._doAnimation(f,h,e,d),this._resetController(r),this._renderBreadcrumb(e,r,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new q,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,r){var a=t.getData().tree,i=this._oldTree,o=Fg(),n=Fg(),$=this._storage,l=[],s=w(l$,t,n,$,r,o,l);!function e(t,r,a,i,o){i?(r=t,Lb(t,function(e,t){!e.isRemoved()&&$(t,t)})):new kd(r,t,n,n).add($).update($).remove(w($,null)).execute();function n(e){return e.getId()}function $(n,$){var l=null!=n?t[n]:null,d=null!=$?r[$]:null,f=s(l,d,a,o);f&&e(l&&l.viewChildren||[],d&&d.viewChildren||[],f,i,o+1)}}(a.root?[a.root]:[],i&&i.root?[i.root]:[],e,a===i||!i,0);var d=function(e){var t=Fg();return e&&Lb(e,function(e,r){var a=t[r];Lb(e,function(e){e&&(a.push(e),e.__tmWillDelete=1)})}),t}($);return this._oldTree=a,this._storage=n,{lastsForAnimation:o,willDeleteEls:d,renderFinally:function(){Lb(d,function(e){Lb(e,function(e){e.parent&&e.parent.remove(e)})}),Lb(l,function(e){e.invisible=!0,e.dirty()})}}},_doAnimation:function(e,t,r,a){if(r.get("animation")){var i=r.get("animationDurationUpdate"),o=r.get("animationEasing"),n=c$();Lb(t.willDeleteEls,function(e,t){Lb(e,function(e,r){if(!e.invisible){var $,l=e.parent;if(a&&"drillDown"===a.direction)$=l===a.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var s=0,d=0;l.__tmWillDelete||(s=l.__tmNodeWidth/2,d=l.__tmNodeHeight/2),$="nodeGroup"===t?{position:[s,d],style:{opacity:0}}:{shape:{x:s,y:d,width:0,height:0},style:{opacity:0}}}$&&n.add(e,$,i,o)}})}),Lb(this._storage,function(e,r){Lb(e,function(e,a){var $=t.lastsForAnimation[r][a],l={};$&&("nodeGroup"===r?$.old&&(l.position=e.position.slice(),e.attr("position",$.old)):($.old&&(l.shape=z({},e.shape),e.setShape($.old)),$.fadein?(e.setStyle("opacity",0),l.style={opacity:1}):1!==e.style.opacity&&(l.style={opacity:1})),n.add(e,l,i,o))})},this),this._state="animating",n.done(Fj(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new wg(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Fj(this._onPan,this)),t.on("zoom",Fj(this._onZoom,this)));var r=new I(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,a){return r.contain(t,a)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(Math.abs(e.dx)>Oz||Math.abs(e.dy)>Oz)){var t=this.seriesModel.getData().tree.root;if(!t)return;var r=t.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},_onZoom:function(e){var t=e.originX,r=e.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var i=a.getLayout();if(!i)return;var o=new I(i.x,i.y,i.width,i.height),n=this.seriesModel.layoutInfo;t-=n.x,r-=n.y;var $=Ha();fb($,$,[-t,-r]),zf($,$,[e.scale,e.scale]),fb($,$,[t,r]),o.applyTransform($),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(e){e.on("click",function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var r=this.findTarget(e.offsetX,e.offsetY);if(r){var a=r.node;if(a.getLayout().isLeafRoot)this._rootToNode(r);else if("zoomToNode"===t)this._zoomToNode(r);else if("link"===t){var i=a.hostTree.data.getItemModel(a.dataIndex),o=i.get("link",!0),n=i.get("target",!0)||"blank";o&&d$(o,n)}}}}},this)},_renderBreadcrumb:function(e,t,r){r||(r=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(r={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new XZ(this.group))).render(e,t,r.node,Fj(function(t){"animating"!==this._state&&(Wo(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Fg(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var i=this._storage.background[a.getRawIndex()];if(i){var o=i.transformCoordToLocal(e,t),n=i.shape;if(!(n.x<=o[0]&&o[0]<=n.x+n.width&&n.y<=o[1]&&o[1]<=n.y+n.height))return!1;r={node:a,offsetX:o[0],offsetY:o[1]}}},this),r}});function Fg(){return{nodeGroup:[],background:[],content:[]}}function l$(e,t,r,a,i,o,n,$,l,s){if(n){var d=n.getLayout(),f=e.getData();if(f.setItemGraphicEl(n.dataIndex,null),d&&d.isInView){var h=d.width,c=d.height,v=d.borderWidth,u=d.invisible,p=n.getRawIndex(),I=$&&$.getRawIndex(),g=n.viewChildren,J=d.upperHeight,m=g&&g.length,_=n.getModel("itemStyle"),y=n.getModel("emphasis.itemStyle"),w=D("nodeGroup",q);if(w){if(l.add(w),w.attr("position",[d.x||0,d.y||0]),w.__tmNodeWidth=h,w.__tmNodeHeight=c,d.isAboveViewRoot)return w;var x=n.getModel(),b=D("background",F,s,j$);if(b&&function(t,r,a){if(r.dataIndex=n.dataIndex,r.seriesIndex=e.seriesIndex,r.setShape({x:0,y:0,width:h,height:c}),u)A(r);else{r.invisible=!1;var i=n.getVisual("borderColor",!0),o=y.get("borderColor"),$=Pz(_);$.fill=i;var l=$o(y);if(l.fill=o,a){var s=h-2*v;T($,l,i,s,J,{x:v,y:0,width:s,height:J})}else $.text=l.text=null;r.setStyle($),mi(r,l)}t.add(r)}(w,b,m&&d.upperLabelHeight),m)ni(w)&&pe(w,!1),b&&(pe(b,!0),f.setItemGraphicEl(n.dataIndex,b));else{var R=D("content",F,s,k$);R&&function(t,r){r.dataIndex=n.dataIndex,r.seriesIndex=e.seriesIndex;var a=Math.max(h-2*v,0),i=Math.max(c-2*v,0);if(r.culling=!0,r.setShape({x:v,y:v,width:a,height:i}),u)A(r);else{r.invisible=!1;var o=n.getVisual("color",!0),$=Pz(_);$.fill=o;var l=$o(y);T($,l,o,a,i),r.setStyle($),mi(r,l)}t.add(r)}(w,R),b&&ni(b)&&pe(b,!1),pe(w,!0),f.setItemGraphicEl(n.dataIndex,w)}return w}}}function A(e){!e.invisible&&o.push(e)}function T(t,r,a,i,o,$){var l=x.get("name"),s=x.getModel($?g$:e$),f=x.getModel($?h$:f$),h=s.getShallow("show");Ia(t,r,s,f,{defaultText:h?l:null,autoColor:a,isRectText:!0,labelFetcher:e,labelDataIndex:n.dataIndex,labelProp:$?"upperLabel":"label"}),S(t,$,d),S(r,$,d),$&&(t.textRect=B($)),t.truncate=h&&s.get("ellipsis")?{outerWidth:i,outerHeight:o,minChar:2}:null}function S(t,r,a){var i=t.text;if(!r&&a.isLeafRoot&&null!=i){var o=e.get("drillDownIcon",!0);t.text=o?o+" "+i:i}}function D(e,o,$,l){var s=null!=I&&r[e][I],d=i[e];return s?(r[e][I]=null,function(e,t,r){(e[p]={}).old="nodeGroup"===r?t.position.slice():z({},t.shape)}(d,s,e)):u||((s=new o({z:m$($,l)})).__tmDepth=$,s.__tmStorageName=e,function(e,t,r){var o=e[p]={},$=n.parentNode;if($&&(!a||"drillDown"===a.direction)){var l=0,s=0,d=i.background[$.getRawIndex()];!a&&d&&d.old&&(l=d.old.width,s=d.old.height),o.old="nodeGroup"===r?[0,s]:{x:l,y:s,width:0,height:0}}o.fadein="nodeGroup"!==r}(d,0,e)),t[e][p]=s}}function m$(e,t){var r=e*i$+t;return(r-1)/r}for(var n$=function(){},Qz=["treemapZoomToNode","treemapRender","treemapMove"],_o=0;_o<Qz.length;_o++)d({type:Qz[_o],update:"updateView"},n$);d({type:"treemapRootToNode",update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"treemap",query:e},function(r,$){var o=Eg(e,["treemapZoomToNode","treemapRootToNode"],r);if(o){var a=r.getViewRoot();a&&(e.direction=Wo(a,o.node)?"rollUp":"drillDown"),r.resetViewRoot(o.node)}})});na.prototype={constructor:na,mapValueToVisual:function(r){var a=this._normalizeData(r);return this._doMap(a,r)},getNormalizer:function(){return m(this._normalizeData,this)}};var Gg=na.visualHandlers={color:{applyVisual:Hj("color"),getColorMapper:function(){var r=this.option;return m("category"===r.mappingMethod?function(r,a){return!a&&(r=this._normalizeData(r)),Ij.call(this,r)}:function(a,$,i){var e=!!i;return!$&&(a=this._normalizeData(a)),i=sh(a,r.parsedVisual,i),e?i:Df(i,"rgba")},this)},_doMap:{linear:function(r){return Df(sh(r,this.option.parsedVisual),"rgba")},category:Ij,piecewise:function(r,a){var $=cp.call(this,a);return null==$&&($=Df(sh(r,this.option.parsedVisual),"rgba")),$},fixed:wd}},colorHue:Gj(function(r,a){return be(r,a)}),colorSaturation:Gj(function(r,a){return be(r,null,a)}),colorLightness:Gj(function(r,a){return be(r,null,null,a)}),colorAlpha:Gj(function(r,a){return th(r,a)}),opacity:{applyVisual:Hj("opacity"),_doMap:bp([0,1])},liftZ:{applyVisual:Hj("liftZ"),_doMap:{linear:wd,category:wd,piecewise:wd,fixed:wd}},symbol:{applyVisual:function(r,a,$){var i=this.mapValueToVisual(r);if(M(i))$("symbol",i);else if(Jz(i))for(var e in i)i.hasOwnProperty(e)&&$(e,i[e])},_doMap:{linear:Rz,category:Ij,piecewise:function(r,a){var $=cp.call(this,a);return null==$&&($=Rz.call(this,r)),$},fixed:wd}},symbolSize:{applyVisual:Hj("symbolSize"),_doMap:bp([0,1])}};function o$(r){var a=r.pieceList;r.hasSpecialVisual=!1,k(a,function(a,$){a.originIndex=$,null!=a.visual&&(r.hasSpecialVisual=!0)})}function p$(r){var a=r.categories,$=r.visual,i=r.categoryMap={};if(Dg(a,function(r,a){i[r]=a}),!J($)){var e=[];y($)?Dg($,function(r,a){var $=i[a];e[null!=$?$:Ej]=r}):e[Ej]=$,$=Sz(r,e)}for(var l=a.length-1;l>=0;l--)null==$[l]&&(delete i[a[l]],a.pop())}function ap(r,a){var $=r.visual,i=[];y($)?Dg($,function(r){i.push(r)}):null!=$&&i.push($);a||1!==i.length||{color:1,symbol:1}.hasOwnProperty(r.type)||(i[1]=i[0]),Sz(r,i)}function Gj(r){return{applyVisual:function(a,$,i){a=this.mapValueToVisual(a),i("color",r($("color"),a))},_doMap:bp([0,1])}}function Rz(r){var a=this.option.visual;return a[Math.round(Cg(r,[0,1],[0,a.length-1],!0))]||{}}function Hj(r){return function(a,$,i){i(r,this.mapValueToVisual(a))}}function Ij(r){var a=this.option.visual;return a[this.option.loop&&r!==Ej?r%a.length:r]}function wd(){return this.option.visual[0]}function bp(r){return{linear:function(a){return Cg(a,r,this.option.visual,!0)},category:Ij,piecewise:function(a,$){var i=cp.call(this,$);return null==i&&(i=Cg(a,r,this.option.visual,!0)),i},fixed:wd}}function cp(r){var a=this.option,$=a.pieceList;if(a.hasSpecialVisual){var i=$[na.findPieceIndex(r,$)];if(i&&i.visual)return i.visual[this.type]}}function Sz(r,a){return r.visual=a,"color"===r.type&&(r.parsedVisual=j(a,function(r){return Wc(r)})),a}var q$={linear:function(r){return Cg(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var a=this.option.pieceList,$=na.findPieceIndex(r,a,!0);if(null!=$)return Cg($,[0,a.length-1],[0,1],!0)},category:function(r){var a=this.option.categories?this.option.categoryMap[r]:r;return null==a?Ej:a},fixed:$};function Jj(r,a,$){return r?a<=$:a<$}na.listVisualTypes=function(){var r=[];return k(Gg,function(a,$){r.push($)}),r},na.addVisualHandler=function(r,a){Gg[r]=a},na.isValidType=function(r){return Gg.hasOwnProperty(r)},na.eachVisual=function(r,a,$){y(r)?k(r,a,$):a.call($,r)},na.mapVisual=function(r,a,$){var i,e=J(r)?[]:y(r)?{}:(i=!0,null);return na.eachVisual(r,function(r,l){var n=a.call($,r,l);i?e=n:e[l]=n}),e},na.retrieveVisuals=function(r){var a,$={};return r&&Dg(Gg,function(i,e){r.hasOwnProperty(e)&&($[e]=r[e],a=!0)}),a?$:null},na.prepareVisualTypes=function(r){if(Jz(r)){var a=[];Dg(r,function(r,$){a.push($)}),r=a}else{if(!J(r))return[];r=r.slice()}return r.sort(function(r,a){return"color"===a&&"color"!==r&&0===r.indexOf("color")?1:-1}),r},na.dependsOn=function(r,a){return"color"===a?!(!r||0!==r.indexOf(a)):r===a},na.findPieceIndex=function(r,a,$){for(var i,e=1/0,l=0,n=a.length;l<n;l++){var t=a[l].value;if(null!=t){if(t===r||"string"==typeof t&&t===r+"")return l;$&&p(t,l)}}for(l=0,n=a.length;l<n;l++){var o=a[l],s=o.interval,u=o.close;if(s){if(s[0]===-1/0){if(Jj(u[1],r,s[1]))return l}else if(s[1]===1/0){if(Jj(u[0],s[0],r))return l}else if(Jj(u[0],s[0],r)&&Jj(u[1],r,s[1]))return l;$&&p(s[0],l),$&&p(s[1],l)}}if($)return r===1/0?a.length-1:r===-1/0?0:i;function p(a,$){var l=Math.abs(a-r);l<e&&(e=l,i=$)}};var r$=na;ea=r$;var s$={},t$=J,u$="itemStyle",v$={seriesType:"treemap",reset:function(r,a,e,l){var $=r.getData().tree.root;$.isRemoved()||Tz($,{},r.getViewRoot().getAncestors(),r)}};function Tz(r,a,e,l){var $=r.getModel(),o=r.getLayout();if(o&&!o.invisible&&o.isInView){var i,t=r.getModel(u$),n=w$(t,a,l),u=t.get("borderColor"),v=t.get("borderColorSaturation");null!=v&&(u=x$(v,i=Uz(n,r))),r.setVisual("borderColor",u);var I=r.viewChildren;if(I&&I.length){var D=y$(r,$,o,t,n,I);k(I,function(r,a){(r.depth>=e.length||r===e[r.depth])&&Tz(r,z$($,n,r,a,D,l),e,l)})}else i=Uz(n,r),r.setVisual("color",i)}}function w$(r,a,e){var l=z({},a),$=e.designatedVisualItemStyle;return k(["color","colorAlpha","colorSaturation"],function(e){$[e]=a[e];var o=r.get(e);$[e]=null,null!=o&&(l[e]=o)}),l}function Uz(r){var a=dp(r,"color");if(a){var e=dp(r,"colorAlpha"),l=dp(r,"colorSaturation");return l&&(a=be(a,null,null,l)),e&&(a=th(a,e)),a}}function x$(r,a){return null!=a?be(a,null,null,r):null}function dp(r,a){var e=r[a];if(null!=e&&"none"!==e)return e}function y$(r,a,e,l,$,o){if(o&&o.length){var i=ep(a,"color")||null!=$.color&&"none"!==$.color&&(ep(a,"colorAlpha")||ep(a,"colorSaturation"));if(i){var t=a.get("visualMin"),n=a.get("visualMax"),u=e.dataExtent.slice();null!=t&&t<u[0]&&(u[0]=t),null!=n&&n>u[1]&&(u[1]=n);var v=a.get("colorMappingBy"),I={type:i.name,dataExtent:u,visual:i.range};"color"!==I.type||"index"!==v&&"id"!==v?I.mappingMethod="linear":(I.mappingMethod="category",I.loop=!0);var D=new ea(I);return D.__drColorMappingBy=v,D}}}function ep(r,a){var e=r.get(a);return t$(e)&&e.length?{name:a,range:e}:null}function z$(r,a,e,l,$,o){var i=z({},a);if($){var t=$.type,n="color"===t&&$.__drColorMappingBy,u="index"===n?l:"id"===n?o.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));i[t]=$.mapValueToVisual(u)}return i}s$=v$;var A$={},Vz=D,Wz=Vu,Hg=Math.max,Kj=Math.min,Xz=ua,fp=k,Yz=["itemStyle","borderWidth"],B$=["itemStyle","gapWidth"],C$=["upperLabel","show"],D$=["upperLabel","height"],E$={seriesType:"treemap",reset:function(e,r,t,a){var $=t.getWidth(),i=t.getHeight(),n=e.option,o=T(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),v=n.size||[],u=Vz(Xz(o.width,v[0]),$),h=Vz(Xz(o.height,v[1]),i),E=a&&a.type,l=Eg(a,["treemapZoomToNode","treemapRootToNode"],e),G="treemapRender"===E||"treemapMove"===E?a.rootRect:null,g=e.getViewRoot(),k=TZ(g);if("treemapMove"!==E){var s="treemapZoomToNode"===E?K$(e,l,g,u,h):G?[G.width,G.height]:[u,h],d=n.sort;d&&"asc"!==d&&"desc"!==d&&(d="desc");var p={squareRatio:n.squareRatio,sort:d,leafDepth:n.leafDepth};g.hostTree.clearLayouts();var c={x:0,y:0,width:s[0],height:s[1],area:s[0]*s[1]};g.setLayout(c),Zz(g,p,!1,0);c=g.getLayout();fp(k,function(e,r){var t=(k[r+1]||g).getValue();e.setLayout(z({dataExtent:[t,t],borderWidth:0,upperHeight:0},c))})}var f=e.getData().tree.root;f.setLayout(L$(o,G,l),!0),e.setLayoutInfo(o),_z(f,new I(-o.x,-o.y,$,i),k,g,0)}};function Zz(e,r,t,a){var $,i;if(!e.isRemoved()){var n=e.getLayout();$=n.width,i=n.height;var o=(G=e.getModel()).get(Yz),v=G.get(B$)/2,u=aA(G),h=Math.max(o,u),E=o-v,l=h-v,G=e.getModel();e.setLayout({borderWidth:o,upperHeight:h,upperLabelHeight:u},!0);var g=($=Hg($-2*E,0))*(i=Hg(i-E-l,0)),k=F$(e,G,g,r,t,a);if(k.length){var s={x:E,y:l,width:$,height:i},d=Kj($,i),p=1/0,c=[];c.area=0;for(var f=0,y=k.length;f<y;){var m=k[f];c.push(m),c.area+=m.getLayout().area;var L=J$(c,d,r.squareRatio);L<=p?(f++,p=L):(c.area-=c.pop().getLayout().area,$z(c,d,s,v,!1),d=Kj(s.width,s.height),c.length=c.area=0,p=1/0)}if(c.length&&$z(c,d,s,v,!0),!t){var R=G.get("childrenVisibleMin");null!=R&&g<R&&(t=!0)}for(f=0,y=k.length;f<y;f++)Zz(k[f],r,t,a+1)}}}function F$(e,r,t,a,$,i){var n=e.children||[],o=a.sort;"asc"!==o&&"desc"!==o&&(o=null);var v=null!=a.leafDepth&&a.leafDepth<=i;if($&&!v)return e.viewChildren=[];H$(n=Ea(n,function(e){return!e.isRemoved()}),o);var u=I$(r,n,o);if(0===u.sum)return e.viewChildren=[];if(u.sum=G$(r,t,u.sum,o,n),0===u.sum)return e.viewChildren=[];for(var h=0,E=n.length;h<E;h++){var l=n[h].getValue()/u.sum*t;n[h].setLayout({area:l})}return v&&(n.length&&e.setLayout({isLeafRoot:!0},!0),n.length=0),e.viewChildren=n,e.setLayout({dataExtent:u.dataExtent},!0),n}function G$(e,r,t,a,$){if(!a)return t;for(var i=e.get("visibleMin"),n=$.length,o=n,v=n-1;v>=0;v--){var u=$["asc"===a?n-v-1:v].getValue();u/t*r<i&&(o=v,t-=u)}return"asc"===a?$.splice(0,n-o):$.splice(o,n-o),t}function H$(e,r){return r&&e.sort(function(e,t){var a="asc"===r?e.getValue()-t.getValue():t.getValue()-e.getValue();return 0===a?"asc"===r?e.dataIndex-t.dataIndex:t.dataIndex-e.dataIndex:a}),e}function I$(e,r,t){for(var a=0,$=0,i=r.length;$<i;$++)a+=r[$].getValue();var n=e.get("visualDimension");if(r&&r.length){if("value"===n&&t)o=[r[r.length-1].getValue(),r[0].getValue()],"asc"===t&&o.reverse();else{var o=[1/0,-1/0];fp(r,function(e){var r=e.getValue(n);r<o[0]&&(o[0]=r),r>o[1]&&(o[1]=r)})}}else o=[NaN,NaN];return{sum:a,dataExtent:o}}function J$(e,r,t){for(var a,$=0,i=1/0,n=0,o=e.length;n<o;n++)(a=e[n].getLayout().area)&&(a<i&&(i=a),a>$&&($=a));var v=e.area*e.area,u=r*r*t;return v?Hg(u*$/v,v/(u*i)):1/0}function $z(e,r,t,a,$){var i=r===t.width?0:1,n=1-i,o=["x","y"],v=["width","height"],u=t[o[i]],h=r?e.area/r:0;($||h>t[v[n]])&&(h=t[v[n]]);for(var E=0,l=e.length;E<l;E++){var G=e[E],g={},k=h?G.getLayout().area/h:0,s=g[v[n]]=Hg(h-2*a,0),d=t[o[i]]+t[v[i]]-u,p=E===l-1||d<k?d:k,c=g[v[i]]=Hg(p-2*a,0);g[o[n]]=t[o[n]]+Kj(a,s/2),g[o[i]]=u+Kj(a,c/2),u+=p,G.setLayout(g,!0)}t[o[n]]+=h,t[v[n]]-=h}function K$(e,r,t,a,$){var i,n=(r||{}).node,o=[a,$];if(!n||n===t)return o;for(var v=a*$,u=v*e.option.zoomToNodeRatio;i=n.parentNode;){for(var h=0,E=i.children,l=0,G=E.length;l<G;l++)h+=E[l].getValue();var g=n.getValue();if(0===g)return o;u*=h/g;var k=i.getModel(),s=k.get(Yz);(u+=4*s*s+(3*s+Math.max(s,aA(k,s)))*Math.pow(u,.5))>Wz&&(u=Wz),n=i}u<v&&(u=v);var d=Math.pow(u/v,.5);return[a*d,$*d]}function L$(e,r,t){if(r)return{x:r.x,y:r.y};var a={x:0,y:0};if(!t)return a;var $=t.node,i=$.getLayout();if(!i)return a;for(var n=[i.width/2,i.height/2],o=$;o;){var v=o.getLayout();n[0]+=v.x,n[1]+=v.y,o=o.parentNode}return{x:e.width/2-n[0],y:e.height/2-n[1]}}function _z(e,r,t,a,$){var i=e.getLayout(),n=t[$],o=n&&n===e;if(!(n&&!o||$===t.length&&e!==a)){e.setLayout({isInView:!0,invisible:!o&&!r.intersect(i),isAboveViewRoot:o},!0);var v=new I(r.x-i.x,r.y-i.y,r.width,r.height);fp(e.viewChildren||[],function(e){_z(e,v,t,a,$+1)})}}function aA(e){return e.get(C$)?e.get(D$):0}A$=E$;s(s$),u(A$);var M$={};var N$={},bA=mm;function Ve(e){return"_EC_"+e}var Ig=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},Na=Ig.prototype;function rb(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function Jg(e,t,a){this.node1=e,this.node2=t,this.dataIndex=null==a?-1:a}Na.type="graph",Na.isDirected=function(){return this._directed},Na.addNode=function(e,t){e=null==e?""+t:""+e;var a=this._nodesMap;if(!a[Ve(e)]){var i=new rb(e,t);return i.hostGraph=this,this.nodes.push(i),a[Ve(e)]=i,i}},Na.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},Na.getNodeById=function(e){return this._nodesMap[Ve(e)]},Na.addEdge=function(e,t,a){var i=this._nodesMap,r=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),rb.isInstance(e)||(e=i[Ve(e)]),rb.isInstance(t)||(t=i[Ve(t)]),e&&t){var n=e.id+"-"+t.id,d=new Jg(e,t,a);return d.hostGraph=this,this._directed&&(e.outEdges.push(d),t.inEdges.push(d)),e.edges.push(d),e!==t&&t.edges.push(d),this.edges.push(d),r[n]=d,d}},Na.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},Na.getEdge=function(e,t){rb.isInstance(e)&&(e=e.id),rb.isInstance(t)&&(t=t.id);var a=this._edgesMap;return this._directed?a[e+"-"+t]:a[e+"-"+t]||a[t+"-"+e]},Na.eachNode=function(e,t){for(var a=this.nodes,i=a.length,r=0;r<i;r++)a[r].dataIndex>=0&&e.call(t,a[r],r)},Na.eachEdge=function(e,t){for(var a=this.edges,i=a.length,r=0;r<i;r++)a[r].dataIndex>=0&&a[r].node1.dataIndex>=0&&a[r].node2.dataIndex>=0&&e.call(t,a[r],r)},Na.breadthFirstTraverse=function(e,t,a,i){if(rb.isInstance(t)||(t=this._nodesMap[Ve(t)]),t){for(var r="out"===a?"outEdges":"in"===a?"inEdges":"edges",n=0;n<this.nodes.length;n++)this.nodes[n].__visited=!1;if(!e.call(i,t,null))for(var d=[t];d.length;){var $=d.shift(),o=$[r];for(n=0;n<o.length;n++){var s=o[n],h=s.node1===$?s.node2:s.node1;if(!h.__visited){if(e.call(i,h,$))return;d.push(h),h.__visited=!0}}}}},Na.update=function(){for(var e=this.data,t=this.edgeData,a=this.nodes,i=this.edges,r=0,n=a.length;r<n;r++)a[r].dataIndex=-1;for(r=0,n=e.count();r<n;r++)a[e.getRawIndex(r)].dataIndex=r;t.filterSelf(function(e){var a=i[t.getRawIndex(e)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0});for(r=0,n=i.length;r<n;r++)i[r].dataIndex=-1;for(r=0,n=t.count();r<n;r++)i[t.getRawIndex(r)].dataIndex=r},Na.clone=function(){for(var e=new Ig(this._directed),t=this.nodes,a=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<a.length;i++){var r=a[i];e.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return e},rb.prototype={constructor:rb,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Jg.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var cA=function(e,t){return{getValue:function(a){var i=this[e][t];return i.get(i.getDimension(a||"value"),this.dataIndex)},setVisual:function(a,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,a,i)},getVisual:function(a,i){return this[e][t].getItemVisual(this.dataIndex,a,i)},setLayout:function(a,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,a,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};l(rb,cA("hostGraph","data")),l(Jg,cA("hostGraph","edgeData")),Ig.Node=rb,Ig.Edge=Jg,bA(rb),bA(Jg);var O$=Ig;N$=O$;var dA={};function P$(r,e,a,$,t){for(var v=new N$($),i=0;i<r.length;i++)v.addNode(ua(r[i].id,r[i].name,i),i);var n=[],s=[],d=0;for(i=0;i<e.length;i++){var o=e[i],N=o.source,P=o.target;v.addEdge(N,P,d)&&(s.push(o),n.push(ua(o.id,N+" > "+P)),d++)}var Y,l=a.get("coordinateSystem");if("cartesian2d"===l||"polar"===l)Y=_b(r,a);else{var c=Xa.get(l),u=c&&"view"!==c.type&&c.dimensions||[];C(u,"value")<0&&u.concat(["value"]);var p=Be(r,{coordDimensions:u});(Y=new ka(p,a)).initData(r)}var m=new ka(["value"],a);return m.initData(s,n),t&&t(Y,m),Bz({mainData:Y,struct:v,structAttr:"graph",datas:{node:Y,edge:m},datasAttr:{node:"data",edge:"edgeData"}}),v.update(),v}dA=P$;var gp="-->",Lj=function(e){return e.get("autoCurveness")||null},eA=function(e,r){var $=Lj(e),t=20,a=[];if("number"==typeof $)t=$;else if(J($))return void(e.__curvenessList=$);r>t&&(t=r);var n=t%2?t+2:t+3;a=[];for(var s=0;s<n;s++)a.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=a},Kg=function(e,r,$){var t=[e.id,e.dataIndex].join("."),a=[r.id,r.dataIndex].join(".");return[$.uid,t,a].join(gp)},fA=function(e){var r=e.split(gp);return[r[0],r[2],r[1]].join(gp)},Q$=function(e,r){var $=Kg(e.node1,e.node2,r);return r.__edgeMap[$]},R$=function(e,r){return hp(Kg(e.node1,e.node2,r),r)+hp(Kg(e.node2,e.node1,r),r)},hp=function(e,r){var $=r.__edgeMap;return $[e]?$[e].length:0};function S$(e){Lj(e)&&(e.__curvenessList=[],e.__edgeMap={},eA(e))}function T$(e,r,$,t){if(Lj($)){var a=Kg(e,r,$),n=$.__edgeMap,s=n[fA(a)];n[a]&&!s?n[a].isForward=!0:s&&n[a]&&(s.isForward=!0,n[a].isForward=!1),n[a]=n[a]||[],n[a].push(t)}}function U$(e,r,$,t){var a=Lj(r),n=J(a);if(!a)return null;var s=Q$(e,r);if(!s)return null;for(var v=-1,i=0;i<s.length;i++)if(s[i]===$){v=i;break}var o=R$(e,r);eA(r,o),e.lineStyle=e.lineStyle||{};var K=Kg(e.node1,e.node2,r),F=r.__curvenessList,u=n?0:o%2?0:1;if(s.isForward)return F[u+v];var g=fA(K),I=hp(g,r),D=F[v+I+u];return t?n?a&&0===a[0]?(I+u)%2?D:-D:((I%2?0:1)+u)%2?D:-D:(I+u)%2?D:-D:F[v+I+u]}var V$=S$;var W$=T$;var ip=U$;var X$=Yc,gA=Ja,Y$=V$,Z$=W$,Lg=hj({type:"series.graph",init:function(e){Lg.superApply(this,"init",arguments);var a=this;function t(){return a._categoriesData}this.legendVisualProvider=new sg(t,t),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){Lg.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){Lg.superApply(this,"mergeDefaultAndTheme",arguments),X$(e,["edgeLabel"],["show"])},getInitialData:function(e,a){var t=e.edges||e.links||[],r=e.data||e.nodes||[],i=this;if(r&&t){Y$(this);var d=dA(r,t,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e){var a=i._categoriesModels,t=e.getShallow("category"),r=a[t];return r&&(r.parentModel=e.parentModel,e.parentModel=r),e});var r=i.getModel("edgeLabel"),d=new L({label:r.option},r.parentModel,a),o=i.getModel("emphasis.edgeLabel"),n=new L({emphasis:{label:o.option}},o.parentModel,a);function l(e){return(e=this.parsePath(e))&&"label"===e[0]?d:e&&"emphasis"===e[0]&&"label"===e[1]?n:this.parentModel}t.wrapMethod("getItemModel",function(e){return e.customizeGetParent(l),e})});return k(d.edges,function(e){Z$(e.node1,e.node2,this,e.dataIndex)},this),d.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,a,t){if("edge"===t){var r=this.getData(),i=this.getDataParams(e,t),d=r.graph.getEdgeByIndex(e),o=r.getName(d.node1.dataIndex),n=r.getName(d.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=n&&l.push(n),l=gA(l.join(" > ")),i.value&&(l+=" : "+gA(i.value)),l}return Lg.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=j(this.option.categories||[],function(e){return null!=e.value?e:z({value:0},e)}),a=new ka(["value"],this);a.initData(e),this._categoriesData=a,this._categoriesModels=a.mapArray(function(e){return a.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return Lg.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}});var $$={},hA=ca.prototype,jp=di.prototype;function kp(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var _$=Va({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,r){this[kp(r)?"_buildPathLine":"_buildPathCurve"](t,r)},_buildPathLine:hA.buildPath,_buildPathCurve:jp.buildPath,pointAt:function(t){return this[kp(this.shape)?"_pointAtLine":"_pointAtCurve"](t)},_pointAtLine:hA.pointAt,_pointAtCurve:jp.pointAt,tangentAt:function(t){var r=this.shape,e=kp(r)?[r.x2-r.x1,r.y2-r.y1]:this._tangentAtCurve(t);return Vd(e,e)},_tangentAtCurve:jp.tangentAt});$$=_$;var lp={},a_=ha,mp=["fromSymbol","toSymbol"];function iA(e){return"_"+e+"Type"}function jA(e,t,a){var i=t.getItemVisual(a,e);if(i&&"none"!==i){var r=t.getItemVisual(a,"color"),o=t.getItemVisual(a,e+"Size"),l=t.getItemVisual(a,e+"Rotate");J(o)||(o=[o,o]);var n=_a(i,-o[0]/2,-o[1]/2,o[0],o[1],r);return n.__specifiedRotation=null==l||isNaN(l)?void 0:+l*Math.PI/180||0,n.name=e,n}}function b_(e){var t=new $$({name:"line",subPixelOptimize:!0});return np(t.shape,e),t}function np(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var a=t[2];a?(e.cpx1=a[0],e.cpy1=a[1]):(e.cpx1=NaN,e.cpy1=NaN)}function c_(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),a=this.childOfName("label");if(e||t||!a.ignore){for(var i=1,r=this.parent;r;)r.scale&&(i/=r.scale[0]),r=r.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var l=o.shape.percent,n=o.pointAt(0),$=o.pointAt(l),s=Pb([],$,n);if(Vd(s,s),e){if(e.attr("position",n),null==(v=e.__specifiedRotation)){var c=o.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(c[1],c[0]))}else e.attr("rotation",v);e.attr("scale",[i*l,i*l])}if(t){var v;if(t.attr("position",$),null==(v=t.__specifiedRotation)){c=o.tangentAt(1);t.attr("rotation",-Math.PI/2-Math.atan2(c[1],c[0]))}else t.attr("rotation",v);t.attr("scale",[i*l,i*l])}if(!a.ignore){var d,h,p,T;a.attr("position",$);var m=a.__labelDistance,u=m[0]*i,K=m[1]*i,W=l/2,g=[(c=o.tangentAt(W))[1],-c[0]],f=o.pointAt(W);g[1]>0&&(g[0]=-g[0],g[1]=-g[1]);var y,S=c[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var b=-Math.atan2(c[1],c[0]);$[0]<n[0]&&(b=Math.PI+b),a.attr("rotation",b)}switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":y=-K,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":y=K,p="top";break;default:y=0,p="middle";}switch(a.__position){case"end":d=[s[0]*u+$[0],s[1]*K+$[1]],h=s[0]>.8?"left":s[0]<-.8?"right":"center",p=s[1]>.8?"top":s[1]<-.8?"bottom":"middle";break;case"start":d=[-s[0]*u+n[0],-s[1]*K+n[1]],h=s[0]>.8?"right":s[0]<-.8?"left":"center",p=s[1]>.8?"bottom":s[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":d=[u*S+n[0],n[1]+y],h=c[0]<0?"right":"left",T=[-u*S,-y];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":d=[f[0],f[1]+y],h="center",T=[0,-y];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":d=[-u*S+$[0],$[1]+y],h=c[0]>=0?"right":"left",T=[u*S,-y];}a.attr({style:{textVerticalAlign:a.__verticalAlign||p,textAlign:a.__textAlign||h},position:d,scale:[i,i],origin:T})}}}}function op(e,t,a){q.call(this),this._createLine(e,t,a)}var Ic=op.prototype;Ic.beforeUpdate=c_,Ic._createLine=function(e,t,a){var i=e.hostModel,r=b_(e.getItemLayout(t));r.shape.percent=0,ga(r,{shape:{percent:1}},i,t),this.add(r);var o=new K({name:"label",lineLabelOriginalOpacity:1});this.add(o),k(mp,function(a){var i=jA(a,e,t);this.add(i),this[iA(a)]=e.getItemVisual(t,a)},this),this._updateCommonStl(e,t,a)},Ic.updateData=function(e,t,a){var i=e.hostModel,r=this.childOfName("line"),o=e.getItemLayout(t),l={shape:{}};np(l.shape,o),A(r,l,i,t),k(mp,function(a){var i=e.getItemVisual(t,a),r=iA(a);if(this[r]!==i){this.remove(this.childOfName(a));var o=jA(a,e,t);this.add(o)}this[r]=i},this),this._updateCommonStl(e,t,a)},Ic._updateCommonStl=function(e,t,a){var i=e.hostModel,r=this.childOfName("line"),o=a&&a.lineStyle,l=a&&a.hoverLineStyle,n=a&&a.labelModel,$=a&&a.hoverLabelModel;if(!a||e.hasItemOption){var s=e.getItemModel(t);o=s.getModel("lineStyle").getLineStyle(),l=s.getModel("emphasis.lineStyle").getLineStyle(),n=s.getModel("label"),$=s.getModel("emphasis.label")}var c=e.getItemVisual(t,"color"),v=kc(e.getItemVisual(t,"opacity"),o.opacity,1);r.useStyle(E({strokeNoScale:!0,fill:"none",stroke:c,opacity:v},o)),r.hoverStyle=l,k(mp,function(e){var t=this.childOfName(e);t&&(t.setColor(c),t.setStyle({opacity:v}))},this);var d,h,p=n.getShallow("show"),T=$.getShallow("show"),m=this.childOfName("label");if((p||T)&&(d=c||"#000",null==(h=i.getFormattedLabel(t,"normal",e.dataType)))){var u=i.getRawValue(t);h=null==u?e.getName(t):isFinite(u)?a_(u):u}var K=p?h:null,W=T?Fa(i.getFormattedLabel(t,"emphasis",e.dataType),h):null,g=m.style;if(null!=K||null!=W){R(m.style,n,{text:K},{autoColor:d}),m.__textAlign=g.textAlign,m.__verticalAlign=g.textVerticalAlign,m.__position=n.get("position")||"middle";var f=n.get("distance");J(f)||(f=[f,f]),m.__labelDistance=f}m.hoverStyle=null!=W?{text:W,textFill:$.getTextColor(!0),fontStyle:$.getShallow("fontStyle"),fontWeight:$.getShallow("fontWeight"),fontSize:$.getShallow("fontSize"),fontFamily:$.getShallow("fontFamily")}:{text:null},m.ignore=!p&&!T,V(this)},Ic.highlight=function(){this.trigger("emphasis")},Ic.downplay=function(){this.trigger("normal")},Ic.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},Ic.setLinePoints=function(e){var t=this.childOfName("line");np(t.shape,e),t.dirty()},n(op,q);var d_=op;lp=d_;var pp={};function kA(e){this._ctor=e||lp,this.group=new q}var xd=kA.prototype;function e_(e,r,a,t){if(qp(r.getItemLayout(a))){var o=new e._ctor(r,a,t);r.setItemGraphicEl(a,o),e.group.add(o)}}function f_(e,r,a,t,o,$){var i=r.getItemGraphicEl(t);qp(a.getItemLayout(o))?(i?i.updateData(a,o,$):i=new e._ctor(a,o,$),a.setItemGraphicEl(o,i),e.group.add(i)):e.group.remove(i)}function g_(e){return e.animators&&e.animators.length>0}function lA(e){var r=e.hostModel;return{lineStyle:r.getModel("lineStyle").getLineStyle(),hoverLineStyle:r.getModel("emphasis.lineStyle").getLineStyle(),labelModel:r.getModel("label"),hoverLabelModel:r.getModel("emphasis.label")}}function mA(e){return isNaN(e[0])||isNaN(e[1])}function qp(e){return!mA(e[0])&&!mA(e[1])}xd.isPersistent=function(){return!0},xd.updateData=function(e){var r=this,a=r.group,t=r._lineData;r._lineData=e,t||a.removeAll();var o=lA(e);e.diff(t).add(function(a){e_(r,e,a,o)}).update(function(a,$){f_(r,t,e,$,a,o)}).remove(function(e){a.remove(t.getItemGraphicEl(e))}).execute()},xd.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(r,a){r.updateLayout(e,a)},this)},xd.incrementalPrepareUpdate=function(e){this._seriesScope=lA(e),this._lineData=null,this.group.removeAll()},xd.incrementalUpdate=function(e,r){function a(e){e.isGroup||g_(e)||(e.incremental=e.useHoverLayer=!0)}for(var t=e.start;t<e.end;t++){if(qp(r.getItemLayout(t))){var o=new this._ctor(r,t,this._seriesScope);o.traverse(a),this.group.add(o),r.setItemGraphicEl(t,o)}}},xd.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},xd._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var h_=kA;pp=h_;function i_(e){var r=e.coordinateSystem;if("view"!==r.type)return 1;var o=e.option.nodeScaleRatio,t=r.scale,$=t&&t[0]||1;return((r.getZoom()-1)*o+1)/$}function j_(e){var r=e.getVisual("symbolSize");return r instanceof Array&&(r=(r[0]+r[1])/2),+r}var nA=i_;var oA=j_;var rp={},Mj=oA,sp=[],tp=[],up=[],We=$c,vp=Ok,pA=Math.abs;function qA($,r,a){for(var v,e=$[0],D=$[1],H=$[2],w=1/0,c=a*a,i=.1,o=.1;o<=.9;o+=.1){sp[0]=We(e[0],D[0],H[0],o),sp[1]=We(e[1],D[1],H[1],o),(u=pA(vp(sp,r)-c))<w&&(w=u,v=o)}for(var t=0;t<32;t++){var l=v+i;tp[0]=We(e[0],D[0],H[0],v),tp[1]=We(e[1],D[1],H[1],v),up[0]=We(e[0],D[0],H[0],l),up[1]=We(e[1],D[1],H[1],l);var u=vp(tp,r)-c;if(pA(u)<.01)break;var n=vp(up,r)-c;i/=2,u<0?n>=0?v+=i:v-=i:n>=0?v-=i:v+=i}return v}function k_($,r){var a=[],v=Lt,e=[[],[],[]],D=[[],[]],H=[];r/=2,$.eachEdge(function($,w){var c=$.getLayout(),i=$.getVisual("fromSymbol"),o=$.getVisual("toSymbol");c.__original||(c.__original=[eb(c[0]),eb(c[1])],c[2]&&c.__original.push(eb(c[2])));var t=c.__original;if(null!=c[2]){if(_(e[0],t[0]),_(e[1],t[2]),_(e[2],t[1]),i&&"none"!==i){var l=Mj($.node1),u=qA(e,t[0],l*r);v(e[0][0],e[1][0],e[2][0],u,a),e[0][0]=a[3],e[1][0]=a[4],v(e[0][1],e[1][1],e[2][1],u,a),e[0][1]=a[3],e[1][1]=a[4]}if(o&&"none"!==o){l=Mj($.node2),u=qA(e,t[1],l*r);v(e[0][0],e[1][0],e[2][0],u,a),e[1][0]=a[1],e[2][0]=a[2],v(e[0][1],e[1][1],e[2][1],u,a),e[1][1]=a[1],e[2][1]=a[2]}_(c[0],e[0]),_(c[1],e[2]),_(c[2],e[1])}else{if(_(D[0],t[0]),_(D[1],t[1]),Pb(H,D[1],D[0]),Vd(H,H),i&&"none"!==i){l=Mj($.node1);xf(D[0],D[0],H,l*r)}if(o&&"none"!==o){l=Mj($.node2);xf(D[1],D[1],H,-l*r)}_(c[0],D[0]),_(c[1],D[1])}})}rp=k_;var l_=zj,Nj=nA,Xe="__focusNodeAdjacency",Ye="__unfocusNodeAdjacency",yd=["itemStyle","opacity"],Oj=["lineStyle","opacity"];function rA(e,a){var t=e.getVisual("opacity");return null!=t?t:e.getModel().get(a)}function Pj(e,a,t){var r=e.getGraphicEl(),o=rA(e,a);null!=t&&(null==o&&(o=1),o*=t),r.downplay&&r.downplay(),r.traverse(function(e){if(!e.isGroup){var a=e.lineLabelOriginalOpacity;null!=a&&null==t||(a=o),e.setStyle("opacity",a)}})}function zd(e,a){var t=rA(e,a),r=e.getGraphicEl();r.traverse(function(e){!e.isGroup&&e.setStyle("opacity",t)}),r.highlight&&r.highlight()}var qka=Ca({type:"graph",init:function(e,a){var t=new pg,r=new pp,o=this.group;this._controller=new wg(a.getZr()),this._controllerHost={target:o},o.add(t.group),o.add(r.group),this._symbolDraw=t,this._lineDraw=r,this._firstRender=!0},render:function(e,a,t){var r=this,o=e.coordinateSystem;this._model=e;var i=this._symbolDraw,$=this._lineDraw,n=this.group;if("view"===o.type){var s={position:o.position,scale:o.scale};this._firstRender?n.attr(s):A(n,s,e)}rp(e.getGraph(),Nj(e));var c=e.getData();i.updateData(c);var l=e.getEdgeData();$.updateData(l),this._updateNodeAndLinkScale(),this._updateController(e,a,t),clearTimeout(this._layoutTimeout);var d=e.forceLayout,u=e.get("force.layoutAnimation");d&&this._startForceLayoutIteration(d,u),c.eachItemGraphicEl(function(a,o){var i=c.getItemModel(o);a.off("drag").off("dragend");var $=i.get("draggable");$&&a.on("drag",function(){d&&(d.warmUp(),!this._layouting&&this._startForceLayoutIteration(d,u),d.setFixed(o),c.setItemLayout(o,a.position))},this).on("dragend",function(){d&&d.setUnfixed(o)},this),a.setDraggable($&&d),a[Xe]&&a.off("mouseover",a[Xe]),a[Ye]&&a.off("mouseout",a[Ye]),i.get("focusNodeAdjacency")&&(a.on("mouseover",a[Xe]=function(){r._clearTimer(),t.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:a.dataIndex})}),a.on("mouseout",a[Ye]=function(){r._dispatchUnfocus(t)}))},this),c.graph.eachEdge(function(a){var o=a.getGraphicEl();o[Xe]&&o.off("mouseover",o[Xe]),o[Ye]&&o.off("mouseout",o[Ye]),a.getModel().get("focusNodeAdjacency")&&(o.on("mouseover",o[Xe]=function(){r._clearTimer(),t.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:a.dataIndex})}),o.on("mouseout",o[Ye]=function(){r._dispatchUnfocus(t)}))});var p="circular"===e.get("layout")&&e.get("circular.rotateLabel"),h=c.getLayout("cx"),v=c.getLayout("cy");c.eachItemGraphicEl(function(e,a){var t=c.getItemModel(a).get("label.rotate")||0,r=e.getSymbolPath();if(p){var o=c.getItemLayout(a),i=Math.atan2(o[1]-v,o[0]-h);i<0&&(i=2*Math.PI+i);var $=o[0]<h;$&&(i-=Math.PI);var n=$?"left":"right";Jm(r,{textRotation:-i,textPosition:n,textOrigin:"center"},{textPosition:n})}else Jm(r,{textRotation:t*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(e,a){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,a,t,r){var o=e.getData().graph,i=r.dataIndex,$=r.edgeDataIndex,n=o.getNodeByIndex(i),s=o.getEdgeByIndex($);(n||s)&&(o.eachNode(function(e){Pj(e,yd,.1)}),o.eachEdge(function(e){Pj(e,Oj,.1)}),n&&(zd(n,yd),k(n.edges,function(e){e.dataIndex<0||(zd(e,Oj),zd(e.node1,yd),zd(e.node2,yd))})),s&&(zd(s,Oj),zd(s.node1,yd),zd(s.node2,yd)))},unfocusNodeAdjacency:function(e,a,t,r){var o=e.getData().graph;o.eachNode(function(e){Pj(e,yd)}),o.eachEdge(function(e){Pj(e,Oj)})},_startForceLayoutIteration:function(e,a){var t=this;!function r(){e.step(function(e){t.updateLayout(t._model),(t._layouting=!e)&&(a?t._layoutTimeout=setTimeout(r,16):r())})}()},_updateController:function(e,a,t){var r=this._controller,o=this._controllerHost,i=this.group;r.setPointerChecker(function(a,r,o){var $=i.getBoundingRect();return $.applyTransform(i.transform),$.contain(r,o)&&!l_(a,t,e)}),"view"===e.coordinateSystem.type?(r.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(a){Jo(o,a.dx,a.dy),t.dispatchAction({seriesId:e.id,type:"graphRoam",dx:a.dx,dy:a.dy})}).on("zoom",function(a){Ko(o,a.scale,a.originX,a.originY),t.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:a.scale,originX:a.originX,originY:a.originY}),this._updateNodeAndLinkScale(),rp(e.getGraph(),Nj(e)),this._lineDraw.updateLayout()},this)):r.disable()},_updateNodeAndLinkScale:function(){var e=this._model,a=e.getData(),t=Nj(e),r=[t,t];a.eachItemGraphicEl(function(e,a){e.attr("scale",r)})},updateLayout:function(e){rp(e.getGraph(),Nj(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,a){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});var m_=No;d({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),d({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});var n_={type:"graphRoam",event:"graphRoam",update:"none"};d(n_,function(e,r){r.eachComponent({mainType:"series",query:e},function(r){var a=r.coordinateSystem,o=m_(a,e);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})});function o_(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),r=e.getGraph().data,n=a.mapArray(a.getName);r.filterSelf(function(e){var a=r.getItemModel(e).getShallow("category");if(null!=a){"number"==typeof a&&(a=n[a]);for(var f=0;f<t.length;f++)if(!t[f].isSelected(a))return!1}return!0})},this)}M$=o_;var p_={};function q_(e){var t={};e.eachSeriesByType("graph",function(e){var l=e.getCategoriesData(),a=e.getData(),o={};l.each(function(a){var r=l.getName(a);o["ec-"+r]=a;var s=l.getItemModel(a),m=s.get("itemStyle.color")||e.getColorFromPalette(r,t);l.setItemVisual(a,"color",m);for(var c=["opacity","symbol","symbolSize","symbolKeepAspect"],i=0;i<c.length;i++){var g=s.getShallow(c[i],!0);null!=g&&l.setItemVisual(a,c[i],g)}}),l.count()&&a.each(function(e){var t=a.getItemModel(e).getShallow("category");if(null!=t){"string"==typeof t&&(t=o["ec-"+t]);for(var r=["color","opacity","symbol","symbolSize","symbolKeepAspect"],s=0;s<r.length;s++)null==a.getItemVisual(e,r[s],!0)&&a.setItemVisual(e,r[s],l.getItemVisual(t,r[s]))}})})}p_=q_;var r_={};function Qj(e){return e instanceof Array||(e=[e,e]),e}function s_(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),o=e.getEdgeData(),l=Qj(e.get("edgeSymbol")),a=Qj(e.get("edgeSymbolSize")),i="lineStyle.color".split("."),s="lineStyle.opacity".split(".");o.setVisual("fromSymbol",l&&l[0]),o.setVisual("toSymbol",l&&l[1]),o.setVisual("fromSymbolSize",a&&a[0]),o.setVisual("toSymbolSize",a&&a[1]),o.setVisual("color",e.get(i)),o.setVisual("opacity",e.get(s)),o.each(function(e){var l=o.getItemModel(e),a=t.getEdgeByIndex(e),r=Qj(l.getShallow("symbol",!0)),$=Qj(l.getShallow("symbolSize",!0)),m=l.get(i),u=l.get(s);switch(m){case"source":m=a.node1.getVisual("color");break;case"target":m=a.node2.getVisual("color");}r[0]&&a.setVisual("fromSymbol",r[0]),r[1]&&a.setVisual("toSymbol",r[1]),$[0]&&a.setVisual("fromSymbolSize",$[0]),$[1]&&a.setVisual("toSymbolSize",$[1]),a.setVisual("color",m),a.setVisual("opacity",u)})})}r_=s_;var t_=ip;function u_(e){var $=e.coordinateSystem;if(!$||"view"===$.type){var r=e.getGraph();r.eachNode(function(e){var $=e.getModel();e.setLayout([+$.get("x"),+$.get("y")])}),sA(r,e)}}function sA(e,$){e.eachEdge(function(e,r){var t=kc(e.getModel().get("lineStyle.curveness"),-t_(e,$,r,!0),0),a=eb(e.node1.getLayout()),o=eb(e.node2.getLayout()),l=[a,o];+t&&l.push([(a[0]+o[0])/2-(a[1]-o[1])*t,(a[1]+o[1])/2-(o[0]-a[0])*t]),e.setLayout(l)})}var tA=u_;var v_=sA;var w_={},x_=k,y_=tA,z_=v_;function A_(e,a){e.eachSeriesByType("graph",function(e){var a=e.get("layout"),$=e.coordinateSystem;if($&&"view"!==$.type){var r=e.getData(),N=[];x_($.dimensions,function(e){N=N.concat(r.mapDimension(e,!0))});for(var t=0;t<r.count();t++){for(var o=[],i=!1,l=0;l<N.length;l++){var u=r.get(N[l],t);isNaN(u)||(i=!0),o.push(u)}i?r.setItemLayout(t,$.dataToPoint(o)):r.setItemLayout(t,[NaN,NaN])}z_(r.graph,e)}else a&&"none"!==a||y_(e)})}w_=A_;var B_=oA,C_=nA,D_=ip,uA=Math.PI,wp=[];function E_(e,a){var r=e.coordinateSystem;if(!r||"view"===r.type){var $=r.getBoundingRect(),c=e.getData(),t=c.graph,l=$.width/2+$.x,o=$.height/2+$.y,v=Math.min($.width,$.height)/2,i=c.count();c.setLayout({cx:l,cy:o}),i&&(F_[a](e,r,t,c,v,l,o,i),t.eachEdge(function(a,r){var $,c=kc(a.getModel().get("lineStyle.curveness"),D_(a,e,r),0),t=eb(a.node1.getLayout()),v=eb(a.node2.getLayout()),i=(t[0]+v[0])/2,L=(t[1]+v[1])/2;+c&&($=[l*(c*=3)+i*(1-c),o*c+L*(1-c)]),a.setLayout([t,v,$])}))}}var F_={value:function(e,a,r,$,c,t,l,o){var v=0,i=$.getSum("value"),L=2*Math.PI/(i||o);r.eachNode(function(e){var a=e.getValue("value"),r=L*(i?a:1)/2;v+=r,e.setLayout([c*Math.cos(v)+t,c*Math.sin(v)+l]),v+=r})},symbolSize:function(e,a,r,$,c,t,l,o){var v=0;wp.length=o;var i=C_(e);r.eachNode(function(e){var a=B_(e);isNaN(a)&&(a=2),a<0&&(a=0),a*=i;var r=Math.asin(a/2/c);isNaN(r)&&(r=uA/2),wp[e.dataIndex]=r,v+=2*r});var L=(2*uA-v)/o/2,u=0;r.eachNode(function(e){var a=L+wp[e.dataIndex];u+=a,e.setLayout([c*Math.cos(u)+t,c*Math.sin(u)+l]),u+=a})}},vA=E_;var G_={},H_=vA;function I_(r){r.eachSeriesByType("graph",function(r){"circular"===r.get("layout")&&H_(r,"symbolSize")})}G_=I_;var Ze=xf;function J_($,r,e){for(var a=e.rect,v=a.width,d=a.height,p=[a.x+v/2,a.y+d/2],c=null==e.gravity?.1:e.gravity,n=0;n<$.length;n++){var o=$[n];o.p||(o.p=Ud(v*(Math.random()-.5)+p[0],d*(Math.random()-.5)+p[1])),o.pp=eb(o.p),o.edges=null}var t=null==e.friction?.6:e.friction,b=t;return{warmUp:function(){b=.8*t},setFixed:function(r){$[r].fixed=!0},setUnfixed:function(r){$[r].fixed=!1},step:function(e){for(var a=[],v=$.length,d=0;d<r.length;d++){var n=r[d];if(!n.ignoreForceLayout){var o=n.n1,t=n.n2;Pb(a,t.p,o.p);var i=Mk(a)-n.d,f=t.w/(o.w+t.w);isNaN(f)&&(f=0),Vd(a,a),!o.fixed&&Ze(o.p,o.p,a,f*i*b),!t.fixed&&Ze(t.p,t.p,a,-(1-f)*i*b)}}for(d=0;d<v;d++){(u=$[d]).fixed||(Pb(a,p,u.p),Ze(u.p,u.p,a,c*b))}for(d=0;d<v;d++){o=$[d];for(var R=d+1;R<v;R++){t=$[R];Pb(a,t.p,o.p),0===(i=Mk(a))&&(Ur(a,Math.random()-.5,Math.random()-.5),i=1);var l=(o.rep+t.rep)/i/i;!o.fixed&&Ze(o.pp,o.pp,a,l),!t.fixed&&Ze(t.pp,t.pp,a,-l)}}var s=[];for(d=0;d<v;d++){var u;(u=$[d]).fixed||(Pb(s,u.p,u.pp),Ze(u.p,u.p,s,b),_(u.pp,u.p))}b*=.992,e&&e($,r,b<.01)}}}var K_=J_;var L_={},M_=K_,N_=tA,O_=vA,wA=ra,P_=ip;function Q_(e){e.eachSeriesByType("graph",function(e){if(!(v=e.coordinateSystem)||"view"===v.type)if("force"===e.get("layout")){var r=e.preservedPoints||{},a=e.getGraph(),t=a.data,$=a.edgeData,s=e.getModel("force"),o=s.get("initLayout");e.preservedPoints?t.each(function(e){var a=t.getId(e);t.setItemLayout(e,r[a]||[NaN,NaN])}):o&&"none"!==o?"circular"===o&&O_(e,"value"):N_(e);var u=t.getDataExtent("value"),i=$.getDataExtent("value"),l=s.get("repulsion"),n=s.get("edgeLength");J(l)||(l=[l,l]),J(n)||(n=[n,n]),n=[n[1],n[0]];var v,c=t.mapArray("value",function(e,r){var a=t.getItemLayout(r),$=wA(e,u,l);return isNaN($)&&($=(l[0]+l[1])/2),{w:$,rep:$,fixed:t.getItemModel(r).get("fixed"),p:!a||isNaN(a[0])||isNaN(a[1])?null:a}}),p=$.mapArray("value",function(r,t){var $=a.getEdgeByIndex(t),s=wA(r,i,n);isNaN(s)&&(s=(n[0]+n[1])/2);var o=$.getModel(),u=kc(o.get("lineStyle.curveness"),-P_($,e,t,!0),0);return{n1:c[$.node1.dataIndex],n2:c[$.node2.dataIndex],d:s,curveness:u,ignoreForceLayout:o.get("ignoreForceLayout")}}),g=(v=e.coordinateSystem).getBoundingRect(),y=M_(c,p,{rect:g,gravity:s.get("gravity"),friction:s.get("friction")}),d=y.step;y.step=function(e){for(var $=0,s=c.length;$<s;$++)c[$].fixed&&_(c[$].p,a.getNodeByIndex($).getLayout());d(function($,s,o){for(var u=0,i=$.length;u<i;u++)$[u].fixed||a.getNodeByIndex(u).setLayout($[u].p),r[t.getId(u)]=$[u].p;for(u=0,i=s.length;u<i;u++){var l=s[u],n=a.getEdgeByIndex(u),v=l.n1.p,c=l.n2.p,p=n.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],_(p[0],v),_(p[1],c),+l.curveness&&(p[2]=[(v[0]+c[0])/2-(v[1]-c[1])*l.curveness,(v[1]+c[1])/2-(c[0]-v[0])*l.curveness]),n.setLayout(p)}e&&e(o)})},e.forceLayout=y,e.preservedPoints=r,y.step()}else e.forceLayout=null})}L_=Q_;var R_={},S_=T;function T_(e,t,r){var $=e.getBoxLayoutParams();return $.aspect=r,S_($,{width:t.getWidth(),height:t.getHeight()})}function U_(e,t){var r=[];return e.eachSeriesByType("graph",function(e){var $=e.get("coordinateSystem");if(!$||"view"===$){var a=e.getData(),i=a.mapArray(function(e){var t=a.getItemModel(e);return[+t.get("x"),+t.get("y")]}),o=[],w=[];Th(i,o,w),w[0]-o[0]==0&&(w[0]+=1,o[0]-=1),w[1]-o[1]==0&&(w[1]+=1,o[1]-=1);var f=(w[0]-o[0])/(w[1]-o[1]),c=T_(e,t,f);isNaN(f)&&(o=[c.x,c.y],w=[c.x+c.width,c.y+c.height]);var g=w[0]-o[0],u=w[1]-o[1],v=c.width,n=c.height,I=e.coordinateSystem=new xg;I.zoomLimit=e.get("scaleLimit"),I.setBoundingRect(o[0],o[1],g,u),I.setViewRect(c.x,c.y,v,n),I.setCenter(e.get("center")),I.setZoom(e.get("zoom")),r.push(I)}}),r}R_=U_;ab(M$),s(qd("graph","circle",null)),s(p_),s(r_),u(w_),u(Jb.VISUAL.POST_CHART_LAYOUT,G_),u(L_),go("graphView",{create:R_});var rka=Q.extend({type:"series.gauge",getInitialData:function(e,t){return Re(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var V_={},W_=g.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,a){var h=Math.cos,r=Math.sin,t=a.r,$=a.width,n=a.angle,l=a.x-h(n)*$*($>=t/3?1:2),i=a.y-r(n)*$*($>=t/3?1:2);n=a.angle-Math.PI/2,e.moveTo(l,i),e.lineTo(a.x+h(n)*$,a.y+r(n)*$),e.lineTo(a.x+h(a.angle)*t,a.y+r(a.angle)*t),e.lineTo(a.x-h(n)*$,a.y-r(n)*$),e.lineTo(l,i)}});V_=W_;var Oa=D,X_=ha,Mg=ra;function Y_(e,t){var r=e.get("center"),a=t.getWidth(),i=t.getHeight(),$=Math.min(a,i);return{cx:Oa(r[0],t.getWidth()),cy:Oa(r[1],t.getHeight()),r:Oa(e.get("radius"),$/2)}}function xA(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var Z_=2*Math.PI,ska=Ba.extend({type:"gauge",render:function(e,t,r){this.group.removeAll();var a=e.get("axisLine.lineStyle.color"),i=Y_(e,r);this._renderMain(e,t,r,a,i)},dispose:function(){},_renderMain:function(e,t,r,a,i){for(var $=this.group,n=e.getModel("axisLine"),l=n.getModel("lineStyle"),g=e.get("clockwise"),o=-e.get("startAngle")/180*Math.PI,s=((d=-e.get("endAngle")/180*Math.PI)-o)%Z_,c=o,v=l.get("width"),h=n.get("show"),p=0;h&&p<a.length;p++){var d=o+s*Math.min(Math.max(a[p][0],0),1),T=new mb({shape:{startAngle:c,endAngle:d,cx:i.cx,cy:i.cy,clockwise:g,r0:i.r-v,r:i.r},silent:!0});T.setStyle({fill:a[p][1]}),T.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),$.add(T),c=d}var u=function(e){if(e<=0)return a[0][1];for(var t=0;t<a.length;t++)if(a[t][0]>=e&&(0===t?0:a[t-1][0])<e)return a[t][1];return a[t-1][1]};if(!g){var Q=o;o=d,d=Q}this._renderTicks(e,t,r,u,i,o,d,g),this._renderPointer(e,t,r,u,i,o,d,g),this._renderTitle(e,t,r,u,i),this._renderDetail(e,t,r,u,i)},_renderTicks:function(e,t,r,a,i,$,n,l){for(var g=this.group,o=i.cx,s=i.cy,c=i.r,v=+e.get("min"),h=+e.get("max"),p=e.getModel("splitLine"),d=e.getModel("axisTick"),T=e.getModel("axisLabel"),u=e.get("splitNumber"),Q=d.get("splitNumber"),f=Oa(p.get("length"),c),m=Oa(d.get("length"),c),x=$,y=(n-$)/u,M=y/Q,P=p.getModel("lineStyle").getLineStyle(),w=d.getModel("lineStyle").getLineStyle(),S=0;S<=u;S++){var _=Math.cos(x),b=Math.sin(x);if(p.get("show")){var I=new ca({shape:{x1:_*c+o,y1:b*c+s,x2:_*(c-f)+o,y2:b*(c-f)+s},style:P,silent:!0});"auto"===P.stroke&&I.setStyle({stroke:a(S/u)}),g.add(I)}if(T.get("show")){var L=xA(X_(S/u*(h-v)+v),T.get("formatter")),A=T.get("distance"),k=a(S/u);g.add(new K({style:R({},T,{text:L,x:_*(c-f-A)+o,y:b*(c-f-A)+s,textVerticalAlign:b<-.4?"top":b>.4?"bottom":"middle",textAlign:_<-.4?"left":_>.4?"right":"center"},{autoColor:k}),silent:!0}))}if(d.get("show")&&S!==u){for(var C=0;C<=Q;C++){_=Math.cos(x),b=Math.sin(x);var D=new ca({shape:{x1:_*c+o,y1:b*c+s,x2:_*(c-m)+o,y2:b*(c-m)+s},silent:!0,style:w});"auto"===w.stroke&&D.setStyle({stroke:a((S+C/Q)/u)}),g.add(D),x+=M}x-=M}else x+=y}},_renderPointer:function(e,t,r,a,i,$,n,l){var g=this.group,o=this._data;if(e.get("pointer.show")){var s=[+e.get("min"),+e.get("max")],c=[$,n],v=e.getData(),h=v.mapDimension("value");v.diff(o).add(function(t){var r=new V_({shape:{angle:$}});ga(r,{shape:{angle:Mg(v.get(h,t),s,c,!0)}},e),g.add(r),v.setItemGraphicEl(t,r)}).update(function(t,r){var a=o.getItemGraphicEl(r);A(a,{shape:{angle:Mg(v.get(h,t),s,c,!0)}},e),g.add(a),v.setItemGraphicEl(t,a)}).remove(function(e){var t=o.getItemGraphicEl(e);g.remove(t)}).execute(),v.eachItemGraphicEl(function(e,t){var r=v.getItemModel(t),$=r.getModel("pointer");e.setShape({x:i.cx,y:i.cy,width:Oa($.get("width"),i.r),r:Oa($.get("length"),i.r)}),e.useStyle(r.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",a(Mg(v.get(h,t),s,[0,1],!0))),V(e,r.getModel("emphasis.itemStyle").getItemStyle())}),this._data=v}else o&&o.eachItemGraphicEl(function(e){g.remove(e)})},_renderTitle:function(e,t,r,a,i){var $=e.getData(),n=$.mapDimension("value"),l=e.getModel("title");if(l.get("show")){var g=l.get("offsetCenter"),o=i.cx+Oa(g[0],i.r),s=i.cy+Oa(g[1],i.r),c=+e.get("min"),v=+e.get("max"),h=e.getData().get(n,0),p=a(Mg(h,[c,v],[0,1],!0));this.group.add(new K({silent:!0,style:R({},l,{x:o,y:s,text:$.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(e,t,r,a,i){var $=e.getModel("detail"),n=+e.get("min"),l=+e.get("max");if($.get("show")){var g=$.get("offsetCenter"),o=i.cx+Oa(g[0],i.r),s=i.cy+Oa(g[1],i.r),c=Oa($.get("width"),i.r),v=Oa($.get("height"),i.r),h=e.getData(),p=h.get(h.mapDimension("value"),0),d=a(Mg(p,[n,l],[0,1],!0));this.group.add(new K({silent:!0,style:R({},$,{x:o,y:s,text:xA(p,$.get("formatter")),textWidth:isNaN(c)?null:c,textHeight:isNaN(v)?null:v,textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}}});var $_={},$e=D,yA=ra;var __=Yc,aaa=an,zA=hj({type:"series.funnel",init:function(e){zA.superApply(this,"init",arguments),this.legendVisualProvider=new sg(m(this.getData,this),m(this.getRawData,this)),this._defaultLabelLine(e)},getInitialData:function(e,a){return Re(this,{coordDimensions:["value"],encodeDefaulter:w(aaa,this)})},_defaultLabelLine:function(e){__(e,"labelLine",["show"]);var a=e.labelLine,r=e.emphasis.labelLine;a.show=a.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},getDataParams:function(e){var a=this.getData(),r=zA.superCall(this,"getDataParams",e),i=a.mapDimension("value"),n=a.getSum(i);return r.percent=n?+(a.get(i,e)/n*100).toFixed(2):0,r.$vars.push("percent"),r},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}});function xp(e,t){q.call(this);var a=new ya,r=new Ua,i=new K;this.add(a),this.add(r),this.add(i),this.highDownOnUpdate=function(e,t){"emphasis"===t?(r.ignore=r.hoverIgnore,i.ignore=i.hoverIgnore):(r.ignore=r.normalIgnore,i.ignore=i.normalIgnore)},this.updateData(e,t,!0)}var AA=xp.prototype,baa=["itemStyle","opacity"];AA.updateData=function(e,t,a){var r=this.childAt(0),i=e.hostModel,l=e.getItemModel(t),o=e.getItemLayout(t),n=e.getItemModel(t).get(baa);n=null==n?1:n,r.useStyle({}),a?(r.setShape({points:o.points}),r.setStyle({opacity:0}),ga(r,{style:{opacity:n}},i,t)):A(r,{style:{opacity:n},shape:{points:o.points}},i,t);var $=l.getModel("itemStyle"),u=e.getItemVisual(t,"color");r.setStyle(E({lineJoin:"round",fill:u},$.getItemStyle(["opacity"]))),r.hoverStyle=$.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),V(this)},AA._updateLabel=function(e,t){var a=this.childAt(1),r=this.childAt(2),i=e.hostModel,l=e.getItemModel(t),o=e.getItemLayout(t).label,n=e.getItemVisual(t,"color");A(a,{shape:{points:o.linePoints||o.linePoints}},i,t),A(r,{style:{x:o.x,y:o.y}},i,t),r.attr({rotation:o.rotation,origin:[o.x,o.y],z2:10});var $=l.getModel("label"),u=l.getModel("emphasis.label"),s=l.getModel("labelLine"),h=l.getModel("emphasis.labelLine");n=e.getItemVisual(t,"color");Ia(r.style,r.hoverStyle={},$,u,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:n,useInsideStyle:!!o.inside},{textAlign:o.textAlign,textVerticalAlign:o.verticalAlign}),r.ignore=r.normalIgnore=!$.get("show"),r.hoverIgnore=!u.get("show"),a.ignore=a.normalIgnore=!s.get("show"),a.hoverIgnore=!h.get("show"),a.setStyle({stroke:n}),a.setStyle(s.getModel("lineStyle").getLineStyle()),a.hoverStyle=h.getModel("lineStyle").getLineStyle()},n(xp,q);var tka=Ba.extend({type:"funnel",render:function(e,t,a){var r=e.getData(),i=this._data,l=this.group;r.diff(i).add(function(e){var t=new xp(r,e);r.setItemGraphicEl(e,t),l.add(t)}).update(function(e,t){var a=i.getItemGraphicEl(t);a.updateData(r,e),l.add(a),r.setItemGraphicEl(e,a)}).remove(function(e){var t=i.getItemGraphicEl(e);l.remove(t)}).execute(),this._data=r},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});function caa(e,t){return T(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function daa(e,t){for(var r=e.mapDimension("value"),o=e.mapArray(r,function(e){return e}),n=[],a="ascending"===t,i=0,l=e.count();i<l;i++)n[i]=i;return"function"==typeof t?n.sort(t):"none"!==t&&n.sort(function(e,t){return a?o[e]-o[t]:o[t]-o[e]}),n}function eaa(e){e.each(function(t){var r,o,n,a,i=e.getItemModel(t),l=i.getModel("label").get("position"),$=i.get("orient"),c=i.getModel("labelLine"),g=e.getItemLayout(t),s=g.points,u="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(u)"insideLeft"===l?(o=(s[0][0]+s[3][0])/2+5,n=(s[0][1]+s[3][1])/2,r="left"):"insideRight"===l?(o=(s[1][0]+s[2][0])/2-5,n=(s[1][1]+s[2][1])/2,r="right"):(o=(s[0][0]+s[1][0]+s[2][0]+s[3][0])/4,n=(s[0][1]+s[1][1]+s[2][1]+s[3][1])/4,r="center"),a=[[o,n],[o,n]];else{var h,v,D,f,p=c.get("length");"left"===l?(h=(s[3][0]+s[0][0])/2,v=(s[3][1]+s[0][1])/2,o=(D=h-p)-5,r="right"):"right"===l?(h=(s[1][0]+s[2][0])/2,v=(s[1][1]+s[2][1])/2,o=(D=h+p)+5,r="left"):"top"===l?(h=(s[3][0]+s[0][0])/2,n=(f=(v=(s[3][1]+s[0][1])/2)-p)-5,r="center"):"bottom"===l?(h=(s[1][0]+s[2][0])/2,n=(f=(v=(s[1][1]+s[2][1])/2)+p)+5,r="center"):"rightTop"===l?(h="horizontal"===$?s[3][0]:s[1][0],v="horizontal"===$?s[3][1]:s[1][1],"horizontal"===$?(n=(f=v-p)-5,r="center"):(o=(D=h+p)+5,r="top")):"rightBottom"===l?(h=s[2][0],v=s[2][1],"horizontal"===$?(n=(f=v+p)+5,r="center"):(o=(D=h+p)+5,r="bottom")):"leftTop"===l?(h=s[0][0],v="horizontal"===$?s[0][1]:s[1][1],"horizontal"===$?(n=(f=v-p)-5,r="center"):(o=(D=h-p)-5,r="right")):"leftBottom"===l?(h="horizontal"===$?s[1][0]:s[3][0],v="horizontal"===$?s[1][1]:s[2][1],"horizontal"===$?(n=(f=v+p)+5,r="center"):(o=(D=h-p)-5,r="right")):(h=(s[1][0]+s[2][0])/2,v=(s[1][1]+s[2][1])/2,"horizontal"===$?(n=(f=v+p)+5,r="center"):(o=(D=h+p)+5,r="left")),"horizontal"===$?o=D=h:n=f=v,a=[[h,v],[D,f]]}g.label={linePoints:a,x:o,y:n,verticalAlign:"middle",textAlign:r,inside:u}})}function faa(e,t,r){e.eachSeriesByType("funnel",function(e){var r=e.getData(),o=r.mapDimension("value"),n=e.get("sort"),a=caa(e,t),i=daa(r,n),l=e.get("orient"),$=a.width,c=a.height,g=a.x,s=a.y,u="horizontal"===l?[$e(e.get("minSize"),c),$e(e.get("maxSize"),c)]:[$e(e.get("minSize"),$),$e(e.get("maxSize"),$)],h=r.getDataExtent(o),v=e.get("min"),D=e.get("max");null==v&&(v=Math.min(h[0],0)),null==D&&(D=h[1]);var f=e.get("funnelAlign"),p=e.get("gap"),m=(("horizontal"===l?$:c)-p*(r.count()-1))/r.count(),d=function(e,t){if("horizontal"===l){var n,a=r.get(o,e)||0,i=yA(a,[v,D],u,!0);switch(f){case"top":n=s;break;case"center":n=s+(c-i)/2;break;case"bottom":n=s+(c-i);}return[[t,n],[t,n+i]]}a=r.get(o,e)||0;var h,p=yA(a,[v,D],u,!0);switch(f){case"left":h=g;break;case"center":h=g+($-p)/2;break;case"right":h=g+$-p;}return[[h,t],[h+p,t]]};"ascending"===n&&(m=-m,p=-p,"horizontal"===l?g+=$:s+=c,i=i.reverse());for(var z=0;z<i.length;z++){var y=i[z],b=i[z+1],_=r.getItemModel(y);if("horizontal"===l){var x=_.get("itemStyle.width");null==x?x=m:(x=$e(x,$),"ascending"===n&&(x=-x));var L=d(y,g),P=d(b,g+x);g+=x+p,r.setItemLayout(y,{points:L.concat(P.slice().reverse())})}else{var M=_.get("itemStyle.height");null==M?M=m:(M=$e(M,c),"ascending"===n&&(M=-M));L=d(y,"horizontal"===l?g:s),P=d(b,"horizontal"===l?g+x:s+M);s+=M+p,r.setItemLayout(y,{points:L.concat(P.slice().reverse())})}}eaa(r)})}$_=faa;s(vj("funnel")),u($_),ab(tg("funnel"));var gaa={},haa=["lineStyle","normal","opacity"],iaa={seriesType:"parallel",reset:function(e,t,a){var i=e.getModel("itemStyle"),l=e.getModel("lineStyle"),o=t.get("color"),r=l.get("color")||i.get("color")||o[e.seriesIndex%o.length],c=e.get("inactiveOpacity"),n=e.get("activeOpacity"),s=e.getModel("lineStyle").getLineStyle(),$=e.coordinateSystem,g=e.getData(),y={normal:s.opacity,active:n,inactive:c};return g.setVisual("color",r),{progress:function(e,t){$.eachActiveState(t,function(e,a){var i=y[e];if("normal"===e&&t.hasItemOption){var l=t.getItemModel(a).get(haa,!0);null!=l&&(i=l)}t.setItemVisual(a,"opacity",i)},e.start,e.end)}}}};var jaa={};function kaa(r){laa(r),maa(r)}function laa(r){if(!r.parallel){var l=!1;k(r.series,function(r){r&&"parallel"===r.type&&(l=!0)}),l&&(r.parallel=[{}])}}function maa(r){var l=pa(r.parallelAxis);k(l,function(l){if(y(l)){var a=l.parallelIndex||0,e=pa(r.parallel)[a];e&&e.parallelAxisDefault&&f(l,e.parallelAxisDefault,!1)}})}jaa=kaa;var naa={},Rj=function($,r,a,l,e){X.call(this,$,r,a),this.type=l||"value",this.axisIndex=e};Rj.prototype={constructor:Rj,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},n(Rj,X);var oaa=Rj;naa=oaa;var Ad={};function paa($,r,a,n,t,i){$=$||0;var s=a[1]-a[0];if(null!=t&&(t=_e(t,[0,s])),null!=i&&(i=Math.max(i,null!=t?t:0)),"all"===n){var v=Math.abs(r[1]-r[0]);v=_e(v,[0,s]),t=i=_e(v,[t,i]),n=0}r[0]=_e(r[0],a),r[1]=_e(r[1],a);var e=yp(r,n);r[n]+=$;var l=t||0,d=a.slice();e.sign<0?d[0]+=l:d[1]-=l,r[n]=_e(r[n],d);var u=yp(r,n);null!=t&&(u.sign!==e.sign||u.span<t)&&(r[1-n]=r[n]+e.sign*t);u=yp(r,n);return null!=i&&u.span>i&&(r[1-n]=r[n]+u.sign*i),r}function yp($,r){var a=$[r]-$[1-r];return{span:Math.abs(a),sign:a>0?-1:a<0?1:r?-1:1}}function _e($,r){return Math.min(null!=r[1]?r[1]:1/0,Math.max(null!=r[0]?r[0]:-1/0,$))}Ad=paa;var qaa={},zp=k,BA=Math.min,CA=Math.max,DA=Math.floor,raa=Math.ceil,EA=ha,saa=Math.PI;function Ap(a,t,i){this._axesMap=G(),this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,t,i)}function Sj(a,t){return BA(CA(a,t[0]),t[1])}function taa(a,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*a,axisNameAvailableWidth:i,axisLabelShow:!0}}function uaa(a,t){var i,e,s=t.layoutLength,r=t.axisExpandWidth,n=t.axisCount,o=t.axisCollapseWidth,$=t.winInnerIndices,l=o,x=!1;return a<$[0]?(i=a*o,e=o):a<=$[1]?(i=t.axisExpandWindow0Pos+a*r-t.axisExpandWindow[0],l=r,x=!0):(i=s-(n-1-a)*o,e=o),{position:i,axisNameAvailableWidth:l,axisLabelShow:x,nameTruncateMaxWidth:e}}Ap.prototype={type:"parallel",constructor:Ap,_init:function(a,t,i){var e=a.dimensions,s=a.parallelAxisIndex;zp(e,function(a,i){var e=s[i],r=t.getComponent("parallelAxis",e),n=this._axesMap.set(a,new naa(a,Ie(r),[0,0],r.get("type"),e)),o="category"===n.type;n.onBand=o&&r.get("boundaryGap"),n.inverse=r.get("inverse"),r.axis=n,n.model=r,n.coordinateSystem=r.coordinateSystem=this},this)},update:function(a,t){this._updateAxesFromSeries(this._model,a)},containPoint:function(a){var t=this._makeLayoutInfo(),i=t.axisBase,e=t.layoutBase,s=t.pixelDimIndex,r=a[1-s],n=a[s];return r>=i&&r<=i+t.axisLength&&n>=e&&n<=e+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(a,t){t.eachSeries(function(i){if(a.contains(i,t)){var e=i.getData();zp(this.dimensions,function(a){var t=this._axesMap.get(a);t.scale.unionExtentFromData(e,e.mapDimension(a)),He(t.scale,t.model)},this)}},this)},resize:function(a,t){this._rect=T(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var a,t=this._model,i=this._rect,e=["x","y"],s=["width","height"],r=t.get("layout"),n="horizontal"===r?0:1,o=i[s[n]],$=[0,o],l=this.dimensions.length,x=Sj(t.get("axisExpandWidth"),$),h=Sj(t.get("axisExpandCount")||0,[0,l]),u=t.get("axisExpandable")&&l>3&&l>h&&h>1&&x>0&&o>0,d=t.get("axisExpandWindow");d?(a=Sj(d[1]-d[0],$),d[1]=d[0]+a):(a=Sj(x*(h-1),$),(d=[x*(t.get("axisExpandCenter")||DA(l/2))-a/2])[1]=d[0]+a);var v=(o-a)/(l-h);v<3&&(v=0);var c=[DA(EA(d[0]/x,1))+1,raa(EA(d[1]/x,1))-1],p=v/x*d[0];return{layout:r,pixelDimIndex:n,layoutBase:i[e[n]],layoutLength:o,axisBase:i[e[1-n]],axisLength:i[s[1-n]],axisExpandable:u,axisExpandWidth:x,axisCollapseWidth:v,axisExpandWindow:d,axisCount:l,winInnerIndices:c,axisExpandWindow0Pos:p}},_layoutAxes:function(){var a=this._rect,t=this._axesMap,i=this.dimensions,e=this._makeLayoutInfo(),s=e.layout;t.each(function(a){var t=[0,e.axisLength],i=a.inverse?1:0;a.setExtent(t[i],t[1-i])}),zp(i,function(t,i){var r=(e.axisExpandable?uaa:taa)(i,e),n={horizontal:{x:r.position,y:e.axisLength},vertical:{x:0,y:r.position}},o={horizontal:saa/2,vertical:0},$=[n[s].x+a.x,n[s].y+a.y],l=o[s],x=Ha();Rb(x,x,l),fb(x,x,$),this._axesLayout[t]={position:$,rotation:l,transform:x,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(a),t)},eachActiveState:function(a,t,i,e){null==i&&(i=0),null==e&&(e=a.count());var s=this._axesMap,r=this.dimensions,n=[],o=[];k(r,function(t){n.push(a.mapDimension(t)),o.push(s.get(t).model)});for(var $=this.hasAxisBrushed(),l=i;l<e;l++){var x;if($){x="active";for(var h=a.getValues(n,l),u=0,d=r.length;u<d;u++){if("inactive"===o[u].getActiveState(h[u])){x="inactive";break}}}else x="normal";t(x,l)}},hasAxisBrushed:function(){for(var a=this.dimensions,t=this._axesMap,i=!1,e=0,s=a.length;e<s;e++)"normal"!==t.get(a[e]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(a,t){var i=this._axesLayout[t];return Xb([a,0],i.transform)},getAxisLayout:function(a){return B(this._axesLayout[a])},getSlidedAxisExpandWindow:function(a){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,e=t.axisExpandWindow.slice(),s=e[1]-e[0],r=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:e};var n,o=a[i]-t.layoutBase-t.axisExpandWindow0Pos,$="slide",l=t.axisCollapseWidth,x=this._model.get("axisExpandSlideTriggerArea"),h=null!=x[0];if(l)h&&l&&o<s*x[0]?($="jump",n=o-s*x[2]):h&&l&&o>s*(1-x[0])?($="jump",n=o-s*(1-x[2])):(n=o-s*x[1])>=0&&(n=o-s*(1-x[1]))<=0&&(n=0),(n*=t.axisExpandWidth/l)?Ad(n,e,r,"all"):$="none";else{s=e[1]-e[0];(e=[CA(0,r[1]*o/s-s/2)])[1]=BA(r[1],e[0]+s),e[0]=e[1]-s}return{axisExpandWindow:e,behavior:$}}};var vaa=Ap;qaa=vaa;function waa(e,a){var r=[];return e.eachComponent("parallel",function(l,t){var n=new qaa(l,e,a);n.name="parallel_"+t,n.resize(l,a),l.coordinateSystem=n,n.model=l,r.push(n)}),e.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var r=e.queryComponents({mainType:"parallel",index:a.get("parallelIndex"),id:a.get("parallelId")})[0];a.coordinateSystem=r.coordinateSystem}}),r}Xa.register("parallel",{create:waa});var FA=p.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return he([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var r=this.activeIntervals=B(e);if(r)for(var a=r.length-1;a>=0;a--)ed(r[a])},getActiveState:function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(null==e||isNaN(e))return"inactive";if(1===r.length){var a=r[0];if(a[0]<=e&&e<=a[1])return"active"}else for(var t=0,$=r.length;t<$;t++)if(r[t][0]<=e&&e<=r[t][1])return"active";return"inactive"}}),xaa={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function yaa(e,r){return r.type||(r.data?"category":"value")}f(FA.prototype,nd),Ne("parallel",FA,yaa,xaa);var uka=p.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){p.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){var n=this.option;e&&f(n,e,!0),this._initDimensions()},contains:function(e,n){var i=e.get("parallelIndex");return null!=i&&n.getComponent("parallel",i)===this},setAxisExpand:function(e){k(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},_initDimensions:function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],i=Ea(this.dependentModels.parallelAxis,function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this);k(i,function(i){e.push("dim"+i.get("dim")),n.push(i.componentIndex)})}});var zaa={type:"axisAreaSelect",event:"axisAreaSelected"};d(zaa,function(e,a){a.eachComponent({mainType:"parallelAxis",query:e},function(a){a.axis.model.setActiveIntervals(e.intervals)})}),d("parallelAxisExpand",function(e,a){a.eachComponent({mainType:"parallel",query:e},function(a){a.setAxisExpand(e)})});var Bp={},Jc=w,Mb=k,Aaa=j,Ng=Math.min,af=Math.max,Baa=Math.pow,Caa=1e4,Daa=6,Eaa=6,GA="globalPan",Faa={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Gaa={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},HA={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Haa=0;function Tj(r){aa.call(this),this._zr=r,this.group=new q,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+Haa++,this._handlers={},Mb(Raa,function(r,e){this._handlers[e]=m(r,this)},this)}function Iaa(r,e){var $=r._zr;r._enableGlobalPan||wY($,GA,r._uid),Kaa($,r._handlers),r._brushType=e.brushType,r._brushOption=f(B(HA),e,!0)}function Jaa(r){var e=r._zr;xY(e,GA,r._uid),Laa(e,r._handlers),r._brushType=r._brushOption=null}function Kaa(r,e){Mb(e,function(e,$){r.on($,e)})}function Laa(r,e){Mb(e,function(e,$){r.off($,e)})}function IA(r,e){var $=Uj[e.brushType].createCover(r,e);return $.__brushOption=e,LA($,e),r.group.add($),$}function JA(r,e){var $=Dp(e);return $.endCreating&&($.endCreating(r,e),LA(e,e.__brushOption)),e}function KA(r,e){var $=e.__brushOption;Dp(e).updateCoverShape(r,e,$.range,$)}function LA(r,e){var $=e.z;null==$&&($=Caa),r.traverse(function(r){r.z=$,r.z2=$})}function Cp(r,e){Dp(e).updateCommon(r,e),KA(r,e)}function Dp(r){return Uj[r.__brushOption.brushType]}function Ep(r,e,$){var a,t=r._panels;if(!t)return!0;var n=r._transform;return Mb(t,function(r){r.isTargetByCursor(e,$,n)&&(a=r)}),a}function MA(r,e){var $=r._panels;if(!$)return!0;var a=e.__brushOption.panelId;return null==a||$[a]}function Fp(r){var e=r._covers,$=e.length;return Mb(e,function(e){r.group.remove(e)},r),e.length=0,!!$}function Bd(r,e){var $=Aaa(r._covers,function(r){var e=r.__brushOption,$=B(e.range);return{brushType:e.brushType,panelId:e.panelId,range:$}});r.trigger("brush",$,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Maa(r){var e=r._track;if(!e.length)return!1;var $=e[e.length-1],a=e[0],t=$[0]-a[0],n=$[1]-a[1];return Baa(t*t+n*n,.5)>Daa}function NA(r){var e=r.length-1;return e<0&&(e=0),[r[0],r[e]]}function OA(r,e,$,a){var t=new q;return t.add(new F({name:"main",style:Hp($),silent:!0,draggable:!0,cursor:"move",drift:Jc(r,e,t,"nswe"),ondragend:Jc(Bd,e,{isEnd:!0})})),Mb(a,function($){t.add(new F({name:$,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Jc(r,e,t,$),ondragend:Jc(Bd,e,{isEnd:!0})}))}),t}function PA(r,e,$,a){var t=a.brushStyle.lineWidth||0,n=af(t,Eaa),i=$[0][0],o=$[1][0],v=i-t/2,u=o-t/2,b=$[0][1],s=$[1][1],c=b-n+t/2,l=s-n+t/2,Z=b-i,Q=s-o,h=Z+t,p=Q+t;dc(r,e,"main",i,o,Z,Q),a.transformable&&(dc(r,e,"w",v,u,n,p),dc(r,e,"e",c,u,n,p),dc(r,e,"n",v,u,h,n),dc(r,e,"s",v,l,h,n),dc(r,e,"nw",v,u,n,n),dc(r,e,"ne",c,u,n,n),dc(r,e,"sw",v,l,n,n),dc(r,e,"se",c,l,n,n))}function Gp(r,e){var $=e.__brushOption,a=$.transformable,t=e.childAt(0);t.useStyle(Hp($)),t.attr({silent:!a,cursor:a?"move":"default"}),Mb(["w","e","n","s","se","sw","ne","nw"],function($){var t=e.childOfName($),n=Ip(r,$);t&&t.attr({silent:!a,invisible:!a,cursor:a?Gaa[n]+"-resize":null})})}function dc(r,e,$,a,t,n,i){var o=e.childOfName($);o&&o.setShape(Paa(Jp(r,e,[[a,t],[a+n,t+i]])))}function Hp(r){return E({strokeNoScale:!0},r.brushStyle)}function QA(r,e,$,a){var t=[Ng(r,$),Ng(e,a)],n=[af(r,$),af(e,a)];return[[t[0],n[0]],[t[1],n[1]]]}function Naa(r){return dd(r.group)}function Ip(r,e){if(e.length>1)return("e"===($=[Ip(r,(e=e.split(""))[0]),Ip(r,e[1])])[0]||"w"===$[0])&&$.reverse(),$.join("");var $;return{left:"w",right:"e",top:"n",bottom:"s"}[$=Lm({w:"left",e:"right",n:"top",s:"bottom"}[e],Naa(r))]}function RA(r,e,$,a,t,n,i,o){var v=a.__brushOption,u=r(v.range),b=SA($,n,i);Mb(t.split(""),function(r){var e=Faa[r];u[e[0]][e[1]]+=b[e[0]]}),v.range=e(QA(u[0][0],u[1][0],u[0][1],u[1][1])),Cp($,a),Bd($,{isEnd:!1})}function Oaa(r,e,$,a,t){var n=e.__brushOption.range,i=SA(r,$,a);Mb(n,function(r){r[0]+=i[0],r[1]+=i[1]}),Cp(r,e),Bd(r,{isEnd:!1})}function SA(r,e,$){var a=r.group,t=a.transformCoordToLocal(e,$),n=a.transformCoordToLocal(0,0);return[t[0]-n[0],t[1]-n[1]]}function Jp(r,e,$){var a=MA(r,e);return a&&!0!==a?a.clipPath($,r._transform):B($)}function Paa(r){var e=Ng(r[0][0],r[1][0]),$=Ng(r[0][1],r[1][1]);return{x:e,y:$,width:af(r[0][0],r[1][0])-e,height:af(r[0][1],r[1][1])-$}}function Qaa(r,e,$){if(r._brushType&&!Saa(r,e)){var a=r._zr,t=r._covers,n=Ep(r,e,$);if(!r._dragging)for(var i=0;i<t.length;i++){var o=t[i].__brushOption;if(n&&(!0===n||o.panelId===n.panelId)&&Uj[o.brushType].contain(t[i],$[0],$[1]))return}n&&a.setCursorStyle("crosshair")}}function Kp(r){var e=r.event;e.preventDefault&&e.preventDefault()}function Lp(r,e,$){return r.childOfName("main").contain(e,$)}function TA(r,e,$,a){var t,n=r._creatingCover,i=r._creatingPanel,o=r._brushOption;if(r._track.push($.slice()),Maa(r)||n){if(i&&!n){"single"===o.brushMode&&Fp(r);var v=B(o);v.brushType=UA(v.brushType,i),v.panelId=!0===i?null:i.panelId,n=r._creatingCover=IA(r,v),r._covers.push(n)}if(n){var u=Uj[UA(r._brushType,i)];n.__brushOption.range=u.getCreatingRange(Jp(r,n,r._track)),a&&(JA(r,n),u.updateCommon(r,n)),KA(r,n),t={isEnd:a}}}else a&&"single"===o.brushMode&&o.removeOnClick&&Ep(r,e,$)&&Fp(r)&&(t={isEnd:a,removeOnClick:!0});return t}function UA(r,e){return"auto"===r?e.defaultBrushType:r}Tj.prototype={constructor:Tj,enableBrush:function(r){return this._brushType&&Jaa(this),r.brushType&&Iaa(this,r),this},setPanels:function(r){if(r&&r.length){var e=this._panels={};k(r,function(r){e[r.panelId]=B(r)})}else this._panels=null;return this},mount:function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:r.position||[0,0],rotation:r.rotation||0,scale:r.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(r,e){Mb(this._covers,r,e)},updateCovers:function(r){r=j(r,function(r){return f(B(HA),r,!0)});var e="\0-brush-index-",$=this._covers,a=this._covers=[],t=this,n=this._creatingCover;return new kd($,r,function(r,e){return i(r.__brushOption,e)},i).add(o).update(o).remove(function(r){$[r]!==n&&t.group.remove($[r])}).execute(),this;function i(r,$){return(null!=r.id?r.id:e+$)+"-"+r.brushType}function o(e,i){var o=r[e];if(null!=i&&$[i]===n)a[e]=$[i];else{var v=a[e]=null!=i?($[i].__brushOption=o,$[i]):JA(t,IA(t,o));Cp(t,v)}}},unmount:function(){return this.enableBrush(!1),Fp(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},l(Tj,aa);var Raa={mousedown:function(r){if(this._dragging)VA(this,r);else if(!r.target||!r.target.draggable){Kp(r);var e=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null,(this._creatingPanel=Ep(this,r,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(r){var e=r.offsetX,$=r.offsetY,a=this.group.transformCoordToLocal(e,$);if(Qaa(this,r,a),this._dragging){Kp(r);var t=TA(this,r,a,!1);t&&Bd(this,t)}},mouseup:function(r){VA(this,r)}};function VA(r,e){if(r._dragging){Kp(e);var $=e.offsetX,a=e.offsetY,t=r.group.transformCoordToLocal($,a),n=TA(r,e,t,!0);r._dragging=!1,r._track=[],r._creatingCover=null,n&&Bd(r,n)}}function Saa(r,e,$){var a=r._zr;return e<0||e>a.getWidth()||$<0||$>a.getHeight()}var Uj={lineX:WA(0),lineY:WA(1),rect:{createCover:function(r,e){return OA(Jc(RA,function(r){return r},function(r){return r}),r,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(r){var e=NA(r);return QA(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(r,e,$,a){PA(r,e,$,a)},updateCommon:Gp,contain:Lp},polygon:{createCover:function(r,e){var $=new q;return $.add(new Ua({name:"main",style:Hp(e),silent:!0})),$},getCreatingRange:function(r){return r},endCreating:function(r,e){e.remove(e.childAt(0)),e.add(new ya({name:"main",draggable:!0,drift:Jc(Oaa,r,e),ondragend:Jc(Bd,r,{isEnd:!0})}))},updateCoverShape:function(r,e,$,a){e.childAt(0).setShape({points:Jp(r,e,$)})},updateCommon:Gp,contain:Lp}};function WA(r){return{createCover:function(e,$){return OA(Jc(RA,function(e){var $=[e,[0,100]];return r&&$.reverse(),$},function(e){return e[r]}),e,$,[["w","e"],["n","s"]][r])},getCreatingRange:function(e){var $=NA(e);return[Ng($[0][r],$[1][r]),af($[0][r],$[1][r])]},updateCoverShape:function(e,$,a,t){var n,i=MA(e,$);if(!0!==i&&i.getLinearBrushOtherExtent)n=i.getLinearBrushOtherExtent(r,e._transform);else{var o=e._zr;n=[0,[o.getWidth(),o.getHeight()][1-r]]}var v=[a,n];r&&v.reverse(),PA(e,$,v,t)},updateCommon:Gp,contain:Lp}}var Taa=Tj;Bp=Taa;var Uaa=zj;function Vaa(e){return e=Mp(e),function(r,n){return Nu(r,e)}}function Waa(e,r){return e=Mp(e),function(n){var $=null!=r?r:n,t=$?e.width:e.height,a=$?e.x:e.y;return[a,a+(t||0)]}}function Xaa(e,r,n){return e=Mp(e),function($,t,a){return e.contain(t[0],t[1])&&!Uaa($,r,n)}}function Mp(e){return I.create(e)}var XA=Vaa;var YA=Waa;var ZA=Xaa;var Yaa=["axisLine","axisTickLabel","axisName"],Zaa=Z({type:"parallelAxis",init:function(r,e){Zaa.superApply(this,"init",arguments),(this._brushController=new Bp(e.getZr())).on("brush",m(this._onBrush,this))},render:function(r,e,a,t){if(!$aa(r,e,t)){this.axisModel=r,this.api=a,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new q,this.group.add(this._axisGroup),r.get("show")){var $=aba(r,e),s=$.coordinateSystem,o=r.getAreaSelectStyle(),n=o.width,l=r.axis.dim,x=s.getAxisLayout(l),u=z({strokeContainThreshold:n},x),h=new cc(r,u);k(Yaa,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(u,o,r,$,n,a);var p=t&&!1===t.animation?null:r;oi(i,this._axisGroup,p)}}},_refreshBrushController:function(r,e,a,t,i,$){var s=a.axis.getExtent(),o=s[1]-s[0],n=Math.min(30,.1*Math.abs(o)),l=I.create({x:s[0],y:-i/2,width:o,height:i});l.x-=n,l.width+=2*n,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,position:r.position}).setPanels([{panelId:"pl",clipPath:XA(l),isTargetByCursor:ZA(l,$,t),getLinearBrushOtherExtent:YA(l,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(_aa(a))},_onBrush:function(r,e){var a=this.axisModel,t=a.axis,i=j(r,function(r){return[t.coordToData(r.range[0],!0),t.coordToData(r.range[1],!0)]});(!a.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:i})},dispose:function(){this._brushController.dispose()}});function $aa(r,e,a){return a&&"axisAreaSelect"===a.type&&e.findComponents({mainType:"parallelAxis",query:a})[0]===r}function _aa(r){var e=r.axis;return j(r.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(r[0],!0),e.dataToCoord(r[1],!0)]}})}function aba(r,e){return e.getComponent("parallel",r.get("parallelIndex"))}var bba=5;Z({type:"parallel",render:function(e,r,a){this._model=e,this._api=a,this._handlers||(this._handlers={},k(cba,function(e,r){a.getZr().on(r,this._handlers[r]=m(e,this))},this)),ag(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,r){k(this._handlers,function(e,a){r.getZr().off(a,e)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(z({type:"parallelAxisExpand"},e))}});var cba={mousedown:function(e){Np(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var r=this._mouseDownPoint;if(Np(this,"click")&&r){var a=[e.offsetX,e.offsetY];if(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)>bba)return;var t=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==t.behavior&&this._dispatchExpand({axisExpandWindow:t.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Np(this,"mousemove")){var r=this._model,a=r.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),t=a.behavior;"jump"===t&&this._throttledDispatchExpand.debounceNextCall(r.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===t?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===t&&null})}}};function Np(e,r){var a=e._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===r}la(jaa);var dba=k,eba=G,vka=Q.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,r){var a=this.getSource();return fba(a,this),_b(a,this)},getRawIndicesByActiveState:function(e){var r=this.coordinateSystem,a=this.getData(),t=[];return r.eachActiveState(a,function(r,i){e===r&&t.push(a.getRawIndex(i))}),t},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function fba(e,r){if(!e.encodeDefine){var a=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(a){var t=e.encodeDefine=eba();dba(a.dimensions,function(e){var r=gba(e);t.set(e,r)})}}}function gba(e){return+e.replace("dim","")}var $A=.3,wka=Ba.extend({type:"parallel",init:function(){this._dataGroup=new q,this.group.add(this._dataGroup),this._data,this._initialized},render:function(e,t,a,i){var r=this._dataGroup,$=e.getData(),n=this._data,o=e.coordinateSystem,c=o.dimensions,l=bB(e);if($.diff(n).add(function(e){Op(aB($,r,e,c,o),$,e,l)}).update(function(t,a){var r=n.getItemGraphicEl(a),g=_A($,t,c,o);$.setItemGraphicEl(t,r);var s=i&&!1===i.animation?null:e;A(r,{shape:{points:g}},s,t),Op(r,$,t,l)}).remove(function(e){var t=n.getItemGraphicEl(e);r.remove(t)}).execute(),!this._initialized){this._initialized=!0;var g=hba(o,e,function(){setTimeout(function(){r.removeClipPath()})});r.setClipPath(g)}this._data=$},incrementalPrepareRender:function(e,t,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,a){for(var i=t.getData(),r=t.coordinateSystem,$=r.dimensions,n=bB(t),o=e.start;o<e.end;o++){var c=aB(i,this._dataGroup,o,$,r);c.incremental=!0,Op(c,i,o,n)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function hba(e,t,a){var i=e.model,r=e.getRect(),$=new F({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),n="horizontal"===i.get("layout")?"width":"height";return $.setShape(n,0),ga($,{shape:{width:r.width,height:r.height}},t,a),$}function _A(e,t,a,i){for(var r=[],$=0;$<a.length;$++){var n=a[$],o=e.get(e.mapDimension(n),t);iba(o,i.getAxis(n).type)||r.push(i.dataToPoint(o,n))}return r}function aB(e,t,a,i,r){var $=_A(e,a,i,r),n=new Ua({shape:{points:$},silent:!0,z2:10});return t.add(n),e.setItemGraphicEl(a,n),n}function bB(e){var t=e.get("smooth",!0);return!0===t&&(t=$A),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:null!=t?t:$A}}function Op(e,t,a,i){var r=i.lineStyle;t.hasItemOption&&(r=t.getItemModel(a).getModel("lineStyle").getLineStyle());e.useStyle(r);var $=e.style;$.fill=null,$.stroke=t.getItemVisual(a,"color"),$.opacity=t.getItemVisual(a,"opacity"),i.smooth&&(e.shape.smooth=i.smooth)}function iba(e,t){return"category"===t?null==e:null==e||isNaN(e)}gaa=iaa;s(gaa);var jba={},kba=Dt;var cB=Ja,dB=Q.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,a){for(var t=e.edges||e.links,r=e.data||e.nodes,o=e.levels,n=this.levelModels={},l=0;l<o.length;l++)null!=o[l].depth&&o[l].depth>=0&&(n[o[l].depth]=new L(o[l],this,a));if(r&&t)return dA(r,t,this,!0,function(e,a){e.wrapMethod("getItemModel",function(e,a){return e.customizeGetParent(function(e){var t=this.parentModel,r=t.getData().getItemLayout(a).depth,o=t.levelModels[r];return o||this.parentModel}),e}),a.wrapMethod("getItemModel",function(e,a){return e.customizeGetParent(function(e){var t=this.parentModel,r=t.getGraph().getEdgeByIndex(a),o=r.node1.getLayout().depth,n=t.levelModels[o];return n||this.parentModel}),e})}).data},setNodePosition:function(e,a){var t=this.option.data[e];t.localX=a[0],t.localY=a[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,a,t){if("edge"===t){var r=this.getDataParams(e,t),o=r.data,n=o.source+" -- "+o.target;return r.value&&(n+=" : "+r.value),cB(n)}if("node"===t){var l=this.getGraph().getNodeByIndex(e).getLayout().value,i=this.getDataParams(e,t).data.name;if(l)n=i+" : "+l;return cB(n)}return dB.superCall(this,"formatTooltip",e,a)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},getDataParams:function(e,a){var t=dB.superCall(this,"getDataParams",e,a);if(null==t.value&&"node"===a){var r=this.getGraph().getNodeByIndex(e).getLayout().value;t.value=r}return t},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}});var eB=["itemStyle","opacity"],Cd=["emphasis","itemStyle","opacity"],fB=["lineStyle","opacity"],Vj=["emphasis","lineStyle","opacity"];function gB(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function Wj(e,t,a){var o=e.getGraphicEl(),n=gB(e,t);null!=a&&(null==n&&(n=1),n*=a),o.downplay&&o.downplay(),o.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",n)})}function sb(e,t){var a=gB(e,t),o=e.getGraphicEl();o.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",a)}),o.highlight&&o.highlight()}var lba=Va({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var a=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),xka=Ca({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,a){var o=this,n=e.getGraph(),i=this.group,d=e.layoutInfo,r=d.width,c=d.height,l=e.getData(),$=e.getData("edge"),s=e.get("orient");this._model=e,i.removeAll(),i.attr("position",[d.x,d.y]),n.eachEdge(function(t){var a=new lba;a.dataIndex=t.dataIndex,a.seriesIndex=e.seriesIndex,a.dataType="edge";var o,n,d,l,u,h,y,p,g=t.getModel("lineStyle"),f=g.get("curveness"),v=t.node1.getLayout(),O=t.node1.getModel(),E=O.get("localX"),m=O.get("localY"),U=t.node2.getLayout(),I=t.node2.getModel(),x=I.get("localX"),Q=I.get("localY"),N=t.getLayout();switch(a.shape.extent=Math.max(1,N.dy),a.shape.orient=s,"vertical"===s?(o=(null!=E?E*r:v.x)+N.sy,n=(null!=m?m*c:v.y)+v.dy,d=(null!=x?x*r:U.x)+N.ty,u=o,h=n*(1-f)+(l=null!=Q?Q*c:U.y)*f,y=d,p=n*f+l*(1-f)):(o=(null!=E?E*r:v.x)+v.dx,n=(null!=m?m*c:v.y)+N.sy,u=o*(1-f)+(d=null!=x?x*r:U.x)*f,h=n,y=o*f+d*(1-f),p=l=(null!=Q?Q*c:U.y)+N.ty),a.setShape({x1:o,y1:n,x2:d,y2:l,cpx1:u,cpy1:h,cpx2:y,cpy2:p}),a.setStyle(g.getItemStyle()),a.style.fill){case"source":a.style.fill=t.node1.getVisual("color");break;case"target":a.style.fill=t.node2.getVisual("color");}V(a,t.getModel("emphasis.lineStyle").getItemStyle()),i.add(a),$.setItemGraphicEl(t.dataIndex,a)}),n.eachNode(function(t){var a=t.getLayout(),o=t.getModel(),n=o.get("localX"),d=o.get("localY"),$=o.getModel("label"),s=o.getModel("emphasis.label"),u=new F({shape:{x:null!=n?n*r:a.x,y:null!=d?d*c:a.y,width:a.dx,height:a.dy},style:o.getModel("itemStyle").getItemStyle()}),h=t.getModel("emphasis.itemStyle").getItemStyle();Ia(u.style,h,$,s,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),u.setStyle("fill",t.getVisual("color")),V(u,h),i.add(u),l.setItemGraphicEl(t.dataIndex,u),u.dataType="node"}),l.eachItemGraphicEl(function(t,n){var i=l.getItemModel(n);i.get("draggable")&&(t.drift=function(t,i){o._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=i,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:l.getRawIndex(n),localX:this.shape.x/r,localY:this.shape.y/c})},t.ondragend=function(){o._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),t.highlight=function(){this.trigger("emphasis")},t.downplay=function(){this.trigger("normal")},t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),i.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(a)}))}),$.eachItemGraphicEl(function(t,n){var i=$.getItemModel(n);t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),i.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(a)}))}),!this._data&&e.get("animation")&&i.setClipPath(mba(i.getBoundingRect(),e,function(){i.removeClipPath()})),this._data=e.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(e){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,a,o){var n=e.getData(),i=n.graph,d=o.dataIndex,r=n.getItemModel(d),c=o.edgeDataIndex;if(null!=d||null!=c){var l=i.getNodeByIndex(d),$=i.getEdgeByIndex(c);if(i.eachNode(function(e){Wj(e,eB,.1)}),i.eachEdge(function(e){Wj(e,fB,.1)}),l){sb(l,Cd);var s=r.get("focusNodeAdjacency");"outEdges"===s?k(l.outEdges,function(e){e.dataIndex<0||(sb(e,Vj),sb(e.node2,Cd))}):"inEdges"===s?k(l.inEdges,function(e){e.dataIndex<0||(sb(e,Vj),sb(e.node1,Cd))}):"allEdges"===s&&k(l.edges,function(e){e.dataIndex<0||(sb(e,Vj),e.node1!==l&&sb(e.node1,Cd),e.node2!==l&&sb(e.node2,Cd))})}$&&(sb($,Vj),sb($.node1,Cd),sb($.node2,Cd))}},unfocusNodeAdjacency:function(e,t,a,o){var n=e.getGraph();n.eachNode(function(e){Wj(e,eB)}),n.eachEdge(function(e){Wj(e,fB)})}});function mba(e,t,a){var o=new F({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return ga(o,{shape:{width:e.width+20}},t,a),o}d({type:"dragNode",event:"dragnode",update:"update"},function(e,a){a.eachComponent({mainType:"series",subType:"sankey",query:e},function(a){a.setNodePosition(e.dataIndex,[e.localX,e.localY])})});function nba(e,t,a){e.eachSeriesByType("sankey",function(e){var a=e.get("nodeWidth"),r=e.get("nodeGap"),$=oba(e,t);e.layoutInfo=$;var o=$.width,h=$.height,n=e.getGraph(),u=n.nodes,i=n.edges;qba(u),pba(u,i,a,r,o,h,0!==Ea(u,function(e){return 0===e.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function oba(e,t){return T(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function pba(e,t,a,r,$,o,h,n,u){rba(e,t,a,$,o,n,u),vba(e,t,o,$,r,h,n),Eba(e,n)}function qba(e){k(e,function(e){var t=Lc(e.outEdges,Xj),a=Lc(e.inEdges,Xj),r=e.getValue()||0,$=Math.max(t,a,r);e.setLayout({value:$},!0)})}function rba(e,t,a,r,$,o,h){for(var n=[],u=[],i=[],v=[],g=0,l=0;l<t.length;l++)n[l]=1;for(l=0;l<e.length;l++)u[l]=e[l].inEdges.length,0===u[l]&&i.push(e[l]);for(var s=-1;i.length;){for(var c=0;c<i.length;c++){var d=i[c],T=d.hostGraph.data.getRawDataItem(d.dataIndex),I=null!=T.depth&&T.depth>=0;I&&T.depth>s&&(s=T.depth),d.setLayout({depth:I?T.depth:g},!0),"vertical"===o?d.setLayout({dy:a},!0):d.setLayout({dx:a},!0);for(var y=0;y<d.outEdges.length;y++){var F=d.outEdges[y];n[t.indexOf(F)]=0;var f=F.node2;0==--u[e.indexOf(f)]&&v.indexOf(f)<0&&v.push(f)}}++g,i=v,v=[]}for(l=0;l<n.length;l++)if(1===n[l])throw new Error("Sankey is a DAG, the original data has cycle!");var L=s>g-1?s:g-1;h&&"left"!==h&&sba(e,h,o,L),uba(e,"vertical"===o?($-a)/L:(r-a)/L,o)}function hB(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function sba(e,t,a,r){if("right"===t){for(var $=[],o=e,h=0;o.length;){for(var n=0;n<o.length;n++){var u=o[n];u.setLayout({skNodeHeight:h},!0);for(var i=0;i<u.inEdges.length;i++){var v=u.inEdges[i];$.indexOf(v.node1)<0&&$.push(v.node1)}}o=$,$=[],++h}k(e,function(e){hB(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)})}else"justify"===t&&tba(e,r)}function tba(e,t){k(e,function(e){hB(e)||e.outEdges.length||e.setLayout({depth:t},!0)})}function uba(e,t,a){k(e,function(e){var r=e.getLayout().depth*t;"vertical"===a?e.setLayout({y:r},!0):e.setLayout({x:r},!0)})}function vba(e,t,a,r,$,o,h){var n=wba(e,h);xba(n,t,a,r,$,h),Pp(n,$,a,r,h);for(var u=1;o>0;o--)yba(n,u*=.99,h),Pp(n,$,a,r,h),Dba(n,u,h),Pp(n,$,a,r,h)}function wba(e,t){var a=[],r="vertical"===t?"y":"x",$=kba(e,function(e){return e.getLayout()[r]});return $.keys.sort(function(e,t){return e-t}),k($.keys,function(e){a.push($.buckets.get(e))}),a}function xba(e,t,a,r,$,o){var h=1/0;k(e,function(e){var t=e.length,n=0;k(e,function(e){n+=e.getLayout().value});var u="vertical"===o?(r-(t-1)*$)/n:(a-(t-1)*$)/n;u<h&&(h=u)}),k(e,function(e){k(e,function(e,t){var a=e.getLayout().value*h;"vertical"===o?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))})}),k(t,function(e){var t=+e.getValue()*h;e.setLayout({dy:t},!0)})}function Pp(e,t,a,r,$){var o="vertical"===$?"x":"y";k(e,function(e){var h,n,u;e.sort(function(e,t){return e.getLayout()[o]-t.getLayout()[o]});for(var i=0,v=e.length,g="vertical"===$?"dx":"dy",l=0;l<v;l++)(u=i-(n=e[l]).getLayout()[o])>0&&(h=n.getLayout()[o]+u,"vertical"===$?n.setLayout({x:h},!0):n.setLayout({y:h},!0)),i=n.getLayout()[o]+n.getLayout()[g]+t;if((u=i-t-("vertical"===$?r:a))>0)for(h=n.getLayout()[o]-u,"vertical"===$?n.setLayout({x:h},!0):n.setLayout({y:h},!0),i=h,l=v-2;l>=0;--l)(u=(n=e[l]).getLayout()[o]+n.getLayout()[g]+t-i)>0&&(h=n.getLayout()[o]-u,"vertical"===$?n.setLayout({x:h},!0):n.setLayout({y:h},!0)),i=n.getLayout()[o]})}function yba(e,t,a){k(e.slice().reverse(),function(e){k(e,function(e){if(e.outEdges.length){var r=Lc(e.outEdges,zba,a)/Lc(e.outEdges,Xj,a);if(isNaN(r)){var $=e.outEdges.length;r=$?Lc(e.outEdges,Aba,a)/$:0}if("vertical"===a){var o=e.getLayout().x+(r-Kc(e,a))*t;e.setLayout({x:o},!0)}else{var h=e.getLayout().y+(r-Kc(e,a))*t;e.setLayout({y:h},!0)}}})})}function zba(e,t){return Kc(e.node2,t)*e.getValue()}function Aba(e,t){return Kc(e.node2,t)}function Bba(e,t){return Kc(e.node1,t)*e.getValue()}function Cba(e,t){return Kc(e.node1,t)}function Kc(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Xj(e){return e.getValue()}function Lc(e,t,a){for(var r=0,$=e.length,o=-1;++o<$;){var h=+t.call(e,e[o],a);isNaN(h)||(r+=h)}return r}function Dba(e,t,a){k(e,function(e){k(e,function(e){if(e.inEdges.length){var r=Lc(e.inEdges,Bba,a)/Lc(e.inEdges,Xj,a);if(isNaN(r)){var $=e.inEdges.length;r=$?Lc(e.inEdges,Cba,a)/$:0}if("vertical"===a){var o=e.getLayout().x+(r-Kc(e,a))*t;e.setLayout({x:o},!0)}else{var h=e.getLayout().y+(r-Kc(e,a))*t;e.setLayout({y:h},!0)}}})})}function Eba(e,t){var a="vertical"===t?"x":"y";k(e,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[a]-t.node2.getLayout()[a]}),e.inEdges.sort(function(e,t){return e.node1.getLayout()[a]-t.node1.getLayout()[a]})}),k(e,function(e){var t=0,a=0;k(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),k(e.inEdges,function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy})})}jba=nba;var Fba={};function Gba(r,a){r.eachSeriesByType("sankey",function(r){var a=r.getGraph().nodes;if(a.length){var e=1/0,l=-1/0;k(a,function(r){var a=r.getLayout().value;a<e&&(e=a),a>l&&(l=a)}),k(a,function(a){var t=new ea({type:"color",mappingMethod:"linear",dataExtent:[e,l],visual:r.get("color")}).mapValueToVisual(a.getLayout().value),$=a.getModel().get("itemStyle.color");null!=$?a.setVisual("color",$):a.setVisual("color",t)})}})}Fba=Gba;u(jba),s(Fba);var Hba={},iB=["itemStyle","borderColor"];var jB=Dn,Iba=rv,Jba={_baseAxisDim:null,getInitialData:function(e,r){var i,a,t=r.getComponent("xAxis",this.get("xAxisIndex")),s=r.getComponent("yAxis",this.get("yAxisIndex")),$=t.get("type"),o=s.get("type");"category"===$?(e.layout="horizontal",i=t.getOrdinalMeta(),a=!0):"category"===o?(e.layout="vertical",i=s.getOrdinalMeta(),a=!0):e.layout=e.layout||"horizontal";var n=["x","y"],l="horizontal"===e.layout?0:1,g=this._baseAxisDim=n[l],f=n[1-l],p=[t,s],x=p[l].get("type"),y=p[1-l].get("type"),d=e.data;if(d&&a){var u=[];k(d,function(e,r){var i;e.value&&J(e.value)?(i=e.value.slice(),e.value.unshift(r)):J(e)?(i=e.slice(),e.unshift(r)):i=e,u.push(i)}),e.data=u}var v=this.defaultValueDimensions,m=[{name:g,type:jB(x),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:jB(y),dimsDef:v.slice()}];return Re(this,{coordDimensions:m,dimensionsCount:v.length+1,encodeDefaulter:w(Iba,m,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}},kB=Jba;var Kba=kB,Lba=Q.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});l(Lba,Kba,!0);var Mba=["itemStyle"],Nba=["emphasis","itemStyle"],yka=Ba.extend({type:"boxplot",render:function(e,a,t){var r=e.getData(),$=this.group,o=this._data;this._data||$.removeAll();var i="horizontal"===e.get("layout")?1:0;r.diff(o).add(function(e){if(r.hasValue(e)){var a=lB(r.getItemLayout(e),r,e,i,!0);r.setItemGraphicEl(e,a),$.add(a)}}).update(function(e,a){var t=o.getItemGraphicEl(a);if(r.hasValue(e)){var l=r.getItemLayout(e);t?mB(l,t,r,e):t=lB(l,r,e,i),$.add(t),r.setItemGraphicEl(e,t)}else $.remove(t)}).remove(function(e){var a=o.getItemGraphicEl(e);a&&$.remove(a)}).execute(),this._data=r},remove:function(e){var a=this.group,t=this._data;this._data=null,t&&t.eachItemGraphicEl(function(e){e&&a.remove(e)})},dispose:$}),Oba=g.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,a){var t=a.points,r=0;for(e.moveTo(t[r][0],t[r][1]),r++;r<4;r++)e.lineTo(t[r][0],t[r][1]);for(e.closePath();r<t.length;r++)e.moveTo(t[r][0],t[r][1]),r++,e.lineTo(t[r][0],t[r][1])}});function lB(e,a,t,r,$){var o=e.ends,i=new Oba({shape:{points:$?Pba(o,r,e):o}});return mB(e,i,a,t,$),i}function mB(e,a,t,r,$){var o=t.hostModel;(0,b[$?"initProps":"updateProps"])(a,{shape:{points:e.ends}},o,r);var i=t.getItemModel(r),l=i.getModel(Mba),v=t.getItemVisual(r,"color"),T=l.getItemStyle(["borderColor"]);T.stroke=v,T.strokeNoScale=!0,a.useStyle(T),a.z2=100;var n=i.getModel(Nba).getItemStyle();V(a,n)}function Pba(e,a,t){return j(e,function(e){return(e=e.slice())[a]=t.initBaseline,e})}function Qba(e,o){var r=e.get("color");e.eachRawSeriesByType("boxplot",function(o){var t=r[o.seriesIndex%r.length],$=o.getData();$.setVisual({legendSymbol:"roundRect",color:o.get(iB)||t}),e.isSeriesFiltered(o)||$.each(function(e){var o=$.getItemModel(e);$.setItemVisual(e,{color:o.get(iB,!0)})})})}Hba=Qba;var Rba={},nB=D,Og=k;function Sba(e){var a=Tba(e);Og(a,function(e){var a=e.seriesModels;a.length&&(Uba(e),Og(a,function(a,r){Vba(a,e.boxOffsetList[r],e.boxWidthList[r])}))})}function Tba(e){var a=[],r=[];return e.eachSeriesByType("boxplot",function(e){var t=e.getBaseAxis(),$=C(r,t);$<0&&($=r.length,r[$]=t,a[$]={axis:t,seriesModels:[]}),a[$].seriesModels.push(e)}),a}function Uba(e){var a,r,t=e.axis,$=e.seriesModels,i=$.length,s=e.boxWidthList=[],n=e.boxOffsetList=[],o=[];if("category"===t.type)r=t.getBandWidth();else{var u=0;Og($,function(e){u=Math.max(u,e.getData().count())}),a=t.getExtent(),Math.abs(a[1]-a[0])}Og($,function(e){var a=e.get("boxWidth");J(a)||(a=[a,a]),o.push([nB(a[0],r)||0,nB(a[1],r)||0])});var c=.8*r-2,b=c/i*.3,l=(c-b*(i-1))/i,v=l/2-c/2;Og($,function(e,a){n.push(v),v+=b+l,s.push(Math.min(Math.max(l,o[a][0]),o[a][1]))})}function Vba(e,a,r){var t=e.coordinateSystem,$=e.getData(),i=r/2,s="horizontal"===e.get("layout")?0:1,n=1-s,o=["x","y"],u=$.mapDimension(o[s]),c=$.mapDimension(o[n],!0);if(!(null==u||c.length<5))for(var b=0;b<$.count();b++){var l=$.get(u,b),v=p(l,c[2],b),h=p(l,c[0],b),k=p(l,c[1],b),C=p(l,c[3],b),F=p(l,c[4],b),f=[];g(f,k,0),g(f,C,1),f.push(h,k,F,C),x(f,h),x(f,F),x(f,v),$.setItemLayout(b,{initBaseline:v[n],ends:f})}function p(e,r,i){var o,u=$.get(r,i),c=[];return c[s]=e,c[n]=u,isNaN(e)||isNaN(u)?o=[NaN,NaN]:(o=t.dataToPoint(c))[s]+=a,o}function g(e,a,r){var t=a.slice(),$=a.slice();t[s]+=i,$[s]-=i,r?e.push(t,$):e.push($,t)}function x(e,a){var r=a.slice(),t=a.slice();r[s]-=i,t[s]+=i,e.push(r,t)}}Rba=Sba;s(Hba),u(Rba);var Wba={};var Xba=kB,Yba=Q.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,r,i){var o=r.getItemLayout(e);return o&&i.rect(o.brushRect)}});l(Yba,Xba,!0);var Zba=lj,oB=["itemStyle"],$ba=["emphasis","itemStyle"],pB=["color","color0","borderColor","borderColor0"],zka=Ba.extend({type:"candlestick",render:function(e,t,r){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,r){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,r,a){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),r=this._data,a=this.group,n=t.getLayout("isSimpleBox"),o=e.get("clip",!0),$=e.coordinateSystem,i=$.getArea&&$.getArea();this._data||a.removeAll(),t.diff(r).add(function(r){if(t.hasValue(r)){var $,l=t.getItemLayout(r);if(o&&qB(i,l))return;$=Qp(l,r,!0),ga($,{shape:{points:l.ends}},e,r),Rp($,t,r,n),a.add($),t.setItemGraphicEl(r,$)}}).update(function($,l){var s=r.getItemGraphicEl(l);if(t.hasValue($)){var f=t.getItemLayout($);o&&qB(i,f)?a.remove(s):(s?A(s,{shape:{points:f.ends}},e,$):s=Qp(f,$),Rp(s,t,$,n),a.add(s),t.setItemGraphicEl($,s))}else a.remove(s)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&a.remove(t)}).execute(),this._data=t},_renderLarge:function(e){this._clear(),sB(e,this.group);var t=e.get("clip",!0)?Zba(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(e,t){for(var r,a=t.getData(),n=a.getLayout("isSimpleBox");null!=(r=e.next());){var o;Rp(o=Qp(a.getItemLayout(r),r),a,r,n),o.incremental=!0,this.group.add(o)}},_incrementalRenderLarge:function(e,t){sB(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:$}),_ba=g.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var r=t.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))}});function Qp(e,t,r){var a=e.ends;return new _ba({shape:{points:r?aca(a,e):a},z2:100})}function qB(e,t){for(var r=!0,a=0;a<t.ends.length;a++)if(e.contain(t.ends[a][0],t.ends[a][1])){r=!1;break}return r}function Rp(e,t,r,a){var n=t.getItemModel(r),o=n.getModel(oB),$=t.getItemVisual(r,"color"),i=t.getItemVisual(r,"borderColor")||$,l=o.getItemStyle(pB);e.useStyle(l),e.style.strokeNoScale=!0,e.style.fill=$,e.style.stroke=i,e.__simpleBox=a;var s=n.getModel($ba).getItemStyle();V(e,s)}function aca(e,t){return j(e,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var rB=g.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var r=t.points,a=0;a<r.length;)if(this.__sign===r[a++]){var n=r[a++];e.moveTo(n,r[a++]),e.lineTo(n,r[a++])}else a+=3}});function sB(e,t,r){var a=e.getData(),n=a.getLayout("largePoints"),o=new rB({shape:{points:n},__sign:1});t.add(o);var $=new rB({shape:{points:n},__sign:-1});t.add($),tB(1,o,e,a),tB(-1,$,e,a),r&&(o.incremental=!0,$.incremental=!0)}function tB(e,t,r,a){var n=e>0?"P":"N",o=a.getVisual("borderColor"+n)||a.getVisual("color"+n),$=r.getModel(oB).getItemStyle(pB);t.useStyle($),t.style.fill=null,t.style.stroke=o}function bca($){$&&J($.series)&&k($.series,function($){y($)&&"k"===$.type&&($.type="candlestick")})}Wba=bca;var cca={},dca=["itemStyle","borderColor"],eca=["itemStyle","borderColor0"],fca=["itemStyle","color"],gca=["itemStyle","color0"],hca={seriesType:"candlestick",plan:ye(),performRawSeries:!0,reset:function(e,r){if(e.getData().setVisual({legendSymbol:"roundRect",colorP:o(1,e),colorN:o(-1,e),borderColorP:a(1,e),borderColorN:a(-1,e)}),!r.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,r){var t;for(;null!=(t=e.next());){var $=r.getItemModel(t),l=r.getItemLayout(t).sign;r.setItemVisual(t,{color:o(l,$),borderColor:a(l,$)})}}};function o(e,r){return r.get(e>0?fca:gca)}function a(e,r){return r.get(e>0?dca:eca)}}};cca=hca;var ica={},Sp=Lu,Tp=D,uB=Fa,jca="undefined"!=typeof Float32Array?Float32Array:Array,kca={seriesType:"candlestick",plan:ye(),reset:function(a){var e=a.coordinateSystem,r=a.getData(),i=lca(a,r),t=0,$=1,n=["x","y"],l=r.mapDimension(n[t]),u=r.mapDimension(n[$],!0),s=u[0],v=u[1],c=u[2],L=u[3];if(r.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==l||u.length<4))return{progress:a.pipelineContext.large?function(a,r){var i,n,u=new jca(4*a.count),T=0,o=[],g=[];for(;null!=(n=a.next());){var p=r.get(l,n),d=r.get(s,n),h=r.get(v,n),N=r.get(c,n),m=r.get(L,n);isNaN(p)||isNaN(N)||isNaN(m)?(u[T++]=NaN,T+=3):(u[T++]=vB(r,n,d,h,v),o[t]=p,o[$]=N,i=e.dataToPoint(o,null,g),u[T++]=i?i[0]:NaN,u[T++]=i?i[1]:NaN,o[$]=m,i=e.dataToPoint(o,null,g),u[T++]=i?i[1]:NaN)}r.setLayout("largePoints",u)}:function(a,r){var n;for(;null!=(n=a.next());){var u=r.get(l,n),T=r.get(s,n),o=r.get(v,n),g=r.get(c,n),p=r.get(L,n),d=Math.min(T,o),h=Math.max(T,o),N=b(d,u),m=b(h,u),x=b(g,u),P=b(p,u),f=[];y(f,m,0),y(f,N,1),f.push(M(P),M(m),M(x),M(N)),r.setItemLayout(n,{sign:vB(r,n,T,o,v),initBaseline:T>o?m[$]:N[$],ends:f,brushRect:_(g,p,u)})}function b(a,r){var i=[];return i[t]=r,i[$]=a,isNaN(r)||isNaN(a)?[NaN,NaN]:e.dataToPoint(i)}function y(a,e,r){var $=e.slice(),n=e.slice();$[t]=Sp($[t]+i/2,1,!1),n[t]=Sp(n[t]-i/2,1,!0),r?a.push($,n):a.push(n,$)}function _(a,e,r){var n=b(a,r),l=b(e,r);return n[t]-=i/2,l[t]-=i/2,{x:n[0],y:n[1],width:$?i:l[0]-n[0],height:$?l[1]-n[1]:i}}function M(a){return a[t]=Sp(a[t],1),a}}}}};function vB(a,e,r,i,t){return r>i?-1:r<i?1:e>0?a.get(t,e-1)<=i?1:-1:1}function lca(a,e){var r,i=a.getBaseAxis(),t="category"===i.type?i.getBandWidth():(r=i.getExtent(),Math.abs(r[1]-r[0])/e.count()),$=Tp(uB(a.get("barMaxWidth"),t),t),n=Tp(uB(a.get("barMinWidth"),1),t),l=a.get("barWidth");return null!=l?Tp(l,t):Math.max(Math.min(t/2,$),n)}ica=kca;la(Wba),s(cca),u(ica);var Aka=Q.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,r){return _b(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var mca={},nca=_a,wB=D,xB=3;function oca(e){return J(e)||(e=[+e,+e]),e}function yB(e,t){var r=t.rippleEffectColor||t.color;e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?r:null,fill:"fill"===t.brushType?r:null}})})}function Up(e,t){q.call(this);var r=new og(e,t),o=new q;this.add(r),this.add(o),o.beforeUpdate=function(){this.attr(r.getScale())},this.updateData(e,t)}var Dd=Up.prototype;Dd.stopEffectAnimation=function(){this.childAt(1).removeAll()},Dd.startEffectAnimation=function(e){for(var t=e.symbolType,r=e.color,o=this.childAt(1),a=0;a<xB;a++){var c=nca(t,-1,-1,2,2,r);c.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var i=-a/xB*e.period+e.effectOffset;c.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(i).start(),c.animateStyle(!0).when(e.period,{opacity:0}).delay(i).start(),o.add(c)}yB(o,e)},Dd.updateEffectAnimation=function(e){for(var t=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale"],a=0;a<o.length;a++){var c=o[a];if(t[c]!==e[c])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}yB(r,e)},Dd.highlight=function(){this.trigger("emphasis")},Dd.downplay=function(){this.trigger("normal")},Dd.updateData=function(e,t){var r=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),a=e.getItemModel(t),c=e.getItemVisual(t,"symbol"),i=oca(e.getItemVisual(t,"symbolSize")),$=e.getItemVisual(t,"color");o.attr("scale",i),o.traverse(function(e){e.attr({fill:$})});var l=a.getShallow("symbolOffset");if(l){var f=o.position;f[0]=wB(l[0],i[0]),f[1]=wB(l[1],i[1])}var s=e.getItemVisual(t,"symbolRotate");o.rotation=(s||0)*Math.PI/180||0;var n={};if(n.showEffectOn=r.get("showEffectOn"),n.rippleScale=a.get("rippleEffect.scale"),n.brushType=a.get("rippleEffect.brushType"),n.period=1e3*a.get("rippleEffect.period"),n.effectOffset=t/e.count(),n.z=a.getShallow("z")||0,n.zlevel=a.getShallow("zlevel")||0,n.symbolType=c,n.color=$,n.rippleEffectColor=a.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===n.showEffectOn)this._effectCfg?this.updateEffectAnimation(n):this.startEffectAnimation(n),this._effectCfg=n;else{this._effectCfg=null,this.stopEffectAnimation();var E=this.childAt(0),S=function(){E.highlight(),"render"!==n.showEffectOn&&this.startEffectAnimation(n)},p=function(){E.downplay(),"render"!==n.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",S,this).on("mouseout",p,this).on("emphasis",S,this).on("normal",p,this)}this._effectCfg=n},Dd.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},n(Up,q);var pca=Up;mca=pca;var Bka=Ca({type:"effectScatter",init:function(){this._symbolDraw=new pg(mca)},render:function(r,a,e){var t=r.getData(),i=this._symbolDraw;i.updateData(t),this.group.add(i.group)},updateTransform:function(r,a,e){var t=r.getData();this.group.dirty();var i=qg().reset(r);i.progress&&i.progress({start:0,end:t.count()},t),this._symbolDraw.updateLayout(t)},_updateGroupTransform:function(r){var a=r.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=ns(a.getRoamTransform()),this.group.decomposeTransform())},remove:function(r,a){this._symbolDraw&&this._symbolDraw.remove(a)},dispose:function(){}});s(qd("effectScatter","circle")),u(qg("effectScatter"));var qca={};var zB=Qr,rca=uf,sca=j,tca=Ja,uca="undefined"==typeof Uint32Array?Array:Uint32Array,vca="undefined"==typeof Float64Array?Array:Float64Array;function AB(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=sca(t,function(r){var t={coords:[r[0].coord,r[1].coord]};return r[0].name&&(t.fromName=r[0].name),r[1].name&&(t.toName=r[1].name),rca([t,r[0],r[1]])}))}var BB=Q.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(r){r.data=r.data||[],AB(r);var t=this._processFlatCoordsArray(r.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(r.data=new Float32Array(t.count)),BB.superApply(this,"init",arguments)},mergeOption:function(r){if(AB(r),r.data){var t=this._processFlatCoordsArray(r.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(r.data=new Float32Array(t.count))}BB.superApply(this,"mergeOption",arguments)},appendData:function(r){var t=this._processFlatCoordsArray(r.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=zB(this._flatCoords,t.flatCoords),this._flatCoordsOffset=zB(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),r.data=new Float32Array(t.count)),this.getRawData().appendData(r.data)},_getCoordsFromItemModel:function(r){var t=this.getData().getItemModel(r);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(r){return this._flatCoordsOffset?this._flatCoordsOffset[2*r+1]:this._getCoordsFromItemModel(r).length},getLineCoords:function(r,t){if(this._flatCoordsOffset){for(var e=this._flatCoordsOffset[2*r],o=this._flatCoordsOffset[2*r+1],a=0;a<o;a++)t[a]=t[a]||[],t[a][0]=this._flatCoords[e+2*a],t[a][1]=this._flatCoords[e+2*a+1];return o}var s=this._getCoordsFromItemModel(r);for(a=0;a<s.length;a++)t[a]=t[a]||[],t[a][0]=s[a][0],t[a][1]=s[a][1];return s.length},_processFlatCoordsArray:function(r){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"==typeof r[0]){for(var e=r.length,o=new uca(e),a=new vca(e),s=0,n=0,i=0,l=0;l<e;){i++;var $=r[l++];o[n++]=s+t,o[n++]=$;for(var f=0;f<$;f++){var d=r[l++],y=r[l++];a[s++]=d,a[s++]=y}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,n),flatCoords:a,count:i}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},getInitialData:function(r,t){var e=new ka(["value"],this);return e.hasItemOption=!1,e.initData(r.data,[],function(r,t,o,a){if(r instanceof Array)return NaN;e.hasItemOption=!0;var s=r.value;return null!=s?s instanceof Array?s[a]:s:void 0}),e},formatTooltip:function(r){var t=this.getData().getItemModel(r),e=t.get("name");if(e)return e;var o=t.get("fromName"),a=t.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),tca(s.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var r=this.option.progressive;return null==r?this.option.large?1e4:this.get("progressive"):r},getProgressiveThreshold:function(){var r=this.option.progressiveThreshold;return null==r?this.option.large?2e4:this.get("progressiveThreshold"):r},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}});var Vp={},wca=_a;function Wp(t,e,r){q.call(this),this.add(this.createLine(t,e,r)),this._updateEffectSymbol(t,e)}var Mc=Wp.prototype;Mc.createLine=function(t,e,r){return new lp(t,e,r)},Mc._updateEffectSymbol=function(t,e){var r=t.getItemModel(e).getModel("effect"),i=r.get("symbolSize"),a=r.get("symbol");J(i)||(i=[i,i]);var $=r.get("color")||t.getItemVisual(e,"color"),o=this.childAt(1);this._symbolType!==a&&(this.remove(o),(o=wca(a,-.5,-.5,1,1,$)).z2=100,o.culling=!0,this.add(o)),o&&(o.setStyle("shadowColor",$),o.setStyle(r.getItemStyle(["color"])),o.attr("scale",i),o.setColor($),o.attr("scale",i),this._symbolType=a,this._symbolScale=i,this._updateEffectAnimation(t,r,e))},Mc._updateEffectAnimation=function(t,e,r){var i=this.childAt(1);if(i){var a=this,$=t.getItemLayout(r),o=1e3*e.get("period"),c=e.get("loop"),n=e.get("constantSpeed"),l=ua(e.get("delay"),function(e){return e/t.count()*o/3}),s="function"==typeof l;if(i.ignore=!0,this.updateAnimationPoints(i,$),n>0&&(o=this.getLineLength(i)/n*1e3),o!==this._period||c!==this._loop){i.stopAnimation();var v=l;s&&(v=l(r)),i.__t>0&&(v=-o*i.__t),i.__t=0;var f=i.animate("",c).when(o,{__t:1}).delay(v).during(function(){a.updateSymbolPosition(i)});c||f.done(function(){a.remove(i)}),f.start()}this._period=o,this._loop=c}},Mc.getLineLength=function(t){return Qb(t.__p1,t.__cp1)+Qb(t.__cp1,t.__p2)},Mc.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},Mc.updateData=function(t,e,r){this.childAt(0).updateData(t,e,r),this._updateEffectSymbol(t,e)},Mc.updateSymbolPosition=function(t){var e=t.__p1,r=t.__p2,i=t.__cp1,a=t.__t,$=t.position,o=[$[0],$[1]],c=$c,n=Jt;$[0]=c(e[0],i[0],r[0],a),$[1]=c(e[1],i[1],r[1],a);var l=n(e[0],i[0],r[0],a),s=n(e[1],i[1],r[1],a);if(t.rotation=-Math.atan2(s,l)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==t.__lastT&&t.__lastT<t.__t){var v=1.05*Qb(o,$);t.attr("scale",[t.scale[0],v]),1===a&&($[0]=o[0]+($[0]-o[0])/2,$[1]=o[1]+($[1]-o[1])/2)}else if(1===t.__lastT){v=2*Qb(e,$);t.attr("scale",[t.scale[0],v])}else t.attr("scale",this._symbolScale);t.__lastT=t.__t,t.ignore=!1},Mc.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var r=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,r,e)},n(Wp,q);var xca=Wp;Vp=xca;var CB={};function Xp(e,a,t){q.call(this),this._createPolyline(e,a,t)}var Yj=Xp.prototype;Yj._createPolyline=function(e,a,t){var $=e.getItemLayout(a),r=new Ua({shape:{points:$}});this.add(r),this._updateCommonStl(e,a,t)},Yj.updateData=function(e,a,t){var $=e.hostModel,r=this.childAt(0),l={shape:{points:e.getItemLayout(a)}};A(r,l,$,a),this._updateCommonStl(e,a,t)},Yj._updateCommonStl=function(e,a,t){var $=this.childAt(0),r=e.getItemModel(a),l=e.getItemVisual(a,"color"),o=t&&t.lineStyle,i=t&&t.hoverLineStyle;t&&!e.hasItemOption||(o=r.getModel("lineStyle").getLineStyle(),i=r.getModel("emphasis.lineStyle").getLineStyle()),$.useStyle(E({strokeNoScale:!0,fill:"none",stroke:l},o)),$.hoverStyle=i,V(this)},Yj.updateLayout=function(e,a){this.childAt(0).setShape("points",e.getItemLayout(a))},n(Xp,q);var yca=Xp;CB=yca;var zca={};function Yp(e,t,r){Vp.call(this,e,t,r),this._lastFrame=0,this._lastFramePercent=0}var Zj=Yp.prototype;Zj.createLine=function(e,t,r){return new CB(e,t,r)},Zj.updateAnimationPoints=function(e,t){this._points=t;for(var r=[0],$=0,i=1;i<t.length;i++){var a=t[i-1],s=t[i];$+=Qb(a,s),r.push($)}if(0!==$){for(i=0;i<r.length;i++)r[i]/=$;this._offsets=r,this._length=$}},Zj.getLineLength=function(e){return this._length},Zj.updateSymbolPosition=function(e){var t=e.__t,r=this._points,$=this._offsets,i=r.length;if($){var a=this._lastFrame;if(t<this._lastFramePercent){for(s=Math.min(a+1,i-1);s>=0&&!($[s]<=t);s--);s=Math.min(s,i-2)}else{for(var s=a;s<i&&!($[s]>t);s++);s=Math.min(s-1,i-2)}Xr(e.position,r[s],r[s+1],(t-$[s])/($[s+1]-$[s]));var n=r[s+1][0]-r[s][0],o=r[s+1][1]-r[s][1];e.rotation=-Math.atan2(o,n)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},n(Yp,Vp);var Aca=Yp;zca=Aca;var Bca={},DB=Va({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,r){var a=r.segs,n=r.curveness;if(r.polyline)for(var t=0;t<a.length;){var i=a[t++];if(i>0){e.moveTo(a[t++],a[t++]);for(var l=1;l<i;l++)e.lineTo(a[t++],a[t++])}}else for(t=0;t<a.length;){var o=a[t++],s=a[t++],$=a[t++],u=a[t++];if(e.moveTo(o,s),n>0){var c=(o+$)/2-(s-u)*n,v=(s+u)/2-($-o)*n;e.quadraticCurveTo(c,v,$,u)}else e.lineTo($,u)}},findDataIndex:function(e,r){var a=this.shape,n=a.segs,t=a.curveness;if(a.polyline)for(var i=0,l=0;l<n.length;){var o=n[l++];if(o>0)for(var s=n[l++],$=n[l++],u=1;u<o;u++){var c=n[l++],v=n[l++];if(vc(s,$,c,v))return i}i++}else for(i=0,l=0;l<n.length;){s=n[l++],$=n[l++],c=n[l++],v=n[l++];if(t>0){var p=(s+c)/2-($-v)*t,h=($+v)/2-(c-s)*t;if(St(s,$,p,h,c,v))return i}else if(vc(s,$,c,v))return i;i++}return-1}});function EB(){this.group=new q}var Ed=EB.prototype;Ed.isPersistent=function(){return!this._incremental},Ed.updateData=function(e){this.group.removeAll();var r=new DB({rectHover:!0,cursor:"default"});r.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(r,e),this.group.add(r),this._incremental=null},Ed.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new zm({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Ed.incrementalUpdate=function(e,r){var a=new DB;a.setShape({segs:r.getLayout("linesPoints")}),this._setCommon(a,r,!!this._incremental),this._incremental?this._incremental.addDisplayable(a,!0):(a.rectHover=!0,a.cursor="default",a.__startIndex=e.start,this.group.add(a))},Ed.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ed._setCommon=function(e,r,a){var n=r.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var t=r.getVisual("color");t&&e.setStyle("stroke",t),e.setStyle("fill"),a||(e.seriesIndex=n.seriesIndex,e.on("mousemove",function(r){e.dataIndex=null;var a=e.findDataIndex(r.offsetX,r.offsetY);a>0&&(e.dataIndex=a+e.__startIndex)}))},Ed._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Cca=EB;Bca=Cca;var FB={},Dca={seriesType:"lines",plan:ye(),reset:function(e){var r=e.coordinateSystem,t=e.get("polyline"),a=e.pipelineContext.large;return{progress:function(n,o){var s=[];if(a){var i,l=n.end-n.start;if(t){for(var f=0,d=n.start;d<n.end;d++)f+=e.getLineCoordsCount(d);i=new Float32Array(l+2*f)}else i=new Float32Array(4*l);var $=0,v=[];for(d=n.start;d<n.end;d++){var p=e.getLineCoords(d,s);t&&(i[$++]=p);for(var u=0;u<p;u++)v=r.dataToPoint(s[u],!1,v),i[$++]=v[0],i[$++]=v[1]}o.setLayout("linesPoints",i)}else for(d=n.start;d<n.end;d++){var c=o.getItemModel(d),g=(p=e.getLineCoords(d,s),[]);if(t)for(var y=0;y<p;y++)g.push(r.dataToPoint(s[y]));else{g[0]=r.dataToPoint(s[0]),g[1]=r.dataToPoint(s[1]);var P=c.get("lineStyle.curveness");+P&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*P,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*P])}o.setItemLayout(d,g)}}}}};FB=Dca;var Eca=lj,Cka=Ca({type:"lines",init:function(){},render:function(e,a,r){var t=e.getData(),i=this._updateLineDraw(t,e),n=e.get("zlevel"),l=e.get("effect.trailLength"),$=r.getZr(),s="svg"===$.painter.getType();s||$.painter.getLayer(n).clear(!0),null==this._lastZlevel||s||$.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l&&(s||$.configLayer(n,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),i.updateData(t);var o=e.get("clip",!0)&&Eca(e.coordinateSystem,!1,e);o?this.group.setClipPath(o):this.group.removeClipPath(),this._lastZlevel=n,this._finished=!0},incrementalPrepareRender:function(e,a,r){var t=e.getData();this._updateLineDraw(t,e).incrementalPrepareUpdate(t),this._clearLayer(r),this._finished=!1},incrementalRender:function(e,a,r){this._lineDraw.incrementalUpdate(e,a.getData()),this._finished=e.end===a.getData().count()},updateTransform:function(e,a,r){var t=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var n=FB.reset(e);n.progress&&n.progress({start:0,end:t.count()},t),this._lineDraw.updateLayout(),this._clearLayer(r)},_updateLineDraw:function(e,a){var r=this._lineDraw,t=this._showEffect(a),i=!!a.get("polyline"),n=a.pipelineContext.large;return r&&t===this._hasEffet&&i===this._isPolyline&&n===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=n?new Bca:new pp(i?t?zca:CB:t?Vp:lp),this._hasEffet=t,this._isPolyline=i,this._isLargeDraw=n,this.group.removeAll()),this.group.add(r.group),r},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var a=e.getZr();"svg"===a.painter.getType()||null==this._lastZlevel||a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},dispose:function(){}});function $j(e){return e instanceof Array||(e=[e,e]),e}var GB="lineStyle.opacity".split("."),Fca={seriesType:"lines",reset:function(e,t,a){var o=$j(e.get("symbol")),l=$j(e.get("symbolSize")),i=e.getData();return i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",l&&l[0]),i.setVisual("toSymbolSize",l&&l[1]),i.setVisual("opacity",e.get(GB)),{dataEach:i.hasItemOption?function(e,t){var a=e.getItemModel(t),o=$j(a.getShallow("symbol",!0)),l=$j(a.getShallow("symbolSize",!0)),i=a.get(GB);o[0]&&e.setItemVisual(t,"fromSymbol",o[0]),o[1]&&e.setItemVisual(t,"toSymbol",o[1]),l[0]&&e.setItemVisual(t,"fromSymbolSize",l[0]),l[1]&&e.setItemVisual(t,"toSymbolSize",l[1]),e.setItemVisual(t,"opacity",i)}:null}}};qca=Fca;u(FB),s(qca);var Dka=Q.extend({type:"series.heatmap",getInitialData:function(e,r){return _b(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=Xa.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var Gca={},Hca=256;function HB(){var t=vf();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}HB.prototype={update:function(t,a,i,e,r,h){var s=this._getBrush(),n=this._getGradient(t,r,"inRange"),$=this._getGradient(t,r,"outOfRange"),l=this.pointSize+this.blurSize,o=this.canvas,v=o.getContext("2d"),u=t.length;o.width=a,o.height=i;for(var g=0;g<u;++g){var S=t[g],d=S[0],p=S[1],E=e(S[2]);v.globalAlpha=E,v.drawImage(s,d-l,p-l)}if(!o.width||!o.height)return o;for(var c=v.getImageData(0,0,o.width,o.height),U=c.data,f=0,q=U.length,_=this.minOpacity,z=this.maxOpacity-_;f<q;){E=U[f+3]/256;var m=4*Math.floor(E*(Hca-1));if(E>0){var b=h(E)?n:$;E>0&&(E=E*z+_),U[f++]=b[m],U[f++]=b[m+1],U[f++]=b[m+2],U[f++]=b[m+3]*E*256}else f+=4}return v.putImageData(c,0,0),o},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=vf()),a=this.pointSize+this.blurSize,i=2*a;t.width=i,t.height=i;var e=t.getContext("2d");return e.clearRect(0,0,i,i),e.shadowOffsetX=i,e.shadowBlur=this.blurSize,e.shadowColor="#000",e.beginPath(),e.arc(-a,a,this.pointSize,0,2*Math.PI,!0),e.closePath(),e.fill(),t},_getGradient:function(t,a,i){for(var e=this._gradientPixels,r=e[i]||(e[i]=new Uint8ClampedArray(1024)),h=[0,0,0,0],s=0,n=0;n<256;n++)a[i](n/255,!0,h),r[s++]=h[0],r[s++]=h[1],r[s++]=h[2],r[s++]=h[3];return r}};var Ica=HB;Gca=Ica;function Jca(e,t,a){var r=e[1]-e[0],i=(t=j(t,function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}})).length,n=0;return function(e){for(var r=n;r<i;r++){if((o=t[r].interval)[0]<=e&&e<=o[1]){n=r;break}}if(r===i)for(r=n-1;r>=0;r--){var o;if((o=t[r].interval)[0]<=e&&e<=o[1]){n=r;break}}return r>=0&&r<i&&a[r]}}function Kca(e,t){var a=e[1]-e[0];return t=[(t[0]-e[0])/a,(t[1]-e[0])/a],function(e){return e>=t[0]&&e<=t[1]}}function Lca(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Eka=Ca({type:"heatmap",render:function(e,t,a){var r;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(a){a===e&&(r=t)})}),this.group.removeAll(),this._incrementalDisplayable=null;var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(e,a,0,e.getData().count()):Lca(i)&&this._renderOnGeo(i,e,r,a)},incrementalPrepareRender:function(e,t,a){this.group.removeAll()},incrementalRender:function(e,t,a,r){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,r,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,a,r,i){var n,o,l=e.coordinateSystem;if("cartesian2d"===l.type){var u=l.getAxis("x"),s=l.getAxis("y");n=u.getBandWidth(),o=s.getBandWidth()}for(var $=this.group,c=e.getData(),g=e.getModel("itemStyle").getItemStyle(["color"]),p=e.getModel("emphasis.itemStyle").getItemStyle(),m=e.getModel("label"),d=e.getModel("emphasis.label"),h=l.type,v="cartesian2d"===h?[c.mapDimension("x"),c.mapDimension("y"),c.mapDimension("value")]:[c.mapDimension("time"),c.mapDimension("value")],y=a;y<r;y++){var f;if("cartesian2d"===h){if(isNaN(c.get(v[2],y)))continue;var B=l.dataToPoint([c.get(v[0],y),c.get(v[1],y)]);f=new F({shape:{x:Math.floor(Math.round(B[0])-n/2),y:Math.floor(Math.round(B[1])-o/2),width:Math.ceil(n),height:Math.ceil(o)},style:{fill:c.getItemVisual(y,"color"),opacity:c.getItemVisual(y,"opacity")}})}else{if(isNaN(c.get(v[1],y)))continue;f=new F({z2:1,shape:l.dataToRect([c.get(v[0],y)]).contentShape,style:{fill:c.getItemVisual(y,"color"),opacity:c.getItemVisual(y,"opacity")}})}var X=c.getItemModel(y);c.hasItemOption&&(g=X.getModel("itemStyle").getItemStyle(["color"]),p=X.getModel("emphasis.itemStyle").getItemStyle(),m=X.getModel("label"),d=X.getModel("emphasis.label"));var Z=e.getRawValue(y),M="-";Z&&null!=Z[2]&&(M=Z[2]),Ia(g,p,m,d,{labelFetcher:e,labelDataIndex:y,defaultText:M,isRectText:!0}),f.setStyle(g),V(f,c.hasItemOption?p:z({},p)),f.incremental=i,i&&(f.useHoverLayer=!0),$.add(f),c.setItemGraphicEl(y,f)}},_renderOnGeo:function(e,t,a,r){var i=a.targetVisuals.inRange,n=a.targetVisuals.outOfRange,o=t.getData(),l=this._hmLayer||this._hmLayer||new Gca;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),s=e.getRoamTransform();u.applyTransform(s);var $=Math.max(u.x,0),c=Math.max(u.y,0),g=Math.min(u.width+u.x,r.getWidth()),p=Math.min(u.height+u.y,r.getHeight()),m=g-$,d=p-c,h=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")],v=o.mapArray(h,function(t,a,r){var i=e.dataToPoint([t,a]);return i[0]-=$,i[1]-=c,i.push(r),i}),y=a.getExtent(),f="visualMap.continuous"===a.type?Kca(y,a.option.range):Jca(y,a.getPieceList(),a.option.selected);l.update(v,m,d,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:n.color.getColorMapper()},f);var B=new oa({style:{width:m,height:d,x:$,y:c,image:l.canvas},silent:!0});this.group.add(B)},dispose:function(){}});var Mca=Jy.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,Mca.superApply(this,"getInitialData",arguments)}});var Nca=_a,Pg=D,Oca=$u,Pca=Ly,Qca=["itemStyle","borderWidth"],IB=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Zp=new Db,Fka=Ca({type:"pictorialBar",render:function(e,a,t){var r=this.group,i=e.getData(),$=this._data,o=e.coordinateSystem,n=!!o.getBaseAxis().isHorizontal(),l=o.grid.getRect(),m={ecSize:{width:t.getWidth(),height:t.getHeight()},seriesModel:e,coordSys:o,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:n,valueDim:IB[+n],categoryDim:IB[1-n]};return i.diff($).add(function(e){if(i.hasValue(e)){var a=PB(i,e),t=JB(i,e,a,m),$=QB(i,m,t);i.setItemGraphicEl(e,$),r.add($),TB($,m,t)}}).update(function(e,a){var t=$.getItemGraphicEl(a);if(i.hasValue(e)){var o=PB(i,e),n=JB(i,e,o,m),l=SB(i,n);t&&l!==t.__pictorialShapeStr&&(r.remove(t),i.setItemGraphicEl(e,null),t=null),t?Xca(t,m,n):t=QB(i,m,n,!0),i.setItemGraphicEl(e,t),t.__pictorialSymbolMeta=n,r.add(t),TB(t,m,n)}else r.remove(t)}).remove(function(e){var a=$.getItemGraphicEl(e);a&&RB($,e,a.__pictorialSymbolMeta.animationModel,a)}).execute(),this._data=i,this.group},dispose:$,remove:function(e,a){var t=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl(function(a){RB(r,a.dataIndex,e,a)}):t.removeAll()}});function JB(e,a,t,r){var i=e.getItemLayout(a),$=t.get("symbolRepeat"),o=t.get("symbolClip"),n=t.get("symbolPosition")||"start",l=(t.get("symbolRotate")||0)*Math.PI/180||0,m=t.get("symbolPatternSize")||2,s=t.isAnimationEnabled(),c={dataIndex:a,layout:i,itemModel:t,symbolType:e.getItemVisual(a,"symbol")||"circle",color:e.getItemVisual(a,"color"),symbolClip:o,symbolRepeat:$,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:m,rotation:l,animationModel:s?t:null,hoverAnimation:s&&t.get("hoverAnimation"),z2:t.getShallow("z",!0)||0};Rca(t,$,i,r,c),Sca(e,a,i,$,o,c.boundingLength,c.pxSign,m,r,c),Tca(t,c.symbolScale,l,r,c);var p=c.symbolSize,v=t.get("symbolOffset");return J(v)&&(v=[Pg(v[0],p[0]),Pg(v[1],p[1])]),Uca(t,p,i,$,o,v,n,c.valueLineWidth,c.boundingLength,c.repeatCutLength,r,c),c}function Rca(e,a,t,r,i){var $,o=r.valueDim,n=e.get("symbolBoundingData"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),m=l.toGlobalCoord(l.dataToCoord(0)),s=1-+(t[o.wh]<=0);if(J(n)){var c=[$p(l,n[0])-m,$p(l,n[1])-m];c[1]<c[0]&&c.reverse(),$=c[s]}else $=null!=n?$p(l,n)-m:a?r.coordSysExtent[o.index][s]-m:t[o.wh];i.boundingLength=$,a&&(i.repeatCutLength=t[o.wh]),i.pxSign=$>0?1:$<0?-1:0}function $p(e,a){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(a)))}function Sca(e,a,t,r,i,$,o,n,l,m){var s=l.valueDim,c=l.categoryDim,p=Math.abs(t[c.wh]),v=e.getItemVisual(a,"symbolSize");J(v)?v=v.slice():(null==v&&(v="100%"),v=[v,v]),v[c.index]=Pg(v[c.index],p),v[s.index]=Pg(v[s.index],r?p:Math.abs($)),m.symbolSize=v,(m.symbolScale=[v[0]/n,v[1]/n])[s.index]*=(l.isHorizontal?-1:1)*o}function Tca(e,a,t,r,i){var $=e.get(Qca)||0;$&&(Zp.attr({scale:a.slice(),rotation:t}),Zp.updateTransform(),$/=Zp.getLineScale(),$*=a[r.valueDim.index]),i.valueLineWidth=$}function Uca(e,a,t,r,i,$,o,n,l,m,s,c){var p=s.categoryDim,v=s.valueDim,d=c.pxSign,h=Math.max(a[v.index]+n,0),u=h;if(r){var w=Math.abs(l),V=ua(e.get("symbolMargin"),"15%")+"",g=!1;V.lastIndexOf("!")===V.length-1&&(g=!0,V=V.slice(0,V.length-1)),V=Pg(V,a[v.index]);var y=Math.max(h+2*V,0),b=g?0:2*V,S=Oca(r),_=S?r:UB((w+b)/y);y=h+2*(V=(w-_*h)/2/(g?_:_-1)),b=g?0:2*V,S||"fixed"===r||(_=m?UB((Math.abs(m)+b)/y):0),u=_*y-b,c.repeatTimes=_,c.symbolMargin=V}var f=d*(u/2),x=c.pathPosition=[];x[p.index]=t[p.wh]/2,x[v.index]="start"===o?f:"end"===o?l-f:l/2,$&&(x[0]+=$[0],x[1]+=$[1]);var P=c.bundlePosition=[];P[p.index]=t[p.xy],P[v.index]=t[v.xy];var A=c.barRectShape=z({},t);A[v.wh]=d*Math.max(Math.abs(t[v.wh]),Math.abs(x[v.index]+f)),A[p.wh]=t[p.wh];var M=c.clipShape={};M[p.xy]=-t[p.xy],M[p.wh]=s.ecSize[p.wh],M[v.xy]=0,M[v.wh]=t[v.wh]}function KB(e){var a=e.symbolPatternSize,t=Nca(e.symbolType,-a/2,-a/2,a,a,e.color);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function LB(e,a,t,r){var i=e.__pictorialBundle,$=t.symbolSize,o=t.valueLineWidth,n=t.pathPosition,l=a.valueDim,m=t.repeatTimes||0,s=0,c=$[a.valueDim.index]+o+2*t.symbolMargin;for(Qg(e,function(e){e.__pictorialAnimationIndex=s,e.__pictorialRepeatTimes=m,s<m?bf(e,null,d(s),t,r):bf(e,null,{scale:[0,0]},t,r,function(){i.remove(e)}),_p(e,t),s++});s<m;s++){var p=KB(t);p.__pictorialAnimationIndex=s,p.__pictorialRepeatTimes=m,i.add(p);var v=d(s);bf(p,{position:v.position,scale:[0,0]},{scale:v.scale,rotation:v.rotation},t,r),p.on("mouseover",h).on("mouseout",u),_p(p,t)}function d(e){var a=n.slice(),r=t.pxSign,i=e;return("start"===t.symbolRepeatDirection?r>0:r<0)&&(i=m-1-e),a[l.index]=c*(i-m/2+.5)+n[l.index],{position:a,scale:t.symbolScale.slice(),rotation:t.rotation}}function h(){Qg(e,function(e){e.trigger("emphasis")})}function u(){Qg(e,function(e){e.trigger("normal")})}}function MB(e,a,t,r){var i=e.__pictorialBundle,$=e.__pictorialMainPath;$?bf($,null,{position:t.pathPosition.slice(),scale:t.symbolScale.slice(),rotation:t.rotation},t,r):($=e.__pictorialMainPath=KB(t),i.add($),bf($,{position:t.pathPosition.slice(),scale:[0,0],rotation:t.rotation},{scale:t.symbolScale.slice()},t,r),$.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),_p($,t)}function NB(e,a,t){var r=z({},a.barRectShape),i=e.__pictorialBarRect;i?bf(i,null,{shape:r},a,t):(i=e.__pictorialBarRect=new F({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(i))}function OB(e,a,t,r){if(t.symbolClip){var i=e.__pictorialClipPath,$=z({},t.clipShape),o=a.valueDim,n=t.animationModel,l=t.dataIndex;if(i)A(i,{shape:$},n,l);else{$[o.wh]=0,i=new F({shape:$}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var m={};m[o.wh]=t.clipShape[o.wh],b[r?"updateProps":"initProps"](i,{shape:m},n,l)}}}function PB(e,a){var t=e.getItemModel(a);return t.getAnimationDelayParams=Vca,t.isAnimationEnabled=Wca,t}function Vca(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function Wca(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function _p(e,a){e.off("emphasis").off("normal");var t=a.symbolScale.slice();a.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*t[0],1.1*t[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:t.slice()},400,"elasticOut")})}function QB(e,a,t,r){var i=new q,$=new q;return i.add($),i.__pictorialBundle=$,$.attr("position",t.bundlePosition.slice()),t.symbolRepeat?LB(i,a,t):MB(i,a,t),NB(i,t,r),OB(i,a,t,r),i.__pictorialShapeStr=SB(e,t),i.__pictorialSymbolMeta=t,i}function Xca(e,a,t){var r=t.animationModel,i=t.dataIndex,$=e.__pictorialBundle;A($,{position:t.bundlePosition.slice()},r,i),t.symbolRepeat?LB(e,a,t,!0):MB(e,a,t,!0),NB(e,t,!0),OB(e,a,t,!0)}function RB(e,a,t,r){var i=r.__pictorialBarRect;i&&(i.style.text=null);var $=[];Qg(r,function(e){$.push(e)}),r.__pictorialMainPath&&$.push(r.__pictorialMainPath),r.__pictorialClipPath&&(t=null),k($,function(e){A(e,{scale:[0,0]},t,a,function(){r.parent&&r.parent.remove(r)})}),e.setItemGraphicEl(a,null)}function SB(e,a){return[e.getItemVisual(a.dataIndex,"symbol")||"none",!!a.symbolRepeat,!!a.symbolClip].join(":")}function Qg(e,a,t){k(e.__pictorialBundle.children(),function(r){r!==e.__pictorialBarRect&&a.call(t,r)})}function bf(e,a,t,r,i,$){a&&e.attr(a),r.symbolClip&&!i?t&&e.attr(t):t&&b[i?"updateProps":"initProps"](e,t,r.animationModel,r.dataIndex,$)}function TB(e,a,t){var r=t.color,i=t.dataIndex,$=t.itemModel,o=$.getModel("itemStyle").getItemStyle(["color"]),n=$.getModel("emphasis.itemStyle").getItemStyle(),l=$.getShallow("cursor");Qg(e,function(e){e.setColor(r),e.setStyle(E({fill:r,opacity:t.opacity},o)),V(e,n),l&&(e.cursor=l),e.z2=t.z2});var m={},s=a.valueDim.posDesc[+(t.boundingLength>0)],c=e.__pictorialBarRect;Pca(c.style,m,$,r,a.seriesModel,i,s),V(c,m)}function UB(e){var a=Math.round(e);return Math.abs(e-a)<1e-4?a:Math.ceil(e)}var Yca=Yw;u(w(Yca,"pictorialBar")),s(qd("pictorialBar","roundRect"));var Zca={};var $ca={},_j=function($,i,r,t,o){X.call(this,$,i,r),this.type=t||"value",this.position=o||"bottom",this.orient=null};_j.prototype={constructor:_j,model:null,isHorizontal:function(){var $=this.position;return"top"===$||"bottom"===$},pointToData:function($,i){return this.coordinateSystem.pointToData($,i)[0]},toGlobalCoord:null,toLocalCoord:null},n(_j,X);var _ca=_j;$ca=_ca;var VB={},ada=T,bda=k;function aq(t,i,e){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,i,e),this.model=t}aq.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:aq,_init:function(t,i,e){var r=this.dimension,n=new $ca(r,Ie(t),[0,0],t.get("type"),t.get("position")),o="category"===n.type;n.onBand=o&&t.get("boundaryGap"),n.inverse=t.get("inverse"),n.orient=t.get("orient"),t.axis=n,n.model=t,n.coordinateSystem=this,this._axis=n},update:function(t,i){t.eachSeries(function(t){if(t.coordinateSystem===this){var i=t.getData();bda(i.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(i,t)},this),He(this._axis.scale,this._axis.model)}},this)},resize:function(t,i){this._rect=ada({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:i.getWidth(),height:i.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,i=this._axis,e=i.isHorizontal(),r=e?[0,t.width]:[0,t.height],n=i.reverse?1:0;i.setExtent(r[n],r[1-n]),this._updateAxisTransform(i,e?t.x:t.y)},_updateAxisTransform:function(t,i){var e=t.getExtent(),r=e[0]+e[1],n=t.isHorizontal();t.toGlobalCoord=n?function(t){return t+i}:function(t){return r-t+i},t.toLocalCoord=n?function(t){return t-i}:function(t){return r-t+i}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var i=this.getRect(),e=this.getAxis();return"horizontal"===e.orient?e.contain(e.toLocalCoord(t[0]))&&t[1]>=i.y&&t[1]<=i.y+i.height:e.contain(e.toLocalCoord(t[1]))&&t[0]>=i.y&&t[0]<=i.y+i.height},pointToData:function(t){var i=this.getAxis();return[i.coordToData(i.toLocalCoord(t["horizontal"===i.orient?0:1]))]},dataToPoint:function(t){var i=this.getAxis(),e=this.getRect(),r=[],n="horizontal"===i.orient?0:1;return t instanceof Array&&(t=t[0]),r[n]=i.toGlobalCoord(i.dataToCoord(+t)),r[1-n]=0===n?e.y+e.height/2:e.x+e.width/2,r}};var cda=aq;VB=cda;function dda(e,i){var n=[];return e.eachComponent("singleAxis",function(r,t){var s=new VB(r,e,i);s.name="single_"+t,s.resize(r,i),r.coordinateSystem=s,n.push(s)}),e.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var n=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=n&&n.coordinateSystem}}),n}Xa.register("single",{create:dda,dimensions:VB.prototype.dimensions});function eda(t,i){i=i||{};var e=t.coordinateSystem,o=t.axis,r={},a=o.position,l=o.orient,n=e.getRect(),$=[n.x,n.x+n.width,n.y,n.y+n.height],c={horizontal:{top:$[2],bottom:$[3]},vertical:{left:$[0],right:$[1]}};r.position=["vertical"===l?c.vertical[a]:$[0],"horizontal"===l?c.horizontal[a]:$[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[l];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),ua(i.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var v=i.rotate;return null==v&&(v=t.get("axisLabel.rotate")),r.labelRotation="top"===a?-v:v,r.z2=1,r}var bq=eda;var fda=Hy,gda=Iy,hda=["axisLine","axisTickLabel","axisName"],ida=["splitArea","splitLine"],jda=sd.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,i,r,a){var $=this.group;$.removeAll();var t=this._axisGroup;this._axisGroup=new q;var s=bq(e),l=new cc(e,s);k(hda,l.add,l),$.add(this._axisGroup),$.add(l.getGroup()),k(ida,function(i){e.get(i+".show")&&this["_"+i](e)},this),oi(t,this._axisGroup,e),jda.superCall(this,"render",e,i,r,a)},remove:function(){gda(this)},_splitLine:function(e){var i=e.axis;if(!i.scale.isBlank()){var r=e.getModel("splitLine"),a=r.getModel("lineStyle"),$=a.get("width"),t=a.get("color");t=t instanceof Array?t:[t];for(var s=e.coordinateSystem.getRect(),l=i.isHorizontal(),c=[],o=0,n=i.getTicksCoords({tickModel:r}),p=[],d=[],v=0;v<n.length;++v){var x=i.toGlobalCoord(n[v].coord);l?(p[0]=x,p[1]=s.y,d[0]=x,d[1]=s.y+s.height):(p[0]=s.x,p[1]=x,d[0]=s.x+s.width,d[1]=x);var W=o++%t.length;c[W]=c[W]||[],c[W].push(new ca({subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:{lineWidth:$},silent:!0}))}for(v=0;v<c.length;++v)this.group.add(Wa(c[v],{style:{stroke:t[v%t.length],lineDash:a.getLineDash($),lineWidth:$},silent:!0}))}},_splitArea:function(e){fda(this,this._axisGroup,e,e)}});var WB=p.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),kda={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function lda(e,o){return o.type||(o.data?"category":"value")}f(WB.prototype,nd),Ne("single",WB,lda,kda);var XB={};function mda(t,e){var r,i=[],a=t.seriesIndex;if(null==a||!(r=e.getSeriesByIndex(a)))return{point:[]};var n=r.getData(),o=Kh(n,t);if(null==o||o<0||J(o))return{point:[]};var $=n.getItemGraphicEl(o),l=r.coordinateSystem;if(r.getTooltipPosition)i=r.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)i=l.dataToPoint(n.getValues(j(l.dimensions,function(t){return n.mapDimension(t)}),o,!0))||[];else if($){var f=$.getBoundingRect().clone();f.applyTransform($.transform),i=[f.x+f.width/2,f.y+f.height/2]}return{point:i,el:$}}XB=mda;var nda={},oda=va,Nb=k,YB=w,ZB=oda();function pda(a,e,i){var n=a.currTrigger,r=[a.x,a.y],t=a,$=a.dispatchAction||m(i.dispatchAction,i),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){ak(r)&&(r=XB({seriesIndex:t.seriesIndex,dataIndex:t.dataIndex},e).point);var s=ak(r),u=t.axesInfo,l=o.axesInfo,d="leave"===n||ak(r),c={},p={},v={list:[],map:{}},x={showPointer:YB(rda,p),showTooltip:YB(sda,v)};Nb(o.coordSysMap,function(a,e){var i=s||a.containPoint(r);Nb(o.coordSysAxesInfo[e],function(a,e){var n=a.axis,t=wda(u,a);if(!d&&i&&(!u||t)){var $=t&&t.value;null!=$||s||($=n.pointToData(r)),null!=$&&$B(a,$,x,!1,c)}})});var k={};return Nb(l,function(a,e){var i=a.linkGroup;i&&!p[e]&&Nb(i.axesInfo,function(e,n){var r=p[n];if(e!==a&&r){var t=r.value;i.mapper&&(t=a.axis.scale.parse(i.mapper(t,_B(e),_B(a)))),k[a.key]=t}})}),Nb(k,function(a,e){$B(l[e],a,x,!0,c)}),tda(p,l,c),uda(v,r,a,$),vda(l,$,i),c}}function $B(a,e,i,n,r){var t=a.axis;if(!t.scale.isBlank()&&t.containData(e))if(a.involveSeries){var $=qda(e,a),o=$.payloadBatch,s=$.snapToValue;o[0]&&null==r.seriesIndex&&z(r,o[0]),!n&&a.snap&&t.containData(s)&&null!=s&&(e=s),i.showPointer(a,e,o,r),i.showTooltip(a,$,s)}else i.showPointer(a,e)}function qda(a,e){var i=e.axis,n=i.dim,r=a,t=[],$=Number.MAX_VALUE,o=-1;return Nb(e.seriesModels,function(e,s){var u,l,d=e.getData().mapDimension(n,!0);if(e.getAxisTooltipData){var c=e.getAxisTooltipData(d,a,i);l=c.dataIndices,u=c.nestestValue}else{if(!(l=e.getData().indicesOfNearest(d[0],a,"category"===i.type?.5:null)).length)return;u=e.getData().get(d[0],l[0])}if(null!=u&&isFinite(u)){var p=a-u,v=Math.abs(p);v<=$&&((v<$||p>=0&&o<0)&&($=v,o=p,r=u,t.length=0),Nb(l,function(a){t.push({seriesIndex:e.seriesIndex,dataIndexInside:a,dataIndex:e.getData().getRawIndex(a)})}))}}),{payloadBatch:t,snapToValue:r}}function rda(a,e,i,n){a[e.key]={value:i,payloadBatch:n}}function sda(a,e,i,n){var r=i.payloadBatch,t=e.axis,$=t.model,o=e.axisPointerModel;if(e.triggerTooltip&&r.length){var s=e.coordSys.model,u=GW(s),l=a.map[u];l||(l=a.map[u]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},a.list.push(l)),l.dataByAxis.push({axisDim:t.dim,axisIndex:$.componentIndex,axisType:$.type,axisId:$.id,value:n,valueLabelOpt:{precision:o.get("label.precision"),formatter:o.get("label.formatter")},seriesDataIndices:r.slice()})}}function tda(a,e,i){var n=i.axesInfo=[];Nb(e,function(e,i){var r=e.axisPointerModel.option,t=a[i];t?(!e.useHandle&&(r.status="show"),r.value=t.value,r.seriesDataIndices=(t.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})})}function uda(a,e,i,n){if(!ak(e)&&a.list.length){var r=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:a.list})}else n({type:"hideTip"})}function vda(a,e,i){var n=i.getZr(),r=ZB(n).axisPointerLastHighlights||{},t=ZB(n).axisPointerLastHighlights={};Nb(a,function(a,e){var i=a.axisPointerModel.option;"show"===i.status&&Nb(i.seriesDataIndices,function(a){var e=a.seriesIndex+" | "+a.dataIndex;t[e]=a})});var $=[],o=[];k(r,function(a,e){!t[e]&&o.push(a)}),k(t,function(a,e){!r[e]&&$.push(a)}),o.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:o}),$.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:$})}function wda(a,e){for(var i=0;i<(a||[]).length;i++){var n=a[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function _B(a){var e=a.axis.model,i={},n=i.axisDim=a.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function ak(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}nda=pda;var Gka=Ma({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var xda=va,ec=xda(),yda=k;function zda($,r,e){if(!x.node){var n=r.getZr();ec(n).records||(ec(n).records={}),Ada(n,r),(ec(n).records[$]||(ec(n).records[$]={})).handler=e}}function Ada($,r){function e(e,n){$.on(e,function(e){var i=Dda(r);yda(ec($).records,function($){$&&n($,e,i.dispatchAction)}),Bda(i.pendings,r)})}ec($).initialized||(ec($).initialized=!0,e("click",w(aC,"click")),e("mousemove",w(aC,"mousemove")),e("globalout",Cda))}function Bda($,r){var e,n=$.showTip.length,i=$.hideTip.length;n?e=$.showTip[n-1]:i&&(e=$.hideTip[i-1]),e&&(e.dispatchAction=null,r.dispatchAction(e))}function Cda($,r,e){$.handler("leave",null,e)}function aC($,r,e,n){r.handler($,e,n)}function Dda($){var r={showTip:[],hideTip:[]},e=function(n){var i=r[n.type];i?i.push(n):(n.dispatchAction=e,$.dispatchAction(n))};return{dispatchAction:e,pendings:r}}function Eda($,r){if(!x.node){var e=r.getZr();(ec(e).records||{})[$]&&(ec(e).records[$]=null)}}var bC=zda;var cq=Eda;var cC=Z({type:"axisPointer",render:function(e,r,s){var i=r.getComponent("tooltip"),t=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";bC("axisPointer",s,function(e,r,s){"none"!==t&&("leave"===e||t.indexOf(e)>=0)&&s({type:"updateAxisPointer",currTrigger:e,x:r&&r.offsetX,y:r&&r.offsetY})})},remove:function(e,r){cq(r.getZr(),"axisPointer"),cC.superApply(this._model,"remove",arguments)},dispose:function(e,r){cq("axisPointer",r),cC.superApply(this._model,"dispose",arguments)}});var dq={},Fda=va,Fd=Fda(),dC=B,eq=m;function Rg(){}function eC(e,t,a,r){fC(Fd(a).lastProp,r)||(Fd(a).lastProp=r,t?A(a,r,e):(a.stopAnimation(),a.attr(r)))}function fC(e,t){if(y(e)&&y(t)){var a=!0;return k(t,function(t,r){a=a&&fC(e[r],t)}),!!a}return e===t}function gC(e,t){e[t.get("label.show")?"show":"hide"]()}function fq(e){return{position:e.position.slice(),rotation:e.rotation||0}}function hC(e,t,a){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=i&&(e.zlevel=i),e.silent=a)})}Rg.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,a,r){var i=t.get("value"),n=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=a,r||this._lastValue!==i||this._lastStatus!==n){this._lastValue=i,this._lastStatus=n;var o=this._group,l=this._handle;if(!n||"hide"===n)return o&&o.hide(),void(l&&l.hide());o&&o.show(),l&&l.show();var $={};this.makeElOption($,i,e,t,a);var h=$.graphicKey;h!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=h;var s=this._moveAnimation=this.determineAnimation(e,t);if(o){var d=w(eC,t,s);this.updatePointerEl(o,$,d,t),this.updateLabelEl(o,$,d,t)}else o=this._group=new q,this.createPointerEl(o,$,e,t),this.createLabelEl(o,$,e,t),a.getZr().add(o);hC(o,t,!0),this._renderHandle(i)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var a=t.get("animation"),r=e.axis,i="category"===r.type,n=t.get("snap");if(!n&&!i)return!1;if("auto"===a||null==a){var o=this.animationThreshold;if(i&&r.getBandWidth()>o)return!0;if(n){var l=EW(e).seriesDataCount,$=r.getExtent();return Math.abs($[0]-$[1])/l>o}return!1}return!0===a},makeElOption:function(e,t,a,r,i){},createPointerEl:function(e,t,a,r){var i=t.pointer;if(i){var n=Fd(e).pointerEl=new b[i.type](dC(t.pointer));e.add(n)}},createLabelEl:function(e,t,a,r){if(t.label){var i=Fd(e).labelEl=new F(dC(t.label));e.add(i),gC(i,r)}},updatePointerEl:function(e,t,a){var r=Fd(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),a(r,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,a,r){var i=Fd(e).labelEl;i&&(i.setStyle(t.label.style),a(i,{shape:t.label.shape,position:t.label.position}),gC(i,r))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,a=this._axisPointerModel,r=this._api.getZr(),i=this._handle,n=a.getModel("handle"),o=a.get("status");if(!n.get("show")||!o||"hide"===o)return i&&r.remove(i),void(this._handle=null);this._handle||(t=!0,i=this._handle=qe(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){Sc(e.event)},onmousedown:eq(this._onHandleDragMove,this,0,0),drift:eq(this._onHandleDragMove,this),ondragend:eq(this._onHandleDragEnd,this)}),r.add(i)),hC(i,a,!1);i.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");J(l)||(l=[l,l]),i.attr("scale",[l[0]/2,l[1]/2]),ag(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){eC(this._axisPointerModel,!t&&this._moveAnimation,this._handle,fq(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var a=this._handle;if(a){this._dragging=!0;var r=this.updateHandleTransform(fq(a),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,a.stopAnimation(),a.attr(fq(r)),Fd(a).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),a=this._group,r=this._handle;t&&a&&(this._lastGraphicKey=null,a&&t.remove(a),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,a){return{x:e[a=a||0],y:e[1-a],width:t[a],height:t[1-a]}}},Rg.prototype.constructor=Rg,Lf(Rg);var Gda=Rg;dq=Gda;function Hda(e){var a,t=e.get("type"),r=e.getModel(t+"Style");return"line"===t?(a=r.getLineStyle()).fill=null:"shadow"===t&&((a=r.getAreaStyle()).stroke=null),a}function iC(e,a,t,r,i){var $=jC(t.get("value"),a.axis,a.ecModel,t.get("seriesDataIndices"),{precision:t.get("label.precision"),formatter:t.get("label.formatter")}),s=t.getModel("label"),l=fd(s.get("padding")||0),o=s.getFont(),n=xb($,o),h=i.position,p=n.width+l[1]+l[3],D=n.height+l[0]+l[2],d=i.align;"right"===d&&(h[0]-=p),"center"===d&&(h[0]-=p/2);var g=i.verticalAlign;"bottom"===g&&(h[1]-=D),"middle"===g&&(h[1]-=D/2),Ida(h,p,D,r);var x=s.get("backgroundColor");x&&"auto"!==x||(x=a.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:p,height:D,r:s.get("borderRadius")},position:h.slice(),style:{text:$,textFont:o,textFill:s.getTextColor(),textPosition:"inside",textPadding:l,fill:x,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function Ida(e,a,t,r){var i=r.getWidth(),$=r.getHeight();e[0]=Math.min(e[0]+a,i)-a,e[1]=Math.min(e[1]+t,$)-t,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function jC(e,a,t,r,i){e=a.scale.parse(e);var $=a.scale.getLabel(e,{precision:i.precision}),s=i.formatter;if(s){var l={value:dx(a,e),axisDimension:a.dim,axisIndex:a.index,seriesData:[]};k(r,function(e){var a=t.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,i=a&&a.getDataParams(r);i&&l.seriesData.push(i)}),M(s)?$=s.replace("{value}",$):fa(s)&&($=s(l))}return $}function kC(e,a,t){var r=Ha();return Rb(r,r,t.rotation),fb(r,r,t.position),Xb([e.dataToCoord(a),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Jda(e,a,t,r,i,$){var s=cc.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get("label.margin"),iC(a,r,i,$,{position:kC(r.axis,e,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function Kda(e,a,t){return{x1:e[t=t||0],y1:e[1-t],x2:a[t],y2:a[1-t]}}function Lda(e,a,t){return{x:e[t=t||0],y:e[1-t],width:a[t],height:a[1-t]}}function Mda(e,a,t,r,i,$){return{cx:e,cy:a,r0:t,r:r,startAngle:i,endAngle:$,clockwise:!0}}var gq=Hda;var Nda=iC;var Oda=jC;var lC=kC;var mC=Jda;var hq=Kda;var nC=Lda;var oC=Mda;var Pda=dq.extend({makeElOption:function(e,r,a,i,t){var $=a.axis,n=$.grid,o=i.get("type"),s=pC(n,$).getOtherAxis($).getGlobalExtent(),l=$.toGlobalCoord($.dataToCoord(r,!0));if(o&&"none"!==o){var m=gq(i),v=Qda[o]($,l,s);v.style=m,e.graphicKey=v.type,e.pointer=v}var b=vo(n.model,a);mC(r,e,b,a,i,t)},getHandleTransform:function(e,r,a){var i=vo(r.axis.grid.model,r,{labelInside:!1});return i.labelMargin=a.get("handle.margin"),{position:lC(r.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,r,a,i){var t=a.axis,$=t.grid,n=t.getGlobalExtent(!0),o=pC($,t).getOtherAxis(t).getGlobalExtent(),s="x"===t.dim?0:1,l=e.position;l[s]+=r[s],l[s]=Math.min(n[1],l[s]),l[s]=Math.max(n[0],l[s]);var m=(o[1]+o[0])/2,v=[m,m];v[s]=l[s];return{position:l,rotation:e.rotation,cursorPoint:v,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][s]}}});function pC(e,r){var a={};return a[r.dim+"AxisIndex"]=r.index,e.getCartesian(a)}var Qda={line:function(e,r,a){return{type:"Line",subPixelOptimize:!0,shape:hq([r,a[0]],[r,a[1]],qC(e))}},shadow:function(e,r,a){var i=Math.max(1,e.getBandWidth()),t=a[1]-a[0];return{type:"Rect",shape:nC([r-i/2,a[0]],[i,t],qC(e))}}};function qC(e){return"x"===e.dim?0:1}sd.registerAxisPointerClass("CartesianAxisPointer",Pda);la(function(r){if(r){(!r.axisPointer||0===r.axisPointer.length)&&(r.axisPointer={});var e=r.axisPointer.link;e&&!J(e)&&(r.axisPointer.link=[e])}}),ab(Jb.PROCESSOR.STATISTIC,function(r,e){r.getComponent("axisPointer").coordSysAxesInfo=CW(r,e)}),d({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},nda);var rC=["x","y"],Rda=["width","height"],Sda=dq.extend({makeElOption:function(e,i,r,$,a){var t=r.axis,n=t.coordinateSystem,o=iq(n,1-bk(t)),d=n.dataToPoint(i)[0],l=$.get("type");if(l&&"none"!==l){var m=gq($),v=Tda[l](t,d,o);v.style=m,e.graphicKey=v.type,e.pointer=v}var w=bq(r);mC(i,e,w,r,$,a)},getHandleTransform:function(e,i,r){var $=bq(i,{labelInside:!1});return $.labelMargin=r.get("handle.margin"),{position:lC(i.axis,e,$),rotation:$.rotation+($.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,i,r,$){var a=r.axis,t=a.coordinateSystem,n=bk(a),o=iq(t,n),d=e.position;d[n]+=i[n],d[n]=Math.min(o[1],d[n]),d[n]=Math.max(o[0],d[n]);var l=iq(t,1-n),m=(l[1]+l[0])/2,v=[m,m];return v[n]=d[n],{position:d,rotation:e.rotation,cursorPoint:v,tooltipOption:{verticalAlign:"middle"}}}}),Tda={line:function(e,i,r){return{type:"Line",subPixelOptimize:!0,shape:hq([i,r[0]],[i,r[1]],bk(e))}},shadow:function(e,i,r){var $=e.getBandWidth(),a=r[1]-r[0];return{type:"Rect",shape:nC([i-$/2,r[0]],[$,a],bk(e))}}};function bk(e){return e.isHorizontal()?0:1}function iq(e,i){var r=e.getRect();return[r[rC[i]],r[rC[i]]+r[Rda[i]]]}sd.registerAxisPointerClass("SingleAxisPointer",Sda);Z({type:"single"});var Uda=Dn,sC=Dt,Vda=Ja,jq=2,Wda=Q.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){Wda.superApply(this,"init",arguments),this.legendVisualProvider=new sg(m(this.getData,this),m(this.getRawData,this))},fixData:function(e){var a=e.length,r={},i=sC(e,function(e){return r.hasOwnProperty(e[0])||(r[e[0]]=-1),e[2]}),t=[];i.buckets.each(function(e,a){t.push({name:a,dataList:e})});for(var n=t.length,$=0;$<n;++$){for(var s=t[$].name,m=0;m<t[$].dataList.length;++m){var o=t[$].dataList[m][0];r[o]=$}for(var o in r)r.hasOwnProperty(o)&&r[o]!==$&&(r[o]=$,e[a]=[],e[a][0]=o,e[a][1]=0,e[a][2]=s,a++)}return e},getInitialData:function(e,a){for(var r=a.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=Ea(e.data,function(e){return void 0!==e[2]}),t=this.fixData(i||[]),n=[],$=this.nameMap=G(),s=0,m=0;m<t.length;++m)n.push(t[m][jq]),$.get(t[m][jq])||($.set(t[m][jq],s),s++);var o=Be(t,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Uda(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),l=new ka(o,this);return l.initData(t),l},getLayerSeries:function(){for(var e=this.getData(),a=e.count(),r=[],i=0;i<a;++i)r[i]=i;var t=e.mapDimension("single"),n=sC(r,function(a){return e.get("name",a)}),$=[];return n.buckets.each(function(a,r){a.sort(function(a,r){return e.get(t,a)-e.get(t,r)}),$.push({name:r,indices:a})}),$},getAxisTooltipData:function(e,a,r){J(e)||(e=e?[e]:[]);for(var i,t=this.getData(),n=this.getLayerSeries(),$=[],s=n.length,m=0;m<s;++m){for(var o=Number.MAX_VALUE,l=-1,v=n[m].indices.length,u=0;u<v;++u){var q=t.get(e[0],n[m].indices[u]),d=Math.abs(q-a);d<=o&&(i=q,o=d,l=n[m].indices[u])}$.push(l)}return{dataIndices:$,nestestValue:i}},formatTooltip:function(e){var a=this.getData(),r=a.getName(e),i=a.get(a.mapDimension("value"),e);return(isNaN(i)||null==i)&&(i="-"),Vda(r+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});var cf,df;function kq(){throw new Error("setTimeout has not been defined")}function lq(){throw new Error("clearTimeout has not been defined")}function Xda($){if(cf===setTimeout)return setTimeout($,0);if((cf===kq||!cf)&&setTimeout)return cf=setTimeout,setTimeout($,0);try{return cf($,0)}catch(e){try{return cf.call(null,$,0)}catch(e){return cf.call(this,$,0)}}}function Yda($){if(df===clearTimeout)return clearTimeout($);if((df===lq||!df)&&clearTimeout)return df=clearTimeout,clearTimeout($);try{return df($)}catch(e){try{return df.call(null,$)}catch(e){return df.call(this,$)}}}!function(){try{cf="function"==typeof setTimeout?setTimeout:kq}catch($){cf=kq}try{df="function"==typeof clearTimeout?clearTimeout:lq}catch($){df=lq}}();var Sg,Tg=[],tC=!1,uC=-1;function Zda(){tC&&Sg&&(tC=!1,Sg.length?Tg=Sg.concat(Tg):uC=-1,Tg.length&&$da())}function $da(){if(!tC){var $=Xda(Zda);tC=!0;for(var e=Tg.length;e;){for(Sg=Tg,Tg=[];++uC<e;)Sg&&Sg[uC].run();uC=-1,e=Tg.length}Sg=null,tC=!1,Yda($)}}function _da($,e){this.fun=$,this.array=e}_da.prototype.run=function(){this.fun.apply(null,this.array)};var aea=ay,mq=m,bea=z,Hka=Ca({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,r){var a=e.getData(),$=this.group,s=e.getLayerSeries(),i=a.getLayout("layoutInfo"),c=i.rect,o=i.boundaryGap;function l(e){return e.name}$.attr("position",[0,c.y+o[0]]);var n=new kd(this._layersSeries||[],s,l,l),d={};function h(t,r,i){var c=this._layers;if("remove"!==t){for(var o,l,n,h=[],p=[],v=s[r].indices,D=0;D<v.length;D++){var k=a.getItemLayout(v[D]),g=k.x,u=k.y0,y=k.y;h.push([g,u]),p.push([g,u+y]),o=a.getItemVisual(v[D],"color")}var m=a.getItemLayout(v[0]),f=a.getItemModel(v[D-1]),x=f.getModel("label"),S=x.get("margin");if("add"===t){var _=d[r]=new q;l=new aea({shape:{points:h,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),n=new K({style:{x:m.x-S,y:m.y0+m.y/2}}),_.add(l),_.add(n),$.add(_),l.setClipPath(cea(l.getBoundingRect(),e,function(){l.removeClipPath()}))}else{_=c[i];l=_.childAt(0),n=_.childAt(1),$.add(_),d[r]=_,A(l,{shape:{points:h,stackedOnPoints:p}},e),A(n,{style:{x:m.x-S,y:m.y0+m.y/2}},e)}var w=f.getModel("emphasis.itemStyle"),P=f.getModel("itemStyle");R(n.style,x,{text:x.get("show")?e.getFormattedLabel(v[D-1],"normal")||a.getName(v[D-1]):null,textVerticalAlign:"middle"}),l.setStyle(bea({fill:o},P.getItemStyle(["color"]))),V(l,w.getItemStyle())}else $.remove(c[r])}n.add(mq(h,this,"add")).update(mq(h,this,"update")).remove(mq(h,this,"remove")).execute(),this._layersSeries=s,this._layers=d},dispose:function(){}});function cea(e,t,r){var a=new F({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return ga(a,{shape:{width:e.width+20,height:e.height+20}},t,r),a}function dea(e,r){e.eachSeriesByType("themeRiver",function(e){var r=e.getData(),t=e.coordinateSystem,n={},a=t.getRect();n.rect=a;var i=e.get("boundaryGap"),$=t.getAxis();(n.boundaryGap=i,"horizontal"===$.orient)?(i[0]=D(i[0],a.height),i[1]=D(i[1],a.height),vC(r,e,a.height-i[0]-i[1])):(i[0]=D(i[0],a.width),i[1]=D(i[1],a.width),vC(r,e,a.width-i[0]-i[1]));r.setLayout("layoutInfo",n)})}function vC(e,r,t){if(e.count())for(var n,a=r.coordinateSystem,i=r.getLayerSeries(),$=e.mapDimension("single"),s=e.mapDimension("value"),o=j(i,function(r){return j(r.indices,function(r){var t=a.dataToPoint(e.get($,r));return t[1]=e.get(s,r),t})}),u=eea(o),v=u.y0,l=t/u.max,L=i.length,c=i[0].indices.length,m=0;m<c;++m){n=v[m]*l,e.setItemLayout(i[0].indices[m],{layerIndex:0,x:o[0][m][0],y0:n,y:o[0][m][1]*l});for(var y=1;y<L;++y)n+=o[y-1][m][1]*l,e.setItemLayout(i[y].indices[m],{layerIndex:y,x:o[y][m][0],y0:n,y:o[y][m][1]*l})}}function eea(e){for(var r=e.length,t=e[0].length,n=[],a=[],i=0,$={},s=0;s<t;++s){for(var o=0,u=0;o<r;++o)u+=e[o][s][1];u>i&&(i=u),n.push(u)}for(var v=0;v<t;++v)a[v]=(i-n[v])/2;i=0;for(var l=0;l<t;++l){var L=n[l]+a[l];L>i&&(i=L)}return $.y0=a,$.max=i,$}Zca=dea;var fea={},gea=G;function hea(e){e.eachSeriesByType("themeRiver",function(e){var a=e.getData(),t=e.getRawData(),r=e.get("color"),$=gea();a.each(function(e){$.set(a.getRawIndex(e),e)}),t.each(function(i){var c=t.getName(i),l=r[(e.nameMap.get(c)-1)%r.length];t.setItemVisual(i,"color",l);var n=$.get(i);null!=n&&a.setItemVisual(n,"color",l)})})}fea=hea;u(Zca),s(fea),ab(tg("themeRiver"));var iea={},ef=D,wC=Math.PI/180;var jea=Xo,Ika=Q.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,r){var t={name:e.name,children:e.data};xC(t);var a=j(e.levels||[],function(e){return new L(e,this,r)},this),i=Ro.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,r){var t=i.getNodeByDataIndex(r),o=a[t.depth];return o&&(e.parentModel=o),e})});return i.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var r=Q.prototype.getDataParams.apply(this,arguments),t=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=jea(t,this),r},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;e&&(e===r||r.contains(e))||(this._viewRoot=r)}});function xC(e){var r=0;k(e.children,function(e){xC(e);var t=e.value;J(t)&&(t=t[0]),r+=t});var t=e.value;J(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=r),t<0&&(t=0),J(e.value)?e.value[0]=t:e.value=t}var yC={},ck={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},kea=2,lea=4;function nq(e,t,r){q.call(this);var a=new mb({z2:kea});a.seriesIndex=t.seriesIndex;var o=new K({z2:lea,silent:e.getModel("label").get("silent")});function i(){o.ignore=o.hoverIgnore}function l(){o.ignore=o.normalIgnore}this.add(a),this.add(o),this.updateData(!0,e,"normal",t,r),this.on("emphasis",i).on("normal",l).on("mouseover",i).on("mouseout",l)}var Gd=nq.prototype;Gd.updateData=function(e,t,r,a,o){this.node=t,t.piece=this,a=a||this._seriesModel,o=o||this._ecModel;var i=this.childAt(0);i.dataIndex=t.dataIndex;var l=t.getModel(),n=t.getLayout(),$=z({},n);$.label=null;var v=nea(t,a,o);qea(t,a,v);var s,h=l.getModel("itemStyle").getItemStyle();if("normal"===r)s=h;else{var u=l.getModel(r+".itemStyle").getItemStyle();s=f(u,h)}s=E({lineJoin:"bevel",fill:s.fill||v},s),e?(i.setShape($),i.shape.r=n.r0,A(i,{shape:{r:n.r}},a,t.dataIndex),i.useStyle(s)):"object"==typeof s.fill&&s.fill.type||"object"==typeof i.style.fill&&i.style.fill.type?(A(i,{shape:$},a),i.useStyle(s)):A(i,{shape:$,style:s},a),this._updateLabel(a,v,r);var d=l.getShallow("cursor");if(d&&i.attr("cursor",d),e){var c=a.getShallow("highlightPolicy");this._initEvents(i,t,a,c)}this._seriesModel=a||this._seriesModel,this._ecModel=o||this._ecModel,V(this)},Gd.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(r){r.piece&&(t.node===r?r.piece.updateData(!1,r,"emphasis"):pea(r,t.node,e)?r.piece.childAt(0).trigger("highlight"):e!==ck.NONE&&r.piece.childAt(0).trigger("downplay"))})},Gd.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},Gd.onHighlight=function(){this.updateData(!1,this.node,"highlight")},Gd.onDownplay=function(){this.updateData(!1,this.node,"downplay")},Gd._updateLabel=function(e,t,r){var a=this.node.getModel(),o=a.getModel("label"),i="normal"===r||"emphasis"===r?o:a.getModel(r+".label"),l=a.getModel("emphasis.label"),n=i.get("formatter")?r:"normal",$=ua(e.getFormattedLabel(this.node.dataIndex,n,null,null,"label"),this.node.name);!1===S("show")&&($="");var v=this.node.getLayout(),s=i.get("minAngle");null==s&&(s=o.get("minAngle")),s=s/180*Math.PI;var h=v.endAngle-v.startAngle;null!=s&&Math.abs(h)<s&&($="");var u=this.childAt(1);Ia(u.style,u.hoverStyle||{},o,l,{defaultText:i.getShallow("show")?$:null,autoColor:t,useInsideStyle:!0});var d,c=(v.startAngle+v.endAngle)/2,g=Math.cos(c),p=Math.sin(c),f=S("position"),F=S("distance")||0,X=S("align");"outside"===f?(d=v.r+F,X=c>Math.PI/2?"right":"left"):X&&"center"!==X?"left"===X?(d=v.r0+F,c>Math.PI/2&&(X="right")):"right"===X&&(d=v.r-F,c>Math.PI/2&&(X="left")):(d=(v.r+v.r0)/2,X="center"),u.attr("style",{text:$,textAlign:X,textVerticalAlign:S("verticalAlign")||"middle",opacity:S("opacity")});var k=d*g+v.cx,P=d*p+v.cy;u.attr("position",[k,P]);var m=S("rotate"),y=0;function S(e){var t=i.get(e);return null==t?o.get(e):t}"radial"===m?(y=-c)<-Math.PI/2&&(y+=Math.PI):"tangential"===m?(y=Math.PI/2-c)>Math.PI/2?y-=Math.PI:y<-Math.PI/2&&(y+=Math.PI):"number"==typeof m&&(y=m*Math.PI/180),u.attr("rotation",y)},Gd._initEvents=function(e,t,r,a){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var o=this,i=function(){o.onEmphasis(a)},l=function(){o.onNormal()};r.isAnimationEnabled()&&e.on("mouseover",i).on("mouseout",l).on("emphasis",i).on("normal",l).on("downplay",function(){o.onDownplay()}).on("highlight",function(){o.onHighlight()})},n(nq,q);var mea=nq;function nea(e,t,r){var a=e.getVisual("color"),o=e.getVisual("visualMeta");o&&0!==o.length||(a=null);var i=e.getModel("itemStyle").get("color");if(i)return i;if(a)return a;if(0===e.depth)return r.option.color[0];var l=r.option.color.length;return i=r.option.color[oea(e)%l]}function oea(e){for(var t=e;t.depth>1;)t=t.parentNode;var r=e.getAncestors()[0];return C(r.children,t)}function pea(e,t,r){return r!==ck.NONE&&(r===ck.SELF?e===t:r===ck.ANCESTOR?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}function qea(e,t,r){t.getData().setItemVisual(e.dataIndex,"color",r)}yC=mea;var rea=si,sea="sunburstRootToNode",Jka=Ba.extend({type:"sunburst",init:function(){},render:function(e,i,t,r){var a=this;this.seriesModel=e,this.api=t,this.ecModel=i;var n=e.getData(),o=n.tree.root,c=e.getViewRoot(),l=this.group,d=e.get("renderLabelForZeroData"),u=[];c.eachNode(function(e){u.push(e)});var $=this._oldChildren||[];if(function(t,r){if(0===t.length&&0===r.length)return;function a(e){return e.getId()}function c(a,c){var u=null==a?null:t[a],$=null==c?null:r[c];!function(t,r){d||!t||t.getValue()||(t=null);if(t!==o&&r!==o)if(r&&r.piece)t?(r.piece.updateData(!1,t,"normal",e,i),n.setItemGraphicEl(t.dataIndex,r.piece)):function(e){if(!e)return;e.piece&&(l.remove(e.piece),e.piece=null)}(r);else if(t){var a=new yC(t,e,i);l.add(a),n.setItemGraphicEl(t.dataIndex,a)}}(u,$)}new kd(r,t,a,a).add(c).update(c).remove(w(c,null)).execute()}(u,$),function(t,r){if(r.depth>0){a.virtualPiece?a.virtualPiece.updateData(!1,t,"normal",e,i):(a.virtualPiece=new yC(t,e,i),l.add(a.virtualPiece)),r.piece._onclickEvent&&r.piece.off("click",r.piece._onclickEvent);var n=function(e){a._rootToNode(r.parentNode)};r.piece._onclickEvent=n,a.virtualPiece.on("click",n)}else a.virtualPiece&&(l.remove(a.virtualPiece),a.virtualPiece=null)}(o,c),r&&r.highlight&&r.highlight.piece){var s=e.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(s)}else if(r&&r.unhighlight){var v=this.virtualPiece;!v&&o.children.length&&(v=o.children[0].piece),v&&v.onNormal()}this._initEvents(),this._oldChildren=u},dispose:function(){},_initEvents:function(){var e=this,i=function(i){var t=!1;e.seriesModel.getViewRoot().eachNode(function(r){if(!t&&r.piece&&r.piece.childAt(0)===i.target){var a=r.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(r);else if("link"===a){var n=r.getModel(),o=n.get("link");if(o){var c=n.get("target",!0)||"_blank";rea(o,c)}}t=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",i),this.group._onclickEvent=i},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:sea,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,i){var t=i.getData().getItemLayout(0);if(t){var r=e[0]-t.cx,a=e[1]-t.cy,n=Math.sqrt(r*r+a*a);return n<=t.r&&n>=t.r0}}});var zC="sunburstRootToNode";d({type:zC,update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,$){var t=Eg(e,[zC],r);if(t){var a=r.getViewRoot();a&&(e.direction=Wo(a,t.node)?"rollUp":"drillDown"),r.resetViewRoot(t.node)}})});var AC="sunburstHighlight";d({type:AC,update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,$){var t=Eg(e,[AC],r);t&&(e.highlight=t.node)})});var tea="sunburstUnhighlight";d({type:tea,update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,$){e.unhighlight=!0})});function uea(e,r,t,$){r.eachSeriesByType(e,function(e){var r=e.get("center"),$=e.get("radius");J($)||($=[0,$]),J(r)||(r=[r,r]);var a=t.getWidth(),n=t.getHeight(),o=Math.min(a,n),i=ef(r[0],a),l=ef(r[1],n),c=ef($[0],o/2),A=ef($[1],o/2),v=-e.get("startAngle")*wC,u=e.get("minAngle")*wC,g=e.getData().tree.root,C=e.getViewRoot(),s=C.depth,K=e.get("sort");null!=K&&BC(C,K);var h=0;k(C.children,function(e){!isNaN(e.getValue())&&h++});var d=C.getValue(),f=Math.PI/(d||h)*2,p=C.depth>0,P=C.height-(p?-1:1),y=(A-c)/(P||1),I=e.get("clockwise"),z=e.get("stillShowZeroSum"),m=I?1:-1,x=function(e,r){if(e){var t=r;if(e!==g){var $=e.getValue(),a=0===d&&z?f:$*f;a<u&&(a=u),t=r+m*a;var n=e.depth-s-(p?-1:1),A=c+y*n,v=c+y*(n+1),C=e.getModel();null!=C.get("r0")&&(A=ef(C.get("r0"),o/2)),null!=C.get("r")&&(v=ef(C.get("r"),o/2)),e.setLayout({angle:a,startAngle:r,endAngle:t,clockwise:I,cx:i,cy:l,r0:A,r:v})}if(e.children&&e.children.length){var K=0;k(e.children,function(e){K+=x(e,r+K)})}return t-r}};if(p){var U=c,V=c+y,w=2*Math.PI;g.setLayout({angle:w,startAngle:v,endAngle:v+w,clockwise:I,cx:i,cy:l,r0:U,r:V})}x(C,v)})}function BC(e,r){var t=e.children||[];e.children=vea(t,r),t.length&&k(e.children,function(e){BC(e,r)})}function vea(e,r){if("function"==typeof r)return e.sort(r);var t="asc"===r;return e.sort(function(e,r){var $=(e.getValue()-r.getValue())*(t?1:-1);return 0===$?(e.dataIndex-r.dataIndex)*(t?-1:1):$})}iea=uea;s(w(vj,"sunburst")),u(w(iea,"sunburst")),ab(w(tg,"sunburst"));var wea={};function xea(r,t){return t=t||[0,0],j(["x","y"],function(a,e){var $=this.getAxis(a),i=t[e],o=r[e]/2;return"category"===$.type?$.getBandWidth():Math.abs($.dataToCoord(i-o)-$.dataToCoord(i+o))},this)}function yea(r){var t=r.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return r.dataToPoint(t)},size:m(xea,r)}}}wea=yea;var zea={};function Aea(o,t){return t=t||[0,0],j([0,1],function(r){var a=t[r],$=o[r]/2,i=[],e=[];return i[r]=a-$,e[r]=a+$,i[1-r]=e[1-r]=t[1-r],Math.abs(this.dataToPoint(i)[r]-this.dataToPoint(e)[r])},this)}function Bea(o){var t=o.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:o.getZoom()},api:{coord:function(t){return o.dataToPoint(t)},size:m(Aea,o)}}}zea=Bea;var Cea={};function Dea(r,t){var a=this.getAxis(),e=t instanceof Array?t[0]:t,o=(r instanceof Array?r[0]:r)/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(e-o)-a.dataToCoord(e+o))}function Eea(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return r.dataToPoint(t)},size:m(Dea,r)}}}Cea=Eea;var Fea={};function Gea(r,t){return j(["Radius","Angle"],function(a,e){var $=this["get"+a+"Axis"](),i=t[e],o=r[e]/2,n="dataTo"+a,d="category"===$.type?$.getBandWidth():Math.abs($[n](i-o)-$[n](i+o));return"Angle"===a&&(d=d*Math.PI/180),d},this)}function Hea(r){var t=r.getRadiusAxis(),a=r.getAngleAxis(),e=t.getExtent();return e[0]>e[1]&&e.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:e[1],r0:e[0]},api:{coord:m(function(e){var $=t.dataToRadius(e[0]),i=a.dataToAngle(e[1]),o=r.coordToPoint([$,i]);return o.push($,i*Math.PI/180),o}),size:m(Gea,r)}}}Fea=Hea;var Iea={};function Jea(e){var t=e.getRect(),a=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(t,a){return e.dataToPoint(t,a)}}}}Iea=Jea;var CC=io,Kea=CS,Lea=lj,DC=Ju,Mea=["itemStyle"],Nea=["emphasis","itemStyle"],Oea=["label"],Pea=["emphasis","label"],Qea="e\0\0",Rea={cartesian2d:wea,geo:zea,singleAxis:Cea,polar:Fea,calendar:Iea};function Sea(e){var r,a=e.type;if("path"===a){var t=e.shape,$=null!=t.width&&null!=t.height?{x:t.x||0,y:t.y||0,width:t.width,height:t.height}:null,i=KC(t);(r=Im(i,null,$,t.layout||"center")).__customPathData=i}else if("image"===a)(r=new oa({})).__customImagePath=e.style.image;else if("text"===a)(r=new K({})).__customText=e.style.text;else if("group"===a)r=new q;else{if("compoundPath"===a)throw new Error("\"compoundPath\" is not supported yet.");r=new(Hm(a))}return r.__customGraphicType=a,r.name=e.name,r}function Tea(e,r,a,t,$,i,v){var u={},n=a.style||{};if(a.shape&&(u.shape=B(a.shape)),a.position&&(u.position=a.position.slice()),a.scale&&(u.scale=a.scale.slice()),a.origin&&(u.origin=a.origin.slice()),a.rotation&&(u.rotation=a.rotation),"image"===e.type&&a.style){var l=u.style={};k(["x","y","width","height"],function(r){EC(r,l,n,e.style,i)})}if("text"===e.type&&a.style){l=u.style={};k(["x","y"],function(r){EC(r,l,n,e.style,i)}),!n.hasOwnProperty("textFill")&&n.fill&&(n.textFill=n.fill),!n.hasOwnProperty("textStroke")&&n.stroke&&(n.textStroke=n.stroke)}if("group"!==e.type&&(e.useStyle(n),i)){e.style.opacity=0;var o=n.opacity;null==o&&(o=1),ga(e,{style:{opacity:o}},t,r)}i?e.attr(u):A(e,u,t,r),a.hasOwnProperty("z2")&&e.attr("z2",a.z2||0),a.hasOwnProperty("silent")&&e.attr("silent",a.silent),a.hasOwnProperty("invisible")&&e.attr("invisible",a.invisible),a.hasOwnProperty("ignore")&&e.attr("ignore",a.ignore),a.hasOwnProperty("info")&&e.attr("info",a.info);var p=a.styleEmphasis;mi(e,p),v&&pe(e,!1!==p)}function EC(e,r,a,t,$){null==a[e]||$||(r[e]=a[e],a[e]=t[e])}function FC(e,r,a,t){var $=e.get("renderItem"),i=e.coordinateSystem,v={};i&&(v=i.prepareCustoms?i.prepareCustoms():Rea[i.type](i));var u,n,l,o,p,s=E({getWidth:t.getWidth,getHeight:t.getHeight,getZr:t.getZr,getDevicePixelRatio:t.getDevicePixelRatio,value:function(e,a){return null==a&&(a=u),r.get(r.getDimension(e||0),a)},style:function(a,t){null==t&&(t=u),X(t);var $=n.getModel(Mea).getItemStyle();null!=p&&($.fill=p);var i=r.getItemVisual(t,"opacity");null!=i&&($.opacity=i);var v=a?IC(a,l):l;return R($,v,null,{autoColor:p,isRectText:!0}),$.text=v.getShallow("show")?Fa(e.getFormattedLabel(t,"normal"),CC(r,t)):null,a&&JC($,a),$},styleEmphasis:function(a,t){null==t&&(t=u),X(t);var $=n.getModel(Nea).getItemStyle(),i=a?IC(a,o):o;return R($,i,null,{isRectText:!0},!0),$.text=i.getShallow("show")?kc(e.getFormattedLabel(t,"emphasis"),e.getFormattedLabel(t,"normal"),CC(r,t)):null,a&&JC($,a),$},visual:function(e,a){return null==a&&(a=u),r.getItemVisual(a,e)},barLayout:function(e){if(i.getBaseAxis){var r=i.getBaseAxis();return Kea(E({axis:r},e),t)}},currentSeriesIndices:function(){return a.getCurrentSeriesIndices()},font:function(e){return Km(e,a)}},v.api||{}),c={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:v.coordSys,dataInsideLength:r.count(),encode:Uea(e.getData())},d=!0;return function(e,a){return u=e,d=!0,$&&$(E({dataIndexInside:e,dataIndex:r.getRawIndex(e),actionType:a?a.type:null},c),s)};function X(e){null==e&&(e=u),d&&(n=r.getItemModel(e),l=n.getModel(Oea),o=n.getModel(Pea),p=r.getItemVisual(e,"color"),d=!1)}}function Uea(e){var r={};return k(e.dimensions,function(a,t){var $=e.getDimensionInfo(a);if(!$.isExtraCoord){var i=$.coordDim;(r[i]=r[i]||[])[$.coordDimIndex]=t}}),r}function oq(e,r,a,t,$,i){return(e=pq(e,r,a,t,$,i,!0))&&i.setItemGraphicEl(r,e),e}function pq(e,r,a,t,$,i,v){var u=!a,n=(a=a||{}).type,l=a.shape,o=a.style;if(e&&(u||null!=n&&n!==e.__customGraphicType||"path"===n&&Yea(l)&&KC(l)!==e.__customPathData||"image"===n&&LC(o,"image")&&o.image!==e.__customImagePath||"text"===n&&LC(l,"text")&&o.text!==e.__customText)&&($.remove(e),e=null),!u){var p=!e;return!e&&(e=Sea(a)),Tea(e,r,a,t,i,p,v),"group"===n&&Vea(e,r,a,t,i),$.add(e),e}}function Vea(e,r,a,t,$){var i=a.children,v=i?i.length:0,u=a.$mergeChildren,n="byName"===u||a.diffChildrenByName,l=!1===u;if(v||n||l)if(n)Wea({oldChildren:e.children()||[],newChildren:i||[],dataIndex:r,animatableModel:t,group:e,data:$});else{l&&e.removeAll();for(var o=0;o<v;o++)i[o]&&pq(e.childAt(o),r,i[o],t,e,$)}}function Wea(e){new kd(e.oldChildren,e.newChildren,GC,GC,e).add(HC).update(HC).remove(Xea).execute()}function GC(e,r){var a=e&&e.name;return null!=a?a:Qea+r}function HC(e,r){var a=this.context,t=null!=e?a.newChildren[e]:null;pq(null!=r?a.oldChildren[r]:null,a.dataIndex,t,a.animatableModel,a.group,a.data)}function IC(e,r){var a=new L({},r);return k(DC,function(r,t){e.hasOwnProperty(r)&&(a.option[t]=e[r])}),a}function JC(e,r){for(var a in r)!r.hasOwnProperty(a)&&DC.hasOwnProperty(a)||(e[a]=r[a])}function Xea(e){var r=this.context,a=r.oldChildren[e];a&&r.group.remove(a)}function KC(e){return e&&(e.pathData||e.d)}function Yea(e){return e&&(e.hasOwnProperty("pathData")||e.hasOwnProperty("d"))}function LC(e,r){return e&&e.hasOwnProperty(r)}Q.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(e,r){return _b(this.getSource(),this)},getDataParams:function(e,r,a){var t=Q.prototype.getDataParams.apply(this,arguments);return a&&(t.info=a.info),t}}),Ba.extend({type:"custom",_data:null,render:function(e,r,a,t){var $=this._data,i=e.getData(),v=this.group,u=FC(e,i,r,a);i.diff($).add(function(r){oq(null,r,u(r,t),e,v,i)}).update(function(r,a){oq($.getItemGraphicEl(a),r,u(r,t),e,v,i)}).remove(function(e){var r=$.getItemGraphicEl(e);r&&v.remove(r)}).execute();var n=e.get("clip",!0)?Lea(e.coordinateSystem,!1,e):null;n?v.setClipPath(n):v.removeClipPath(),this._data=i},incrementalPrepareRender:function(e,r,a){this.group.removeAll(),this._data=null},incrementalRender:function(e,r,a,t,$){var i=r.getData(),v=FC(r,i,a,t);function u(e){e.isGroup||(e.incremental=!0,e.useHoverLayer=!0)}for(var n=e.start;n<e.end;n++){oq(null,n,v(n,$),r,this.group,i).traverse(u)}},dispose:$,filterForExposedEvent:function(e,r,a,t){var $=r.element;if(null==$||a.name===$)return!0;for(;(a=a.parent)&&a!==this.group;)if(a.name===$)return!0;return!1}});var Zea={},dk=D,$ea=De;function MC(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function NC(t,a){return a.dim+t.model.componentIndex}function _ea(t,a,e){var r={},i=afa(Ea(a.getSeriesByType(t),function(t){return!a.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));a.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var a=t.getData(),e=t.coordinateSystem,$=e.getBaseAxis(),n=NC(e,$),d=MC(t),o=i[n][d],s=o.offset,c=o.width,h=e.getOtherAxis($),w=t.coordinateSystem.cx,v=t.coordinateSystem.cy,u=t.get("barMinHeight")||0,l=t.get("barMinAngle")||0;r[d]=r[d]||[];for(var g=a.mapDimension(h.dim),H=a.mapDimension($.dim),m=$ea(a,g),K="radius"!==$.dim||!t.get("roundCap",!0),p="radius"===h.dim?h.dataToRadius(0):h.dataToAngle(0),y=0,S=a.count();y<S;y++){var f,x,b,W,k=a.get(g,y),M=a.get(H,y),A=k>=0?"p":"n",P=p;if(m&&(r[d][M]||(r[d][M]={p:p,n:p}),P=r[d][M][A]),"radius"===h.dim){var _=h.dataToRadius(k)-p,z=$.dataToAngle(M);Math.abs(_)<u&&(_=(_<0?-1:1)*u),f=P,x=P+_,W=(b=z-s)-c,m&&(r[d][M][A]=x)}else{var I=h.dataToAngle(k,K)-p,T=$.dataToRadius(M);Math.abs(I)<l&&(I=(I<0?-1:1)*l),x=(f=T+s)+c,b=P,W=P+I,m&&(r[d][M][A]=W)}a.setItemLayout(y,{cx:w,cy:v,r0:f,r:x,startAngle:-b*Math.PI/180,endAngle:-W*Math.PI/180})}}},this)}function afa(t,a){var e={};k(t,function(t,a){var r=t.getData(),i=t.coordinateSystem,$=i.getBaseAxis(),n=NC(i,$),d=$.getExtent(),o="category"===$.type?$.getBandWidth():Math.abs(d[1]-d[0])/r.count(),s=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=s.stacks;e[n]=s;var h=MC(t);c[h]||s.autoWidthCount++,c[h]=c[h]||{width:0,maxWidth:0};var w=dk(t.get("barWidth"),o),v=dk(t.get("barMaxWidth"),o),u=t.get("barGap"),l=t.get("barCategoryGap");w&&!c[h].width&&(w=Math.min(s.remainedWidth,w),c[h].width=w,s.remainedWidth-=w),v&&(c[h].maxWidth=v),null!=u&&(s.gap=u),null!=l&&(s.categoryGap=l)});var r={};return k(e,function(t,a){r[a]={};var e=t.stacks,i=t.bandWidth,$=dk(t.categoryGap,i),n=dk(t.gap,1),d=t.remainedWidth,o=t.autoWidthCount,s=(d-$)/(o+(o-1)*n);s=Math.max(s,0),k(e,function(t,a){var e=t.maxWidth;e&&e<s&&(e=Math.min(e,d),t.width&&(e=Math.min(e,t.width)),d-=e,t.width=e,o--)}),s=(d-$)/(o+(o-1)*n),s=Math.max(s,0);var c,h=0;k(e,function(t,a){t.width||(t.width=s),c=t,h+=t.width*(1+n)}),c&&(h-=c.width*n);var w=-h/2;k(e,function(t,e){r[a][e]=r[a][e]||{offset:w,width:t.width},w+=t.width*(1+n)})}),r}var bfa=_ea;Zea=bfa;var cfa={};function ek($,a){X.call(this,"radius",$,a),this.type="category"}ek.prototype={constructor:ek,pointToData:function($,a){return this.polar.pointToData($,a)["radius"===this.dim?0:1]},dataToRadius:X.prototype.dataToCoord,radiusToData:X.prototype.coordToData},n(ek,X);var dfa=ek;cfa=dfa;var efa={},ffa=va,gfa=ffa();function fk(r,a){a=a||[0,360],X.call(this,"angle",r,a),this.type="category"}fk.prototype={constructor:fk,pointToData:function(r,a){return this.polar.pointToData(r,a)["radius"===this.dim?0:1]},dataToAngle:X.prototype.dataToCoord,angleToData:X.prototype.coordToData,calculateCategoryInterval:function(){var r=this.getLabelModel(),a=this.scale,t=a.getExtent(),$=a.count();if(t[1]-t[0]<1)return 0;var e=t[0],o=this.dataToCoord(e+1)-this.dataToCoord(e),n=Math.abs(o),i=xb(e,r.getFont(),"center","top"),l=Math.max(i.height,7)/n;isNaN(l)&&(l=1/0);var s=Math.max(0,Math.floor(l)),v=gfa(this.model),U=v.lastAutoInterval,W=v.lastTickCount;return null!=U&&null!=W&&Math.abs(U-s)<=1&&Math.abs(W-$)<=1&&U>s?s=U:(v.lastTickCount=$,v.lastAutoInterval=s),s}},n(fk,X);var hfa=fk;efa=hfa;var OC={},qq=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new cfa,this._angleAxis=new efa,this._radiusAxis.polar=this._angleAxis.polar=this};qq.prototype={type:"polar",axisPointerEnabled:!0,constructor:qq,dimensions:["radius","angle"],model:null,containPoint:function(t){var i=this.pointToCoord(t);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var i=[],s=this._angleAxis,a=this._radiusAxis;return s.scale.type===t&&i.push(s),a.scale.type===t&&i.push(a),i},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var i=this._angleAxis;return t===i?this._radiusAxis:i},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var i=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[i],otherAxes:[this.getOtherAxis(i)]}},dataToPoint:function(t,i){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],i),this._angleAxis.dataToAngle(t[1],i)])},pointToData:function(t,i){var s=this.pointToCoord(t);return[this._radiusAxis.radiusToData(s[0],i),this._angleAxis.angleToData(s[1],i)]},pointToCoord:function(t){var i=t[0]-this.cx,s=t[1]-this.cy,a=this.getAngleAxis(),n=a.getExtent(),e=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);a.inverse?e=r-360:r=e+360;var o=Math.sqrt(i*i+s*s);i/=o,s/=o;for(var h=Math.atan2(-s,i)/Math.PI*180,u=h<e?1:-1;h<e||h>r;)h+=360*u;return[o,h]},coordToPoint:function(t){var i=t[0],s=t[1]/180*Math.PI;return[Math.cos(s)*i+this.cx,-Math.sin(s)*i+this.cy]},getArea:function(){var t=this.getAngleAxis(),i=this.getRadiusAxis().getExtent().slice();i[0]>i[1]&&i.reverse();var s=t.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-s[0]*a,endAngle:-s[1]*a,clockwise:t.inverse,contain:function(t,i){var s=t-this.cx,a=i-this.cy,n=s*s+a*a,e=this.r,r=this.r0;return n<=e*e&&n>=r*r}}}};var ifa=qq;OC=ifa;var gk=D,jfa=Ie,PC=He,QC=Ui;function kfa(e,a,r){var $=a.get("center"),t=r.getWidth(),l=r.getHeight();e.cx=gk($[0],t),e.cy=gk($[1],l);var n=e.getRadiusAxis(),i=Math.min(t,l)/2,o=a.get("radius");null==o?o=[0,"100%"]:J(o)||(o=[0,o]),o=[gk(o[0],i),gk(o[1],i)],n.inverse?n.setExtent(o[1],o[0]):n.setExtent(o[0],o[1])}function lfa(e,a){var r=this,$=r.getAngleAxis(),t=r.getRadiusAxis();if($.scale.setExtent(1/0,-1/0),t.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===r){var a=e.getData();k(a.mapDimension("radius",!0),function(e){t.scale.unionExtentFromData(a,QC(a,e))}),k(a.mapDimension("angle",!0),function(e){$.scale.unionExtentFromData(a,QC(a,e))})}}),PC($.scale,$.model),PC(t.scale,t.model),"category"===$.type&&!$.onBand){var l=$.getExtent(),n=360/$.scale.count();$.inverse?l[1]+=n:l[1]-=n,$.setExtent(l[0],l[1])}}function RC(e,a){if(e.type=a.get("type"),e.scale=jfa(a),e.onBand=a.get("boundaryGap")&&"category"===e.type,e.inverse=a.get("inverse"),"angleAxis"===a.mainType){e.inverse^=a.get("clockwise");var r=a.get("startAngle");e.setExtent(r,r+(e.inverse?-360:360))}a.axis=e,e.model=a}var rq=p.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});f(rq.prototype,nd);var SC={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function TC(e,r){return r.type||(r.data?"category":"value")}Ne("angle",rq,TC,SC.angle),Ne("radius",rq,TC,SC.radius);var Kka=Ma({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var r;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(r=e)},this),r},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var mfa={dimensions:OC.prototype.dimensions,create:function(e,a){var r=[];return e.eachComponent("polar",function(e,$){var t=new OC($);t.update=lfa;var l=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.findAxisModel("radiusAxis"),o=e.findAxisModel("angleAxis");RC(l,i),RC(n,o),kfa(t,e,a),r.push(t),e.coordinateSystem=t,t.model=e}),e.eachSeries(function(a){if("polar"===a.get("coordinateSystem")){var r=e.queryComponents({mainType:"polar",index:a.get("polarIndex"),id:a.get("polarId")})[0];a.coordinateSystem=r.coordinateSystem}}),r}};Xa.register("polar",mfa);var nfa=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function hk(e,t,l){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],l]),i=e.coordToPoint([t[1],l]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function ik(e){return e.getRadiusAxis().inverse?0:1}function UC(e){var t=e[0],l=e[e.length-1];t&&l&&Math.abs(Math.abs(t.coord-l.coord)-360)<1e-4&&e.pop()}var Lka=sd.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var l=e.axis,r=l.polar,i=r.getRadiusAxis().getExtent(),a=l.getTicksCoords(),$=l.getMinorTicksCoords(),n=j(l.getViewLabels(),function(e){return(e=B(e)).coord=l.dataToCoord(e.tickValue),e});UC(n),UC(a),k(nfa,function(t){!e.get(t+".show")||l.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,r,a,$,i,n)},this)}},_axisLine:function(e,t,l,r,i){var a,$=e.getModel("axisLine.lineStyle"),n=ik(t),o=n?0:1;(a=0===i[o]?new Db({shape:{cx:t.cx,cy:t.cy,r:i[n]},style:$.getLineStyle(),z2:1,silent:!0}):new ai({shape:{cx:t.cx,cy:t.cy,r:i[n],r0:i[o]},style:$.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(a)},_axisTick:function(e,t,l,r,i){var a=e.getModel("axisTick"),$=(a.get("inside")?-1:1)*a.get("length"),n=i[ik(t)],o=j(l,function(e){return new ca({shape:hk(t,[n,n+$],e.coord)})});this.group.add(Wa(o,{style:E(a.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_minorTick:function(e,t,l,r,i){if(r.length){for(var a=e.getModel("axisTick"),$=e.getModel("minorTick"),n=(a.get("inside")?-1:1)*$.get("length"),o=i[ik(t)],s=[],g=0;g<r.length;g++)for(var c=0;c<r[g].length;c++)s.push(new ca({shape:hk(t,[o,o+n],r[g][c].coord)}));this.group.add(Wa(s,{style:E($.getModel("lineStyle").getLineStyle(),E(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(e,t,l,r,i,a){var $=e.getCategories(!0),n=e.getModel("axisLabel"),o=n.get("margin"),s=e.get("triggerEvent");k(a,function(l,r){var a=n,g=l.tickValue,c=i[ik(t)],S=t.coordToPoint([c+o,l.coord]),d=t.cx,v=t.cy,h=Math.abs(S[0]-d)/c<.3?"center":S[0]>d?"left":"right",p=Math.abs(S[1]-v)/c<.3?"middle":S[1]>v?"top":"bottom";$&&$[g]&&$[g].textStyle&&(a=new L($[g].textStyle,n,n.ecModel));var x=new K({silent:cc.isLabelSilent(e)});this.group.add(x),R(x.style,a,{x:S[0],y:S[1],textFill:a.getTextColor()||e.get("axisLine.lineStyle.color"),text:l.formattedLabel,textAlign:h,textVerticalAlign:p}),s&&(x.eventData=cc.makeAxisEventDataBase(e),x.eventData.targetType="axisLabel",x.eventData.value=l.rawLabel)},this)},_splitLine:function(e,t,l,r,i){var a=e.getModel("splitLine").getModel("lineStyle"),$=a.get("color"),n=0;$=$ instanceof Array?$:[$];for(var o=[],s=0;s<l.length;s++){var g=n++%$.length;o[g]=o[g]||[],o[g].push(new ca({shape:hk(t,i,l[s].coord)}))}for(s=0;s<o.length;s++)this.group.add(Wa(o[s],{style:E({stroke:$[s%$.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},_minorSplitLine:function(e,t,l,r,i){if(r.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),$=[],n=0;n<r.length;n++)for(var o=0;o<r[n].length;o++)$.push(new ca({shape:hk(t,i,r[n][o].coord)}));this.group.add(Wa($,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},_splitArea:function(e,t,l,r,i){if(l.length){var a=e.getModel("splitArea").getModel("areaStyle"),$=a.get("color"),n=0;$=$ instanceof Array?$:[$];for(var o=[],s=Math.PI/180,g=-l[0].coord*s,c=Math.min(i[0],i[1]),S=Math.max(i[0],i[1]),d=e.get("clockwise"),v=1;v<l.length;v++){var h=n++%$.length;o[h]=o[h]||[],o[h].push(new mb({shape:{cx:t.cx,cy:t.cy,r0:c,r:S,startAngle:g,endAngle:-l[v].coord*s,clockwise:d},silent:!0})),g=-l[v].coord*s}for(v=0;v<o.length;v++)this.group.add(Wa(o[v],{style:E({fill:$[v%$.length]},a.getAreaStyle()),silent:!0}))}}});var ofa=["axisLine","axisTickLabel","axisName"],pfa=["splitLine","splitArea","minorSplitLine"],Mka=sd.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,r){if(this.group.removeAll(),e.get("show")){var t=e.axis,i=t.polar,a=i.getAngleAxis(),l=t.getTicksCoords(),$=t.getMinorTicksCoords(),h=a.getExtent()[0],n=t.getExtent(),o=qfa(i,e,h),s=new cc(e,o);k(ofa,s.add,s),this.group.add(s.getGroup()),k(pfa,function(r){e.get(r+".show")&&!t.scale.isBlank()&&this["_"+r](e,i,h,n,l,$)},this)}},_splitLine:function(e,r,t,i,a){var l=e.getModel("splitLine").getModel("lineStyle"),$=l.get("color"),h=0;$=$ instanceof Array?$:[$];for(var n=[],o=0;o<a.length;o++){var s=h++%$.length;n[s]=n[s]||[],n[s].push(new Db({shape:{cx:r.cx,cy:r.cy,r:a[o].coord}}))}for(o=0;o<n.length;o++)this.group.add(Wa(n[o],{style:E({stroke:$[o%$.length],fill:null},l.getLineStyle()),silent:!0}))},_minorSplitLine:function(e,r,t,i,a,l){if(l.length){for(var $=e.getModel("minorSplitLine").getModel("lineStyle"),h=[],n=0;n<l.length;n++)for(var o=0;o<l[n].length;o++)h.push(new Db({shape:{cx:r.cx,cy:r.cy,r:l[n][o].coord}}));this.group.add(Wa(h,{style:E({fill:null},$.getLineStyle()),silent:!0}))}},_splitArea:function(e,r,t,i,a){if(a.length){var l=e.getModel("splitArea").getModel("areaStyle"),$=l.get("color"),h=0;$=$ instanceof Array?$:[$];for(var n=[],o=a[0].coord,s=1;s<a.length;s++){var c=h++%$.length;n[c]=n[c]||[],n[c].push(new mb({shape:{cx:r.cx,cy:r.cy,r0:o,r:a[s].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),o=a[s].coord}for(s=0;s<n.length;s++)this.group.add(Wa(n[s],{style:E({fill:$[s%$.length]},l.getAreaStyle()),silent:!0}))}}});function qfa(e,r,t){return{position:[e.cx,e.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:r.getModel("axisLabel").get("rotate"),z2:1}}var rfa=dq.extend({makeElOption:function(e,r,a,i,t){var $=a.axis;"angle"===$.dim&&(this.animationThreshold=Math.PI/18);var o,l=$.polar,n=l.getOtherAxis($).getExtent();o=$["dataTo"+ri($.dim)](r);var v=i.get("type");if(v&&"none"!==v){var s=gq(i),B=tfa[v]($,l,o,n,s);B.style=s,e.graphicKey=B.type,e.pointer=B}var p=i.get("label.margin"),L=sfa(r,a,i,l,p);Nda(e,a,i,t,L)}});function sfa(e,r,a,i,t){var $=r.axis,o=$.dataToCoord(e),l=i.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var n,v,s,B=i.getRadiusAxis().getExtent();if("radius"===$.dim){var p=Ha();Rb(p,p,l),fb(p,p,[i.cx,i.cy]),n=Xb([o,-t],p);var L=r.getModel("axisLabel").get("rotate")||0,x=cc.innerTextLayout(l,L*Math.PI/180,-1);v=x.textAlign,s=x.textVerticalAlign}else{var c=B[1];n=i.coordToPoint([c+t,o]);var U=i.cx,G=i.cy;v=Math.abs(n[0]-U)/c<.3?"center":n[0]>U?"left":"right",s=Math.abs(n[1]-G)/c<.3?"middle":n[1]>G?"top":"bottom"}return{position:n,align:v,verticalAlign:s}}var tfa={line:function(e,r,a,i,t){return"angle"===e.dim?{type:"Line",shape:hq(r.coordToPoint([i[0],a]),r.coordToPoint([i[1],a]))}:{type:"Circle",shape:{cx:r.cx,cy:r.cy,r:a}}},shadow:function(e,r,a,i,t){var $=Math.max(1,e.getBandWidth()),o=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:oC(r.cx,r.cy,i[0],i[1],(-a-$/2)*o,($/2-a)*o)}:{type:"Sector",shape:oC(r.cx,r.cy,a-$/2,a+$/2,0,2*Math.PI)}}};sd.registerAxisPointerClass("PolarAxisPointer",rfa);u(w(Zea,"bar")),Z({type:"polar"});function sq(e,r){r.update="updateView",d(r,function(r,t){var a={};return t.eachComponent({mainType:"geo",query:r},function(t){t[e](r.name);var o=t.coordinateSystem;k(o.regions,function(e){a[e.name]=t.isSelected(e.name)||!1})}),{selected:a,name:r.name}})}var ufa=p.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){p.prototype.init.apply(this,arguments),Yc(e,"label",["show"])},optionUpdated:function(){var e=this.option,o=this;e.regions=QY.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=Sd(e.regions||[],function(e,a){return a.name&&e.set(a.name,new L(a,o)),e},G()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new L(null,this,this.ecModel)},getFormattedLabel:function(e,o){o=o||"normal";var a=this.getRegionModel(e).get(("normal"===o?"":o+".")+"label.formatter"),t={name:e};return"function"==typeof a?(t.status=o,a(t)):"string"==typeof a?a.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});l(ufa,Ao);var Nka=Z({type:"geo",init:function(r,e){var a=new pz(e,!0);this._mapDraw=a,this.group.add(a.group)},render:function(r,e,a,t){if(!t||"geoToggleSelect"!==t.type||t.from!==this.uid){var $=this._mapDraw;r.get("show")?$.draw(r,e,a,this,t):this._mapDraw.group.removeAll(),this.group.silent=r.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});sq("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),sq("select",{type:"geoSelect",event:"geoselected"}),sq("unSelect",{type:"geoUnSelect",event:"geounselected"});var tq=864e5;function fc(t,e,r){this._model=t}function VC(t,e,r,a){var i=r.calendarModel,n=r.seriesModel,h=i?i.coordinateSystem:n?n.coordinateSystem:null;return h===this?h[t](a):null}fc.prototype={constructor:fc,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Tf(t)).getFullYear(),r=t.getMonth()+1;r=r<10?"0"+r:r;var a=t.getDate();a=a<10?"0"+a:a;var i=t.getDay();return{y:e,m:r,d:a,day:i=Math.abs((i+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+a,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,a=["width","height"],i=this._model.get("cellSize").slice(),n=this._model.getBoxLayoutParams(),h="horizontal"===this._orient?[r,7]:[7,r];k([0,1],function(t){l(i,t)&&(n[a[t]]=i[t]*h[t])});var s={width:e.getWidth(),height:e.getHeight()},o=this._rect=T(n,s);function l(t,e){return null!=t[e]&&"auto"!==t[e]}k([0,1],function(t){l(i,t)||(i[t]=o[a[t]]/h[t])}),this._sw=i[0],this._sh=i[1]},dataToPoint:function(t,e){J(t)&&(t=t[0]),null==e&&(e=!0);var r=this.getDateInfo(t),a=this._rangeInfo,i=r.formatedDate;if(e&&!(r.time>=a.start.time&&r.time<a.end.time+tq))return[NaN,NaN];var n=r.day,h=this._getRangeInfo([a.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+n*this._sw+this._sw/2,this._rect.y+h*this._sh+this._sh/2]:[this._rect.x+h*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(r,e-1,a):this._getDateByWeeksAndDay(e,r-1,a)},convertToPixel:w(VC,"dataToPoint"),convertFromPixel:w(VC,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(J(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var r=this.getDateInfo(e),a=r.date;a.setMonth(a.getMonth()+1);var i=this.getNextNDay(a,-1);t=[r.formatedDate,i.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var n=this._getRangeInfo(t);return n.start.time>n.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var r=Math.floor(t[1].time/tq)-Math.floor(t[0].time/tq)+1,a=new Date(t[0].time),i=a.getDate(),n=t[1].date.getDate();a.setDate(i+r-1);var h=a.getDate();if(h!==n)for(var s=a.getTime()-t[1].time>0?1:-1;(h=a.getDate())!==n&&(a.getTime()-t[1].time)*s>0;)r-=s,a.setDate(h-s);var o=Math.floor((r+t[0].day+6)/7),l=e?1-o:o-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:o,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,r){var a=this._getRangeInfo(r);if(t>a.weeks||0===t&&e<a.fweek||t===a.weeks&&e>a.lweek)return!1;var i=7*(t-1)-a.fweek+e,n=new Date(a.start.time);return n.setDate(a.start.d+i),this.getDateInfo(n)}},fc.dimensions=fc.prototype.dimensions,fc.getDimensionsInfo=fc.prototype.getDimensionsInfo,fc.create=function(t,e){var r=[];return t.eachComponent("calendar",function(a){var i=new fc(a,t,e);r.push(i),a.coordinateSystem=i}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("calendarIndex")||0])}),r},Xa.register("calendar",fc);var vfa=te,wfa=LN,xfa=id,WC=p.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a,e,r,o){var $=vfa(a);WC.superApply(this,"init",arguments),XC(a,$)},mergeOption:function(a,e){WC.superApply(this,"mergeOption",arguments),XC(this.option,a)}});function XC(a,e){var r=a.cellSize;J(r)?1===r.length&&(r[1]=r[0]):r=a.cellSize=[r,r];var o=j([0,1],function(a){return wfa(e,a)&&(r[a]="auto"),null!=r[a]&&"auto"!==r[a]});xfa(a,e,{type:"box",ignoreSize:o})}var yfa={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},zfa={EN:["S","M","T","W","T","F","S"],CN:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},Oka=Z({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,r){var i=this.group;i.removeAll();var a=t.coordinateSystem,n=a.getRangeInfo(),o=a.getOrient();this._renderDayRect(t,n,i),this._renderLines(t,n,o,i),this._renderYearText(t,n,o,i),this._renderMonthText(t,o,i),this._renderWeekText(t,n,o,i)},_renderDayRect:function(t,e,r){for(var i=t.coordinateSystem,a=t.getModel("itemStyle").getItemStyle(),n=i.getCellWidth(),o=i.getCellHeight(),l=e.start.time;l<=e.end.time;l=i.getNextNDay(l,1).time){var s=i.dataToRect([l],!1).tl,y=new F({shape:{x:s[0],y:s[1],width:n,height:o},cursor:"default",style:a});r.add(y)}},_renderLines:function(t,e,r,i){var a=this,n=t.coordinateSystem,o=t.getModel("splitLine.lineStyle").getLineStyle(),l=t.get("splitLine.show"),s=o.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=e.start,$=0;y.time<=e.end.time;$++){h(y.formatedDate),0===$&&(y=n.getDateInfo(e.start.y+"-"+e.start.m));var g=y.date;g.setMonth(g.getMonth()+1),y=n.getDateInfo(g)}function h(e){a._firstDayOfMonth.push(n.getDateInfo(e)),a._firstDayPoints.push(n.dataToRect([e],!1).tl);var s=a._getLinePointsOfOneWeek(t,e,r);a._tlpoints.push(s[0]),a._blpoints.push(s[s.length-1]),l&&a._drawSplitline(s,o,i)}h(n.getNextNDay(e.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,s,r),o,i),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,s,r),o,i)},_getEdgesPoints:function(t,e,r){var i=[t[0].slice(),t[t.length-1].slice()],a="horizontal"===r?0:1;return i[0][a]=i[0][a]-e/2,i[1][a]=i[1][a]+e/2,i},_drawSplitline:function(t,e,r){var i=new Ua({z2:20,shape:{points:t},style:e});r.add(i)},_getLinePointsOfOneWeek:function(t,e,r){var i=t.coordinateSystem;e=i.getDateInfo(e);for(var a=[],n=0;n<7;n++){var o=i.getNextNDay(e.time,n),l=i.dataToRect([o.time],!1);a[2*o.day]=l.tl,a[2*o.day+1]=l["horizontal"===r?"bl":"tr"]}return a},_formatterLabel:function(t,e){return"string"==typeof t&&t?bv(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,r,i,a){e=e.slice();var n=["center","bottom"];"bottom"===i?(e[1]+=a,n=["center","top"]):"left"===i?e[0]-=a:"right"===i?(e[0]+=a,n=["center","top"]):e[1]-=a;var o=0;return"left"!==i&&"right"!==i||(o=Math.PI/2),{rotation:o,position:e,style:{textAlign:n[0],textVerticalAlign:n[1]}}},_renderYearText:function(t,e,r,i){var a=t.getModel("yearLabel");if(a.get("show")){var n=a.get("margin"),o=a.get("position");o||(o="horizontal"!==r?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],s=(l[0][0]+l[1][0])/2,y=(l[0][1]+l[1][1])/2,$="horizontal"===r?0:1,g={top:[s,l[$][1]],bottom:[s,l[1-$][1]],left:[l[1-$][0],y],right:[l[$][0],y]},h=e.start.y;+e.end.y>+e.start.y&&(h=h+"-"+e.end.y);var d=a.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:h},f=this._formatterLabel(d,p),c=new K({z2:30});R(c.style,a,{text:f}),c.attr(this._yearTextPositionControl(c,g[o],r,o,n)),i.add(c)}},_monthTextPositionControl:function(t,e,r,i,a){var n="left",o="top",l=t[0],s=t[1];return"horizontal"===r?(s+=a,e&&(n="center"),"start"===i&&(o="bottom")):(l+=a,e&&(o="middle"),"start"===i&&(n="right")),{x:l,y:s,textAlign:n,textVerticalAlign:o}},_renderMonthText:function(t,e,r){var i=t.getModel("monthLabel");if(i.get("show")){var a=i.get("nameMap"),n=i.get("margin"),o=i.get("position"),l=i.get("align"),s=[this._tlpoints,this._blpoints];M(a)&&(a=yfa[a.toUpperCase()]||[]);var y="start"===o?0:1,$="horizontal"===e?0:1;n="start"===o?-n:n;for(var g="center"===l,h=0;h<s[y].length-1;h++){var d=s[y][h].slice(),p=this._firstDayOfMonth[h];if(g){var f=this._firstDayPoints[h];d[$]=(f[$]+s[0][h+1][$])/2}var c=i.get("formatter"),v=a[+p.m-1],m={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:v},_=this._formatterLabel(c,m),u=new K({z2:30});z(R(u.style,i,{text:_}),this._monthTextPositionControl(d,g,e,o,n)),r.add(u)}}},_weekTextPositionControl:function(t,e,r,i,a){var n="center",o="middle",l=t[0],s=t[1],y="start"===r;return"horizontal"===e?(l=l+i+(y?1:-1)*a[0]/2,n=y?"right":"left"):(s=s+i+(y?1:-1)*a[1]/2,o=y?"bottom":"top"),{x:l,y:s,textAlign:n,textVerticalAlign:o}},_renderWeekText:function(t,e,r,i){var a=t.getModel("dayLabel");if(a.get("show")){var n=t.coordinateSystem,o=a.get("position"),l=a.get("nameMap"),s=a.get("margin"),y=n.getFirstDayOfWeek();M(l)&&(l=zfa[l.toUpperCase()]||[]);var $=n.getNextNDay(e.end.time,7-e.lweek).time,g=[n.getCellWidth(),n.getCellHeight()];s=D(s,g["horizontal"===r?0:1]),"start"===o&&($=n.getNextNDay(e.start.time,-(7+e.fweek)).time,s=-s);for(var h=0;h<7;h++){var d,p=n.getNextNDay($,h),f=n.dataToRect([p.time],!1).center;d=Math.abs((h+y)%7);var c=new K({z2:30});z(R(c.style,a,{text:l[d]}),this._weekTextPositionControl(f,r,o,s,g)),i.add(c)}}}});var YC=D,ZC={path:null,compoundPath:null,group:q,image:oa,text:K};la(function(e){var t=e.graphic;J(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var Afa=Ma({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,Afa.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var r=this.option,a=(t?r:e).elements,i=r.elements=t?[]:r.elements,n=[];this._flatten(a,n);var $=km(i,n);At($);var o=this._elOptionsToUpdate=[];k($,function(e,t){var r=e.option;r&&(o.push(r),Cfa(e,r),Dfa(i,t,r),Efa(i[t],r))},this);for(var l=i.length-1;l>=0;l--)null==i[l]?i.splice(l,1):delete i[l].$action},_flatten:function(e,t,r){k(e,function(e){if(e){r&&(e.parentOption=r),t.push(e);var a=e.children;"group"===e.type&&a&&this._flatten(a,t,e),delete e.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function $C(e,t,r,a){var i=r.type,n=new(ZC.hasOwnProperty(i)?ZC[i]:Hm(i))(r);t.add(n),a.set(e,n),n.__ecGraphicId=e}function jk(e,t){var r=e&&e.parent;r&&("group"===e.type&&e.traverse(function(e){jk(e,t)}),t.removeKey(e.__ecGraphicId),r.remove(e))}function Bfa(e){return e=z({},e),k(["id","parentId","$action","hv","bounding"].concat(JN),function(t){delete e[t]}),e}function _C(e,t){var r;return k(t,function(t){null!=e[t]&&"auto"!==e[t]&&(r=!0)}),r}function Cfa(e,t){var r=e.exist;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),null==t.parentId){var a=t.parentOption;a?t.parentId=a.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function Dfa(e,t,r){var a=z({},r),i=e[t],n=r.$action||"merge";"merge"===n?i?(f(i,a,!0),id(i,a,{ignoreSize:!0}),MN(r,i)):e[t]=a:"replace"===n?e[t]=a:"remove"===n&&i&&(e[t]=null)}function Efa(e,t){e&&(e.hv=t.hv=[_C(t,["left","right"]),_C(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}function Ffa(e,t,r){var a=e.eventData;e.silent||e.ignore||a||(a=e.eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),a&&(a.info=e.info)}Z({type:"graphic",init:function(e,t){this._elMap=G(),this._lastGraphicModel},render:function(e,t,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var r=this._elMap,a=this.group;k(t,function(t){var i=t.$action,n=t.id,$=r.get(n),o=t.parentId,l=null!=o?r.get(o):a,p=t.style;"text"===t.type&&p&&(t.hv&&t.hv[1]&&(p.textVerticalAlign=p.textBaseline=null),!p.hasOwnProperty("textFill")&&p.fill&&(p.textFill=p.fill),!p.hasOwnProperty("textStroke")&&p.stroke&&(p.textStroke=p.stroke));var c=Bfa(t);i&&"merge"!==i?"replace"===i?(jk($,r),$C(n,l,c,r)):"remove"===i&&jk($,r):$?$.attr(c):$C(n,l,c,r);var h=r.get(n);h&&(h.__ecGraphicWidthOption=t.width,h.__ecGraphicHeightOption=t.height,Ffa(h,e,t))})}},_relocate:function(e,t){for(var r=e.option.elements,a=this.group,i=this._elMap,n=t.getWidth(),$=t.getHeight(),o=0;o<r.length;o++){var l=r[o];if((c=i.get(l.id))&&c.isGroup){var p=(h=c.parent)===a;c.__ecGraphicWidth=YC(c.__ecGraphicWidthOption,p?n:h.__ecGraphicWidth)||0,c.__ecGraphicHeight=YC(c.__ecGraphicHeightOption,p?$:h.__ecGraphicHeight)||0}}for(o=r.length-1;o>=0;o--){var c;l=r[o];if(c=i.get(l.id)){var h,v=(h=c.parent)===a?{width:n,height:$}:{width:h.__ecGraphicWidth,height:h.__ecGraphicHeight};ui(c,l,v,null,{hv:l.hv,boundingMode:l.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(t){jk(t,e)}),this._elMap=G()},dispose:function(){this._clear()}});var aD={};function Gfa($,r){aD[$]=r}function Hfa($){return aD[$]}var ff=Gfa;var bD=Hfa;var Ifa=Ma({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){Ifa.superApply(this,"optionUpdated",arguments),k(this.option.feature,function(e,r){var o=bD(r);o&&f(e,o.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});var Jfa=T,Kfa=hd,Lfa=ui;function Mfa($,t,a){var i=t.getBoxLayoutParams(),r=t.get("padding"),e={width:a.getWidth(),height:a.getHeight()},o=Jfa(i,e,r);Kfa(t.get("orient"),$,t.get("itemGap"),o.width,o.height),Lfa($,i,e,r)}function Nfa($,t){var a=fd(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),$=new F({shape:{x:$.x-a[3],y:$.y-a[0],width:$.width+a[1]+a[3],height:$.height+a[0]+a[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}var Ofa=Mfa;var cD=Nfa;var Pka=Z({type:"toolbox",render:function(e,t,r,i){var o=this.group;if(o.removeAll(),e.get("show")){var a=+e.get("itemSize"),n=e.get("feature")||{},l=this._features||(this._features={}),$=[];k(n,function(e,t){$.push(t)}),new kd(this._featureNames||[],$).add(d).update(d).remove(w(d,null)).execute(),this._featureNames=$,Ofa(o,e,r),o.add(cD(o.getBoundingRect(),e)),o.eachChild(function(e){var t=e.__title,i=e.hoverStyle;if(i&&t){var n=xb(t,dt(i)),l=e.position[0]+o.position[0],$=!1;e.position[1]+o.position[1]+a+n.height>r.getHeight()&&(i.textPosition="top",$=!0);var d=$?-5-n.height:a+8;l+n.width/2>r.getWidth()?(i.textPosition=["100%",d],i.textAlign="right"):l-n.width/2<0&&(i.textPosition=[0,d],i.textAlign="left")}})}function d(d,s){var u,c=$[d],g=$[s],v=n[c],p=new L(v,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===c&&(v.title=i.newTitle),c&&!g){if(Pfa(c))u={model:p,onclick:p.option.onclick,featureName:c};else{var f=bD(c);if(!f)return;u=new f(p,t,r)}l[c]=u}else{if(!(u=l[g]))return;u.model=p,u.ecModel=t,u.api=r}c||!g?p.get("show")&&!u.unusable?(!function(i,n,l){var $=i.getModel("iconStyle"),d=i.getModel("emphasis.iconStyle"),s=n.getIcons?n.getIcons():i.get("icon"),u=i.get("title")||{};if("string"==typeof s){var c=s,g=u;u={},(s={})[l]=c,u[l]=g}var v=i.iconPaths={};k(s,function(l,s){var c=qe(l,{},{x:-a/2,y:-a/2,width:a,height:a});c.setStyle($.getItemStyle()),c.hoverStyle=d.getItemStyle(),c.setStyle({text:u[s],textAlign:d.get("textAlign"),textBorderRadius:d.get("textBorderRadius"),textPadding:d.get("textPadding"),textFill:null});var g=e.getModel("tooltip");g&&g.get("show")&&c.attr("tooltip",z({content:u[s],formatter:g.get("formatter",!0)||function(){return u[s]},formatterParams:{componentType:"toolbox",name:s,title:u[s],$vars:["name","title"]},position:g.get("position",!0)||"bottom"},g.option)),V(c),e.get("showTitle")&&(c.__title=u[s],c.on("mouseover",function(){var t=d.getItemStyle(),r="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";c.setStyle({textFill:d.get("textFill")||t.fill||t.stroke||"#000",textBackgroundColor:d.get("textBackgroundColor"),textPosition:d.get("textPosition")||r})}).on("mouseout",function(){c.setStyle({textFill:null,textBackgroundColor:null})})),c.trigger(i.get("iconStatus."+s)||"normal"),o.add(c),c.on("click",m(n.onclick,n,t,r,s)),v[s]=c})}(p,u,c),p.setIconStatus=function(e,t){var r=this.option,i=this.iconPaths;r.iconStatus=r.iconStatus||{},r.iconStatus[e]=t,i[e]&&i[e].trigger(t)},u.render&&u.render(p,t,r,i)):u.remove&&u.remove(t,r):u.dispose&&u.dispose(t,r)}},updateView:function(e,t,r,i){k(this._features,function(e){e.updateView&&e.updateView(e.model,t,r,i)})},remove:function(e,t){k(this._features,function(r){r.remove&&r.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){k(this._features,function(r){r.dispose&&r.dispose(e,t)})}});function Pfa(e){return 0===e.indexOf("my")}var dD=Zb.toolbox.saveAsImage;function kk(e){this.model=e}kk.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:dD.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:dD.lang.slice()},kk.prototype.unusable=!x.canvasSupported;var Qfa=kk.prototype;Qfa.onclick=function(e,a){var r=this.model,t=r.get("name")||e.get("title.0.text")||"echarts",o="svg"===a.getZr().painter.getType()?"svg":r.get("type",!0)||"png",n=a.getConnectedDataURL({type:o,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});if("function"!=typeof MouseEvent||x.browser.ie||x.browser.edge){if(window.navigator.msSaveOrOpenBlob){for(var $=atob(n.split(",")[1]),s=$.length,i=new Uint8Array(s);s--;)i[s]=$.charCodeAt(s);var u=new Blob([i]);window.navigator.msSaveOrOpenBlob(u,t+"."+o)}else{var v=r.get("lang"),g="<body style=\"margin:0;\"><img src=\""+n+"\" style=\"max-width:100%;\" title=\""+(v&&v[0]||"")+"\" /></body>";window.open().document.write(g)}}else{var l=document.createElement("a");l.download=t+"."+o,l.target="_blank",l.href=n;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(c)}},ff("saveAsImage",kk);var lk=Zb.toolbox.magicType,uq="__ec_magicType_stack__";function vq(e){this.model=e}vq.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:B(lk.title),option:{},seriesIndex:{}};var eD=vq.prototype;eD.getIcons=function(){var e=this.model,a=e.get("icon"),r={};return k(e.get("type"),function(e){a[e]&&(r[e]=a[e])}),r};var fD={line:function(e,a,r,t){if("bar"===e)return f({id:a,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},t.get("option.line")||{},!0)},bar:function(e,a,r,t){if("line"===e)return f({id:a,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},t.get("option.bar")||{},!0)},stack:function(e,a,r,t){var $=r.get("stack")===uq;if("line"===e||"bar"===e)return t.setIconStatus("stack",$?"normal":"emphasis"),f({id:a,stack:$?"":uq},t.get("option.stack")||{},!0)}},Rfa=[["line","bar"],["stack"]];eD.onclick=function(e,a,r){var t=this.model,$=t.get("seriesIndex."+r);if(fD[r]){var i,n={series:[]};if(k(Rfa,function(e){C(e,r)>=0&&k(e,function(e){t.setIconStatus(e,"normal")})}),t.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:null==$?null:{seriesIndex:$}},function(a){var $=a.subType,i=a.id,l=fD[r]($,i,a,t);l&&(E(l,a.option),n.series.push(l));var c=a.coordinateSystem;if(c&&"cartesian2d"===c.type&&("line"===r||"bar"===r)){var o=c.getAxesByScale("ordinal")[0];if(o){var s=o.dim+"Axis",z=e.queryComponents({mainType:s,index:a.get(name+"Index"),id:a.get(name+"Id")})[0].componentIndex;n[s]=n[s]||[];for(var p=0;p<=z;p++)n[s][z]=n[s][z]||{};n[s][z].boundaryGap="bar"===r}}}),"stack"===r)i=n.series&&n.series[0]&&n.series[0].stack===uq?f({stack:lk.title.tiled},lk.title):B(lk.title);a.dispatchAction({type:"changeMagicType",currentType:r,newOption:n,newTitle:i,featureName:"magicType"})}},d({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,a){a.mergeOption(e.newOption)}),ff("magicType",vq);var gD=Zb.toolbox.dataView,mk=new Array(60).join("-"),gf="\t";function Sfa(e){var t={},r=[],a=[];return e.eachRawSeries(function(e){var n=e.coordinateSystem;if(!n||"cartesian2d"!==n.type&&"polar"!==n.type)r.push(e);else{var i=n.getBaseAxis();if("category"===i.type){var $=i.dim+"_"+i.index;t[$]||(t[$]={categoryAxis:i,valueAxis:n.getOtherAxis(i),series:[]},a.push({axisDim:i.dim,axisIndex:i.index})),t[$].series.push(e)}else r.push(e)}}),{seriesGroupByCategoryAxis:t,other:r,meta:a}}function Tfa(e){var t=[];return k(e,function(e,r){var a=e.categoryAxis,n=e.valueAxis.dim,i=[" "].concat(j(e.series,function(e){return e.name})),$=[a.model.getCategories()];k(e.series,function(e){var t=e.getRawData();$.push(e.getRawData().mapArray(t.mapDimension(n),function(e){return e}))});for(var o=[i.join(gf)],s=0;s<$[0].length;s++){for(var l=[],v=0;v<$.length;v++)l.push($[v][s]);o.push(l.join(gf))}t.push(o.join("\n"))}),t.join("\n\n"+mk+"\n\n")}function Ufa(e){return j(e,function(e){var t=e.getRawData(),r=[e.name],a=[];return t.each(t.dimensions,function(){for(var e=arguments.length,n=arguments[e-1],i=t.getName(n),$=0;$<e-1;$++)a[$]=arguments[$];r.push((i?i+gf:"")+a.join(gf))}),r.join("\n")}).join("\n\n"+mk+"\n\n")}function Vfa(e){var t=Sfa(e);return{value:Ea([Tfa(t.seriesGroupByCategoryAxis),Ufa(t.other)],function(e){return e.replace(/[\n\t\s]/g,"")}).join("\n\n"+mk+"\n\n"),meta:t.meta}}function nk(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Wfa(e){if(e.slice(0,e.indexOf("\n")).indexOf(gf)>=0)return!0}var wq=new RegExp("["+gf+"]+","g");function Xfa(e){for(var t=e.split(/\n+/g),r=nk(t.shift()).split(wq),a=[],n=j(r,function(e){return{name:e,data:[]}}),i=0;i<t.length;i++){var $=nk(t[i]).split(wq);a.push($.shift());for(var o=0;o<$.length;o++)n[o]&&(n[o].data[i]=$[o])}return{series:n,categories:a}}function Yfa(e){for(var t=e.split(/\n+/g),r=nk(t.shift()),a=[],n=0;n<t.length;n++){var i=nk(t[n]);if(i){var $,o=i.split(wq),s="",l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),a[n]={name:s,value:[]},$=a[n].value):$=a[n]=[];for(var v=0;v<o.length;v++)$.push(+o[v]);1===$.length&&(l?a[n].value=$[0]:a[n]=$[0])}}return{name:r,data:a}}function Zfa(e,t){var r=e.split(new RegExp("\n*"+mk+"\n*","g")),a={series:[]};return k(r,function(e,r){if(Wfa(e)){var n=Xfa(e),i=t[r],$=i.axisDim+"Axis";i&&(a[$]=a[$]||[],a[$][i.axisIndex]={data:n.categories},a.series=a.series.concat(n.series))}else{n=Yfa(e);a.series.push(n)}}),a}function Ug(e){this._dom=null,this.model=e}function $fa(e,t){return j(e,function(e,r){var a=t&&t[r];if(y(a)&&!J(a)){y(e)&&!J(e)||(e={value:e});var n=null!=a.name&&null==e.name;return e=E(e,a),n&&delete e.name,e}return e})}Ug.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:B(gD.title),lang:B(gD.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Ug.prototype.onclick=function(e,t){var r=t.getDom(),a=this.model;this._dom&&r.removeChild(this._dom);var n=document.createElement("div");n.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",n.style.backgroundColor=a.get("backgroundColor")||"#fff";var i=document.createElement("h4"),$=a.get("lang")||[];i.innerHTML=$[0]||a.get("title"),i.style.cssText="margin: 10px 20px;",i.style.color=a.get("textColor");var o=document.createElement("div"),s=document.createElement("textarea");o.style.cssText="display:block;width:100%;overflow:auto;";var l=a.get("optionToContent"),v=a.get("contentToOption"),p=Vfa(e);if("function"==typeof l){var c=l(t.getOption());"string"==typeof c?o.innerHTML=c:Pr(c)&&o.appendChild(c)}else o.appendChild(s),s.readOnly=a.get("readOnly"),s.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",s.style.color=a.get("textColor"),s.style.borderColor=a.get("textareaBorderColor"),s.style.backgroundColor=a.get("textareaColor"),s.value=p.value;var u=p.meta,d=document.createElement("div");d.style.cssText="position:absolute;bottom:0;left:0;right:0;";var H="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",g=document.createElement("div"),k=document.createElement("div");H+=";background-color:"+a.get("buttonColor"),H+=";color:"+a.get("buttonTextColor");var m=this;function W(){r.removeChild(n),m._dom=null}Xk(g,"click",W),Xk(k,"click",function(){var e;try{e="function"==typeof v?v(o,t.getOption()):Zfa(s.value,u)}catch(r){throw W(),new Error("Data view format error "+r)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),W()}),g.innerHTML=$[1],k.innerHTML=$[2],k.style.cssText=H,g.style.cssText=H,!a.get("readOnly")&&d.appendChild(k),d.appendChild(g),n.appendChild(i),n.appendChild(o),n.appendChild(d),o.style.height=r.clientHeight-80+"px",r.appendChild(n),this._dom=n},Ug.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Ug.prototype.dispose=function(e,t){this.remove(e,t)},ff("dataView",Ug),d({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var r=[];k(e.newOption.series,function(e){var a=t.getSeriesByName(e.name)[0];if(a){var n=a.get("data");r.push({name:e.name,data:$fa(e.data,n)})}else r.push(z({type:"scatter"},e))}),t.mergeOption(E({series:r},e.newOption))});var xq={},Nc=k,ok=C,pk=w,yq=["dataToPoint","pointToData"],_fa=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function hD(r,a,e){var $=this._targetInfoList=[],t={},n=iD(a,r);Nc(aga,function(r,a){(!e||!e.include||ok(e.include,a)>=0)&&r(n,$,t)})}var hf=hD.prototype;function zq(r){return r[0]>r[1]&&r.reverse(),r}function iD(r,a){return Lh(r,a,{includeMainTypes:_fa})}hf.setOutputRanges=function(r,a){this.matchOutputRanges(r,a,function(r,a,e){if((r.coordRanges||(r.coordRanges=[])).push(a),!r.coordRange){r.coordRange=a;var $=Aq[r.brushType](0,e,a);r.__rangeOffset={offset:mD[r.brushType]($.values,r.range,[1,1]),xyMinMax:$.xyMinMax}}})},hf.matchOutputRanges=function(r,a,e){Nc(r,function(r){var $=this.findTargetInfo(r,a);$&&!0!==$&&k($.coordSyses,function($){var t=Aq[r.brushType](1,$,r.range);e(r,t.values,$,a)})},this)},hf.setInputRanges=function(r,a){Nc(r,function(r){var e=this.findTargetInfo(r,a);if(r.range=r.range||[],e&&!0!==e){r.panelId=e.panelId;var $=Aq[r.brushType](0,e.coordSys,r.coordRange),t=r.__rangeOffset;r.range=t?mD[r.brushType]($.values,t.offset,bga($.xyMinMax,t.xyMinMax)):$.values}},this)},hf.makePanelOpts=function(r,a){return j(this._targetInfoList,function(e){var $=e.getPanelRect();return{panelId:e.panelId,defaultBrushType:a&&a(e),clipPath:XA($),isTargetByCursor:ZA($,r,e.coordSysModel),getLinearBrushOtherExtent:YA($)}})},hf.controlSeries=function(r,a,e){var $=this.findTargetInfo(r,e);return!0===$||$&&ok($.coordSyses,a.coordinateSystem)>=0},hf.findTargetInfo=function(r,a){for(var e=this._targetInfoList,$=iD(a,r),t=0;t<e.length;t++){var n=e[t],o=r.panelId;if(o){if(n.panelId===o)return n}else for(t=0;t<jD.length;t++)if(jD[t]($,n))return n}return!0};var aga={grid:function(r,a){var e=r.xAxisModels,$=r.yAxisModels,t=r.gridModels,n=G(),o={},i={};(e||$||t)&&(Nc(e,function(r){var a=r.axis.grid.model;n.set(a.id,a),o[a.id]=!0}),Nc($,function(r){var a=r.axis.grid.model;n.set(a.id,a),i[a.id]=!0}),Nc(t,function(r){n.set(r.id,r),o[r.id]=!0,i[r.id]=!0}),n.each(function(r){var t=r.coordinateSystem,n=[];Nc(t.getCartesians(),function(r,a){(ok(e,r.getAxis("x").model)>=0||ok($,r.getAxis("y").model)>=0)&&n.push(r)}),a.push({panelId:"grid--"+r.id,gridModel:r,coordSysModel:r,coordSys:n[0],coordSyses:n,getPanelRect:kD.grid,xAxisDeclared:o[r.id],yAxisDeclared:i[r.id]})}))},geo:function(r,a){Nc(r.geoModels,function(r){var e=r.coordinateSystem;a.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:e,coordSyses:[e],getPanelRect:kD.geo})})}},jD=[function(r,a){var e=r.xAxisModel,$=r.yAxisModel,t=r.gridModel;return!t&&e&&(t=e.axis.grid.model),!t&&$&&(t=$.axis.grid.model),t&&t===a.gridModel},function(r,a){var e=r.geoModel;return e&&e===a.geoModel}],kD={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var r=this.coordSys,a=r.getBoundingRect().clone();return a.applyTransform(dd(r)),a}},Aq={lineX:pk(lD,0),lineY:pk(lD,1),rect:function(r,a,e){var $=a[yq[r]]([e[0][0],e[1][0]]),t=a[yq[r]]([e[0][1],e[1][1]]),n=[zq([$[0],t[0]]),zq([$[1],t[1]])];return{values:n,xyMinMax:n}},polygon:function(r,a,e){var $=[[1/0,-1/0],[1/0,-1/0]];return{values:j(e,function(e){var t=a[yq[r]](e);return $[0][0]=Math.min($[0][0],t[0]),$[1][0]=Math.min($[1][0],t[1]),$[0][1]=Math.max($[0][1],t[0]),$[1][1]=Math.max($[1][1],t[1]),t}),xyMinMax:$}}};function lD(r,a,e,$){var t=e.getAxis(["x","y"][r]),n=zq(j([0,1],function(r){return a?t.coordToData(t.toLocalCoord($[r])):t.toGlobalCoord(t.dataToCoord($[r]))})),o=[];return o[r]=n,o[1-r]=[NaN,NaN],{values:n,xyMinMax:o}}var mD={lineX:pk(nD,0),lineY:pk(nD,1),rect:function(r,a,e){return[[r[0][0]-e[0]*a[0][0],r[0][1]-e[0]*a[0][1]],[r[1][0]-e[1]*a[1][0],r[1][1]-e[1]*a[1][1]]]},polygon:function(r,a,e){return j(r,function(r,$){return[r[0]-e[0]*a[$][0],r[1]-e[1]*a[$][1]]})}};function nD(r,a,e,$){return[a[0]-$[r]*e[0],a[1]-$[r]*e[1]]}function bga(r,a){var e=oD(r),$=oD(a),t=[e[0]/$[0],e[1]/$[1]];return isNaN(t[0])&&(t[0]=1),isNaN(t[1])&&(t[1]=1),t}function oD(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var cga=hD;xq=cga;var pD=k,Bq="\0_ec_hist_store";function dga($,r){var e=Cq($);pD(r,function(r,a){for(var s=e.length-1;s>=0;s--){if(e[s][a])break}if(s<0){var t=$.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(t){var o=t.getPercentRange();e[0][a]={dataZoomId:a,start:o[0],end:o[1]}}}}),e.push(r)}function ega($){var r=Cq($),e=r[r.length-1];r.length>1&&r.pop();var a={};return pD(e,function($,e){for(var s=r.length-1;s>=0;s--){if($=r[s][e]){a[e]=$;break}}}),a}function fga($){$[Bq]=null}function gga($){return Cq($).length}function Cq($){var r=$[Bq];return r||(r=$[Bq]=[{}]),r}var hga=dga;var iga=ega;var jga=fga;var kga=gga;p.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var lga=["x","y","z","radius","angle","single"],mga=["cartesian2d","polar","singleAxis"];function nga(r){return C(mga,r)>=0}function oga(r,$){r=r.slice();var e=j(r,ri);$=($||[]).slice();var a=j($,ri);return function(i,t){k(r,function(r,x){for(var n={name:r,capital:e[x]},o=0;o<$.length;o++)n[$[o]]=r+a[o];i.call(t,n)})}}var pga=oga(lga,["axisIndex","axis","index","id"]);function qga(r,$,e){return function(i){var t,x={nodes:[],records:{}};if($(function(r){x.records[r.name]={}}),!i)return x;a(i,x);do{t=!1,r(n)}while(t);function n(r){!function(r,$){return C($.nodes,r)>=0}(r,x)&&function(r,a){var i=!1;return $(function($){k(e(r,$)||[],function(r){a.records[$.name][r]&&(i=!0)})}),i}(r,x)&&(a(r,x),t=!0)}return x};function a(r,a){a.nodes.push(r),$(function($){k(e(r,$)||[],function(r){a.records[$.name][r]=!0})})}}var rga=nga;var qD=pga;var sga=qga;var tga={},Hd=k,rD=ed,Dq=function(e,t,a,i){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=a};function uga(e,t,a){var i=[1/0,-1/0];return Hd(a,function(e){var a=e.getData();a&&Hd(a.mapDimension(t,!0),function(e){var t=a.getApproximateExtent(e);t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),vga(e,i),i}function vga(e,t){var a=e.getAxisModel(),i=a.getMin(!0),n="category"===a.get("type"),r=n&&a.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?t[0]=i:n&&(t[0]=r>0?0:NaN);var l=a.getMax(!0);return null!=l&&"dataMax"!==l&&"function"!=typeof l?t[1]=l:n&&(t[1]=r>0?r-1:NaN),a.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function sD(e,t){var a=e.getAxisModel(),i=e._percentWindow,n=e._valueWindow;if(i){var r=Om(n,[0,500]);r=Math.min(r,20);var l=t||0===i[0]&&100===i[1];a.setRange(l?null:+n[0].toFixed(r),l?null:+n[1].toFixed(r))}}function wga(e){var t=e._minMaxSpan={},a=e._dataZoomModel,i=e._dataExtent;Hd(["min","max"],function(n){var r=a.get(n+"Span"),l=a.get(n+"ValueSpan");null!=l&&(l=e.getAxisModel().axis.scale.parse(l)),null!=l?r=ra(i[0]+l,i,[0,100],!0):null!=r&&(l=ra(r,[0,100],i,!0)-i[0]),t[n+"Span"]=r,t[n+"ValueSpan"]=l})}Dq.prototype={constructor:Dq,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(a){if(rga(a.get("coordinateSystem"))){var i=this._dimName,n=t.queryComponents({mainType:i+"Axis",index:a.get(i+"AxisIndex"),id:a.get(i+"AxisId")})[0];this._axisIndex===(n&&n.componentIndex)&&e.push(a)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,a,i=this._dimName,n=this.ecModel,r=this.getAxisModel();return"x"===i||"y"===i?(t="gridIndex",e="x"===i?"y":"x"):(t="polarIndex",e="angle"===i?"radius":"angle"),n.eachComponent(e+"Axis",function(e){(e.get(t)||0)===(r.get(t)||0)&&(a=e)}),a},getMinMaxSpan:function(){return B(this._minMaxSpan)},calculateDataWindow:function(e){var t,a=this._dataExtent,i=this.getAxisModel().axis.scale,n=this._dataZoomModel.getRangePropMode(),r=[0,100],l=[],o=[];Hd(["start","end"],function($,s){var u=e[$],d=e[$+"Value"];"percent"===n[s]?(null==u&&(u=r[s]),d=i.parse(ra(u,r,a))):(t=!0,d=null==d?a[s]:i.parse(d),u=ra(d,a,r)),o[s]=d,l[s]=u}),rD(o),rD(l);var $=this._minMaxSpan;function s(e,t,a,n,r){var l=r?"Span":"ValueSpan";Ad(0,e,a,"all",$["min"+l],$["max"+l]);for(var o=0;o<2;o++)t[o]=ra(e[o],a,n,!0),r&&(t[o]=i.parse(t[o]))}return t?s(o,l,a,r,!1):s(l,o,r,a,!0),{valueWindow:o,percentWindow:l}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=uga(this,this._dimName,t),wga(this);var a=this.calculateDataWindow(e.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,sD(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,sD(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var a=this._dimName,i=this.getTargetSeriesModels(),n=e.get("filterMode"),r=this._valueWindow;"none"!==n&&Hd(i,function(e){var t=e.getData(),i=t.mapDimension(a,!0);i.length&&("weakFilter"===n?t.filterSelf(function(e){for(var a,n,l,o=0;o<i.length;o++){var $=t.get(i[o],e),s=!isNaN($),u=$<r[0],d=$>r[1];if(s&&!u&&!d)return!0;s&&(l=!0),u&&(a=!0),d&&(n=!0)}return l&&a&&n}):Hd(i,function(a){if("empty"===n)e.setData(t=t.map(a,function(e){return function(e){return e>=r[0]&&e<=r[1]}(e)?e:NaN}));else{var i={};i[a]=r,t.selectRange(i)}}),Hd(i,function(e){t.setApproximateExtent(r,e)}))})}}};var xga=Dq;tga=xga;var Eq={},Id=k,Jd=qD,yga=Ma({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=tD(t);this.settledOption=n,this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=tD(t);f(this.option,t,!0),f(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var e=this.option;x.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),uD(this,t);var i=this.settledOption;Id([["start","startValue"],["end","endValue"]],function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=i[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,r){var a=this.dependentModels[e.axis][i],s=a.__dzAxisProxy||(a.__dzAxisProxy=new tga(e.name,i,this,r));t[e.name+"_"+i]=s},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();Jd(function(e){var i=e.axisIndex;t[i]=pa(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;Jd(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option,n=this.dependentModels;if(t){var r="vertical"===e?"y":"x";n[r+"Axis"].length?(i[r+"AxisIndex"]=[0],t=!1):Id(n.singleAxis,function(n){t&&n.get("orient",!0)===e&&(i.singleAxisIndex=[n.componentIndex],t=!1)})}t&&Jd(function(e){if(t){var n=[],r=this.dependentModels[e.axis];if(r.length&&!n.length)for(var a=0,s=r.length;a<s;a++)"category"===r[a].get("type")&&n.push(a);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&Jd(function(e){var n=i[e.axisIndex],r=t.get(e.axisIndex),a=t.get(e.axisId);r=t.ecModel.queryComponents({mainType:e.axis,index:r,id:a})[0].componentIndex,C(n,r)<0&&n.push(r)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return Jd(function(n){var r=t.get(n.axisIndex),a=this.dependentModels[n.axis][r];a&&a.get("type")===e||(i=!1)},this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return Jd(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;Jd(function(n){Id(this.get(n.axisIndex),function(r){t.call(e,n,r,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(t){var e=this.option,i=this.settledOption;Id([["start","startValue"],["end","endValue"]],function(n){null==t[n[0]]&&null==t[n[1]]||(e[n[0]]=i[n[0]]=t[n[0]],e[n[1]]=i[n[1]]=t[n[1]])},this),uD(this,t)},setCalculatedRange:function(t){var e=this.option;Id(["start","startValue","end","endValue"],function(i){e[i]=t[i]})},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}});function tD(t){var e={};return Id(["start","end","startValue","endValue","throttle"],function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e}function uD(t,e){var i=t._rangePropMode,n=t.get("rangeMode");Id([["start","startValue"],["end","endValue"]],function(t,r){var a=null!=e[t[0]],s=null!=e[t[1]];a&&!s?i[r]="percent":!a&&s?i[r]="value":n?i[r]=n[r]:a&&(i[r]="percent")})}var zga=yga;Eq=zga;var Fq={},Aga=_f.extend({type:"dataZoom",render:function(e,o,n,t){this.dataZoomModel=e,this.ecModel=o,this.api=n},getTargetCoordInfo:function(){var e=this.dataZoomModel,o=this.ecModel,n={};return e.eachTargetAxis(function(e,t){var a=o.getComponent(e.axis,t);if(a){var r=a.getCoordSysModel();r&&function(e,o,n,t){for(var a,r=0;r<n.length;r++)if(n[r].model===e){a=n[r];break}a||n.push(a={model:e,axisModels:[],coordIndex:t});a.axisModels.push(o)}(r,a,n[r.mainType]||(n[r.mainType]=[]),r.componentIndex)}},this),n}});Fq=Aga;var Qka=Eq.extend({type:"dataZoom.select"});var Rka=Fq.extend({type:"dataZoom.select"});var Bga=G,Cga=k;ab({getTargetSeries:function(e){var a=Bga();return e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,t,r){var n=r.getAxisProxy(e.name,t);Cga(n.getTargetSeriesModels(),function(e){a.set(e.uid,e)})})}),a},modifyOutputEnd:!0,overallReset:function(e,a){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,t,r){r.getAxisProxy(e.name,t).reset(r,a)}),e.eachTargetAxis(function(e,t,r){r.getAxisProxy(e.name,t).filterData(r,a)})}),e.eachComponent("dataZoom",function(e){var a=e.findRepresentativeAxisProxy(),t=a.getDataPercentWindow(),r=a.getDataValueWindow();e.setCalculatedRange({start:t[0],end:t[1],startValue:r[0],endValue:r[1]})})}});d("dataZoom",function(e,r){var a=sga(m(r.eachComponent,r,"dataZoom"),qD,function(e,r){return e.get(r.axisIndex)}),t=[];r.eachComponent({mainType:"dataZoom",query:e},function(e,r){t.push.apply(t,a(e).nodes)}),k(t,function(r,a){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var Dga=Zb.toolbox.dataZoom,vD=k,Ega="\0_ec_\0toolbox-dataZoom_";function Gq(r,a,e){(this._brushController=new Bp(e.getZr())).on("brush",m(this._onBrush,this)).mount(),this._isZoomActive}Gq.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:B(Dga.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var jf=Gq.prototype;jf.render=function(r,a,e,t){this.model=r,this.ecModel=a,this.api=e,Hga(r,a,this,t,e),Gga(r,a)},jf.onclick=function(r,a,e){Fga[e].call(this)},jf.remove=function(r,a){this._brushController.unmount()},jf.dispose=function(r,a){this._brushController.dispose()};var Fga={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(iga(this.ecModel))}};function wD(r){var a={};return k(["xAxisIndex","yAxisIndex"],function(e){a[e]=r[e],null==a[e]&&(a[e]="all"),(!1===a[e]||"none"===a[e])&&(a[e]=[])}),a}function Gga(r,a){r.setIconStatus("back",kga(a)>1?"emphasis":"normal")}function Hga(r,a,e,t,o){var $=e._isZoomActive;t&&"takeGlobalCursor"===t.type&&($="dataZoomSelect"===t.key&&t.dataZoomSelectActive),e._isZoomActive=$,r.setIconStatus("zoom",$?"emphasis":"normal");var i=new xq(wD(r.option),a,{include:["grid"]});e._brushController.setPanels(i.makePanelOpts(o,function(r){return r.xAxisDeclared&&!r.yAxisDeclared?"lineX":!r.xAxisDeclared&&r.yAxisDeclared?"lineY":"rect"})).enableBrush(!!$&&{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()})}jf._onBrush=function(r,a){if(a.isEnd&&r.length){var e={},t=this.ecModel;this._brushController.updateCovers([]),new xq(wD(this.model.option),t,{include:["grid"]}).matchOutputRanges(r,t,function(r,a,e){if("cartesian2d"===e.type){var t=r.brushType;"rect"===t?(o("x",e,a[0]),o("y",e,a[1])):o({lineX:"x",lineY:"y"}[t],e,a)}}),hga(t,e),this._dispatchZoomAction(e)}function o(r,a,o){var $=a.getAxis(r),i=$.model,n=function(r,a,e){var t;return e.eachComponent({mainType:"dataZoom",subType:"select"},function(e){e.getAxisModel(r,a.componentIndex)&&(t=e)}),t}(r,i,t),K=n.findRepresentativeAxisProxy(i).getMinMaxSpan();null==K.minValueSpan&&null==K.maxValueSpan||(o=Ad(0,o.slice(),$.scale.getExtent(),0,K.minValueSpan,K.maxValueSpan)),n&&(e[n.id]={dataZoomId:n.id,startValue:o[0],endValue:o[1]})}},jf._dispatchZoomAction=function(r){var a=[];vD(r,function(r,e){a.push(B(r))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},ff("dataZoom",Gq),la(function(r){if(r){var a=r.dataZoom||(r.dataZoom=[]);J(a)||(r.dataZoom=a=[a]);var e=r.toolbox;if(e&&(J(e)&&(e=e[0]),e&&e.feature)){var t=e.feature.dataZoom;o("xAxis",t),o("yAxis",t)}}function o(e,t){if(t){var o=e+"Index",$=t[o];null==$||"all"===$||J($)||($=!1===$||"none"===$?[]:[$]),function(a,e){var t=r[a];J(t)||(t=t?[t]:[]);vD(t,e)}(e,function(r,i){if(null==$||"all"===$||-1!==C($,i)){var n={type:"select",$fromToolbox:!0,filterMode:t.filterMode||"filter",id:Ega+e+i};n[o]=i,a.push(n)}})}}});var Iga=Zb.toolbox.restore;function Hq(r){this.model=r}Hq.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Iga.title};var Jga=Hq.prototype;Jga.onclick=function(r,e,$){jga(r),e.dispatchAction({type:"restore",from:this.uid})},ff("restore",Hq),d({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,e){e.resetOption("recreate")});var Ska=Ma({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Kga={},xD=k,Lga=av,Mga=["","-webkit-","-moz-","-o-"],Nga="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function Oga(e){var t="left "+e+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)";return j(Mga,function(e){return e+"transition:"+t}).join(";")}function Pga(e){var t=[],o=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont());var i=e.get("lineHeight");null==i&&(i=Math.round(3*o/2)),o&&t.push("line-height:"+i+"px");var n=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return a&&t.push("text-shadow:"+s+"px "+l+"px "+a+"px "+n),xD(["decoration","align"],function(o){var r=e.get(o);r&&t.push("text-"+o+":"+r)}),t.join(";")}function Qga(e){var t=[],o=e.get("transitionDuration"),r=e.get("backgroundColor"),i=e.getModel("textStyle"),n=e.get("padding");return o&&t.push(Oga(o)),r&&(x.canvasSupported?t.push("background-Color:"+r):(t.push("background-Color:#"+hl(r)),t.push("filter:alpha(opacity=70)"))),xD(["width","color","radius"],function(o){var r="border-"+o,i=Lga(r),n=e.get(i);null!=n&&t.push(r+":"+n+("color"===o?"":"px"))}),t.push(Pga(i)),null!=n&&t.push("padding:"+fd(n).join("px ")+"px"),t.join(";")+";"}function yD(e,t,o,r,i){var n=t&&t.painter;if(o){var a=n&&n.getViewportRoot();a&&EG(e,a,document.body,r,i)}else{e[0]=r,e[1]=i;var s=n&&n.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Iq(e,t,o){if(x.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),n=this._appendToBody=o&&o.appendToBody;this._styleCoord=[0,0,0,0],yD(this._styleCoord,i,n,t.getWidth()/2,t.getHeight()/2),n?document.body.appendChild(r):e.appendChild(r),this._container=e,this._show=!1,this._hideTimeout;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(e){if(e=e||window.event,!a._enterable){var t=i.handler,o=i.painter.getViewportRoot();es(o,e,!0),t.dispatch("mousemove",e)}},r.onmouseleave=function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}}Iq.prototype={constructor:Iq,_enterable:!0,update:function(e){var t=this._container,o=t.currentStyle||document.defaultView.getComputedStyle(t),r=t.style;"absolute"!==r.position&&"absolute"!==o.position&&(r.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],o=e*this._zr.getWidth(),r=t*this._zr.getHeight();this.moveTo(o,r)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,o=this._styleCoord;t.style.cssText=Nga+Qga(e)+";left:"+o[0]+"px;top:"+o[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var o=this._styleCoord;yD(o,this._zr,this._appendToBody,e,t);var r=this.el.style;r.left=o[0]+"px",r.top=o[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var o=document.defaultView.getComputedStyle(this.el);o&&(e+=parseInt(o.borderLeftWidth,10)+parseInt(o.borderRightWidth,10),t+=parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10))}return{width:e,height:t}}};var Rga=Iq;Kga=Rga;var Sga={};function zD(t,e,i,o){t[0]=i,t[1]=o,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function Jq(t){var e=this._zr=t.getZr();this._styleCoord=[0,0,0,0],zD(this._styleCoord,e,t.getWidth()/2,t.getHeight()/2),this._show=!1,this._hideTimeout}Jq.prototype={constructor:Jq,_enterable:!0,update:function(t){t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],i=t*this._zr.getWidth(),o=e*this._zr.getHeight();this.moveTo(i,o)},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,i){this.el&&this._zr.remove(this.el);for(var o={},r=t,h=r.indexOf("{marker");h>=0;){var s=r.indexOf("|}"),l=r.substr(h+"{marker".length,s-h-"{marker".length);l.indexOf("sub")>-1?o["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:o["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},h=(r=r.substr(s+1)).indexOf("{marker")}var n=i.getModel("textStyle"),a=n.get("fontSize"),d=i.get("textLineHeight");null==d&&(d=Math.round(3*a/2)),this.el=new K({style:R({},n,{rich:o,text:t,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding"),textLineHeight:d}),z:i.get("z")}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){if(this.el){var i=this._styleCoord;zD(i,this._zr,t,e),this.el.attr("position",[i[0],i[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var Tga=Jq;Sga=Tga;var Uga=Ct,AD=m,Vg=k,BD=D,Vga=new F({shape:{x:-1,y:-1,width:2,height:2}}),Tka=Z({type:"tooltip",init:function(t,e){if(!x.node){var i,o=t.getComponent("tooltip"),a=o.get("renderMode");this._renderMode=Uga(a),"html"===this._renderMode?(i=new Kga(e.getDom(),e,{appendToBody:o.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new Sga(e),this._newLine="\n"),this._tooltipContent=i}},render:function(t,e,i){if(!x.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");bC("itemTooltip",this._api,AD(function(e,i,o){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,o):"leave"===e&&this._hide(o))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(t,e,i,{x:o._lastX,y:o._lastY})})}},manuallyShowTip:function(t,e,i,o){if(o.from!==this.uid&&!x.node){var a=CD(o,i);this._ticket="";var l=o.dataByCoordSys;if(o.tooltip&&null!=o.x&&null!=o.y){var r=Vga;r.position=[o.x,o.y],r.update(),r.tooltip=o.tooltip,this._tryShow({offsetX:o.x,offsetY:o.y,target:r},a)}else if(l)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:o.dataByCoordSys,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,o))return;var n=XB(o,e),s=n.point[0],$=n.point[1];null!=s&&null!=$&&this._tryShow({offsetX:s,offsetY:$,position:o.position,target:n.el},a)}else null!=o.x&&null!=o.y&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},a))}},manuallyHideTip:function(t,e,i,o){var a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,o.from!==this.uid&&this._hide(CD(o,i))},_manuallyAxisShowTip:function(t,e,i,o){var a=o.seriesIndex,l=o.dataIndex,r=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=l&&null!=r){var n=e.getSeriesByIndex(a);if(n)if("axis"===(t=Kq([n.getData().getItemModel(l),n,(n.coordinateSystem||{}).model,t])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:l,position:o.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=m(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,o=this._tooltipModel,a=[e.offsetX,e.offsetY],l=[],r=[],n=Kq([e.tooltipOption,o]),s=this._renderMode,$=this._newLine,h={};Vg(t,function(t){Vg(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),o=t.value,a=[];if(e&&null!=o){var n=Oda(o,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);k(t.seriesDataIndices,function(l){var $=i.getSeriesByIndex(l.seriesIndex),d=l.dataIndexInside,p=$&&$.getDataParams(d);if(p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=dx(e.axis,o),p.axisValueLabel=n,p){r.push(p);var u,v=$.formatTooltip(d,!0,null,s);if(y(v)){u=v.html;var c=v.markers;f(h,c)}else u=v;a.push(u)}});var d=n;"html"!==s?l.push(a.join($)):l.push((d?Ja(d)+$:"")+a.join($))}})},this),l.reverse(),l=l.join(this._newLine+this._newLine);var d=e.position;this._showOrMove(n,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(n,d,a[0],a[1],this._tooltipContent,r):this._showTooltipContent(n,l,r,Math.random(),a[0],a[1],d,void 0,h)})},_showSeriesItemTooltip:function(t,e,i){var o=this._ecModel,a=e.seriesIndex,l=o.getSeriesByIndex(a),r=e.dataModel||l,n=e.dataIndex,s=e.dataType,$=r.getData(s),h=Kq([$.getItemModel(n),r,l&&(l.coordinateSystem||{}).model,this._tooltipModel]),d=h.get("trigger");if(null==d||"item"===d){var p,u,v=r.getDataParams(n,s),c=r.formatTooltip(n,!1,s,this._renderMode);y(c)?(p=c.html,u=c.markers):(p=c,u=null);var f="item_"+r.name+"_"+n;this._showOrMove(h,function(){this._showTooltipContent(h,p,v,f,t.offsetX,t.offsetY,t.position,t.target,u)}),i({type:"showTip",dataIndexInside:n,dataIndex:$.getRawIndex(n),seriesIndex:a,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var o=e.tooltip;if("string"==typeof o){o={content:o,formatter:o}}var a=new L(o,this._tooltipModel,this._ecModel),l=a.get("content"),r=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,l,a.get("formatterParams")||{},r,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,i,o,a,l,r,n,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var $=this._tooltipContent,h=t.get("formatter");r=r||t.get("position");var d=e;if(h&&"string"==typeof h)d=Rm(h,i,!0);else if("function"==typeof h){var p=AD(function(e,o){e===this._ticket&&($.setContent(o,s,t),this._updatePosition(t,r,a,l,$,i,n))},this);this._ticket=o,d=h(i,o,p)}$.setContent(d,s,t),$.show(t),this._updatePosition(t,r,a,l,$,i,n)}},_updatePosition:function(t,e,i,o,a,l,r){var n=this._api.getWidth(),s=this._api.getHeight();e=e||t.get("position");var $=a.getSize(),h=t.get("align"),d=t.get("verticalAlign"),p=r&&r.getBoundingRect().clone();if(r&&p.applyTransform(r.transform),"function"==typeof e&&(e=e([i,o],l,a.el,p,{viewSize:[n,s],contentSize:$.slice()})),J(e))i=BD(e[0],n),o=BD(e[1],s);else if(y(e)){e.width=$[0],e.height=$[1];var u=T(e,{width:n,height:s});i=u.x,o=u.y,h=null,d=null}else if("string"==typeof e&&r){i=(v=Yga(e,p,$))[0],o=v[1]}else{var v;i=(v=Wga(i,o,a,n,s,h?null:20,d?null:20))[0],o=v[1]}(h&&(i-=DD(h)?$[0]/2:"right"===h?$[0]:0),d&&(o-=DD(d)?$[1]/2:"bottom"===d?$[1]:0),t.get("confine"))&&(i=(v=Xga(i,o,a,n,s))[0],o=v[1]);a.moveTo(i,o)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&Vg(e,function(e,o){var a=e.dataByAxis||{},l=(t[o]||{}).dataByAxis||[];(i&=a.length===l.length)&&Vg(a,function(t,e){var o=l[e]||{},a=t.seriesDataIndices||[],r=o.seriesDataIndices||[];(i&=t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&a.length===r.length)&&Vg(a,function(t,e){var o=r[e];i&=t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex})})}),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){x.node||(this._tooltipContent.dispose(),cq("itemTooltip",e))}});function Kq(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(L.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new L(i,e,e.ecModel))}return e}function CD(t,e){return t.dispatchAction||m(e.dispatchAction,e)}function Wga(t,e,i,o,a,l,r){var n=i.getOuterSize(),s=n.width,$=n.height;return null!=l&&(t+s+l>o?t-=s+l:t+=l),null!=r&&(e+$+r>a?e-=$+r:e+=r),[t,e]}function Xga(t,e,i,o,a){var l=i.getOuterSize(),r=l.width,n=l.height;return t=Math.min(t+r,o)-r,e=Math.min(e+n,a)-n,[t=Math.max(t,0),e=Math.max(e,0)]}function Yga(t,e,i){var o=i[0],a=i[1],l=0,r=0,n=e.width,s=e.height;switch(t){case"inside":l=e.x+n/2-o/2,r=e.y+s/2-a/2;break;case"top":l=e.x+n/2-o/2,r=e.y-a-5;break;case"bottom":l=e.x+n/2-o/2,r=e.y+s+5;break;case"left":l=e.x-o-5,r=e.y+s/2-a/2;break;case"right":l=e.x+n+5,r=e.y+s/2-a/2;}return[l,r]}function DD(t){return"center"===t||"middle"===t}d({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),d({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var Zga={},$ga=["rect","polygon","keep","clear"];function _ga(r,$){var a=r&&r.brush;if(J(a)||(a=a?[a]:[]),a.length){var e=[];k(a,function(r){var $=r.hasOwnProperty("toolbox")?r.toolbox:[];$ instanceof Array&&(e=e.concat($))});var t=r&&r.toolbox;J(t)&&(t=t[0]),t||(t={feature:{}},r.toolbox=[t]);var o=t.feature||(t.feature={}),l=o.brush||(o.brush={}),v=l.type||(l.type=[]);v.push.apply(v,e),aha(v),$&&!v.length&&v.push.apply(v,$ga)}}function aha(r){var $={};k(r,function(r){$[r]=1}),r.length=0,k($,function($,a){r.push(a)})}Zga=_ga;var ED=k;function FD(a){if(a)for(var r in a)if(a.hasOwnProperty(r))return!0}function bha(a,r,$){var e={};return ED(r,function(r){var i,p=e[r]=((i=function(){}).prototype.__hidden=i.prototype,new i);ED(a[r],function(a,e){if(ea.isValidType(e)){var i={type:e,visual:a};$&&$(i,r),p[e]=new ea(i),"opacity"===e&&((i=B(i)).type="colorAlpha",p.__hidden.__alphaForOpacity=new ea(i))}})}),e}function cha(a,r,$){var e;k($,function(a){r.hasOwnProperty(a)&&FD(r[a])&&(e=!0)}),e&&k($,function($){r.hasOwnProperty($)&&FD(r[$])?a[$]=B(r[$]):delete a[$]})}function dha(a,r,$,e,i,p){var l,t={};function n(a){return $.getItemVisual(l,a)}function u(a,r){$.setItemVisual(l,a,r)}function s(a,s){l=null==p?a:s;var x=$.getRawDataItem(l);if(!x||!1!==x.visualMap)for(var M=e.call(i,a),o=r[M],c=t[M],v=0,z=c.length;v<z;v++){var E=c[v];o[E]&&o[E].applyVisual(a,n,u)}}k(a,function(a){var $=ea.prepareVisualTypes(r[a]);t[a]=$}),null==p?$.each(s):$.each([p],s)}function eha(a,r,$,e){var i={};return k(a,function(a){var $=ea.prepareVisualTypes(r[a]);i[a]=$}),{progress:function(a,p){function l(a){return p.getItemVisual(n,a)}function t(a,r){p.setItemVisual(n,a,r)}var n;for(null!=e&&(e=p.getDimension(e));null!=(n=a.next());){var u=p.getRawDataItem(n);if(!u||!1!==u.visualMap)for(var s=null!=e?p.get(e,n,!0):n,x=$(s),M=r[x],o=i[x],c=0,v=o.length;c<v;c++){var z=o[c];M[z]&&M[z].applyVisual(s,l,t)}}}}}var Lq=bha;var GD=cha;var fha=dha;var gha=eha;var Mq={},qk=Ou,hha={lineX:HD(0),lineY:HD(1),rect:{point:function(n,e,r){return n&&r.boundingRect.contain(n[0],n[1])},rect:function(n,e,r){return n&&r.boundingRect.intersect(n)}},polygon:{point:function(n,e,r){return n&&r.boundingRect.contain(n[0],n[1])&&od(r.range,n[0],n[1])},rect:function(n,e,r){var $=r.range;if(!n||$.length<=1)return!1;var t=n.x,i=n.y,a=n.width,o=n.height,y=$[0];return!!(od($,t,i)||od($,t+a,i)||od($,t,i+o)||od($,t+a,i+o)||I.create(n).contain(y[0],y[1])||qk(t,i,t+a,i,$)||qk(t,i,t,i+o,$)||qk(t+a,i,t+a,i+o,$)||qk(t,i+o,t+a,i+o,$))||void 0}}};function HD(n){var e=["x","y"],r=["width","height"];return{point:function(e,r,$){if(e){var t=$.range;return Wg(e[n],t)}},rect:function($,t,i){if($){var a=i.range,o=[$[e[n]],$[e[n]]+$[r[n]]];return o[1]<o[0]&&o.reverse(),Wg(o[0],a)||Wg(o[1],a)||Wg(a[0],o)||Wg(a[1],o)}}}}function Wg(n,e){return e[0]<=n&&n<=e[1]}var iha=hha;Mq=iha;var ID=["inBrush","outOfBrush"],Nq="__ecBrushSelect",Oq="__ecInBrushSelectEvent",JD=Jb.VISUAL.BRUSH;function KD(r){r.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new xq(e.option,r)).setInputRanges(e.areas,r)})}function jha(r,e,$,a,t){if(t){var n=r.getZr();if(!n[Oq])n[Nq]||(n[Nq]=kha),ag(n,Nq,$,e)(r,a)}}function kha(r,e){if(!r.isDisposed()){var $=r.getZr();$[Oq]=!0,r.dispatchAction({type:"brushSelect",batch:e}),$[Oq]=!1}}function LD(r,e,$,a){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(r[i.brushType](a,$,i.selectors,i))return!0}}function MD(r){var e=r.brushSelector;if(M(e)){var $=[];return k(Mq,function(r,a){$[a]=function($,a,t,n){var i=a.getItemLayout($);return r[e](i,t,n)}}),$}if(fa(e)){var a={};return k(Mq,function(r,$){a[$]=e}),a}return e}function lha(r,e){var $=r.option.seriesIndex;return null!=$&&"all"!==$&&(J($)?C($,e)<0:e!==$)}function mha(r){var e=r.selectors={};return k(Mq[r.brushType],function($,a){e[a]=function(a){return $(a,e,r)}}),r}u(JD,function(r,e,$){r.eachComponent({mainType:"brush"},function(r){$&&"takeGlobalCursor"===$.type&&r.setBrushOption("brush"===$.key?$.brushOption:{brushType:!1})}),KD(r)}),s(JD,function(r,e,$){var a,t,n=[];r.eachComponent({mainType:"brush"},function(e,$){var i={brushId:e.id,brushIndex:$,brushName:e.name,areas:B(e.areas),selected:[]};n.push(i);var o=e.option,u=o.brushLink,p=[],s=[],I=[],c=0;$||(a=o.throttleType,t=o.throttleDelay);var v=j(e.areas,function(r){return mha(E({boundingRect:nha[r.brushType](r)},r))}),A=Lq(e.option,ID,function(r){r.mappingMethod="fixed"});function l(r){return"all"===u||p[r]}function O(r){return!!r.length}J(u)&&k(u,function(r){p[r]=1}),r.eachSeries(function($,a){var t=I[a]=[];"parallel"===$.subType?function(r,e){var $=r.coordinateSystem;c|=$.hasAxisBrushed(),l(e)&&$.eachActiveState(r.getData(),function(r,e){"active"===r&&(s[e]=1)})}($,a):function($,a,t){var n=MD($);if(!n||lha(e,a))return;if(k(v,function(a){n[a.brushType]&&e.brushTargetManager.controlSeries(a,$,r)&&t.push(a),c|=O(t)}),l(a)&&O(t)){var i=$.getData();i.each(function(r){LD(n,t,i,r)&&(s[r]=1)})}}($,a,t)}),r.eachSeries(function(r,e){var $={seriesId:r.id,seriesIndex:e,seriesName:r.name,dataIndex:[]};i.selected.push($);var a=MD(r),t=I[e],n=r.getData(),o=l(e)?function(r){return s[r]?($.dataIndex.push(n.getRawIndex(r)),"inBrush"):"outOfBrush"}:function(r){return LD(a,t,n,r)?($.dataIndex.push(n.getRawIndex(r)),"inBrush"):"outOfBrush"};(l(e)?c:O(t))&&fha(ID,A,n,o)})}),jha(e,a,t,n,$)});var nha={lineX:$,lineY:$,rect:function(r){return ND(r.range)},polygon:function(r){for(var e,$=r.range,a=0,t=$.length;a<t;a++){e=e||[[1/0,-1/0],[1/0,-1/0]];var n=$[a];n[0]<e[0][0]&&(e[0][0]=n[0]),n[0]>e[0][1]&&(e[0][1]=n[0]),n[1]<e[1][0]&&(e[1][0]=n[1]),n[1]>e[1][1]&&(e[1][1]=n[1])}return e&&ND(e)}};function ND(r){return new I(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var oha=KD;var pha=["#ddd"],Uka=Ma({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(r,e){var t=this.option;!e&&GD(t,r,["inBrush","outOfBrush"]);var $=t.inBrush=t.inBrush||{};t.outOfBrush=t.outOfBrush||{color:pha},$.hasOwnProperty("liftZ")||($.liftZ=5)},setAreas:function(r){r&&(this.areas=j(r,function(r){return OD(this.option,r)},this))},setBrushOption:function(r){this.brushOption=OD(this.option,r),this.brushType=this.brushOption.brushType}});function OD(r,e){return f({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new L(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},e,!0)}var qha=oha,Vka=Z({type:"brush",init:function(r,e){this.ecModel=r,this.api=e,this.model,(this._brushController=new Bp(e.getZr())).on("brush",m(this._onBrush,this)).mount()},render:function(r){return this.model=r,Pq.apply(this,arguments)},updateTransform:function(r,e){return qha(e),Pq.apply(this,arguments)},updateView:Pq,dispose:function(){this._brushController.dispose()},_onBrush:function(r,e){var t=this.model.id;this.model.brushTargetManager.setOutputRanges(r,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:B(r),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:B(r),$from:t})}});function Pq(r,e,t,u){(!u||u.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(t)).enableBrush(r.brushOption).updateCovers(r.areas.slice())}d({type:"brush",event:"brush"},function(e,r){r.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),d({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),d({type:"brushEnd",event:"brushEnd",update:"none"},function(){});var rha=Zb.toolbox.brush;function Qq(e,r,M){this.model=e,this.ecModel=r,this.api=M,this._brushType,this._brushMode}Qq.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:B(rha.title)};var rk=Qq.prototype;rk.render=rk.updateView=function(e,r,M){var t,$,a;r.eachComponent({mainType:"brush"},function(e){t=e.brushType,$=e.brushOption.brushMode||"single",a|=e.areas.length}),this._brushType=t,this._brushMode=$,k(e.get("type",!0),function(r){e.setIconStatus(r,("keep"===r?"multiple"===$:"clear"===r?a:r===t)?"emphasis":"normal")})},rk.getIcons=function(){var e=this.model,r=e.get("icon",!0),M={};return k(e.get("type",!0),function(e){r[e]&&(M[e]=r[e])}),M},rk.onclick=function(e,r,M){var t=this._brushType,$=this._brushMode;"clear"===M?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===M?t:t!==M&&M,brushMode:"keep"===M?"multiple"===$?"single":"multiple":$}})},ff("brush",Qq);la(Zga);var sha=T,PD=si;Ma({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Z({type:"title",render:function(t,e,r){if(this.group.removeAll(),t.get("show")){var g=this.group,i=t.getModel("textStyle"),a=t.getModel("subtextStyle"),o=t.get("textAlign"),l=Fa(t.get("textBaseline"),t.get("textVerticalAlign")),c=new K({style:R({},i,{text:t.get("text"),textFill:i.getTextColor()},{disableBox:!0}),z2:10}),n=c.getBoundingRect(),$=t.get("subtext"),d=new K({style:R({},a,{text:$,textFill:a.getTextColor(),y:n.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),h=t.get("link"),p=t.get("sublink"),u=t.get("triggerEvent",!0);c.silent=!h&&!u,d.silent=!p&&!u,h&&c.on("click",function(){PD(h,"_"+t.get("target"))}),p&&d.on("click",function(){PD(p,"_"+t.get("subtarget"))}),c.eventData=d.eventData=u?{componentType:"title",componentIndex:t.componentIndex}:null,g.add(c),$&&g.add(d);var x=g.getBoundingRect(),s=t.getBoxLayoutParams();s.width=x.width,s.height=x.height;var v=sha(s,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));o||("middle"===(o=t.get("left")||t.get("right"))&&(o="center"),"right"===o?v.x+=v.width:"center"===o&&(v.x+=v.width/2)),l||("center"===(l=t.get("top")||t.get("bottom"))&&(l="middle"),"bottom"===l?v.y+=v.height:"middle"===l&&(v.y+=v.height/2),l=l||"top"),g.attr("position",[v.x,v.y]);var y={textAlign:o,textVerticalAlign:l};c.setStyle(y),d.setStyle(y),x=g.getBoundingRect();var L=v.margin,H=t.getItemStyle(["color","opacity"]);H.fill=t.get("backgroundColor");var b=new F({shape:{x:x.x-L[3],y:x.y-L[0],width:x.width+L[1]+L[3],height:x.height+L[0]+L[2],r:t.get("borderRadius")},style:H,subPixelOptimize:!0,silent:!0});g.add(b)}}});var tha={};function uha(r){var $=r&&r.timeline;J($)||($=$?[$]:[]),k($,function(r){r&&vha(r)})}function vha(r){var $=r.type,a={number:"value",time:"time"};if(a[$]&&(r.axisType=a[$],delete r.type),QD(r),Kd(r,"controlPosition")){var e=r.controlStyle||(r.controlStyle={});Kd(e,"position")||(e.position=r.controlPosition),"none"!==e.position||Kd(e,"show")||(e.show=!1,delete e.position),delete r.controlPosition}k(r.data||[],function(r){y(r)&&!J(r)&&(!Kd(r,"value")&&Kd(r,"name")&&(r.value=r.name),QD(r))})}function QD(r){var $=r.itemStyle||(r.itemStyle={}),a=$.emphasis||($.emphasis={}),e=r.label||r.label||{},t=e.normal||(e.normal={}),i={normal:1,emphasis:1};k(e,function(r,$){i[$]||Kd(t,$)||(t[$]=r)}),a.label&&!Kd(e,"emphasis")&&(e.emphasis=a.label,delete a.label)}function Kd(r,$){return r.hasOwnProperty($)}tha=uha;p.registerSubTypeDefaulter("timeline",function(){return"slider"});d({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.setPlayState(!1)),t.resetOption("timeline"),E({currentIndex:r.option.currentIndex},e)}),d({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&null!=e.playState&&r.setPlayState(e.playState)});var wha={},RD=p.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,i,e){this._data,this._names,this.mergeDefaultAndTheme(t,e),this._initData()},mergeOption:function(t){RD.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,i=t.data||[],e=t.axisType,a=this._names=[];if("category"===e){var n=[];k(i,function(t,i){var e,r=Jh(t);y(t)?(e=B(t)).value=i:e=i,n.push(e),M(r)||null!=r&&!isNaN(r)||(r=""),a.push(r+"")}),i=n}var r={category:"ordinal",time:"time"}[e]||"number";(this._data=new ka([{name:"value",type:r}],this)).initData(i,a)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),xha=RD;wha=xha;var yha=wha.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});l(yha,pn);var zha={},Aha=_f.extend({type:"timeline"});zha=Aha;var Bha={},sk=function($,e,i,r){X.call(this,$,e,i),this.type=r||"value",this.model=null};sk.prototype={constructor:sk,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},n(sk,X);var Cha=sk;Bha=Cha;var Dha=_a,Eha=Ja,Oc=m,Rq=k,Sq=Math.PI,Wka=zha.extend({type:"timeline.slider",init:function(e,t){this.api=t,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,i,r){if(this.model=e,this.api=i,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),n=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),l=this._axis=this._createAxis(a,e);e.formatTooltip=function(e){return Eha(l.scale.getLabel(e))},Rq(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](a,n,l,e)},this),this._renderAxisLabel(a,o,l,e),this._position(a,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var i=e.get("label.position"),r=e.get("orient"),a=Fha(e,t);null==i||"auto"===i?i="horizontal"===r?a.y+a.height/2<t.getHeight()/2?"-":"+":a.x+a.width/2<t.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][i]);var n,o,l,$,s={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},c={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:Sq/2},g="vertical"===r?a.height:a.width,v=e.getModel("controlStyle"),d=v.get("show",!0),u=d?v.get("itemSize"):0,m=d?v.get("itemGap"):0,p=u+m,C=e.get("label.rotate")||0;C=C*Sq/180;var q=v.get("position",!0),y=d&&v.get("showPlayBtn",!0),f=d&&v.get("showPrevBtn",!0),_=d&&v.get("showNextBtn",!0),b=0,x=g;return"left"===q||"bottom"===q?(y&&(n=[0,0],b+=p),f&&(o=[b,0],b+=p),_&&(l=[x-u,0],x-=p)):(y&&(n=[x-u,0],x-=p),f&&(o=[0,0],b+=p),_&&(l=[x-u,0],x-=p)),$=[b,x],e.get("inverse")&&$.reverse(),{viewRect:a,mainLength:g,orient:r,rotation:h[r],labelRotation:C,labelPosOpt:i,labelAlign:e.get("label.align")||s[r],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||c[r],playPosition:n,prevBtnPosition:o,nextBtnPosition:l,axisExtent:$,controlSize:u,controlGap:m}},_position:function(e,t){var i=this._mainGroup,r=this._labelGroup,a=e.viewRect;if("vertical"===e.orient){var n=Ha(),o=a.x,l=a.y+a.height;fb(n,n,[-o,-l]),Rb(n,n,-Sq/2),fb(n,n,[o,l]),(a=a.clone()).applyTransform(n)}var $=m(a),s=m(i.getBoundingRect()),c=m(r.getBoundingRect()),h=i.position,g=r.position;g[0]=h[0]=$[0][0];var v,d=e.labelPosOpt;isNaN(d)?(p(h,s,$,1,v="+"===d?0:1),p(g,c,$,1,1-v)):(p(h,s,$,1,v=d>=0?0:1),g[1]=h[1]+d);function u(e){var t=e.position;e.origin=[$[0][0]-t[0],$[1][0]-t[1]]}function m(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function p(e,t,i,r,a){e[r]+=i[r][a]-t[r][a]}i.attr("position",h),r.attr("position",g),i.rotation=r.rotation=e.rotation,u(i),u(r)},_createAxis:function(e,t){var i=t.getData(),r=t.get("axisType"),a=Ie(t,r);a.getTicks=function(){return i.mapArray(["value"],function(e){return e})};var n=i.getDataExtent("value");a.setExtent(n[0],n[1]),a.niceTicks();var o=new Bha("value",a,e.axisExtent,r);return o.model=t,o},_createGroup:function(e){var t=this["_"+e]=new q;return this.group.add(t),t},_renderAxisLine:function(e,t,i,r){var a=i.getExtent();r.get("lineStyle.show")&&t.add(new ca({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:z({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,i,r){var a=r.getData(),n=i.scale.getTicks();Rq(n,function(e){var n=i.dataToCoord(e),o=a.getItemModel(e),l=o.getModel("itemStyle"),$=o.getModel("emphasis.itemStyle"),s={position:[n,0],onclick:Oc(this._changeTimeline,this,e)},c=SD(o,l,t,s);V(c,$.getItemStyle()),o.get("tooltip")?(c.dataIndex=e,c.dataModel=r):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(e,t,i,r){if(i.getLabelModel().get("show")){var a=r.getData(),n=i.getViewLabels();Rq(n,function(r){var n=r.tickValue,o=a.getItemModel(n),l=o.getModel("label"),$=o.getModel("emphasis.label"),s=i.dataToCoord(r.tickValue),c=new K({position:[s,0],rotation:e.labelRotation-e.rotation,onclick:Oc(this._changeTimeline,this,n),silent:!1});R(c.style,l,{text:r.formattedLabel,textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(c),V(c,R({},$))},this)}},_renderControl:function(e,t,i,r){var a=e.controlSize,n=e.rotation,o=r.getModel("controlStyle").getItemStyle(),l=r.getModel("emphasis.controlStyle").getItemStyle(),$=[0,-a/2,a,a],s=r.getPlayState(),c=r.get("inverse",!0);function h(e,i,s,c){if(e){var h=Gha(r,i,$,{position:e,origin:[a/2,0],rotation:c?-n:0,rectHover:!0,style:o,onclick:s});t.add(h),V(h,l)}}h(e.nextBtnPosition,"controlStyle.nextIcon",Oc(this._changeTimeline,this,c?"-":"+")),h(e.prevBtnPosition,"controlStyle.prevIcon",Oc(this._changeTimeline,this,c?"+":"-")),h(e.playPosition,"controlStyle."+(s?"stopIcon":"playIcon"),Oc(this._handlePlayClick,this,!s),!0)},_renderCurrentPointer:function(e,t,i,r){var a=r.getData(),n=r.getCurrentIndex(),o=a.getItemModel(n).getModel("checkpointStyle"),l=this,$={onCreate:function(e){e.draggable=!0,e.drift=Oc(l._handlePointerDrag,l),e.ondragend=Oc(l._handlePointerDragend,l),TD(e,n,i,r,!0)},onUpdate:function(e){TD(e,n,i,r)}};this._currentPointer=SD(o,o,this._mainGroup,{},this._currentPointer,$)},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var i=this._toAxisCoord(e)[0],r=this._axis,a=ed(r.getExtent().slice());i>a[1]&&(i=a[1]),i<a[0]&&(i=a[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var n=this._findNearestTick(i),o=this.model;(t||n!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(n)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(Oc(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){var t=this._mainGroup.getLocalTransform();return Xb(e,t,!0)},_findNearestTick:function(e){var t,i=this.model.getData(),r=1/0,a=this._axis;return i.each(["value"],function(i,n){var o=a.dataToCoord(i),l=Math.abs(o-e);l<r&&(r=l,t=n)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});function Fha(e,t){return T(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function Gha(e,t,i,r){var a=r.style,n=qe(e.get(t),r||{},new I(i[0],i[1],i[2],i[3]));return a&&n.setStyle(a),n}function SD(e,t,i,r,a,n){var o=t.get("color");if(a)a.setColor(o),i.add(a),n&&n.onUpdate(a);else{var l=e.get("symbol");(a=Dha(l,-1,-1,2,2,o)).setStyle("strokeNoScale",!0),i.add(a),n&&n.onCreate(a)}var $=t.getItemStyle(["color","symbol","symbolSize"]);a.setStyle($),r=f({rectHover:!0,z2:100},r,!0);var s=e.get("symbolSize");(s=s instanceof Array?s.slice():[+s,+s])[0]/=2,s[1]/=2,r.scale=s;var c=e.get("symbolOffset");if(c){var h=r.position=r.position||[0,0];h[0]+=D(c[0],s[0]),h[1]+=D(c[1],s[1])}var g=e.get("symbolRotate");return r.rotation=(g||0)*Math.PI/180||0,a.attr(r),a.updateTransform(),a}function TD(e,t,i,r,a){if(!e.dragging){var n=r.getModel("checkpointStyle"),o=i.dataToCoord(r.getData().get(["value"],t));a||!n.get("animation",!0)?e.attr({position:[o,0]}):(e.stopAnimation(!0),e.animateTo({position:[o,0]},n.get("animationDuration",!0),n.get("animationEasing",!0)))}}la(tha);var Tq={},UD=se,Uq=Ja;function tk(e){Yc(e,"label",["show"])}var VD=Ma({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,a,$){this.mergeDefaultAndTheme(e,$),this._mergeOption(e,$,!1,!0)},isAnimationEnabled:function(){if(x.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,a){this._mergeOption(e,a,!1,!1)},_mergeOption:function(e,a,$,r){var t=this.constructor,i=this.mainType+"Model";$||a.eachSeries(function(e){var $=e.get(this.mainType,!0),n=e[i];$&&$.data?(n?n._mergeOption($,a,!0):(r&&tk($),k($.data,function(e){e instanceof Array?(tk(e[0]),tk(e[1])):tk(e)}),n=new t($,this,a),z(n,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),n.__hostSeries=e),e[i]=n):e[i]=null},this)},formatTooltip:function(e,a,$,r){var t=this.getData(),i=this.getRawValue(e),n=J(i)?j(i,UD).join(", "):UD(i),l=t.getName(e),o=Uq(this.name);return(null!=i||l)&&(o+="html"===r?"<br/>":"\n"),l&&(o+=Uq(l),null!=i&&(o+=" : ")),null!=i&&(o+=Uq(n)),o},getData:function(){return this._data},setData:function(e){this._data=e}});l(VD,pn);var Hha=VD;Tq=Hha;var Xka=Tq.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var Iha=De,WD=C;function Jha(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function Kha(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function Vq(a,r,e,$,t,i){var n=[],o=Iha(r,$)?r.getCalculationInfo("stackResultDimension"):$,l=Yq(r,o,a),s=r.indicesOfNearest(o,l)[0];n[t]=r.get(e,s),n[i]=r.get(o,s);var u=r.get($,s),v=Tu(r.get($,s));return(v=Math.min(v,20))>=0&&(n[i]=+n[i].toFixed(v)),[n,u]}var Wq=w,Xq={min:Wq(Vq,"min"),max:Wq(Vq,"max"),average:Wq(Vq,"average")};function Lha(a,r){var e=a.getData(),$=a.coordinateSystem;if(r&&!Kha(r)&&!J(r.coord)&&$){var t=$.dimensions,i=XD(r,e,$,a);if((r=B(r)).type&&Xq[r.type]&&i.baseAxis&&i.valueAxis){var n=WD(t,i.baseAxis.dim),o=WD(t,i.valueAxis.dim),l=Xq[r.type](e,i.baseDataDim,i.valueDataDim,n,o);r.coord=l[0],r.value=l[1]}else{for(var s=[null!=r.xAxis?r.xAxis:r.radiusAxis,null!=r.yAxis?r.yAxis:r.angleAxis],u=0;u<2;u++)Xq[s[u]]&&(s[u]=Yq(e,e.mapDimension(t[u]),s[u]));r.coord=s}}return r}function XD(a,r,e,$){var t={};return null!=a.valueIndex||null!=a.valueDim?(t.valueDataDim=null!=a.valueIndex?r.getDimension(a.valueIndex):a.valueDim,t.valueAxis=e.getAxis(Mha($,t.valueDataDim)),t.baseAxis=e.getOtherAxis(t.valueAxis),t.baseDataDim=r.mapDimension(t.baseAxis.dim)):(t.baseAxis=$.getBaseAxis(),t.valueAxis=e.getOtherAxis(t.baseAxis),t.baseDataDim=r.mapDimension(t.baseAxis.dim),t.valueDataDim=r.mapDimension(t.valueAxis.dim)),t}function Mha(a,r){var e=a.getData(),$=e.dimensions;r=e.getDimension(r);for(var t=0;t<$.length;t++){var i=e.getDimensionInfo($[t]);if(i.name===r)return i.coordDim}}function Nha(a,r){return!(a&&a.containData&&r.coord&&!Jha(r))||a.containData(r.coord)}function Oha(a,r,e,$){return $<2?a.coord&&a.coord[$]:a.value}function Yq(a,r,e){if("average"===e){var $=0,t=0;return a.each(r,function(a,r){isNaN(a)||($+=a,t++)}),$/t}return"median"===e?a.getMedian(r):a.getDataExtent(r,!0)["max"===e?1:0]}var Xg=Lha;var Pha=XD;var Yg=Nha;var YD=Oha;var Qha=Yq;var Zq={},Rha=Z({type:"marker",init:function(){this.markerGroupMap=G()},render:function(e,r,t){var a=this.markerGroupMap;a.each(function(e){e.__keep=!1});var $=this.type+"Model";r.eachSeries(function(e){var a=e[$];a&&this.renderSeries(e,a,r,t)},this),a.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});Zq=Rha;function ZD(e,r,a){var t=r.coordinateSystem;e.each(function($){var i,m=e.getItemModel($),p=D(m.get("x"),a.getWidth()),o=D(m.get("y"),a.getHeight());if(isNaN(p)||isNaN(o)){if(r.getMarkerPosition)i=r.getMarkerPosition(e.getValues(e.dimensions,$));else if(t){var l=e.get(t.dimensions[0],$),n=e.get(t.dimensions[1],$);i=t.dataToPoint([l,n])}}else i=[p,o];isNaN(p)||(i[0]=p),isNaN(o)||(i[1]=o),e.setItemLayout($,i)})}var Yka=Zq.extend({type:"markPoint",updateTransform:function(e,r,a){r.eachSeries(function(e){var r=e.markPointModel;r&&(ZD(r.getData(),e,a),this.markerGroupMap.get(e.id).updateLayout(r))},this)},renderSeries:function(e,r,a,t){var $=e.coordinateSystem,i=e.id,m=e.getData(),p=this.markerGroupMap,o=p.get(i)||p.set(i,new pg),l=Sha($,e,r);r.setData(l),ZD(r.getData(),e,t),l.each(function(e){var a=l.getItemModel(e),t=a.getShallow("symbol"),$=a.getShallow("symbolSize"),i=a.getShallow("symbolRotate"),p=fa(t),o=fa($),n=fa(i);if(p||o||n){var s=r.getRawValue(e),u=r.getDataParams(e);p&&(t=t(s,u)),o&&($=$(s,u)),n&&(i=i(s,u))}l.setItemVisual(e,{symbol:t,symbolSize:$,symbolRotate:i,color:a.get("itemStyle.color")||m.getVisual("color")})}),o.updateData(l),this.group.add(o.group),l.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=r})}),o.__keep=!0,o.group.silent=r.get("silent")||e.get("silent")}});function Sha(e,r,a){var t;t=e?j(e&&e.dimensions,function(e){var a=r.getData().getDimensionInfo(r.getData().mapDimension(e))||{};return E({name:e},a)}):[{name:"value",type:"float"}];var $=new ka(t,a),i=j(a.get("data"),w(Xg,r));return e&&(i=Ea(i,w(Yg,e))),$.initData(i,null,e?YD:function(e){return e.value}),$}la(function(r){r.markPoint=r.markPoint||{}});var Zka=Tq.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var Tha=Ui,Uha=function(e,r,t,a){var i=e.getData(),$=a.type;if(!J(a)&&("min"===$||"max"===$||"average"===$||"median"===$||null!=a.xAxis||null!=a.yAxis)){var n,o;if(null!=a.yAxis||null!=a.xAxis)n=r.getAxis(null!=a.yAxis?"y":"x"),o=ua(a.yAxis,a.xAxis);else{var l=Pha(a,i,r,e);n=l.valueAxis;var d=Tha(i,l.valueDataDim);o=Qha(i,d,$)}var s="x"===n.dim?0:1,m=1-s,u=B(a),v={};u.type=null,u.coord=[],v.coord=[],u.coord[m]=-1/0,v.coord[m]=1/0;var H=t.get("precision");H>=0&&"number"==typeof o&&(o=+o.toFixed(Math.min(H,20))),u.coord[s]=v.coord[s]=o,a=[u,v,{type:$,valueIndex:a.valueIndex,value:o}]}return(a=[Xg(e,a[0]),Xg(e,a[1]),z({},a[2])])[2].type=a[2].type||"",f(a[2],a[0]),f(a[2],a[1]),a};function uk(e){return!isNaN(e)&&!isFinite(e)}function $D(e,r,t,a){var i=1-e,$=a.dimensions[e];return uk(r[i])&&uk(t[i])&&r[e]===t[e]&&a.getAxis($).containData(r[e])}function Vha(e,r){if("cartesian2d"===e.type){var t=r[0].coord,a=r[1].coord;if(t&&a&&($D(1,t,a,e)||$D(0,t,a,e)))return!0}return Yg(e,r[0])&&Yg(e,r[1])}function $q(e,r,t,a,i){var $,n=a.coordinateSystem,o=e.getItemModel(r),l=D(o.get("x"),i.getWidth()),d=D(o.get("y"),i.getHeight());if(isNaN(l)||isNaN(d)){if(a.getMarkerPosition)$=a.getMarkerPosition(e.getValues(e.dimensions,r));else{var s=n.dimensions,m=e.get(s[0],r),u=e.get(s[1],r);$=n.dataToPoint([m,u])}if("cartesian2d"===n.type){var v=n.getAxis("x"),H=n.getAxis("y");s=n.dimensions;uk(e.get(s[0],r))?$[0]=v.toGlobalCoord(v.getExtent()[t?0:1]):uk(e.get(s[1],r))&&($[1]=H.toGlobalCoord(H.getExtent()[t?0:1]))}isNaN(l)||($[0]=l),isNaN(d)||($[1]=d)}else $=[l,d];e.setItemLayout(r,$)}var $ka=Zq.extend({type:"markLine",updateTransform:function(e,r,t){r.eachSeries(function(e){var r=e.markLineModel;if(r){var a=r.getData(),i=r.__from,$=r.__to;i.each(function(r){$q(i,r,!0,e,t),$q($,r,!1,e,t)}),a.each(function(e){a.setItemLayout(e,[i.getItemLayout(e),$.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(e,r,t,a){var i=e.coordinateSystem,$=e.id,n=e.getData(),o=this.markerGroupMap,l=o.get($)||o.set($,new pp);this.group.add(l.group);var d=Wha(i,e,r),s=d.from,m=d.to,u=d.line;r.__from=s,r.__to=m,r.setData(u);var v=r.get("symbol"),H=r.get("symbolSize");function c(r,t,i){var $=r.getItemModel(t);$q(r,t,i,e,a),r.setItemVisual(t,{symbolRotate:$.get("symbolRotate"),symbolSize:$.get("symbolSize")||H[i?0:1],symbol:$.get("symbol",!0)||v[i?0:1],color:$.get("itemStyle.color")||n.getVisual("color")})}J(v)||(v=[v,v]),"number"==typeof H&&(H=[H,H]),d.from.each(function(e){c(s,e,!0),c(m,e,!1)}),u.each(function(e){var r=u.getItemModel(e).get("lineStyle.color");u.setItemVisual(e,{color:r||s.getItemVisual(e,"color")}),u.setItemLayout(e,[s.getItemLayout(e),m.getItemLayout(e)]),u.setItemVisual(e,{fromSymbolRotate:s.getItemVisual(e,"symbolRotate"),fromSymbolSize:s.getItemVisual(e,"symbolSize"),fromSymbol:s.getItemVisual(e,"symbol"),toSymbolRotate:m.getItemVisual(e,"symbolRotate"),toSymbolSize:m.getItemVisual(e,"symbolSize"),toSymbol:m.getItemVisual(e,"symbol")})}),l.updateData(u),d.line.eachItemGraphicEl(function(e,t){e.traverse(function(e){e.dataModel=r})}),l.__keep=!0,l.group.silent=r.get("silent")||e.get("silent")}});function Wha(e,r,t){var a;a=e?j(e&&e.dimensions,function(e){var t=r.getData().getDimensionInfo(r.getData().mapDimension(e))||{};return E({name:e},t)}):[{name:"value",type:"float"}];var i=new ka(a,t),$=new ka(a,t),n=new ka([],t),o=j(t.get("data"),w(Uha,r,e,t));e&&(o=Ea(o,w(Vha,e)));var l=e?YD:function(e){return e.value};return i.initData(j(o,function(e){return e[0]}),null,l),$.initData(j(o,function(e){return e[1]}),null,l),n.initData(j(o,function(e){return e[2]})),n.hasItemOption=!0,{from:i,to:$,line:n}}la(function(r){r.markLine=r.markLine||{}});var _ka=Tq.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var Xha=function(r,e,a,t){var i=Xg(r,t[0]),$=Xg(r,t[1]),n=ua,o=i.coord,m=$.coord;o[0]=n(o[0],-1/0),o[1]=n(o[1],-1/0),m[0]=n(m[0],1/0),m[1]=n(m[1],1/0);var l=uf([{},i,$]);return l.coord=[i.coord,$.coord],l.x0=i.x,l.y0=i.y,l.x1=$.x,l.y1=$.y,l};function kf(r){return!isNaN(r)&&!isFinite(r)}function _D(r,e,a,t){var i=1-r;return kf(e[i])&&kf(a[i])}function Yha(r,e){var a=e.coord[0],t=e.coord[1];return!("cartesian2d"!==r.type||!a||!t||!_D(1,a,t,r)&&!_D(0,a,t,r))||Yg(r,{coord:a,x:e.x0,y:e.y0})||Yg(r,{coord:t,x:e.x1,y:e.y1})}function aE(r,e,a,t,i){var $,n=t.coordinateSystem,o=r.getItemModel(e),m=D(o.get(a[0]),i.getWidth()),l=D(o.get(a[1]),i.getHeight());if(isNaN(m)||isNaN(l)){if(t.getMarkerPosition)$=t.getMarkerPosition(r.getValues(a,e));else{var s=[c=r.get(a[0],e),p=r.get(a[1],e)];n.clampData&&n.clampData(s,s),$=n.dataToPoint(s,!0)}if("cartesian2d"===n.type){var v=n.getAxis("x"),u=n.getAxis("y"),c=r.get(a[0],e),p=r.get(a[1],e);kf(c)?$[0]=v.toGlobalCoord(v.getExtent()["x0"===a[0]?0:1]):kf(p)&&($[1]=u.toGlobalCoord(u.getExtent()["y0"===a[1]?0:1]))}isNaN(m)||($[0]=m),isNaN(l)||($[1]=l)}else $=[m,l];return $}var _q=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];function Zha(r,e,a){var t,i;r?(t=j(r&&r.dimensions,function(r){var a=e.getData(),t=a.getDimensionInfo(a.mapDimension(r))||{};return E({name:r},t)}),i=new ka(j(["x0","y0","x1","y1"],function(r,e){return{name:r,type:t[e%2].type}}),a)):i=new ka(t=[{name:"value",type:"float"}],a);var $=j(a.get("data"),w(Xha,e,r,a));r&&($=Ea($,w(Yha,r)));var n=r?function(r,e,a,t){return r.coord[Math.floor(t/2)][t%2]}:function(r){return r.value};return i.initData($,null,n),i.hasItemOption=!0,i}Zq.extend({type:"markArea",updateTransform:function(r,e,a){e.eachSeries(function(r){var e=r.markAreaModel;if(e){var t=e.getData();t.each(function(e){var i=j(_q,function(i){return aE(t,e,i,r,a)});t.setItemLayout(e,i),t.getItemGraphicEl(e).setShape("points",i)})}},this)},renderSeries:function(r,e,a,t){var i=r.coordinateSystem,$=r.id,n=r.getData(),o=this.markerGroupMap,m=o.get($)||o.set($,{group:new q});this.group.add(m.group),m.__keep=!0;var l=Zha(i,r,e);e.setData(l),l.each(function(e){var a=j(_q,function(a){return aE(l,e,a,r,t)}),$=!0;k(_q,function(r){if($){var a=l.get(r[0],e),t=l.get(r[1],e);(kf(a)||i.getAxis("x").containData(a))&&(kf(t)||i.getAxis("y").containData(t))&&($=!1)}}),l.setItemLayout(e,{points:a,allClipped:$}),l.setItemVisual(e,{color:n.getVisual("color")})}),l.diff(m.__data).add(function(r){var e=l.getItemLayout(r);if(!e.allClipped){var a=new ya({shape:{points:e.points}});l.setItemGraphicEl(r,a),m.group.add(a)}}).update(function(r,a){var t=m.__data.getItemGraphicEl(a),i=l.getItemLayout(r);i.allClipped?t&&m.group.remove(t):(t?A(t,{shape:{points:i.points}},e,r):t=new ya({shape:{points:i.points}}),l.setItemGraphicEl(r,t),m.group.add(t))}).remove(function(r){var e=m.__data.getItemGraphicEl(r);m.group.remove(e)}).execute(),l.eachItemGraphicEl(function(r,a){var t=l.getItemModel(a),i=t.getModel("label"),$=t.getModel("emphasis.label"),n=l.getItemVisual(a,"color");r.useStyle(E(t.getModel("itemStyle").getItemStyle(),{fill:th(n,.4),stroke:n})),r.hoverStyle=t.getModel("emphasis.itemStyle").getItemStyle(),Ia(r.style,r.hoverStyle,i,$,{labelFetcher:e,labelDataIndex:a,defaultText:l.getName(a)||"",isRectText:!0,autoColor:n}),V(r,{}),r.dataModel=e}),m.__data=l,m.group.silent=e.get("silent")||r.get("silent")}});la(function(r){r.markArea=r.markArea||{}});var $ha={};var _ha={},aia=lm,bE=Zb.legend.selector,bia={all:{type:"all",title:B(bE.all)},inverse:{type:"inverse",title:B(bE.inverse)}},cE=Ma({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){cE.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),J(t)&&k(t,function(e,r){M(e)&&(e={type:e}),t[r]=f(e,bia[e.type])})},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,r=0;r<e.length;r++){var a=e[r].get("name");if(this.isSelected(a)){this.select(a),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],r=[];e.eachRawSeries(function(a){var i,l=a.name;if(r.push(l),a.legendVisualProvider){var o=a.legendVisualProvider.getAllNames();e.isSeriesFiltered(a)||(r=r.concat(o)),o.length?t=t.concat(o):i=!0}else i=!0;i&&aia(a)&&t.push(a.name)}),this._availableNames=r;var a=this.get("data")||t,i=j(a,function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new L(e,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var r=this._data;k(r,function(e){t[e.get("name")]=!1})}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this._data,t=this.option.selected;k(e,function(e){t[e.get("name",!0)]=!0})},inverseSelect:function(){var e=this._data,t=this.option.selected;k(e,function(e){var r=e.get("name",!0);t.hasOwnProperty(r)||(t[r]=!0),t[r]=!t[r]})},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&C(this._availableNames,e)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),cia=cE;_ha=cia;function Zg(e,r,l){var t,c={},n="toggleSelected"===e;return l.eachComponent("legend",function(l){n&&null!=t?l[t?"select":"unSelect"](r.name):"allSelect"===e||"inverseSelect"===e?l[e]():(l[e](r.name),t=l.isSelected(r.name));var $=l.getData();k($,function(e){var r=e.get("name");if("\n"!==r&&""!==r){var t=l.isSelected(r);c.hasOwnProperty(r)?c[r]=c[r]&&t:c[r]=t}})}),"allSelect"===e||"inverseSelect"===e?{selected:c}:{name:r.name,selected:c}}d("legendToggleSelect","legendselectchanged",w(Zg,"toggleSelected")),d("legendAllSelect","legendselectall",w(Zg,"allSelect")),d("legendInverseSelect","legendinverseselect",w(Zg,"inverseSelect")),d("legendSelect","legendselected",w(Zg,"select")),d("legendUnSelect","legendunselected",w(Zg,"unSelect"));var dia={},dE=_a,eia=cD,lf=w,eE=k,fia=Z({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new q),this._backgroundEl,this.group.add(this._selectorGroup=new q),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,i){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),o=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===o?"right":"left");var n=e.get("selector",!0),l=e.get("selectorPosition",!0);!n||l&&"auto"!==l||(l="horizontal"===o?"end":"start"),this.renderInner(a,e,t,i,n,o,l);var u=e.getBoxLayoutParams(),$={width:i.getWidth(),height:i.getHeight()},c=e.get("padding"),s=T(u,$,c),g=this.layoutInner(e,a,s,r,n,l),d=T(E({width:g.width,height:g.height},u),$,c);this.group.attr("position",[d.x-g.x,d.y-g.y]),this.group.add(this._backgroundEl=eia(g,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,i,r,a,o,n){var l=this.getContentGroup(),u=G(),$=t.get("selectedMode"),c=[];i.eachRawSeries(function(e){!e.get("legendHoverLink")&&c.push(e.id)}),eE(t.getData(),function(a,o){var n=a.get("name");if(this.newlineDisabled||""!==n&&"\n"!==n){var s=i.getSeriesByName(n)[0];if(!u.get(n))if(s){var g=s.getData(),d=g.getVisual("color"),h=g.getVisual("borderColor");"function"==typeof d&&(d=d(s.getDataParams(0))),"function"==typeof h&&(h=h(s.getDataParams(0)));var v=g.getVisual("legendSymbol")||"roundRect",p=g.getVisual("symbol");this._createItem(n,o,a,t,v,p,e,d,h,$).on("click",lf(gE,n,null,r,c)).on("mouseover",lf(ar,s.name,null,r,c)).on("mouseout",lf(br,s.name,null,r,c)),u.set(n,!0)}else i.eachRawSeries(function(i){if(!u.get(n)&&i.legendVisualProvider){var l=i.legendVisualProvider;if(!l.containName(n))return;var s=l.indexOfName(n),g=l.getItemVisual(s,"color"),d=l.getItemVisual(s,"borderColor");this._createItem(n,o,a,t,"roundRect",null,e,g,d,$).on("click",lf(gE,null,n,r,c)).on("mouseover",lf(ar,null,n,r,c)).on("mouseout",lf(br,null,n,r,c)),u.set(n,!0)}},this)}else l.add(new q({newline:!0}))},this),a&&this._createSelector(a,t,r,o,n)},_createSelector:function(e,t,i,r,a){var o=this.getSelectorGroup();eE(e,function(e){!function(e){var r=e.type,a=new K({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});o.add(a);var n=t.getModel("selectorLabel"),l=t.getModel("emphasis.selectorLabel");Ia(a.style,a.hoverStyle={},n,l,{defaultText:e.title,isRectText:!1}),V(a)}(e)})},_createItem:function(e,t,i,r,a,o,n,l,u,$){var c=r.get("itemWidth"),s=r.get("itemHeight"),g=r.get("inactiveColor"),d=r.get("inactiveBorderColor"),h=r.get("symbolKeepAspect"),v=r.getModel("itemStyle"),p=r.isSelected(e),M=new q,y=i.getModel("textStyle"),m=i.get("icon"),f=i.getModel("tooltip"),S=f.parentModel,x=dE(a=m||a,0,0,c,s,p?l:g,null==h||h);if(M.add(fE(x,a,v,u,d,p)),!m&&o&&(o!==a||"none"===o)){var _=.8*s;"none"===o&&(o="circle");var b=dE(o,(c-_)/2,(s-_)/2,_,_,p?l:g,null==h||h);M.add(fE(b,o,v,u,d,p))}var w="left"===n?c+5:-5,A=n,G=r.get("formatter"),I=e;"string"==typeof G&&G?I=G.replace("{name}",null!=e?e:""):"function"==typeof G&&(I=G(e)),M.add(new K({style:R({},y,{text:I,x:w,y:s/2,textFill:p?y.getTextColor():g,textAlign:A,textVerticalAlign:"middle"})}));var C=new F({shape:M.getBoundingRect(),invisible:!0,tooltip:f.get("show")?z({content:e,formatter:S.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:e,$vars:["name"]}},f.option):null});return M.add(C),M.eachChild(function(e){e.silent=!0}),C.silent=!$,this.getContentGroup().add(M),V(M),M.__legendDataIndex=t,M},layoutInner:function(e,t,i,r,a,o){var n=this.getContentGroup(),l=this.getSelectorGroup();hd(e.get("orient"),n,e.get("itemGap"),i.width,i.height);var u=n.getBoundingRect(),$=[-u.x,-u.y];if(a){hd("horizontal",l,e.get("selectorItemGap",!0));var c=l.getBoundingRect(),s=[-c.x,-c.y],g=e.get("selectorButtonGap",!0),d=e.getOrient().index,h=0===d?"width":"height",v=0===d?"height":"width",p=0===d?"y":"x";"end"===o?s[d]+=u[h]+g:$[d]+=c[h]+g,s[1-d]+=u[v]/2-c[v]/2,l.attr("position",s),n.attr("position",$);var M={x:0,y:0};return M[h]=u[h]+g+c[h],M[v]=Math.max(u[v],c[v]),M[p]=Math.min(0,c[p]+s[1-d]),M}return n.attr("position",$),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function fE(e,t,i,r,a,o){var n;return"line"!==t&&t.indexOf("empty")<0?(n=i.getItemStyle(),e.style.stroke=r,o||(n.stroke=a)):n=i.getItemStyle(["borderWidth","borderColor"]),e.setStyle(n)}function gE(e,t,i,r){br(e,t,i,r),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),ar(e,t,i,r)}function ar(e,t,i,r){var a=i.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function br(e,t,i,r){var a=i.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}dia=fia;function gia(e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.filterSeries(function(e){for(var r=0;r<n.length;r++)if(!n[r].isSelected(e.name))return!1;return!0})}$ha=gia;ab(Jb.PROCESSOR.SERIES_FILTER,$ha),p.registerSubTypeDefaulter("legend",function(){return"plain"});var hia=id,iia=te,hE=_ha.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,e,r,t){var o=iia(a);hE.superCall(this,"init",a,e,r,t),iE(this,a,o)},mergeOption:function(a,e){hE.superCall(this,"mergeOption",a,e),iE(this,this.option,a)}});function iE(a,e,r){var t=[1,1];t[a.getOrient().index]=0,hia(e,r,{type:"box",ignoreSize:t})}var cr=["width","height"],dr=["x","y"],er=dia.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){er.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new q),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new q),this._showController},resetInner:function(){er.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,r,n,a,i,o){var l=this;er.superCall(this,"renderInner",t,e,r,n,a,i,o);var s=this._controllerGroup,d=e.get("pageIconSize",!0);J(d)||(d=[d,d]),g("pagePrev",0);var $=e.getModel("pageTextStyle");function g(t,r){var a=t+"DataIndex",i=qe(e.get("pageIcons",!0)[e.getOrient().name][r],{onclick:m(l._pageGo,l,a,e,n)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});i.name=t,s.add(i)}s.add(new K({name:"pageText",style:{textFill:$.getTextColor(),font:$.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),g("pageNext",1)},layoutInner:function(t,e,r,n,a,i){var o=this.getSelectorGroup(),l=t.getOrient().index,s=cr[l],d=dr[l],$=cr[1-l],g=dr[1-l];a&&hd("horizontal",o,t.get("selectorItemGap",!0));var u=t.get("selectorButtonGap",!0),p=o.getBoundingRect(),c=[-p.x,-p.y],v=B(r);a&&(v[s]=r[s]-p[s]-u);var h=this._layoutContentAndController(t,n,v,l,s,$,g);if(a){if("end"===i)c[l]+=h[s]+u;else{var x=p[s]+u;c[l]-=x,h[d]-=x}h[s]+=p[s]+u,c[1-l]+=h[g]+h[$]/2-p[$]/2,h[$]=Math.max(h[$],p[$]),h[g]=Math.min(h[g],p[g]+c[1-l]),o.attr("position",c)}return h},_layoutContentAndController:function(t,e,r,n,a,i,o){var l=this.getContentGroup(),s=this._containerGroup,d=this._controllerGroup;hd(t.get("orient"),l,t.get("itemGap"),n?r.width:null,n?null:r.height),hd("horizontal",d,t.get("pageButtonItemGap",!0));var $=l.getBoundingRect(),g=d.getBoundingRect(),u=this._showController=$[a]>r[a],p=[-$.x,-$.y];e||(p[n]=l.position[n]);var c=[0,0],v=[-g.x,-g.y],h=Fa(t.get("pageButtonGap",!0),t.get("itemGap",!0));u&&("end"===t.get("pageButtonPosition",!0)?v[n]+=r[a]-g[a]:c[n]+=g[a]+h);v[1-n]+=$[i]/2-g[i]/2,l.attr("position",p),s.attr("position",c),d.attr("position",v);var x={x:0,y:0};if(x[a]=u?r[a]:$[a],x[i]=Math.max($[i],g[i]),x[o]=Math.min(0,g[o]+v[1-n]),s.__rectSize=r[a],u){var R={x:0,y:0};R[a]=Math.max(r[a]-g[a]-h,0),R[i]=x[i],s.setClipPath(new F({shape:R})),s.__rectSize=R[a]}else d.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var I=this._getPageInfo(t);return null!=I.pageIndex&&A(l,{position:I.contentPosition},!!u&&t),this._updatePageInfoView(t,I),x},_pageGo:function(t,e,r){var n=this._getPageInfo(e)[t];null!=n&&r.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var r=this._controllerGroup;k(["pagePrev","pageNext"],function(n){var a=null!=e[n+"DataIndex"],i=r.childOfName(n);i&&(i.setStyle("fill",a?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),i.cursor=a?"pointer":"default")});var n=r.childOfName("pageText"),a=t.get("pageFormatter"),i=e.pageIndex,o=null!=i?i+1:0,l=e.pageCount;n&&a&&n.setStyle("text",M(a)?a.replace("{current}",o).replace("{total}",l):a({current:o,total:l}))},_getPageInfo:function(t){var e=t.get("scrollDataIndex",!0),r=this.getContentGroup(),n=this._containerGroup.__rectSize,a=t.getOrient().index,i=cr[a],o=dr[a],l=this._findTargetItemIndex(e),s=r.children(),d=s[l],$=s.length,g=$?1:0,u={contentPosition:r.position.slice(),pageCount:g,pageIndex:g-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return u;var p=R(d);u.contentPosition[a]=-p.s;for(var c=l+1,v=p,h=p,x=null;c<=$;++c)(!(x=R(s[c]))&&h.e>v.s+n||x&&!I(x,v.s))&&(v=h.i>v.i?h:x)&&(null==u.pageNextDataIndex&&(u.pageNextDataIndex=v.i),++u.pageCount),h=x;for(c=l-1,v=p,h=p,x=null;c>=-1;--c)(x=R(s[c]))&&I(h,x.s)||!(v.i<h.i)||(h=v,null==u.pagePrevDataIndex&&(u.pagePrevDataIndex=v.i),++u.pageCount,++u.pageIndex),v=x;return u;function R(t){if(t){var e=t.getBoundingRect(),r=e[o]+t.position[a];return{s:r,e:r+e[i],i:t.__legendDataIndex}}}function I(t,e){return t.e>=e&&t.s<=e+n}},_findTargetItemIndex:function(t){return this._showController?(this.getContentGroup().eachChild(function(n,a){var i=n.__legendDataIndex;null==r&&null!=i&&(r=a),i===t&&(e=a)}),null!=e?e:r):0;var e,r}});d("legendScroll","legendscroll",function(e,r){var l=e.scrollDataIndex;null!=l&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(l)})});var ala=Eq.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var Ld=ra,fr=ed,gc=m,gr=k,jE=7,jia=1,hr=30,$g="horizontal",kE="vertical",kia=5,lia=["line","bar","candlestick","scatter"],ir=Fq.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,a,i){ir.superApply(this,"render",arguments),ag(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){ir.superApply(this,"remove",arguments),aw(this,"_dispatchZoomAction")},dispose:function(){ir.superApply(this,"dispose",arguments),aw(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new q;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,a=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},r=this._orient===$g?{right:i.width-a.x-a.width,top:i.height-hr-jE,width:a.width,height:hr}:{right:jE,top:a.y,width:hr,height:a.height},s=te(t.option);k(["right","top","width","height"],function(t){"ph"===s[t]&&(s[t]=r[t])});var h=T(s,i,t.padding);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===kE&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),s=this._displayables.barGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a!==$g||r?a===$g&&r?{scale:h?[-1,1]:[-1,-1]}:a!==kE||r?{scale:h?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:h?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:h?[1,1]:[1,-1]});var o=t.getBoundingRect([s]);t.attr("position",[e.x-o.x,e.y-o.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,a=this._displayables.barGroup;a.add(new F({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),a.add(new F({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:m(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,a=t.series,i=a.getRawData(),r=a.getShadowDim?a.getShadowDim():t.otherDim;if(null!=r){var s=i.getDataExtent(r),h=.3*(s[1]-s[0]);s=[s[0]-h,s[1]+h];var o,n=[0,e[1]],$=[0,e[0]],l=[[e[0],0],[0,0]],d=[],v=$[1]/(i.count()-1),g=0,c=Math.round(i.count()/e[0]);i.each([r],function(t,e){if(c>0&&e%c)g+=v;else{var a=null==t||isNaN(t)||""===t,i=a?0:Ld(t,s,n,!0);a&&!o&&e?(l.push([l[l.length-1][0],0]),d.push([d[d.length-1][0],0])):!a&&o&&(l.push([g,0]),d.push([g,0])),l.push([g,i]),d.push([g,i]),g+=v,o=a}});var L=this.dataZoomModel;this._displayables.barGroup.add(new ya({shape:{points:l},style:E({fill:L.get("dataBackgroundColor")},L.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Ua({shape:{points:d},style:L.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var a,i=this.ecModel;return t.eachTargetAxis(function(r,s){var h=t.getAxisProxy(r.name,s).getTargetSeriesModels();k(h,function(t){if(!(a||!0!==e&&C(lia,t.get("type"))<0)){var h,o=i.getComponent(r.axis,s).axis,n=mia(r.name),$=t.coordinateSystem;null!=n&&$.getOtherAxis&&(h=$.getOtherAxis(o).inverse),n=t.getData().mapDimension(n),a={thisAxis:o,series:t,thisDim:r.name,otherDim:n,otherAxisInverse:h}}},this)},this),a}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],a=t.handleLabels=[],i=this._displayables.barGroup,r=this._size,s=this.dataZoomModel;i.add(t.filler=new F({draggable:!0,cursor:lE(this._orient),drift:gc(this._onDragMove,this,"all"),ondragstart:gc(this._showDataInfo,this,!0),ondragend:gc(this._onDragEnd,this),onmouseover:gc(this._showDataInfo,this,!0),onmouseout:gc(this._showDataInfo,this,!1),style:{fill:s.get("fillerColor"),textPosition:"inside"}})),i.add(new F({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:jia,fill:"rgba(0,0,0,0)"}})),gr([0,1],function(t){var r=qe(s.get("handleIcon"),{cursor:lE(this._orient),draggable:!0,drift:gc(this._onDragMove,this,t),ondragend:gc(this._onDragEnd,this),onmouseover:gc(this._showDataInfo,this,!0),onmouseout:gc(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=r.getBoundingRect();this._handleHeight=D(s.get("handleSize"),this._size[1]),this._handleWidth=h.width/h.height*this._handleHeight,r.setStyle(s.getModel("handleStyle").getItemStyle());var o=s.get("handleColor");null!=o&&(r.style.fill=o),i.add(e[t]=r);var n=s.textStyleModel;this.group.add(a[t]=new K({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:n.getTextColor(),textFont:n.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Ld(t[0],[0,100],e,!0),Ld(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var a=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];Ad(e,i,r,a.get("zoomLock")?"all":t,null!=s.minSpan?Ld(s.minSpan,h,r,!0):null,null!=s.maxSpan?Ld(s.maxSpan,h,r,!0):null);var o=this._range,n=this._range=fr([Ld(i[0],r,h,!0),Ld(i[1],r,h,!0)]);return!o||o[0]!==n[0]||o[1]!==n[1]},_updateView:function(t){var e=this._displayables,a=this._handleEnds,i=fr(a.slice()),r=this._size;gr([0,1],function(t){var i=e.handles[t],s=this._handleHeight;i.attr({scale:[s/2,s/2],position:[a[t],r[1]/2-s/2]})},this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e=this.dataZoomModel,a=this._displayables,i=a.handleLabels,r=this._orient,s=["",""];if(e.get("showDetail")){var h=e.findRepresentativeAxisProxy();if(h){var o=h.getAxisModel().axis,n=this._range,$=t?h.calculateDataWindow({start:n[0],end:n[1]}).valueWindow:h.getDataValueWindow();s=[this._formatLabel($[0],o),this._formatLabel($[1],o)]}}var l=fr(this._handleEnds.slice());function d(t){var e=dd(a.handles[t].parent,this.group),h=Lm(0===t?"right":"left",e),o=this._handleWidth/2+kia,n=Xb([l[t]+(0===t?-o:o),this._size[1]/2],e);i[t].setStyle({x:n[0],y:n[1],textVerticalAlign:r===$g?"middle":h,textAlign:r===$g?h:"center",text:s[t]})}d.call(this,0),d.call(this,1)},_formatLabel:function(t,e){var a=this.dataZoomModel,i=a.get("labelFormatter"),r=a.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var s=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20));return fa(i)?i(t,s):M(i)?i.replace("{value}",s):s},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,a,i){this._dragging=!0,Sc(i.event);var r=this._displayables.barGroup.getLocalTransform(),s=Xb([e,a],r,!0),h=this._updateInterval(t,s[0]),o=this.dataZoomModel.get("realtime");this._updateView(!o),h&&o&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,a=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(a[0]<0||a[0]>e[0]||a[1]<0||a[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,s=this._updateInterval("all",a[0]-r);this._updateView(),s&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(gr(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var a=e[0].model.coordinateSystem;t=a.getRect&&a.getRect()}}),!t){var e=this.api.getWidth(),a=this.api.getHeight();t={x:.2*e,y:.2*a,width:.6*e,height:.6*a}}return t}});function mia(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}function lE(t){return"vertical"===t?"ns-resize":"ew-resize"}var bla=Eq.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var mE="\0_ec_dataZoom_roams";function nia(e,r){var o=nE(e),t=r.dataZoomId,d=r.coordId;k(o,function(e,o){var $=e.dataZoomInfos;$[t]&&C(r.allCoordIds,d)<0&&(delete $[t],e.count--)}),oE(o);var $=o[d];$||(($=o[d]={coordId:d,dataZoomInfos:{},count:0}).controller=qia(e,$),$.dispatchAction=w(ria,e)),!$.dataZoomInfos[t]&&$.count++,$.dataZoomInfos[t]=r;var a=sia($.dataZoomInfos);$.controller.enable(a.controlType,a.opt),$.controller.setPointerChecker(r.containsPoint),ag($,"dispatchAction",r.dataZoomModel.get("throttle",!0),"fixRate")}function oia(e,r){var o=nE(e);k(o,function(e){e.controller.dispose();var o=e.dataZoomInfos;o[r]&&(delete o[r],e.count--)}),oE(o)}function pia(e){return e.type+"\0_"+e.id}function nE(e){var r=e.getZr();return r[mE]||(r[mE]={})}function qia(e,r){var o=new wg(e.getZr());return k(["pan","zoom","scrollMove"],function(e){o.on(e,function(o){var t=[];k(r.dataZoomInfos,function(d){if(o.isAvailableBehavior(d.dataZoomModel.option)){var $=(d.getRange||{})[e],a=$&&$(r.controller,o);!d.dataZoomModel.get("disabled",!0)&&a&&t.push({dataZoomId:d.dataZoomId,start:a[0],end:a[1]})}}),t.length&&r.dispatchAction(t)})}),o}function oE(e){k(e,function(r,o){r.count||(r.controller.dispose(),delete e[o])})}function ria(e,r){e.dispatchAction({type:"dataZoom",batch:r})}function sia(e){var r,o={type_true:2,type_move:1,type_false:0,type_undefined:-1},t=!0;return k(e,function(e){var d=e.dataZoomModel,$=!d.get("disabled",!0)&&(!d.get("zoomLock",!0)||"move");o["type_"+$]>o["type_"+r]&&(r=$),t&=d.get("preventDefaultMouseMove",!0)}),{controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!t}}}var tia=nia;var uia=oia;var pE=pia;var via=m,qE=Fq.extend({type:"dataZoom.inside",init:function(e,r){this._range},render:function(e,r,i,a){qE.superApply(this,"render",arguments),this._range=e.getPercentRange(),k(this.getTargetCoordInfo(),function(r,a){var t=j(r,function(e){return pE(e.model)});k(r,function(r){var l=r.model,n={};k(["pan","zoom","scrollMove"],function(e){n[e]=via(wia[e],this,r,a)},this),tia(i,{coordId:pE(l),allCoordIds:t,containsPoint:function(e,r,i){return l.coordinateSystem.containPoint([r,i])},dataZoomId:e.id,dataZoomModel:e,getRange:n})},this)},this)},dispose:function(){uia(this.api,this.dataZoomModel.id),qE.superApply(this,"dispose",arguments),this._range=null}}),wia={zoom:function(e,r,i,a){var t=this._range,l=t.slice(),n=e.axisModels[0];if(n){var o=jr[r](null,[a.originX,a.originY],n,i,e),$=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(l[1]-l[0])+l[0],s=Math.max(1/a.scale,0);l[0]=(l[0]-$)*s+$,l[1]=(l[1]-$)*s+$;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Ad(0,l,[0,100],0,d.minSpan,d.maxSpan),this._range=l,t[0]!==l[0]||t[1]!==l[1]?l:void 0}},pan:rE(function(e,r,i,a,t,l){var n=jr[a]([l.oldX,l.oldY],[l.newX,l.newY],r,t,i);return n.signal*(e[1]-e[0])*n.pixel/n.pixelLength}),scrollMove:rE(function(e,r,i,a,t,l){return jr[a]([0,0],[l.scrollDelta,l.scrollDelta],r,t,i).signal*(e[1]-e[0])*l.scrollDelta})};function rE(e){return function(r,i,a,t){var l=this._range,n=l.slice(),o=r.axisModels[0];if(o){var $=e(n,o,r,i,a,t);return Ad($,n,[0,100],"all"),this._range=n,l[0]!==n[0]||l[1]!==n[1]?n:void 0}}}var jr={grid:function(e,r,i,a,t){var l=i.axis,n={},o=t.model.coordinateSystem.getRect();return e=e||[0,0],"x"===l.dim?(n.pixel=r[0]-e[0],n.pixelLength=o.width,n.pixelStart=o.x,n.signal=l.inverse?1:-1):(n.pixel=r[1]-e[1],n.pixelLength=o.height,n.pixelStart=o.y,n.signal=l.inverse?-1:1),n},polar:function(e,r,i,a,t){var l=i.axis,n={},o=t.model.coordinateSystem,$=o.getRadiusAxis().getExtent(),s=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],r=o.pointToCoord(r),"radiusAxis"===i.mainType?(n.pixel=r[0]-e[0],n.pixelLength=$[1]-$[0],n.pixelStart=$[0],n.signal=l.inverse?1:-1):(n.pixel=r[1]-e[1],n.pixelLength=s[1]-s[0],n.pixelStart=s[0],n.signal=l.inverse?-1:1),n},singleAxis:function(e,r,i,a,t){var l=i.axis,n=t.model.coordinateSystem.getRect(),o={};return e=e||[0,0],"horizontal"===l.orient?(o.pixel=r[0]-e[0],o.pixelLength=n.width,o.pixelStart=n.x,o.signal=l.inverse?1:-1):(o.pixel=r[1]-e[1],o.pixelLength=n.height,o.pixelStart=n.y,o.signal=l.inverse?-1:1),o}};var sE={},tE=k;function xia(a){var $=a&&a.visualMap;J($)||($=$?[$]:[]),tE($,function(a){if(a){mf(a,"splitList")&&!mf(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var $=a.pieces;$&&J($)&&tE($,function(a){y(a)&&(mf(a,"start")&&!mf(a,"min")&&(a.min=a.start),mf(a,"end")&&!mf(a,"max")&&(a.max=a.end))})}})}function mf(a,$){return a&&a.hasOwnProperty&&a.hasOwnProperty($)}sE=xia;p.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"});var uE=Jb.VISUAL.COMPONENT;function yia(a,e,r,i){for(var t=e.targetVisuals[i],l=ea.prepareVisualTypes(t),$={color:a.getData().getVisual("color")},s=0,n=l.length;s<n;s++){var u=l[s],N=t["opacity"===u?"__alphaForOpacity":u];N&&N.applyVisual(r,o,v)}return $.color;function o(a){return $[a]}function v(a,e){$[a]=e}}s(uE,{createOnAllSeries:!0,reset:function(a,e){var r=[];return e.eachComponent("visualMap",function(e){var i=a.pipelineContext;!e.isTargetSeries(a)||i&&i.large||r.push(gha(e.stateList,e.targetVisuals,m(e.getValueState,e),e.getDataDimension(a.getData())))}),r}}),s(uE,{createOnAllSeries:!0,reset:function(a,e){var r=a.getData(),i=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(a)){var t=e.getVisualMeta(m(yia,null,a,e))||{stops:[],outerColors:[]},l=e.getDataDimension(r),$=r.getDimensionInfo(l);null!=$&&(t.dimension=$.index,i.push(t))}}),a.getData().setVisual("visualMeta",i)}});var kr={},zia={get:function(a,e,i){var t=B((Aia[a]||{})[e]);return i&&J(t)?t[t.length-1]:t}},Aia={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Bia=zia;kr=Bia;var vk={},vE=ea.mapVisual,Cia=ea.eachVisual,Dia=J,lr=k,Eia=ed,Fia=ra,mr=$,Gia=Ma({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var i=this.option;x.canvasSupported||(i.realtime=!1),!t&&GD(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=m(e,this),this.controllerVisuals=Lq(this.option.controller,t,e),this.targetVisuals=Lq(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,i){t.push(i)}):t=pa(e),t},eachTargetSeries:function(e,t){k(this.getTargetSeriesIndices(),function(i){e.call(t,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(i){i===e&&(t=!0)}),t},formatValueText:function(e,t,i){var a,r,n=this.option,l=n.precision,o=this.dataBound,$=n.formatter;return i=i||["<",">"],J(e)&&(e=e.slice(),a=!0),r=t?e:a?[s(e[0]),s(e[1])]:s(e),M($)?$.replace("{value}",a?r[0]:r).replace("{value2}",a?r[1]:r):fa($)?a?$(e[0],e[1]):$(e):a?e[0]===o[0]?i[0]+" "+r[1]:e[1]===o[1]?i[1]+" "+r[0]:r[0]+" - "+r[1]:r;function s(e){return e===o[0]?"min":e===o[1]?"max":(+e).toFixed(Math.min(l,20))}},resetExtent:function(){var e=this.option,t=Eia([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,i=e.dimensions;if(null!=t||i.length){if(null!=t)return e.getDimension(t);for(var a=e.dimensions,r=a.length-1;r>=0;r--){var n=a[r];if(!e.getDimensionInfo(n).isCalculationCoord)return n}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},a=t.target||(t.target={}),r=t.controller||(t.controller={});f(a,i),f(r,i);var n=this.isCategory();function l(i){Dia(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")},lr(this.stateList,function(e){var t=i[e];if(M(t)){var a=kr.get(t,"active",n);a?(i[e]={},i[e][t]=a):delete i[e]}},this)}l.call(this,a),l.call(this,r),function(e,t,i){var a=e[t],r=e[i];a&&!r&&(r=e[i]={},lr(a,function(e,t){if(ea.isValidType(t)){var i=kr.get(t,"inactive",n);null!=i&&(r[t]=i,"color"!==t||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,a=this.get("inactiveColor");lr(this.stateList,function(r){var l=this.itemSize,o=e[r];o||(o=e[r]={color:n?a:[a]}),null==o.symbol&&(o.symbol=t&&B(t)||(n?"roundRect":["roundRect"])),null==o.symbolSize&&(o.symbolSize=i&&B(i)||(n?l[0]:[l[0],l[0]])),o.symbol=vE(o.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var $=o.symbolSize;if(null!=$){var s=-1/0;Cia($,function(e){e>s&&(s=e)}),o.symbolSize=vE($,function(e){return Fia(e,[0,s],[0,l[0]],!0)})}},this)}.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:mr,getValueState:mr,getVisualMeta:mr}),Hia=Gia;vk=Hia;var wE=[20,140],xE=vk.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){xE.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){xE.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=wE[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=wE[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):J(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){vk.prototype.completeVisualOption.apply(this,arguments),k(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=ed((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var a=[],i=n.getData();i.each(this.getDataDimension(i),function(e,n){t[0]<=e&&e<=t[1]&&a.push(n)},this),e.push({seriesId:n.id,dataIndex:a})},this),e},getVisualMeta:function(t){var e=yE(this,"outOfRange",this.getExtent()),n=yE(this,"inRange",this.option.range.slice()),a=[];function i(e,n){a.push({value:e,color:t(e,n)})}for(var r=0,o=0,l=n.length,s=e.length;o<s&&(!n.length||e[o]<=n[0]);o++)e[o]<n[r]&&i(e[o],"outOfRange");for(var u=1;r<l;r++,u=0)u&&a.length&&i(n[r],"outOfRange"),i(n[r],"inRange");for(u=1;o<s;o++)(!n.length||n[n.length-1]<e[o])&&(u&&(a.length&&i(a[a.length-1].value,"outOfRange"),u=0),i(e[o],"outOfRange"));var $=a.length;return{stops:a,outerColors:[$?a[0].color:"transparent",$?a[$-1].color:"transparent"]}}});function yE(t,e,n){if(n[0]===n[1])return n.slice();for(var a=(n[1]-n[0])/200,i=n[0],r=[],o=0;o<=200&&i<n[1];o++)r.push(i),i+=a;return r.push(n[1]),r}var zE={},Iia=Z({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,r,a){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,r=fd(e.get("padding")||0),a=t.getBoundingRect();t.add(new F({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,r){var a=(r=r||{}).forceState,i=this.visualMapModel,o={};if("symbol"===e&&(o.symbol=i.get("itemSymbol")),"color"===e){var l=i.get("contentColor");o.color=l}function $(t){return o[t]}function n(t,e){o[t]=e}var p=i.controllerVisuals[a||i.getValueState(t)],u=ea.prepareVisualTypes(p);return k(u,function(a){var i=p[a];r.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",i=p.__alphaForOpacity),ea.dependsOn(a,e)&&i&&i.applyVisual(t,$,n)}),o[e]},positionGroup:function(t){var e=this.visualMapModel,r=this.api;ui(t,e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},doRender:$});zE=Iia;var Jia=T;function Kia(t,e,$){var a=t.option,r=a.align;if(null!=r&&"auto"!==r)return r;for(var i={width:e.getWidth(),height:e.getHeight()},n="horizontal"===a.orient?1:0,X=[["left","right","width"],["top","bottom","height"]],o=X[n],g=[0,null,10],l={},h=0;h<3;h++)l[X[1-n][h]]=g[h],l[o[h]]=2===h?$[0]:a[o[h]];var u=[["x","width",3],["y","height",0]][n],G=Jia(l,i,a.padding);return o[(G.margin[u[2]]||0)+G[u[0]]+.5*G[u[1]]<.5*i[u[1]]?0:1]}function Lia(t,e){return k(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var AE=Kia;var wk=Lia;var cla=arguments[0],hc=ra,Mia=k,xk=Math.min,_g=Math.max,Nia=12,BE=6,Oia=zE.extend({type:"visualMap.continuous",init:function(){Oia.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,a,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var a=e.get("text");this._renderEndsText(t,a,0),this._renderEndsText(t,a,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,a){if(t){var i=t[1-a];i=null!=i?i+"":"";var r=this.visualMapModel,l=r.get("textGap"),n=r.itemSize,o=this._shapes.barGroup,s=this._applyTransform([n[0]/2,0===a?-l:n[1]+l],o),h=this._applyTransform(0===a?"bottom":"top",o),$=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new K({style:{x:s[0],y:s[1],textVerticalAlign:"horizontal"===$?"middle":h,textAlign:"horizontal"===$?h:"center",text:i,textFont:v.getFont(),textFill:v.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,a=this._shapes,i=t.itemSize,r=this._orient,l=this._useHandle,n=AE(t,this.api,i),o=a.barGroup=this._createBarGroup(n);o.add(a.outOfRange=yk()),o.add(a.inRange=yk(null,l?DE(this._orient):null,m(this._dragHandle,this,"all",!1),m(this._dragHandle,this,"all",!0)));var s=t.textStyleModel.getTextRect("\u56FD"),h=_g(s.width,s.height);l&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(o,0,i,h,r,n),this._createHandle(o,1,i,h,r,n)),this._createIndicator(o,i,h,r),e.add(o)},_createHandle:function(e,t,a,i,r){var l=m(this._dragHandle,this,t,!1),n=m(this._dragHandle,this,t,!0),o=yk(Pia(t,i),DE(this._orient),l,n);o.position[0]=a[0],e.add(o);var s=this.visualMapModel.textStyleModel,h=new K({draggable:!0,drift:l,onmousemove:function(e){Sc(e.event)},ondragend:n,style:{x:0,y:0,text:"",textFont:s.getFont(),textFill:s.getTextColor()}});this.group.add(h);var $=["horizontal"===r?i/2:1.5*i,"horizontal"===r?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],v=this._shapes;v.handleThumbs[t]=o,v.handleLabelPoints[t]=$,v.handleLabels[t]=h},_createIndicator:function(e,t,a,i){var r=yk([[0,0]],"move");r.position[0]=t[0],r.attr({invisible:!0,silent:!0}),e.add(r);var l=this.visualMapModel.textStyleModel,n=new K({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(n);var o=["horizontal"===i?a/2:BE+3,0],s=this._shapes;s.indicator=r,s.indicatorLabel=n,s.indicatorLabelPoint=o},_dragHandle:function(e,t,a,i){if(this._useHandle){if(this._dragging=!t,!t){var r=this._applyTransform([a,i],this._shapes.barGroup,!0);this._updateInterval(e,r[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():CE(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),a=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[hc(t[0],a,i,!0),hc(t[1],a,i,!0)]},_updateInterval:function(e,t){t=t||0;var a=this.visualMapModel,i=this._handleEnds,r=[0,a.itemSize[1]];Ad(t,i,r,e,0);var l=a.getExtent();this._dataInterval=[hc(i[0],r,l,!0),hc(i[1],r,l,!0)]},_updateView:function(e){var t=this.visualMapModel,a=t.getExtent(),i=this._shapes,r=[0,t.itemSize[1]],l=e?r:this._handleEnds,n=this._createBarVisual(this._dataInterval,a,l,"inRange"),o=this._createBarVisual(a,a,r,"outOfRange");i.inRange.setStyle({fill:n.barColor,opacity:n.opacity}).setShape("points",n.barPoints),i.outOfRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),this._updateHandle(l,n)},_createBarVisual:function(e,t,a,i){var r={forceState:i,convertOpacityToAlpha:!0},l=this._makeColorGradient(e,r),n=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],o=this._createBarPoints(a,n);return{barColor:new ei(0,0,0,1,l),barPoints:o,handlesColor:[l[0].color,l[l.length-1].color]}},_makeColorGradient:function(e,t){var a=[],i=(e[1]-e[0])/100;a.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<100;r++){var l=e[0]+i*r;if(l>e[1])break;a.push({color:this.getControllerVisual(l,"color",t),offset:r/100})}return a.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),a},_createBarPoints:function(e,t){var a=this.visualMapModel.itemSize;return[[a[0]-t[0],e[0]],[a[0],e[0]],[a[0],e[1]],[a[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,a=this.visualMapModel.get("inverse");return new q("horizontal"!==t||a?"horizontal"===t&&a?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||a?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var a=this._shapes,i=this.visualMapModel,r=a.handleThumbs,l=a.handleLabels;Mia([0,1],function(n){var o=r[n];o.setStyle("fill",t.handlesColor[n]),o.position[1]=e[n];var s=Xb(a.handleLabelPoints[n],dd(o,this.group));l[n].setStyle({x:s[0],y:s[1],text:i.formatValueText(this._dataInterval[n]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===n?"bottom":"top":"left",a.barGroup)})},this)}},_showIndicator:function(e,t,a,i){var r=this.visualMapModel,l=r.getExtent(),n=r.itemSize,o=[0,n[1]],s=hc(e,l,o,!0),h=this._shapes,$=h.indicator;if($){$.position[1]=s,$.attr("invisible",!1),$.setShape("points",Qia(!!a,i,s,n[1]));var v=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});$.setStyle("fill",v);var d=Xb(h.indicatorLabelPoint,dd($,this.group)),u=h.indicatorLabel;u.attr("invisible",!1);var c=this._applyTransform("left",h.barGroup),p=this._orient;u.setStyle({text:(a||"")+r.formatValueText(t),textVerticalAlign:"horizontal"===p?c:"middle",textAlign:"horizontal"===p?"center":c,x:d[0],y:d[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var a=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=xk(_g(0,i[1]),a[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=a[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var a=this.visualMapModel,i=a.itemSize;if(a.option.hoverLink){var r=[0,i[1]],l=a.getExtent();e=xk(_g(r[0],e),r[1]);var n=Ria(a,l,r),o=[e-n,e+n],s=hc(e,r,l,!0),h=[hc(o[0],r,l,!0),hc(o[1],r,l,!0)];o[0]<r[0]&&(h[0]=-1/0),o[1]>r[1]&&(h[1]=1/0),t&&(h[0]===-1/0?this._showIndicator(s,h[1],"< ",n):h[1]===1/0?this._showIndicator(s,h[0],"> ",n):this._showIndicator(s,s,"\u2248 ",n));var $=this._hoverLinkDataIndices,v=[];(t||CE(a))&&(v=this._hoverLinkDataIndices=a.findTargetDataIndices(h));var d=SJ($,v);this._dispatchHighDown("downplay",wk(d[0],a)),this._dispatchHighDown("highlight",wk(d[1],a))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,a=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(a.isTargetSeries(i)){var r=i.getData(t.dataType),l=r.get(a.getDataDimension(r),t.dataIndex,!0);isNaN(l)||this._showIndicator(l,l)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",wk(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,a,i){var r=dd(t,i?null:this.group);return b[J(e)?"applyTransform":"transformDirection"](e,r,a)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function yk(e,t,a,i){return new ya({shape:{points:e},draggable:!!a,cursor:t,drift:a,onmousemove:function(e){Sc(e.event)},ondragend:i})}function Pia(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function Qia(e,t,a,i){return e?[[0,-xk(t,_g(a,0))],[BE,0],[0,xk(t,_g(i-a,0))]]:[[0,0],[5,-5],[5,5]]}function Ria(e,t,a){var i=Nia/2,r=e.get("hoverLinkDataSize");return r&&(i=hc(r,t,a,!0)/2),i}function CE(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function DE(e){return"vertical"===e?"ns-resize":"ew-resize"}var Sia={type:"selectDataRange",event:"dataRangeSelected",update:"update"};d(Sia,function(e,a){a.eachComponent({mainType:"visualMap",query:e},function(a){a.setSelected(e.selected)})});la(sE);var EE=Zu,Tia=vk.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){Tia.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();Uia[this._mode].call(this),this._resetSelected(e,t);var a=this.option.categories;this.resetVisual(function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=B(a)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=j(this._pieceList,function(e){e=B(e);return"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){var e=this.option,t={},i=ea.listVisualTypes(),a=this.isCategory();function r(e,t,i){return e&&e[t]&&(y(e[t])?e[t].hasOwnProperty(i):e[t]===i)}k(e.pieces,function(e){k(i,function(i){e.hasOwnProperty(i)&&(t[i]=1)})}),k(t,function(t,i){var s=0;k(this.stateList,function(t){s|=r(e,t,i)||r(e.target,t,i)},this),!s&&k(this.stateList,function(t){(e[t]||(e[t]={}))[i]=kr.get(i,"inRange"===t?"active":"inactive",a)})},this),vk.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var i=this.option,a=this._pieceList,r=(t?i:e).selected||{};if(i.selected=r,k(a,function(e,t){var i=this.getSelectedMapKey(e);r.hasOwnProperty(i)||(r[i]=!0)},this),"single"===i.selectedMode){var s=!1;k(a,function(e,t){var i=this.getSelectedMapKey(e);r[i]&&(s?r[i]=!1:s=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=B(e)},getValueState:function(e){var t=ea.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var a=[],r=i.getData();r.each(this.getDataDimension(r),function(t,i){ea.findPieceIndex(t,this._pieceList)===e&&a.push(i)},this),t.push({seriesId:i.id,dataIndex:a})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],i=[],a=this,r=this._pieceList.slice();if(r.length){var s=r[0].interval[0];s!==-1/0&&r.unshift({interval:[-1/0,s]}),(s=r[r.length-1].interval[1])!==1/0&&r.push({interval:[s,1/0]})}else r.push({interval:[-1/0,1/0]});var n=-1/0;return k(r,function(e){var t=e.interval;t&&(t[0]>n&&l([n,t[0]],"outOfRange"),l(t.slice()),n=t[1])},this),{stops:t,outerColors:i}}function l(r,s){var n=a.getRepresentValue({interval:r});s||(s=a.getValueState(n));var l=e(n,s);r[0]===-1/0?i[0]=l:r[1]===1/0?i[1]=l:t.push({value:r[0],color:l},{value:r[1],color:l})}}}),Uia={splitNumber:function(){var e=this.option,t=this._pieceList,i=Math.min(e.precision,20),a=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var s=(a[1]-a[0])/r;+s.toFixed(i)!==s&&i<5;)i++;e.precision=i,s=+s.toFixed(i),e.minOpen&&t.push({interval:[-1/0,a[0]],close:[0,0]});for(var n=0,l=a[0];n<r;l+=s,n++){var p=n===r-1?a[1]:l+s;t.push({interval:[l,p],close:[1,1]})}e.maxOpen&&t.push({interval:[a[1],1/0],close:[0,0]}),EE(t),k(t,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;k(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),FE(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;k(e.pieces,function(e,i){y(e)||(e={value:e});var a={text:"",index:i};if(null!=e.label&&(a.text=e.label),e.hasOwnProperty("value")){var r=a.value=e.value;a.interval=[r,r],a.close=[1,1]}else{for(var s=a.interval=[],n=a.close=[0,0],l=[1,0,1],p=[-1/0,1/0],$=[],o=0;o<2;o++){for(var u=[["gte","gt","min"],["lte","lt","max"]][o],c=0;c<3&&null==s[o];c++)s[o]=e[u[c]],n[o]=l[c],$[o]=2===c;null==s[o]&&(s[o]=p[o])}$[0]&&s[1]===1/0&&(n[0]=0),$[1]&&s[0]===-1/0&&(n[1]=0),s[0]===s[1]&&n[0]&&n[1]&&(a.value=s[0])}a.visual=ea.retrieveVisuals(e),t.push(a)},this),FE(e,t),EE(t),k(t,function(e){var t=e.close,i=[["<","\u2264"][t[1]],[">","\u2265"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)},this)}};function FE(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var Via=_a,dla=zE.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),r=t.textStyleModel,a=r.getFont(),l=r.getTextColor(),$=this._getItemAlign(),o=t.itemSize,n=this._getViewData(),s=n.endsText,x=ua(t.get("showLabel",!0),!s);s&&this._renderEndsText(e,s[0],o,x,$),k(n.viewPieceList,function(r){var n=r.piece,s=new q;s.onclick=m(this._onItemClick,this,n),this._enableHoverLink(s,r.indexInModelPieceList);var c=t.getRepresentValue(n);if(this._createItemSymbol(s,c,[0,0,o[0],o[1]]),x){var v=this.visualMapModel.getValueState(c);s.add(new K({style:{x:"right"===$?-i:o[0]+i,y:o[1]/2,text:n.text,textVerticalAlign:"middle",textAlign:$,textFont:a,textFill:l,opacity:"outOfRange"===v?.5:1}}))}e.add(s)},this),s&&this._renderEndsText(e,s[1],o,x,$),hd(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function i(e){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:e,batch:wk(i.findTargetDataIndices(t),i)})}e.on("mouseover",m(i,this,"highlight")).on("mouseout",m(i,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return AE(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(e,t,i,r,a){if(t){var l=new q,$=this.visualMapModel.textStyleModel;l.add(new K({style:{x:r?"right"===a?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:r?a:"center",text:t,textFont:$.getFont(),textFill:$.getTextColor()}})),e.add(l)}},_getViewData:function(){var e=this.visualMapModel,t=j(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),i=e.get("text"),r=e.get("orient"),a=e.get("inverse");return("horizontal"===r?a:!a)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},_createItemSymbol:function(e,t,i){e.add(Via(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,i=t.option,r=B(i.selected),a=t.getSelectedMapKey(e);"single"===i.selectedMode?(r[a]=!0,k(r,function(e,t){r[t]=t===a})):r[a]=!r[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}});la(sE);var Wia,GE="urn:schemas-microsoft-com:vml",HE="undefined"==typeof window?null:window,Xia=!1,ic=HE&&HE.document;function Yia($){return Wia($)}if(ic&&!x.canvasSupported)try{!ic.namespaces.zrvml&&ic.namespaces.add("zrvml",GE),Wia=function($){return ic.createElement("<zrvml:"+$+" class=\"zrvml\">")}}catch(e){Wia=function($){return ic.createElement("<"+$+" xmlns=\""+GE+"\" class=\"zrvml\">")}}function Zia(){if(!Xia&&ic){Xia=!0;var $=ic.styleSheets;$.length<31?ic.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):$[0].addRule(".zrvml","behavior:url(#default#VML)")}}var ah=ic;var nr=Yia;var $ia=Zia;var tb=Ga,Md=lb.CMD,H=Math.round,bh=Math.sqrt,_ia=Math.abs,IE=Math.cos,JE=Math.sin,or=Math.max;if(!x.canvasSupported){var U=",",pr="progid:DXImageTransform.Microsoft",O=21600,Da=O/2,aja=1e5,bja=1e3,qr=function($){$.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",$.coordsize=O+","+O,$.coordorigin="0,0"},cja=function($){return String($).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},KE=function($,r,a){return"rgb("+[$,r,a].join(",")+")"},Ob=function($,r){r&&$&&r.parentNode!==$&&$.appendChild(r)},ch=function($,r){r&&$&&r.parentNode===$&&$.removeChild(r)},rr=function($,r,a){return(parseFloat($)||0)*aja+(parseFloat(r)||0)*bja+a},LE=SI,ME=function($,r,a){var t=Wc(r);a=+a,isNaN(a)&&(a=1),t&&($.color=KE(t[0],t[1],t[2]),$.opacity=a*t[3])},dja=function($){var r=Wc($);return[KE(r[0],r[1],r[2]),r[3]]},eja=function($,r,a){var t=r.fill;if(null!=t)if(t instanceof yc){var e,s=0,o=[0,0],g=0,i=1,v=a.getBoundingRect(),n=v.width,z=v.height;if("linear"===t.type){e="gradient";var X=a.transform,l=[t.x*n,t.y*z],p=[t.x2*n,t.y2*z];X&&(tb(l,l,X),tb(p,p,X));var h=p[0]-l[0],c=p[1]-l[1];(s=180*Math.atan2(h,c)/Math.PI)<0&&(s+=360),s<1e-6&&(s=0)}else{e="gradientradial";l=[t.x*n,t.y*z],X=a.transform;var d=a.scale,m=n,u=z;o=[(l[0]-v.x)/m,(l[1]-v.y)/u],X&&tb(l,l,X),m/=d[0]*O,u/=d[1]*O;var f=or(m,u);g=0/f,i=2*t.r/f-g}var x=t.colorStops.slice();x.sort(function($,r){return $.offset-r.offset});for(var y=x.length,T=[],E=[],_=0;_<y;_++){var C=x[_],Z=dja(C.color);E.push(C.offset*i+g+" "+Z[0]),0!==_&&_!==y-1||T.push(Z)}if(y>=2){var M=T[0][0],S=T[1][0],R=T[0][1]*r.opacity,A=T[1][1]*r.opacity;$.type=e,$.method="none",$.focus="100%",$.angle=s,$.color=M,$.color2=S,$.colors=E.join(","),$.opacity=A,$.opacity2=R}"radial"===e&&($.focusposition=o.join(","))}else ME($,t,r.opacity)},fja=function($,r){r.lineDash&&($.dashstyle=r.lineDash.join(" ")),null==r.stroke||r.stroke instanceof yc||ME($,r.stroke,r.opacity)},zk=function($,r,a,t){var e="fill"===r,s=$.getElementsByTagName(r)[0];null!=a[r]&&"none"!==a[r]&&(e||!e&&a.lineWidth)?($[e?"filled":"stroked"]="true",a[r]instanceof yc&&ch($,s),s||(s=nr(r)),e?eja(s,a,t):fja(s,a),Ob($,s)):($[e?"filled":"stroked"]="false",ch($,s))},Pa=[[],[],[]],gja=function($,r){var a,t,e,s,o,g,i=Md.M,v=Md.C,n=Md.L,z=Md.A,X=Md.Q,l=[],p=$.data,h=$.len();for(s=0;s<h;){switch(t="",a=0,e=p[s++]){case i:t=" m ",a=1,o=p[s++],g=p[s++],Pa[0][0]=o,Pa[0][1]=g;break;case n:t=" l ",a=1,o=p[s++],g=p[s++],Pa[0][0]=o,Pa[0][1]=g;break;case X:case v:t=" c ",a=3;var c,d,m=p[s++],u=p[s++],f=p[s++],x=p[s++];e===X?(c=f,d=x,f=(f+2*m)/3,x=(x+2*u)/3,m=(o+2*m)/3,u=(g+2*u)/3):(c=p[s++],d=p[s++]),Pa[0][0]=m,Pa[0][1]=u,Pa[1][0]=f,Pa[1][1]=x,Pa[2][0]=c,Pa[2][1]=d,o=c,g=d;break;case z:var y=0,T=0,E=1,_=1,C=0;r&&(y=r[4],T=r[5],E=bh(r[0]*r[0]+r[1]*r[1]),_=bh(r[2]*r[2]+r[3]*r[3]),C=Math.atan2(-r[1]/_,r[0]/E));var Z=p[s++],M=p[s++],S=p[s++],R=p[s++],A=p[s++]+C,b=p[s++]+A+C;s++;var w=p[s++],P=Z+IE(A)*S,D=M+JE(A)*R,k=(m=Z+IE(b)*S,u=M+JE(b)*R,w?" wa ":" at ");Math.abs(P-m)<1e-4&&(Math.abs(b-A)>.01?w&&(P+=270/O):Math.abs(D-M)<1e-4?w&&P<Z||!w&&P>Z?u-=270/O:u+=270/O:w&&D<M||!w&&D>M?m+=270/O:m-=270/O),l.push(k,H(((Z-S)*E+y)*O-Da),U,H(((M-R)*_+T)*O-Da),U,H(((Z+S)*E+y)*O-Da),U,H(((M+R)*_+T)*O-Da),U,H((P*E+y)*O-Da),U,H((D*_+T)*O-Da),U,H((m*E+y)*O-Da),U,H((u*_+T)*O-Da)),o=m,g=u;break;case Md.R:var N=Pa[0],F=Pa[1];N[0]=p[s++],N[1]=p[s++],F[0]=N[0]+p[s++],F[1]=N[1]+p[s++],r&&(tb(N,N,r),tb(F,F,r)),N[0]=H(N[0]*O-Da),F[0]=H(F[0]*O-Da),N[1]=H(N[1]*O-Da),F[1]=H(F[1]*O-Da),l.push(" m ",N[0],U,N[1]," l ",F[0],U,N[1]," l ",F[0],U,F[1]," l ",N[0],U,F[1]);break;case Md.Z:l.push(" x ");}if(a>0){l.push(t);for(var L=0;L<a;L++){var q=Pa[L];r&&tb(q,q,r),l.push(H(q[0]*O-Da),U,H(q[1]*O-Da),L<a-1?U:"")}}}return l.join("")};g.prototype.brushVML=function($){var r=this.style,a=this._vmlEl;a||(a=nr("shape"),qr(a),this._vmlEl=a),zk(a,"fill",r,this),zk(a,"stroke",r,this);var t=this.transform,e=null!=t,s=a.getElementsByTagName("stroke")[0];if(s){var o=r.lineWidth;if(e&&!r.strokeNoScale){var g=t[0]*t[3]-t[1]*t[2];o*=bh(_ia(g))}s.weight=o+"px"}var i=this.path||(this.path=new lb);this.__dirtyPath&&(i.beginPath(),i.subPixelOptimize=!1,this.buildPath(i,this.shape),i.toStatic(),this.__dirtyPath=!1),a.path=gja(i,this.transform),a.style.zIndex=rr(this.zlevel,this.z,this.z2),Ob($,a),null!=r.text?this.drawRectText($,this.getBoundingRect()):this.removeRectText($)},g.prototype.onRemove=function($){ch($,this._vmlEl),this.removeRectText($)},g.prototype.onAdd=function($){Ob($,this._vmlEl),this.appendRectText($)};var hja=function($){return"object"==typeof $&&$.tagName&&"IMG"===$.tagName.toUpperCase()};oa.prototype.brushVML=function($){var r,a,t=this.style,e=t.image;if(hja(e)){var s=e.src;if(s===this._imageSrc)r=this._imageWidth,a=this._imageHeight;else{var o=e.runtimeStyle,g=o.width,i=o.height;o.width="auto",o.height="auto",r=e.width,a=e.height,o.width=g,o.height=i,this._imageSrc=s,this._imageWidth=r,this._imageHeight=a}e=s}else e===this._imageSrc&&(r=this._imageWidth,a=this._imageHeight);if(e){var v=t.x||0,n=t.y||0,z=t.width,X=t.height,l=t.sWidth,p=t.sHeight,h=t.sx||0,c=t.sy||0,d=l&&p,m=this._vmlEl;m||(m=ah.createElement("div"),qr(m),this._vmlEl=m);var u,f=m.style,x=!1,y=1,T=1;if(this.transform&&(u=this.transform,y=bh(u[0]*u[0]+u[1]*u[1]),T=bh(u[2]*u[2]+u[3]*u[3]),x=u[1]||u[2]),x){var E=[v,n],_=[v+z,n],C=[v,n+X],Z=[v+z,n+X];tb(E,E,u),tb(_,_,u),tb(C,C,u),tb(Z,Z,u);var M=or(E[0],_[0],C[0],Z[0]),S=or(E[1],_[1],C[1],Z[1]),R=[];R.push("M11=",u[0]/y,U,"M12=",u[2]/T,U,"M21=",u[1]/y,U,"M22=",u[3]/T,U,"Dx=",H(v*y+u[4]),U,"Dy=",H(n*T+u[5])),f.padding="0 "+H(M)+"px "+H(S)+"px 0",f.filter=pr+".Matrix("+R.join("")+", SizingMethod=clip)"}else u&&(v=v*y+u[4],n=n*T+u[5]),f.filter="",f.left=H(v)+"px",f.top=H(n)+"px";var A=this._imageEl,b=this._cropEl;A||(A=ah.createElement("div"),this._imageEl=A);var w=A.style;if(d){if(r&&a)w.width=H(y*r*z/l)+"px",w.height=H(T*a*X/p)+"px";else{var P=new Image,D=this;P.onload=function(){P.onload=null,r=P.width,a=P.height,w.width=H(y*r*z/l)+"px",w.height=H(T*a*X/p)+"px",D._imageWidth=r,D._imageHeight=a,D._imageSrc=e},P.src=e}b||((b=ah.createElement("div")).style.overflow="hidden",this._cropEl=b);var k=b.style;k.width=H((z+h*z/l)*y),k.height=H((X+c*X/p)*T),k.filter=pr+".Matrix(Dx="+-h*z/l*y+",Dy="+-c*X/p*T+")",b.parentNode||m.appendChild(b),A.parentNode!==b&&b.appendChild(A)}else w.width=H(y*z)+"px",w.height=H(T*X)+"px",m.appendChild(A),b&&b.parentNode&&(m.removeChild(b),this._cropEl=null);var N="",F=t.opacity;F<1&&(N+=".Alpha(opacity="+H(100*F)+") "),N+=pr+".AlphaImageLoader(src="+e+", SizingMethod=scale)",w.filter=N,m.style.zIndex=rr(this.zlevel,this.z,this.z2),Ob($,m),null!=t.text&&this.drawRectText($,this.getBoundingRect())}},oa.prototype.onRemove=function($){ch($,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText($)},oa.prototype.onAdd=function($){Ob($,this._vmlEl),this.appendRectText($)};var nf,sr="normal",NE={},OE=0,ija=100,jja=document.createElement("div"),kja=function($){var r=NE[$];if(!r){OE>ija&&(OE=0,NE={});var a,t=jja.style;try{t.font=$,a=t.fontFamily.split(",")[0]}catch(e){}r={style:t.fontStyle||sr,variant:t.fontVariant||sr,weight:t.fontWeight||sr,size:0|parseFloat(t.fontSize||12),family:a||"Microsoft YaHei"},NE[$]=r,OE++}return r};AI("measureText",function($,r){var a=ah;nf||((nf=a.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",ah.body.appendChild(nf));try{nf.style.font=r}catch(t){}return nf.innerHTML="",nf.appendChild(a.createTextNode($)),{width:nf.offsetWidth}});for(var tr=new I,lja=function($,r,a,t){var e=this.style;this.__dirty&&Jf(e,!0);var s=e.text;if(null!=s&&(s+=""),s){if(e.rich){var o=ct(s,e);s=[];for(var g=0;g<o.lines.length;g++){for(var i=o.lines[g].tokens,v=[],n=0;n<i.length;n++)v.push(i[n].text);s.push(v.join(""))}s=s.join("\n")}var z,X,l=e.textAlign,p=e.textVerticalAlign,h=kja(e.font),c=h.style+" "+h.variant+" "+h.weight+" "+h.size+"px \""+h.family+"\"";a=a||xb(s,c,l,p,e.textPadding,e.textLineHeight);var d=this.transform;if(d&&!t&&(tr.copy(r),tr.applyTransform(d),r=tr),t)z=r.x,X=r.y;else{var m=e.textPosition;if(m instanceof Array)z=r.x+LE(m[0],r.width),X=r.y+LE(m[1],r.height),l=l||"left";else{var u=this.calculateTextPosition?this.calculateTextPosition({},e,r):Kl({},e,r);z=u.x,X=u.y,l=l||u.textAlign,p=p||u.textVerticalAlign}}z=Jl(z,a.width,l),X=Bh(X,a.height,p),X+=a.height/2;var f,x,y,T=nr,E=this._textVmlEl;E?x=(f=(y=E.firstChild).nextSibling).nextSibling:(E=T("line"),f=T("path"),x=T("textpath"),y=T("skew"),x.style["v-text-align"]="left",qr(E),f.textpathok=!0,x.on=!0,E.from="0 0",E.to="1000 0.05",Ob(E,y),Ob(E,f),Ob(E,x),this._textVmlEl=E);var _=[z,X],C=E.style;d&&t?(tb(_,_,d),y.on=!0,y.matrix=d[0].toFixed(3)+U+d[2].toFixed(3)+U+d[1].toFixed(3)+U+d[3].toFixed(3)+",0,0",y.offset=(H(_[0])||0)+","+(H(_[1])||0),y.origin="0 0",C.left="0px",C.top="0px"):(y.on=!1,C.left=H(z)+"px",C.top=H(X)+"px"),x.string=cja(s);try{x.style.font=c}catch(Z){}zk(E,"fill",{fill:e.textFill,opacity:e.opacity},this),zk(E,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash||null},this),E.style.zIndex=rr(this.zlevel,this.z,this.z2),Ob($,E)}},mja=function($){ch($,this._textVmlEl),this._textVmlEl=null},nja=function($){Ob($,this._textVmlEl)},PE=[ot,yb,oa,g,K],ur=0;ur<PE.length;ur++){var vr=PE[ur].prototype;vr.drawRectText=lja,vr.removeRectText=mja,vr.appendRectText=nja}K.prototype.brushVML=function($){var r=this.style;null!=r.text?this.drawRectText($,{x:r.x||0,y:r.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText($)},K.prototype.onRemove=function($){this.removeRectText($)},K.prototype.onAdd=function($){this.appendRectText($)}}var oja={},pja=k;function of(t){return parseInt(t,10)}function Ak(t,e){$ia(),this.root=t,this.storage=e;var r=document.createElement("div"),i=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(r),this._vmlRoot=i,this._vmlViewport=r,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(i)},e.addToStorage=function(t){t.onAdd&&t.onAdd(i),a.call(e,t)},this._firstPaint=!0}function qja(t){return function(){pc("In IE8.0 VML mode painter not support method \""+t+"\"")}}Ak.prototype={constructor:Ak,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,r=0;r<t.length;r++){var i=t[r];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var r=this._vmlViewport.style;r.width=t+"px",r.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||of(e.width))-of(e.paddingLeft)-of(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||of(e.height))-of(e.paddingTop)-of(e.paddingBottom)|0}},pja(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){Ak.prototype[t]=qja(t)});var rja=Ak;oja=rja;var sja=im;sja("vml",oja);var tja="http://www.w3.org/2000/svg";function uja(e){return document.createElementNS(tja,e)}var wr=uja;var Bk=wr,Nd=lb.CMD,vja=Array.prototype.join,pf="none",xr=Math.round,QE=Math.sin,RE=Math.cos,SE=Math.PI,Pc=2*Math.PI,wja=180/SE,TE=1e-4;function ub($){return xr(1e4*$)/1e4}function UE($){return $<TE&&$>-TE}function xja($,t){var r=t?$.textFill:$.fill;return null!=r&&r!==pf}function yja($,t){var r=t?$.textStroke:$.stroke;return null!=r&&r!==pf}function yr($,t){t&&N($,"transform","matrix("+vja.call(t,",")+")")}function N($,t,r){(!r||"linear"!==r.type&&"radial"!==r.type)&&$.setAttribute(t,r)}function zja($,t,r){$.setAttributeNS("http://www.w3.org/1999/xlink",t,r)}function VE($,t,r,a){if(xja(t,r)){var e=r?t.textFill:t.fill;N($,"fill",e="transparent"===e?pf:e),N($,"fill-opacity",null!=t.fillOpacity?t.fillOpacity*t.opacity:t.opacity)}else N($,"fill",pf);if(yja(t,r)){var h=r?t.textStroke:t.stroke;N($,"stroke",h="transparent"===h?pf:h),N($,"stroke-width",(r?t.textStrokeWidth:t.lineWidth)/(!r&&t.strokeNoScale?a.getLineScale():1)),N($,"paint-order",r?"stroke":"fill"),N($,"stroke-opacity",null!=t.strokeOpacity?t.strokeOpacity:t.opacity),t.lineDash?(N($,"stroke-dasharray",t.lineDash.join(",")),N($,"stroke-dashoffset",xr(t.lineDashOffset||0))):N($,"stroke-dasharray",""),t.lineCap&&N($,"stroke-linecap",t.lineCap),t.lineJoin&&N($,"stroke-linejoin",t.lineJoin),t.miterLimit&&N($,"stroke-miterlimit",t.miterLimit)}else N($,"stroke",pf)}function Aja($){for(var t=[],r=$.data,a=$.len(),e=0;e<a;){var h="",v=0;switch(r[e++]){case Nd.M:h="M",v=2;break;case Nd.L:h="L",v=2;break;case Nd.Q:h="Q",v=4;break;case Nd.C:h="C",v=6;break;case Nd.A:var n=r[e++],C=r[e++],o=r[e++],i=r[e++],s=r[e++],l=r[e++],x=r[e++],c=r[e++],p=Math.abs(l),m=UE(p-Pc)||(c?l>=Pc:-l>=Pc),d=l>0?l%Pc:l%Pc+Pc,_=!1;_=!!m||!UE(p)&&d>=SE==!!c;var T=ub(n+o*RE(s)),u=ub(C+i*QE(s));m&&(l=c?Pc-1e-4:1e-4-Pc,_=!0,9===e&&t.push("M",T,u));var f=ub(n+o*RE(s+l)),g=ub(C+i*QE(s+l));t.push("A",ub(o),ub(i),xr(x*wja),+_,+c,f,g);break;case Nd.Z:h="Z";break;case Nd.R:f=ub(r[e++]),g=ub(r[e++]);var y=ub(r[e++]),P=ub(r[e++]);t.push("M",f,g,"L",f+y,g,"L",f+y,g+P,"L",f,g+P,"L",f,g);}h&&t.push(h);for(var N=0;N<v;N++)t.push(ub(r[e++]))}return t.join(" ")}var Bja={brush:function($){var t=$.style,r=$.__svgEl;r||(r=Bk("path"),$.__svgEl=r),$.path||$.createPathProxy();var a=$.path;if($.__dirtyPath){a.beginPath(),a.subPixelOptimize=!1,$.buildPath(a,$.shape),$.__dirtyPath=!1;var e=Aja(a);e.indexOf("NaN")<0&&N(r,"d",e)}VE(r,t,!1,$),yr(r,$.transform),null!=t.text?Ck($,$.getBoundingRect()):Br($)}},Cja={brush:function($){var t=$.style,r=t.image;r instanceof HTMLImageElement&&(r=r.src);if(r){var a=t.x||0,e=t.y||0,h=t.width,v=t.height,n=$.__svgEl;n||(n=Bk("image"),$.__svgEl=n),r!==$.__imageSrc&&(zja(n,"href",r),$.__imageSrc=r),N(n,"width",h),N(n,"height",v),N(n,"x",a),N(n,"y",e),yr(n,$.transform),null!=t.text?Ck($,$.getBoundingRect()):Br($)}}},zr={},Ar=new I,dh={},jc=[],Dja={left:"start",right:"end",center:"middle",middle:"middle"},Ck=function($,t){var r=$.style,a=$.transform,e=$ instanceof K||r.transformText;$.__dirty&&Jf(r,!0);var h=r.text;if(null!=h&&(h+=""),Tl(h,r)){null==h&&(h=""),!e&&a&&(Ar.copy(t),Ar.applyTransform(a),t=Ar);var v=$.__textSvgEl;v||(v=Bk("text"),$.__textSvgEl=v);var n=v.style,C=r.font||_s,o=v.__computedFont;C!==v.__styleFont&&(n.font=v.__styleFont=C,o=v.__computedFont=n.font);var i=r.textPadding,s=r.textLineHeight,l=$.__textCotentBlock;l&&!$.__dirtyText||(l=$.__textCotentBlock=bt(h,o,i,s,r.truncate));var x=l.outerHeight,c=l.lineHeight;QI(dh,$,r,t);var p=dh.baseX,m=dh.baseY,d=dh.textAlign||"left",_=dh.textVerticalAlign;Eja(v,e,a,r,t,p,m);var T=p,u=Bh(m,x,_);i&&(T=Fja(p,d,i),u+=i[0]),u+=c/2,VE(v,r,!0,$);var f=l.canCacheByTextString,g=$.__tspanList||($.__tspanList=[]),y=g.length;if(f&&$.__canCacheByTextString&&$.__text===h){if($.__dirtyText&&y)for(var P=0;P<y;++P)WE(g[P],d,T,u+P*c)}else{$.__text=h,$.__canCacheByTextString=f;var N=l.lines,k=N.length;for(P=0;P<k;P++){var S=g[P],E=N[P];S?S.__zrText!==E&&(S.innerHTML="",S.appendChild(document.createTextNode(E))):(S=g[P]=Bk("tspan"),v.appendChild(S),S.appendChild(document.createTextNode(E))),WE(S,d,T,u+P*c)}if(y>k){for(;P<y;P++)v.removeChild(g[P]);g.length=k}}}};function Eja($,t,r,a,e,h,v){yf(jc),t&&r&&oh(jc,r);var n=a.textRotation;if(e&&n){var C=a.textOrigin;"center"===C?(h=e.width/2+e.x,v=e.height/2+e.y):C&&(h=C[0]+e.x,v=C[1]+e.y),jc[4]-=h,jc[5]-=v,Rb(jc,jc,n),jc[4]+=h,jc[5]+=v}yr($,jc)}function Fja($,t,r){return"right"===t?$-r[1]:"center"===t?$+r[3]/2-r[1]/2:$+r[3]}function WE($,t,r,a){N($,"dominant-baseline","middle"),N($,"text-anchor",Dja[t]),N($,"x",r),N($,"y",a)}function Br($){$&&$.__textSvgEl&&($.__textSvgEl.parentNode&&$.__textSvgEl.parentNode.removeChild($.__textSvgEl),$.__textSvgEl=null,$.__tspanList=[],$.__text=null)}zr.drawRectText=Ck,zr.brush=function($){null!=$.style.text?Ck($,!1):Br($)};var XE=Bja;var YE=Cja;var ZE=zr;var Gja={};function $E(){}function Hja(e,n,o,t){for(var r=0,s=n.length,u=0,i=0;r<s;r++){var a=n[r];if(a.removed){for(c=[],f=i;f<i+a.count;f++)c.push(f);a.indices=c,i+=a.count}else{for(var c=[],f=u;f<u+a.count;f++)c.push(f);a.indices=c,u+=a.count,a.added||(i+=a.count)}}return n}function Ija(e){return{newPos:e.newPos,components:e.components.slice(0)}}$E.prototype={diff:function(e,n,o){o||(o=function(e,n){return e===n}),this.equals=o;var t=this;e=e.slice();var r=(n=n.slice()).length,s=e.length,u=1,i=r+s,a=[{newPos:-1,components:[]}],c=this.extractCommon(a[0],n,e,0);if(a[0].newPos+1>=r&&c+1>=s){for(var f=[],$=0;$<n.length;$++)f.push($);return[{indices:f,count:n.length}]}function v(){for(var o=-1*u;o<=u;o+=2){var i,c=a[o-1],f=a[o+1],$=(f?f.newPos:0)-o;c&&(a[o-1]=void 0);var v=c&&c.newPos+1<r,d=f&&0<=$&&$<s;if(v||d){if(!v||d&&c.newPos<f.newPos?(i=Ija(f),t.pushComponent(i.components,void 0,!0)):((i=c).newPos++,t.pushComponent(i.components,!0,void 0)),$=t.extractCommon(i,n,e,o),i.newPos+1>=r&&$+1>=s)return Hja(t,i.components,n,e);a[o]=i}else a[o]=void 0}u++}for(;u<=i;){var d=v();if(d)return d}},pushComponent:function(e,n,o){var t=e[e.length-1];t&&t.added===n&&t.removed===o?e[e.length-1]={count:t.count+1,added:n,removed:o}:e.push({count:1,added:n,removed:o})},extractCommon:function(e,n,o,t){for(var r=n.length,s=o.length,u=e.newPos,i=u-t,a=0;u+1<r&&i+1<s&&this.equals(n[u+1],o[i+1]);)u++,i++,a++;return a&&e.components.push({count:a}),e.newPos=u,i},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var Jja=new $E;function Kja(e,n,o){return Jja.diff(e,n,o)}Gja=Kja;var Qa={},Lja=wr,_E=XE,Mja=YE,Nja=ZE,Oja="0",aF="1";function Ra(e,$,t,r,a){this._zrId=e,this._svgRoot=$,this._tagNames="string"==typeof t?[t]:t,this._markLabel=r,this._domName=a||"_dom",this.nextId=0}Ra.prototype.createElement=Lja,Ra.prototype.getDefs=function(e){var $=this._svgRoot,t=this._svgRoot.getElementsByTagName("defs");return 0===t.length?e?((t=$.insertBefore(this.createElement("defs"),$.firstChild)).contains||(t.contains=function(e){var $=t.children;if(!$)return!1;for(var r=$.length-1;r>=0;--r)if($[r]===e)return!0;return!1}),t):null:t[0]},Ra.prototype.update=function(e,$){if(e){var t=this.getDefs(!1);if(e[this._domName]&&t.contains(e[this._domName]))"function"==typeof $&&$(e);else{var r=this.add(e);r&&(e[this._domName]=r)}}},Ra.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},Ra.prototype.removeDom=function(e){var $=this.getDefs(!1);$&&e[this._domName]&&($.removeChild(e[this._domName]),e[this._domName]=null)},Ra.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var $=[];return k(this._tagNames,function(t){var r=e.getElementsByTagName(t);$=$.concat([].slice.call(r))}),$},Ra.prototype.markAllUnused=function(){var e=this.getDoms(),$=this;k(e,function(e){e[$._markLabel]=Oja})},Ra.prototype.markUsed=function(e){e&&(e[this._markLabel]=aF)},Ra.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var $=this.getDoms(),t=this;k($,function($){$[t._markLabel]!==aF&&e.removeChild($)})}},Ra.prototype.getSvgProxy=function(e){return e instanceof g?_E:e instanceof oa?Mja:e instanceof K?Nja:_E},Ra.prototype.getTextSvgElement=function(e){return e.__textSvgEl},Ra.prototype.getSvgElement=function(e){return e.__svgEl};var Pja=Ra;Qa=Pja;var Qja={};function Od(t,e){Qa.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}n(Od,Qa),Od.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var r=this;k(["fill","stroke"],function(a){if(e.style[a]&&("linear"===e.style[a].type||"radial"===e.style[a].type)){var i,o=e.style[a],s=r.getDefs(!0);o._dom?(i=o._dom,s.contains(o._dom)||r.addDom(i)):i=r.add(o),r.markUsed(e);var l=i.getAttribute("id");t.setAttribute(a,"url(#"+l+")")}})}},Od.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return pc("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},Od.prototype.update=function(t){var e=this;Qa.prototype.update.call(this,t,function(){var r=t.type,a=t._dom.tagName;"linear"===r&&"linearGradient"===a||"radial"===r&&"radialGradient"===a?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},Od.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void pc("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var r=t.colorStops,a=0,i=r.length;a<i;++a){var o=this.createElement("stop");o.setAttribute("offset",100*r[a].offset+"%");var s=r[a].color;if(s.indexOf("rgba")>-1){var l=Wc(s)[3],$=hl(s);o.setAttribute("stop-color","#"+$),o.setAttribute("stop-opacity",l)}else o.setAttribute("stop-color",r[a].color);e.appendChild(o)}t._dom=e},Od.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&Qa.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&Qa.prototype.markUsed.call(this,e._dom)}};var Rja=Od;Qja=Rja;var Sja={};function eh(e,t){Qa.call(this,e,t,"clipPath","__clippath_in_use__")}n(eh,Qa),eh.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var a=this.getTextSvgElement(e);a&&this.updateDom(a,e.__clipPaths,!0),this.markUsed(e)},eh.prototype.updateDom=function(e,t,a){if(t&&t.length>0){var r,i,$=this.getDefs(!0),l=t[0],p=a?"_textDom":"_dom";l[p]?(i=l[p].getAttribute("id"),r=l[p],$.contains(r)||$.appendChild(r)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",i),$.appendChild(r),l[p]=r);var n=this.getSvgProxy(l);if(l.transform&&l.parent.invTransform&&!a){var s=Array.prototype.slice.call(l.transform);mc(l.transform,l.parent.invTransform,l.transform),n.brush(l),l.transform=s}else n.brush(l);var o=this.getSvgElement(l);r.innerHTML="",r.appendChild(o.cloneNode()),e.setAttribute("clip-path","url(#"+i+")"),t.length>1&&this.updateDom(r,t.slice(1),a)}else e&&e.setAttribute("clip-path","none")},eh.prototype.markUsed=function(e){var t=this;e.__clipPaths&&k(e.__clipPaths,function(e){e._dom&&Qa.prototype.markUsed.call(t,e._dom),e._textDom&&Qa.prototype.markUsed.call(t,e._textDom)})};var Tja=eh;Sja=Tja;var Uja={};function Qc(t,e){Qa.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function bF(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}n(Qc,Qa),Qc.prototype.addWithoutUpdate=function(t,e){if(e&&bF(e.style)){var a;if(e._shadowDom)a=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(a);else a=this.add(e);this.markUsed(e);var o=a.getAttribute("id");t.style.filter="url(#"+o+")"}},Qc.prototype.add=function(t){var e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},Qc.prototype.update=function(t,e){if(bF(e.style)){var a=this;Qa.prototype.update.call(this,e,function(){a.updateDom(e,e._shadowDom)})}else this.remove(t,e)},Qc.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},Qc.prototype.updateDom=function(t,e){var a=e.getElementsByTagName("feDropShadow");a=0===a.length?this.createElement("feDropShadow"):a[0];var o,r,s,d,h=t.style,i=t.scale&&t.scale[0]||1,w=t.scale&&t.scale[1]||1;if(h.shadowBlur||h.shadowOffsetX||h.shadowOffsetY)o=h.shadowOffsetX||0,r=h.shadowOffsetY||0,s=h.shadowBlur,d=h.shadowColor;else{if(!h.textShadowBlur)return void this.removeDom(e,h);o=h.textShadowOffsetX||0,r=h.textShadowOffsetY||0,s=h.textShadowBlur,d=h.textShadowColor}a.setAttribute("dx",o/i),a.setAttribute("dy",r/w),a.setAttribute("flood-color",d);var $=s/2/i+" "+s/2/w;a.setAttribute("stdDeviation",$),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(s/2*200)+"%"),e.setAttribute("height",Math.ceil(s/2*200)+"%"),e.appendChild(a),t._shadowDom=e},Qc.prototype.markUsed=function(t){t._shadowDom&&Qa.prototype.markUsed.call(this,t._shadowDom)};var Vja=Qc;Uja=Vja;var Wja={},fh=wr,cF=XE,Xja=YE,Yja=ZE;function Dk(e){return parseInt(e,10)}function Zja(e){return e instanceof g?cF:e instanceof oa?Xja:e instanceof K?Yja:cF}function dF(e,t){return t&&e&&t.parentNode!==e}function gh(e,t,r){if(dF(e,t)&&r){var i=r.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function eF(e,t){if(dF(e,t)){var r=e.firstChild;r?e.insertBefore(t,r):e.appendChild(t)}}function fF(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function hh(e){return e.__textSvgEl}function ih(e){return e.__svgEl}var Ek=function(e,t,r,i){this.root=e,this.storage=t,this._opts=r=z({},r||{});var a=fh("svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("version","1.1"),a.setAttribute("baseProfile","full"),a.style.cssText="user-select:none;position:absolute;left:0;top:0;";var $=fh("g");a.appendChild($);var n=fh("g");a.appendChild(n),this.gradientManager=new Qja(i,n),this.clipPathManager=new Sja(i,n),this.shadowManager=new Uja(i,n);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgDom=a,this._svgRoot=n,this._backgroundRoot=$,this._viewport=s,e.appendChild(s),s.appendChild(a),this.resize(r.width,r.height),this._visibleList=[]};function $ja(e){return function(){pc("In SVG mode painter not support method \""+e+"\"")}}Ek.prototype={constructor:Ek,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=fh("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,r=this._svgRoot,i=this._visibleList,a=e.length,$=[];for(t=0;t<a;t++){var n=Zja(l=e[t]),s=ih(l)||hh(l);l.invisible||(l.__dirty&&(n&&n.brush(l),this.clipPathManager.update(l),l.style&&(this.gradientManager.update(l.style.fill),this.gradientManager.update(l.style.stroke),this.shadowManager.update(s,l)),l.__dirty=!1),$.push(l))}var o,h=Gja(i,$);for(t=0;t<h.length;t++){if((d=h[t]).removed)for(var v=0;v<d.count;v++){s=ih(l=i[d.indices[v]]);var g=hh(l);fF(r,s),fF(r,g)}}for(t=0;t<h.length;t++){var d;if((d=h[t]).added)for(v=0;v<d.count;v++){s=ih(l=$[d.indices[v]]),g=hh(l);o?gh(r,s,o):eF(r,s),s?gh(r,g,s):o?gh(r,g,o):eF(r,g),gh(r,g,s),o=g||s||o,this.gradientManager.addWithoutUpdate(s||g,l),this.shadowManager.addWithoutUpdate(s||g,l),this.clipPathManager.markUsed(l)}else if(!d.removed)for(v=0;v<d.count;v++){var l;s=ih(l=$[d.indices[v]]),g=hh(l),s=ih(l),g=hh(l);this.gradientManager.markUsed(l),this.gradientManager.addWithoutUpdate(s||g,l),this.shadowManager.markUsed(l),this.shadowManager.addWithoutUpdate(s||g,l),this.clipPathManager.markUsed(l),g&&gh(r,g,s),o=s||g||o}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=$},_getDefs:function(e){var t,r=this._svgDom;return 0===(t=r.getElementsByTagName("defs")).length?e?((t=r.insertBefore(fh("defs"),r.firstChild)).contains||(t.contains=function(e){var r=t.children;if(!r)return!1;for(var i=r.length-1;i>=0;--i)if(r[i]===e)return!0;return!1}),t):null:t[0]},resize:function(e,t){var r=this._viewport;r.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var a=r.style;a.width=e+"px",a.height=t+"px";var $=this._svgDom;$.setAttribute("width",e),$.setAttribute("height",t)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],$=["paddingRight","paddingBottom"][e];if(null!=t[r]&&"auto"!==t[r])return parseFloat(t[r]);var n=this.root,s=document.defaultView.getComputedStyle(n);return(n[i]||Dk(s[r])||Dk(n.style[r]))-(Dk(s[a])||0)-(Dk(s[$])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},k(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(e){Ek.prototype[e]=$ja(e)});var _ja=Ek;Wja=_ja;var aka=im;aka("svg",Wja);!function(){for(var e in v){if(null==v||!v.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;Ke[e]=v[e]}}();var gF="width: 100%; height: 400px; margin-top: -0.2em;";customElements.define("lia-chart",class extends HTMLElement{static get observedAttributes(){return["style","mode","json"]}constructor(){super();const t=this.attachShadow({mode:"open"});let e=document.createElement("div");e.style=gF,e.id="container",t.appendChild(e);let s=this;window.addEventListener("resize",function(){s.resizeChart()})}connectedCallback(){if(!this.chart){let t=this.shadowRoot.querySelector("#container");var $Nc4J$$interop$default=jh(Ke);this.data=null,this.chart=$Nc4J$$interop$default.d.init(t,this.mode),this.option_=JSON.parse(this.getAttribute("option"))||this.option_,this.updateChart()}}disconnectedCallback(){var $Nc4J$$interop$default=jh(Ke);super.disconnectedCallback&&super.disconnectedCallback(),$Nc4J$$interop$default.d.dispose(this.chart),this.data=null}attributeChangedCallback(t,e,s){if("style"===t){let t=this.shadowRoot.querySelector("#container");t&&(t.style=gF+s),this.resizeChart()}else if("mode"===t){if(!this.chart)return;var $Nc4J$$interop$default=jh(Ke);$Nc4J$$interop$default.d.dispose(this.chart);let t=this.shadowRoot.querySelector("#container");this.chart=$Nc4J$$interop$default.d.init(t,s),this.updateChart()}else if("json"===t)if("string"==typeof s&&""!==s){try{if(this.data.name===s)return}catch(i){}let t=this,e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&200===e.status?t.updateJson(s,e.responseText):console.warn("eCharts ... could not load =>",JSON.stringify(s))},e.open("GET",s,!0),e.send(null)}else this.data=null}updateJson(t,e){this.data={name:t,data:e},this.updateChart()}updateChart(){if(!this.chart||!this.option_)return;let t=this.option_||{};var $Nc4J$$interop$default=jh(Ke);this.data&&$Nc4J$$interop$default.d.registerMap(this.data.name,this.data.data),this.chart.setOption(t,!0)}resizeChart(){this.chart&&this.chart.resize()}get option(){return this.option_}set option(t){t&&JSON.stringify(t)!==JSON.stringify(this.option_)&&(this.option_=t,this.updateChart())}get mode(){return this.hasAttribute("mode")?this.getAttribute("mode"):""}set mode(t){t?this.setAttribute("mode",t):this.setAttribute("mode",""),this.updateChart()}get json(){return this.hasAttribute("json")?this.getAttribute("json"):""}set json(t){t?this.setAttribute("json",t):this.data&&this.setAttribute("json",""),this.updateChart()}});return{"RXXZ":{}};});