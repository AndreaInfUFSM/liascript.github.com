(function(){function $parcel$export(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequire55a5;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var r={id:e,exports:{}};return $parcel$modules[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequire55a5=parcelRequire),parcelRequire.register("2XGuX",(function(e,t){var r,n;$parcel$export(e.exports,"register",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"resolve",(function(){return n}),(function(e){return n=e}));var i={};r=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},n=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),parcelRequire.register("5rPeW",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("caN7I");parcelRequire("l57ul");var n={info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;window.LIA.debug&&((i=console).info.apply(i,["⭐"].concat((0,r.default)(t))),window.LIA.log&&window.LIA.log("log",t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;window.LIA.debug&&((i=console).warn.apply(i,["⭐"].concat((0,r.default)(t))),window.LIA.log&&window.LIA.log("warn",t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;(i=console).error.apply(i,["⭐"].concat((0,r.default)(t))),window.LIA.log&&window.LIA.log("error",t)}},i=n})),parcelRequire.register("l57ul",(function(e,t){})),parcelRequire.register("buw1Y",(function(e,t){$parcel$export(e.exports,"Settings",(function(){return n}));var r={table_of_contents:window.innerWidth>768,mode:"Textbook",theme:"default",light:!0,editor:"dreamweaver",font_size:1,sound:!0,lang:"en",tooltips:!1,preferBrowserTTS:!0},n={PORT:"settings",default:r,init:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||(e=r,t&&localStorage.setItem(this.PORT,JSON.stringify(e)),this.updateClassName(e)),e},updateClassName:function(e){try{var t=1;switch(e.font_size){case 2:t=2;break;case 3:t=3;break;default:t=1}var r="lia-theme-".concat(e.theme," lia-variant-").concat(e.light?"light":"dark"," lia-font-scale-").concat(t);document.documentElement.className=r}catch(e){console.warn("settings (className): ",e.message)}}}})),parcelRequire.register("2h8PU",(function(module,exports){$parcel$export(module.exports,"JS",(function(){return JS})),$parcel$export(module.exports,"LiaEvents",(function(){return LiaEvents})),$parcel$export(module.exports,"liaExec",(function(){return liaExec})),$parcel$export(module.exports,"default",(function(){return $b86b2c05f1e6d7b5$export$2e2bcd8739ae039}));var $aPYZr=parcelRequire("aPYZr"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$gNsil=parcelRequire("gNsil"),$caN7I=parcelRequire("caN7I"),$9PuT7=parcelRequire("9PuT7"),$8rJSp=parcelRequire("8rJSp"),$5rPeW=parcelRequire("5rPeW"),JS;!function(e){e.exec="exec",e.eval="eval"}(JS||(JS={}));var LiaError=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var s;(0,$4JAgF.default)(this,r),s=t.call.apply(t,[this].concat((0,$caN7I.default)(a))),Error.captureStackTrace&&Error.captureStackTrace((0,$aPYZr.default)(s),r),s.message=e,s.details=[];for(var u=0;u<n;u++)s.details.push([]);return s}return(0,$9HoHC.default)(r,[{key:"add_detail",value:function(e,t,r,n,i){this.details[e].push({row:n,column:i,text:t,type:r})}},{key:"get_detail",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{row:r,column:n,text:e,type:t}}},{key:"correct_lines",value:function(e,t){if(null==e)for(var r=0;r<this.details.length;r++)this.correct_lines(r,t);else this.details[e].map((function(e){e.row=e.row+t}))}}]),r}((0,$9PuT7.default)(Error)),LiaEvents=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.event={},this.input={}}return(0,$9HoHC.default)(e,[{key:"register",value:function(e,t){this.event[e]=t}},{key:"register_input",value:function(e,t,r){var n=JSON.stringify(e);void 0===this.input[n]&&(this.input[n]={}),this.input[n][t]=r}},{key:"dispatch_input",value:function(e){var t=JSON.stringify(e.track);try{this.input[t]&&this.input[t][e.message.cmd](e.message.param)}catch(t){$5rPeW.default.error("unable to dispatch message",e.message)}}},{key:"dispatch",value:function(e,t){this.event.hasOwnProperty(e)&&this.event[e](t)}},{key:"remove",value:function(e){delete this.event[e]}}]),e}(),eventHandler=new LiaEvents,delayID=null,lia_queue=[],elmSend,Service={PORT:"script",init:function(e){elmSend=e},exec:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&liaExec({reply:!1,track:[],service:this.PORT,message:{cmd:"exec",param:{code:e,delay:t}}})},handle:function(e){switch(e.message.cmd){case"eval":liaEval(e);break;case"exec":liaExec(e);break;case"input":case"stop":eventHandler.dispatch_input(e);break;default:$5rPeW.default.warn("(Service ",this.PORT,") unknown message =>",e.message)}}};function getLineNumber(e){if(e.stack){var t=/<anonymous>:(\d+):\d+/;if(e.stack.match(t)){var r=e.stack.match(t);return r?parseInt(r[1],10):null}var n=/<anonymous>.+:(\d+):\d+/;if(e.stack&&e.stack.match(n)){var i=e.stack.match(n);return i?parseInt(i[1],10):null}}return null}function liaEval(e){liaEvalCode(e.message.param,{lia:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.message.cmd="eval",e.message.param={result:t,details:r,ok:n},sendReply(e)},log:function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];e.message.cmd="log",e.message.param=[t,list_to_string(r,i)],sendReply(e)},handle:function(t,r){eventHandler.register_input(e.track,t,r)},register:function(e,t){eventHandler.register(e,t)},dispatch:function(e,t){eventHandler.dispatch(e,t)}})}function sendReply(e){elmSend&&elmSend(e)}function liaEvalCode(code,send){if(window.LIA.eventSemaphore>0)return lia_queue.push({type:JS.eval,code:code,send:send}),void(1===lia_queue.length&&delayExecution());try{var console={debug:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return send.log("debug","\n",t)},log:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return send.log("info","\n",t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return send.log("warn","\n",t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return send.log("error","\n",t)},stream:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return send.log("stream","",t)},html:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return send.log("html","\n",t)},clear:function(){return send.lia("LIA: clear")}};send.lia(String(eval(code.replace("\\`","`")+"\n")))}catch(e){e instanceof LiaError?send.lia(e.message,e.details,!1):send.lia(e.message,[],!1)}}function liaExec(e){if(window.LIA.eventSemaphore>0)return lia_queue.push({type:JS.exec,event:e}),void(1===lia_queue.length&&delayExecution());liaExecCode(e)}function liaExecCode(event){setTimeout((function(){var send={lia:execute_response(event),output:execute_response(event,"async"),wait:function(){execute_response(event)("LIA: wait")},stop:function(){execute_response(event)("LIA: stop")},clear:function(){execute_response(event)("LIA: clear")},html:function(e){execute_response(event)("HTML: "+e)},liascript:function(e){execute_response(event)("LIASCRIPT: "+e)}};try{var result=eval(event.message.param.code.replace("\\`","`"));send.lia(void 0===result?"LIA: stop":result)}catch(e){$5rPeW.default.error("exec => ",e.message),send.lia(e.message,!1,[])}}),event.message.param.delay)}function execute_response(e,t){return function(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];"string"!=typeof r&&(r=JSON.stringify(r)),t&&(e.message.cmd=t),e.message.param={ok:n,result:r,details:i},sendReply(e)}}function delayExecution(){if(window.LIA.eventSemaphore>0&&!delayID)delayID=setTimeout((function(){delayID=null,delayExecution()}),250),console.warn(window.LIA.eventSemaphore,delayID);else if(!delayID)for(var e;e=lia_queue.pop();)switch(e.type){case JS.eval:liaEvalCode(e.code,e.send);break;case JS.exec:liaExecCode(e.event);break;default:$5rPeW.default.warn("lia_queue => unknown event => ",JSON.stringify(e))}}function list_to_string(e,t){for(var r="",n=0;n<t[0].length;n++)r+="string"==typeof t[0][n]?t[0][n]:JSON.stringify(t[0][n]),r+=" ";return r.slice(0,-1)+e}var $b86b2c05f1e6d7b5$export$2e2bcd8739ae039=Service})),parcelRequire.register("dwjmx",(function(e,t){$parcel$export(e.exports,"Buffer",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"SlowBuffer",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"INSPECT_MAX_BYTES",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"kMaxLength",(function(){return a}),(function(e){return a=e}));
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
var r,n,i,a,o=parcelRequire("dCPLc"),s=parcelRequire("19Q50"),u=parcelRequire("kJcoF"),c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r=d,n=function(e){+e!=e&&(e=0);return d.alloc(+e)},i=50;var l=2147483647;function f(e){if(e>l)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return h(e,t,r)}function h(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|$(e,t),n=f(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){var t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return b(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":(0,o.default)(e)));if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return g(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return g(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return d.from(n,t,r);var i=function(e){if(d.isBuffer(e)){var t=0|m(e.length),r=f(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||V(e.length)?f(0):b(e);if("Buffer"===e.type&&Array.isArray(e.data))return b(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":(0,o.default)(e)))}function v(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return v(e),f(e<0?0:0|m(e))}function b(e){for(var t=e.length<0?0:0|m(e.length),r=f(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,d.prototype),n}function m(e){if(e>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|e}function $(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===e?"undefined":(0,o.default)(e)));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),V(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=d.from(t,n)),d.isBuffer(t))return 0===t.length?-1:S(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):S(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,r,n,i){var a,o=function(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)},s=1,u=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,u/=2,c/=2,r/=2}if(i){var l=-1;for(a=r;a<u;a++)if(o(e,a)===o(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(r+c>u&&(r=u-c),a=r;a>=0;a--){for(var f=!0,d=0;d<c;d++)if(o(e,a+d)!==o(t,d)){f=!1;break}if(f)return a}return-1}function C(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(V(s))return o;e[r+o]=s}return o}function k(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function E(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function R(e,t,r,n){return H(K(t),e,r,n)}function x(e,t,r,n){return H(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}a=l,d.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,r){return h(e,t,r)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(e,t,r){return function(e,t,r){return v(e),e<=0?f(e):void 0!==t?"string"==typeof r?f(e).fill(t,r):f(e).fill(t):f(e)}(e,t,r)},d.allocUnsafe=function(e){return p(e)},d.allocUnsafeSlow=function(e){return p(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(W(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=d.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(W(a,Uint8Array))i+a.length>n.length?d.from(a).copy(n,i):Uint8Array.prototype.set.call(n,a,i);else{if(!d.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},d.byteLength=$,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},d.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",t=i;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(e,t,r,n,i){if(W(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===e?"undefined":(0,o.default)(e)));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),u=Math.min(a,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},d.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},d.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},d.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},d.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return C(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=z[e[a]];return i}function P(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function q(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,a){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return t=+t,r>>>=0,i||U(e,0,r,4),u.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return t=+t,r>>>=0,i||U(e,0,r,8),u.write(e,t,r,n,52,8),r+8}d.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,d.prototype),n},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||q(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||q(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||q(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||q(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||q(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||q(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||q(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},d.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||q(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},d.prototype.readInt8=function(e,t){return e>>>=0,t||q(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||q(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt16BE=function(e,t){e>>>=0,t||q(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return e>>>=0,t||q(e,4,this.length),u.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||q(e,4,this.length),u.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||q(e,8,this.length),u.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||q(e,8,this.length),u.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},d.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},d.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},d.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},d.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},d.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},d.prototype.copy=function(e,t,r,n){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},d.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!d.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=d.isBuffer(e)?e:d.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+/0-9A-Za-z-_]/g;function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function K(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()})),parcelRequire.register("19Q50",(function(e,t){var r,n;$parcel$export(e.exports,"toByteArray",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"fromByteArray",(function(){return n}),(function(e){return n=e})),r=function(e){var t,r,n=l(e),i=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,i,s)),c=0,f=s>0?i-4:i;for(r=0;r<f;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},n=function(e){for(var t,r=e.length,n=r%3,a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(f(e,s,s+o>u?u:s+o));1===n?(t=e[r-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return a.join("")};for(var i=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=s.length;u<c;++u)i[u]=s[u],a[s.charCodeAt(u)]=u;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var n,a,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(i[(a=n)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63})),parcelRequire.register("kJcoF",(function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var r,n;$parcel$export(e.exports,"read",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"write",(function(){return n}),(function(e){return n=e})),r=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=d,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},n=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,v=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=v,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=v,o/=256,c-=8);e[r+h-v]|=128*p}})),parcelRequire.register("cBsbd",(function(e,t){for(var r=parcelRequire("dCPLc"),n=/[\\\"\x00-\x1F]/g,i={},a=0;a<32;++a)i[String.fromCharCode(a)]="\\U"+("0000"+a.toString(16)).slice(-4).toUpperCase();function o(e){return n.lastIndex=0,e.replace(n,(function(e){return i[e]}))}function s(e){switch(void 0===e?"undefined":(0,r.default)(e)){case"string":return'"'+o(e)+'"';case"number":return isFinite(e)?e:"null";case"boolean":return e;case"object":return null===e?"null":Array.isArray(e)?function(e){for(var t="[",r="",n=0;n<e.length;++n)r+=t,t=",",r+=s(e[n]);return","!=t?"[]":r+"]"}(e):function(e){var t="{",r="",n=Object.keys(e);n.sort();for(var i=0;i<n.length;++i){var a=n[i];r+=t+'"'+o(a)+'":',t=",",r+=s(e[a])}return","!=t?"{}":r+"}"}(e);default:throw new Error("Cannot stringify: "+(void 0===e?"undefined":(0,r.default)(e)))}}i["\b"]="\\b",i["\t"]="\\t",i["\n"]="\\n",i["\f"]="\\f",i["\r"]="\\r",i['"']='\\"',i["\\"]="\\\\",e.exports={stringify:s}})),parcelRequire.register("graqz",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r={setCryptoStoreFactory:!0,createClient:!0,createRoomWidgetClient:!0,ContentHelpers:!0,createNewMatrixCall:!0,GroupCallEvent:!0,GroupCallIntent:!0,GroupCallState:!0,GroupCallType:!0};e.exports.ContentHelpers=void 0,Object.defineProperty(e.exports,"GroupCallEvent",{enumerable:!0,get:function(){return P.GroupCallEvent}}),Object.defineProperty(e.exports,"GroupCallIntent",{enumerable:!0,get:function(){return P.GroupCallIntent}}),Object.defineProperty(e.exports,"GroupCallState",{enumerable:!0,get:function(){return P.GroupCallState}}),Object.defineProperty(e.exports,"GroupCallType",{enumerable:!0,get:function(){return P.GroupCallType}}),e.exports.createClient=function(e){return new o.MatrixClient(U(e))},Object.defineProperty(e.exports,"createNewMatrixCall",{enumerable:!0,get:function(){return D.createNewMatrixCall}}),e.exports.createRoomWidgetClient=function(e,t,r,n){return new s.RoomWidgetClient(e,t,r,U(n))},e.exports.setCryptoStoreFactory=function(e){L=e};var n=parcelRequire("p8KV9");Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===n[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return n[t]}}))}));var i=parcelRequire("gFRa7");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===i[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return i[t]}}))}));var a=parcelRequire("bHBjb");Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===a[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return a[t]}}))}));var o=parcelRequire("67LLR");Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===o[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=parcelRequire("7IDQL");Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=parcelRequire("84XpH");Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===u[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return u[t]}}))}));var c=parcelRequire("57Sdt");Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===c[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return c[t]}}))}));var l=parcelRequire("3tFxP");Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===l[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return l[t]}}))}));var f=parcelRequire("h5yrP");Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===f[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return f[t]}}))}));var d=parcelRequire("eDh8c");Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===d[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return d[t]}}))}));var h=parcelRequire("dlOEf");Object.keys(h).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===h[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return h[t]}}))}));var v=parcelRequire("6pgXP");Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===v[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return v[t]}}))}));var p=parcelRequire("gFIkm");Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===p[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return p[t]}}))}));var b=parcelRequire("kbPXZ");Object.keys(b).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===b[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return b[t]}}))}));var g=parcelRequire("iUBUo");Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===g[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return g[t]}}))}));var m=parcelRequire("kDAFF");Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===m[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return m[t]}}))}));var $=parcelRequire("5Ewnj");Object.keys($).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===$[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return $[t]}}))}));var y=parcelRequire("ge4zT");Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===y[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return y[t]}}))}));var w=parcelRequire("fwup2");Object.keys(w).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===w[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return w[t]}}))}));var _=parcelRequire("4TWlS");Object.keys(_).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===_[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return _[t]}}))}));var S=parcelRequire("1XfB2");Object.keys(S).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===S[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return S[t]}}))}));var C=parcelRequire("5a8KD");Object.keys(C).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===C[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return C[t]}}))}));var k=parcelRequire("g10a3");Object.keys(k).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===k[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return k[t]}}))}));var E=parcelRequire("dSypD");Object.keys(E).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===E[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return E[t]}}))}));var R=parcelRequire("axSuM");Object.keys(R).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===R[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return R[t]}}))}));var x=parcelRequire("1udkq");Object.keys(x).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===x[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return x[t]}}))}));var M=parcelRequire("fOPpl");Object.keys(M).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===M[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return M[t]}}))}));var I=parcelRequire("f5ChU");Object.keys(I).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===I[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return I[t]}}))}));var T=parcelRequire("kTCCE");Object.keys(T).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===T[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return T[t]}}))}));var A=parcelRequire("qUWv2");Object.keys(A).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e.exports&&e.exports[t]===A[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return A[t]}}))}));var O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=q(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("jCRp8"));e.exports.ContentHelpers=O;var D=parcelRequire("cyUK7"),P=parcelRequire("473pQ");function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(q=function(e){return e?r:t})(e)}var L=function(){return new n.MemoryCryptoStore};function U(e){var t,r,n;return e.store=null!==(t=e.store)&&void 0!==t?t:new i.MemoryStore({localStorage:$parcel$global.localStorage}),e.scheduler=null!==(r=e.scheduler)&&void 0!==r?r:new a.MatrixScheduler,e.cryptoStore=null!==(n=e.cryptoStore)&&void 0!==n?n:L(),e}})),parcelRequire.register("p8KV9",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("dVhHy"),s=parcelRequire("cDTRq"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MemoryCryptoStore=void 0;var c=u(parcelRequire("abzte")),l=parcelRequire("fKX3v"),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(){function e(){(0,n.default)(this,e),(0,c.default)(this,"outgoingRoomKeyRequests",[]),(0,c.default)(this,"account",null),(0,c.default)(this,"crossSigningKeys",null),(0,c.default)(this,"privateKeys",{}),(0,c.default)(this,"sessions",{}),(0,c.default)(this,"sessionProblems",{}),(0,c.default)(this,"notifiedErrorDevices",{}),(0,c.default)(this,"inboundGroupSessions",{}),(0,c.default)(this,"inboundGroupSessionsWithheld",{}),(0,c.default)(this,"deviceData",null),(0,c.default)(this,"rooms",{}),(0,c.default)(this,"sessionsNeedingBackup",{}),(0,c.default)(this,"sharedHistoryInboundGroupSessions",{}),(0,c.default)(this,"parkedSharedHistory",new Map)}return(0,i.default)(e,[{key:"startup",value:function(){var e=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(t){return[2,e]}))}))()}},{key:"deleteAllData",value:function(){return Promise.resolve()}},{key:"getOrAddOutgoingRoomKeyRequest",value:function(e){var t=this,r=e.requestBody;return f.promiseTry((function(){var n=t._getOutgoingRoomKeyRequest(r);return n?(l.logger.log("already have key request outstanding for "+"".concat(r.room_id," / ").concat(r.session_id,": ")+"not sending another"),n):(l.logger.log("enqueueing key request for ".concat(r.room_id," / ")+r.session_id),t.outgoingRoomKeyRequests.push(e),e)}))}},{key:"getOutgoingRoomKeyRequest",value:function(e){return Promise.resolve(this._getOutgoingRoomKeyRequest(e))}},{key:"_getOutgoingRoomKeyRequest",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.outgoingRoomKeyRequests[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(f.deepCompare(o.requestBody,e))return o}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return null}},{key:"getOutgoingRoomKeyRequestByState",value:function(e){var t=!0,r=!1,n=void 0,i=!0,a=!1,o=void 0;try{for(var s,u=this.outgoingRoomKeyRequests[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;try{for(var l,f=e[Symbol.iterator]();!(t=(l=f.next()).done);t=!0){var d=l.value;if(c.state===d)return Promise.resolve(c)}}catch(e){r=!0,n=e}finally{try{t||null==f.return||f.return()}finally{if(r)throw n}}}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return Promise.resolve(null)}},{key:"getAllOutgoingRoomKeyRequestsByState",value:function(e){return Promise.resolve(this.outgoingRoomKeyRequests.filter((function(t){return t.state==e})))}},{key:"getOutgoingRoomKeyRequestsByTarget",value:function(e,t,r){var n=[],i=!0,a=!1,o=void 0;try{for(var s,u=this.outgoingRoomKeyRequests[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=!0,f=!1,d=void 0;try{for(var h,v=r[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var p=h.value;c.state===p&&c.recipients.some((function(r){return r.userId===e&&r.deviceId===t}))&&n.push(c)}}catch(e){f=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return Promise.resolve(n)}},{key:"updateOutgoingRoomKeyRequest",value:function(e,t,r){var n=!0,i=!1,a=void 0;try{for(var o,s=this.outgoingRoomKeyRequests[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(u.requestId===e)return u.state!==t?(l.logger.warn("Cannot update room key request from ".concat(t," ")+"as it was already updated to ".concat(u.state)),Promise.resolve(null)):(Object.assign(u,r),Promise.resolve(u))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return Promise.resolve(null)}},{key:"deleteOutgoingRoomKeyRequest",value:function(e,t){for(var r=0;r<this.outgoingRoomKeyRequests.length;r++){var n=this.outgoingRoomKeyRequests[r];if(n.requestId===e)return n.state!=t?(l.logger.warn("Cannot delete room key request in state ".concat(n.state," ")+"(expected ".concat(t,")")),Promise.resolve(null)):(this.outgoingRoomKeyRequests.splice(r,1),Promise.resolve(n))}return Promise.resolve(null)}},{key:"getAccount",value:function(e,t){t(this.account)}},{key:"storeAccount",value:function(e,t){this.account=t}},{key:"getCrossSigningKeys",value:function(e,t){t(this.crossSigningKeys)}},{key:"getSecretStorePrivateKey",value:function(e,t,r){t(this.privateKeys[r]||null)}},{key:"storeCrossSigningKeys",value:function(e,t){this.crossSigningKeys=t}},{key:"storeSecretStorePrivateKey",value:function(e,t,r){this.privateKeys[t]=r}},{key:"countEndToEndSessions",value:function(e,t){t(Object.keys(this.sessions).length)}},{key:"getEndToEndSession",value:function(e,t,r,n){n((this.sessions[e]||{})[t]||null)}},{key:"getEndToEndSessions",value:function(e,t,r){r(this.sessions[e]||{})}},{key:"getAllEndToEndSessions",value:function(e,t){Object.entries(this.sessions).forEach((function(e){var r=(0,o.default)(e,2),n=r[0],i=r[1];Object.entries(i).forEach((function(e){var r=(0,o.default)(e,2),i=r[0],a=r[1];t(v(v({},a),{},{deviceKey:n,sessionId:i}))}))}))}},{key:"storeEndToEndSession",value:function(e,t,r,n){var i=this.sessions[e];void 0===i&&(i={},this.sessions[e]=i),i[t]=r}},{key:"storeEndToEndSessionProblem",value:function(e,t,n){var i=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(a){return(r=i.sessionProblems[e]=i.sessionProblems[e]||[]).push({type:t,fixed:n,time:Date.now()}),r.sort((function(e,t){return e.time-t.time})),[2]}))}))()}},{key:"getEndToEndSessionProblem",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,a,o,u,c,l,f;return(0,s.__generator)(this,(function(s){if(!(r=n.sessionProblems[e]||[]).length)return[2,null];i=r[r.length-1],a=!0,o=!1,u=void 0;try{for(c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)if((f=l.value).time>t)return[2,Object.assign({},f,{fixed:i.fixed})]}catch(e){o=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw u}}return i.fixed?[2,null]:[2,i]}))}))()}},{key:"filterOutNotifiedErrorDevices",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o,u,c,l,f,d,h;return(0,s.__generator)(this,(function(s){r=t.notifiedErrorDevices,n=[],i=!0,o=!1,u=void 0;try{for(c=e[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)f=l.value,d=f.userId,h=f.deviceInfo,d in r?h.deviceId in r[d]||(n.push(f),r[d][h.deviceId]=!0):(n.push(f),r[d]=(0,a.default)({},h.deviceId,!0))}catch(e){o=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return[2,n]}))}))()}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){var i=e+"/"+t;n(this.inboundGroupSessions[i]||null,this.inboundGroupSessionsWithheld[i]||null)}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=Object.keys(this.inboundGroupSessions)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t({senderKey:s.slice(0,43),sessionId:s.slice(44),sessionData:this.inboundGroupSessions[s]})}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}t(null)}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){var i=e+"/"+t;void 0===this.inboundGroupSessions[i]&&(this.inboundGroupSessions[i]=r)}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){this.inboundGroupSessions[e+"/"+t]=r}},{key:"storeEndToEndInboundGroupSessionWithheld",value:function(e,t,r,n){var i=e+"/"+t;this.inboundGroupSessionsWithheld[i]=r}},{key:"getEndToEndDeviceData",value:function(e,t){t(this.deviceData)}},{key:"storeEndToEndDeviceData",value:function(e,t){this.deviceData=e}},{key:"storeEndToEndRoom",value:function(e,t,r){this.rooms[e]=t}},{key:"getEndToEndRooms",value:function(e,t){t(this.rooms)}},{key:"getSessionsNeedingBackup",value:function(e){var t=[];for(var r in this.sessionsNeedingBackup)if(this.inboundGroupSessions[r]&&(t.push({senderKey:r.slice(0,43),sessionId:r.slice(44),sessionData:this.inboundGroupSessions[r]}),e&&r.length>=e))break;return Promise.resolve(t)}},{key:"countSessionsNeedingBackup",value:function(){return Promise.resolve(Object.keys(this.sessionsNeedingBackup).length)}},{key:"unmarkSessionsNeedingBackup",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=o.senderKey+"/"+o.sessionId;delete this.sessionsNeedingBackup[s]}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return Promise.resolve()}},{key:"markSessionsNeedingBackup",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=o.senderKey+"/"+o.sessionId;this.sessionsNeedingBackup[s]=!0}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return Promise.resolve()}},{key:"addSharedHistoryInboundGroupSession",value:function(e,t,r){var n=this.sharedHistoryInboundGroupSessions[e]||[];n.push([t,r]),this.sharedHistoryInboundGroupSessions[e]=n}},{key:"getSharedHistoryInboundGroupSessions",value:function(e){return Promise.resolve(this.sharedHistoryInboundGroupSessions[e]||[])}},{key:"addParkedSharedHistory",value:function(e,t){var r,n=null!==(r=this.parkedSharedHistory.get(e))&&void 0!==r?r:[];n.push(t),this.parkedSharedHistory.set(e,n)}},{key:"takeParkedSharedHistory",value:function(e){var t,r=null!==(t=this.parkedSharedHistory.get(e))&&void 0!==t?t:[];return this.parkedSharedHistory.delete(e),Promise.resolve(r)}},{key:"doTxn",value:function(e,t,r){return Promise.resolve(r(null))}}]),e}();e.exports.MemoryCryptoStore=p})),parcelRequire.register("hKgVN",(function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports})),parcelRequire.register("abzte",(function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports})),parcelRequire.register("fKX3v",(function(e,t){var r=parcelRequire("caN7I"),n=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.logger=void 0;var i=n(parcelRequire("ftPNv")),a="matrix";i.default.methodFactory=function(e,t,n){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a,o;this.prefix&&n.unshift(this.prefix);var s="error"===e||"warn"===e||"trace"===e||"info"===e;return s?(a=console)[e].apply(a,(0,r.default)(n)):(o=console).log.apply(o,(0,r.default)(n))}};var o=i.default.getLogger(a);function s(e){e.withPrefix=function(e){return function(e){var t=i.default.getLogger("".concat(a,"-").concat(e));t.prefix!==e&&(s(t),t.prefix=e,t.setLevel(i.default.levels.DEBUG,!1));return t}((this.prefix||"")+e)}}e.exports.logger=o,o.setLevel(i.default.levels.DEBUG,!1),s(o)})),parcelRequire.register("ftPNv",(function(e,t){var r=parcelRequire("dCPLc");!function(t,r){"use strict";"function"==typeof define&&define.amd?define(r):e.exports?e.exports=r():t.log=r()}(void 0,(function(){"use strict";var e=function(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}},t=function(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()},n=function(n){return"debug"===n&&(n="log"),("undefined"==typeof console?"undefined":(0,r.default)(console))!==c&&("trace"===n&&l?t:void 0!==console[n]?e(console,n):void 0!==console.log?e(console,"log"):u)},i=function(e,t){for(var r=0;r<f.length;r++){var n=f[r];this[n]=r<e?u:this.methodFactory(n,e,t)}this.log=this.debug},a=function(e,t,n){return function(){("undefined"==typeof console?"undefined":(0,r.default)(console))!==c&&(i.call(this,t,n),this[e].apply(this,arguments))}},o=function(e,t,r){return n(e)||a.apply(this,arguments)},s=function(e,t,n){var a,s=this;t=null==t?"WARN":t;var u="loglevel";function l(){var e;if(("undefined"==typeof window?"undefined":(0,r.default)(window))!==c&&u){try{e=window.localStorage[u]}catch(e){}if((void 0===e?"undefined":(0,r.default)(e))===c)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(u)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"===(void 0===e?"undefined":(0,r.default)(e))&&(u=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=n||o,s.getLevel=function(){return a},s.setLevel=function(t,n){if("string"==typeof t&&void 0!==s.levels[t.toUpperCase()]&&(t=s.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(a=t,!1!==n&&function(e){var t=(f[e]||"silent").toUpperCase();if(("undefined"==typeof window?"undefined":(0,r.default)(window))!==c&&u){try{return void(window.localStorage[u]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+t+";"}catch(e){}}}(t),i.call(s,t,e),("undefined"==typeof console?"undefined":(0,r.default)(console))===c&&t<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){t=e,l()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(t,!1),function(){if(("undefined"==typeof window?"undefined":(0,r.default)(window))!==c&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var d=l();null==d&&(d=t),s.setLevel(d,!1)},u=function(){},c="undefined",l=("undefined"==typeof window?"undefined":(0,r.default)(window))!==c&&(0,r.default)(window.navigator)!==c&&/Trident\/|MSIE /.test(window.navigator.userAgent),f=["trace","debug","info","warn","error"],d=new s,h={};d.getLogger=function(e){if("symbol"!==(void 0===e?"undefined":(0,r.default)(e))&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new s(e,d.getLevel(),d.methodFactory)),t};var v=("undefined"==typeof window?"undefined":(0,r.default)(window))!==c?window.log:void 0;return d.noConflict=function(){return("undefined"==typeof window?"undefined":(0,r.default)(window))!==c&&window.log===d&&(window.log=v),d},d.getLoggers=function(){return h},d.default=d,d}))})),parcelRequire.register("5HsbU",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("8WkQI"),i=parcelRequire("dVhHy"),a=parcelRequire("caN7I"),o=parcelRequire("dCPLc"),s=parcelRequire("cDTRq"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DEFAULT_ALPHABET=void 0,e.exports.alphabetPad=S,e.exports.averageBetweenStrings=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,n=Math.max(e.length,t.length),i=k(S(e,n,r),r),a=k(S(t,n,r),r),o=(i+a)/BigInt(2);return o===i||o==a?C(o,r)+r[0]:C(o,r)},e.exports.baseToString=C,e.exports.checkObjectHasKeys=function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!e.hasOwnProperty(s))throw new Error("Missing required key: "+s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},e.exports.chunkPromises=function(e,t){return w.apply(this,arguments)},e.exports.compare=function(e,t){return R.compare(e,t)},e.exports.decodeParams=function(e){var t={},r=new URLSearchParams(e),n=!0,i=!1,a=void 0;try{for(var o,s=r.keys()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=r.getAll(u);t[u]=1===c.length?c[0]:c}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return t},e.exports.deepCompare=function e(t,r){if(t===r)return!0;if((void 0===t?"undefined":(0,o.default)(t))!==(void 0===r?"undefined":(0,o.default)(r)))return!1;if("number"==typeof t&&isNaN(t)&&isNaN(r))return!0;if(null===t||null===r)return t===r;if(!(t instanceof Object))return!1;if(t.constructor!==r.constructor||t.prototype!==r.prototype)return!1;if(t instanceof RegExp||t instanceof Date)return t.toString()===r.toString();if(Array.isArray(t)){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1}else{for(var i in r)if(r.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;for(var a in t)if(r.hasOwnProperty(a)!==t.hasOwnProperty(a)||!e(t[a],r[a]))return!1}return!0},e.exports.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},e.exports.deepSortedObjectEntries=function e(t){if("object"!=typeof t)return t;if(null==t||Array.isArray(t))return t;var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=Object.entries(t)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=(0,i.default)(s.value,2),l=c[0],f=c[1];r.push([l,e(f)])}}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r.sort((function(e,t){return E(e[0],t[0])})),r},e.exports.defer=function(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return{resolve:e,reject:t,promise:r}},e.exports.encodeParams=function(e,t){var r=null!=t?t:new URLSearchParams,n=!0,a=!1,o=void 0;try{for(var s,u=function(){var e=(0,i.default)(s.value,2),t=e[0],n=e[1];null!=n&&(Array.isArray(n)?n.forEach((function(e){r.append(t,String(e))})):r.append(t,String(n)))},c=Object.entries(e)[Symbol.iterator]();!(n=(s=c.next()).done);n=!0)u()}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r},e.exports.encodeUri=function(e,t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];null!=n&&(e=e.replace(r,encodeURIComponent(n)))}return e},e.exports.ensureNoTrailingSlash=function(e){return null!=e&&e.endsWith("/")?e.slice(0,-1):e},e.exports.escapeRegExp=$,e.exports.globToRegexp=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[[/\\\*/g,".*"],[/\?/g,"."]];t||r.push([/\\\[(!|)(.*)\\]/g,function(e,t,r){return["[",t?"^":"",r.replace(/\\-/,"-"),"]"].join("")}]);return r.reduce((function(e,t){return t?e.replace(t[0],t[1]):e}),$(e))},e.exports.internaliseString=function(e){e instanceof String&&(e=e.toString());b.has(e)||b.set(e,e);return b.get(e)},e.exports.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.exports.isNullOrUndefined=function(e){return null==e},e.exports.isNumber=function(e){return"number"==typeof e&&isFinite(e)},e.exports.isSupportedReceiptType=function(e){return[h.ReceiptType.Read,h.ReceiptType.ReadPrivate].includes(e)},e.exports.lexicographicCompare=E,e.exports.mapsEqual=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e.size!==t.size)return!1;var n=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=(0,i.default)(s.value,2),l=c[0],f=c[1],d=t.get(l);if(void 0===d||!r(f,d))return!1}}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return!0},e.exports.nextString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;return C(k(e,t)+BigInt(1),t)},e.exports.normalize=function(e){return g(e.toLowerCase()).replace(/[\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~\u2000-\u206f\u2e00-\u2e7f]/g,"").toLowerCase()},e.exports.prevString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;return C(k(e,t)-BigInt(1),t)},e.exports.promiseMapSeries=function(e,t){return y.apply(this,arguments)},e.exports.promiseTry=function(e){return Promise.resolve(e())},e.exports.recursivelyAssign=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!0,o=!1,s=void 0;try{for(var u,c=Object.entries(r)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=(0,i.default)(u.value,2),f=l[0],d=l[1];t[f]instanceof Object&&d?e(t[f],d):null==d&&n||(t[f]=d)}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return t},e.exports.removeDirectionOverrideChars=function(e){return"string"==typeof e?e.replace(/[\u202d-\u202e]/g,""):""},e.exports.removeElement=function(e,t,r){var n;if(r){for(n=e.length-1;n>=0;n--)if(t(e[n],n,e))return e.splice(n,1),!0}else for(n=0;n<e.length;n++)if(t(e[n],n,e))return e.splice(n,1),!0;return!1},e.exports.removeHiddenChars=g,e.exports.replaceParam=function(e,t,r){var i=p(p({},r),{},(0,n.default)({},t,r[e]));return delete i[e],i},e.exports.simpleRetryOperation=function(e){return(0,f.default)((function(t){return e(t)}),{forever:!0,factor:2,minTimeout:3e3,maxTimeout:15e3})},e.exports.sleep=function(e,t){return new Promise((function(r){setTimeout(r,e,t)}))},e.exports.sortEventsByLatestContentTimestamp=function(e,t){return x(t)-x(e)},e.exports.stringToBase=k;var c=u(parcelRequire("abzte")),l=u(parcelRequire("cr8Qb")),f=u(parcelRequire("d6Ohb")),d=parcelRequire("ezQWq"),h=parcelRequire("kFcT2");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=new Map;function g(e){return"string"==typeof e?(0,l.default)(e.normalize("NFD").replace(m,"")):""}var m=/[\u2000-\u200F\u202A-\u202F\u0300-\u036F\uFEFF\u061C\u2800\u2062-\u2063\s]/g;function $(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(){return(y=(0,r.default)((function(e,t){var r,n,i,a,o,u;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:r=!0,n=!1,i=void 0,s.label=1;case 1:s.trys.push([1,7,8,9]),a=e[Symbol.iterator](),s.label=2;case 2:return(r=(o=a.next()).done)?[3,6]:[4,o.value];case 3:return[4,t.apply(void 0,[s.sent()])];case 4:s.sent(),s.label=5;case 5:return r=!0,[3,2];case 6:return[3,9];case 7:return u=s.sent(),n=!0,i=u,[3,9];case 8:try{r||null==a.return||a.return()}finally{if(n)throw i}return[7];case 9:return[2]}}))}))).apply(this,arguments)}function w(){return(w=(0,r.default)((function(e,t){var r,n,i,o,u,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:n=[],i=0,s.label=1;case 1:return i<e.length?(u=(o=(r=n).push).apply,c=[r],[4,Promise.all(e.slice(i,i+t).map((function(e){return e()})))]):[3,4];case 2:u.apply(o,c.concat([a.default.apply(void 0,[s.sent()])])),s.label=3;case 3:return i+=t,[3,1];case 4:return[2,n]}}))}))).apply(this,arguments)}var _=function(){for(var e="",t=32;t<=126;t++)e+=String.fromCharCode(t);return e}();function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return e.padEnd(t,r[0])}function C(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=BigInt(r.length);if(e<=n)return null!==(t=r[Number(e)-1])&&void 0!==t?t:"";var i=e/n,a=Number(e%n)-1;return a<0&&(i-=BigInt(Math.abs(a)),a=Number(n)-1),C(i,r)+r[a]}function k(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,r=BigInt(t.length),n=BigInt(0),i=e.length-1,a=BigInt(0);i>=0;i--,a++){var o=e.charCodeAt(i)-t.charCodeAt(0);n+=BigInt(1+o)*Math.pow(r,a)}return n}function E(e,t){return e<t?-1:e>t?1:0}e.exports.DEFAULT_ALPHABET=_;var R=new Intl.Collator;function x(e){var t;return null!==(t=d.M_TIMESTAMP.findIn(e.getContent()))&&void 0!==t?t:-1}})),parcelRequire.register("cr8Qb",(function(e,t){"use strict";var r=parcelRequire("KtCE8");var n=RegExp(Object.keys(r).map((function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")})).join("|"),"g");function i(e){return r[e]}e.exports=function(e){return e.replace(n,i)}})),parcelRequire.register("KtCE8",(function(e,t){e.exports=JSON.parse('{"0":"O","1":"l","֭":"֖","֮":"֘","֨":"֙","֤":"֚","᪴":"ۛ","⃛":"ۛ","ؙ":"̓","ࣳ":"̓","̓":"̓","̕":"̓","ُ":"̓","ٝ":"̔","֜":"́","֝":"́","ؘ":"́","݇":"́","́":"́","॔":"́","َ":"́","̀":"̀","॓":"̀","̌":"̆","꙼":"̆","٘":"̆","ٚ":"̆","ͮ":"̆","ۨ":"̆̇","̐":"̆̇","ँ":"̆̇","ঁ":"̆̇","ઁ":"̆̇","ଁ":"̆̇","ఀ":"̆̇","ಁ":"̆̇","ഁ":"̆̇","𑒿":"̆̇","᳐":"̂","̑":"̂","ٛ":"̂","߮":"̂","꛰":"̂","֯":"̊","۟":"̊","៓":"̊","゚":"̊","ْ":"̊","ஂ":"̊","ံ":"̊","ំ":"̊","𑌀":"̊","ํ":"̊","ໍ":"̊","ͦ":"̊","ⷪ":"̊","࣫":"̈","߳":"̈","ً":"̋","ࣰ":"̋","͂":"̃","ٓ":"̃","ׄ":"̇","۬":"̇","݀":"̇","࣪":"̇","݁":"̇","͘":"̇","ֹ":"̇","ֺ":"̇","ׂ":"̇","ׁ":"̇","߭":"̇","ं":"̇","ਂ":"̇","ં":"̇","்":"̇","̷":"̸","᪷":"̨","̢":"̨","ͅ":"̨","᳒":"̄","̅":"̄","ٙ":"̄","߫":"̄","꛱":"̄","᳚":"̎","ٗ":"̒","͗":"͐","ࣿ":"͐","ࣸ":"͐","ऀ":"͒","᳭":"̖","᳜":"̩","ٖ":"̩","᳕":"̫","͇":"̳","ࣹ":"͔","ࣺ":"͕","゛":"ﾞ","゜":"ﾟ","̶":"̵","〬":"̉","ׅ":"̣","࣭":"̣","᳝":"̣","ִ":"̣","ٜ":"̣","़":"̣","়":"̣","਼":"̣","઼":"̣","଼":"̣","𑇊":"̣","𑓃":"̣","𐨺":"̣","࣮":"̤","᳞":"̤","༷":"̥","〭":"̥","̧":"̦","̡":"̦","̹":"̦","᳙":"̭","᳘":"̮","॒":"̱","̠":"̱","ࣱ":"ٌ","ࣨ":"ٌ","ࣥ":"ٌ","ﱞ":"ﹲّ","ࣲ":"ٍ","ﱟ":"ﹴّ","ﳲ":"ﹷّ","ﱠ":"ﹶّ","ﳳ":"ﹹّ","ﱡ":"ﹸّ","ؚ":"ِ","̗":"ِ","ﳴ":"ﹻّ","ﱢ":"ﹺّ","ﱣ":"ﹼٰ","ٟ":"ٕ","̍":"ٰ","݂":"ܼ","ਃ":"ঃ","ః":"ঃ","ಃ":"ঃ","ഃ":"ঃ","ඃ":"ঃ","း":"ঃ","𑓁":"ঃ","់":"่","່":"่","້":"้","໊":"๊","໋":"๋","꙯":"⃩","\u2028":" ","\u2029":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" "," ":" ","ߺ":"_","﹍":"_","﹎":"_","﹏":"_","‐":"-","‑":"-","‒":"-","–":"-","﹘":"-","۔":"-","⁃":"-","˗":"-","−":"-","➖":"-","Ⲻ":"-","⨩":"-̓","⸚":"-̈","﬩":"-̇","∸":"-̇","⨪":"-̣","꓾":"-.","～":"〜","؍":",","٫":",","‚":",","¸":",","ꓹ":",","⸲":"،","٬":"،",";":";","⸵":"؛","ः":":","ઃ":":","：":":","։":":","܃":":","܄":":","᛬":":","︰":":","᠃":":","᠉":":","⁚":":","׃":":","˸":":","꞉":":","∶":":","ː":":","ꓽ":":","⩴":"::=","⧴":":→","！":"!","ǃ":"!","ⵑ":"!","‼":"!!","⁉":"!?","ʔ":"?","Ɂ":"?","ॽ":"?","Ꭾ":"?","ꛫ":"?","⁈":"?!","⁇":"??","⸮":"؟","𝅭":".","․":".","܁":".","܂":".","꘎":".","𐩐":".","٠":".","۰":".","ꓸ":".","ꓻ":".,","‥":"..","ꓺ":"..","…":"...","꛴":"꛳꛳","・":"·","･":"·","᛫":"·","·":"·","⸱":"·","𐄁":"·","•":"·","‧":"·","∙":"·","⋅":"·","ꞏ":"·","ᐧ":"·","⋯":"···","ⵈ":"···","ᑄ":"·<","⋗":"·>","ᐷ":"·>","ᑀ":"·>","ᔯ":"·4","ᑾ":"·b","ᒀ":"·ḃ","ᑺ":"·d","ᒘ":"·J","ᒶ":"·L","ᑶ":"·P","ᑗ":"·U","ᐺ":"·V","ᐼ":"·Ʌ","ᒮ":"·Γ","ᐎ":"·Δ","ᑙ":"·Ո","ᐌ":"·ᐁ","ᐐ":"·ᐄ","ᐒ":"·ᐅ","ᐔ":"·ᐆ","ᐗ":"·ᐊ","ᐙ":"·ᐋ","ᐾ":"·ᐲ","ᑂ":"·ᐴ","ᑆ":"·ᐹ","ᑛ":"·ᑏ","ᑔ":"·ᑐ","ᑝ":"·ᑐ","ᑟ":"·ᑑ","ᑡ":"·ᑕ","ᑣ":"·ᑖ","ᑴ":"·ᑫ","ᑸ":"·ᑮ","ᑼ":"·ᑰ","ᒒ":"·ᒉ","ᒔ":"·ᒋ","ᒖ":"·ᒌ","ᒚ":"·ᒎ","ᒜ":"·ᒐ","ᒞ":"·ᒑ","ᒬ":"·ᒣ","ᒰ":"·ᒦ","ᒲ":"·ᒧ","ᒴ":"·ᒨ","ᒸ":"·ᒫ","ᓉ":"·ᓀ","ᣆ":"·ᓂ","ᣈ":"·ᓃ","ᣊ":"·ᓄ","ᣌ":"·ᓅ","ᓋ":"·ᓇ","ᓍ":"·ᓈ","ᓜ":"·ᓓ","ᓞ":"·ᓕ","ᓠ":"·ᓖ","ᓢ":"·ᓗ","ᓤ":"·ᓘ","ᓦ":"·ᓚ","ᓨ":"·ᓛ","ᓶ":"·ᓭ","ᓸ":"·ᓯ","ᓺ":"·ᓰ","ᓼ":"·ᓱ","ᓾ":"·ᓲ","ᔀ":"·ᓴ","ᔂ":"·ᓵ","ᔗ":"·ᔐ","ᔙ":"·ᔑ","ᔛ":"·ᔒ","ᔝ":"·ᔓ","ᔟ":"·ᔔ","ᔡ":"·ᔕ","ᔣ":"·ᔖ","ᔱ":"·ᔨ","ᔳ":"·ᔩ","ᔵ":"·ᔪ","ᔷ":"·ᔫ","ᔹ":"·ᔭ","ᔻ":"·ᔮ","ᣎ":"·ᕃ","ᣏ":"·ᕆ","ᣐ":"·ᕇ","ᣑ":"·ᕈ","ᣒ":"·ᕉ","ᣓ":"·ᕋ","ᕎ":"·ᕌ","ᕛ":"·ᕚ","ᕨ":"·ᕧ","ᢳ":"·ᢱ","ᢶ":"·ᢴ","ᢹ":"·ᢸ","ᣂ":"·ᣀ","꠰":"।","॥":"।।","᰼":"᰻᰻","။":"၊၊","᪩":"᪨᪨","᪫":"᪪᪨","᭟":"᭞᭞","𐩗":"𐩖𐩖","𑑌":"𑑋𑑋","𑙂":"𑙁𑙁","𑱂":"𑱁𑱁","᱿":"᱾᱾","՝":"\'","＇":"\'","‘":"\'","’":"\'","‛":"\'","′":"\'","‵":"\'","՚":"\'","׳":"\'","`":"\'","`":"\'","｀":"\'","´":"\'","΄":"\'","´":"\'","᾽":"\'","᾿":"\'","῾":"\'","ʹ":"\'","ʹ":"\'","ˈ":"\'","ˊ":"\'","ˋ":"\'","˴":"\'","ʻ":"\'","ʽ":"\'","ʼ":"\'","ʾ":"\'","ꞌ":"\'","י":"\'","ߴ":"\'","ߵ":"\'","ᑊ":"\'","ᛌ":"\'","𖽑":"\'","𖽒":"\'","᳓":"\'\'","\\"":"\'\'","＂":"\'\'","“":"\'\'","”":"\'\'","‟":"\'\'","″":"\'\'","‶":"\'\'","〃":"\'\'","״":"\'\'","˝":"\'\'","ʺ":"\'\'","˶":"\'\'","ˮ":"\'\'","ײ":"\'\'","‴":"\'\'\'","‷":"\'\'\'","⁗":"\'\'\'\'","Ɓ":"\'B","Ɗ":"\'D","ŉ":"\'n","Ƥ":"\'P","Ƭ":"\'T","Ƴ":"\'Y","［":"(","❨":"(","❲":"(","〔":"(","﴾":"(","⸨":"((","㈠":"(ー)","⑵":"(2)","⒇":"(2O)","⑶":"(3)","⑷":"(4)","⑸":"(5)","⑹":"(6)","⑺":"(7)","⑻":"(8)","⑼":"(9)","⒜":"(a)","🄐":"(A)","⒝":"(b)","🄑":"(B)","⒞":"(c)","🄒":"(C)","⒟":"(d)","🄓":"(D)","⒠":"(e)","🄔":"(E)","⒡":"(f)","🄕":"(F)","⒢":"(g)","🄖":"(G)","⒣":"(h)","🄗":"(H)","⒤":"(i)","⒥":"(j)","🄙":"(J)","⒦":"(k)","🄚":"(K)","⑴":"(l)","🄘":"(l)","⒧":"(l)","🄛":"(L)","⑿":"(l2)","⒀":"(l3)","⒁":"(l4)","⒂":"(l5)","⒃":"(l6)","⒄":"(l7)","⒅":"(l8)","⒆":"(l9)","⑾":"(ll)","⑽":"(lO)","🄜":"(M)","⒩":"(n)","🄝":"(N)","⒪":"(o)","🄞":"(O)","⒫":"(p)","🄟":"(P)","⒬":"(q)","🄠":"(Q)","⒭":"(r)","🄡":"(R)","⒨":"(rn)","⒮":"(s)","🄢":"(S)","🄪":"(S)","⒯":"(t)","🄣":"(T)","⒰":"(u)","🄤":"(U)","⒱":"(v)","🄥":"(V)","⒲":"(w)","🄦":"(W)","⒳":"(x)","🄧":"(X)","⒴":"(y)","🄨":"(Y)","⒵":"(z)","🄩":"(Z)","㈀":"(ᄀ)","㈎":"(가)","㈁":"(ᄂ)","㈏":"(나)","㈂":"(ᄃ)","㈐":"(다)","㈃":"(ᄅ)","㈑":"(라)","㈄":"(ᄆ)","㈒":"(마)","㈅":"(ᄇ)","㈓":"(바)","㈆":"(ᄉ)","㈔":"(사)","㈇":"(ᄋ)","㈕":"(아)","㈝":"(오전)","㈞":"(오후)","㈈":"(ᄌ)","㈖":"(자)","㈜":"(주)","㈉":"(ᄎ)","㈗":"(차)","㈊":"(ᄏ)","㈘":"(카)","㈋":"(ᄐ)","㈙":"(타)","㈌":"(ᄑ)","㈚":"(파)","㈍":"(ᄒ)","㈛":"(하)","㈦":"(七)","㈢":"(三)","🉁":"(三)","㈨":"(九)","㈡":"(二)","🉂":"(二)","㈤":"(五)","㈹":"(代)","㈽":"(企)","㉁":"(休)","㈧":"(八)","㈥":"(六)","㈸":"(労)","🉇":"(勝)","㈩":"(十)","㈿":"(協)","㈴":"(名)","㈺":"(呼)","㈣":"(四)","㈯":"(土)","㈻":"(学)","🉃":"(安)","🉅":"(打)","🉈":"(敗)","㈰":"(日)","㈪":"(月)","㈲":"(有)","㈭":"(木)","🉀":"(本)","㈱":"(株)","㈬":"(水)","㈫":"(火)","🉄":"(点)","㈵":"(特)","🉆":"(盗)","㈼":"(監)","㈳":"(社)","㈷":"(祝)","㉀":"(祭)","㉂":"(自)","㉃":"(至)","㈶":"(財)","㈾":"(資)","㈮":"(金)","］":")","❩":")","❳":")","〕":")","﴿":")","⸩":"))","❴":"{","𝄔":"{","❵":"}","〚":"⟦","〛":"⟧","⟨":"❬","〈":"❬","〈":"❬","㇛":"❬","く":"❬","𡿨":"❬","⟩":"❭","〉":"❭","〉":"❭","＾":"︿","⸿":"¶","⁎":"*","٭":"*","∗":"*","𐌟":"*","᜵":"/","⁁":"/","∕":"/","⁄":"/","╱":"/","⟋":"/","⧸":"/","𝈺":"/","㇓":"/","〳":"/","Ⳇ":"/","ノ":"/","丿":"/","⼃":"/","⧶":"/̄","⫽":"//","⫻":"///","＼":"\\\\","﹨":"\\\\","∖":"\\\\","⟍":"\\\\","⧵":"\\\\","⧹":"\\\\","𝈏":"\\\\","𝈻":"\\\\","㇔":"\\\\","丶":"\\\\","⼂":"\\\\","⳹":"\\\\\\\\","⑊":"\\\\\\\\","⟈":"\\\\ᑕ","ꝸ":"&","૰":"॰","𑂻":"॰","𑇇":"॰","⚬":"॰","𑇛":"꣼","៙":"๏","៕":"๚","៚":"๛","༌":"་","༎":"།།","˄":"^","ˆ":"^","꙾":"ˇ","˘":"ˇ","‾":"ˉ","﹉":"ˉ","﹊":"ˉ","﹋":"ˉ","﹌":"ˉ","¯":"ˉ","￣":"ˉ","▔":"ˉ","ъ":"ˉb","ꙑ":"ˉbi","͵":"ˏ","˻":"˪","꜖":"˪","꜔":"˫","。":"˳","⸰":"°","˚":"°","∘":"°","○":"°","◦":"°","⍜":"°̲","⍤":"°̈","℃":"°C","℉":"°F","௵":"௳","༛":"༚༚","༟":"༚༝","࿎":"༝༚","༞":"༝༝","Ⓒ":"©","Ⓡ":"®","Ⓟ":"℗","𝈛":"⅄","⯬":"↞","⯭":"↟","⯮":"↠","⯯":"↡","↵":"↲","⥥":"⇃⇂","⥯":"⇃ᛚ","𝛛":"∂","𝜕":"∂","𝝏":"∂","𝞉":"∂","𝟃":"∂","𞣌":"∂","𞣍":"∂̵","ð":"∂̵","⌀":"∅","𝛁":"∇","𝛻":"∇","𝜵":"∇","𝝯":"∇","𝞩":"∇","𑢨":"∇","⍢":"∇̈","⍫":"∇̴","█":"∎","■":"∎","⨿":"∐","᛭":"+","➕":"+","𐊛":"+","⨣":"+̂","⨢":"+̊","⨤":"+̃","∔":"+̇","⨥":"+̣","⨦":"+̰","⨧":"+₂","➗":"÷","‹":"<","❮":"<","˂":"<","𝈶":"<","ᐸ":"<","ᚲ":"<","⋖":"<·","Ⲵ":"<·","ᑅ":"<·","≪":"<<","⋘":"<<<","᐀":"=","⹀":"=","゠":"=","꓿":"=","≚":"=̆","≙":"=̂","≗":"=̊","≐":"=̇","≑":"=̣̇","⩮":"=⃰","⩵":"==","⩶":"===","≞":"=ͫ","›":">","❯":">","˃":">","𝈷":">","ᐳ":">","𖼿":">","ᑁ":">·","⪥":"><","≫":">>","⨠":">>","⋙":">>>","⁓":"~","˜":"~","῀":"~","∼":"~","⍨":"~̈","⸞":"~̇","⩪":"~̇","⸟":"~̣","𞣈":"∠","⋀":"∧","∯":"∮∮","∰":"∮∮∮","⸫":"∴","⸪":"∵","⸬":"∷","𑇞":"≈","♎":"≏","🝞":"≏","≣":"≡","⨃":"⊍","⨄":"⊎","𝈸":"⊏","𝈹":"⊐","⨅":"⊓","⨆":"⊔","⨂":"⊗","⍟":"⊛","🝱":"⊠","🝕":"⊡","◁":"⊲","▷":"⊳","⍣":"⋆̈","︴":"⌇","◠":"⌒","⨽":"⌙","⌥":"⌤","⧇":"⌻","◎":"⌾","⦾":"⌾","⧅":"⍂","⦰":"⍉","⏃":"⍋","⏂":"⍎","⏁":"⍕","⏆":"⍭","☸":"⎈","︵":"⏜","︶":"⏝","︷":"⏞","︸":"⏟","︹":"⏠","︺":"⏡","▱":"⏥","⏼":"⏻","︱":"│","｜":"│","┃":"│","┏":"┌","┣":"├","▐":"▌","▗":"▖","▝":"▘","☐":"□","￭":"▪","▸":"▶","►":"▶","⳩":"☧","🜊":"☩","🌒":"☽","🌙":"☽","⏾":"☾","🌘":"☾","⧙":"⦚","🜺":"⧟","⨾":"⨟","𐆠":"⳨","♩":"𝅘𝅥","♪":"𝅘𝅥𝅮","⓪":"🄍","↺":"🄎","˙":"ॱ","ൎ":"ॱ","－":"ー","—":"ー","―":"ー","─":"ー","━":"ー","㇐":"ー","ꟷ":"ー","ᅳ":"ー","ㅡ":"ー","一":"ー","⼀":"ー","ᆖ":"ーー","ힹ":"ーᅡ","ힺ":"ーᅥ","ힻ":"ーᅥ丨","ힼ":"ーᅩ","ᆕ":"ーᅮ","ᅴ":"ー丨","ㅢ":"ー丨","ᆗ":"ー丨ᅮ","🄏":"$⃠","₤":"£","〒":"₸","〶":"₸","᭜":"᭐","꧆":"꧐","𑓑":"১","೧":"౧","ၥ":"၁","①":"➀","⑩":"➉","⏨":"₁₀","𝟐":"2","𝟚":"2","𝟤":"2","𝟮":"2","𝟸":"2","🯲":"2","Ꝛ":"2","Ƨ":"2","Ϩ":"2","Ꙅ":"2","ᒿ":"2","ꛯ":"2","ꧏ":"٢","۲":"٢","૨":"२","𑓒":"২","೨":"౨","②":"➁","ƻ":"2̵","🄃":"2,","⒉":"2.","㏵":"22日","㍮":"22点","㏶":"23日","㍯":"23点","㏷":"24日","㍰":"24点","㏸":"25日","㏹":"26日","㏺":"27日","㏻":"28日","㏼":"29日","㏴":"2l日","㍭":"2l点","⒛":"2O.","㏳":"2O日","㍬":"2O点","෩":"෨ා","෯":"෨ී","㏡":"2日","㋁":"2月","㍚":"2点","𝈆":"3","𝟑":"3","𝟛":"3","𝟥":"3","𝟯":"3","𝟹":"3","🯳":"3","Ɜ":"3","Ȝ":"3","Ʒ":"3","Ꝫ":"3","Ⳍ":"3","З":"3","Ӡ":"3","𖼻":"3","𑣊":"3","۳":"٣","𞣉":"٣","૩":"३","③":"➂","Ҙ":"3̦","🄄":"3,","⒊":"3.","㏾":"3l日","㏽":"3O日","㏢":"3日","㋂":"3月","㍛":"3点","𝟒":"4","𝟜":"4","𝟦":"4","𝟰":"4","𝟺":"4","🯴":"4","Ꮞ":"4","𑢯":"4","۴":"٤","૪":"४","④":"➃","🄅":"4,","⒋":"4.","ᔰ":"4·","㏣":"4日","㋃":"4月","㍜":"4点","𝟓":"5","𝟝":"5","𝟧":"5","𝟱":"5","𝟻":"5","🯵":"5","Ƽ":"5","𑢻":"5","⑤":"➄","🄆":"5,","⒌":"5.","㏤":"5日","㋄":"5月","㍝":"5点","𝟔":"6","𝟞":"6","𝟨":"6","𝟲":"6","𝟼":"6","🯶":"6","Ⳓ":"6","б":"6","Ꮾ":"6","𑣕":"6","۶":"٦","𑓖":"৬","⑥":"➅","🄇":"6,","⒍":"6.","㏥":"6日","㋅":"6月","㍞":"6点","𝈒":"7","𝟕":"7","𝟟":"7","𝟩":"7","𝟳":"7","𝟽":"7","🯷":"7","𐓒":"7","𑣆":"7","⑦":"➆","🄈":"7,","⒎":"7.","㏦":"7日","㋆":"7月","㍟":"7点","ଃ":"8","৪":"8","੪":"8","𞣋":"8","𝟖":"8","𝟠":"8","𝟪":"8","𝟴":"8","𝟾":"8","🯸":"8","ȣ":"8","Ȣ":"8","𐌚":"8","૮":"८","⑧":"➇","🄉":"8,","⒏":"8.","㏧":"8日","㋇":"8月","㍠":"8点","੧":"9","୨":"9","৭":"9","൭":"9","𝟗":"9","𝟡":"9","𝟫":"9","𝟵":"9","𝟿":"9","🯹":"9","Ꝯ":"9","Ⳋ":"9","𑣌":"9","𑢬":"9","𑣖":"9","१":"٩","𑣤":"٩","۹":"٩","೯":"౯","⑨":"➈","🄊":"9,","⒐":"9.","㏨":"9日","㋈":"9月","㍡":"9点","⍺":"a","ａ":"a","𝐚":"a","𝑎":"a","𝒂":"a","𝒶":"a","𝓪":"a","𝔞":"a","𝕒":"a","𝖆":"a","𝖺":"a","𝗮":"a","𝘢":"a","𝙖":"a","𝚊":"a","ɑ":"a","α":"a","𝛂":"a","𝛼":"a","𝜶":"a","𝝰":"a","𝞪":"a","а":"a","ⷶ":"ͣ","Ａ":"A","𝐀":"A","𝐴":"A","𝑨":"A","𝒜":"A","𝓐":"A","𝔄":"A","𝔸":"A","𝕬":"A","𝖠":"A","𝗔":"A","𝘈":"A","𝘼":"A","𝙰":"A","Α":"A","𝚨":"A","𝛢":"A","𝜜":"A","𝝖":"A","𝞐":"A","А":"A","Ꭺ":"A","ᗅ":"A","ꓮ":"A","𖽀":"A","𐊠":"A","⍶":"a̲","ǎ":"ă","Ǎ":"Ă","ȧ":"å","Ȧ":"Å","ẚ":"ả","℀":"a/c","℁":"a/s","ꜳ":"aa","Ꜳ":"AA","æ":"ae","ӕ":"ae","Æ":"AE","Ӕ":"AE","ꜵ":"ao","Ꜵ":"AO","🜇":"AR","ꜷ":"au","Ꜷ":"AU","ꜹ":"av","ꜻ":"av","Ꜹ":"AV","Ꜻ":"AV","ꜽ":"ay","Ꜽ":"AY","ꭺ":"ᴀ","∀":"Ɐ","𝈗":"Ɐ","ᗄ":"Ɐ","ꓯ":"Ɐ","𐐟":"Ɒ","𝐛":"b","𝑏":"b","𝒃":"b","𝒷":"b","𝓫":"b","𝔟":"b","𝕓":"b","𝖇":"b","𝖻":"b","𝗯":"b","𝘣":"b","𝙗":"b","𝚋":"b","Ƅ":"b","Ь":"b","Ꮟ":"b","ᑲ":"b","ᖯ":"b","Ｂ":"B","ℬ":"B","𝐁":"B","𝐵":"B","𝑩":"B","𝓑":"B","𝔅":"B","𝔹":"B","𝕭":"B","𝖡":"B","𝗕":"B","𝘉":"B","𝘽":"B","𝙱":"B","Ꞵ":"B","Β":"B","𝚩":"B","𝛣":"B","𝜝":"B","𝝗":"B","𝞑":"B","В":"B","Ᏼ":"B","ᗷ":"B","ꓐ":"B","𐊂":"B","𐊡":"B","𐌁":"B","ɓ":"b̔","ᑳ":"ḃ","ƃ":"b̄","Ƃ":"b̄","Б":"b̄","ƀ":"b̵","ҍ":"b̵","Ҍ":"b̵","ѣ":"b̵","Ѣ":"b̵","ᑿ":"b·","ᒁ":"ḃ·","ᒈ":"b\'","Ы":"bl","в":"ʙ","ᏼ":"ʙ","ｃ":"c","ⅽ":"c","𝐜":"c","𝑐":"c","𝒄":"c","𝒸":"c","𝓬":"c","𝔠":"c","𝕔":"c","𝖈":"c","𝖼":"c","𝗰":"c","𝘤":"c","𝙘":"c","𝚌":"c","ᴄ":"c","ϲ":"c","ⲥ":"c","с":"c","ꮯ":"c","𐐽":"c","ⷭ":"ͨ","🝌":"C","𑣲":"C","𑣩":"C","Ｃ":"C","Ⅽ":"C","ℂ":"C","ℭ":"C","𝐂":"C","𝐶":"C","𝑪":"C","𝒞":"C","𝓒":"C","𝕮":"C","𝖢":"C","𝗖":"C","𝘊":"C","𝘾":"C","𝙲":"C","Ϲ":"C","Ⲥ":"C","С":"C","Ꮯ":"C","ꓚ":"C","𐊢":"C","𐌂":"C","𐐕":"C","𐔜":"C","¢":"c̸","ȼ":"c̸","₡":"C⃫","🅮":"C⃠","ç":"c̦","ҫ":"c̦","Ç":"C̦","Ҫ":"C̦","Ƈ":"C\'","℅":"c/o","℆":"c/u","🅭":"㏄\\t⃝","⋴":"ꞓ","ɛ":"ꞓ","ε":"ꞓ","ϵ":"ꞓ","𝛆":"ꞓ","𝛜":"ꞓ","𝜀":"ꞓ","𝜖":"ꞓ","𝜺":"ꞓ","𝝐":"ꞓ","𝝴":"ꞓ","𝞊":"ꞓ","𝞮":"ꞓ","𝟄":"ꞓ","ⲉ":"ꞓ","є":"ꞓ","ԑ":"ꞓ","ꮛ":"ꞓ","𑣎":"ꞓ","𐐩":"ꞓ","€":"Ꞓ","Ⲉ":"Ꞓ","Є":"Ꞓ","⍷":"ꞓ̲","ͽ":"ꜿ","Ͽ":"Ꜿ","ⅾ":"d","ⅆ":"d","𝐝":"d","𝑑":"d","𝒅":"d","𝒹":"d","𝓭":"d","𝔡":"d","𝕕":"d","𝖉":"d","𝖽":"d","𝗱":"d","𝘥":"d","𝙙":"d","𝚍":"d","ԁ":"d","Ꮷ":"d","ᑯ":"d","ꓒ":"d","Ⅾ":"D","ⅅ":"D","𝐃":"D","𝐷":"D","𝑫":"D","𝒟":"D","𝓓":"D","𝔇":"D","𝔻":"D","𝕯":"D","𝖣":"D","𝗗":"D","𝘋":"D","𝘿":"D","𝙳":"D","Ꭰ":"D","ᗞ":"D","ᗪ":"D","ꓓ":"D","ɗ":"d̔","ɖ":"d̨","ƌ":"d̄","đ":"d̵","Đ":"D̵","Ð":"D̵","Ɖ":"D̵","₫":"ḏ̵","ꝺ":"Ꝺ","ᑻ":"d·","ᒇ":"d\'","ʤ":"dȝ","ǳ":"dz","ʣ":"dz","ǲ":"Dz","Ǳ":"DZ","ǆ":"dž","ǅ":"Dž","Ǆ":"DŽ","ʥ":"dʑ","ꭰ":"ᴅ","⸹":"ẟ","δ":"ẟ","𝛅":"ẟ","𝛿":"ẟ","𝜹":"ẟ","𝝳":"ẟ","𝞭":"ẟ","ծ":"ẟ","ᕷ":"ẟ","℮":"e","ｅ":"e","ℯ":"e","ⅇ":"e","𝐞":"e","𝑒":"e","𝒆":"e","𝓮":"e","𝔢":"e","𝕖":"e","𝖊":"e","𝖾":"e","𝗲":"e","𝘦":"e","𝙚":"e","𝚎":"e","ꬲ":"e","е":"e","ҽ":"e","ⷷ":"ͤ","⋿":"E","Ｅ":"E","ℰ":"E","𝐄":"E","𝐸":"E","𝑬":"E","𝓔":"E","𝔈":"E","𝔼":"E","𝕰":"E","𝖤":"E","𝗘":"E","𝘌":"E","𝙀":"E","𝙴":"E","Ε":"E","𝚬":"E","𝛦":"E","𝜠":"E","𝝚":"E","𝞔":"E","Е":"E","ⴹ":"E","Ꭼ":"E","ꓰ":"E","𑢦":"E","𑢮":"E","𐊆":"E","ě":"ĕ","Ě":"Ĕ","ɇ":"e̸","Ɇ":"E̸","ҿ":"ę","ꭼ":"ᴇ","ə":"ǝ","ә":"ǝ","∃":"Ǝ","ⴺ":"Ǝ","ꓱ":"Ǝ","ɚ":"ǝ˞","ᴔ":"ǝo","ꭁ":"ǝo̸","ꭂ":"ǝo̵","Ә":"Ə","𝈡":"Ɛ","ℇ":"Ɛ","Ԑ":"Ɛ","Ꮛ":"Ɛ","𖼭":"Ɛ","𐐁":"Ɛ","ᶟ":"ᵋ","ᴈ":"ɜ","з":"ɜ","ҙ":"ɜ̦","𐑂":"ɞ","ꞝ":"ʚ","𐐪":"ʚ","𝐟":"f","𝑓":"f","𝒇":"f","𝒻":"f","𝓯":"f","𝔣":"f","𝕗":"f","𝖋":"f","𝖿":"f","𝗳":"f","𝘧":"f","𝙛":"f","𝚏":"f","ꬵ":"f","ꞙ":"f","ſ":"f","ẝ":"f","ք":"f","𝈓":"F","ℱ":"F","𝐅":"F","𝐹":"F","𝑭":"F","𝓕":"F","𝔉":"F","𝔽":"F","𝕱":"F","𝖥":"F","𝗙":"F","𝘍":"F","𝙁":"F","𝙵":"F","Ꞙ":"F","Ϝ":"F","𝟊":"F","ᖴ":"F","ꓝ":"F","𑣂":"F","𑢢":"F","𐊇":"F","𐊥":"F","𐔥":"F","ƒ":"f̦","Ƒ":"F̦","ᵮ":"f̴","℻":"FAX","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ʩ":"fŋ","ᖵ":"Ⅎ","ꓞ":"Ⅎ","𝈰":"ꟻ","ᖷ":"ꟻ","ｇ":"g","ℊ":"g","𝐠":"g","𝑔":"g","𝒈":"g","𝓰":"g","𝔤":"g","𝕘":"g","𝖌":"g","𝗀":"g","𝗴":"g","𝘨":"g","𝙜":"g","𝚐":"g","ɡ":"g","ᶃ":"g","ƍ":"g","ց":"g","𝐆":"G","𝐺":"G","𝑮":"G","𝒢":"G","𝓖":"G","𝔊":"G","𝔾":"G","𝕲":"G","𝖦":"G","𝗚":"G","𝘎":"G","𝙂":"G","𝙶":"G","Ԍ":"G","Ꮐ":"G","Ᏻ":"G","ꓖ":"G","ᶢ":"ᵍ","ɠ":"g̔","ǧ":"ğ","Ǧ":"Ğ","ǵ":"ģ","ǥ":"g̵","Ǥ":"G̵","Ɠ":"G\'","ԍ":"ɢ","ꮐ":"ɢ","ᏻ":"ɢ","ｈ":"h","ℎ":"h","𝐡":"h","𝒉":"h","𝒽":"h","𝓱":"h","𝔥":"h","𝕙":"h","𝖍":"h","𝗁":"h","𝗵":"h","𝘩":"h","𝙝":"h","𝚑":"h","һ":"h","հ":"h","Ꮒ":"h","Ｈ":"H","ℋ":"H","ℌ":"H","ℍ":"H","𝐇":"H","𝐻":"H","𝑯":"H","𝓗":"H","𝕳":"H","𝖧":"H","𝗛":"H","𝘏":"H","𝙃":"H","𝙷":"H","Η":"H","𝚮":"H","𝛨":"H","𝜢":"H","𝝜":"H","𝞖":"H","Ⲏ":"H","Н":"H","Ꮋ":"H","ᕼ":"H","ꓧ":"H","𐋏":"H","ᵸ":"ᴴ","ɦ":"h̔","ꚕ":"h̔","Ᏺ":"h̔","Ⱨ":"H̩","Ң":"H̩","ħ":"h̵","ℏ":"h̵","ћ":"h̵","Ħ":"H̵","Ӊ":"H̦","Ӈ":"H̦","н":"ʜ","ꮋ":"ʜ","ң":"ʜ̩","ӊ":"ʜ̦","ӈ":"ʜ̦","Ԋ":"Ƕ","ꮀ":"ⱶ","Ͱ":"Ⱶ","Ꭸ":"Ⱶ","Ꮀ":"Ⱶ","ꚱ":"Ⱶ","ꞕ":"ꜧ","˛":"i","⍳":"i","ｉ":"i","ⅰ":"i","ℹ":"i","ⅈ":"i","𝐢":"i","𝑖":"i","𝒊":"i","𝒾":"i","𝓲":"i","𝔦":"i","𝕚":"i","𝖎":"i","𝗂":"i","𝗶":"i","𝘪":"i","𝙞":"i","𝚒":"i","ı":"i","𝚤":"i","ɪ":"i","ɩ":"i","ι":"i","ι":"i","ͺ":"i","𝛊":"i","𝜄":"i","𝜾":"i","𝝸":"i","𝞲":"i","і":"i","ꙇ":"i","ӏ":"i","ꭵ":"i","Ꭵ":"i","𑣃":"i","ⓛ":"Ⓘ","⍸":"i̲","ǐ":"ĭ","Ǐ":"Ĭ","ɨ":"i̵","ᵻ":"i̵","ᵼ":"i̵","ⅱ":"ii","ⅲ":"iii","ĳ":"ij","ⅳ":"iv","ⅸ":"ix","ｊ":"j","ⅉ":"j","𝐣":"j","𝑗":"j","𝒋":"j","𝒿":"j","𝓳":"j","𝔧":"j","𝕛":"j","𝖏":"j","𝗃":"j","𝗷":"j","𝘫":"j","𝙟":"j","𝚓":"j","ϳ":"j","ј":"j","Ｊ":"J","𝐉":"J","𝐽":"J","𝑱":"J","𝒥":"J","𝓙":"J","𝔍":"J","𝕁":"J","𝕵":"J","𝖩":"J","𝗝":"J","𝘑":"J","𝙅":"J","𝙹":"J","Ʝ":"J","Ϳ":"J","Ј":"J","Ꭻ":"J","ᒍ":"J","ꓙ":"J","ɉ":"j̵","Ɉ":"J̵","ᒙ":"J·","𝚥":"ȷ","յ":"ȷ","ꭻ":"ᴊ","𝐤":"k","𝑘":"k","𝒌":"k","𝓀":"k","𝓴":"k","𝔨":"k","𝕜":"k","𝖐":"k","𝗄":"k","𝗸":"k","𝘬":"k","𝙠":"k","𝚔":"k","K":"K","Ｋ":"K","𝐊":"K","𝐾":"K","𝑲":"K","𝒦":"K","𝓚":"K","𝔎":"K","𝕂":"K","𝕶":"K","𝖪":"K","𝗞":"K","𝘒":"K","𝙆":"K","𝙺":"K","Κ":"K","𝚱":"K","𝛫":"K","𝜥":"K","𝝟":"K","𝞙":"K","Ⲕ":"K","К":"K","Ꮶ":"K","ᛕ":"K","ꓗ":"K","𐔘":"K","ƙ":"k̔","Ⱪ":"K̩","Қ":"K̩","₭":"K̵","Ꝁ":"K̵","Ҟ":"K̵","Ƙ":"K\'","׀":"l","|":"l","∣":"l","⏽":"l","￨":"l","١":"l","۱":"l","𐌠":"l","𞣇":"l","𝟏":"l","𝟙":"l","𝟣":"l","𝟭":"l","𝟷":"l","🯱":"l","I":"l","Ｉ":"l","Ⅰ":"l","ℐ":"l","ℑ":"l","𝐈":"l","𝐼":"l","𝑰":"l","𝓘":"l","𝕀":"l","𝕴":"l","𝖨":"l","𝗜":"l","𝘐":"l","𝙄":"l","𝙸":"l","Ɩ":"l","ｌ":"l","ⅼ":"l","ℓ":"l","𝐥":"l","𝑙":"l","𝒍":"l","𝓁":"l","𝓵":"l","𝔩":"l","𝕝":"l","𝖑":"l","𝗅":"l","𝗹":"l","𝘭":"l","𝙡":"l","𝚕":"l","ǀ":"l","Ι":"l","𝚰":"l","𝛪":"l","𝜤":"l","𝝞":"l","𝞘":"l","Ⲓ":"l","І":"l","Ӏ":"l","ו":"l","ן":"l","ا":"l","𞸀":"l","𞺀":"l","ﺎ":"l","ﺍ":"l","ߊ":"l","ⵏ":"l","ᛁ":"l","ꓲ":"l","𖼨":"l","𐊊":"l","𐌉":"l","𝈪":"L","Ⅼ":"L","ℒ":"L","𝐋":"L","𝐿":"L","𝑳":"L","𝓛":"L","𝔏":"L","𝕃":"L","𝕷":"L","𝖫":"L","𝗟":"L","𝘓":"L","𝙇":"L","𝙻":"L","Ⳑ":"L","Ꮮ":"L","ᒪ":"L","ꓡ":"L","𖼖":"L","𑢣":"L","𑢲":"L","𐐛":"L","𐔦":"L","ﴼ":"l̋","ﴽ":"l̋","ł":"l̸","Ł":"L̸","ɭ":"l̨","Ɨ":"l̵","ƚ":"l̵","ɫ":"l̴","إ":"lٕ","ﺈ":"lٕ","ﺇ":"lٕ","ٳ":"lٕ","ŀ":"l·","Ŀ":"l·","ᒷ":"l·","🄂":"l,","⒈":"l.","ױ":"l\'","⒓":"l2.","㏫":"l2日","㋋":"l2月","㍤":"l2点","⒔":"l3.","㏬":"l3日","㍥":"l3点","⒕":"l4.","㏭":"l4日","㍦":"l4点","⒖":"l5.","㏮":"l5日","㍧":"l5点","⒗":"l6.","㏯":"l6日","㍨":"l6点","⒘":"l7.","㏰":"l7日","㍩":"l7点","⒙":"l8.","㏱":"l8日","㍪":"l8点","⒚":"l9.","㏲":"l9日","㍫":"l9点","ǉ":"lj","Ĳ":"lJ","ǈ":"Lj","Ǉ":"LJ","‖":"ll","∥":"ll","Ⅱ":"ll","ǁ":"ll","װ":"ll","𐆙":"l̵l̵","⒒":"ll.","Ⅲ":"lll","𐆘":"l̵l̵S̵","㏪":"ll日","㋊":"ll月","㍣":"ll点","Ю":"lO","⒑":"lO.","㏩":"lO日","㋉":"lO月","㍢":"lO点","ʪ":"ls","₶":"lt","Ⅳ":"lV","Ⅸ":"lX","ɮ":"lȝ","ʫ":"lz","أ":"lٴ","ﺄ":"lٴ","ﺃ":"lٴ","ٲ":"lٴ","ٵ":"lٴ","ﷳ":"lكبر","ﷲ":"lللّٰo","㏠":"l日","㋀":"l月","㍙":"l点","ⳑ":"ʟ","ꮮ":"ʟ","𐑃":"ʟ","Ｍ":"M","Ⅿ":"M","ℳ":"M","𝐌":"M","𝑀":"M","𝑴":"M","𝓜":"M","𝔐":"M","𝕄":"M","𝕸":"M","𝖬":"M","𝗠":"M","𝘔":"M","𝙈":"M","𝙼":"M","Μ":"M","𝚳":"M","𝛭":"M","𝜧":"M","𝝡":"M","𝞛":"M","Ϻ":"M","Ⲙ":"M","М":"M","Ꮇ":"M","ᗰ":"M","ᛖ":"M","ꓟ":"M","𐊰":"M","𐌑":"M","Ӎ":"M̦","🝫":"MB","ⷨ":"ᷟ","𝐧":"n","𝑛":"n","𝒏":"n","𝓃":"n","𝓷":"n","𝔫":"n","𝕟":"n","𝖓":"n","𝗇":"n","𝗻":"n","𝘯":"n","𝙣":"n","𝚗":"n","ո":"n","ռ":"n","Ｎ":"N","ℕ":"N","𝐍":"N","𝑁":"N","𝑵":"N","𝒩":"N","𝓝":"N","𝔑":"N","𝕹":"N","𝖭":"N","𝗡":"N","𝘕":"N","𝙉":"N","𝙽":"N","Ν":"N","𝚴":"N","𝛮":"N","𝜨":"N","𝝢":"N","𝞜":"N","Ⲛ":"N","ꓠ":"N","𐔓":"N","𐆎":"N̊","ɳ":"n̨","ƞ":"n̩","η":"n̩","𝛈":"n̩","𝜂":"n̩","𝜼":"n̩","𝝶":"n̩","𝞰":"n̩","Ɲ":"N̦","ᵰ":"n̴","ǌ":"nj","ǋ":"Nj","Ǌ":"NJ","№":"No","ͷ":"ᴎ","и":"ᴎ","𐑍":"ᴎ","ņ":"ɲ","ం":"o","ಂ":"o","ം":"o","ං":"o","०":"o","੦":"o","૦":"o","௦":"o","౦":"o","೦":"o","൦":"o","๐":"o","໐":"o","၀":"o","٥":"o","۵":"o","ｏ":"o","ℴ":"o","𝐨":"o","𝑜":"o","𝒐":"o","𝓸":"o","𝔬":"o","𝕠":"o","𝖔":"o","𝗈":"o","𝗼":"o","𝘰":"o","𝙤":"o","𝚘":"o","ᴏ":"o","ᴑ":"o","ꬽ":"o","ο":"o","𝛐":"o","𝜊":"o","𝝄":"o","𝝾":"o","𝞸":"o","σ":"o","𝛔":"o","𝜎":"o","𝝈":"o","𝞂":"o","𝞼":"o","ⲟ":"o","о":"o","ჿ":"o","օ":"o","ס":"o","ه":"o","𞸤":"o","𞹤":"o","𞺄":"o","ﻫ":"o","ﻬ":"o","ﻪ":"o","ﻩ":"o","ھ":"o","ﮬ":"o","ﮭ":"o","ﮫ":"o","ﮪ":"o","ہ":"o","ﮨ":"o","ﮩ":"o","ﮧ":"o","ﮦ":"o","ە":"o","ഠ":"o","ဝ":"o","𐓪":"o","𑣈":"o","𑣗":"o","𐐬":"o","߀":"O","০":"O","୦":"O","〇":"O","𑓐":"O","𑣠":"O","𝟎":"O","𝟘":"O","𝟢":"O","𝟬":"O","𝟶":"O","🯰":"O","Ｏ":"O","𝐎":"O","𝑂":"O","𝑶":"O","𝒪":"O","𝓞":"O","𝔒":"O","𝕆":"O","𝕺":"O","𝖮":"O","𝗢":"O","𝘖":"O","𝙊":"O","𝙾":"O","Ο":"O","𝚶":"O","𝛰":"O","𝜪":"O","𝝤":"O","𝞞":"O","Ⲟ":"O","О":"O","Օ":"O","ⵔ":"O","ዐ":"O","ଠ":"O","𐓂":"O","ꓳ":"O","𑢵":"O","𐊒":"O","𐊫":"O","𐐄":"O","𐔖":"O","⁰":"º","ᵒ":"º","ǒ":"ŏ","Ǒ":"Ŏ","ۿ":"ô","Ő":"Ö","ø":"o̸","ꬾ":"o̸","Ø":"O̸","ⵁ":"O̸","Ǿ":"Ó̸","ɵ":"o̵","ꝋ":"o̵","ө":"o̵","ѳ":"o̵","ꮎ":"o̵","ꮻ":"o̵","⊖":"O̵","⊝":"O̵","⍬":"O̵","𝈚":"O̵","🜔":"O̵","Ɵ":"O̵","Ꝋ":"O̵","θ":"O̵","ϑ":"O̵","𝛉":"O̵","𝛝":"O̵","𝜃":"O̵","𝜗":"O̵","𝜽":"O̵","𝝑":"O̵","𝝷":"O̵","𝞋":"O̵","𝞱":"O̵","𝟅":"O̵","Θ":"O̵","ϴ":"O̵","𝚯":"O̵","𝚹":"O̵","𝛩":"O̵","𝛳":"O̵","𝜣":"O̵","𝜭":"O̵","𝝝":"O̵","𝝧":"O̵","𝞗":"O̵","𝞡":"O̵","Ө":"O̵","Ѳ":"O̵","ⴱ":"O̵","Ꮎ":"O̵","Ꮻ":"O̵","ꭴ":"ơ","ﳙ":"oٰ","🄁":"O,","🄀":"O.","ơ":"o\'","Ơ":"O\'","Ꭴ":"O\'","%":"º/₀","٪":"º/₀","⁒":"º/₀","‰":"º/₀₀","؉":"º/₀₀","‱":"º/₀₀₀","؊":"º/₀₀₀","œ":"oe","Œ":"OE","ɶ":"oᴇ","∞":"oo","ꝏ":"oo","ꚙ":"oo","Ꝏ":"OO","Ꚙ":"OO","ﳗ":"oج","ﱑ":"oج","ﳘ":"oم","ﱒ":"oم","ﶓ":"oمج","ﶔ":"oمم","ﱓ":"oى","ﱔ":"oى","ൟ":"oരo","တ":"oာ","㍘":"O点","ↄ":"ɔ","ᴐ":"ɔ","ͻ":"ɔ","𐑋":"ɔ","Ↄ":"Ɔ","Ͻ":"Ɔ","ꓛ":"Ɔ","𐐣":"Ɔ","ꬿ":"ɔ̸","ꭢ":"ɔe","𐐿":"ɷ","⍴":"p","ｐ":"p","𝐩":"p","𝑝":"p","𝒑":"p","𝓅":"p","𝓹":"p","𝔭":"p","𝕡":"p","𝖕":"p","𝗉":"p","𝗽":"p","𝘱":"p","𝙥":"p","𝚙":"p","ρ":"p","ϱ":"p","𝛒":"p","𝛠":"p","𝜌":"p","𝜚":"p","𝝆":"p","𝝔":"p","𝞀":"p","𝞎":"p","𝞺":"p","𝟈":"p","ⲣ":"p","р":"p","Ｐ":"P","ℙ":"P","𝐏":"P","𝑃":"P","𝑷":"P","𝒫":"P","𝓟":"P","𝔓":"P","𝕻":"P","𝖯":"P","𝗣":"P","𝘗":"P","𝙋":"P","𝙿":"P","Ρ":"P","𝚸":"P","𝛲":"P","𝜬":"P","𝝦":"P","𝞠":"P","Ⲣ":"P","Р":"P","Ꮲ":"P","ᑭ":"P","ꓑ":"P","𐊕":"P","ƥ":"p̔","ᵽ":"p̵","ᑷ":"p·","ᒆ":"P\'","ᴩ":"ᴘ","ꮲ":"ᴘ","φ":"ɸ","ϕ":"ɸ","𝛗":"ɸ","𝛟":"ɸ","𝜑":"ɸ","𝜙":"ɸ","𝝋":"ɸ","𝝓":"ɸ","𝞅":"ɸ","𝞍":"ɸ","𝞿":"ɸ","𝟇":"ɸ","ⲫ":"ɸ","ф":"ɸ","𝐪":"q","𝑞":"q","𝒒":"q","𝓆":"q","𝓺":"q","𝔮":"q","𝕢":"q","𝖖":"q","𝗊":"q","𝗾":"q","𝘲":"q","𝙦":"q","𝚚":"q","ԛ":"q","գ":"q","զ":"q","ℚ":"Q","𝐐":"Q","𝑄":"Q","𝑸":"Q","𝒬":"Q","𝓠":"Q","𝔔":"Q","𝕼":"Q","𝖰":"Q","𝗤":"Q","𝘘":"Q","𝙌":"Q","𝚀":"Q","ⵕ":"Q","ʠ":"q̔","🜀":"QE","ᶐ":"ɋ","ᴋ":"ĸ","κ":"ĸ","ϰ":"ĸ","𝛋":"ĸ","𝛞":"ĸ","𝜅":"ĸ","𝜘":"ĸ","𝜿":"ĸ","𝝒":"ĸ","𝝹":"ĸ","𝞌":"ĸ","𝞳":"ĸ","𝟆":"ĸ","ⲕ":"ĸ","к":"ĸ","ꮶ":"ĸ","қ":"ĸ̩","ҟ":"ĸ̵","𝐫":"r","𝑟":"r","𝒓":"r","𝓇":"r","𝓻":"r","𝔯":"r","𝕣":"r","𝖗":"r","𝗋":"r","𝗿":"r","𝘳":"r","𝙧":"r","𝚛":"r","ꭇ":"r","ꭈ":"r","ᴦ":"r","ⲅ":"r","г":"r","ꮁ":"r","𝈖":"R","ℛ":"R","ℜ":"R","ℝ":"R","𝐑":"R","𝑅":"R","𝑹":"R","𝓡":"R","𝕽":"R","𝖱":"R","𝗥":"R","𝘙":"R","𝙍":"R","𝚁":"R","Ʀ":"R","Ꭱ":"R","Ꮢ":"R","𐒴":"R","ᖇ":"R","ꓣ":"R","𖼵":"R","ɽ":"r̨","ɼ":"r̩","ɍ":"r̵","ғ":"r̵","ᵲ":"r̴","ґ":"r\'","𑣣":"rn","m":"rn","ⅿ":"rn","𝐦":"rn","𝑚":"rn","𝒎":"rn","𝓂":"rn","𝓶":"rn","𝔪":"rn","𝕞":"rn","𝖒":"rn","𝗆":"rn","𝗺":"rn","𝘮":"rn","𝙢":"rn","𝚖":"rn","𑜀":"rn","₥":"rn̸","ɱ":"rn̦","ᵯ":"rn̴","₨":"Rs","ꭱ":"ʀ","ꮢ":"ʀ","я":"ᴙ","ᵳ":"ɾ̴","℩":"ɿ","ｓ":"s","𝐬":"s","𝑠":"s","𝒔":"s","𝓈":"s","𝓼":"s","𝔰":"s","𝕤":"s","𝖘":"s","𝗌":"s","𝘀":"s","𝘴":"s","𝙨":"s","𝚜":"s","ꜱ":"s","ƽ":"s","ѕ":"s","ꮪ":"s","𑣁":"s","𐑈":"s","Ｓ":"S","𝐒":"S","𝑆":"S","𝑺":"S","𝒮":"S","𝓢":"S","𝔖":"S","𝕊":"S","𝕾":"S","𝖲":"S","𝗦":"S","𝘚":"S","𝙎":"S","𝚂":"S","Ѕ":"S","Տ":"S","Ꮥ":"S","Ꮪ":"S","ꓢ":"S","𖼺":"S","𐊖":"S","𐐠":"S","ʂ":"s̨","ᵴ":"s̴","ꞵ":"ß","β":"ß","ϐ":"ß","𝛃":"ß","𝛽":"ß","𝜷":"ß","𝝱":"ß","𝞫":"ß","Ᏸ":"ß","🝜":"sss","ﬆ":"st","∫":"ʃ","ꭍ":"ʃ","∑":"Ʃ","⅀":"Ʃ","Σ":"Ʃ","𝚺":"Ʃ","𝛴":"Ʃ","𝜮":"Ʃ","𝝨":"Ʃ","𝞢":"Ʃ","ⵉ":"Ʃ","∬":"ʃʃ","∭":"ʃʃʃ","⨌":"ʃʃʃʃ","𝐭":"t","𝑡":"t","𝒕":"t","𝓉":"t","𝓽":"t","𝔱":"t","𝕥":"t","𝖙":"t","𝗍":"t","𝘁":"t","𝘵":"t","𝙩":"t","𝚝":"t","⊤":"T","⟙":"T","🝨":"T","Ｔ":"T","𝐓":"T","𝑇":"T","𝑻":"T","𝒯":"T","𝓣":"T","𝔗":"T","𝕋":"T","𝕿":"T","𝖳":"T","𝗧":"T","𝘛":"T","𝙏":"T","𝚃":"T","Τ":"T","𝚻":"T","𝛵":"T","𝜯":"T","𝝩":"T","𝞣":"T","Ⲧ":"T","Т":"T","Ꭲ":"T","ꓔ":"T","𖼊":"T","𑢼":"T","𐊗":"T","𐊱":"T","𐌕":"T","ƭ":"t̔","⍡":"T̈","Ⱦ":"T̸","Ț":"Ţ","Ʈ":"T̨","Ҭ":"T̩","₮":"T⃫","ŧ":"t̵","Ŧ":"T̵","ᵵ":"t̴","Ⴀ":"Ꞇ","Ꜩ":"T3","ʨ":"tɕ","℡":"TEL","ꝷ":"tf","ʦ":"ts","ʧ":"tʃ","ꜩ":"tȝ","τ":"ᴛ","𝛕":"ᴛ","𝜏":"ᴛ","𝝉":"ᴛ","𝞃":"ᴛ","𝞽":"ᴛ","т":"ᴛ","ꭲ":"ᴛ","ҭ":"ᴛ̩","ţ":"ƫ","ț":"ƫ","Ꮏ":"ƫ","𝐮":"u","𝑢":"u","𝒖":"u","𝓊":"u","𝓾":"u","𝔲":"u","𝕦":"u","𝖚":"u","𝗎":"u","𝘂":"u","𝘶":"u","𝙪":"u","𝚞":"u","ꞟ":"u","ᴜ":"u","ꭎ":"u","ꭒ":"u","ʋ":"u","υ":"u","𝛖":"u","𝜐":"u","𝝊":"u","𝞄":"u","𝞾":"u","ս":"u","𐓶":"u","𑣘":"u","∪":"U","⋃":"U","𝐔":"U","𝑈":"U","𝑼":"U","𝒰":"U","𝓤":"U","𝔘":"U","𝕌":"U","𝖀":"U","𝖴":"U","𝗨":"U","𝘜":"U","𝙐":"U","𝚄":"U","Ս":"U","ሀ":"U","𐓎":"U","ᑌ":"U","ꓴ":"U","𖽂":"U","𑢸":"U","ǔ":"ŭ","Ǔ":"Ŭ","ᵾ":"u̵","ꮜ":"u̵","Ʉ":"U̵","Ꮜ":"U̵","ᑘ":"U·","ᑧ":"U\'","ᵫ":"ue","ꭣ":"uo","ṃ":"ꭑ","պ":"ɰ","ሣ":"ɰ","℧":"Ʊ","ᘮ":"Ʊ","ᘴ":"Ʊ","ᵿ":"ʊ̵","∨":"v","⋁":"v","ｖ":"v","ⅴ":"v","𝐯":"v","𝑣":"v","𝒗":"v","𝓋":"v","𝓿":"v","𝔳":"v","𝕧":"v","𝖛":"v","𝗏":"v","𝘃":"v","𝘷":"v","𝙫":"v","𝚟":"v","ᴠ":"v","ν":"v","𝛎":"v","𝜈":"v","𝝂":"v","𝝼":"v","𝞶":"v","ѵ":"v","ט":"v","𑜆":"v","ꮩ":"v","𑣀":"v","𝈍":"V","٧":"V","۷":"V","Ⅴ":"V","𝐕":"V","𝑉":"V","𝑽":"V","𝒱":"V","𝓥":"V","𝔙":"V","𝕍":"V","𝖁":"V","𝖵":"V","𝗩":"V","𝘝":"V","𝙑":"V","𝚅":"V","Ѵ":"V","ⴸ":"V","Ꮩ":"V","ᐯ":"V","ꛟ":"V","ꓦ":"V","𖼈":"V","𑢠":"V","𐔝":"V","𐆗":"V̵","ᐻ":"V·","🝬":"VB","ⅵ":"vi","ⅶ":"vii","ⅷ":"viii","Ⅵ":"Vl","Ⅶ":"Vll","Ⅷ":"Vlll","🜈":"Vᷤ","ᴧ":"ʌ","𐓘":"ʌ","٨":"Ʌ","۸":"Ʌ","Λ":"Ʌ","𝚲":"Ʌ","𝛬":"Ʌ","𝜦":"Ʌ","𝝠":"Ʌ","𝞚":"Ʌ","Л":"Ʌ","ⴷ":"Ʌ","𐒰":"Ʌ","ᐱ":"Ʌ","ꛎ":"Ʌ","ꓥ":"Ʌ","𖼽":"Ʌ","𐊍":"Ʌ","Ӆ":"Ʌ̦","ᐽ":"Ʌ·","ɯ":"w","𝐰":"w","𝑤":"w","𝒘":"w","𝓌":"w","𝔀":"w","𝔴":"w","𝕨":"w","𝖜":"w","𝗐":"w","𝘄":"w","𝘸":"w","𝙬":"w","𝚠":"w","ᴡ":"w","ѡ":"w","ԝ":"w","ա":"w","𑜊":"w","𑜎":"w","𑜏":"w","ꮃ":"w","𑣯":"W","𑣦":"W","𝐖":"W","𝑊":"W","𝑾":"W","𝒲":"W","𝓦":"W","𝔚":"W","𝕎":"W","𝖂":"W","𝖶":"W","𝗪":"W","𝘞":"W","𝙒":"W","𝚆":"W","Ԝ":"W","Ꮃ":"W","Ꮤ":"W","ꓪ":"W","ѽ":"w҆҇","𑓅":"ẇ","₩":"W̵","ꝡ":"w̦","ᴍ":"ʍ","м":"ʍ","ꮇ":"ʍ","ӎ":"ʍ̦","᙮":"x","×":"x","⤫":"x","⤬":"x","⨯":"x","ｘ":"x","ⅹ":"x","𝐱":"x","𝑥":"x","𝒙":"x","𝓍":"x","𝔁":"x","𝔵":"x","𝕩":"x","𝖝":"x","𝗑":"x","𝘅":"x","𝘹":"x","𝙭":"x","𝚡":"x","х":"x","ᕁ":"x","ᕽ":"x","ⷯ":"ͯ","᙭":"X","╳":"X","𐌢":"X","𑣬":"X","Ｘ":"X","Ⅹ":"X","𝐗":"X","𝑋":"X","𝑿":"X","𝒳":"X","𝓧":"X","𝔛":"X","𝕏":"X","𝖃":"X","𝖷":"X","𝗫":"X","𝘟":"X","𝙓":"X","𝚇":"X","Ꭓ":"X","Χ":"X","𝚾":"X","𝛸":"X","𝜲":"X","𝝬":"X","𝞦":"X","Ⲭ":"X","Х":"X","ⵝ":"X","ᚷ":"X","ꓫ":"X","𐊐":"X","𐊴":"X","𐌗":"X","𐔧":"X","⨰":"ẋ","Ҳ":"X̩","𐆖":"X̵","ⅺ":"xi","ⅻ":"xii","Ⅺ":"Xl","Ⅻ":"Xll","ɣ":"y","ᶌ":"y","ｙ":"y","𝐲":"y","𝑦":"y","𝒚":"y","𝓎":"y","𝔂":"y","𝔶":"y","𝕪":"y","𝖞":"y","𝗒":"y","𝘆":"y","𝘺":"y","𝙮":"y","𝚢":"y","ʏ":"y","ỿ":"y","ꭚ":"y","γ":"y","ℽ":"y","𝛄":"y","𝛾":"y","𝜸":"y","𝝲":"y","𝞬":"y","у":"y","ү":"y","ყ":"y","𑣜":"y","Ｙ":"Y","𝐘":"Y","𝑌":"Y","𝒀":"Y","𝒴":"Y","𝓨":"Y","𝔜":"Y","𝕐":"Y","𝖄":"Y","𝖸":"Y","𝗬":"Y","𝘠":"Y","𝙔":"Y","𝚈":"Y","Υ":"Y","ϒ":"Y","𝚼":"Y","𝛶":"Y","𝜰":"Y","𝝪":"Y","𝞤":"Y","Ⲩ":"Y","У":"Y","Ү":"Y","Ꭹ":"Y","Ꮍ":"Y","ꓬ":"Y","𖽃":"Y","𑢤":"Y","𐊲":"Y","ƴ":"y̔","ɏ":"y̵","ұ":"y̵","¥":"Y̵","Ɏ":"Y̵","Ұ":"Y̵","ʒ":"ȝ","ꝫ":"ȝ","ⳍ":"ȝ","ӡ":"ȝ","ჳ":"ȝ","𝐳":"z","𝑧":"z","𝒛":"z","𝓏":"z","𝔃":"z","𝔷":"z","𝕫":"z","𝖟":"z","𝗓":"z","𝘇":"z","𝘻":"z","𝙯":"z","𝚣":"z","ᴢ":"z","ꮓ":"z","𑣄":"z","𐋵":"Z","𑣥":"Z","Ｚ":"Z","ℤ":"Z","ℨ":"Z","𝐙":"Z","𝑍":"Z","𝒁":"Z","𝒵":"Z","𝓩":"Z","𝖅":"Z","𝖹":"Z","𝗭":"Z","𝘡":"Z","𝙕":"Z","𝚉":"Z","Ζ":"Z","𝚭":"Z","𝛧":"Z","𝜡":"Z","𝝛":"Z","𝞕":"Z","Ꮓ":"Z","ꓜ":"Z","𑢩":"Z","ʐ":"z̨","ƶ":"z̵","Ƶ":"Z̵","ȥ":"z̦","Ȥ":"Z̦","ᵶ":"z̴","ƿ":"þ","ϸ":"þ","Ϸ":"Þ","𐓄":"Þ","⁹":"ꝰ","ᴤ":"ƨ","ϩ":"ƨ","ꙅ":"ƨ","ь":"ƅ","ꮟ":"ƅ","ы":"ƅi","ꭾ":"ɂ","ˤ":"ˁ","ꛍ":"ʡ","⊙":"ʘ","☉":"ʘ","⨀":"ʘ","Ꙩ":"ʘ","ⵙ":"ʘ","𐓃":"ʘ","ℾ":"Γ","𝚪":"Γ","𝛤":"Γ","𝜞":"Γ","𝝘":"Γ","𝞒":"Γ","Ⲅ":"Γ","Г":"Γ","Ꮁ":"Γ","ᒥ":"Γ","𖼇":"Γ","Ғ":"Γ̵","ᒯ":"Γ·","Ґ":"Γ\'","∆":"Δ","△":"Δ","🜂":"Δ","𝚫":"Δ","𝛥":"Δ","𝜟":"Δ","𝝙":"Δ","𝞓":"Δ","Ⲇ":"Δ","ⵠ":"Δ","ᐃ":"Δ","𖼚":"Δ","𐊅":"Δ","𐊣":"Δ","⍙":"Δ̲","ᐏ":"Δ·","ᐬ":"Δᐠ","𝟋":"ϝ","𝛇":"ζ","𝜁":"ζ","𝜻":"ζ","𝝵":"ζ","𝞯":"ζ","ⳤ":"ϗ","𝛌":"λ","𝜆":"λ","𝝀":"λ","𝝺":"λ","𝞴":"λ","Ⲗ":"λ","𐓛":"λ","µ":"μ","𝛍":"μ","𝜇":"μ","𝝁":"μ","𝝻":"μ","𝞵":"μ","𝛏":"ξ","𝜉":"ξ","𝝃":"ξ","𝝽":"ξ","𝞷":"ξ","𝚵":"Ξ","𝛯":"Ξ","𝜩":"Ξ","𝝣":"Ξ","𝞝":"Ξ","ϖ":"π","ℼ":"π","𝛑":"π","𝛡":"π","𝜋":"π","𝜛":"π","𝝅":"π","𝝕":"π","𝝿":"π","𝞏":"π","𝞹":"π","𝟉":"π","ᴨ":"π","п":"π","∏":"Π","ℿ":"Π","𝚷":"Π","𝛱":"Π","𝜫":"Π","𝝥":"Π","𝞟":"Π","Ⲡ":"Π","П":"Π","ꛛ":"Π","𐊭":"Ϙ","𐌒":"Ϙ","ϛ":"ς","𝛓":"ς","𝜍":"ς","𝝇":"ς","𝞁":"ς","𝞻":"ς","𝚽":"Φ","𝛷":"Φ","𝜱":"Φ","𝝫":"Φ","𝞥":"Φ","Ⲫ":"Φ","Ф":"Φ","Փ":"Φ","ቀ":"Φ","ᛰ":"Φ","𐊳":"Φ","ꭓ":"χ","ꭕ":"χ","𝛘":"χ","𝜒":"χ","𝝌":"χ","𝞆":"χ","𝟀":"χ","ⲭ":"χ","𝛙":"ψ","𝜓":"ψ","𝝍":"ψ","𝞇":"ψ","𝟁":"ψ","ѱ":"ψ","𐓹":"ψ","𝚿":"Ψ","𝛹":"Ψ","𝜳":"Ψ","𝝭":"Ψ","𝞧":"Ψ","Ⲯ":"Ψ","Ѱ":"Ψ","𐓑":"Ψ","ᛘ":"Ψ","𐊵":"Ψ","⍵":"ω","ꞷ":"ω","𝛚":"ω","𝜔":"ω","𝝎":"ω","𝞈":"ω","𝟂":"ω","ⲱ":"ω","ꙍ":"ω","Ω":"Ω","𝛀":"Ω","𝛺":"Ω","𝜴":"Ω","𝝮":"Ω","𝞨":"Ω","ᘯ":"Ω","ᘵ":"Ω","𐊶":"Ω","⍹":"ω̲","ώ":"ῴ","☰":"Ⲷ","Ⳝ":"Ϭ","җ":"ж̩","Җ":"Ж̩","𝈋":"И","Ͷ":"И","ꚡ":"И","𐐥":"И","Й":"Ѝ","Ҋ":"Ѝ̦","ѝ":"й","ҋ":"й̦","𐒼":"Ӄ","ᴫ":"л","ӆ":"л̦","ꭠ":"љ","𐓫":"ꙩ","ᷮ":"ⷬ","𐓍":"Ћ","𝈂":"Ӿ","𝈢":"Ѡ","Ꮗ":"Ѡ","ᗯ":"Ѡ","Ѽ":"Ѡ҆҇","ᣭ":"Ѡ·","Ꞷ":"Ꙍ","ӌ":"ҷ","Ӌ":"Ҷ","Ҿ":"Ҽ̨","ⲽ":"ш","Ⲽ":"Ш","Ꙑ":"Ъl","℈":"Э","🜁":"Ꙙ","𖼜":"Ꙙ","ꦒ":"ⰿ","և":"եւ","ኔ":"ձ","ﬔ":"մե","ﬕ":"մի","ﬗ":"մխ","ﬓ":"մն","∩":"Ո","⋂":"Ո","𝉅":"Ո","በ":"Ո","ᑎ":"Ո","ꓵ":"Ո","ᑚ":"Ո·","ᑨ":"Ո\'","ﬖ":"վն","₽":"Ք","˓":"ՙ","ʿ":"ՙ","ℵ":"א","ﬡ":"א","אָ":"אַ","אּ":"אַ","ﭏ":"אל","ℶ":"ב","ℷ":"ג","ℸ":"ד","ﬢ":"ד","ﬣ":"ה","יּ":"יִ","ﬤ":"כ","ﬥ":"ל","ﬦ":"ם","ﬠ":"ע","ﬧ":"ר","שׂ":"שׁ","שּ":"שׁ","שּׂ":"שּׁ","ﬨ":"ת","ﺀ":"ء","۽":"ء͈","ﺂ":"آ","ﺁ":"آ","ﭑ":"ٱ","ﭐ":"ٱ","𞸁":"ب","𞸡":"ب","𞹡":"ب","𞺁":"ب","𞺡":"ب","ﺑ":"ب","ﺒ":"ب","ﺐ":"ب","ﺏ":"ب","ݑ":"بۛ","ࢶ":"بۢ","ࢡ":"بٔ","ﲠ":"بo","ﳢ":"بo","ﲜ":"بج","ﰅ":"بج","ﲝ":"بح","ﰆ":"بح","ﷂ":"بحى","ﲞ":"بخ","ﰇ":"بخ","ﳒ":"بخ","ﱋ":"بخ","ﶞ":"بخى","ﱪ":"بر","ﱫ":"بز","ﲟ":"بم","ﳡ":"بم","ﱬ":"بم","ﰈ":"بم","ﱭ":"بن","ﱮ":"بى","ﰉ":"بى","ﱯ":"بى","ﰊ":"بى","ﭔ":"ٻ","ﭕ":"ٻ","ﭓ":"ٻ","ﭒ":"ٻ","ې":"ٻ","ﯦ":"ٻ","ﯧ":"ٻ","ﯥ":"ٻ","ﯤ":"ٻ","ﭜ":"ڀ","ﭝ":"ڀ","ﭛ":"ڀ","ﭚ":"ڀ","ࢩ":"ݔ","ݧ":"ݔ","⍥":"ة","ö":"ة","ﺔ":"ة","ﺓ":"ة","ۃ":"ة","𞸕":"ت","𞸵":"ت","𞹵":"ت","𞺕":"ت","𞺵":"ت","ﺗ":"ت","ﺘ":"ت","ﺖ":"ت","ﺕ":"ت","ﲥ":"تo","ﳤ":"تo","ﲡ":"تج","ﰋ":"تج","ﵐ":"تجم","ﶠ":"تجى","ﶟ":"تجى","ﲢ":"تح","ﰌ":"تح","ﵒ":"تحج","ﵑ":"تحج","ﵓ":"تحم","ﲣ":"تخ","ﰍ":"تخ","ﵔ":"تخم","ﶢ":"تخى","ﶡ":"تخى","ﱰ":"تر","ﱱ":"تز","ﲤ":"تم","ﳣ":"تم","ﱲ":"تم","ﰎ":"تم","ﵕ":"تمج","ﵖ":"تمح","ﵗ":"تمخ","ﶤ":"تمى","ﶣ":"تمى","ﱳ":"تن","ﱴ":"تى","ﰏ":"تى","ﱵ":"تى","ﰐ":"تى","ﭠ":"ٺ","ﭡ":"ٺ","ﭟ":"ٺ","ﭞ":"ٺ","ﭤ":"ٿ","ﭥ":"ٿ","ﭣ":"ٿ","ﭢ":"ٿ","𞸂":"ج","𞸢":"ج","𞹂":"ج","𞹢":"ج","𞺂":"ج","𞺢":"ج","ﺟ":"ج","ﺠ":"ج","ﺞ":"ج","ﺝ":"ج","ﲧ":"جح","ﰕ":"جح","ﶦ":"جحى","ﶾ":"جحى","ﷻ":"جل جلlلo","ﲨ":"جم","ﰖ":"جم","ﵙ":"جمح","ﵘ":"جمح","ﶧ":"جمى","ﶥ":"جمى","ﴝ":"جى","ﴁ":"جى","ﴞ":"جى","ﴂ":"جى","ﭸ":"ڃ","ﭹ":"ڃ","ﭷ":"ڃ","ﭶ":"ڃ","ﭴ":"ڄ","ﭵ":"ڄ","ﭳ":"ڄ","ﭲ":"ڄ","ﭼ":"چ","ﭽ":"چ","ﭻ":"چ","ﭺ":"چ","ﮀ":"ڇ","ﮁ":"ڇ","ﭿ":"ڇ","ﭾ":"ڇ","𞸇":"ح","𞸧":"ح","𞹇":"ح","𞹧":"ح","𞺇":"ح","𞺧":"ح","ﺣ":"ح","ﺤ":"ح","ﺢ":"ح","ﺡ":"ح","څ":"حۛ","ځ":"حٔ","ݲ":"حٔ","ﲩ":"حج","ﰗ":"حج","ﶿ":"حجى","ﲪ":"حم","ﰘ":"حم","ﵛ":"حمى","ﵚ":"حمى","ﴛ":"حى","ﳿ":"حى","ﴜ":"حى","ﴀ":"حى","𞸗":"خ","𞸷":"خ","𞹗":"خ","𞹷":"خ","𞺗":"خ","𞺷":"خ","ﺧ":"خ","ﺨ":"خ","ﺦ":"خ","ﺥ":"خ","ﲫ":"خج","ﰙ":"خج","ﰚ":"خح","ﲬ":"خم","ﰛ":"خم","ﴟ":"خى","ﴃ":"خى","ﴠ":"خى","ﴄ":"خى","𐋡":"د","𞸃":"د","𞺃":"د","𞺣":"د","ﺪ":"د","ﺩ":"د","ڈ":"دؕ","ﮉ":"دؕ","ﮈ":"دؕ","ڎ":"دۛ","ﮇ":"دۛ","ﮆ":"دۛ","ۮ":"د̂","ࢮ":"د̤̣","𞸘":"ذ","𞺘":"ذ","𞺸":"ذ","ﺬ":"ذ","ﺫ":"ذ","ﱛ":"ذٰ","ڋ":"ڊؕ","ﮅ":"ڌ","ﮄ":"ڌ","ﮃ":"ڍ","ﮂ":"ڍ","𞸓":"ر","𞺓":"ر","𞺳":"ر","ﺮ":"ر","ﺭ":"ر","ڑ":"رؕ","ﮍ":"رؕ","ﮌ":"رؕ","ژ":"رۛ","ﮋ":"رۛ","ﮊ":"رۛ","ڒ":"ر̆","ࢹ":"ر̆̇","ۯ":"ر̂","ݬ":"رٔ","ﱜ":"رٰ","ﷶ":"رسول","﷼":"رىlل","𞸆":"ز","𞺆":"ز","𞺦":"ز","ﺰ":"ز","ﺯ":"ز","ࢲ":"ز̂","ݱ":"ڗؕ","𞸎":"س","𞸮":"س","𞹎":"س","𞹮":"س","𞺎":"س","𞺮":"س","ﺳ":"س","ﺴ":"س","ﺲ":"س","ﺱ":"س","ش":"سۛ","𞸔":"سۛ","𞸴":"سۛ","𞹔":"سۛ","𞹴":"سۛ","𞺔":"سۛ","𞺴":"سۛ","ﺷ":"سۛ","ﺸ":"سۛ","ﺶ":"سۛ","ﺵ":"سۛ","ݾ":"س̂","ﴱ":"سo","ﳨ":"سo","ﴲ":"سۛo","ﳪ":"سۛo","ﲭ":"سج","ﴴ":"سج","ﰜ":"سج","ﴭ":"سۛج","ﴷ":"سۛج","ﴥ":"سۛج","ﴉ":"سۛج","ﵝ":"سجح","ﵞ":"سجى","ﵩ":"سۛجى","ﲮ":"سح","ﴵ":"سح","ﰝ":"سح","ﴮ":"سۛح","ﴸ":"سۛح","ﴦ":"سۛح","ﴊ":"سۛح","ﵜ":"سحج","ﵨ":"سۛحم","ﵧ":"سۛحم","ﶪ":"سۛحى","ﲯ":"سخ","ﴶ":"سخ","ﰞ":"سخ","ﴯ":"سۛخ","ﴹ":"سۛخ","ﴧ":"سۛخ","ﴋ":"سۛخ","ﶨ":"سخى","ﷆ":"سخى","ﴪ":"سر","ﴎ":"سر","ﴩ":"سۛر","ﴍ":"سۛر","ﲰ":"سم","ﳧ":"سم","ﰟ":"سم","ﴰ":"سۛم","ﳩ":"سۛم","ﴨ":"سۛم","ﴌ":"سۛم","ﵡ":"سمج","ﵠ":"سمح","ﵟ":"سمح","ﵫ":"سۛمخ","ﵪ":"سۛمخ","ﵣ":"سمم","ﵢ":"سمم","ﵭ":"سۛمم","ﵬ":"سۛمم","ﴗ":"سى","ﳻ":"سى","ﴘ":"سى","ﳼ":"سى","ﴙ":"سۛى","ﳽ":"سۛى","ﴚ":"سۛى","ﳾ":"سۛى","𐋲":"ص","𞸑":"ص","𞸱":"ص","𞹑":"ص","𞹱":"ص","𞺑":"ص","𞺱":"ص","ﺻ":"ص","ﺼ":"ص","ﺺ":"ص","ﺹ":"ص","ڞ":"صۛ","ࢯ":"ص̤̣","ﲱ":"صح","ﰠ":"صح","ﵥ":"صحح","ﵤ":"صحح","ﶩ":"صحى","ﲲ":"صخ","ﴫ":"صر","ﴏ":"صر","ﷵ":"صلعم","ﷹ":"صلى","ﷰ":"صلى","ﷺ":"صلى lللo علىo وسلم","ﲳ":"صم","ﰡ":"صم","ﷅ":"صمم","ﵦ":"صمم","ﴡ":"صى","ﴅ":"صى","ﴢ":"صى","ﴆ":"صى","𞸙":"ض","𞸹":"ض","𞹙":"ض","𞹹":"ض","𞺙":"ض","𞺹":"ض","ﺿ":"ض","ﻀ":"ض","ﺾ":"ض","ﺽ":"ض","ﲴ":"ضج","ﰢ":"ضج","ﲵ":"ضح","ﰣ":"ضح","ﵮ":"ضحى","ﶫ":"ضحى","ﲶ":"ضخ","ﰤ":"ضخ","ﵰ":"ضخم","ﵯ":"ضخم","ﴬ":"ضر","ﴐ":"ضر","ﲷ":"ضم","ﰥ":"ضم","ﴣ":"ضى","ﴇ":"ضى","ﴤ":"ضى","ﴈ":"ضى","𐋨":"ط","𞸈":"ط","𞹨":"ط","𞺈":"ط","𞺨":"ط","ﻃ":"ط","ﻄ":"ط","ﻂ":"ط","ﻁ":"ط","ڟ":"طۛ","ﲸ":"طح","ﰦ":"طح","ﴳ":"طم","ﴺ":"طم","ﰧ":"طم","ﵲ":"طمح","ﵱ":"طمح","ﵳ":"طمم","ﵴ":"طمى","ﴑ":"طى","ﳵ":"طى","ﴒ":"طى","ﳶ":"طى","𞸚":"ظ","𞹺":"ظ","𞺚":"ظ","𞺺":"ظ","ﻇ":"ظ","ﻈ":"ظ","ﻆ":"ظ","ﻅ":"ظ","ﲹ":"ظم","ﴻ":"ظم","ﰨ":"ظم","؏":"ع","𞸏":"ع","𞸯":"ع","𞹏":"ع","𞹯":"ع","𞺏":"ع","𞺯":"ع","ﻋ":"ع","ﻌ":"ع","ﻊ":"ع","ﻉ":"ع","ﲺ":"عج","ﰩ":"عج","ﷄ":"عجم","ﵵ":"عجم","ﷷ":"علىo","ﲻ":"عم","ﰪ":"عم","ﵷ":"عمم","ﵶ":"عمم","ﵸ":"عمى","ﶶ":"عمى","ﴓ":"عى","ﳷ":"عى","ﴔ":"عى","ﳸ":"عى","𞸛":"غ","𞸻":"غ","𞹛":"غ","𞹻":"غ","𞺛":"غ","𞺻":"غ","ﻏ":"غ","ﻐ":"غ","ﻎ":"غ","ﻍ":"غ","ﲼ":"غج","ﰫ":"غج","ﲽ":"غم","ﰬ":"غم","ﵹ":"غمم","ﵻ":"غمى","ﵺ":"غمى","ﴕ":"غى","ﳹ":"غى","ﴖ":"غى","ﳺ":"غى","𞸐":"ف","𞸰":"ف","𞹰":"ف","𞺐":"ف","𞺰":"ف","ﻓ":"ف","ﻔ":"ف","ﻒ":"ف","ﻑ":"ف","ڧ":"ف","ﲾ":"فج","ﰭ":"فج","ﲿ":"فح","ﰮ":"فح","ﳀ":"فخ","ﰯ":"فخ","ﵽ":"فخم","ﵼ":"فخم","ﳁ":"فم","ﰰ":"فم","ﷁ":"فمى","ﱼ":"فى","ﰱ":"فى","ﱽ":"فى","ﰲ":"فى","𞸞":"ڡ","𞹾":"ڡ","ࢻ":"ڡ","ٯ":"ڡ","𞸟":"ڡ","𞹟":"ڡ","ࢼ":"ڡ","ڤ":"ڡۛ","ﭬ":"ڡۛ","ﭭ":"ڡۛ","ﭫ":"ڡۛ","ﭪ":"ڡۛ","ڨ":"ڡۛ","ࢤ":"ڢۛ","ﭰ":"ڦ","ﭱ":"ڦ","ﭯ":"ڦ","ﭮ":"ڦ","𞸒":"ق","𞸲":"ق","𞹒":"ق","𞹲":"ق","𞺒":"ق","𞺲":"ق","ﻗ":"ق","ﻘ":"ق","ﻖ":"ق","ﻕ":"ق","ﳂ":"قح","ﰳ":"قح","ﷱ":"قلى","ﳃ":"قم","ﰴ":"قم","ﶴ":"قمح","ﵾ":"قمح","ﵿ":"قمم","ﶲ":"قمى","ﱾ":"قى","ﰵ":"قى","ﱿ":"قى","ﰶ":"قى","𞸊":"ك","𞸪":"ك","𞹪":"ك","ﻛ":"ك","ﻜ":"ك","ﻚ":"ك","ﻙ":"ك","ک":"ك","ﮐ":"ك","ﮑ":"ك","ﮏ":"ك","ﮎ":"ك","ڪ":"ك","ڭ":"كۛ","ﯕ":"كۛ","ﯖ":"كۛ","ﯔ":"كۛ","ﯓ":"كۛ","ݣ":"كۛ","ﲀ":"كl","ﰷ":"كl","ﳄ":"كج","ﰸ":"كج","ﳅ":"كح","ﰹ":"كح","ﳆ":"كخ","ﰺ":"كخ","ﳇ":"كل","ﳫ":"كل","ﲁ":"كل","ﰻ":"كل","ﳈ":"كم","ﳬ":"كم","ﲂ":"كم","ﰼ":"كم","ﷃ":"كمم","ﶻ":"كمم","ﶷ":"كمى","ﲃ":"كى","ﰽ":"كى","ﲄ":"كى","ﰾ":"كى","ݢ":"ڬ","ﮔ":"گ","ﮕ":"گ","ﮓ":"گ","ﮒ":"گ","ࢰ":"گ","ڴ":"گۛ","ﮜ":"ڱ","ﮝ":"ڱ","ﮛ":"ڱ","ﮚ":"ڱ","ﮘ":"ڳ","ﮙ":"ڳ","ﮗ":"ڳ","ﮖ":"ڳ","𞸋":"ل","𞸫":"ل","𞹋":"ل","𞺋":"ل","𞺫":"ل","ﻟ":"ل","ﻠ":"ل","ﻞ":"ل","ﻝ":"ل","ڷ":"لۛ","ڵ":"ل̆","ﻼ":"لl","ﻻ":"لl","ﻺ":"لlٕ","ﻹ":"لlٕ","ﻸ":"لlٴ","ﻷ":"لlٴ","ﳍ":"لo","ﻶ":"لآ","ﻵ":"لآ","ﳉ":"لج","ﰿ":"لج","ﶃ":"لجج","ﶄ":"لجج","ﶺ":"لجم","ﶼ":"لجم","ﶬ":"لجى","ﳊ":"لح","ﱀ":"لح","ﶵ":"لحم","ﶀ":"لحم","ﶂ":"لحى","ﶁ":"لحى","ﳋ":"لخ","ﱁ":"لخ","ﶆ":"لخم","ﶅ":"لخم","ﳌ":"لم","ﳭ":"لم","ﲅ":"لم","ﱂ":"لم","ﶈ":"لمح","ﶇ":"لمح","ﶭ":"لمى","ﲆ":"لى","ﱃ":"لى","ﲇ":"لى","ﱄ":"لى","𞸌":"م","𞸬":"م","𞹬":"م","𞺌":"م","𞺬":"م","ﻣ":"م","ﻤ":"م","ﻢ":"م","ﻡ":"م","ࢧ":"مۛ","۾":"م͈","ﲈ":"مl","ﳎ":"مج","ﱅ":"مج","ﶌ":"مجح","ﶒ":"مجخ","ﶍ":"مجم","ﷀ":"مجى","ﳏ":"مح","ﱆ":"مح","ﶉ":"محج","ﶊ":"محم","ﷴ":"محمد","ﶋ":"محى","ﳐ":"مخ","ﱇ":"مخ","ﶎ":"مخج","ﶏ":"مخم","ﶹ":"مخى","ﳑ":"مم","ﲉ":"مم","ﱈ":"مم","ﶱ":"ممى","ﱉ":"مى","ﱊ":"مى","𞸍":"ن","𞸭":"ن","𞹍":"ن","𞹭":"ن","𞺍":"ن","𞺭":"ن","ﻧ":"ن","ﻨ":"ن","ﻦ":"ن","ﻥ":"ن","ݨ":"نؕ","ݩ":"ن̆","ﳖ":"نo","ﳯ":"نo","ﶸ":"نجح","ﶽ":"نجح","ﶘ":"نجم","ﶗ":"نجم","ﶙ":"نجى","ﷇ":"نجى","ﳓ":"نح","ﱌ":"نح","ﶕ":"نحم","ﶖ":"نحى","ﶳ":"نحى","ﳔ":"نخ","ﱍ":"نخ","ﲊ":"نر","ﲋ":"نز","ﳕ":"نم","ﳮ":"نم","ﲌ":"نم","ﱎ":"نم","ﶛ":"نمى","ﶚ":"نمى","ﲍ":"نن","ﲎ":"نى","ﱏ":"نى","ﲏ":"نى","ﱐ":"نى","ۂ":"ۀ","ﮥ":"ۀ","ﮤ":"ۀ","𐋤":"و","𞸅":"و","𞺅":"و","𞺥":"و","ﻮ":"و","ﻭ":"و","ࢱ":"و","ۋ":"وۛ","ﯟ":"وۛ","ﯞ":"وۛ","ۇ":"و̓","ﯘ":"و̓","ﯗ":"و̓","ۆ":"و̆","ﯚ":"و̆","ﯙ":"و̆","ۉ":"و̂","ﯣ":"و̂","ﯢ":"و̂","ۈ":"وٰ","ﯜ":"وٰ","ﯛ":"وٰ","ؤ":"وٴ","ﺆ":"وٴ","ﺅ":"وٴ","ٶ":"وٴ","ٷ":"و̓ٴ","ﯝ":"و̓ٴ","ﷸ":"وسلم","ﯡ":"ۅ","ﯠ":"ۅ","ٮ":"ى","𞸜":"ى","𞹼":"ى","ں":"ى","𞸝":"ى","𞹝":"ى","ﮟ":"ى","ﮞ":"ى","ࢽ":"ى","ﯨ":"ى","ﯩ":"ى","ﻰ":"ى","ﻯ":"ى","ي":"ى","𞸉":"ى","𞸩":"ى","𞹉":"ى","𞹩":"ى","𞺉":"ى","𞺩":"ى","ﻳ":"ى","ﻴ":"ى","ﻲ":"ى","ﻱ":"ى","ی":"ى","ﯾ":"ى","ﯿ":"ى","ﯽ":"ى","ﯼ":"ى","ے":"ى","ﮯ":"ى","ﮮ":"ى","ٹ":"ىؕ","ﭨ":"ىؕ","ﭩ":"ىؕ","ﭧ":"ىؕ","ﭦ":"ىؕ","ڻ":"ىؕ","ﮢ":"ىؕ","ﮣ":"ىؕ","ﮡ":"ىؕ","ﮠ":"ىؕ","پ":"ىۛ","ﭘ":"ىۛ","ﭙ":"ىۛ","ﭗ":"ىۛ","ﭖ":"ىۛ","ث":"ىۛ","𞸖":"ىۛ","𞸶":"ىۛ","𞹶":"ىۛ","𞺖":"ىۛ","𞺶":"ىۛ","ﺛ":"ىۛ","ﺜ":"ىۛ","ﺚ":"ىۛ","ﺙ":"ىۛ","ڽ":"ىۛ","ۑ":"ىۛ","ؿ":"ىۛ","ࢷ":"ىۛۢ","ݖ":"ى̆","ێ":"ى̆","ࢺ":"ى̆̇","ؽ":"ى̂","ࢨ":"ىٔ","ﲐ":"ىٰ","ﱝ":"ىٰ","ﳞ":"ىo","ﳱ":"ىo","ﳦ":"ىۛo","ئ":"ىٴ","ﺋ":"ىٴ","ﺌ":"ىٴ","ﺊ":"ىٴ","ﺉ":"ىٴ","ٸ":"ىٴ","ﯫ":"ىٴl","ﯪ":"ىٴl","ﲛ":"ىٴo","ﳠ":"ىٴo","ﯭ":"ىٴo","ﯬ":"ىٴo","ﯸ":"ىٴٻ","ﯷ":"ىٴٻ","ﯶ":"ىٴٻ","ﲗ":"ىٴج","ﰀ":"ىٴج","ﲘ":"ىٴح","ﰁ":"ىٴح","ﲙ":"ىٴخ","ﱤ":"ىٴر","ﱥ":"ىٴز","ﲚ":"ىٴم","ﳟ":"ىٴم","ﱦ":"ىٴم","ﰂ":"ىٴم","ﱧ":"ىٴن","ﯯ":"ىٴو","ﯮ":"ىٴو","ﯱ":"ىٴو̓","ﯰ":"ىٴو̓","ﯳ":"ىٴو̆","ﯲ":"ىٴو̆","ﯵ":"ىٴوٰ","ﯴ":"ىٴوٰ","ﯻ":"ىٴى","ﯺ":"ىٴى","ﱨ":"ىٴى","ﯹ":"ىٴى","ﰃ":"ىٴى","ﱩ":"ىٴى","ﰄ":"ىٴى","ﳚ":"ىج","ﱕ":"ىج","ﰑ":"ىۛج","ﶯ":"ىجى","ﳛ":"ىح","ﱖ":"ىح","ﶮ":"ىحى","ﳜ":"ىخ","ﱗ":"ىخ","ﲑ":"ىر","ﱶ":"ىۛر","ﲒ":"ىز","ﱷ":"ىۛز","ﳝ":"ىم","ﳰ":"ىم","ﲓ":"ىم","ﱘ":"ىم","ﲦ":"ىۛم","ﳥ":"ىۛم","ﱸ":"ىۛم","ﰒ":"ىۛم","ﶝ":"ىمم","ﶜ":"ىمم","ﶰ":"ىمى","ﲔ":"ىن","ﱹ":"ىۛن","ﲕ":"ىى","ﱙ":"ىى","ﲖ":"ىى","ﱚ":"ىى","ﱺ":"ىۛى","ﰓ":"ىۛى","ﱻ":"ىۛى","ﰔ":"ىۛى","ﮱ":"ۓ","ﮰ":"ۓ","𐊸":"ⵀ","⁞":"ⵂ","⸽":"ⵂ","⦙":"ⵂ","︙":"ⵗ","⁝":"ⵗ","⋮":"ⵗ","Մ":"ሆ","Ռ":"ቡ","Ի":"ኮ","Պ":"ጣ","आ":"अा","ऒ":"अाॆ","ओ":"अाे","औ":"अाै","ऄ":"अॆ","ऑ":"अॉ","ऍ":"एॅ","ऎ":"एॆ","ऐ":"एे","ई":"र्इ","ઽ":"ऽ","𑇜":"ꣻ","𑇋":"ऺ","ુ":"ु","ૂ":"ू","ੋ":"ॆ","੍":"्","્":"्","আ":"অা","ৠ":"ঋৃ","ৡ":"ঋৃ","𑒒":"ঘ","𑒔":"চ","𑒖":"জ","𑒘":"ঞ","𑒙":"ট","𑒛":"ড","𑒪":"ণ","𑒞":"ত","𑒟":"থ","𑒠":"দ","𑒡":"ধ","𑒢":"ন","𑒣":"প","𑒩":"ব","𑒧":"ম","𑒨":"য","𑒫":"র","𑒝":"ল","𑒭":"ষ","𑒮":"স","𑓄":"ঽ","𑒰":"া","𑒱":"ি","𑒹":"ে","𑒼":"ো","𑒾":"ৌ","𑓂":"্","𑒽":"ৗ","ਉ":"ੳੁ","ਊ":"ੳੂ","ਆ":"ਅਾ","ਐ":"ਅੈ","ਔ":"ਅੌ","ਇ":"ੲਿ","ਈ":"ੲੀ","ਏ":"ੲੇ","આ":"અા","ઑ":"અાૅ","ઓ":"અાે","ઔ":"અાૈ","ઍ":"અૅ","એ":"અે","ઐ":"અૈ","ଆ":"ଅା","௮":"அ","ர":"ஈ","ா":"ஈ","௫":"ஈு","௨":"உ","ഉ":"உ","ஊ":"உள","ഊ":"உൗ","௭":"எ","௷":"எவ","ஜ":"ஐ","ജ":"ஐ","௧":"க","௪":"ச","௬":"சு","௲":"சூ","ഺ":"டி","ണ":"ண","௺":"நீ","௴":"மீ","௰":"ய","ഴ":"ழ","ௗ":"ள","ை":"ன","ശ":"ஶ","௸":"ஷ","ി":"ி","ീ":"ி","ொ":"ெஈ","ௌ":"ெள","ோ":"ேஈ","ಅ":"అ","ಆ":"ఆ","ಇ":"ఇ","ౠ":"ఋా","ౡ":"ఌా","ಒ":"ఒ","ఔ":"ఒౌ","ಔ":"ఒౌ","ఓ":"ఒౕ","ಓ":"ఒౕ","ಜ":"జ","ಞ":"ఞ","ఢ":"డ̣","ಣ":"ణ","థ":"ధּ","భ":"బ̣","ಯ":"య","ఠ":"రּ","ಱ":"ఱ","ಲ":"ల","ష":"వ̣","హ":"వా","మ":"వు","ూ":"ుా","ౄ":"ృా","ೡ":"ಌಾ","ഈ":"ഇൗ","ഐ":"എെ","ഓ":"ഒാ","ഔ":"ഒൗ","ൡ":"ഞ","൫":"ദ്ര","൹":"നു","ഌ":"നു","ങ":"നു","൯":"ന്","ൻ":"ന്","൬":"ന്ന","൚":"ന്മ","റ":"ര","൪":"ര്","ർ":"ര്","൮":"വ്ര","൶":"ഹ്മ","ൂ":"ു","ൃ":"ു","ൈ":"െെ","෪":"ජ","෫":"ද","𑐓":"𑐴𑑂𑐒","𑐙":"𑐴𑑂𑐘","𑐤":"𑐴𑑂𑐣","𑐪":"𑐴𑑂𑐩","𑐭":"𑐴𑑂𑐬","𑐯":"𑐴𑑂𑐮","𑗘":"𑖂","𑗙":"𑖂","𑗚":"𑖃","𑗛":"𑖄","𑗜":"𑖲","𑗝":"𑖳","ฃ":"ข","ด":"ค","ต":"ค","ม":"ฆ","ຈ":"จ","ซ":"ช","ฏ":"ฎ","ท":"ฑ","ບ":"บ","ປ":"ป","ຝ":"ฝ","ພ":"พ","ຟ":"ฟ","ฦ":"ภ","ຍ":"ย","។":"ฯ","ๅ":"า","ำ":"̊า","ិ":"ิ","ី":"ี","ឹ":"ึ","ឺ":"ื","ຸ":"ุ","ູ":"ู","แ":"เเ","ໜ":"ຫນ","ໝ":"ຫມ","ຳ":"̊າ","༂":"འུྂཿ","༃":"འུྂ༔","ཪ":"ར","ༀ":"ཨོཾ","ཷ":"ྲཱྀ","ཹ":"ླཱྀ","𑲲":"𑲪","ႁ":"ဂှ","က":"ဂာ","ၰ":"ဃှ","ၦ":"ပှ","ဟ":"ပာ","ၯ":"ပာှ","ၾ":"ၽှ","ဩ":"သြ","ဪ":"သြော်","႞":"ႃ̊","ឣ":"អ","᧐":"ᦞ","᧑":"ᦱ","᪀":"ᩅ","᪐":"ᩅ","꩓":"ꨁ","꩖":"ꨣ","᭒":"ᬍ","᭓":"ᬑ","᭘":"ᬨ","ꦣ":"ꦝ","ᢖ":"ᡜ","ᡕ":"ᠵ","ῶ":"Ꮿ","ᐍ":"ᐁ·","ᐫ":"ᐁᐠ","ᐑ":"ᐄ·","ᐓ":"ᐅ·","ᐭ":"ᐅᐠ","ᐕ":"ᐆ·","ᐘ":"ᐊ·","ᐮ":"ᐊᐠ","ᐚ":"ᐋ·","ᣝ":"ᐞᣟ","ᓑ":"ᐡ","ᕀ":"ᐩ","ᐿ":"ᐲ·","ᑃ":"ᐴ·","⍩":"ᐵ","ᑇ":"ᐹ·","ᑜ":"ᑏ·","⸧":"ᑐ","⊃":"ᑐ","ᑞ":"ᑐ·","ᑩ":"ᑐ\'","⟉":"ᑐ/","⫗":"ᑐᑕ","ᑠ":"ᑑ·","⸦":"ᑕ","⊂":"ᑕ","ᑢ":"ᑕ·","ᑪ":"ᑕ\'","ᑤ":"ᑖ·","ᑵ":"ᑫ·","ᒅ":"ᑫ\'","ᑹ":"ᑮ·","ᑽ":"ᑰ·","ᘃ":"ᒉ","ᒓ":"ᒉ·","ᒕ":"ᒋ·","ᒗ":"ᒌ·","ᒛ":"ᒎ·","ᘂ":"ᒐ","ᒝ":"ᒐ·","ᒟ":"ᒑ·","ᒭ":"ᒣ·","ᒱ":"ᒦ·","ᒳ":"ᒧ·","ᒵ":"ᒨ·","ᒹ":"ᒫ·","ᓊ":"ᓀ·","ᣇ":"ᓂ·","ᣉ":"ᓃ·","ᣋ":"ᓄ·","ᣍ":"ᓅ·","ᓌ":"ᓇ·","ᓎ":"ᓈ·","ᘄ":"ᓓ","ᓝ":"ᓓ·","ᓟ":"ᓕ·","ᓡ":"ᓖ·","ᓣ":"ᓗ·","ᓥ":"ᓘ·","ᘇ":"ᓚ","ᓧ":"ᓚ·","ᓩ":"ᓛ·","ᓷ":"ᓭ·","ᓹ":"ᓯ·","ᓻ":"ᓰ·","ᓽ":"ᓱ·","ᓿ":"ᓲ·","ᔁ":"ᓴ·","ᔃ":"ᓵ·","ᔌ":"ᔋ<","ᔎ":"ᔋb","ᔍ":"ᔋᑕ","ᔏ":"ᔋᒐ","ᔘ":"ᔐ·","ᔚ":"ᔑ·","ᔜ":"ᔒ·","ᔞ":"ᔓ·","ᔠ":"ᔔ·","ᔢ":"ᔕ·","ᔤ":"ᔖ·","ᔲ":"ᔨ·","ᔴ":"ᔩ·","ᔶ":"ᔪ·","ᔸ":"ᔫ·","ᔺ":"ᔭ·","ᔼ":"ᔮ·","ᘢ":"ᕃ","ᣠ":"ᕃ·","ᘣ":"ᕆ","ᘤ":"ᕊ","ᕏ":"ᕌ·","ᖃ":"ᕐb","ᖄ":"ᕐḃ","ᖁ":"ᕐd","ᕿ":"ᕐP","ᙯ":"ᕐᑫ","ᕾ":"ᕐᑬ","ᖀ":"ᕐᑮ","ᖂ":"ᕐᑰ","ᖅ":"ᕐᒃ","ᕜ":"ᕚ·","ᣣ":"ᕞ·","ᣤ":"ᕦ·","ᕩ":"ᕧ·","ᣥ":"ᕫ·","ᣨ":"ᖆ·","ᖑ":"ᖕJ","ᙰ":"ᖕᒉ","ᖎ":"ᖕᒊ","ᖏ":"ᖕᒋ","ᖐ":"ᖕᒌ","ᖒ":"ᖕᒎ","ᖓ":"ᖕᒐ","ᖔ":"ᖕᒑ","ᙳ":"ᖖJ","ᙱ":"ᖖᒋ","ᙲ":"ᖖᒌ","ᙴ":"ᖖᒎ","ᙵ":"ᖖᒐ","ᙶ":"ᖖᒑ","ᣪ":"ᖗ·","ᙷ":"ᖧ·","ᙸ":"ᖨ·","ᙹ":"ᖩ·","ᙺ":"ᖪ·","ᙻ":"ᖫ·","ᙼ":"ᖬ·","ᙽ":"ᖭ·","⪫":"ᗒ","⪪":"ᗕ","ꓷ":"ᗡ","ᣰ":"ᗴ·","ᣲ":"ᘛ·","ᶻ":"ᙆ","ꓭ":"ᙠ","ᶺ":"ᣔ","ᴾ":"ᣖ","ᣜ":"ᣟᐞ","ˡ":"ᣳ","ʳ":"ᣴ","ˢ":"ᣵ","ᣛ":"ᣵ","ꚰ":"ᚹ","ᛡ":"ᚼ","⍿":"ᚽ","ᛂ":"ᚽ","𝈿":"ᛋ","↑":"ᛏ","↿":"ᛐ","⥮":"ᛐ⇂","⥣":"ᛐᛚ","ⵣ":"ᛯ","↾":"ᛚ","⨡":"ᛚ","⋄":"ᛜ","◇":"ᛜ","◊":"ᛜ","♢":"ᛜ","🝔":"ᛜ","𑢷":"ᛜ","𐊔":"ᛜ","⍚":"ᛜ̲","⋈":"ᛞ","⨝":"ᛞ","𐓐":"ᛦ","↕":"ᛨ","𐳼":"𐲂","𐳺":"𐲥","ㄱ":"ᄀ","ᆨ":"ᄀ","ᄁ":"ᄀᄀ","ㄲ":"ᄀᄀ","ᆩ":"ᄀᄀ","ᇺ":"ᄀᄂ","ᅚ":"ᄀᄃ","ᇃ":"ᄀᄅ","ᇻ":"ᄀᄇ","ᆪ":"ᄀᄉ","ㄳ":"ᄀᄉ","ᇄ":"ᄀᄉᄀ","ᇼ":"ᄀᄎ","ᇽ":"ᄀᄏ","ᇾ":"ᄀᄒ","ㄴ":"ᄂ","ᆫ":"ᄂ","ᄓ":"ᄂᄀ","ᇅ":"ᄂᄀ","ᄔ":"ᄂᄂ","ㅥ":"ᄂᄂ","ᇿ":"ᄂᄂ","ᄕ":"ᄂᄃ","ㅦ":"ᄂᄃ","ᇆ":"ᄂᄃ","ퟋ":"ᄂᄅ","ᄖ":"ᄂᄇ","ᅛ":"ᄂᄉ","ᇇ":"ᄂᄉ","ㅧ":"ᄂᄉ","ᅜ":"ᄂᄌ","ᆬ":"ᄂᄌ","ㄵ":"ᄂᄌ","ퟌ":"ᄂᄎ","ᇉ":"ᄂᄐ","ᅝ":"ᄂᄒ","ᆭ":"ᄂᄒ","ㄶ":"ᄂᄒ","ᇈ":"ᄂᅀ","ㅨ":"ᄂᅀ","ㄷ":"ᄃ","ᆮ":"ᄃ","ᄗ":"ᄃᄀ","ᇊ":"ᄃᄀ","ᄄ":"ᄃᄃ","ㄸ":"ᄃᄃ","ퟍ":"ᄃᄃ","ퟎ":"ᄃᄃᄇ","ᅞ":"ᄃᄅ","ᇋ":"ᄃᄅ","ꥠ":"ᄃᄆ","ꥡ":"ᄃᄇ","ퟏ":"ᄃᄇ","ꥢ":"ᄃᄉ","ퟐ":"ᄃᄉ","ퟑ":"ᄃᄉᄀ","ꥣ":"ᄃᄌ","ퟒ":"ᄃᄌ","ퟓ":"ᄃᄎ","ퟔ":"ᄃᄐ","ㄹ":"ᄅ","ᆯ":"ᄅ","ꥤ":"ᄅᄀ","ᆰ":"ᄅᄀ","ㄺ":"ᄅᄀ","ꥥ":"ᄅᄀᄀ","ퟕ":"ᄅᄀᄀ","ᇌ":"ᄅᄀᄉ","ㅩ":"ᄅᄀᄉ","ퟖ":"ᄅᄀᄒ","ᄘ":"ᄅᄂ","ᇍ":"ᄅᄂ","ꥦ":"ᄅᄃ","ᇎ":"ᄅᄃ","ㅪ":"ᄅᄃ","ꥧ":"ᄅᄃᄃ","ᇏ":"ᄅᄃᄒ","ᄙ":"ᄅᄅ","ᇐ":"ᄅᄅ","ퟗ":"ᄅᄅᄏ","ꥨ":"ᄅᄆ","ᆱ":"ᄅᄆ","ㄻ":"ᄅᄆ","ᇑ":"ᄅᄆᄀ","ᇒ":"ᄅᄆᄉ","ퟘ":"ᄅᄆᄒ","ꥩ":"ᄅᄇ","ᆲ":"ᄅᄇ","ㄼ":"ᄅᄇ","ퟙ":"ᄅᄇᄃ","ꥪ":"ᄅᄇᄇ","ᇓ":"ᄅᄇᄉ","ㅫ":"ᄅᄇᄉ","ꥫ":"ᄅᄇᄋ","ᇕ":"ᄅᄇᄋ","ퟚ":"ᄅᄇᄑ","ᇔ":"ᄅᄇᄒ","ꥬ":"ᄅᄉ","ᆳ":"ᄅᄉ","ㄽ":"ᄅᄉ","ᇖ":"ᄅᄉᄉ","ᄛ":"ᄅᄋ","ퟝ":"ᄅᄋ","ꥭ":"ᄅᄌ","ꥮ":"ᄅᄏ","ᇘ":"ᄅᄏ","ᆴ":"ᄅᄐ","ㄾ":"ᄅᄐ","ᆵ":"ᄅᄑ","ㄿ":"ᄅᄑ","ᄚ":"ᄅᄒ","ㅀ":"ᄅᄒ","ᄻ":"ᄅᄒ","ᆶ":"ᄅᄒ","ퟲ":"ᄅᄒ","ᇗ":"ᄅᅀ","ㅬ":"ᄅᅀ","ퟛ":"ᄅᅌ","ᇙ":"ᄅᅙ","ㅭ":"ᄅᅙ","ퟜ":"ᄅᅙᄒ","ㅁ":"ᄆ","ᆷ":"ᄆ","ꥯ":"ᄆᄀ","ᇚ":"ᄆᄀ","ퟞ":"ᄆᄂ","ퟟ":"ᄆᄂᄂ","ꥰ":"ᄆᄃ","ᇛ":"ᄆᄅ","ퟠ":"ᄆᄆ","ᄜ":"ᄆᄇ","ㅮ":"ᄆᄇ","ᇜ":"ᄆᄇ","ퟡ":"ᄆᄇᄉ","ꥱ":"ᄆᄉ","ᇝ":"ᄆᄉ","ㅯ":"ᄆᄉ","ᇞ":"ᄆᄉᄉ","ᄝ":"ᄆᄋ","ㅱ":"ᄆᄋ","ᇢ":"ᄆᄋ","ퟢ":"ᄆᄌ","ᇠ":"ᄆᄎ","ᇡ":"ᄆᄒ","ᇟ":"ᄆᅀ","ㅰ":"ᄆᅀ","ㅂ":"ᄇ","ᆸ":"ᄇ","ᄞ":"ᄇᄀ","ㅲ":"ᄇᄀ","ᄟ":"ᄇᄂ","ᄠ":"ᄇᄃ","ㅳ":"ᄇᄃ","ퟣ":"ᄇᄃ","ᇣ":"ᄇᄅ","ퟤ":"ᄇᄅᄑ","ퟥ":"ᄇᄆ","ᄈ":"ᄇᄇ","ㅃ":"ᄇᄇ","ퟦ":"ᄇᄇ","ᄬ":"ᄇᄇᄋ","ㅹ":"ᄇᄇᄋ","ᄡ":"ᄇᄉ","ㅄ":"ᄇᄉ","ᆹ":"ᄇᄉ","ᄢ":"ᄇᄉᄀ","ㅴ":"ᄇᄉᄀ","ᄣ":"ᄇᄉᄃ","ㅵ":"ᄇᄉᄃ","ퟧ":"ᄇᄉᄃ","ᄤ":"ᄇᄉᄇ","ᄥ":"ᄇᄉᄉ","ᄦ":"ᄇᄉᄌ","ꥲ":"ᄇᄉᄐ","ᄫ":"ᄇᄋ","ㅸ":"ᄇᄋ","ᇦ":"ᄇᄋ","ᄧ":"ᄇᄌ","ㅶ":"ᄇᄌ","ퟨ":"ᄇᄌ","ᄨ":"ᄇᄎ","ퟩ":"ᄇᄎ","ꥳ":"ᄇᄏ","ᄩ":"ᄇᄐ","ㅷ":"ᄇᄐ","ᄪ":"ᄇᄑ","ᇤ":"ᄇᄑ","ꥴ":"ᄇᄒ","ᇥ":"ᄇᄒ","ㅅ":"ᄉ","ᆺ":"ᄉ","ᄭ":"ᄉᄀ","ㅺ":"ᄉᄀ","ᇧ":"ᄉᄀ","ᄮ":"ᄉᄂ","ㅻ":"ᄉᄂ","ᄯ":"ᄉᄃ","ㅼ":"ᄉᄃ","ᇨ":"ᄉᄃ","ᄰ":"ᄉᄅ","ᇩ":"ᄉᄅ","ᄱ":"ᄉᄆ","ퟪ":"ᄉᄆ","ᄲ":"ᄉᄇ","ㅽ":"ᄉᄇ","ᇪ":"ᄉᄇ","ᄳ":"ᄉᄇᄀ","ퟫ":"ᄉᄇᄋ","ᄊ":"ᄉᄉ","ㅆ":"ᄉᄉ","ᆻ":"ᄉᄉ","ퟬ":"ᄉᄉᄀ","ퟭ":"ᄉᄉᄃ","ꥵ":"ᄉᄉᄇ","ᄴ":"ᄉᄉᄉ","ᄵ":"ᄉᄋ","ᄶ":"ᄉᄌ","ㅾ":"ᄉᄌ","ퟯ":"ᄉᄌ","ᄷ":"ᄉᄎ","ퟰ":"ᄉᄎ","ᄸ":"ᄉᄏ","ᄹ":"ᄉᄐ","ퟱ":"ᄉᄐ","ᄺ":"ᄉᄑ","ퟮ":"ᄉᅀ","ㅇ":"ᄋ","ᆼ":"ᄋ","ᅁ":"ᄋᄀ","ᇬ":"ᄋᄀ","ᇭ":"ᄋᄀᄀ","ᅂ":"ᄋᄃ","ꥶ":"ᄋᄅ","ᅃ":"ᄋᄆ","ᅄ":"ᄋᄇ","ᅅ":"ᄋᄉ","ᇱ":"ᄋᄉ","ㆂ":"ᄋᄉ","ᅇ":"ᄋᄋ","ㆀ":"ᄋᄋ","ᇮ":"ᄋᄋ","ᅈ":"ᄋᄌ","ᅉ":"ᄋᄎ","ᇯ":"ᄋᄏ","ᅊ":"ᄋᄐ","ᅋ":"ᄋᄑ","ꥷ":"ᄋᄒ","ᅆ":"ᄋᅀ","ᇲ":"ᄋᅀ","ㆃ":"ᄋᅀ","ㅈ":"ᄌ","ᆽ":"ᄌ","ퟷ":"ᄌᄇ","ퟸ":"ᄌᄇᄇ","ᅍ":"ᄌᄋ","ᄍ":"ᄌᄌ","ㅉ":"ᄌᄌ","ퟹ":"ᄌᄌ","ꥸ":"ᄌᄌᄒ","ㅊ":"ᄎ","ᆾ":"ᄎ","ᅒ":"ᄎᄏ","ᅓ":"ᄎᄒ","ㅋ":"ᄏ","ᆿ":"ᄏ","ㅌ":"ᄐ","ᇀ":"ᄐ","ꥹ":"ᄐᄐ","ㅍ":"ᄑ","ᇁ":"ᄑ","ᅖ":"ᄑᄇ","ᇳ":"ᄑᄇ","ퟺ":"ᄑᄉ","ᅗ":"ᄑᄋ","ㆄ":"ᄑᄋ","ᇴ":"ᄑᄋ","ퟻ":"ᄑᄐ","ꥺ":"ᄑᄒ","ㅎ":"ᄒ","ᇂ":"ᄒ","ᇵ":"ᄒᄂ","ᇶ":"ᄒᄅ","ᇷ":"ᄒᄆ","ᇸ":"ᄒᄇ","ꥻ":"ᄒᄉ","ᅘ":"ᄒᄒ","ㆅ":"ᄒᄒ","ᄽ":"ᄼᄼ","ᄿ":"ᄾᄾ","ㅿ":"ᅀ","ᇫ":"ᅀ","ퟳ":"ᅀᄇ","ퟴ":"ᅀᄇᄋ","ㆁ":"ᅌ","ᇰ":"ᅌ","ퟵ":"ᅌᄆ","ퟶ":"ᅌᄒ","ᅏ":"ᅎᅎ","ᅑ":"ᅐᅐ","ㆆ":"ᅙ","ᇹ":"ᅙ","ꥼ":"ᅙᅙ","ㅤ":"ᅠ","ㅏ":"ᅡ","ᆣ":"ᅡー","ᅶ":"ᅡᅩ","ᅷ":"ᅡᅮ","ᅢ":"ᅡ丨","ㅐ":"ᅡ丨","ㅑ":"ᅣ","ᅸ":"ᅣᅩ","ᅹ":"ᅣᅭ","ᆤ":"ᅣᅮ","ᅤ":"ᅣ丨","ㅒ":"ᅣ丨","ㅓ":"ᅥ","ᅼ":"ᅥー","ᅺ":"ᅥᅩ","ᅻ":"ᅥᅮ","ᅦ":"ᅥ丨","ㅔ":"ᅥ丨","ㅕ":"ᅧ","ᆥ":"ᅧᅣ","ᅽ":"ᅧᅩ","ᅾ":"ᅧᅮ","ᅨ":"ᅧ丨","ㅖ":"ᅧ丨","ㅗ":"ᅩ","ᅪ":"ᅩᅡ","ㅘ":"ᅩᅡ","ᅫ":"ᅩᅡ丨","ㅙ":"ᅩᅡ丨","ᆦ":"ᅩᅣ","ᆧ":"ᅩᅣ丨","ᅿ":"ᅩᅥ","ᆀ":"ᅩᅥ丨","ힰ":"ᅩᅧ","ᆁ":"ᅩᅧ丨","ᆂ":"ᅩᅩ","ힱ":"ᅩᅩ丨","ᆃ":"ᅩᅮ","ᅬ":"ᅩ丨","ㅚ":"ᅩ丨","ㅛ":"ᅭ","ힲ":"ᅭᅡ","ힳ":"ᅭᅡ丨","ᆄ":"ᅭᅣ","ㆇ":"ᅭᅣ","ᆆ":"ᅭᅣ","ᆅ":"ᅭᅣ丨","ㆈ":"ᅭᅣ丨","ힴ":"ᅭᅥ","ᆇ":"ᅭᅩ","ᆈ":"ᅭ丨","ㆉ":"ᅭ丨","ㅜ":"ᅮ","ᆉ":"ᅮᅡ","ᆊ":"ᅮᅡ丨","ᅯ":"ᅮᅥ","ㅝ":"ᅮᅥ","ᆋ":"ᅮᅥー","ᅰ":"ᅮᅥ丨","ㅞ":"ᅮᅥ丨","ힵ":"ᅮᅧ","ᆌ":"ᅮᅧ丨","ᆍ":"ᅮᅮ","ᅱ":"ᅮ丨","ㅟ":"ᅮ丨","ힶ":"ᅮ丨丨","ㅠ":"ᅲ","ᆎ":"ᅲᅡ","ힷ":"ᅲᅡ丨","ᆏ":"ᅲᅥ","ᆐ":"ᅲᅥ丨","ᆑ":"ᅲᅧ","ㆊ":"ᅲᅧ","ᆒ":"ᅲᅧ丨","ㆋ":"ᅲᅧ丨","ힸ":"ᅲᅩ","ᆓ":"ᅲᅮ","ᆔ":"ᅲ丨","ㆌ":"ᅲ丨","ㆍ":"ᆞ","ퟅ":"ᆞᅡ","ᆟ":"ᆞᅥ","ퟆ":"ᆞᅥ丨","ᆠ":"ᆞᅮ","ᆢ":"ᆞᆞ","ᆡ":"ᆞ丨","ㆎ":"ᆞ丨","ヘ":"へ","⍁":"〼","⧄":"〼","꒞":"ꁊ","꒬":"ꁐ","꒜":"ꃀ","꒨":"ꄲ","꒿":"ꉙ","꒾":"ꊱ","꒔":"ꋍ","꓀":"ꎫ","꓂":"ꎵ","꒺":"ꎿ","꒰":"ꏂ","꒧":"ꑘ","⊥":"ꓕ","⟂":"ꓕ","𝈜":"ꓕ","Ʇ":"ꓕ","Ꞟ":"ꓤ","⅁":"ꓨ","⅂":"ꓶ","𝈕":"ꓶ","𝈫":"ꓶ","𖼦":"ꓶ","𐐑":"ꓶ","⅃":"𖼀","𑫦":"𑫥𑫯","𑫨":"𑫥𑫥","𑫩":"𑫥𑫥𑫯","𑫪":"𑫥𑫥𑫰","𑫧":"𑫥𑫰","𑫴":"𑫳𑫯","𑫶":"𑫳𑫳","𑫷":"𑫳𑫳𑫯","𑫸":"𑫳𑫳𑫰","𑫵":"𑫳𑫰","𑫬":"𑫫𑫯","𑫭":"𑫫𑫫","𑫮":"𑫫𑫫𑫯","⊕":"𐊨","⨁":"𐊨","🜨":"𐊨","Ꚛ":"𐊨","▽":"𐊼","𝈔":"𐊼","🜄":"𐊼","⧖":"𐋀","ꞛ":"𐐺","Ꞛ":"𐐒","𐒠":"𐒆","𐏑":"𐎂","𐏓":"𐎓","𒀸":"𐎚","☥":"𐦞","𓋹":"𐦞","〹":"卄","不":"不","丽":"丽","並":"並","⎜":"丨","⎟":"丨","⎢":"丨","⎥":"丨","⎪":"丨","⎮":"丨","㇑":"丨","ᅵ":"丨","ㅣ":"丨","⼁":"丨","ᆜ":"丨ー","ᆘ":"丨ᅡ","ᆙ":"丨ᅣ","ힽ":"丨ᅣᅩ","ힾ":"丨ᅣ丨","ힿ":"丨ᅧ","ퟀ":"丨ᅧ丨","ᆚ":"丨ᅩ","ퟁ":"丨ᅩ丨","ퟂ":"丨ᅭ","ᆛ":"丨ᅮ","ퟃ":"丨ᅲ","ᆝ":"丨ᆞ","ퟄ":"丨丨","串":"串","丸":"丸","丹":"丹","乁":"乁","㇠":"乙","⼄":"乙","㇟":"乚","⺃":"乚","㇖":"乛","⺂":"乛","⻲":"亀","亂":"亂","㇚":"亅","⼅":"亅","了":"了","ニ":"二","⼆":"二","𠄢":"𠄢","⼇":"亠","亮":"亮","⼈":"人","イ":"亻","⺅":"亻","什":"什","仌":"仌","令":"令","你":"你","倂":"併","倂":"併","侀":"侀","來":"來","例":"例","侮":"侮","侮":"侮","侻":"侻","便":"便","值":"値","倫":"倫","偺":"偺","備":"備","像":"像","僚":"僚","僧":"僧","僧":"僧","㒞":"㒞","⼉":"儿","兀":"兀","⺎":"兀","充":"充","免":"免","免":"免","兔":"兔","兤":"兤","⼊":"入","內":"內","全":"全","兩":"兩","ハ":"八","⼋":"八","六":"六","具":"具","𠔜":"𠔜","𠔥":"𠔥","冀":"冀","㒹":"㒹","⼌":"冂","再":"再","𠕋":"𠕋","冒":"冒","冕":"冕","㒻":"㒻","最":"最","⼍":"冖","冗":"冗","冤":"冤","⼎":"冫","冬":"冬","况":"况","况":"况","冷":"冷","凉":"凉","凌":"凌","凜":"凜","凞":"凞","⼏":"几","𠘺":"𠘺","凵":"凵","⼐":"凵","⼑":"刀","⺉":"刂","刃":"刃","切":"切","切":"切","列":"列","利":"利","㓟":"㓟","刺":"刺","刻":"刻","剆":"剆","割":"割","剷":"剷","劉":"劉","𠠄":"𠠄","カ":"力","力":"力","⼒":"力","劣":"劣","㔕":"㔕","劳":"劳","勇":"勇","勇":"勇","勉":"勉","勉":"勉","勒":"勒","勞":"勞","勤":"勤","勤":"勤","勵":"勵","⼓":"勹","勺":"勺","勺":"勺","包":"包","匆":"匆","𠣞":"𠣞","⼔":"匕","北":"北","北":"北","⼕":"匚","⼖":"匸","匿":"匿","⼗":"十","〸":"十","〺":"卅","卉":"卉","࿖":"卍","࿕":"卐","卑":"卑","卑":"卑","博":"博","ト":"卜","⼘":"卜","⼙":"卩","⺋":"㔾","即":"即","卵":"卵","卽":"卽","卿":"卿","卿":"卿","卿":"卿","⼚":"厂","𠨬":"𠨬","⼛":"厶","參":"參","⼜":"又","及":"及","叟":"叟","𠭣":"𠭣","ロ":"口","⼝":"口","囗":"口","⼞":"口","句":"句","叫":"叫","叱":"叱","吆":"吆","吏":"吏","吝":"吝","吸":"吸","呂":"呂","呈":"呈","周":"周","咞":"咞","咢":"咢","咽":"咽","䎛":"㖈","哶":"哶","唐":"唐","啓":"啓","啟":"啓","啕":"啕","啣":"啣","善":"善","善":"善","喇":"喇","喙":"喙","喙":"喙","喝":"喝","喝":"喝","喫":"喫","喳":"喳","嗀":"嗀","嗂":"嗂","嗢":"嗢","嘆":"嘆","嘆":"嘆","噑":"噑","噴":"噴","器":"器","囹":"囹","圖":"圖","圗":"圗","⼟":"土","士":"土","⼠":"土","型":"型","城":"城","㦳":"㘽","埴":"埴","堍":"堍","報":"報","堲":"堲","塀":"塀","塚":"塚","塚":"塚","塞":"塞","填":"塡","壿":"墫","墬":"墬","墳":"墳","壘":"壘","壟":"壟","𡓤":"𡓤","壮":"壮","売":"売","壷":"壷","⼡":"夂","夆":"夆","⼢":"夊","タ":"夕","⼣":"夕","多":"多","夢":"夢","⼤":"大","奄":"奄","奈":"奈","契":"契","奔":"奔","奢":"奢","女":"女","⼥":"女","𡚨":"𡚨","𡛪":"𡛪","姘":"姘","姬":"姬","娛":"娛","娧":"娧","婢":"婢","婦":"婦","嬀":"媯","㛮":"㛮","㛼":"㛼","媵":"媵","嬈":"嬈","嬨":"嬨","嬾":"嬾","嬾":"嬾","⼦":"子","⼧":"宀","宅":"宅","𡧈":"𡧈","寃":"寃","寘":"寘","寧":"寧","寧":"寧","寧":"寧","寮":"寮","寳":"寳","𡬘":"𡬘","⼨":"寸","寿":"寿","将":"将","⼩":"小","尢":"尢","⺐":"尢","⼪":"尢","⺏":"尣","㞁":"㞁","⼫":"尸","尿":"尿","屠":"屠","屢":"屢","層":"層","履":"履","屮":"屮","屮":"屮","⼬":"屮","𡴋":"𡴋","⼭":"山","峀":"峀","岍":"岍","𡷤":"𡷤","𡷦":"𡷦","崙":"崙","嵃":"嵃","嵐":"嵐","嵫":"嵫","嵮":"嵮","嵼":"嵼","嶲":"嶲","嶺":"嶺","⼮":"巛","巢":"巢","エ":"工","⼯":"工","⼰":"己","⺒":"巳","㠯":"㠯","巽":"巽","⼱":"巾","帲":"帡","帨":"帨","帽":"帽","幩":"幩","㡢":"㡢","𢆃":"𢆃","⼲":"干","年":"年","𢆟":"𢆟","⺓":"幺","⼳":"幺","⼴":"广","度":"度","㡼":"㡼","庰":"庰","庳":"庳","庶":"庶","廊":"廊","廊":"廊","廉":"廉","廒":"廒","廓":"廓","廙":"廙","廬":"廬","⼵":"廴","廾":"廾","⼶":"廾","𢌱":"𢌱","𢌱":"𢌱","弄":"弄","⼷":"弋","⼸":"弓","弢":"弢","弢":"弢","⼹":"彐","⺔":"彑","当":"当","㣇":"㣇","⼺":"彡","形":"形","彩":"彩","彫":"彫","⼻":"彳","律":"律","㣣":"㣣","徚":"徚","復":"復","徭":"徭","⼼":"心","⺖":"忄","⺗":"㣺","忍":"忍","志":"志","念":"念","忹":"忹","怒":"怒","怜":"怜","恵":"恵","㤜":"㤜","㤺":"㤺","悁":"悁","悔":"悔","悔":"悔","惇":"惇","惘":"惘","惡":"惡","𢛔":"𢛔","愈":"愈","慨":"慨","慄":"慄","慈":"慈","慌":"慌","慌":"慌","慎":"慎","慎":"慎","慠":"慠","慺":"慺","憎":"憎","憎":"憎","憎":"憎","憐":"憐","憤":"憤","憯":"憯","憲":"憲","𢡄":"𢡄","𢡊":"𢡊","懞":"懞","懲":"懲","懲":"懲","懲":"懲","懶":"懶","懶":"懶","戀":"戀","⼽":"戈","成":"成","戛":"戛","戮":"戮","戴":"戴","⼾":"戶","戸":"戶","⼿":"手","⺘":"扌","扝":"扝","抱":"抱","拉":"拉","拏":"拏","拓":"拓","拔":"拔","拼":"拼","拾":"拾","𢬌":"𢬌","挽":"挽","捐":"捐","捨":"捨","捻":"捻","掃":"掃","掠":"掠","掩":"掩","揄":"揄","揤":"揤","摒":"摒","𢯱":"𢯱","搜":"搜","搢":"搢","揅":"揅","摩":"摩","摷":"摷","摾":"摾","㨮":"㨮","搉":"㩁","撚":"撚","撝":"撝","擄":"擄","㩬":"㩬","⽀":"支","⽁":"攴","⺙":"攵","敏":"敏","敏":"敏","敖":"敖","敬":"敬","數":"數","𣀊":"𣀊","⽂":"文","⻫":"斉","⽃":"斗","料":"料","⽄":"斤","⽅":"方","旅":"旅","⽆":"无","⺛":"旡","既":"既","旣":"旣","⽇":"日","易":"易","曶":"㫚","㫤":"㫤","晉":"晉","晩":"晚","晴":"晴","晴":"晴","暑":"暑","暑":"暑","暈":"暈","㬈":"㬈","暜":"暜","暴":"暴","曆":"曆","㬙":"㬙","𣊸":"𣊸","⽈":"曰","更":"更","書":"書","⽉":"月","𣍟":"𣍟","肦":"朌","胐":"朏","胊":"朐","脁":"朓","胶":"㬵","朗":"朗","朗":"朗","朗":"朗","脧":"朘","望":"望","望":"望","幐":"㬺","䐠":"㬻","𣎓":"𣎓","膧":"朣","𣎜":"𣎜","⽊":"木","李":"李","杓":"杓","杖":"杖","杞":"杞","𣏃":"𣏃","柿":"杮","杻":"杻","枅":"枅","林":"林","㭉":"㭉","𣏕":"𣏕","柳":"柳","柺":"柺","栗":"栗","栟":"栟","桒":"桒","𣑭":"𣑭","梁":"梁","梅":"梅","梅":"梅","梎":"梎","梨":"梨","椔":"椔","楂":"楂","㮝":"㮝","㮝":"㮝","槩":"㮣","樧":"榝","榣":"榣","槪":"槪","樂":"樂","樂":"樂","樂":"樂","樓":"樓","𣚣":"𣚣","檨":"檨","櫓":"櫓","櫛":"櫛","欄":"欄","㰘":"㰘","⽋":"欠","次":"次","𣢧":"𣢧","歔":"歔","㱎":"㱎","⽌":"止","⻭":"歯","歲":"歲","歷":"歷","歹":"歹","⽍":"歹","⺞":"歺","殟":"殟","殮":"殮","⽎":"殳","殺":"殺","殺":"殺","殺":"殺","殻":"殻","𣪍":"𣪍","⽏":"毋","⺟":"母","𣫺":"𣫺","⽐":"比","⽑":"毛","⽒":"氏","⺠":"民","⽓":"气","⽔":"水","⺡":"氵","⺢":"氺","汎":"汎","汧":"汧","沈":"沈","沿":"沿","泌":"泌","泍":"泍","泥":"泥","𣲼":"𣲼","洛":"洛","洞":"洞","洴":"洴","派":"派","流":"流","流":"流","流":"流","洖":"洖","浩":"浩","浪":"浪","海":"海","海":"海","浸":"浸","涅":"涅","𣴞":"𣴞","淋":"淋","淚":"淚","淪":"淪","淹":"淹","渚":"渚","港":"港","湮":"湮","潙":"溈","滋":"滋","滋":"滋","溜":"溜","溺":"溺","滇":"滇","滑":"滑","滛":"滛","㴳":"㴳","漏":"漏","漢":"漢","漢":"漢","漣":"漣","𣻑":"𣻑","潮":"潮","𣽞":"𣽞","𣾎":"𣾎","濆":"濆","濫":"濫","濾":"濾","瀛":"瀛","瀞":"瀞","瀞":"瀞","瀹":"瀹","灊":"灊","㶖":"㶖","⽕":"火","⺣":"灬","灰":"灰","灷":"灷","災":"災","炙":"炙","炭":"炭","烈":"烈","烙":"烙","煮":"煮","煮":"煮","𤉣":"𤉣","煅":"煅","煉":"煉","𤋮":"𤋮","熜":"熜","燎":"燎","燐":"燐","𤎫":"𤎫","爐":"爐","爛":"爛","爨":"爨","⽖":"爪","爫":"爫","⺤":"爫","爵":"爵","爵":"爵","⽗":"父","⽘":"爻","⺦":"丬","⽙":"爿","⽚":"片","牐":"牐","⽛":"牙","𤘈":"𤘈","⽜":"牛","牢":"牢","犀":"犀","犕":"犕","⽝":"犬","⺨":"犭","犯":"犯","狀":"狀","𤜵":"𤜵","狼":"狼","猪":"猪","猪":"猪","𤠔":"𤠔","獵":"獵","獺":"獺","⽞":"玄","率":"率","率":"率","⽟":"玉","王":"王","㺬":"㺬","玥":"玥","玲":"玲","㺸":"㺸","㺸":"㺸","珞":"珞","琉":"琉","理":"理","琢":"琢","瑇":"瑇","瑜":"瑜","瑩":"瑩","瑱":"瑱","瑱":"瑱","璅":"璅","璉":"璉","璘":"璘","瓊":"瓊","⽠":"瓜","⽡":"瓦","㼛":"㼛","甆":"甆","⽢":"甘","⽣":"生","甤":"甤","⽤":"用","⽥":"田","画":"画","甾":"甾","𤰶":"𤰶","留":"留","略":"略","異":"異","異":"異","𤲒":"𤲒","⽦":"疋","⽧":"疒","痢":"痢","瘐":"瘐","瘟":"瘟","瘝":"瘝","療":"療","癩":"癩","⽨":"癶","⽩":"白","𤾡":"𤾡","𤾸":"𤾸","⽪":"皮","⽫":"皿","𥁄":"𥁄","㿼":"㿼","益":"益","益":"益","盛":"盛","盧":"盧","䀈":"䀈","⽬":"目","直":"直","直":"直","𥃲":"𥃲","𥃳":"𥃳","省":"省","䀘":"䀘","𥄙":"𥄙","眞":"眞","真":"真","真":"真","𥄳":"𥄳","着":"着","睊":"睊","睊":"睊","鿃":"䀹","䀹":"䀹","䀹":"䀹","晣":"䀿","䁆":"䁆","瞋":"瞋","𥉉":"𥉉","瞧":"瞧","⽭":"矛","⽮":"矢","⽯":"石","䂖":"䂖","𥐝":"𥐝","硏":"研","硎":"硎","硫":"硫","碌":"碌","碌":"碌","碑":"碑","磊":"磊","磌":"磌","磌":"磌","磻":"磻","䃣":"䃣","礪":"礪","⽰":"示","⺭":"礻","礼":"礼","社":"社","祈":"祈","祉":"祉","𥘦":"𥘦","祐":"祐","祖":"祖","祖":"祖","祝":"祝","神":"神","祥":"祥","視":"視","視":"視","祿":"祿","𥚚":"𥚚","禍":"禍","禎":"禎","福":"福","福":"福","𥛅":"𥛅","禮":"禮","⽱":"禸","⽲":"禾","秊":"秊","䄯":"䄯","秫":"秫","稜":"稜","穊":"穊","穀":"穀","穀":"穀","穏":"穏","⽳":"穴","突":"突","𥥼":"𥥼","窱":"窱","立":"立","⽴":"立","⻯":"竜","𥪧":"𥪧","𥪧":"𥪧","竮":"竮","⽵":"竹","笠":"笠","節":"節","節":"節","䈂":"䈂","𥮫":"𥮫","篆":"篆","䈧":"䈧","築":"築","𥲀":"𥲀","𥳐":"𥳐","簾":"簾","籠":"籠","⽶":"米","类":"类","粒":"粒","精":"精","糒":"糒","糖":"糖","糨":"糨","䊠":"䊠","糣":"糣","糧":"糧","⽷":"糸","⺯":"糹","𥾆":"𥾆","紀":"紀","紐":"紐","索":"索","累":"累","絶":"絕","絣":"絣","絛":"絛","綠":"綠","綾":"綾","緇":"緇","練":"練","練":"練","練":"練","縂":"縂","䌁":"䌁","縉":"縉","縷":"縷","繁":"繁","繅":"繅","𦇚":"𦇚","䌴":"䌴","⽸":"缶","𦈨":"𦈨","缾":"缾","𦉇":"𦉇","⽹":"网","⺫":"罒","⺲":"罒","⺱":"罓","䍙":"䍙","署":"署","𦋙":"𦋙","罹":"罹","罺":"罺","羅":"羅","𦌾":"𦌾","⽺":"羊","羕":"羕","羚":"羚","羽":"羽","⽻":"羽","翺":"翺","老":"老","⽼":"老","⺹":"耂","者":"者","者":"者","者":"者","⽽":"而","𦓚":"𦓚","⽾":"耒","𦔣":"𦔣","⽿":"耳","聆":"聆","聠":"聠","𦖨":"𦖨","聯":"聯","聰":"聰","聾":"聾","⾀":"聿","⺺":"肀","⾁":"肉","肋":"肋","肭":"肭","育":"育","䏕":"䏕","䏙":"䏙","腁":"胼","脃":"脃","脾":"脾","䐋":"䐋","朡":"朡","𦞧":"𦞧","𦞵":"𦞵","朦":"䑃","臘":"臘","⾂":"臣","臨":"臨","⾃":"自","臭":"臭","⾄":"至","⾅":"臼","舁":"舁","舁":"舁","舄":"舄","⾆":"舌","舘":"舘","⾇":"舛","⾈":"舟","䑫":"䑫","⾉":"艮","良":"良","⾊":"色","⾋":"艸","艹":"艹","艹":"艹","⺾":"艹","⺿":"艹","⻀":"艹","芋":"芋","芑":"芑","芝":"芝","花":"花","芳":"芳","芽":"芽","若":"若","若":"若","苦":"苦","𦬼":"𦬼","茶":"茶","荒":"荒","荣":"荣","茝":"茝","茣":"茣","莽":"莽","荓":"荓","菉":"菉","菊":"菊","菌":"菌","菜":"菜","菧":"菧","華":"華","菱":"菱","著":"著","著":"著","𦰶":"𦰶","莭":"莭","落":"落","葉":"葉","蔿":"蒍","𦳕":"𦳕","𦵫":"𦵫","蓮":"蓮","蓱":"蓱","蓳":"蓳","蓼":"蓼","蔖":"蔖","䔫":"䔫","蕤":"蕤","𦼬":"𦼬","藍":"藍","䕝":"䕝","𦾱":"𦾱","䕡":"䕡","藺":"藺","蘆":"蘆","䕫":"䕫","蘒":"蘒","蘭":"蘭","𧃒":"𧃒","虁":"蘷","蘿":"蘿","⾌":"虍","⻁":"虎","虐":"虐","虜":"虜","虜":"虜","虧":"虧","虩":"虩","⾍":"虫","蚩":"蚩","蚈":"蚈","蛢":"蛢","蜎":"蜎","蜨":"蜨","蝫":"蝫","蟡":"蟡","蝹":"蝹","蝹":"蝹","螆":"螆","䗗":"䗗","𧏊":"𧏊","螺":"螺","蠁":"蠁","䗹":"䗹","蠟":"蠟","⾎":"血","行":"行","⾏":"行","衠":"衠","衣":"衣","⾐":"衣","⻂":"衤","裂":"裂","𧙧":"𧙧","裏":"裏","裗":"裗","裞":"裞","裡":"裡","裸":"裸","裺":"裺","䘵":"䘵","褐":"褐","襁":"襁","襤":"襤","⾑":"襾","⻄":"西","⻃":"覀","覆":"覆","見":"見","⾒":"見","𧢮":"𧢮","⻅":"见","⾓":"角","⾔":"言","𧥦":"𧥦","詽":"訮","訞":"䚶","䚾":"䚾","䛇":"䛇","誠":"誠","說":"說","說":"說","調":"調","請":"請","諒":"諒","論":"論","諭":"諭","諭":"諭","諸":"諸","諸":"諸","諾":"諾","諾":"諾","謁":"謁","謁":"謁","謹":"謹","謹":"謹","識":"識","讀":"讀","讏":"讆","變":"變","變":"變","⻈":"讠","⾕":"谷","⾖":"豆","豈":"豈","豕":"豕","⾗":"豕","豣":"豜","⾘":"豸","𧲨":"𧲨","⾙":"貝","貫":"貫","賁":"賁","賂":"賂","賈":"賈","賓":"賓","贈":"贈","贈":"贈","贛":"贛","⻉":"贝","⾚":"赤","⾛":"走","起":"起","趆":"赿","𧻓":"𧻓","𧼯":"𧼯","⾜":"足","跋":"跋","趼":"趼","跺":"跥","路":"路","跰":"跰","躛":"躗","⾝":"身","車":"車","⾞":"車","軔":"軔","輧":"軿","輦":"輦","輪":"輪","輸":"輸","輸":"輸","輻":"輻","轢":"轢","⻋":"车","⾟":"辛","辞":"辞","辰":"辰","⾠":"辰","⾡":"辵","辶":"辶","⻌":"辶","⻍":"辶","巡":"巡","連":"連","逸":"逸","逸":"逸","遲":"遲","遼":"遼","𨗒":"𨗒","𨗭":"𨗭","邏":"邏","⾢":"邑","邔":"邔","郎":"郎","郞":"郎","郞":"郎","郱":"郱","都":"都","𨜮":"𨜮","鄑":"鄑","鄛":"鄛","⾣":"酉","酪":"酪","醙":"醙","醴":"醴","⾤":"釆","里":"里","⾥":"里","量":"量","金":"金","⾦":"金","鈴":"鈴","鈸":"鈸","鉶":"鉶","鋗":"鋗","鋘":"鋘","鉼":"鉼","錄":"錄","鍊":"鍊","鎮":"鎭","鏹":"鏹","鐕":"鐕","𨯺":"𨯺","⻐":"钅","⻑":"長","⾧":"長","⻒":"镸","⻓":"长","⾨":"門","開":"開","䦕":"䦕","閭":"閭","閷":"閷","𨵷":"𨵷","⻔":"门","⾩":"阜","⻏":"阝","⻖":"阝","阮":"阮","陋":"陋","降":"降","陵":"陵","陸":"陸","陼":"陼","隆":"隆","隣":"隣","䧦":"䧦","⾪":"隶","隷":"隷","隸":"隷","隸":"隷","⾫":"隹","雃":"雃","離":"離","難":"難","難":"難","⾬":"雨","零":"零","雷":"雷","霣":"霣","𩅅":"𩅅","露":"露","靈":"靈","⾭":"靑","⻘":"青","靖":"靖","靖":"靖","𩇟":"𩇟","⾮":"非","⾯":"面","𩈚":"𩈚","⾰":"革","䩮":"䩮","䩶":"䩶","⾱":"韋","韛":"韛","韠":"韠","⻙":"韦","⾲":"韭","𩐊":"𩐊","⾳":"音","響":"響","響":"響","⾴":"頁","䪲":"䪲","頋":"頋","頋":"頋","頋":"頋","領":"領","頩":"頩","𩒖":"𩒖","頻":"頻","頻":"頻","類":"類","⻚":"页","⾵":"風","𩖶":"𩖶","⻛":"风","⾶":"飛","⻜":"飞","⻝":"食","⾷":"食","⻟":"飠","飢":"飢","飯":"飯","飼":"飼","䬳":"䬳","館":"館","餩":"餩","⻠":"饣","⾸":"首","⾹":"香","馧":"馧","⾺":"馬","駂":"駂","駱":"駱","駾":"駾","驪":"驪","⻢":"马","⾻":"骨","䯎":"䯎","⾼":"高","⾽":"髟","𩬰":"𩬰","鬒":"鬒","鬒":"鬒","⾾":"鬥","⾿":"鬯","⿀":"鬲","⿁":"鬼","⻤":"鬼","⿂":"魚","魯":"魯","鱀":"鱀","鱗":"鱗","⻥":"鱼","⿃":"鳥","鳽":"鳽","䳎":"䳎","鵧":"鵧","䳭":"䳭","𪃎":"𪃎","鶴":"鶴","𪄅":"𪄅","䳸":"䳸","鷺":"鷺","𪈎":"𪈎","鸞":"鸞","鹃":"鹂","⿄":"鹵","鹿":"鹿","⿅":"鹿","𪊑":"𪊑","麗":"麗","麟":"麟","⿆":"麥","⻨":"麦","麻":"麻","⿇":"麻","𪎒":"𪎒","⿈":"黃","⻩":"黄","⿉":"黍","黎":"黎","䵖":"䵖","⿊":"黑","黒":"黑","墨":"墨","黹":"黹","⿋":"黹","⿌":"黽","鼅":"鼅","黾":"黾","⿍":"鼎","鼏":"鼏","⿎":"鼓","鼖":"鼖","⿏":"鼠","鼻":"鼻","⿐":"鼻","齃":"齃","⿑":"齊","⻬":"齐","⿒":"齒","𪘀":"𪘀","⻮":"齿","龍":"龍","⿓":"龍","龎":"龎","⻰":"龙","龜":"龜","龜":"龜","龜":"龜","⿔":"龜","⻳":"龟","⿕":"龠"}')})),parcelRequire.register("d6Ohb",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("gNsil"),a=parcelRequire("gUJ6q"),o=parcelRequire("9PuT7"),s=parcelRequire("8rJSp"),u=parcelRequire("cDTRq"),c=parcelRequire("jD4IQ"),l=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"],f=function(e){(0,i.default)(r,e);var t=(0,s.default)(r);function r(e){var i;return(0,n.default)(this,r),i=t.call(this),e instanceof Error?(i.originalError=e,e=e.message):(i.originalError=new Error(e),i.originalError.stack=i.stack),i.name="AbortError",i.message=e,i}return r}((0,o.default)(Error)),d=function(e,t){return new Promise((function(n,i){t=(0,a.default)({onFailedAttempt:function(){},retries:10},t);var o,s=c.operation(t);s.attempt((o=(0,r.default)((function(r){var a,o;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,10]),[4,e(r)];case 1:return n.apply(void 0,[u.sent()]),[3,10];case 2:return(a=u.sent())instanceof Error?a instanceof f?(s.stop(),i(a.originalError),[3,9]):[3,3]:(i(new TypeError('Non-error was thrown: "'.concat(a,'". You should only throw errors.'))),[2]);case 3:return a instanceof TypeError&&(c=a.message,!l.includes(c))?(s.stop(),i(a),[3,9]):[3,4];case 4:!function(e,t,r){var n=r.retries-(t-1);e.attemptNumber=t,e.retriesLeft=n}(a,r,t),u.label=5;case 5:return u.trys.push([5,7,,8]),[4,t.onFailedAttempt(a)];case 6:return u.sent(),[3,8];case 7:return o=u.sent(),i(o),[2];case 8:s.retry(a)||i(s.mainError()),u.label=9;case 9:return[3,10];case 10:return[2]}var c}))})),function(e){return o.apply(this,arguments)}))}))};e.exports=d,e.exports.default=d,e.exports.AbortError=f})),parcelRequire.register("gUJ6q",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("8WkQI");function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){(0,r.default)(e,t,n[t])}))}return e}})),parcelRequire.register("jD4IQ",(function(e,t){e.exports=parcelRequire("cGju7")})),parcelRequire.register("cGju7",(function(e,t){var r,n,i,a;$parcel$export(e.exports,"operation",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"timeouts",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"createTimeout",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"wrap",(function(){return a}),(function(e){return a=e}));var o=parcelRequire("7Bewz");r=function(e){var t=n(e);return new o(t,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},n=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},i=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},a=function(e,t,n){if(t instanceof Array&&(n=t,t=null),!n)for(var i in n=[],e)"function"==typeof e[i]&&n.push(i);for(var a=0;a<n.length;a++){var o=n[a],s=e[o];e[o]=function(n){var i=r(t),a=Array.prototype.slice.call(arguments,1),o=a.pop();a.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(e,a)}))}.bind(e,s),e[o].options=t}}})),parcelRequire.register("7Bewz",(function(e,t){function r(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},r.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},r.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=r&&(t=i,r=o)}return t}})),parcelRequire.register("ezQWq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.M_TIMESTAMP=e.exports.M_LOCATION=e.exports.M_ASSET=e.exports.LocationAssetType=void 0;var r,n,i=parcelRequire("cQ59V");parcelRequire("5wARq"),e.exports.LocationAssetType=r,(n=r||(e.exports.LocationAssetType=r={})).Self="m.self",n.Pin="m.pin";var a=new i.UnstableValue("m.asset","org.matrix.msc3488.asset");e.exports.M_ASSET=a;var o=new i.UnstableValue("m.ts","org.matrix.msc3488.ts");e.exports.M_TIMESTAMP=o;var s=new i.UnstableValue("m.location","org.matrix.msc3488.location");e.exports.M_LOCATION=s})),parcelRequire.register("cQ59V",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("caN7I"),s=parcelRequire("8rJSp"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UnstableValue=e.exports.ServerControlledNamespacedValue=e.exports.NamespacedValue=void 0;var c=u(parcelRequire("abzte")),l=function(){function e(t,r){if((0,n.default)(this,e),this.stable=t,this.unstable=r,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}return(0,i.default)(e,[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"names",get:function(){var e=[this.name],t=this.altName;return t&&e.push(t),e}},{key:"matches",value:function(e){return this.name===e||this.altName===e}},{key:"findIn",value:function(e){var t=void 0;return this.name&&(t=null==e?void 0:e[this.name]),!t&&this.altName&&(t=null==e?void 0:e[this.altName]),t}},{key:"includedIn",value:function(e){var t=!1;return this.name&&(t=e.includes(this.name)),!t&&this.altName&&(t=e.includes(this.altName)),t}}]),e}();e.exports.NamespacedValue=l;var f=function(e){(0,a.default)(u,e);var t=(0,s.default)(u);function u(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var s;return(0,n.default)(this,u),s=t.call.apply(t,[this].concat((0,o.default)(i))),(0,c.default)((0,r.default)(s),"preferUnstable",!1),s}return(0,i.default)(u,[{key:"setPreferUnstable",value:function(e){this.preferUnstable=e}},{key:"name",get:function(){return this.stable&&!this.preferUnstable?this.stable:this.unstable}}]),u}(l);e.exports.ServerControlledNamespacedValue=f;var d=function(e){(0,a.default)(r,e);var t=(0,s.default)(r);function r(e,i){var a;if((0,n.default)(this,r),!(a=t.call(this,e,i)).unstable)throw new Error("Unstable value must be supplied");return a}return(0,i.default)(r,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}]),r}(l);e.exports.UnstableValue=d})),parcelRequire.register("5wARq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TEXT_NODE_TYPE=void 0;var r=new(parcelRequire("cQ59V").UnstableValue)("m.text","org.matrix.msc1767.text");e.exports.TEXT_NODE_TYPE=r})),parcelRequire.register("kFcT2",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ReceiptType=e.exports.MAIN_ROOM_TIMELINE=void 0,e.exports.ReceiptType=r,(n=r||(e.exports.ReceiptType=r={})).Read="m.read",n.FullyRead="m.fully_read",n.ReadPrivate="m.read.private";e.exports.MAIN_ROOM_TIMELINE="main"})),parcelRequire.register("gFRa7",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MemoryStore=void 0;var s=o(parcelRequire("abzte")),u=parcelRequire("5Ewnj"),c=parcelRequire("kDAFF");function l(e){return"string"==typeof e&&!!e&&"undefined"!==e&&"null"!==e||"number"==typeof e}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this;(0,n.default)(this,e),(0,s.default)(this,"rooms",{}),(0,s.default)(this,"users",{}),(0,s.default)(this,"syncToken",null),(0,s.default)(this,"filters",{}),(0,s.default)(this,"accountData",{}),(0,s.default)(this,"localStorage",void 0),(0,s.default)(this,"oobMembers",{}),(0,s.default)(this,"pendingEvents",{}),(0,s.default)(this,"clientOptions",void 0),(0,s.default)(this,"pendingToDeviceBatches",[]),(0,s.default)(this,"nextToDeviceBatchId",0),(0,s.default)(this,"onRoomMember",(function(e,t,n){if("invite"!==n.membership){var i=r.users[n.userId]||new u.User(n.userId);n.name&&(i.setDisplayName(n.name),n.events.member&&i.setRawDisplayName(n.events.member.getDirectionalContent().displayname)),n.events.member&&n.events.member.getContent().avatar_url&&i.setAvatarUrl(n.events.member.getContent().avatar_url),r.users[i.userId]=i}})),this.localStorage=t.localStorage}return(0,i.default)(e,[{key:"getSyncToken",value:function(){return this.syncToken}},{key:"isNewlyCreated",value:function(){return Promise.resolve(!0)}},{key:"setSyncToken",value:function(e){this.syncToken=e}},{key:"storeRoom",value:function(e){var t=this;this.rooms[e.roomId]=e,e.currentState.on(c.RoomStateEvent.Members,this.onRoomMember),e.currentState.getMembers().forEach((function(r){t.onRoomMember(null,e.currentState,r)}))}},{key:"getRoom",value:function(e){return this.rooms[e]||null}},{key:"getRooms",value:function(){return Object.values(this.rooms)}},{key:"removeRoom",value:function(e){this.rooms[e]&&this.rooms[e].currentState.removeListener(c.RoomStateEvent.Members,this.onRoomMember),delete this.rooms[e]}},{key:"getRoomSummaries",value:function(){return Object.values(this.rooms).map((function(e){return e.summary}))}},{key:"storeUser",value:function(e){this.users[e.userId]=e}},{key:"getUser",value:function(e){return this.users[e]||null}},{key:"getUsers",value:function(){return Object.values(this.users)}},{key:"scrollback",value:function(e,t){return[]}},{key:"storeEvents",value:function(e,t,r,n){}},{key:"storeFilter",value:function(e){null!=e&&e.userId&&null!=e&&e.filterId&&(this.filters[e.userId]||(this.filters[e.userId]={}),this.filters[e.userId][e.filterId]=e)}},{key:"getFilter",value:function(e,t){return this.filters[e]&&this.filters[e][t]?this.filters[e][t]:null}},{key:"getFilterIdByName",value:function(e){if(!this.localStorage)return null;var t="mxjssdk_memory_filter_"+e;try{var r=this.localStorage.getItem(t);if(l(r))return r}catch(e){}return null}},{key:"setFilterIdByName",value:function(e,t){if(this.localStorage){var r="mxjssdk_memory_filter_"+e;try{l(t)?this.localStorage.setItem(r,t):this.localStorage.removeItem(r)}catch(e){}}}},{key:"storeAccountDataEvents",value:function(e){var t=this;e.forEach((function(e){!Object.keys(e.getContent()).length?delete t.accountData[e.getType()]:t.accountData[e.getType()]=e}))}},{key:"getAccountData",value:function(e){return this.accountData[e]}},{key:"setSyncData",value:function(e){return Promise.resolve()}},{key:"wantsSave",value:function(){return!1}},{key:"save",value:function(e){}},{key:"startup",value:function(){return Promise.resolve()}},{key:"getSavedSync",value:function(){return Promise.resolve(null)}},{key:"getSavedSyncToken",value:function(){return Promise.resolve(null)}},{key:"deleteAllData",value:function(){return this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},Promise.resolve()}},{key:"getOutOfBandMembers",value:function(e){return Promise.resolve(this.oobMembers[e]||null)}},{key:"setOutOfBandMembers",value:function(e,t){return this.oobMembers[e]=t,Promise.resolve()}},{key:"clearOutOfBandMembers",value:function(e){return this.oobMembers={},Promise.resolve()}},{key:"getClientOptions",value:function(){return Promise.resolve(this.clientOptions)}},{key:"storeClientOptions",value:function(e){return this.clientOptions=Object.assign({},e),Promise.resolve()}},{key:"getPendingEvents",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,a.__generator)(this,(function(n){return[2,null!==(r=t.pendingEvents[e])&&void 0!==r?r:[]]}))}))()}},{key:"setPendingEvents",value:function(e,t){var n=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(r){return n.pendingEvents[e]=t,[2]}))}))()}},{key:"saveToDeviceBatches",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.pendingToDeviceBatches.push({id:this.nextToDeviceBatchId++,eventType:o.eventType,txnId:o.txnId,batch:o.batch})}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return Promise.resolve()}},{key:"getOldestToDeviceBatch",value:function(){var e=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(t){return 0===e.pendingToDeviceBatches.length?[2,null]:[2,e.pendingToDeviceBatches[0]]}))}))()}},{key:"removeToDeviceBatch",value:function(e){return this.pendingToDeviceBatches=this.pendingToDeviceBatches.filter((function(t){return t.id!==e})),Promise.resolve()}}]),e}();e.exports.MemoryStore=f})),parcelRequire.register("5Ewnj",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("8rJSp"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UserEvent=e.exports.User=void 0;var u,c,l=s(parcelRequire("abzte")),f=parcelRequire("4Eh2q");e.exports.UserEvent=u,(c=u||(e.exports.UserEvent=u={})).DisplayName="User.displayName",c.AvatarUrl="User.avatarUrl",c.Presence="User.presence",c.CurrentlyActive="User.currentlyActive",c.LastPresenceTs="User.lastPresenceTs";var d=function(e){(0,a.default)(s,e);var t=(0,o.default)(s);function s(e){var i;return(0,n.default)(this,s),(i=t.call(this)).userId=e,(0,l.default)((0,r.default)(i),"modified",-1),(0,l.default)((0,r.default)(i),"displayName",void 0),(0,l.default)((0,r.default)(i),"rawDisplayName",void 0),(0,l.default)((0,r.default)(i),"avatarUrl",void 0),(0,l.default)((0,r.default)(i),"presenceStatusMsg",void 0),(0,l.default)((0,r.default)(i),"presence","offline"),(0,l.default)((0,r.default)(i),"lastActiveAgo",0),(0,l.default)((0,r.default)(i),"lastPresenceTs",0),(0,l.default)((0,r.default)(i),"currentlyActive",!1),(0,l.default)((0,r.default)(i),"events",{}),i.displayName=e,i.rawDisplayName=e,i.updateModifiedTime(),i}return(0,i.default)(s,[{key:"setPresenceEvent",value:function(e){if("m.presence"===e.getType()){var t=null===this.events.presence;this.events.presence=e;var r=[];(e.getContent().presence!==this.presence||t)&&r.push(u.Presence),e.getContent().avatar_url&&e.getContent().avatar_url!==this.avatarUrl&&r.push(u.AvatarUrl),e.getContent().displayname&&e.getContent().displayname!==this.displayName&&r.push(u.DisplayName),void 0!==e.getContent().currently_active&&e.getContent().currently_active!==this.currentlyActive&&r.push(u.CurrentlyActive),this.presence=e.getContent().presence,r.push(u.LastPresenceTs),e.getContent().status_msg&&(this.presenceStatusMsg=e.getContent().status_msg),e.getContent().displayname&&(this.displayName=e.getContent().displayname),e.getContent().avatar_url&&(this.avatarUrl=e.getContent().avatar_url),this.lastActiveAgo=e.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=e.getContent().currently_active,this.updateModifiedTime();var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;this.emit(c,e,this)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}}},{key:"setDisplayName",value:function(e){var t=this.displayName;this.displayName=e,e!==t&&this.updateModifiedTime()}},{key:"setRawDisplayName",value:function(e){this.rawDisplayName=e}},{key:"setAvatarUrl",value:function(e){var t=this.avatarUrl;this.avatarUrl=e,e!==t&&this.updateModifiedTime()}},{key:"updateModifiedTime",value:function(){this.modified=Date.now()}},{key:"getLastModifiedTime",value:function(){return this.modified}},{key:"getLastActiveTs",value:function(){return this.lastPresenceTs-this.lastActiveAgo}}]),s}(f.TypedEventEmitter);e.exports.User=d})),parcelRequire.register("4Eh2q",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("aPvD2"),a=parcelRequire("aBvOn"),o=parcelRequire("gNsil"),s=parcelRequire("caN7I"),u=parcelRequire("8rJSp");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TypedEventEmitter=e.exports.EventEmitterEvents=void 0;var c,l,f=parcelRequire("ftI7v");e.exports.EventEmitterEvents=c,(l=c||(e.exports.EventEmitterEvents=c={})).NewListener="newListener",l.RemoveListener="removeListener",l.Error="error";var d=function(e){(0,o.default)(c,e);var t=(0,u.default)(c);function c(){return(0,r.default)(this,c),t.apply(this,arguments)}return(0,n.default)(c,[{key:"addListener",value:function(e,t){return(0,i.default)((0,a.default)(c.prototype),"addListener",this).call(this,e,t)}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o;return(o=(0,i.default)((0,a.default)(c.prototype),"emit",this)).call.apply(o,[this,e].concat((0,s.default)(r)))}},{key:"eventNames",value:function(){return(0,i.default)((0,a.default)(c.prototype),"eventNames",this).call(this)}},{key:"listenerCount",value:function(e){return(0,i.default)((0,a.default)(c.prototype),"listenerCount",this).call(this,e)}},{key:"listeners",value:function(e){return(0,i.default)((0,a.default)(c.prototype),"listeners",this).call(this,e)}},{key:"off",value:function(e,t){return(0,i.default)((0,a.default)(c.prototype),"off",this).call(this,e,t)}},{key:"on",value:function(e,t){return(0,i.default)((0,a.default)(c.prototype),"on",this).call(this,e,t)}},{key:"once",value:function(e,t){return(0,i.default)((0,a.default)(c.prototype),"once",this).call(this,e,t)}},{key:"prependListener",value:function(e,t){return(0,i.default)((0,a.default)(c.prototype),"prependListener",this).call(this,e,t)}},{key:"prependOnceListener",value:function(e,t){return(0,i.default)((0,a.default)(c.prototype),"prependOnceListener",this).call(this,e,t)}},{key:"removeAllListeners",value:function(e){return(0,i.default)((0,a.default)(c.prototype),"removeAllListeners",this).call(this,e)}},{key:"removeListener",value:function(e,t){return(0,i.default)((0,a.default)(c.prototype),"removeListener",this).call(this,e,t)}},{key:"rawListeners",value:function(e){return(0,i.default)((0,a.default)(c.prototype),"rawListeners",this).call(this,e)}}]),c}(f.EventEmitter);e.exports.TypedEventEmitter=d})),parcelRequire.register("aPvD2",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("44rdr");function n(e,t,i){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=(0,r.default)(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},n(e,t,i)}function i(e,t,r){return n(e,t,r)}})),parcelRequire.register("44rdr",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("aBvOn");function n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.default)(e)););return e}})),parcelRequire.register("ftI7v",(function(e,t){var r,n=parcelRequire("dCPLc"),i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){var i=function(r){e.removeListener(t,a),n(r)},a=function(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))};g(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===e?"undefined":(0,n.default)(e)))}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,a,o,s;if(c(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function v(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):b(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===e?"undefined":(0,n.default)(e)));e.addEventListener(t,(function n(a){i.once&&e.removeEventListener(t,n),r(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=b(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,a,o;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return v(this,e,!0)},s.prototype.rawListeners=function(e){return v(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}})),parcelRequire.register("kDAFF",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("caN7I"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RoomStateEvent=e.exports.RoomState=void 0;var d,h,v,p,b=f(parcelRequire("abzte")),g=parcelRequire("iUBUo"),m=parcelRequire("fKX3v"),$=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),y=parcelRequire("axSuM"),w=parcelRequire("dlOEf"),_=parcelRequire("fOPpl"),S=parcelRequire("4Eh2q"),C=parcelRequire("eDh8c"),k=parcelRequire("5FD7J"),E=parcelRequire("hR3AI");function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,b.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(h=d||(d={}))[h.NotStarted=0]="NotStarted",h[h.InProgress=1]="InProgress",h[h.Finished=2]="Finished",e.exports.RoomStateEvent=v,(p=v||(e.exports.RoomStateEvent=v={})).Events="RoomState.events",p.Members="RoomState.members",p.NewMember="RoomState.newMember",p.Update="RoomState.update",p.BeaconLiveness="RoomState.BeaconLiveness",p.Marker="RoomState.Marker";var I=function(e){(0,s.default)(f,e);var t=(0,c.default)(f);function f(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:d.NotStarted};return(0,i.default)(this,f),(n=t.call(this)).roomId=e,n.oobMemberFlags=a,(0,b.default)((0,r.default)(n),"reEmitter",new k.TypedReEmitter((0,r.default)(n))),(0,b.default)((0,r.default)(n),"sentinels",{}),(0,b.default)((0,r.default)(n),"displayNameToUserIds",new Map),(0,b.default)((0,r.default)(n),"userIdsToDisplayNames",{}),(0,b.default)((0,r.default)(n),"tokenToInvite",{}),(0,b.default)((0,r.default)(n),"joinedMemberCount",null),(0,b.default)((0,r.default)(n),"summaryJoinedMemberCount",null),(0,b.default)((0,r.default)(n),"invitedMemberCount",null),(0,b.default)((0,r.default)(n),"summaryInvitedMemberCount",null),(0,b.default)((0,r.default)(n),"modified",-1),(0,b.default)((0,r.default)(n),"members",{}),(0,b.default)((0,r.default)(n),"events",new Map),(0,b.default)((0,r.default)(n),"paginationToken",null),(0,b.default)((0,r.default)(n),"beacons",new Map),(0,b.default)((0,r.default)(n),"_liveBeaconIds",[]),n.updateModifiedTime(),n}return(0,a.default)(f,[{key:"getJoinedMemberCount",value:function(){return null!==this.summaryJoinedMemberCount?this.summaryJoinedMemberCount:(null===this.joinedMemberCount&&(this.joinedMemberCount=this.getMembers().reduce((function(e,t){return"join"===t.membership?e+1:e}),0)),this.joinedMemberCount)}},{key:"setJoinedMemberCount",value:function(e){this.summaryJoinedMemberCount=e}},{key:"getInvitedMemberCount",value:function(){return null!==this.summaryInvitedMemberCount?this.summaryInvitedMemberCount:(null===this.invitedMemberCount&&(this.invitedMemberCount=this.getMembers().reduce((function(e,t){return"invite"===t.membership?e+1:e}),0)),this.invitedMemberCount)}},{key:"setInvitedMemberCount",value:function(e){this.summaryInvitedMemberCount=e}},{key:"getMembers",value:function(){return Object.values(this.members)}},{key:"getMembersExcept",value:function(e){return this.getMembers().filter((function(t){return!e.includes(t.userId)}))}},{key:"getMember",value:function(e){return this.members[e]||null}},{key:"getSentinelMember",value:function(e){if(!e)return null;var t=this.sentinels[e];if(void 0===t){t=new g.RoomMember(this.roomId,e);var r=this.members[e];null!=r&&r.events.member&&t.setMembershipEvent(r.events.member,this),this.sentinels[e]=t}return t}},{key:"getStateEvents",value:function(e,t){if(!this.events.has(e))return void 0===t?[]:null;if(void 0===t)return Array.from(this.events.get(e).values());var r=this.events.get(e).get(t);return r||null}},{key:"hasLiveBeacons",get:function(){var e;return!(null===(e=this.liveBeaconIds)||void 0===e||!e.length)}},{key:"liveBeaconIds",get:function(){return this._liveBeaconIds}},{key:"clone",value:function(){var e=new f(this.roomId,this.oobMemberFlags),t=this.oobMemberFlags.status;return this.oobMemberFlags.status=d.NotStarted,Array.from(this.events.values()).forEach((function(t){e.setStateEvents(Array.from(t.values()))})),this.oobMemberFlags.status=t,null!==this.summaryInvitedMemberCount&&e.setInvitedMemberCount(this.getInvitedMemberCount()),null!==this.summaryJoinedMemberCount&&e.setJoinedMemberCount(this.getJoinedMemberCount()),this.oobMemberFlags.status==d.Finished&&this.getMembers().forEach((function(t){var r;t.isOutOfBand()&&(null===(r=e.getMember(t.userId))||void 0===r||r.markOutOfBand())})),e}},{key:"setUnknownStateEvents",value:function(e){var t=this,r=e.filter((function(e){return!t.events.has(e.getType())||!t.events.get(e.getType()).has(e.getStateKey())}));this.setStateEvents(r)}},{key:"setStateEvents",value:function(e,t){var r=this;this.updateModifiedTime(),e.forEach((function(e){if(e.getRoomId()===r.roomId&&e.isState()){E.M_BEACON_INFO.matches(e.getType())&&r.setBeacon(e);var t,n=r.getStateEventMatching(e);if(r.setStateEvent(e),e.getType()===y.EventType.RoomMember)r.updateDisplayNameCache(e.getStateKey(),null!==(t=e.getContent().displayname)&&void 0!==t?t:""),r.updateThirdPartyTokenCache(e);r.emit(v.Events,e,r,n)}})),this.onBeaconLivenessChange(),e.forEach((function(e){if(e.getRoomId()===r.roomId&&e.isState())if(e.getType()===y.EventType.RoomMember){var n=e.getStateKey();"leave"!==e.getContent().membership&&"ban"!==e.getContent().membership||(e.getContent().avatar_url=e.getContent().avatar_url||e.getPrevContent().avatar_url,e.getContent().displayname=e.getContent().displayname||e.getPrevContent().displayname);var i=r.getOrCreateMember(n,e);i.setMembershipEvent(e,r),r.updateMember(i),r.emit(v.Members,e,r,i)}else if(e.getType()===y.EventType.RoomPowerLevels){if(""!==e.getStateKey())return;Object.values(r.members).forEach((function(t){var n=t.getLastModifiedTime();t.setPowerLevelEvent(e),n!==t.getLastModifiedTime()&&r.emit(v.Members,e,r,t)})),r.sentinels={}}else y.UNSTABLE_MSC2716_MARKER.matches(e.getType())&&r.emit(v.Marker,e,t)})),this.emit(v.Update,this)}},{key:"processBeaconEvents",value:function(e,t){if(e.length&&this.beacons.size){var r=(0,u.default)(this.beacons.values()).reduce((function(e,t){return M(M({},e),{},(0,o.default)({},t.beaconInfoId,t))}),{}),i=function(e,t){if(E.M_BEACON.matches(t.getType())){var n=r[e];n&&n.addLocations([t])}};e.forEach((function(e){var a,o=null===(a=e.getRelation())||void 0===a?void 0:a.event_id;o&&r[o]&&(t.decryptEventIfNeeded(e),e.isBeingDecrypted()||e.isDecryptionFailure()?e.once(w.MatrixEventEvent.Decrypted,(0,n.default)((function(){return(0,l.__generator)(this,(function(t){return i(o,e),[2]}))}))):i(o,e))}))}}},{key:"getOrCreateMember",value:function(e,t){var r=this.members[e];return r||(r=new g.RoomMember(this.roomId,e),this.members[e]=r,this.emit(v.NewMember,t,this,r)),r}},{key:"setStateEvent",value:function(e){this.events.has(e.getType())||this.events.set(e.getType(),new Map),this.events.get(e.getType()).set(e.getStateKey(),e)}},{key:"setBeacon",value:function(e){var t=(0,C.getBeaconInfoIdentifier)(e);if(this.beacons.has(t)){var r,n=this.beacons.get(t);return e.isRedacted()?void(n.beaconInfoId===(null===(r=e.getRedactionEvent())||void 0===r?void 0:r.redacts)&&(n.destroy(),this.beacons.delete(t))):n.update(e)}if(!e.isRedacted()){var i=new C.Beacon(e);this.reEmitter.reEmit(i,[C.BeaconEvent.New,C.BeaconEvent.Update,C.BeaconEvent.Destroy,C.BeaconEvent.LivenessChange]),this.emit(C.BeaconEvent.New,e,i),i.on(C.BeaconEvent.LivenessChange,this.onBeaconLivenessChange.bind(this)),i.on(C.BeaconEvent.Destroy,this.onBeaconLivenessChange.bind(this)),this.beacons.set(i.identifier,i)}}},{key:"onBeaconLivenessChange",value:function(){this._liveBeaconIds=Array.from(this.beacons.values()).filter((function(e){return e.isLive})).map((function(e){return e.identifier})),this.emit(v.BeaconLiveness,this,this.hasLiveBeacons)}},{key:"getStateEventMatching",value:function(e){var t,r;return null!==(t=null===(r=this.events.get(e.getType()))||void 0===r?void 0:r.get(e.getStateKey()))&&void 0!==t?t:null}},{key:"updateMember",value:function(e){var t=this.getStateEvents(y.EventType.RoomPowerLevels,"");t&&e.setPowerLevelEvent(t),delete this.sentinels[e.userId],this.members[e.userId]=e,this.joinedMemberCount=null,this.invitedMemberCount=null}},{key:"needsOutOfBandMembers",value:function(){return this.oobMemberFlags.status===d.NotStarted}},{key:"outOfBandMembersReady",value:function(){return this.oobMemberFlags.status===d.Finished}},{key:"markOutOfBandMembersStarted",value:function(){this.oobMemberFlags.status===d.NotStarted&&(this.oobMemberFlags.status=d.InProgress)}},{key:"markOutOfBandMembersFailed",value:function(){this.oobMemberFlags.status===d.InProgress&&(this.oobMemberFlags.status=d.NotStarted)}},{key:"clearOutOfBandMembers",value:function(){var e=this,t=0;Object.keys(this.members).forEach((function(r){e.members[r].isOutOfBand()&&(++t,delete e.members[r])})),m.logger.log("LL: RoomState removed ".concat(t," members...")),this.oobMemberFlags.status=d.NotStarted}},{key:"setOutOfBandMembers",value:function(e){var t=this;m.logger.log("LL: RoomState about to set ".concat(e.length," OOB members ...")),this.oobMemberFlags.status===d.InProgress&&(m.logger.log("LL: RoomState put in finished state ..."),this.oobMemberFlags.status=d.Finished,e.forEach((function(e){return t.setOutOfBandMember(e)})),this.emit(v.Update,this))}},{key:"setOutOfBandMember",value:function(e){if(e.getType()===y.EventType.RoomMember){var t=e.getStateKey(),r=this.getMember(t);if(!r||r.isOutOfBand()){var n=this.getOrCreateMember(t,e);n.setMembershipEvent(e,this),n.markOutOfBand(),this.updateDisplayNameCache(n.userId,n.name),this.setStateEvent(e),this.updateMember(n),this.emit(v.Members,e,this,n)}}}},{key:"setTypingEvent",value:function(e){Object.values(this.members).forEach((function(t){t.setTypingEvent(e)}))}},{key:"getInviteForThreePidToken",value:function(e){return this.tokenToInvite[e]||null}},{key:"updateModifiedTime",value:function(){this.modified=Date.now()}},{key:"getLastModifiedTime",value:function(){return this.modified}},{key:"getUserIdsWithDisplayName",value:function(e){var t;return null!==(t=this.displayNameToUserIds.get($.removeHiddenChars(e)))&&void 0!==t?t:[]}},{key:"maySendRedactionForEvent",value:function(e,t){var r=this.getMember(t);if(!r||"leave"===r.membership)return!1;if(e.status||e.isRedacted())return!1;var n=this.maySendEvent(y.EventType.RoomRedaction,t);return e.getSender()===t?n:this.hasSufficientPowerLevelFor("redact",r.powerLevel)}},{key:"hasSufficientPowerLevelFor",value:function(e,t){var r=this.getStateEvents(y.EventType.RoomPowerLevels,""),n={};r&&(n=r.getContent());var i=50;return $.isNumber(n[e])&&(i=n[e]),t>=i}},{key:"maySendMessage",value:function(e){return this.maySendEventOfType(y.EventType.RoomMessage,e,!1)}},{key:"maySendEvent",value:function(e,t){return this.maySendEventOfType(e,t,!1)}},{key:"mayClientSendStateEvent",value:function(e,t){return!(t.isGuest()||!t.credentials.userId)&&this.maySendStateEvent(e,t.credentials.userId)}},{key:"maySendStateEvent",value:function(e,t){return this.maySendEventOfType(e,t,!0)}},{key:"maySendEventOfType",value:function(e,t,r){var n,i=this.getStateEvents(y.EventType.RoomPowerLevels,""),a={},o=0,s=0,u=0;if(i){a=(n=i.getContent()).events||{},o=Number.isSafeInteger(n.state_default)?n.state_default:50;var c=n.users&&n.users[t];Number.isSafeInteger(c)?u=c:Number.isSafeInteger(n.users_default)&&(u=n.users_default),Number.isSafeInteger(n.events_default)&&(s=n.events_default)}var l=r?o:s;return Number.isSafeInteger(a[e])&&(l=a[e]),u>=l}},{key:"mayTriggerNotifOfType",value:function(e,t){var r=this.getMember(t);if(!r)return!1;var n=this.getStateEvents(y.EventType.RoomPowerLevels,""),i=50;return n&&n.getContent()&&n.getContent().notifications&&$.isNumber(n.getContent().notifications[e])&&(i=n.getContent().notifications[e]),r.powerLevel>=i}},{key:"getJoinRule",value:function(){var e,t=this.getStateEvents(y.EventType.RoomJoinRules,"");return(null!==(e=null==t?void 0:t.getContent())&&void 0!==e?e:{}).join_rule||_.JoinRule.Invite}},{key:"getHistoryVisibility",value:function(){var e,t=this.getStateEvents(y.EventType.RoomHistoryVisibility,"");return(null!==(e=null==t?void 0:t.getContent())&&void 0!==e?e:{}).history_visibility||_.HistoryVisibility.Shared}},{key:"getGuestAccess",value:function(){var e,t=this.getStateEvents(y.EventType.RoomGuestAccess,"");return(null!==(e=null==t?void 0:t.getContent())&&void 0!==e?e:{}).guest_access||_.GuestAccess.Forbidden}},{key:"updateThirdPartyTokenCache",value:function(e){if(e.getContent().third_party_invite){var t=(e.getContent().third_party_invite.signed||{}).token;if(t)this.getStateEvents(y.EventType.RoomThirdPartyInvite,t)&&(this.tokenToInvite[t]=e)}}},{key:"updateDisplayNameCache",value:function(e,t){var r=this.userIdsToDisplayNames[e];if(delete this.userIdsToDisplayNames[e],r){var n=$.removeHiddenChars(r),i=this.displayNameToUserIds.get(n);if(i){var a=i.filter((function(t){return t!==e}));this.displayNameToUserIds.set(n,a)}}this.userIdsToDisplayNames[e]=t;var o=t&&$.removeHiddenChars(t);if(o){var s,u=null!==(s=this.displayNameToUserIds.get(o))&&void 0!==s?s:[];u.push(e),this.displayNameToUserIds.set(o,u)}}}]),f}(S.TypedEventEmitter);e.exports.RoomState=I})),parcelRequire.register("iUBUo",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("8rJSp"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RoomMemberEvent=e.exports.RoomMember=void 0;var u,c,l=s(parcelRequire("abzte")),f=parcelRequire("dSypD"),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),h=parcelRequire("fKX3v"),v=parcelRequire("4Eh2q"),p=parcelRequire("axSuM");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}e.exports.RoomMemberEvent=u,(c=u||(e.exports.RoomMemberEvent=u={})).Membership="RoomMember.membership",c.Name="RoomMember.name",c.PowerLevel="RoomMember.powerLevel",c.Typing="RoomMember.typing";var g=function(e){(0,a.default)(s,e);var t=(0,o.default)(s);function s(e,i){var a;return(0,n.default)(this,s),(a=t.call(this)).roomId=e,a.userId=i,(0,l.default)((0,r.default)(a),"_isOutOfBand",!1),(0,l.default)((0,r.default)(a),"modified",-1),(0,l.default)((0,r.default)(a),"requestedProfileInfo",!1),(0,l.default)((0,r.default)(a),"typing",!1),(0,l.default)((0,r.default)(a),"name",void 0),(0,l.default)((0,r.default)(a),"rawDisplayName",void 0),(0,l.default)((0,r.default)(a),"powerLevel",0),(0,l.default)((0,r.default)(a),"powerLevelNorm",0),(0,l.default)((0,r.default)(a),"user",void 0),(0,l.default)((0,r.default)(a),"membership",void 0),(0,l.default)((0,r.default)(a),"disambiguate",!1),(0,l.default)((0,r.default)(a),"events",{}),a.name=i,a.rawDisplayName=i,a.updateModifiedTime(),a}return(0,i.default)(s,[{key:"markOutOfBand",value:function(){this._isOutOfBand=!0}},{key:"isOutOfBand",value:function(){return this._isOutOfBand}},{key:"setMembershipEvent",value:function(e,t){var r,n,i=null!==(r=e.getDirectionalContent().displayname)&&void 0!==r?r:"";if(e.getType()===p.EventType.RoomMember){this._isOutOfBand=!1,this.events.member=e;var a=this.membership;this.membership=e.getDirectionalContent().membership,void 0===this.membership&&h.logger.trace("membership event with membership undefined (forwardLooking: ".concat(e.forwardLooking,")!"),e.getContent(),"prevcontent is ",e.getPrevContent()),this.disambiguate=function(e,t,r){return!(!t||t===e)&&(!!d.removeHiddenChars(t)&&(!!r&&(!!m.test(t)||(!!$.test(t)||!!r.getUserIdsWithDisplayName(t).some((function(t){return t!==e}))))))}(this.userId,i,t);var o=this.name;this.name=function(e,t,r){return t&&t!==e?r?d.removeDirectionOverrideChars(t)+" ("+e+")":d.removeHiddenChars(t)?d.removeDirectionOverrideChars(t):e:e}(this.userId,i,this.disambiguate),this.rawDisplayName=d.removeDirectionOverrideChars(null!==(n=e.getDirectionalContent().displayname)&&void 0!==n?n:""),this.rawDisplayName&&d.removeHiddenChars(this.rawDisplayName)||(this.rawDisplayName=this.userId),a!==this.membership&&(this.updateModifiedTime(),this.emit(u.Membership,e,this,a)),o!==this.name&&(this.updateModifiedTime(),this.emit(u.Name,e,this,o))}}},{key:"setPowerLevelEvent",value:function(e){if(e.getType()===p.EventType.RoomPowerLevels&&""===e.getStateKey()){var t=e.getDirectionalContent(),r=t.users_default||0,n=t.users||{};Object.values(n).forEach((function(e){r=Math.max(r,e)}));var i=this.powerLevel,a=this.powerLevelNorm;void 0!==n[this.userId]&&Number.isInteger(n[this.userId])?this.powerLevel=n[this.userId]:void 0!==t.users_default?this.powerLevel=t.users_default:this.powerLevel=0,this.powerLevelNorm=0,r>0&&(this.powerLevelNorm=100*this.powerLevel/r),i===this.powerLevel&&a===this.powerLevelNorm||(this.updateModifiedTime(),this.emit(u.PowerLevel,e,this))}}},{key:"setTypingEvent",value:function(e){if("m.typing"===e.getType()){var t=this.typing;this.typing=!1;var r=e.getContent().user_ids;Array.isArray(r)&&(-1!==r.indexOf(this.userId)&&(this.typing=!0),t!==this.typing&&(this.updateModifiedTime(),this.emit(u.Typing,e,this)))}}},{key:"updateModifiedTime",value:function(){this.modified=Date.now()}},{key:"getLastModifiedTime",value:function(){return this.modified}},{key:"isKicked",value:function(){return"leave"===this.membership&&void 0!==this.events.member&&this.events.member.getSender()!==this.events.member.getStateKey()}},{key:"getDMInviter",value:function(){if(this.events.member){var e=this.events.member,t=e.getContent(),r=e.getSender();if("join"===t.membership&&(t=e.getPrevContent(),r=e.getUnsigned().prev_sender),"invite"===t.membership&&t.is_direct)return r}}},{key:"getAvatarUrl",value:function(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5?arguments[5]:void 0,o=this.getMxcAvatarUrl();if(!o&&!i)return null;var s=(0,f.getHttpUriForMxc)(e,o,t,r,n,a);return s||null}},{key:"getMxcAvatarUrl",value:function(){return this.events.member?this.events.member.getDirectionalContent().avatar_url:this.user?this.user.avatarUrl:void 0}}]),s}(v.TypedEventEmitter);e.exports.RoomMember=g;var m=/@.+:.+/,$=/[\u200E\u200F\u202A-\u202F]/})),parcelRequire.register("dSypD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getHttpUriForMxc=function(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if("string"!=typeof t||!t)return"";if(0!==t.indexOf("mxc://"))return o?t:"";var s=t.slice(6),u="/_matrix/media/r0/download/",c={};n&&(c.width=Math.round(n).toString());i&&(c.height=Math.round(i).toString());a&&(c.method=a);Object.keys(c).length>0&&(u="/_matrix/media/r0/thumbnail/");var l=s.indexOf("#"),f="";l>=0&&(f=s.slice(l),s=s.slice(0,l));var d=0===Object.keys(c).length?"":"?"+r.encodeParams(c);return e+u+s+d+f};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,r&&r.set(e,i);return i}(parcelRequire("5HsbU"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}})),parcelRequire.register("axSuM",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UNSTABLE_MSC3089_TREE_SUBTYPE=e.exports.UNSTABLE_MSC3089_LEAF=e.exports.UNSTABLE_MSC3089_BRANCH=e.exports.UNSTABLE_MSC3088_PURPOSE=e.exports.UNSTABLE_MSC3088_ENABLED=e.exports.UNSTABLE_MSC2716_MARKER=e.exports.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=e.exports.ToDeviceMessageId=e.exports.RoomType=e.exports.RoomCreateTypeField=e.exports.RelationType=e.exports.PUSHER_ENABLED=e.exports.PUSHER_DEVICE_ID=e.exports.MsgType=e.exports.MSC3912_RELATION_BASED_REDACTIONS_PROP=e.exports.LOCAL_NOTIFICATION_SETTINGS_PREFIX=e.exports.EventType=e.exports.EVENT_VISIBILITY_CHANGE_TYPE=void 0;var r,n,i,a,o,s,u=parcelRequire("cQ59V");e.exports.EventType=r,(n=r||(e.exports.EventType=r={})).RoomCanonicalAlias="m.room.canonical_alias",n.RoomCreate="m.room.create",n.RoomJoinRules="m.room.join_rules",n.RoomMember="m.room.member",n.RoomThirdPartyInvite="m.room.third_party_invite",n.RoomPowerLevels="m.room.power_levels",n.RoomName="m.room.name",n.RoomTopic="m.room.topic",n.RoomAvatar="m.room.avatar",n.RoomPinnedEvents="m.room.pinned_events",n.RoomEncryption="m.room.encryption",n.RoomHistoryVisibility="m.room.history_visibility",n.RoomGuestAccess="m.room.guest_access",n.RoomServerAcl="m.room.server_acl",n.RoomTombstone="m.room.tombstone",n.SpaceChild="m.space.child",n.SpaceParent="m.space.parent",n.RoomRedaction="m.room.redaction",n.RoomMessage="m.room.message",n.RoomMessageEncrypted="m.room.encrypted",n.Sticker="m.sticker",n.CallInvite="m.call.invite",n.CallCandidates="m.call.candidates",n.CallAnswer="m.call.answer",n.CallHangup="m.call.hangup",n.CallReject="m.call.reject",n.CallSelectAnswer="m.call.select_answer",n.CallNegotiate="m.call.negotiate",n.CallSDPStreamMetadataChanged="m.call.sdp_stream_metadata_changed",n.CallSDPStreamMetadataChangedPrefix="org.matrix.call.sdp_stream_metadata_changed",n.CallReplaces="m.call.replaces",n.CallAssertedIdentity="m.call.asserted_identity",n.CallAssertedIdentityPrefix="org.matrix.call.asserted_identity",n.KeyVerificationRequest="m.key.verification.request",n.KeyVerificationStart="m.key.verification.start",n.KeyVerificationCancel="m.key.verification.cancel",n.KeyVerificationMac="m.key.verification.mac",n.KeyVerificationDone="m.key.verification.done",n.KeyVerificationKey="m.key.verification.key",n.KeyVerificationAccept="m.key.verification.accept",n.KeyVerificationReady="m.key.verification.ready",n.RoomMessageFeedback="m.room.message.feedback",n.Reaction="m.reaction",n.PollStart="org.matrix.msc3381.poll.start",n.Typing="m.typing",n.Receipt="m.receipt",n.Presence="m.presence",n.FullyRead="m.fully_read",n.Tag="m.tag",n.SpaceOrder="org.matrix.msc3230.space_order",n.PushRules="m.push_rules",n.Direct="m.direct",n.IgnoredUserList="m.ignored_user_list",n.RoomKey="m.room_key",n.RoomKeyRequest="m.room_key_request",n.ForwardedRoomKey="m.forwarded_room_key",n.Dummy="m.dummy",n.GroupCallPrefix="org.matrix.msc3401.call",n.GroupCallMemberPrefix="org.matrix.msc3401.call.member",e.exports.RelationType=i,(a=i||(e.exports.RelationType=i={})).Annotation="m.annotation",a.Replace="m.replace",a.Reference="m.reference",a.Thread="m.thread",e.exports.MsgType=o,(s=o||(e.exports.MsgType=o={})).Text="m.text",s.Emote="m.emote",s.Notice="m.notice",s.Image="m.image",s.File="m.file",s.Audio="m.audio",s.Location="m.location",s.Video="m.video",s.KeyVerificationRequest="m.key.verification.request";var c,l;e.exports.RoomCreateTypeField="type",e.exports.RoomType=c,(l=c||(e.exports.RoomType=c={})).Space="m.space",l.UnstableCall="org.matrix.msc3417.call",l.ElementVideo="io.element.video";e.exports.ToDeviceMessageId="org.matrix.msgid";var f=new u.UnstableValue("m.room.purpose","org.matrix.msc3088.purpose");e.exports.UNSTABLE_MSC3088_PURPOSE=f;var d=new u.UnstableValue("m.enabled","org.matrix.msc3088.enabled");e.exports.UNSTABLE_MSC3088_ENABLED=d;var h=new u.UnstableValue("m.data_tree","org.matrix.msc3089.data_tree");e.exports.UNSTABLE_MSC3089_TREE_SUBTYPE=h;var v=new u.UnstableValue("m.leaf","org.matrix.msc3089.leaf");e.exports.UNSTABLE_MSC3089_LEAF=v;var p=new u.UnstableValue("m.branch","org.matrix.msc3089.branch");e.exports.UNSTABLE_MSC3089_BRANCH=p;var b=new u.UnstableValue("m.room.marker","org.matrix.msc2716.marker");e.exports.UNSTABLE_MSC2716_MARKER=b;var g=new u.UnstableValue("with_relations","org.matrix.msc3912.with_relations");e.exports.MSC3912_RELATION_BASED_REDACTIONS_PROP=g;var m=new u.UnstableValue("io.element.functional_members","io.element.functional_members");e.exports.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=m;var $=new u.UnstableValue("m.visibility","org.matrix.msc3531.visibility");e.exports.EVENT_VISIBILITY_CHANGE_TYPE=$;var y=new u.UnstableValue("enabled","org.matrix.msc3881.enabled");e.exports.PUSHER_ENABLED=y;var w=new u.UnstableValue("device_id","org.matrix.msc3881.device_id");e.exports.PUSHER_DEVICE_ID=w;var _=new u.UnstableValue("m.local_notification_settings","org.matrix.msc3890.local_notification_settings");e.exports.LOCAL_NOTIFICATION_SETTINGS_PREFIX=_})),parcelRequire.register("dlOEf",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("dVhHy"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"EventStatus",{enumerable:!0,get:function(){return S.EventStatus}}),e.exports.MatrixEventEvent=e.exports.MatrixEvent=void 0;var d,h,v=f(parcelRequire("abzte")),p=parcelRequire("1EmlW"),b=parcelRequire("fKX3v"),g=parcelRequire("axSuM"),m=parcelRequire("5HsbU"),$=parcelRequire("gPIgD"),y=parcelRequire("5FD7J"),w=parcelRequire("4Eh2q"),_=parcelRequire("2noXW"),S=parcelRequire("3QO6G"),C=Object.freeze({visible:!0});e.exports.MatrixEventEvent=d,(h=d||(e.exports.MatrixEventEvent=d={})).Decrypted="Event.decrypted",h.BeforeRedaction="Event.beforeRedaction",h.VisibilityChange="Event.visibilityChange",h.LocalEventIdReplaced="Event.localEventIdReplaced",h.Status="Event.status",h.Replaced="Event.replaced",h.RelationsCreated="Event.relationsCreated";var k=function(e){(0,s.default)(o,e);var t=(0,c.default)(o);function o(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.default)(this,o),(e=t.call(this)).event=a,(0,v.default)((0,r.default)(e),"pushActions",null),(0,v.default)((0,r.default)(e),"_replacingEvent",null),(0,v.default)((0,r.default)(e),"_localRedactionEvent",null),(0,v.default)((0,r.default)(e),"_isCancelled",!1),(0,v.default)((0,r.default)(e),"clearEvent",void 0),(0,v.default)((0,r.default)(e),"visibility",C),(0,v.default)((0,r.default)(e),"_hasCachedExtEv",!1),(0,v.default)((0,r.default)(e),"_cachedExtEv",void 0),(0,v.default)((0,r.default)(e),"senderCurve25519Key",null),(0,v.default)((0,r.default)(e),"claimedEd25519Key",null),(0,v.default)((0,r.default)(e),"forwardingCurve25519KeyChain",[]),(0,v.default)((0,r.default)(e),"untrusted",null),(0,v.default)((0,r.default)(e),"decryptionPromise",null),(0,v.default)((0,r.default)(e),"retryDecryption",!1),(0,v.default)((0,r.default)(e),"txnId",void 0),(0,v.default)((0,r.default)(e),"thread",void 0),(0,v.default)((0,r.default)(e),"threadId",void 0),(0,v.default)((0,r.default)(e),"localTimestamp",void 0),(0,v.default)((0,r.default)(e),"sender",null),(0,v.default)((0,r.default)(e),"target",null),(0,v.default)((0,r.default)(e),"status",null),(0,v.default)((0,r.default)(e),"error",null),(0,v.default)((0,r.default)(e),"forwardLooking",!0),(0,v.default)((0,r.default)(e),"verificationRequest",void 0),(0,v.default)((0,r.default)(e),"reEmitter",void 0),["state_key","type","sender","room_id","membership"].forEach((function(e){"string"==typeof a[e]&&(a[e]=(0,m.internaliseString)(a[e]))})),["membership","avatar_url","displayname"].forEach((function(e){var t;"string"==typeof(null===(t=a.content)||void 0===t?void 0:t[e])&&(a.content[e]=(0,m.internaliseString)(a.content[e]))})),["rel_type"].forEach((function(e){var t,r;"string"==typeof(null===(t=a.content)||void 0===t||null===(r=t["m.relates_to"])||void 0===r?void 0:r[e])&&(a.content["m.relates_to"][e]=(0,m.internaliseString)(a.content["m.relates_to"][e]))})),e.txnId=a.txn_id,e.localTimestamp=Date.now()-(null!==(n=e.getAge())&&void 0!==n?n:0),e.reEmitter=new y.TypedReEmitter((0,r.default)(e)),e}return(0,a.default)(o,[{key:"unstableExtensibleEvent",get:function(){return this._hasCachedExtEv||(this._cachedExtEv=p.ExtensibleEvents.parse(this.getEffectiveEvent())),this._cachedExtEv}},{key:"invalidateExtensibleEvent",value:function(){this._hasCachedExtEv=!1}},{key:"getEffectiveEvent",value:function(){var e=Object.assign({},this.getContent()),t=!0,r=!1,n=void 0;if(this.getWireType()===g.EventType.RoomMessageEncrypted)try{for(var i,a=Object.entries(this.getWireContent())[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,u.default)(i.value,2),s=o[0],c=o[1];["algorithm","ciphertext","device_id","sender_key","session_id"].includes(s)||void 0===e[s]&&(e[s]=c)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return Object.assign({},this.event,this.clearEvent,{content:e})}},{key:"getId",value:function(){return this.event.event_id}},{key:"getSender",value:function(){return this.event.sender||this.event.user_id}},{key:"getType",value:function(){return this.clearEvent?this.clearEvent.type:this.event.type}},{key:"getWireType",value:function(){return this.event.type}},{key:"getRoomId",value:function(){return this.event.room_id}},{key:"getTs",value:function(){return this.event.origin_server_ts}},{key:"getDate",value:function(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null}},{key:"getDetails",value:function(){var e="id=".concat(this.getId()," type=").concat(this.getWireType()," sender=").concat(this.getSender()),t=this.getRoomId();t&&(e+=" room=".concat(t));var r=this.getDate();return r&&(e+=" ts=".concat(r.toISOString())),e}},{key:"getOriginalContent",value:function(){return this._localRedactionEvent?{}:this.clearEvent?this.clearEvent.content||{}:this.event.content||{}}},{key:"getContent",value:function(){return this._localRedactionEvent?{}:this._replacingEvent?this._replacingEvent.getContent()["m.new_content"]||{}:this.getOriginalContent()}},{key:"getWireContent",value:function(){return this.event.content||{}}},{key:"threadRootId",get:function(){var e,t,r=null===(e=this.getWireContent())||void 0===e?void 0:e["m.relates_to"];return(null==r?void 0:r.rel_type)===$.THREAD_RELATION_TYPE.name?r.event_id:(null===(t=this.getThread())||void 0===t?void 0:t.id)||this.threadId}},{key:"isThreadRoot",get:function(){var e;return!!this.getServerAggregatedRelation($.THREAD_RELATION_TYPE.name)||(null===(e=this.getThread())||void 0===e?void 0:e.id)===this.getId()}},{key:"replyEventId",get:function(){var e,t=this.getContent()["m.relates_to"]||this.getWireContent()["m.relates_to"];return null==t||null===(e=t["m.in_reply_to"])||void 0===e?void 0:e.event_id}},{key:"relationEventId",get:function(){var e,t;return null===(e=this.getWireContent())||void 0===e||null===(t=e["m.relates_to"])||void 0===t?void 0:t.event_id}},{key:"getPrevContent",value:function(){return this.getUnsigned().prev_content||this.event.prev_content||{}}},{key:"getDirectionalContent",value:function(){return this.forwardLooking?this.getContent():this.getPrevContent()}},{key:"getAge",value:function(){return this.getUnsigned().age||this.event.age}},{key:"getLocalAge",value:function(){return Date.now()-this.localTimestamp}},{key:"getStateKey",value:function(){return this.event.state_key}},{key:"isState",value:function(){return void 0!==this.event.state_key}},{key:"makeEncrypted",value:function(e,t,r,n){this.clearEvent={type:this.event.type,content:this.event.content},this.event.type=e,this.event.content=t,this.senderCurve25519Key=r,this.claimedEd25519Key=n}},{key:"isBeingDecrypted",value:function(){return null!=this.decryptionPromise}},{key:"getDecryptionPromise",value:function(){return this.decryptionPromise}},{key:"isDecryptionFailure",value:function(){var e,t;return"m.bad.encrypted"===(null===(e=this.clearEvent)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.msgtype)}},{key:"shouldAttemptDecryption",value:function(){return!this.isRedacted()&&(!this.isBeingDecrypted()&&(!this.clearEvent&&!!this.isEncrypted()))}},{key:"attemptDecryption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return(0,n.default)((function(){var n,i;return(0,l.__generator)(this,(function(a){if(!r.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");if(n=r.clearEvent&&!r.isDecryptionFailure(),i=t.forceRedecryptIfUntrusted&&r.isKeySourceUntrusted(),n&&!i)throw new Error("Attempt to decrypt event which has already been decrypted");return r.decryptionPromise?(b.logger.log("Event ".concat(r.getId()," already being decrypted; queueing a retry")),r.retryDecryption=!0,[2,r.decryptionPromise]):(r.decryptionPromise=r.decryptionLoop(e,t),[2,r.decryptionPromise])}))}))()}},{key:"cancelAndResendKeyRequest",value:function(e,t){var r=this.getWireContent();return e.requestRoomKey({algorithm:r.algorithm,room_id:this.getRoomId(),session_id:r.session_id,sender_key:r.sender_key},this.getKeyRequestRecipients(t),!0)}},{key:"getKeyRequestRecipients",value:function(e){var t=this.getWireContent(),r=[{userId:e,deviceId:"*"}],n=this.getSender();return n!==e&&r.push({userId:n,deviceId:t.device_id}),r}},{key:"decryptionLoop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return(0,n.default)((function(){var n,i,a,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return[4,Promise.resolve()];case 1:s.sent(),s.label=2;case 2:0,r.retryDecryption=!1,i=void 0,s.label=3;case 3:return s.trys.push([3,7,,8]),e?[3,4]:(n=r.badEncryptedMessage("Encryption not enabled"),[3,6]);case 4:return[4,e.decryptEvent(r)];case 5:n=s.sent(),!0===t.isRetry&&b.logger.info("Decrypted event on retry (".concat(r.getDetails(),")")),s.label=6;case 6:return[3,8];case 7:return a=s.sent(),o=a instanceof _.DecryptionError?a.detailedString:String(a),i=a,r.retryDecryption?(b.logger.log("Error decrypting event (".concat(r.getDetails(),"), but retrying: ").concat(o)),[3,2]):(b.logger.warn("Error decrypting event (".concat(r.getDetails(),"): ").concat(o)),n=r.badEncryptedMessage(String(a)),[3,8]);case 8:return r.decryptionPromise=null,r.retryDecryption=!1,r.setClearData(n),r.setPushActions(null),!1!==t.emit&&r.emit(d.Decrypted,r,i),[2];case 9:return[2]}}))}))()}},{key:"badEncryptedMessage",value:function(e){return{clearEvent:{type:g.EventType.RoomMessage,content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: "+e+" **"}}}}},{key:"setClearData",value:function(e){var t,r;this.clearEvent=e.clearEvent,this.senderCurve25519Key=null!==(t=e.senderCurve25519Key)&&void 0!==t?t:null,this.claimedEd25519Key=null!==(r=e.claimedEd25519Key)&&void 0!==r?r:null,this.forwardingCurve25519KeyChain=e.forwardingCurve25519KeyChain||[],this.untrusted=e.untrusted||!1,this.invalidateExtensibleEvent()}},{key:"getClearContent",value:function(){return this.clearEvent?this.clearEvent.content:null}},{key:"isEncrypted",value:function(){return!this.isState()&&this.event.type===g.EventType.RoomMessageEncrypted}},{key:"getSenderKey",value:function(){return this.senderCurve25519Key}},{key:"getKeysClaimed",value:function(){return this.claimedEd25519Key?{ed25519:this.claimedEd25519Key}:{}}},{key:"getClaimedEd25519Key",value:function(){return this.claimedEd25519Key}},{key:"getForwardingCurve25519KeyChain",value:function(){return this.forwardingCurve25519KeyChain}},{key:"isKeySourceUntrusted",value:function(){return!!this.untrusted}},{key:"getUnsigned",value:function(){return this.event.unsigned||{}}},{key:"setUnsigned",value:function(e){this.event.unsigned=e}},{key:"unmarkLocallyRedacted",value:function(){var e=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=void 0),!!e}},{key:"markLocallyRedacted",value:function(e){this._localRedactionEvent||(this.emit(d.BeforeRedaction,this,e),this._localRedactionEvent=e,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event)}},{key:"applyVisibilityEvent",value:function(e){var t,r,n=null===(t=null==e?void 0:e.visible)||void 0===t||t,i=null!==(r=null==e?void 0:e.reason)&&void 0!==r?r:null,a=!1;this.visibility.visible!==n?a=!0:this.visibility.visible||this.visibility.reason===i||(a=!0),a&&(this.visibility=n?C:Object.freeze({visible:!1,reason:i}),this.emit(d.VisibilityChange,this,n))}},{key:"messageVisibility",value:function(){return this.visibility}},{key:"makeRedacted",value:function(e){if(!e.event)throw new Error("invalid redactionEvent in makeRedacted");for(var t in this._localRedactionEvent=null,this.emit(d.BeforeRedaction,this,e),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event,this.event)this.event.hasOwnProperty(t)&&!R.has(t)&&delete this.event[t];this.isEncrypted()&&(this.clearEvent=void 0);var r=this.getType()in x?x[this.getType()]:{},n=this.getContent();for(var i in n)n.hasOwnProperty(i)&&!r[i]&&delete n[i];this.invalidateExtensibleEvent()}},{key:"isRedacted",value:function(){return Boolean(this.getUnsigned().redacted_because)}},{key:"isRedaction",value:function(){return this.getType()===g.EventType.RoomRedaction}},{key:"asVisibilityChange",value:function(){if(!g.EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType()))return null;var e=this.getRelation();if(!e||"m.reference"!=e.rel_type)return null;var t=e.event_id;if(!t)return null;var r=this.getWireContent(),n=!!r.visible,i=r.reason;return i&&"string"!=typeof i?null:{visible:n,reason:i,eventId:t}}},{key:"isVisibilityEvent",value:function(){return g.EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType())}},{key:"getRedactionEvent",value:function(){var e,t,r,n;return this.isRedacted()?null!==(e=this.clearEvent)&&void 0!==e&&e.unsigned?null!==(r=null===(n=this.clearEvent)||void 0===n?void 0:n.unsigned.redacted_because)&&void 0!==r?r:null:null!==(t=this.event.unsigned)&&void 0!==t&&t.redacted_because?this.event.unsigned.redacted_because:{}:null}},{key:"getPushActions",value:function(){return this.pushActions}},{key:"setPushActions",value:function(e){this.pushActions=e}},{key:"handleRemoteEcho",value:function(e){var t=this.getUnsigned(),r=this.getId();this.event=e,t.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=t.redacted_because),this.setStatus(null),this.getId()!==r&&this.emit(d.LocalEventIdReplaced,this),this.localTimestamp=Date.now()-this.getAge()}},{key:"isSending",value:function(){return!!this.status}},{key:"setStatus",value:function(e){this.status=e,this.emit(d.Status,this,e)}},{key:"replaceLocalEventId",value:function(e){this.event.event_id=e,this.emit(d.LocalEventIdReplaced,this)}},{key:"isRelation",value:function(e){var t,r=null===(t=this.getWireContent())||void 0===t?void 0:t["m.relates_to"];return(!this.isState()||(null==r?void 0:r.rel_type)!==g.RelationType.Replace)&&!(null==r||!r.rel_type||!r.event_id||e&&r.rel_type!==e)}},{key:"getRelation",value:function(){var e;return this.isRelation()&&null!==(e=this.getWireContent()["m.relates_to"])&&void 0!==e?e:null}},{key:"makeReplaced",value:function(e){this.isRedacted()&&e||this.isState()||this._replacingEvent!==e&&(this._replacingEvent=null!=e?e:null,this.emit(d.Replaced,this),this.invalidateExtensibleEvent())}},{key:"getAssociatedStatus",value:function(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status}},{key:"getServerAggregatedRelation",value:function(e){var t;return null===(t=this.getUnsigned()["m.relations"])||void 0===t?void 0:t[e]}},{key:"replacingEventId",value:function(){var e=this.getServerAggregatedRelation(g.RelationType.Replace);return e?e.event_id:this._replacingEvent?this._replacingEvent.getId():void 0}},{key:"replacingEvent",value:function(){return this._replacingEvent}},{key:"replacingEventDate",value:function(){var e=this.getServerAggregatedRelation(g.RelationType.Replace);if(e){var t=e.origin_server_ts;if(Number.isFinite(t))return new Date(t)}else if(this._replacingEvent){var r;return null!==(r=this._replacingEvent.getDate())&&void 0!==r?r:void 0}}},{key:"localRedactionEvent",value:function(){return this._localRedactionEvent}},{key:"getAssociatedId",value:function(){var e=this.getRelation();return this.replyEventId?this.replyEventId:e?e.event_id:this.isRedaction()?this.event.redacts:void 0}},{key:"hasAssocation",value:function(){return!!this.getAssociatedId()}},{key:"hasAssociation",value:function(){return!!this.getAssociatedId()}},{key:"updateAssociatedId",value:function(e){var t=this.getRelation();t?t.event_id=e:this.isRedaction()&&(this.event.redacts=e)}},{key:"flagCancelled",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isCancelled=e}},{key:"isCancelled",value:function(){return this._isCancelled}},{key:"toSnapshot",value:function(){var e=new o(JSON.parse(JSON.stringify(this.event))),t=!0,r=!1,n=void 0;try{for(var i,a=Object.entries(this)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=(0,u.default)(i.value,2),c=s[0],l=s[1];"event"!==c&&(e[c]=l)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"isEquivalentTo",value:function(e){if(!e)return!1;if(e===this)return!0;var t=(0,m.deepSortedObjectEntries)(this.event),r=(0,m.deepSortedObjectEntries)(e.event);return JSON.stringify(t)===JSON.stringify(r)}},{key:"toJSON",value:function(){var e=this.getEffectiveEvent();return this.isEncrypted()?{decrypted:e,encrypted:this.event}:e}},{key:"setVerificationRequest",value:function(e){this.verificationRequest=e}},{key:"setTxnId",value:function(e){this.txnId=e}},{key:"getTxnId",value:function(){return this.txnId}},{key:"setThread",value:function(e){this.thread&&this.reEmitter.stopReEmitting(this.thread,[$.ThreadEvent.Update]),this.thread=e,this.setThreadId(null==e?void 0:e.id),e&&this.reEmitter.reEmit(e,[$.ThreadEvent.Update])}},{key:"getThread",value:function(){return this.thread}},{key:"setThreadId",value:function(e){this.threadId=e}}]),o}(w.TypedEventEmitter);e.exports.MatrixEvent=k;var E,R=new Set(["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"]),x=(E={},(0,o.default)(E,g.EventType.RoomMember,{membership:1}),(0,o.default)(E,g.EventType.RoomCreate,{creator:1}),(0,o.default)(E,g.EventType.RoomJoinRules,{join_rule:1}),(0,o.default)(E,g.EventType.RoomPowerLevels,{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1}),E)})),parcelRequire.register("1EmlW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=parcelRequire("7U1nS");Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))}));var n=parcelRequire("c4MR6");Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===n[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return n[t]}}))}));var i=parcelRequire("4NKrB");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===i[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return i[t]}}))}));var a=parcelRequire("5dPqx");Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===a[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return a[t]}}))}));var o=parcelRequire("5WhxZ");Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===o[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=parcelRequire("4ltRC");Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=parcelRequire("8KPaX");Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===u[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return u[t]}}))}));var c=parcelRequire("cja2C");Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===c[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return c[t]}}))}));var l=parcelRequire("6FQyZ");Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===l[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return l[t]}}))}));var f=parcelRequire("3HG1I");Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===f[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return f[t]}}))}));var d=parcelRequire("gjoxk");Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===d[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return d[t]}}))}));var h=parcelRequire("b1CgI");Object.keys(h).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===h[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return h[t]}}))}));var v=parcelRequire("6crX0");Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===v[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return v[t]}}))}));var p=parcelRequire("2HJeb");Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===p[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return p[t]}}))}));var b=parcelRequire("3N4Lm");Object.keys(b).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===b[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return b[t]}}))}));var g=parcelRequire("8Mi0N");Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===g[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return g[t]}}))}));var m=parcelRequire("569ux");Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===m[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return m[t]}}))}));var $=parcelRequire("em69K");Object.keys($).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===$[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return $[t]}}))}));var y=parcelRequire("l1ks5");Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===y[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return y[t]}}))}));var w=parcelRequire("aILbz");Object.keys(w).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===w[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return w[t]}}))}));var _=parcelRequire("i9fxQ");Object.keys(_).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===_[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return _[t]}}))}))})),parcelRequire.register("7U1nS",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ExtensibleEvents=void 0;var r=parcelRequire("5WhxZ"),n=parcelRequire("4NKrB"),i=parcelRequire("6FQyZ"),a=parcelRequire("3HG1I"),o=parcelRequire("2HJeb"),s=parcelRequire("em69K"),u=parcelRequire("gjoxk");function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"interpreters",new r.NamespacedMap([[i.LEGACY_M_ROOM_MESSAGE,i.parseMRoomMessage],[o.M_MESSAGE,a.parseMMessage],[o.M_EMOTE,a.parseMMessage],[o.M_NOTICE,a.parseMMessage],[s.M_POLL_START,u.parseMPoll],[s.M_POLL_RESPONSE,u.parseMPoll],[s.M_POLL_END,u.parseMPoll]])),d(this,"_unknownInterpretOrder",[o.M_MESSAGE])}var t,l,h;return t=e,h=[{key:"defaultInstance",get:function(){return e._defaultInstance}},{key:"unknownInterpretOrder",get:function(){return e.defaultInstance.unknownInterpretOrder},set:function(t){e.defaultInstance.unknownInterpretOrder=t}},{key:"registerInterpreter",value:function(t,r){e.defaultInstance.registerInterpreter(t,r)}},{key:"parse",value:function(t){return e.defaultInstance.parse(t)}}],(l=[{key:"unknownInterpretOrder",get:function(){var e;return null!==(e=this._unknownInterpretOrder)&&void 0!==e?e:[]},set:function(e){this._unknownInterpretOrder=e}},{key:"registerInterpreter",value:function(e,t){this.interpreters.set(e,t)}},{key:"parse",value:function(e){try{if(this.interpreters.hasNamespaced(e.type))return this.interpreters.getNamespaced(e.type)(e);var t,r=c(this.unknownInterpretOrder);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(this.interpreters.has(i)){var a=this.interpreters.get(i)(e);if(a)return a}}}catch(e){r.e(e)}finally{r.f()}return null}catch(e){if(e instanceof n.InvalidEventError)return null;throw e}}}])&&f(t.prototype,l),h&&f(t,h),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.ExtensibleEvents=h,d(h,"_defaultInstance",new h)})),parcelRequire.register("5WhxZ",(function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.NamespacedMap=void 0;var a=function(){function e(t){var n,i,a;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i="internalMap",a=new Map,i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t){var o,s=r(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.set(u[0],u[1])}}catch(e){s.e(e)}finally{s.f()}}}var t,n,a;return t=e,(n=[{key:"get",value:function(e){return e.name&&this.internalMap.has(e.name)?this.internalMap.get(e.name):e.altName&&this.internalMap.has(e.altName)?this.internalMap.get(e.altName):null}},{key:"set",value:function(e,t){e.name&&this.internalMap.set(e.name,t),e.altName&&this.internalMap.set(e.altName,t)}},{key:"has",value:function(e){return!!this.get(e)}},{key:"delete",value:function(e){e.name&&this.internalMap.delete(e.name),e.altName&&this.internalMap.delete(e.altName)}},{key:"hasNamespaced",value:function(e){return this.internalMap.has(e)}},{key:"getNamespaced",value:function(e){return this.internalMap.get(e)}}])&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.NamespacedMap=a})),parcelRequire.register("4NKrB",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){var r,n=function(){return o(e,arguments,c(this).constructor)};if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},a(e)}function o(e,t,r){return o=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i},o.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.InvalidEventError=void 0;var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(d,e);var t,r,a,o,l,f=(t=d,r=s(),function(){var e,n=c(t);if(r){var a=c(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return i(this,e)});function d(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),f.call(this,e)}return a=d,o&&n(a.prototype,o),l&&n(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}(a(Error));e.exports.InvalidEventError=l})),parcelRequire.register("6FQyZ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LEGACY_M_ROOM_MESSAGE=void 0,e.exports.parseMRoomMessage=function(e){var t,a,s;if(o.M_MESSAGE.findIn(e.content)||o.M_TEXT.findIn(e.content))return new r.MessageEvent(e);var l,f=null===(t=e.content)||void 0===t?void 0:t.msgtype,d=null===(a=e.content)||void 0===a?void 0:a.body,h="org.matrix.custom.html"===(null===(s=e.content)||void 0===s?void 0:s.format)?e.content.formatted_body:null;return"m.text"===f?new r.MessageEvent(u(u({},e),{},{content:u(u({},e.content),{},(l={},c(l,o.M_TEXT.name,d),c(l,o.M_HTML.name,h),l))})):"m.notice"===f?new n.NoticeEvent(u(u({},e),{},{content:u(u({},e.content),{},(v={},c(v,o.M_TEXT.name,d),c(v,o.M_HTML.name,h),v))})):"m.emote"===f?new i.EmoteEvent(u(u({},e),{},{content:u(u({},e.content),{},(p={},c(p,o.M_TEXT.name,d),c(p,o.M_HTML.name,h),p))})):null;var v,p};var r=parcelRequire("3N4Lm"),n=parcelRequire("569ux"),i=parcelRequire("8Mi0N"),a=parcelRequire("5dPqx"),o=parcelRequire("2HJeb");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=new a.NamespacedValue("m.room.message");e.exports.LEGACY_M_ROOM_MESSAGE=l})),parcelRequire.register("3N4Lm",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MessageEvent=void 0;var n=parcelRequire("6crX0"),i=parcelRequire("4ltRC"),a=parcelRequire("4NKrB"),o=parcelRequire("2HJeb"),s=parcelRequire("cja2C");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(h,e);var t,r,n,u=d(h);function h(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),b(v(t=u.call(this,e)),"text",void 0),b(v(t),"html",void 0),b(v(t),"renderings",void 0);var r=o.M_MESSAGE.findIn(t.wireContent),n=o.M_TEXT.findIn(t.wireContent),s=o.M_HTML.findIn(t.wireContent);if((0,i.isProvided)(r)){if(!Array.isArray(r))throw new a.InvalidEventError("m.message contents must be an array");var c=r.find((function(e){return!(0,i.isProvided)(e.mimetype)||"text/plain"===e.mimetype})),l=r.find((function(e){return"text/html"===e.mimetype}));if(!c)throw new a.InvalidEventError("m.message is missing a plain text representation");t.text=c.body,t.html=null==l?void 0:l.body,t.renderings=r}else{if(!(0,i.isOptionalAString)(n))throw new a.InvalidEventError("Missing textual representation for event");t.text=n,t.html=s,t.renderings=[{body:n,mimetype:"text/plain"}],t.html&&t.renderings.push({body:t.html,mimetype:"text/html"})}return t}return t=h,n=[{key:"from",value:function(e,t){var r;return new h({type:o.M_MESSAGE.name,content:(r={},b(r,o.M_TEXT.name,e),b(r,o.M_HTML.name,t),r)})}}],(r=[{key:"isEmote",get:function(){return o.M_EMOTE.matches(this.wireFormat.type)||(0,i.isProvided)(o.M_EMOTE.findIn(this.wireFormat.content))}},{key:"isNotice",get:function(){return o.M_NOTICE.matches(this.wireFormat.type)||(0,i.isProvided)(o.M_NOTICE.findIn(this.wireFormat.content))}},{key:"isEquivalentTo",value:function(e){return(0,s.isEventTypeSame)(e,o.M_MESSAGE)}},{key:"serializeMMessageOnly",value:function(){var e=b({},o.M_MESSAGE.name,this.renderings);if(1===this.renderings.length){var t=this.renderings[0].mimetype;void 0!==t&&"text/plain"!==t||(e=b({},o.M_TEXT.name,this.renderings[0].body))}return e}},{key:"serialize",value:function(){var e;return{type:"m.room.message",content:c(c({},this.serializeMMessageOnly()),{},{body:this.text,msgtype:"m.text",format:this.html?"org.matrix.custom.html":void 0,formatted_body:null!==(e=this.html)&&void 0!==e?e:void 0})}}}])&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(n.ExtensibleEvent);e.exports.MessageEvent=g})),parcelRequire.register("6crX0",(function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ExtensibleEvent=void 0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wireFormat=t}var t,n,i;return t=e,(n=[{key:"wireContent",get:function(){return this.wireFormat.content}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.ExtensibleEvent=n})),parcelRequire.register("4ltRC",(function(e,t){"use strict";function r(e){return null!=e}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isOptionalAString=function(e){return r(e)&&"string"==typeof e},e.exports.isProvided=r})),parcelRequire.register("2HJeb",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.M_TEXT=e.exports.M_NOTICE=e.exports.M_MESSAGE=e.exports.M_HTML=e.exports.M_EMOTE=void 0;var r=parcelRequire("5dPqx"),n=new r.UnstableValue("m.message","org.matrix.msc1767.message");e.exports.M_MESSAGE=n;var i=new r.UnstableValue("m.text","org.matrix.msc1767.text");e.exports.M_TEXT=i;var a=new r.UnstableValue("m.html","org.matrix.msc1767.html");e.exports.M_HTML=a;var o=new r.UnstableValue("m.emote","org.matrix.msc1767.emote");e.exports.M_EMOTE=o;var s=new r.UnstableValue("m.notice","org.matrix.msc1767.notice");e.exports.M_NOTICE=s})),parcelRequire.register("5dPqx",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UnstableValue=e.exports.NamespacedValue=void 0;var l=function(){function e(t,r){if(s(this,e),this.stable=t,this.unstable=r,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}return c(e,[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"matches",value:function(e){return!!this.name&&this.name===e||!!this.altName&&this.altName===e}},{key:"findIn",value:function(e){var t;return this.name&&(t=null==e?void 0:e[this.name]),!t&&this.altName&&(t=null==e?void 0:e[this.altName]),t}},{key:"includedIn",value:function(e){var t=!1;return this.name&&(t=e.includes(this.name)),!t&&this.altName&&(t=e.includes(this.altName)),t}}]),e}();e.exports.NamespacedValue=l;var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(r,e);var t=i(r);function r(e,n){var i;if(s(this,r),!(i=t.call(this,e,n)).unstable)throw new Error("Unstable value must be supplied");return i}return c(r,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}]),r}(l);e.exports.UnstableValue=f})),parcelRequire.register("cja2C",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEventTypeSame=function(e,t){if("string"==typeof e)return"string"==typeof t?t===e:t.matches(e);if("string"==typeof t)return e.matches(t);var r=t,n=e;return r.matches(n.name)||r.matches(n.altName)}})),parcelRequire.register("569ux",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.NoticeEvent=void 0;var n=parcelRequire("3N4Lm"),i=parcelRequire("2HJeb"),a=parcelRequire("cja2C");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=c(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},u.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,r,n,c=f(d);function d(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),c.call(this,e)}return t=d,n=[{key:"from",value:function(e,t){var r;return new d({type:i.M_NOTICE.name,content:(r={},o(r,i.M_TEXT.name,e),o(r,i.M_HTML.name,t),r)})}}],(r=[{key:"isNotice",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,a.isEventTypeSame)(e,i.M_NOTICE)||u(h(d.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=u(h(d.prototype),"serialize",this).call(this);return e.content.msgtype="m.notice",e}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(n.MessageEvent);e.exports.NoticeEvent=v})),parcelRequire.register("8Mi0N",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EmoteEvent=void 0;var n=parcelRequire("3N4Lm"),i=parcelRequire("2HJeb"),a=parcelRequire("cja2C");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=c(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},u.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,r,n,c=f(d);function d(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),c.call(this,e)}return t=d,n=[{key:"from",value:function(e,t){var r;return new d({type:i.M_EMOTE.name,content:(r={},o(r,i.M_TEXT.name,e),o(r,i.M_HTML.name,t),r)})}}],(r=[{key:"isEmote",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,a.isEventTypeSame)(e,i.M_EMOTE)||u(h(d.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=u(h(d.prototype),"serialize",this).call(this);return e.content.msgtype="m.emote",e}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(n.MessageEvent);e.exports.EmoteEvent=v})),parcelRequire.register("3HG1I",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.parseMMessage=function(e){if(n.M_EMOTE.matches(e.type))return new i.EmoteEvent(e);if(n.M_NOTICE.matches(e.type))return new a.NoticeEvent(e);return new r.MessageEvent(e)};var r=parcelRequire("3N4Lm"),n=parcelRequire("2HJeb"),i=parcelRequire("8Mi0N"),a=parcelRequire("569ux")})),parcelRequire.register("em69K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.M_POLL_START=e.exports.M_POLL_RESPONSE=e.exports.M_POLL_KIND_UNDISCLOSED=e.exports.M_POLL_KIND_DISCLOSED=e.exports.M_POLL_END=void 0;var r=parcelRequire("5dPqx"),n=new r.UnstableValue("m.poll.disclosed","org.matrix.msc3381.poll.disclosed");e.exports.M_POLL_KIND_DISCLOSED=n;var i=new r.UnstableValue("m.poll.undisclosed","org.matrix.msc3381.poll.undisclosed");e.exports.M_POLL_KIND_UNDISCLOSED=i;var a=new r.UnstableValue("m.poll.start","org.matrix.msc3381.poll.start");e.exports.M_POLL_START=a;var o=new r.UnstableValue("m.poll.response","org.matrix.msc3381.poll.response");e.exports.M_POLL_RESPONSE=o;var s=new r.UnstableValue("m.poll.end","org.matrix.msc3381.poll.end");e.exports.M_POLL_END=s})),parcelRequire.register("gjoxk",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.parseMPoll=function(e){if(r.M_POLL_START.matches(e.type))return new n.PollStartEvent(e);if(r.M_POLL_RESPONSE.matches(e.type))return new i.PollResponseEvent(e);if(r.M_POLL_END.matches(e.type))return new a.PollEndEvent(e);return null};var r=parcelRequire("em69K"),n=parcelRequire("l1ks5"),i=parcelRequire("aILbz"),a=parcelRequire("i9fxQ")})),parcelRequire.register("l1ks5",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.PollStartEvent=e.exports.PollAnswerSubevent=void 0;var n=parcelRequire("em69K"),i=parcelRequire("3N4Lm"),a=parcelRequire("2HJeb"),o=parcelRequire("4NKrB"),s=parcelRequire("5dPqx"),u=parcelRequire("cja2C"),c=parcelRequire("6crX0");function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){g(r,e);var t=$(r);function r(e){var n;v(this,r),S(w(n=t.call(this,e)),"id",void 0);var i=e.content.id;if(!i||"string"!=typeof i)throw new o.InvalidEventError("Answer ID must be a non-empty string");return n.id=i,n}return b(r,[{key:"serialize",value:function(){return{type:"org.matrix.sdk.poll.answer",content:h({id:this.id},this.serializeMMessageOnly())}}}],[{key:"from",value:function(e,t){return new r({type:"org.matrix.sdk.poll.answer",content:S({id:e},a.M_TEXT.name,t)})}}]),r}(i.MessageEvent);e.exports.PollAnswerSubevent=C;var k=function(e){g(r,e);var t=$(r);function r(e){var a;v(this,r),S(w(a=t.call(this,e)),"question",void 0),S(w(a),"kind",void 0),S(w(a),"rawKind",void 0),S(w(a),"maxSelections",void 0),S(w(a),"answers",void 0);var s=n.M_POLL_START.findIn(a.wireContent);if(!s.question)throw new o.InvalidEventError("A question is required");if(a.question=new i.MessageEvent({type:"org.matrix.sdk.poll.question",content:s.question}),a.rawKind=s.kind,n.M_POLL_KIND_DISCLOSED.matches(a.rawKind)?a.kind=n.M_POLL_KIND_DISCLOSED:a.kind=n.M_POLL_KIND_UNDISCLOSED,a.maxSelections=Number.isFinite(s.max_selections)&&s.max_selections>0?s.max_selections:1,!Array.isArray(s.answers))throw new o.InvalidEventError("Poll answers must be an array");var u=s.answers.slice(0,20).map((function(e){return new C({type:"org.matrix.sdk.poll.answer",content:e})}));if(u.length<=0)throw new o.InvalidEventError("No answers available");return a.answers=u,a}return b(r,[{key:"isEquivalentTo",value:function(e){return(0,u.isEventTypeSame)(e,n.M_POLL_START)}},{key:"serialize",value:function(){var e;return{type:n.M_POLL_START.name,content:(e={},S(e,n.M_POLL_START.name,{question:this.question.serialize().content,kind:this.rawKind,max_selections:this.maxSelections,answers:this.answers.map((function(e){return e.serialize().content}))}),S(e,a.M_TEXT.name,"".concat(this.question.text,"\n").concat(this.answers.map((function(e,t){return"".concat(t+1,". ").concat(e.text)})).join("\n"))),e)}}}],[{key:"from",value:function(e,t,i){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new r({type:n.M_POLL_START.name,content:(o={},S(o,a.M_TEXT.name,e),S(o,n.M_POLL_START.name,{question:S({},a.M_TEXT.name,e),kind:i instanceof s.NamespacedValue?i.name:i,max_selections:u,answers:t.map((function(e){return S({id:R()},a.M_TEXT.name,e)}))}),o)})}}]),r}(c.ExtensibleEvent);e.exports.PollStartEvent=k;var E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function R(){return l(Array(16)).map((function(){return E.charAt(Math.floor(Math.random()*E.length))})).join("")}})),parcelRequire.register("aILbz",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.PollResponseEvent=void 0;var n=parcelRequire("6crX0"),i=parcelRequire("em69K"),a=parcelRequire("4NKrB"),o=parcelRequire("b1CgI"),s=parcelRequire("cja2C");function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,r,n,f=l(h);function h(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),v(d(t=f.call(this,e)),"internalAnswerIds",void 0),v(d(t),"internalSpoiled",void 0),v(d(t),"pollEventId",void 0);var r=t.wireContent["m.relates_to"];if(!o.REFERENCE_RELATION.matches(null==r?void 0:r.rel_type)||"string"!=typeof(null==r?void 0:r.event_id))throw new a.InvalidEventError("Relationship must be a reference to an event");return t.pollEventId=r.event_id,t.validateAgainst(null),t}return t=h,n=[{key:"from",value:function(e,t){return new h({type:i.M_POLL_RESPONSE.name,content:v({"m.relates_to":{rel_type:o.REFERENCE_RELATION.name,event_id:t}},i.M_POLL_RESPONSE.name,{answers:e})})}}],(r=[{key:"answerIds",get:function(){return this.internalAnswerIds}},{key:"spoiled",get:function(){return this.internalSpoiled}},{key:"validateAgainst",value:function(e){var t=i.M_POLL_RESPONSE.findIn(this.wireContent);if(!Array.isArray(null==t?void 0:t.answers))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);var r=t.answers;if(r.some((function(e){return"string"!=typeof e}))||0===r.length)return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);if(e){if(r.some((function(t){return!e.answers.some((function(e){return e.id===t}))})))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);r=r.slice(0,e.maxSelections)}this.internalAnswerIds=r,this.internalSpoiled=!1}},{key:"isEquivalentTo",value:function(e){return(0,s.isEventTypeSame)(e,i.M_POLL_RESPONSE)}},{key:"serialize",value:function(){return{type:i.M_POLL_RESPONSE.name,content:v({"m.relates_to":{rel_type:o.REFERENCE_RELATION.name,event_id:this.pollEventId}},i.M_POLL_RESPONSE.name,{answers:this.spoiled?void 0:this.answerIds})}}}])&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(n.ExtensibleEvent);e.exports.PollResponseEvent=p})),parcelRequire.register("b1CgI",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.REFERENCE_RELATION=void 0;var r=new(parcelRequire("5dPqx").NamespacedValue)("m.reference");e.exports.REFERENCE_RELATION=r})),parcelRequire.register("i9fxQ",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.PollEndEvent=void 0;var n=parcelRequire("em69K"),i=parcelRequire("4NKrB"),a=parcelRequire("b1CgI"),o=parcelRequire("3N4Lm"),s=parcelRequire("2HJeb"),u=parcelRequire("cja2C");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(b,e);var t,r,c,v=h(b);function b(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),g(p(t=v.call(this,e)),"pollEventId",void 0),g(p(t),"closingMessage",void 0);var r=t.wireContent["m.relates_to"];if(!a.REFERENCE_RELATION.matches(null==r?void 0:r.rel_type)||"string"!=typeof(null==r?void 0:r.event_id))throw new i.InvalidEventError("Relationship must be a reference to an event");return t.pollEventId=r.event_id,t.closingMessage=new o.MessageEvent(t.wireFormat),t}return t=b,c=[{key:"from",value:function(e,t){var r;return new b({type:n.M_POLL_END.name,content:(r={"m.relates_to":{rel_type:a.REFERENCE_RELATION.name,event_id:e}},g(r,n.M_POLL_END.name,{}),g(r,s.M_TEXT.name,t),r)})}}],(r=[{key:"isEquivalentTo",value:function(e){return(0,u.isEventTypeSame)(e,n.M_POLL_END)}},{key:"serialize",value:function(){return{type:n.M_POLL_END.name,content:l(g({"m.relates_to":{rel_type:a.REFERENCE_RELATION.name,event_id:this.pollEventId}},n.M_POLL_END.name,{}),this.closingMessage.serialize().content)}}}])&&f(t.prototype,r),c&&f(t,c),Object.defineProperty(t,"prototype",{writable:!1}),b}(parcelRequire("6crX0").ExtensibleEvent);e.exports.PollEndEvent=m})),parcelRequire.register("c4MR6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("8KPaX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LegacyMsgType=void 0,e.exports.isEventLike=function(e,t){var n=e.content;if(t===r.Text)return i.M_MESSAGE.matches(e.type)||"m.room.message"===e.type&&"m.text"===(null==n?void 0:n.msgtype);if(t===r.Emote)return i.M_EMOTE.matches(e.type)||"m.room.message"===e.type&&"m.emote"===(null==n?void 0:n.msgtype);if(t===r.Notice)return i.M_NOTICE.matches(e.type)||"m.room.message"===e.type&&"m.notice"===(null==n?void 0:n.msgtype);return!1};var r,n,i=parcelRequire("2HJeb");e.exports.LegacyMsgType=r,(n=r||(e.exports.LegacyMsgType=r={})).Text="m.text",n.Notice="m.notice",n.Emote="m.emote"})),parcelRequire.register("gPIgD",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("aPvD2"),s=parcelRequire("aBvOn"),u=parcelRequire("gNsil"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ThreadFilterType=e.exports.ThreadEvent=e.exports.Thread=e.exports.THREAD_RELATION_TYPE=e.exports.FeatureSupport=e.exports.FILTER_RELATED_BY_SENDERS=e.exports.FILTER_RELATED_BY_REL_TYPES=void 0,e.exports.determineFeatureSupport=function(e,t){return e?v.Stable:t?v.Experimental:v.None},e.exports.threadFilterTypeToFilter=function(e){if(e===O.My)return"participated";return"all"};var d,h,v,p,b=f(parcelRequire("abzte")),g=parcelRequire("67LLR"),m=parcelRequire("5FD7J"),$=parcelRequire("axSuM"),y=parcelRequire("dlOEf"),w=parcelRequire("gFIkm"),_=parcelRequire("kbPXZ"),S=parcelRequire("6pgXP"),C=parcelRequire("cQ59V"),k=parcelRequire("fKX3v"),E=parcelRequire("e6IaQ"),R=parcelRequire("kFcT2");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,b.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.exports.ThreadEvent=d,(h=d||(e.exports.ThreadEvent=d={})).New="Thread.new",h.Update="Thread.update",h.NewReply="Thread.newReply",h.ViewThread="Thread.viewThread",h.Delete="Thread.delete",e.exports.FeatureSupport=v,(p=v||(e.exports.FeatureSupport=v={}))[p.None=0]="None",p[p.Experimental=1]="Experimental",p[p.Stable=2]="Stable";var I=function(e){(0,u.default)(f,e);var t=(0,c.default)(f);function f(e,a,o){var s,u;(0,i.default)(this,f),(s=t.call(this)).id=e,s.rootEvent=a,(0,b.default)((0,r.default)(s),"timelineSet",void 0),(0,b.default)((0,r.default)(s),"timeline",[]),(0,b.default)((0,r.default)(s),"_currentUserParticipated",!1),(0,b.default)((0,r.default)(s),"reEmitter",void 0),(0,b.default)((0,r.default)(s),"lastEvent",void 0),(0,b.default)((0,r.default)(s),"replyCount",0),(0,b.default)((0,r.default)(s),"lastPendingEvent",void 0),(0,b.default)((0,r.default)(s),"pendingReplyCount",0),(0,b.default)((0,r.default)(s),"room",void 0),(0,b.default)((0,r.default)(s),"client",void 0),(0,b.default)((0,r.default)(s),"pendingEventOrdering",void 0),(0,b.default)((0,r.default)(s),"initialEventsFetched",!f.hasServerSideSupport),(0,b.default)((0,r.default)(s),"replayEvents",[]),(0,b.default)((0,r.default)(s),"onBeforeRedaction",(function(e,t){null!=e&&e.isRelation(P.name)&&s.room.eventShouldLiveIn(e).threadId===s.id&&e.getId()!==s.id&&!t.status&&(s.replyCount--,s.updatePendingReplyCount(),s.emit(d.Update,(0,r.default)(s)))}));var c,h=(0,r.default)(s);(0,b.default)((0,r.default)(s),"onRedaction",(c=(0,n.default)((function(e){var t,r,n,i,a,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:if(e.threadRootId!==h.id)return[2];if(!(h.replyCount<=0))return[3,1];t=!0,r=!1,n=void 0;try{for(i=h.timeline[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)o=a.value,h.clearEventMetadata(o)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return h.lastEvent=h.rootEvent,h._currentUserParticipated=!1,h.emit(d.Delete,h),[3,3];case 1:return[4,h.updateThreadMetadata()];case 2:s.sent(),s.label=3;case 3:return[2]}}))})),function(e){return c.apply(this,arguments)})),(0,b.default)((0,r.default)(s),"onTimelineEvent",(function(e,t,r){r||t.addLocalEchoReceipt(e.getSender(),e,R.ReceiptType.Read),s.onEcho(e,null!=r&&r)})),(0,b.default)((0,r.default)(s),"onLocalEcho",(function(e){s.onEcho(e,!1)}));var v=(0,r.default)(s);if((0,b.default)((0,r.default)(s),"onEcho",function(){var e=(0,n.default)((function(e,t){return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e.threadRootId!==v.id||v.lastEvent===e?[2]:[4,v.updateThreadMetadata()];case 1:return r.sent(),e.isRelation(P.name)?(t||v.emit(d.NewReply,v,e),[2]):[2]}}))}));return function(t,r){return e.apply(this,arguments)}}()),null==o||!o.room)throw new Error("element-web#22141: A thread requires a room in order to function");return s.room=o.room,s.client=o.client,s.pendingEventOrdering=null!==(u=o.pendingEventOrdering)&&void 0!==u?u:g.PendingEventOrdering.Chronological,s.timelineSet=new _.EventTimelineSet(s.room,{timelineSupport:!0,pendingEvents:!0},s.client,(0,r.default)(s)),s.reEmitter=new m.TypedReEmitter((0,r.default)(s)),s.reEmitter.reEmit(s.timelineSet,[S.RoomEvent.Timeline,S.RoomEvent.TimelineReset]),s.room.on(y.MatrixEventEvent.BeforeRedaction,s.onBeforeRedaction),s.room.on(S.RoomEvent.Redaction,s.onRedaction),s.room.on(S.RoomEvent.LocalEchoUpdated,s.onLocalEcho),s.timelineSet.on(S.RoomEvent.Timeline,s.onTimelineEvent),s.processReceipts(o.receipts),s.updateThreadMetadata(),s.setEventMetadata(s.rootEvent),s}return(0,a.default)(f,[{key:"fetchRootEvent",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:e.rootEvent=e.room.findEventById(e.id),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.client.fetchRoomEvent(e.roomId,e.id)];case 2:return t=i.sent(),r=e.client.getEventMapper(),e.rootEvent=r(t),[3,4];case 3:return n=i.sent(),k.logger.error("Failed to fetch thread root to construct thread with",n),[3,4];case 4:return[4,e.processEvent(e.rootEvent)];case 5:return i.sent(),[2]}}))}))()}},{key:"roomState",get:function(){return this.room.getLiveTimeline().getState(w.EventTimeline.FORWARDS)}},{key:"addEventToTimeline",value:function(e,t){this.findEventById(e.getId())||(this.timelineSet.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:t,fromCache:!1,roomState:this.roomState}),this.timeline=this.events)}},{key:"addEvents",value:function(e,t){var r=this;e.forEach((function(e){return r.addEvent(e,t,!1)})),this.updateThreadMetadata()}},{key:"addEvent",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;return(0,n.default)((function(){var n,a,o,s,u;return(0,l.__generator)(this,(function(c){if(i.setEventMetadata(e),n=i.lastReply(),a=!n||e.localTimestamp>=n.localTimestamp,f.hasServerSideSupport){if(!t&&i.initialEventsFetched&&a)i.addEventToTimeline(e,!1),i.fetchEditsWhereNeeded(e);else if(e.isRelation($.RelationType.Annotation)||e.isRelation($.RelationType.Replace))return i.initialEventsFetched?i.addEventToTimeline(e,t):null===(u=i.replayEvents)||void 0===u||u.push(e),null===(o=i.timelineSet.relations)||void 0===o||o.aggregateParentEvent(e),null===(s=i.timelineSet.relations)||void 0===s||s.aggregateChildEvent(e,i.timelineSet),[2]}else i.addEventToTimeline(e,t),i.client.decryptEventIfNeeded(e,{});return f.hasServerSideSupport&&i.rootEvent||!e.isRelation(P.name)||i.replyCount++,r&&(i.emit(d.NewReply,i,e),i.updateThreadMetadata()),[2]}))}))()}},{key:"processEvent",value:function(e){var t=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e?(t.setEventMetadata(e),[4,t.fetchEditsWhereNeeded(e)]):[3,2];case 1:r.sent(),r.label=2;case 2:return t.timeline=t.events,[2]}}))}))()}},{key:"processReceipts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=o.eventId,u=o.receiptType,c=o.userId,l=o.receipt,f=o.synthetic;this.addReceiptToStructure(s,u,c,l,f)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"getRootEventBundledRelationship",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rootEvent;return null==e?void 0:e.getServerAggregatedRelation(P.name)}},{key:"processRootEvent",value:function(){var e=this;return(0,n.default)((function(){var t,r;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return t=e.getRootEventBundledRelationship(),f.hasServerSideSupport&&t?(e.replyCount=t.count,e._currentUserParticipated=!!t.current_user_participated,r=e.client.getEventMapper(),e.lastEvent=r(M(M({},t.latest_event),{},{room_id:e.roomId})),e.updatePendingReplyCount(),[4,e.processEvent(e.lastEvent)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()}},{key:"updatePendingReplyCount",value:function(){var e=this,t=(this.pendingEventOrdering===g.PendingEventOrdering.Detached?this.room.getPendingEvents():this.events).filter((function(t){var r;return t.threadRootId===e.id&&t.isRelation(P.name)&&null!==t.status&&t.getId()!==(null===(r=e.lastEvent)||void 0===r?void 0:r.getId())}));this.lastPendingEvent=t.length?t[t.length-1]:void 0,this.pendingReplyCount=t.length}},{key:"resetLiveTimeline",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,f;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return n=r.liveTimeline,r.timelineSet.resetLiveTimeline(null!=e?e:void 0,null!=t?t:void 0),i=r.liveTimeline,e?[4,r.client.createMessagesRequest(r.roomId,e,1,w.Direction.Forward)]:[3,2];case 1:s=l.sent(),a=s.end,l.label=2;case 2:return t?[4,r.client.createMessagesRequest(r.roomId,t,1,w.Direction.Backward)]:[3,4];case 3:u=l.sent(),o=u.start,l.label=4;case 4:return t&&n.getPaginationToken(w.Direction.Forward)===t&&n.setPaginationToken(null!==(c=o)&&void 0!==c?c:null,w.Direction.Forward),e&&i.getPaginationToken(w.Direction.Backward)===e&&i.setPaginationToken(null!==(f=a)&&void 0!==f?f:null,w.Direction.Backward),[2]}}))}))()}},{key:"updateThreadMetadata",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s;return(0,l.__generator)(this,(function(u){switch(u.label){case 0:return e.updatePendingReplyCount(),f.hasServerSideSupport?e.initialEventsFetched?[3,2]:[4,e.processRootEvent()]:[3,4];case 1:u.sent(),u.label=2;case 2:return[4,e.fetchRootEvent()];case 3:u.sent(),u.label=4;case 4:return[4,e.processRootEvent()];case 5:if(u.sent(),e.initialEventsFetched)return[3,11];e.initialEventsFetched=!0,u.label=6;case 6:return u.trys.push([6,10,,11]),0===e.replyCount&&e.rootEvent?(e.timelineSet.addEventsToTimeline([e.rootEvent],!0,e.liveTimeline,null),e.liveTimeline.setPaginationToken(null,w.Direction.Backward),[3,9]):[3,7];case 7:return[4,e.client.paginateEventTimeline(e.liveTimeline,{backwards:!0,limit:Math.max(1,e.length)})];case 8:u.sent(),u.label=9;case 9:t=!0,r=!1,n=void 0;try{for(i=e.replayEvents[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)o=a.value,e.addEvent(o,!1)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e.replayEvents=null,e.emit(S.RoomEvent.TimelineReset,e.room,e.timelineSet,!0),[3,11];case 10:return s=u.sent(),k.logger.error("Failed to load start of newly created thread: ",s),e.initialEventsFetched=!1,[3,11];case 11:return e.emit(d.Update,e),[2]}}))}))()}},{key:"fetchEditsWhereNeeded",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(e){return[2,Promise.all(t.filter((function(e){return e.isEncrypted()})).map((function(e){if(!e.isRelation())return i.client.relations(i.roomId,e.getId(),$.RelationType.Replace,e.getType(),{limit:1}).then((function(t){t.events.length&&e.makeReplaced(t.events[0])})).catch((function(e){k.logger.error("Failed to load edits for encrypted thread event",e)}))})))]}))}))()}},{key:"setEventMetadata",value:function(e){e&&(w.EventTimeline.setEventMetadata(e,this.roomState,!1),e.setThread(this))}},{key:"clearEventMetadata",value:function(e){var t,r,n;e&&(e.setThread(void 0),null===(t=e.event)||void 0===t||null===(r=t.unsigned)||void 0===r||null===(n=r["m.relations"])||void 0===n||delete n[P.name])}},{key:"findEventById",value:function(e){return this.timelineSet.findEventById(e)}},{key:"lastReply",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=this.timeline.length-1;t>=0;t--){var r=this.timeline[t];if(e(r))return r}return null}},{key:"roomId",get:function(){return this.room.roomId}},{key:"length",get:function(){return this.replyCount+this.pendingReplyCount}},{key:"replyToEvent",get:function(){var e,t;return null!==(e=null!==(t=this.lastPendingEvent)&&void 0!==t?t:this.lastEvent)&&void 0!==e?e:this.lastReply()}},{key:"events",get:function(){return this.liveTimeline.getEvents()}},{key:"has",value:function(e){return this.timelineSet.findEventById(e)instanceof y.MatrixEvent}},{key:"hasCurrentUserParticipated",get:function(){return this._currentUserParticipated}},{key:"liveTimeline",get:function(){return this.timelineSet.getLiveTimeline()}},{key:"getUnfilteredTimelineSet",value:function(){return this.timelineSet}},{key:"addReceipt",value:function(e,t){throw new Error("Unsupported function on the thread model")}},{key:"getEventReadUpTo",value:function(e,t){var r=e===this.client.getUserId(),n=this.timeline[this.timeline.length-1];if(r&&n){var i=n.getTs()<this.room.getOldestThreadedReceiptTs(),a=n.getId();if(i&&a)return a}var u=(0,o.default)((0,s.default)(f.prototype),"getEventReadUpTo",this).call(this,e,t);if(n){var c=this.room.getLastUnthreadedReceiptFor(e);if(!c)return u;for(var l=(null===(d=this.timeline)||void 0===d?void 0:d.length)-1;l>=0;--l){var d,h,v=this.timeline[l];if(v.getId()===u)return u;if(v.getTs()<c.ts)return null!==(h=v.getId())&&void 0!==h?h:u}}return u}},{key:"hasUserReadEvent",value:function(e,t){if(e===this.client.getUserId()){var r,n,i,a,u,c,l=(null!==(r=null===(n=this.lastReply())||void 0===n?void 0:n.getTs())&&void 0!==r?r:0)<this.room.getOldestThreadedReceiptTs(),d=null!==(i=null===(a=this.room.getLastUnthreadedReceiptFor(e))||void 0===a?void 0:a.ts)&&void 0!==i?i:0,h=(null!==(u=null==this||null===(c=this.lastReply())||void 0===c?void 0:c.getTs())&&void 0!==u?u:0)<d;if(l||h)return!0}return(0,o.default)((0,s.default)(f.prototype),"hasUserReadEvent",this).call(this,e,t)}}],[{key:"setServerSideSupport",value:function(e){f.hasServerSideSupport=e,e!==v.Stable&&(T.setPreferUnstable(!0),A.setPreferUnstable(!0),P.setPreferUnstable(!0))}},{key:"setServerSideListSupport",value:function(e){f.hasServerSideListSupport=e}},{key:"setServerSideFwdPaginationSupport",value:function(e){f.hasServerSideFwdPaginationSupport=e}}]),f}(E.ReadReceipt);e.exports.Thread=I,(0,b.default)(I,"hasServerSideSupport",v.None),(0,b.default)(I,"hasServerSideListSupport",v.None),(0,b.default)(I,"hasServerSideFwdPaginationSupport",v.None);var T=new C.ServerControlledNamespacedValue("related_by_senders","io.element.relation_senders");e.exports.FILTER_RELATED_BY_SENDERS=T;var A=new C.ServerControlledNamespacedValue("related_by_rel_types","io.element.relation_types");e.exports.FILTER_RELATED_BY_REL_TYPES=A;var O,D,P=new C.ServerControlledNamespacedValue("m.thread","io.element.thread");e.exports.THREAD_RELATION_TYPE=P,e.exports.ThreadFilterType=O,(D=O||(e.exports.ThreadFilterType=O={}))[D.My=0]="My",D[D.All=1]="All"})),parcelRequire.register("67LLR",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("dVhHy"),c=parcelRequire("caN7I"),l=parcelRequire("dCPLc"),f=parcelRequire("8rJSp"),d=parcelRequire("cDTRq"),h=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UNSTABLE_MSC3852_LAST_SEEN_UA=e.exports.RoomVersionStability=e.exports.PendingEventOrdering=e.exports.MatrixClient=e.exports.M_AUTHENTICATION=e.exports.ClientEvent=e.exports.CRYPTO_ENABLED=void 0,e.exports.fixNotificationCountOnDecryption=Te;var v=h(parcelRequire("kq6l8")),p=h(parcelRequire("abzte")),b=parcelRequire("7NsvV"),g=parcelRequire("dlOEf"),m=parcelRequire("3S5uk"),$=parcelRequire("cyUK7"),y=parcelRequire("ge4zT"),w=parcelRequire("j54vr"),_=ve(parcelRequire("5HsbU")),S=parcelRequire("gFIkm"),C=parcelRequire("cldfj"),k=parcelRequire("57Sdt"),E=ve(parcelRequire("gbtEr")),R=parcelRequire("5FD7J"),x=parcelRequire("3c0l2"),M=parcelRequire("fKX3v"),I=parcelRequire("1XfB2"),T=parcelRequire("84XpH"),A=parcelRequire("iKMAs"),O=parcelRequire("fmKNB"),D=parcelRequire("fI2p6"),P=parcelRequire("5Ewnj"),q=parcelRequire("dSypD"),L=parcelRequire("bvVOO"),U=parcelRequire("8kSRq"),N=parcelRequire("hosVf"),B=ve(parcelRequire("jCRp8")),F=parcelRequire("6pgXP"),j=parcelRequire("axSuM"),K=parcelRequire("fOPpl"),H=parcelRequire("4LJOO"),W=parcelRequire("hEw4R"),V=parcelRequire("7pgeS"),z=parcelRequire("8ieTF"),G=parcelRequire("kTCCE"),J=parcelRequire("1udkq"),Y=parcelRequire("473pQ"),Z=parcelRequire("eOnrc"),X=parcelRequire("egEJd"),Q=parcelRequire("4Eh2q"),ee=parcelRequire("kFcT2"),te=parcelRequire("8zIud"),re=parcelRequire("gPIgD"),ne=parcelRequire("hR3AI"),ie=parcelRequire("cQ59V"),ae=parcelRequire("hLNV7"),oe=parcelRequire("9bVbm"),se=parcelRequire("isqDr"),ue=parcelRequire("jNzPF"),ce=parcelRequire("6beUl"),le=["server","limit","since"];function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){(0,p.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(he=function(e){return e?r:t})(e)}function ve(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=he(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var pe=(0,A.isCryptoAvailable)();e.exports.CRYPTO_ENABLED=pe;var be,ge,me,$e,ye,we,_e=216e5,Se=6e5,Ce=new ie.UnstableValue("last_seen_user_agent","org.matrix.msc3852.last_seen_user_agent");e.exports.UNSTABLE_MSC3852_LAST_SEEN_UA=Ce,e.exports.PendingEventOrdering=be,(ge=be||(e.exports.PendingEventOrdering=be={})).Chronological="chronological",ge.Detached="detached",e.exports.RoomVersionStability=me,($e=me||(e.exports.RoomVersionStability=me={})).Stable="stable",$e.Unstable="unstable",(we=ye||(ye={})).MasterKey="master_key",we.SelfSigningKey="self_signing_key",we.UserSigningKey="user_signing_key";var ke=new ie.UnstableValue("m.authentication","org.matrix.msc2965.authentication");e.exports.M_AUTHENTICATION=ke;var Ee,Re,xe="$";e.exports.ClientEvent=Ee,(Re=Ee||(e.exports.ClientEvent=Ee={})).Sync="sync",Re.Event="event",Re.ToDeviceEvent="toDeviceEvent",Re.AccountData="accountData",Re.Room="Room",Re.DeleteRoom="deleteRoom",Re.SyncUnexpectedError="sync.unexpectedError",Re.ClientWellKnown="WellKnown.client",Re.ReceivedVoipEvent="received_voip_event",Re.TurnServers="turnServers",Re.TurnServersError="turnServers.error";var Me=new ie.UnstableValue("action","org.matrix.msc3824.action"),Ie=function(e){(0,s.default)(h,e);var t=(0,f.default)(h);function h(e){var a,o;(0,i.default)(this,h),a=t.call(this),(0,p.default)((0,r.default)(a),"reEmitter",new R.TypedReEmitter((0,r.default)(a))),(0,p.default)((0,r.default)(a),"olmVersion",null),(0,p.default)((0,r.default)(a),"usingExternalCrypto",!1),(0,p.default)((0,r.default)(a),"store",void 0),(0,p.default)((0,r.default)(a),"deviceId",void 0),(0,p.default)((0,r.default)(a),"credentials",void 0),(0,p.default)((0,r.default)(a),"pickleKey",void 0),(0,p.default)((0,r.default)(a),"scheduler",void 0),(0,p.default)((0,r.default)(a),"clientRunning",!1),(0,p.default)((0,r.default)(a),"timelineSupport",!1),(0,p.default)((0,r.default)(a),"urlPreviewCache",{}),(0,p.default)((0,r.default)(a),"identityServer",void 0),(0,p.default)((0,r.default)(a),"http",void 0),(0,p.default)((0,r.default)(a),"crypto",void 0),(0,p.default)((0,r.default)(a),"cryptoBackend",void 0),(0,p.default)((0,r.default)(a),"cryptoCallbacks",void 0),(0,p.default)((0,r.default)(a),"callEventHandler",void 0),(0,p.default)((0,r.default)(a),"groupCallEventHandler",void 0),(0,p.default)((0,r.default)(a),"supportsCallTransfer",!1),(0,p.default)((0,r.default)(a),"forceTURN",!1),(0,p.default)((0,r.default)(a),"iceCandidatePoolSize",0),(0,p.default)((0,r.default)(a),"idBaseUrl",void 0),(0,p.default)((0,r.default)(a),"baseUrl",void 0),(0,p.default)((0,r.default)(a),"canSupportVoip",!1),(0,p.default)((0,r.default)(a),"peekSync",null),(0,p.default)((0,r.default)(a),"isGuestAccount",!1),(0,p.default)((0,r.default)(a),"ongoingScrollbacks",{}),(0,p.default)((0,r.default)(a),"notifTimelineSet",null),(0,p.default)((0,r.default)(a),"cryptoStore",void 0),(0,p.default)((0,r.default)(a),"verificationMethods",void 0),(0,p.default)((0,r.default)(a),"fallbackICEServerAllowed",!1),(0,p.default)((0,r.default)(a),"roomList",void 0),(0,p.default)((0,r.default)(a),"syncApi",void 0),(0,p.default)((0,r.default)(a),"roomNameGenerator",void 0),(0,p.default)((0,r.default)(a),"pushRules",void 0),(0,p.default)((0,r.default)(a),"syncLeftRoomsPromise",void 0),(0,p.default)((0,r.default)(a),"syncedLeftRooms",!1),(0,p.default)((0,r.default)(a),"clientOpts",void 0),(0,p.default)((0,r.default)(a),"clientWellKnownIntervalID",void 0),(0,p.default)((0,r.default)(a),"canResetTimelineCallback",void 0),(0,p.default)((0,r.default)(a),"canSupport",new Map),(0,p.default)((0,r.default)(a),"pushProcessor",new C.PushProcessor((0,r.default)(a))),(0,p.default)((0,r.default)(a),"serverVersionsPromise",void 0),(0,p.default)((0,r.default)(a),"cachedCapabilities",void 0),(0,p.default)((0,r.default)(a),"clientWellKnown",void 0),(0,p.default)((0,r.default)(a),"clientWellKnownPromise",void 0),(0,p.default)((0,r.default)(a),"turnServers",[]),(0,p.default)((0,r.default)(a),"turnServersExpiry",0),(0,p.default)((0,r.default)(a),"checkTurnServersIntervalID",void 0),(0,p.default)((0,r.default)(a),"exportedOlmDeviceToImport",void 0),(0,p.default)((0,r.default)(a),"txnCtr",0),(0,p.default)((0,r.default)(a),"mediaHandler",new Z.MediaHandler((0,r.default)(a))),(0,p.default)((0,r.default)(a),"sessionId",void 0),(0,p.default)((0,r.default)(a),"pendingEventEncryption",new Map),(0,p.default)((0,r.default)(a),"useE2eForGroupCall",!0),(0,p.default)((0,r.default)(a),"toDeviceMessageQueue",void 0),(0,p.default)((0,r.default)(a),"ignoredInvites",void 0),(0,p.default)((0,r.default)(a),"startCallEventHandler",(function(){a.isInitialSyncComplete()&&(a.callEventHandler.start(),a.groupCallEventHandler.start(),a.off(Ee.Sync,a.startCallEventHandler))})),e.baseUrl=_.ensureNoTrailingSlash(e.baseUrl),e.idBaseUrl=_.ensureNoTrailingSlash(e.idBaseUrl),a.baseUrl=e.baseUrl,a.idBaseUrl=e.idBaseUrl,a.identityServer=e.identityServer,a.usingExternalCrypto=null!==(o=e.usingExternalCrypto)&&void 0!==o&&o,a.store=e.store||new m.StubStore,a.deviceId=e.deviceId||null,a.sessionId=(0,W.randomString)(10);var s=e.userId||null;a.credentials={userId:s},a.http=new T.MatrixHttpApi((0,r.default)(a),{fetchFn:e.fetchFn,baseUrl:e.baseUrl,idBaseUrl:e.idBaseUrl,accessToken:e.accessToken,prefix:T.ClientPrefix.R0,onlyData:!0,extraParams:e.queryParams,localTimeoutMs:e.localTimeoutMs,useAuthorizationHeader:e.useAuthorizationHeader}),e.deviceToImport?a.deviceId?M.logger.warn("not importing device because device ID is provided to constructor independently of exported data"):a.credentials.userId?M.logger.warn("not importing device because user ID is provided to constructor independently of exported data"):e.deviceToImport.deviceId?(a.deviceId=e.deviceToImport.deviceId,a.credentials.userId=e.deviceToImport.userId,a.exportedOlmDeviceToImport=e.deviceToImport.olmDevice):M.logger.warn("not importing device because no device ID in exported data"):e.pickleKey&&(a.pickleKey=e.pickleKey),a.scheduler=e.scheduler;var c,l=(0,r.default)(a);return a.scheduler&&a.scheduler.setProcessFunction((c=(0,n.default)((function(e){var t,r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return t=l.getRoom(e.getRoomId()),e.status!==g.EventStatus.SENDING&&l.updatePendingEventStatus(t,e,g.EventStatus.SENDING),[4,l.sendEventHttpRequest(e)];case 1:return r=n.sent(),t&&t.updatePendingEvent(e,g.EventStatus.SENT,r.event_id),[2,r]}}))})),function(e){return c.apply(this,arguments)})),(0,$.supportsMatrixCall)()&&(a.callEventHandler=new w.CallEventHandler((0,r.default)(a)),a.groupCallEventHandler=new X.GroupCallEventHandler((0,r.default)(a)),a.canSupportVoip=!0,a.on(Ee.Sync,a.startCallEventHandler)),a.timelineSupport=Boolean(e.timelineSupport),a.cryptoStore=e.cryptoStore,a.verificationMethods=e.verificationMethods,a.cryptoCallbacks=e.cryptoCallbacks||{},a.forceTURN=e.forceTURN||!1,a.iceCandidatePoolSize=void 0===e.iceCandidatePoolSize?0:e.iceCandidatePoolSize,a.supportsCallTransfer=e.supportsCallTransfer||!1,a.fallbackICEServerAllowed=e.fallbackICEServerAllowed||!1,void 0!==e.useE2eForGroupCall&&(a.useE2eForGroupCall=e.useE2eForGroupCall),a.roomList=new x.RoomList(a.cryptoStore),a.roomNameGenerator=e.roomNameGenerator,a.toDeviceMessageQueue=new ae.ToDeviceMessageQueue((0,r.default)(a)),a.on(g.MatrixEventEvent.Decrypted,(function(e){Te((0,r.default)(a),e)})),a.on(F.RoomEvent.Receipt,(function(e,t){if(t&&a.isRoomEncrypted(t.roomId)){var r=e.getContent();if(!(Object.keys(r).filter((function(e){var t=!0,n=!1,i=void 0;try{for(var o,s=Object.entries(r[e])[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=(0,u.default)(o.value,2),l=c[0],f=c[1];if(_.isSupportedReceiptType(l)&&(f&&Object.keys(f).includes(a.getUserId())))return!0}}catch(e){n=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}return!1})).length>0))return;for(var n=t.getLiveTimeline().getEvents(),i=0,o=n.length-1;o>=0;o--){var s;if(o===n.length-20)return;var c=n[o];if(t.hasUserReadEvent(a.getUserId(),c.getId()))break;var l=a.getPushActionsForEvent(c);i+=null!=l&&null!==(s=l.tweaks)&&void 0!==s&&s.highlight?1:0}t.setUnreadNotificationCount(F.NotificationCountType.Highlight,i)}})),a.ignoredInvites=new oe.IgnoredInvites((0,r.default)(a)),a}return(0,a.default)(h,[{key:"startClient",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u;return(0,d.__generator)(this,(function(c){switch(c.label){case 0:if(t.clientRunning)return[2];t.clientRunning=!0,"number"==typeof e&&(e={initialSyncLimit:e}),(n=t.getUserId())&&t.store.storeUser(new P.User(n)),t.canSupportVoip&&(t.checkTurnServersIntervalID=setInterval((function(){t.checkTurnServers()}),Se),t.checkTurnServers()),t.syncApi&&(M.logger.error("Still have sync object whilst not running: stopping old one"),t.syncApi.stop()),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,t.getVersions()];case 2:return c.sent(),[4,t.doesServerSupportThread()];case 3:return i=c.sent(),a=i.threads,o=i.list,s=i.fwdPagination,re.Thread.setServerSideSupport(a),re.Thread.setServerSideListSupport(o),re.Thread.setServerSideFwdPaginationSupport(s),[3,5];case 4:return u=c.sent(),M.logger.error("Can't fetch server versions, continuing to initialise sync, this will be retried later",u),[3,5];case 5:return t.clientOpts=null!==(r=e)&&void 0!==r?r:{},t.clientOpts.slidingSync?t.syncApi=new te.SlidingSyncSdk(t.clientOpts.slidingSync,t,t.clientOpts,t.buildSyncApiOptions()):t.syncApi=new b.SyncApi(t,t.clientOpts,t.buildSyncApiOptions()),t.syncApi.sync(),void 0!==t.clientOpts.clientWellKnownPollPeriod&&(t.clientWellKnownIntervalID=setInterval((function(){t.fetchClientWellKnown()}),1e3*t.clientOpts.clientWellKnownPollPeriod),t.fetchClientWellKnown()),t.toDeviceMessageQueue.start(),[2]}}))}))()}},{key:"buildSyncApiOptions",value:function(){var e=this;return{crypto:this.crypto,cryptoCallbacks:this.cryptoBackend,canResetEntireTimeline:function(t){return!!e.canResetTimelineCallback&&e.canResetTimelineCallback(t)}}}},{key:"stopClient",value:function(){var e,t,r,n,i;null===(e=this.cryptoBackend)||void 0===e||e.stop(),this.clientRunning&&(M.logger.log("stopping MatrixClient"),this.clientRunning=!1,null===(t=this.syncApi)||void 0===t||t.stop(),this.syncApi=void 0,null===(r=this.peekSync)||void 0===r||r.stopPeeking(),null===(n=this.callEventHandler)||void 0===n||n.stop(),null===(i=this.groupCallEventHandler)||void 0===i||i.stop(),this.callEventHandler=void 0,this.groupCallEventHandler=void 0,$parcel$global.clearInterval(this.checkTurnServersIntervalID),this.checkTurnServersIntervalID=void 0,void 0!==this.clientWellKnownIntervalID&&$parcel$global.clearInterval(this.clientWellKnownIntervalID),this.toDeviceMessageQueue.stop())}},{key:"rehydrateDevice",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:if(e.crypto)throw new Error("Cannot rehydrate device after crypto is initialized");return e.cryptoCallbacks.getDehydrationKey?[4,e.getDehydratedDevice()]:[2];case 1:if(!(t=s.sent()))return[2];if(!t.device_data||!t.device_id)return M.logger.info("no dehydrated device found"),[2];r=new $parcel$global.Olm.Account,s.label=2;case 2:return s.trys.push([2,5,,6]),(n=t.device_data).algorithm!==U.DEHYDRATION_ALGORITHM?(M.logger.warn("Wrong algorithm for dehydrated device"),[2]):(M.logger.log("unpickling dehydrated device"),[4,e.cryptoCallbacks.getDehydrationKey(n,(function(e){r.unpickle(new Uint8Array(e),n.account)}))]);case 3:return i=s.sent(),r.unpickle(i,n.account),M.logger.log("unpickled device"),[4,e.http.authedRequest(T.Method.Post,"/dehydrated_device/claim",void 0,{device_id:t.device_id},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})];case 4:return s.sent().success?(e.deviceId=t.device_id,M.logger.info("using dehydrated device"),a=e.pickleKey||"DEFAULT_KEY",e.exportedOlmDeviceToImport={pickledAccount:r.pickle(a),sessions:[],pickleKey:a},r.free(),[2,e.deviceId]):(r.free(),M.logger.info("not using dehydrated device"),[2]);case 5:return o=s.sent(),r.free(),M.logger.warn("could not unpickle",o),[3,6];case 6:return[2]}}))}))()}},{key:"getDehydratedDevice",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.http.authedRequest(T.Method.Get,"/dehydrated_device",void 0,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})];case 1:return[2,r.sent()];case 2:return t=r.sent(),M.logger.info("could not get dehydrated device",t),[2];case 3:return[2]}}))}))()}},{key:"setDehydrationKey",value:function(e,t,r){var i=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(n){return i.crypto?[2,i.crypto.dehydrationManager.setKeyAndQueueDehydration(e,t,r)]:(M.logger.warn("not dehydrating device if crypto is not enabled"),[2])}))}))()}},{key:"createDehydratedDevice",value:function(e,t,r){var i=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return i.crypto?[4,i.crypto.dehydrationManager.setKey(e,t,r)]:(M.logger.warn("not dehydrating device if crypto is not enabled"),[2]);case 1:return n.sent(),[2,i.crypto.dehydrationManager.dehydrateDevice()]}}))}))()}},{key:"exportDevice",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return e.crypto?(t={userId:e.credentials.userId,deviceId:e.deviceId},[4,e.crypto.olmDevice.export()]):(M.logger.warn("not exporting device if crypto is not enabled"),[2]);case 1:return[2,(t.olmDevice=r.sent(),t)]}}))}))()}},{key:"clearStores",value:function(){if(this.clientRunning)throw new Error("Cannot clear stores while client is running");var e=[];e.push(this.store.deleteAllData()),this.cryptoStore&&e.push(this.cryptoStore.deleteAllData());var t,r=(t=(0,n.default)((function(){var e,t,r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:try{e=$parcel$global.indexedDB}catch(e){return[2]}t=0,r=["".concat(ce.RUST_SDK_STORE_PREFIX,"::matrix-sdk-crypto"),"".concat(ce.RUST_SDK_STORE_PREFIX,"::matrix-sdk-crypto-meta")],i.label=1;case 1:return t<r.length?(n=r[t],[4,new Promise((function(t,r){M.logger.info("Removing IndexedDB instance ".concat(n));var i=e.deleteDatabase(n);i.onsuccess=function(e){M.logger.info("Removed IndexedDB instance ".concat(n)),t(0)},i.onerror=function(e){M.logger.warn("Failed to remove IndexedDB instance ".concat(n,":"),e),t(0)},i.onblocked=function(e){M.logger.info("cannot yet remove IndexedDB instance ".concat(n))}}))]):[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}}))})),function(){return t.apply(this,arguments)});return e.push(r()),Promise.all(e).then()}},{key:"getUserId",value:function(){return this.credentials&&this.credentials.userId?this.credentials.userId:null}},{key:"getSafeUserId",value:function(){var e=this.getUserId();if(!e)throw new Error("Expected logged in user but found none.");return e}},{key:"getDomain",value:function(){return this.credentials&&this.credentials.userId?this.credentials.userId.replace(/^.*?:/,""):null}},{key:"getUserIdLocalpart",value:function(){return this.credentials&&this.credentials.userId?this.credentials.userId.split(":")[0].substring(1):null}},{key:"getDeviceId",value:function(){return this.deviceId}},{key:"getSessionId",value:function(){return this.sessionId}},{key:"supportsVoip",value:function(){return this.canSupportVoip}},{key:"getMediaHandler",value:function(){return this.mediaHandler}},{key:"setForceTURN",value:function(e){this.forceTURN=e}},{key:"setSupportsCallTransfer",value:function(e){this.supportsCallTransfer=e}},{key:"getUseE2eForGroupCall",value:function(){return this.useE2eForGroupCall}},{key:"createCall",value:function(e){return(0,$.createNewMatrixCall)(this,e)}},{key:"createGroupCall",value:function(e,t,r,i,a,o){var s=this;return(0,n.default)((function(){var n;return(0,d.__generator)(this,(function(u){if(s.getGroupCallForRoom(e))throw new Error("".concat(e," already has an existing group call"));if(!(n=s.getRoom(e)))throw new Error("Cannot find room ".concat(e));return[2,new Y.GroupCall(s,n,t,r,i,void 0,a,o).create()]}))}))()}},{key:"waitUntilRoomReadyForGroupCalls",value:function(e){return this.groupCallEventHandler.waitUntilRoomReadyForGroupCalls(e)}},{key:"getGroupCallForRoom",value:function(e){return this.groupCallEventHandler.groupCalls.get(e)||null}},{key:"getSyncState",value:function(){var e,t;return null!==(e=null===(t=this.syncApi)||void 0===t?void 0:t.getSyncState())&&void 0!==e?e:null}},{key:"getSyncStateData",value:function(){return this.syncApi?this.syncApi.getSyncStateData():null}},{key:"isInitialSyncComplete",value:function(){var e=this.getSyncState();return!!e&&(e===b.SyncState.Prepared||e===b.SyncState.Syncing)}},{key:"isGuest",value:function(){return this.isGuestAccount}},{key:"setGuest",value:function(e){this.isGuestAccount=e}},{key:"getScheduler",value:function(){return this.scheduler}},{key:"retryImmediately",value:function(){var e,t;return this.toDeviceMessageQueue.sendQueue(),null!==(e=null===(t=this.syncApi)||void 0===t?void 0:t.retryImmediately())&&void 0!==e&&e}},{key:"getNotifTimelineSet",value:function(){return this.notifTimelineSet}},{key:"setNotifTimelineSet",value:function(e){this.notifTimelineSet=e}},{key:"getCapabilities",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,r=(new Date).getTime();return this.cachedCapabilities&&!e&&r<this.cachedCapabilities.expiration?(M.logger.log("Returning cached capabilities"),Promise.resolve(this.cachedCapabilities.capabilities)):this.http.authedRequest(T.Method.Get,"/capabilities").catch((function(e){return M.logger.error(e),{}})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.capabilities||{},i=Object.keys(n).length?_e:6e4+5e3*Math.random();return t.cachedCapabilities={capabilities:n,expiration:r+i},M.logger.log("Caching capabilities: ",n),n}))}},{key:"initCrypto",value:function(){var e=this;return(0,n.default)((function(){var t,r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:if(!(0,A.isCryptoAvailable)())throw new Error("End-to-end encryption not supported in this js-sdk build: did you remember to load the olm library?");if(e.cryptoBackend)return M.logger.warn("Attempt to re-initialise e2e encryption on MatrixClient"),[2];if(!e.cryptoStore)throw new Error("Cannot enable encryption: no cryptoStore provided");return M.logger.log("Crypto: Starting up crypto store..."),[4,e.cryptoStore.startup()];case 1:return n.sent(),M.logger.log("Crypto: initialising roomlist..."),[4,e.roomList.init()];case 2:if(n.sent(),null===(t=e.getUserId()))throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");if(null===e.deviceId)throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");return r=new A.Crypto(e,t,e.deviceId,e.store,e.cryptoStore,e.roomList,e.verificationMethods),e.reEmitter.reEmit(r,[A.CryptoEvent.KeyBackupFailed,A.CryptoEvent.KeyBackupSessionsRemaining,A.CryptoEvent.RoomKeyRequest,A.CryptoEvent.RoomKeyRequestCancellation,A.CryptoEvent.Warning,A.CryptoEvent.DevicesUpdated,A.CryptoEvent.WillUpdateDevices,A.CryptoEvent.DeviceVerificationChanged,A.CryptoEvent.UserTrustStatusChanged,A.CryptoEvent.KeysChanged]),M.logger.log("Crypto: initialising crypto object..."),[4,r.init({exportedOlmDevice:e.exportedOlmDeviceToImport,pickleKey:e.pickleKey})];case 3:return n.sent(),delete e.exportedOlmDeviceToImport,e.olmVersion=A.Crypto.getOlmVersion(),r.registerEventHandlers(e),e.cryptoBackend=e.crypto=r,e.crypto.uploadDeviceKeys().catch((function(e){M.logger.error("Error uploading device keys",e)})),[2]}}))}))()}},{key:"initRustCrypto",value:function(){var e=this;return(0,n.default)((function(){var t,r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:if(e.cryptoBackend)return M.logger.warn("Attempt to re-initialise e2e encryption on MatrixClient"),[2];if(null===(t=e.getUserId()))throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");if(null===(r=e.getDeviceId()))throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");return[4,Promise.resolve().then((function(){return parcelRequire("6XW5c")})).then((function(e){return ve(e)}))];case 1:return[4,n.sent().initRustCrypto(e.http,t,r)];case 2:return e.cryptoBackend=n.sent(),[2]}}))}))()}},{key:"isCryptoEnabled",value:function(){return!!this.cryptoBackend}},{key:"getDeviceEd25519Key",value:function(){var e,t;return null!==(e=null===(t=this.crypto)||void 0===t?void 0:t.getDeviceEd25519Key())&&void 0!==e?e:null}},{key:"getDeviceCurve25519Key",value:function(){var e,t;return null!==(e=null===(t=this.crypto)||void 0===t?void 0:t.getDeviceCurve25519Key())&&void 0!==e?e:null}},{key:"uploadKeys",value:function(){return(0,n.default)((function(){return(0,d.__generator)(this,(function(e){return M.logger.warn("MatrixClient.uploadKeys is deprecated"),[2]}))}))()}},{key:"downloadKeys",value:function(e,t){return this.crypto?this.crypto.downloadKeys(e,t):Promise.reject(new Error("End-to-end encryption disabled"))}},{key:"getStoredDevicesForUser",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevicesForUser(e)||[]}},{key:"getStoredDevice",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevice(e,t)||null}},{key:"setDeviceVerified",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.setDeviceVerification(e,t,r,null,null);return e==this.credentials.userId&&this.checkKeyBackup(),n}},{key:"setDeviceBlocked",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.setDeviceVerification(e,t,null,r,null)}},{key:"setDeviceKnown",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.setDeviceVerification(e,t,null,null,r)}},{key:"setDeviceVerification",value:function(e,t,r,i,a){var o=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(n){switch(n.label){case 0:if(!o.crypto)throw new Error("End-to-end encryption disabled");return[4,o.crypto.setDeviceVerification(e,t,r,i,a)];case 1:return n.sent(),[2]}}))}))()}},{key:"requestVerificationDM",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerificationDM(e,t)}},{key:"findVerificationRequestDMInProgress",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.findVerificationRequestDMInProgress(e)}},{key:"getVerificationRequestsToDeviceInProgress",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getVerificationRequestsToDeviceInProgress(e)}},{key:"requestVerification",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerification(e,t)}},{key:"beginKeyVerification",value:function(e,t,r){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.beginKeyVerification(e,t,r)}},{key:"checkSecretStorageKey",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStorageKey(e,t)}},{key:"setGlobalBlacklistUnverifiedDevices",value:function(e){if(!this.cryptoBackend)throw new Error("End-to-end encryption disabled");return this.cryptoBackend.globalBlacklistUnverifiedDevices=e,e}},{key:"getGlobalBlacklistUnverifiedDevices",value:function(){if(!this.cryptoBackend)throw new Error("End-to-end encryption disabled");return this.cryptoBackend.globalBlacklistUnverifiedDevices}},{key:"setGlobalErrorOnUnknownDevices",value:function(e){if(!this.cryptoBackend)throw new Error("End-to-end encryption disabled");this.cryptoBackend.globalErrorOnUnknownDevices=e}},{key:"getGlobalErrorOnUnknownDevices",value:function(){if(!this.cryptoBackend)throw new Error("End-to-end encryption disabled");return this.cryptoBackend.globalErrorOnUnknownDevices}},{key:"getCrossSigningId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.CrossSigningKey.Master;if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCrossSigningId(e)}},{key:"getStoredCrossSigningForUser",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredCrossSigningForUser(e)}},{key:"checkUserTrust",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkUserTrust(e)}},{key:"checkDeviceTrust",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkDeviceTrust(e,t)}},{key:"checkIfOwnDeviceCrossSigned",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkIfOwnDeviceCrossSigned(e)}},{key:"checkOwnCrossSigningTrust",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkOwnCrossSigningTrust(e)}},{key:"checkCrossSigningPrivateKey",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkCrossSigningPrivateKey(e,t)}},{key:"legacyDeviceVerification",value:function(e,t,r){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.legacyDeviceVerification(e,t,r)}},{key:"prepareToEncrypt",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.prepareToEncrypt(e)}},{key:"userHasCrossSigningKeys",value:function(){if(!this.cryptoBackend)throw new Error("End-to-end encryption disabled");return this.cryptoBackend.userHasCrossSigningKeys()}},{key:"isCrossSigningReady",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isCrossSigningReady()}},{key:"bootstrapCrossSigning",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapCrossSigning(e)}},{key:"getCryptoTrustCrossSignedDevices",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCryptoTrustCrossSignedDevices()}},{key:"setCryptoTrustCrossSignedDevices",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.setCryptoTrustCrossSignedDevices(e)}},{key:"countSessionsNeedingBackup",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.countSessionsNeedingBackup()}},{key:"getEventEncryptionInfo",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getEventEncryptionInfo(e)}},{key:"createRecoveryKeyFromPassphrase",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.createRecoveryKeyFromPassphrase(e)}},{key:"isSecretStorageReady",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStorageReady()}},{key:"bootstrapSecretStorage",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapSecretStorage(e)}},{key:"addSecretStorageKey",value:function(e,t,r){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.addSecretStorageKey(e,t,r)}},{key:"hasSecretStorageKey",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.hasSecretStorageKey(e)}},{key:"storeSecret",value:function(e,t,r){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.storeSecret(e,t,r)}},{key:"getSecret",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getSecret(e)}},{key:"isSecretStored",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStored(e)}},{key:"requestSecret",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestSecret(e,t)}},{key:"getDefaultSecretStorageKeyId",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getDefaultSecretStorageKeyId()}},{key:"setDefaultSecretStorageKeyId",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setDefaultSecretStorageKeyId(e)}},{key:"checkSecretStoragePrivateKey",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStoragePrivateKey(e,t)}},{key:"getEventSenderDeviceInfo",value:function(e){var t=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(r){return t.crypto?[2,t.crypto.getEventSenderDeviceInfo(e)]:[2,null]}))}))()}},{key:"isEventSenderVerified",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.getEventSenderDeviceInfo(e)];case 1:return(r=n.sent())?[2,r.isVerified()]:[2,!1]}}))}))()}},{key:"getOutgoingRoomKeyRequest",value:function(e){if(!this.crypto)throw new Error("End-to-End encryption disabled");var t=e.getWireContent(),r={session_id:t.session_id,sender_key:t.sender_key,algorithm:t.algorithm,room_id:e.getRoomId()};return r.session_id&&r.sender_key&&r.algorithm&&r.room_id?this.crypto.cryptoStore.getOutgoingRoomKeyRequest(r):Promise.resolve(null)}},{key:"cancelAndResendEventRoomKeyRequest",value:function(e){if(!this.crypto)throw new Error("End-to-End encryption disabled");return e.cancelAndResendKeyRequest(this.crypto,this.getUserId())}},{key:"setRoomEncryption",value:function(e,t){if(!this.crypto)throw new Error("End-to-End encryption disabled");return this.crypto.setRoomEncryption(e,t)}},{key:"isRoomEncrypted",value:function(e){var t=this.getRoom(e);return!!t&&(!!t.currentState.getStateEvents(j.EventType.RoomEncryption,"")||this.roomList.isRoomEncrypted(e))}},{key:"encryptAndSendToDevices",value:function(e,t){if(!this.crypto)throw new Error("End-to-End encryption disabled");return this.crypto.encryptAndSendToDevices(e,t)}},{key:"forceDiscardSession",value:function(e){if(!this.crypto)throw new Error("End-to-End encryption disabled");this.crypto.forceDiscardSession(e)}},{key:"exportRoomKeys",value:function(){return this.cryptoBackend?this.cryptoBackend.exportRoomKeys():Promise.reject(new Error("End-to-end encryption disabled"))}},{key:"importRoomKeys",value:function(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.importRoomKeys(e,t)}},{key:"checkKeyBackup",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.checkKeyBackup()}},{key:"getKeyBackupVersion",value:function(){var e=this;return(0,n.default)((function(){var t,r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.http.authedRequest(T.Method.Get,"/room_keys/version",void 0,void 0,{prefix:T.ClientPrefix.V3})];case 1:return t=n.sent(),[3,3];case 2:if("M_NOT_FOUND"===(r=n.sent()).errcode)return[2,null];throw r;case 3:return V.BackupManager.checkBackupVersion(t),[2,t]}}))}))()}},{key:"isKeyBackupTrusted",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.isKeyBackupTrusted(e)}},{key:"getKeyBackupEnabled",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.getKeyBackupEnabled()}},{key:"enableKeyBackup",value:function(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.enableKeyBackup(e)}},{key:"disableKeyBackup",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.backupManager.disableKeyBackup()}},{key:"prepareKeyBackupVersion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{secureSecretStorage:!1},r=this;return(0,n.default)((function(){var n,i,a,o,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:if(!r.crypto)throw new Error("End-to-end encryption disabled");return[4,r.crypto.backupManager.prepareKeyBackupVersion(e)];case 1:return n=u.sent(),i=n.algorithm,a=n.auth_data,o=n.recovery_key,s=n.privateKey,t.secureSecretStorage?[4,r.storeSecret("m.megolm_backup.v1",(0,E.encodeBase64)(s))]:[3,3];case 2:u.sent(),M.logger.info("Key backup private key stored in secret storage"),u.label=3;case 3:return[2,{algorithm:i,auth_data:a,recovery_key:o}]}}))}))()}},{key:"isKeyBackupKeyStored",value:function(){return Promise.resolve(this.isSecretStored("m.megolm_backup.v1"))}},{key:"createKeyBackupVersion",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:if(!t.crypto)throw new Error("End-to-end encryption disabled");return[4,t.crypto.backupManager.createKeyBackupVersion(e)];case 1:return i.sent(),r={algorithm:e.algorithm,auth_data:e.auth_data},[4,t.crypto.signObject(r.auth_data)];case 2:return i.sent(),t.cryptoCallbacks.getCrossSigningKey&&t.crypto.crossSigningInfo.getId()?[4,t.crypto.crossSigningInfo.signObject(r.auth_data,"master")]:[3,4];case 3:i.sent(),i.label=4;case 4:return[4,t.http.authedRequest(T.Method.Post,"/room_keys/version",void 0,r,{prefix:T.ClientPrefix.V3})];case 5:return n=i.sent(),[4,t.checkKeyBackup()];case 6:return i.sent(),t.getKeyBackupEnabled()||M.logger.error("Key backup not usable even though we just created it"),[2,n]}}))}))()}},{key:"deleteKeyBackupVersion",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:if(!t.crypto)throw new Error("End-to-end encryption disabled");return t.crypto.backupManager.version&&t.crypto.backupManager.disableKeyBackup(),r=_.encodeUri("/room_keys/version/$version",{$version:e}),[4,t.http.authedRequest(T.Method.Delete,r,void 0,void 0,{prefix:T.ClientPrefix.V3})];case 1:return n.sent(),[2]}}))}))()}},{key:"makeKeyBackupPath",value:function(e,t,r){return{path:void 0!==t?_.encodeUri("/room_keys/keys/$roomId/$sessionId",{$roomId:e,$sessionId:t}):void 0!==e?_.encodeUri("/room_keys/keys/$roomId",{$roomId:e}):"/room_keys/keys",queryData:void 0===r?void 0:{version:r}}}},{key:"sendKeyBackup",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:if(!a.crypto)throw new Error("End-to-end encryption disabled");return n=a.makeKeyBackupPath(e,t,r),[4,a.http.authedRequest(T.Method.Put,n.path,n.queryData,i,{prefix:T.ClientPrefix.V3})];case 1:return o.sent(),[2]}}))}))()}},{key:"scheduleAllGroupSessionsForBackup",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:if(!e.crypto)throw new Error("End-to-end encryption disabled");return[4,e.crypto.backupManager.scheduleAllGroupSessionsForBackup()];case 1:return t.sent(),[2]}}))}))()}},{key:"flagAllGroupSessionsForBackup",value:function(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.flagAllGroupSessionsForBackup()}},{key:"isValidRecoveryKey",value:function(e){try{return(0,O.decodeRecoveryKey)(e),!0}catch(e){return!1}}},{key:"keyBackupKeyFromPassword",value:function(e,t){return(0,D.keyFromAuthData)(t.auth_data,e)}},{key:"keyBackupKeyFromRecoveryKey",value:function(e){return(0,O.decodeRecoveryKey)(e)}},{key:"restoreKeyBackupWithPassword",value:function(e,t,r,i,a){var o=this;return(0,n.default)((function(){var n;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return[4,(0,D.keyFromAuthData)(i.auth_data,e)];case 1:return n=s.sent(),[2,o.restoreKeyBackup(n,t,r,i,a)]}}))}))()}},{key:"restoreKeyBackupWithSecretStorage",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n,o,s,u;return(0,d.__generator)(this,(function(c){switch(c.label){case 0:if(!a.crypto)throw new Error("End-to-end encryption disabled");return[4,a.getSecret("m.megolm_backup.v1")];case 1:return n=c.sent(),(o=(0,A.fixBackupKey)(n))?[4,a.crypto.getSecretStorageKey()]:[3,4];case 2:return s=c.sent(),[4,a.storeSecret("m.megolm_backup.v1",o,[s[0]])];case 3:c.sent(),c.label=4;case 4:return u=(0,E.decodeBase64)(o||n),[2,a.restoreKeyBackup(u,t,r,e,i)]}}))}))()}},{key:"restoreKeyBackupWithRecoveryKey",value:function(e,t,r,n,i){var a=(0,O.decodeRecoveryKey)(e);return this.restoreKeyBackup(a,t,r,n,i)}},{key:"restoreKeyBackupWithCache",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:if(!a.crypto)throw new Error("End-to-end encryption disabled");return[4,a.crypto.getSessionBackupPrivateKey()];case 1:if(!(n=o.sent()))throw new Error("Couldn't get key");return[2,a.restoreKeyBackup(n,e,t,r,i)]}}))}))()}},{key:"restoreKeyBackup",value:function(e,t,r,i,a){var s=this;return(0,n.default)((function(){var c,l,f,v,p,b,g,m,$,y,w,_,S,C,k,E,R,x,I,A,O,D,P,q,L,U,N,B,F,j,K,H,W,z;return(0,d.__generator)(this,(function(G){switch(G.label){case 0:if(c=null==a?void 0:a.cacheCompleteCallback,l=null==a?void 0:a.progressCallback,!s.crypto)throw new Error("End-to-end encryption disabled");return f=0,v=[],p=s.makeKeyBackupPath(t,r,i.version),[4,V.BackupManager.makeAlgorithm(i,(0,n.default)((function(){return(0,d.__generator)(this,(function(t){return[2,e]}))})))];case 1:b=G.sent(),g=b.untrusted,G.label=2;case 2:return G.trys.push([2,,20,21]),[4,b.keyMatches(e)];case 3:return G.sent()?(s.crypto.storeSessionBackupPrivateKey(e).catch((function(e){M.logger.warn("Error caching session backup key:",e)})).then(c),l&&l({stage:"fetch"}),[4,s.http.authedRequest(T.Method.Get,p.path,p.queryData,void 0,{prefix:T.ClientPrefix.V3})]):[2,Promise.reject(new T.MatrixError({errcode:h.RESTORE_BACKUP_ERROR_BAD_KEY}))];case 4:if(!(m=G.sent()).rooms)return[3,13];$=m.rooms,y=!0,w=!1,_=void 0,G.label=5;case 5:G.trys.push([5,10,11,12]),S=Object.entries($)[Symbol.iterator](),G.label=6;case 6:return(y=(C=S.next()).done)?[3,9]:(k=(0,u.default)(C.value,2),E=k[0],(R=k[1]).sessions?(f+=Object.keys(R.sessions).length,[4,b.decryptSessions(R.sessions)]):[3,8]);case 7:x=G.sent(),I=!0,A=!1,O=void 0;try{for(D=x[Symbol.iterator]();!(I=(P=D.next()).done);I=!0)(q=P.value).room_id=E,v.push(q)}catch(e){A=!0,O=e}finally{try{I||null==D.return||D.return()}finally{if(A)throw O}}G.label=8;case 8:return y=!0,[3,6];case 9:return[3,12];case 10:return L=G.sent(),w=!0,_=L,[3,12];case 11:try{y||null==S.return||S.return()}finally{if(w)throw _}return[7];case 12:return[3,19];case 13:return m.sessions?(U=m.sessions,f=Object.keys(U).length,[4,b.decryptSessions(U)]):[3,15];case 14:v=G.sent(),N=!0,B=!1,F=void 0;try{for(j=v[Symbol.iterator]();!(N=(K=j.next()).done);N=!0)K.value.room_id=t}catch(e){B=!0,F=e}finally{try{N||null==j.return||j.return()}finally{if(B)throw F}}return[3,19];case 15:f=1,G.label=16;case 16:return G.trys.push([16,18,,19]),[4,b.decryptSessions((0,o.default)({},r,m))];case 17:return H=u.default.apply(void 0,[G.sent(),1]),(W=H[0]).room_id=t,W.session_id=r,v.push(W),[3,19];case 18:return z=G.sent(),M.logger.log("Failed to decrypt megolm session from backup",z),[3,19];case 19:return[3,21];case 20:return b.free(),[7];case 21:return[4,s.importRoomKeys(v,{progressCallback:l,untrusted:g,source:"backup"})];case 22:return G.sent(),[4,s.checkKeyBackup()];case 23:return G.sent(),[2,{total:f,imported:v.length}]}}))}))()}},{key:"deleteKeysFromBackup",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:if(!i.crypto)throw new Error("End-to-end encryption disabled");return n=i.makeKeyBackupPath(e,t,r),[4,i.http.authedRequest(T.Method.Delete,n.path,n.queryData,void 0,{prefix:T.ClientPrefix.V3})];case 1:return a.sent(),[2]}}))}))()}},{key:"sendSharedHistoryKeys",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,c,l,f,h,v,p,b;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(!r.crypto)throw new Error("End-to-end encryption disabled");return(n=r.roomList.getRoomEncryption(e))?[4,r.crypto.downloadKeys(t)]:(M.logger.error("Unknown room.  Not sharing decryption keys"),[2]);case 1:i=d.sent(),a={},o=!0,s=!1,c=void 0;try{for(l=Object.entries(i)[Symbol.iterator]();!(o=(f=l.next()).done);o=!0)h=(0,u.default)(f.value,2),v=h[0],p=h[1],a[v]=Object.values(p)}catch(e){s=!0,c=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw c}}return(b=r.crypto.getRoomDecryptor(e,n.algorithm)).sendSharedHistoryInboundSessions?[4,b.sendSharedHistoryInboundSessions(a)]:[3,3];case 2:return d.sent(),[3,4];case 3:M.logger.warn("Algorithm does not support sharing previous keys",n.algorithm),d.label=4;case 4:return[2]}}))}))()}},{key:"getMediaConfig",value:function(){return this.http.authedRequest(T.Method.Get,"/config",void 0,void 0,{prefix:T.MediaPrefix.R0})}},{key:"getRoom",value:function(e){return e?this.store.getRoom(e):null}},{key:"getRooms",value:function(){return this.store.getRooms()}},{key:"getVisibleRooms",value:function(){var e=this.store.getRooms(),t=new Set,r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value.findPredecessorRoomId();s&&t.add(s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e.filter((function(e){return!e.currentState.getStateEvents(j.EventType.RoomTombstone,"")||!t.has(e.roomId)}))}},{key:"getUser",value:function(e){return this.store.getUser(e)}},{key:"getUsers",value:function(){return this.store.getUsers()}},{key:"setAccountData",value:function(e,t){var r=this,n=_.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:e});return(0,T.retryNetworkOperation)(5,(function(){return r.http.authedRequest(T.Method.Put,n,void 0,t)}))}},{key:"getAccountData",value:function(e){return this.store.getAccountData(e)}},{key:"getAccountDataFromServer",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:if(t.isInitialSyncComplete())return(r=t.store.getAccountData(e))?[2,r.getContent()]:[2,null];n=_.encodeUri("/user/$userId/account_data/$type",{$userId:t.credentials.userId,$type:e}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.http.authedRequest(T.Method.Get,n)];case 2:return[2,o.sent()];case 3:if(i=o.sent(),"M_NOT_FOUND"===(null===(a=i.data)||void 0===a?void 0:a.errcode))return[2,null];throw i;case 4:return[2]}}))}))()}},{key:"deleteAccountData",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return(r=t.canSupport.get(ue.Feature.AccountDataDeletion))!==ue.ServerSupport.Unsupported?[3,2]:[4,t.setAccountData(e,{})];case 1:return a.sent(),[2];case 2:return n=_.encodeUri("/user/$userId/account_data/$type",{$userId:t.getSafeUserId(),$type:e}),i=r===ue.ServerSupport.Unstable?{prefix:"/_matrix/client/unstable/org.matrix.msc3391"}:void 0,[4,t.http.authedRequest(T.Method.Delete,n,void 0,void 0,i)];case 3:return[2,a.sent()]}}))}))()}},{key:"getIgnoredUsers",value:function(){var e=this.getAccountData("m.ignored_user_list");return e&&e.getContent()&&e.getContent().ignored_users?Object.keys(e.getContent().ignored_users):[]}},{key:"setIgnoredUsers",value:function(e){var t={ignored_users:{}};return e.forEach((function(e){t.ignored_users[e]={}})),this.setAccountData("m.ignored_user_list",t)}},{key:"isUserIgnored",value:function(e){return this.getIgnoredUsers().includes(e)}},{key:"joinRoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,l,f,h,v;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(void 0===t.syncRoom&&(t.syncRoom=!0),null!=(n=r.getRoom(e))&&n.hasMembershipState(r.credentials.userId,"join"))return[2,Promise.resolve(n)];i=Promise.resolve(),t.inviteSignUrl&&((a=new URL(t.inviteSignUrl)).searchParams.set("mxid",r.credentials.userId),i=r.http.requestOtherUrl(T.Method.Post,a)),o={},t.viaServers&&(o.server_name=t.viaServers),d.label=1;case 1:return d.trys.push([1,4,,5]),s={},[4,i];case 2:return(u=d.sent())&&(s.third_party_signed=u),c=_.encodeUri("/join/$roomid",{$roomid:e}),[4,r.http.authedRequest(T.Method.Post,c,o,s)];case 3:return l=d.sent(),f=l.room_id,h=new b.SyncApi(r,r.clientOpts,r.buildSyncApiOptions()),v=h.createRoom(f),t.syncRoom,[2,v];case 4:throw d.sent();case 5:return[2]}}))}))()}},{key:"resendEvent",value:function(e,t){return this.toDeviceMessageQueue.sendQueue(),this.updatePendingEventStatus(t,e,g.EventStatus.SENDING),this.encryptAndSendEvent(t,e)}},{key:"cancelPendingEvent",value:function(e){if(![g.EventStatus.QUEUED,g.EventStatus.NOT_SENT,g.EventStatus.ENCRYPTING].includes(e.status))throw new Error("cannot cancel an event with status "+e.status);e.status===g.EventStatus.ENCRYPTING?this.pendingEventEncryption.delete(e.getId()):this.scheduler&&e.status===g.EventStatus.QUEUED&&this.scheduler.removeEventFromQueue(e);var t=this.getRoom(e.getRoomId());this.updatePendingEventStatus(t,e,g.EventStatus.CANCELLED)}},{key:"setRoomName",value:function(e,t){return this.sendStateEvent(e,j.EventType.RoomName,{name:t})}},{key:"setRoomTopic",value:function(e,t,r){var n=B.makeTopicContent(t,r);return this.sendStateEvent(e,j.EventType.RoomTopic,n)}},{key:"getRoomTags",value:function(e){var t=_.encodeUri("/user/$userId/rooms/$roomId/tags",{$userId:this.credentials.userId,$roomId:e});return this.http.authedRequest(T.Method.Get,t)}},{key:"setRoomTag",value:function(e,t,r){var n=_.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this.http.authedRequest(T.Method.Put,n,void 0,r)}},{key:"deleteRoomTag",value:function(e,t){var r=_.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this.http.authedRequest(T.Method.Delete,r)}},{key:"setRoomAccountData",value:function(e,t,r){var n=_.encodeUri("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:e,$type:t});return this.http.authedRequest(T.Method.Put,n,void 0,r)}},{key:"setPowerLevel",value:function(e,t,r,n){var i={users:{}};n.getType()===j.EventType.RoomPowerLevels&&(i=_.deepCopy(n.getContent()));var a=!0,o=!1,s=void 0;if(Array.isArray(t))try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;i.users[l]=r}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}else i.users[t]=r;var f=_.encodeUri("/rooms/$roomId/state/m.room.power_levels",{$roomId:e});return this.http.authedRequest(T.Method.Put,f,void 0,i)}},{key:"unstable_createLiveBeacon",value:function(e,t){var r=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(n){return[2,r.unstable_setLiveBeacon(e,t)]}))}))()}},{key:"unstable_setLiveBeacon",value:function(e,t){var r=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(n){return[2,r.sendStateEvent(e,ne.M_BEACON_INFO.name,t,r.getUserId())]}))}))()}},{key:"sendEvent",value:function(e,t,r,n,i){var a,o,s,u,c;if(null!=t&&t.startsWith(xe)||null===t?(c=i,u=n,s=r,o=t):(c=n,u=r,s=t,o=null),o&&(null===(a=u["m.relates_to"])||void 0===a||!a.rel_type)){var l,f,d=!(null===(l=u["m.relates_to"])||void 0===l||!l["m.in_reply_to"]);u["m.relates_to"]=de(de({},u["m.relates_to"]),{},{rel_type:re.THREAD_RELATION_TYPE.name,event_id:o,is_falling_back:!d});var h,v,p=null===(f=this.getRoom(e))||void 0===f?void 0:f.getThread(o);if(p&&!d)u["m.relates_to"]["m.in_reply_to"]={event_id:null!==(h=null===(v=p.lastReply((function(e){return e.isRelation(re.THREAD_RELATION_TYPE.name)&&!e.status})))||void 0===v?void 0:v.getId())&&void 0!==h?h:o}}return this.sendCompleteEvent(e,o,{type:s,content:u},c)}},{key:"sendCompleteEvent",value:function(e,t,r,n){n||(n=this.makeTxnId());var i=new g.MatrixEvent(Object.assign(r,{event_id:"~"+e+":"+n,user_id:this.credentials.userId,sender:this.credentials.userId,room_id:e,origin_server_ts:(new Date).getTime()})),a=this.getRoom(e),o=t?null==a?void 0:a.getThread(t):void 0;o&&i.setThread(o),this.reEmitter.reEmit(i,[g.MatrixEventEvent.Replaced,g.MatrixEventEvent.VisibilityChange]),null==a||a.reEmitter.reEmit(i,[g.MatrixEventEvent.BeforeRedaction]);var s=i.getAssociatedId();if(null!=s&&s.startsWith("~")){var u=null==a?void 0:a.getPendingEvents().find((function(e){return e.getId()===s}));null==u||u.once(g.MatrixEventEvent.LocalEventIdReplaced,(function(){i.updateAssociatedId(u.getId())}))}var c=i.getType();return M.logger.log("sendEvent of type ".concat(c," in ").concat(e," with txnId ").concat(n)),i.setTxnId(n),i.setStatus(g.EventStatus.SENDING),null==a||a.addPendingEvent(i,n),i.status===g.EventStatus.NOT_SENT?Promise.reject(new Error("Event blocked by other events not yet sent")):this.encryptAndSendEvent(a,i)}},{key:"encryptAndSendEvent",value:function(e,t){var r=this,n=!1;return Promise.resolve().then((function(){var i=r.encryptEventIfNeeded(t,null!=e?e:void 0);return i?(r.pendingEventEncryption.set(t.getId(),i),r.updatePendingEventStatus(e,t,g.EventStatus.ENCRYPTING),i.then((function(){r.pendingEventEncryption.has(t.getId())?r.updatePendingEventStatus(e,t,g.EventStatus.SENDING):n=!0}))):null})).then((function(){if(n)return{};var i=null;return r.scheduler&&(i=r.scheduler.queueEvent(t))&&r.scheduler.getQueueForEvent(t).length>1&&r.updatePendingEventStatus(e,t,g.EventStatus.QUEUED),i||(i=r.sendEventHttpRequest(t),e&&(i=i.then((function(r){return e.updatePendingEvent(t,g.EventStatus.SENT,r.event_id),r})))),i})).catch((function(n){M.logger.error("Error sending event",n.stack||n);try{t.error=n,r.updatePendingEventStatus(e,t,g.EventStatus.NOT_SENT)}catch(e){M.logger.error("Exception in error handler!",e.stack||n)}throw n instanceof T.MatrixError&&(n.event=t),n}))}},{key:"encryptEventIfNeeded",value:function(e,t){if(e.isEncrypted())return null;if(e.isRedaction())return null;if(!this.isRoomEncrypted(e.getRoomId()))return null;if(!this.crypto&&this.usingExternalCrypto)return null;if(e.getType()===j.EventType.Reaction)return null;if(!this.crypto)throw new Error("This room is configured to use encryption, but your client does not support encryption.");return this.crypto.encryptEvent(e,t)}},{key:"getEncryptedIfNeededEventType",value:function(e,t){return t===j.EventType.Reaction?t:this.isRoomEncrypted(e)?j.EventType.RoomMessageEncrypted:t}},{key:"updatePendingEventStatus",value:function(e,t,r){e?e.updatePendingEvent(t,r):t.setStatus(r)}},{key:"sendEventHttpRequest",value:function(e){var t=e.getTxnId();t||(t=this.makeTxnId(),e.setTxnId(t));var r,n={$roomId:e.getRoomId(),$eventType:e.getWireType(),$stateKey:e.getStateKey(),$txnId:t};if(e.isState()){var i="/rooms/$roomId/state/$eventType";e.getStateKey()&&e.getStateKey().length>0&&(i="/rooms/$roomId/state/$eventType/$stateKey"),r=_.encodeUri(i,n)}else if(e.isRedaction()){r=_.encodeUri("/rooms/$roomId/redact/$redactsEventId/$txnId",de({$redactsEventId:e.event.redacts},n))}else r=_.encodeUri("/rooms/$roomId/send/$eventType/$txnId",n);return this.http.authedRequest(T.Method.Put,r,void 0,e.getWireContent()).then((function(t){return M.logger.log("Event sent to ".concat(e.getRoomId()," with event id ").concat(t.event_id)),t}))}},{key:"redactEvent",value:function(e,t,r,n,i){var a,s,u,c,l;null!==(a=r)&&void 0!==a&&a.startsWith(xe)||(i=n,n=r,r=t,t=null);var f=null===(s=i)||void 0===s?void 0:s.reason;if(null!==(u=i)&&void 0!==u&&u.with_relations&&this.canSupport.get(ue.Feature.RelationBasedRedactions)===ue.ServerSupport.Unsupported)throw new Error("Server does not support relation based redactions "+"roomId ".concat(e," eventId ").concat(r," txnId: ").concat(n," threadId ").concat(t));var d=null!==(c=i)&&void 0!==c&&c.with_relations?(0,o.default)({},this.canSupport.get(ue.Feature.RelationBasedRedactions)===ue.ServerSupport.Stable?j.MSC3912_RELATION_BASED_REDACTIONS_PROP.stable:j.MSC3912_RELATION_BASED_REDACTIONS_PROP.unstable,null===(l=i)||void 0===l?void 0:l.with_relations):{};return this.sendCompleteEvent(e,t,{type:j.EventType.RoomRedaction,content:de(de({},d),{},{reason:f}),redacts:r},n)}},{key:"sendMessage",value:function(e,t,r,n){"string"!=typeof t&&null!==t&&(n=r,r=t,t=null);var i=j.EventType.RoomMessage,a=r;return this.sendEvent(e,t,i,a,n)}},{key:"sendTextMessage",value:function(e,t,r,n){var i;null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(n=r,r=t,t=null);var a=B.makeTextMessage(r);return this.sendMessage(e,t,a,n)}},{key:"sendNotice",value:function(e,t,r,n){var i;null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(n=r,r=t,t=null);var a=B.makeNotice(r);return this.sendMessage(e,t,a,n)}},{key:"sendEmoteMessage",value:function(e,t,r,n){var i;null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(n=r,r=t,t=null);var a=B.makeEmoteMessage(r);return this.sendMessage(e,t,a,n)}},{key:"sendImageMessage",value:function(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Image";null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(a=n||"Image",n=r,r=t,t=null);var o={msgtype:j.MsgType.Image,url:r,info:n,body:a};return this.sendMessage(e,t,o)}},{key:"sendStickerMessage",value:function(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Sticker";null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(a=n||"Sticker",n=r,r=t,t=null);var o={url:r,info:n,body:a};return this.sendEvent(e,t,j.EventType.Sticker,o)}},{key:"sendHtmlMessage",value:function(e,t,r,n){var i;null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(n=r,r=t,t=null);var a=B.makeHtmlMessage(r,n);return this.sendMessage(e,t,a)}},{key:"sendHtmlNotice",value:function(e,t,r,n){var i;null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(n=r,r=t,t=null);var a=B.makeHtmlNotice(r,n);return this.sendMessage(e,t,a)}},{key:"sendHtmlEmote",value:function(e,t,r,n){var i;null!==(i=t)&&void 0!==i&&i.startsWith(xe)||null===t||(n=r,r=t,t=null);var a=B.makeHtmlEmote(r,n);return this.sendMessage(e,t,a)}},{key:"sendReceipt",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this;return(0,n.default)((function(){var n,o,s,u;return(0,d.__generator)(this,(function(c){return a.isGuest()?[2,Promise.resolve({})]:(n=_.encodeUri("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:e.getRoomId(),$receiptType:t,$eventId:e.getId()}),a.canSupport.get(ue.Feature.ThreadUnreadNotifications)!==ue.ServerSupport.Unsupported&&!i&&(o=!!e.threadRootId,r=de(de({},r),{},{thread_id:o?e.threadRootId:ee.MAIN_ROOM_TIMELINE})),s=a.http.authedRequest(T.Method.Post,n,void 0,r||{}),(u=a.getRoom(e.getRoomId()))&&a.credentials.userId&&u.addLocalEchoReceipt(a.credentials.userId,e,t),[2,s])}))}))()}},{key:"sendReadReceipt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.ReceiptType.Read,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;return(0,n.default)((function(){var n,a;return(0,d.__generator)(this,(function(o){if(!e)return[2];if(n=e.getId(),null!=(a=i.getRoom(e.getRoomId()))&&a.hasPendingEvent(n))throw new Error("Cannot set read receipt to a pending event (".concat(n,")"));return[2,i.sendReceipt(e,t,{},r)]}))}))()}},{key:"setRoomReadMarkers",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n,o,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:if((n=a.getRoom(e))&&n.hasPendingEvent(t))throw new Error("Cannot set read marker to a pending event (".concat(t,")"));if(r){if(o=r.getId(),null!=n&&n.hasPendingEvent(o))throw new Error("Cannot set read receipt to a pending event (".concat(o,")"));null==n||n.addLocalEchoReceipt(a.credentials.userId,r,ee.ReceiptType.Read)}if(i){if(s=i.getId(),null!=n&&n.hasPendingEvent(s))throw new Error("Cannot set read receipt to a pending event (".concat(s,")"));null==n||n.addLocalEchoReceipt(a.credentials.userId,i,ee.ReceiptType.ReadPrivate)}return[4,a.setRoomReadMarkersHttpRequest(e,t,o,s)];case 1:return[2,u.sent()]}}))}))()}},{key:"getUrlPreview",value:function(e,t){t=6e4*Math.floor(t/6e4);var r=new URL(e);r.hash="";var n=t+"_"+(e=r.toString()),i=this.urlPreviewCache[n];if(i)return i;var a=this.http.authedRequest(T.Method.Get,"/preview_url",{url:e,ts:t.toString()},void 0,{prefix:T.MediaPrefix.R0});return this.urlPreviewCache[n]=a,a}},{key:"sendTyping",value:function(e,t,r){if(this.isGuest())return Promise.resolve({});var n=_.encodeUri("/rooms/$roomId/typing/$userId",{$roomId:e,$userId:this.getUserId()}),i={typing:t};return t&&(i.timeout=r||2e4),this.http.authedRequest(T.Method.Put,n,void 0,i)}},{key:"getRoomUpgradeHistory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getRoom(e);if(!r)return[];for(var n=[r],i=r.currentState.getStateEvents(j.EventType.RoomCreate,"");i;){var a=i.getContent().predecessor;if(!a||!a.room_id)break;var o=this.getRoom(a.room_id);if(!o)break;if(t){var s=o.currentState.getStateEvents(j.EventType.RoomTombstone,"");if(!s||s.getContent().replacement_room!==o.roomId)break}n.splice(0,0,o),i=o.currentState.getStateEvents(j.EventType.RoomCreate,"")}for(var u=r.currentState.getStateEvents(j.EventType.RoomTombstone,"");u;){var c=this.getRoom(u.getContent().replacement_room);if(!c)break;if(c.roomId===r.roomId)break;if(t){if(!(i=c.currentState.getStateEvents(j.EventType.RoomCreate,""))||!i.getContent().predecessor)break;var l=i.getContent().predecessor;if(l.room_id!==r.roomId)break}n.push(c);var f=new Set(n.map((function(e){return e.roomId})));if(f.size<n.length)return n.slice(0,n.length-1);u=(r=c).currentState.getStateEvents(j.EventType.RoomTombstone,"")}return n}},{key:"invite",value:function(e,t,r){return this.membershipChange(e,t,"invite",r)}},{key:"inviteByEmail",value:function(e,t){return this.inviteByThreePid(e,"email",t)}},{key:"inviteByThreePid",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return a=_.encodeUri("/rooms/$roomId/invite",{$roomId:e}),(o=i.getIdentityServerUrl(!0))?(s={id_server:o,medium:t,address:r},(u=null!==(n=i.identityServer)&&void 0!==n&&n.getAccessToken)?[4,i.doesServerAcceptIdentityAccessToken()]:[3,2]):[2,Promise.reject(new T.MatrixError({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"}))];case 1:u=l.sent(),l.label=2;case 2:return u?[4,i.identityServer.getAccessToken()]:[3,4];case 3:(c=l.sent())&&(s.id_access_token=c),l.label=4;case 4:return[2,i.http.authedRequest(T.Method.Post,a,void 0,s)]}}))}))()}},{key:"leave",value:function(e){return this.membershipChange(e,void 0,"leave")}},{key:"leaveRoomChain",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,n=this.getRoomUpgradeHistory(e),i=n;if(!t){i=[];var a=!0,o=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;if(i.push(l),l.roomId===e)break}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}var f={},d=[],h=function(e){return r.leave(e).then((function(){delete f[e]})).catch((function(t){f[e]=t}))},v=!0,p=!1,b=void 0;try{for(var g,m=i[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var $=g.value;d.push(h($.roomId))}}catch(e){p=!0,b=e}finally{try{v||null==m.return||m.return()}finally{if(p)throw b}}return Promise.all(d).then((function(){return f}))}},{key:"ban",value:function(e,t,r){return this.membershipChange(e,t,"ban",r)}},{key:"forget",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,n=this.membershipChange(e,void 0,"forget");return t?n.then((function(t){return r.store.removeRoom(e),r.emit(Ee.DeleteRoom,e),t})):n}},{key:"unban",value:function(e,t){var r=_.encodeUri("/rooms/$roomId/unban",{$roomId:e}),n={user_id:t};return this.http.authedRequest(T.Method.Post,r,void 0,n)}},{key:"kick",value:function(e,t,r){var n=_.encodeUri("/rooms/$roomId/kick",{$roomId:e}),i={user_id:t,reason:r};return this.http.authedRequest(T.Method.Post,n,void 0,i)}},{key:"membershipChange",value:function(e,t,r,n){var i=_.encodeUri("/rooms/$room_id/$membership",{$room_id:e,$membership:r});return this.http.authedRequest(T.Method.Post,i,void 0,{user_id:t,reason:n})}},{key:"getPushActionsForEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.getPushActions()&&!t||e.setPushActions(this.pushProcessor.actionsForEvent(e)),e.getPushActions()}},{key:"setProfileInfo",value:function(e,t){var r=_.encodeUri("/profile/$userId/$info",{$userId:this.credentials.userId,$info:e});return this.http.authedRequest(T.Method.Put,r,void 0,t)}},{key:"setDisplayName",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.setProfileInfo("displayname",{displayname:e})];case 1:return r=i.sent(),(n=t.getUser(t.getUserId()))&&(n.displayName=e,n.emit(P.UserEvent.DisplayName,n.events.presence,n)),[2,r]}}))}))()}},{key:"setAvatarUrl",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.setProfileInfo("avatar_url",{avatar_url:e})];case 1:return r=i.sent(),(n=t.getUser(t.getUserId()))&&(n.avatarUrl=e,n.emit(P.UserEvent.AvatarUrl,n.events.presence,n)),[2,r]}}))}))()}},{key:"mxcUrlToHttp",value:function(e,t,r,n,i){return(0,q.getHttpUriForMxc)(this.baseUrl,e,t,r,n,i)}},{key:"setPresence",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:if(r=_.encodeUri("/presence/$userId/status",{$userId:t.credentials.userId}),-1===["offline","online","unavailable"].indexOf(e.presence))throw new Error("Bad presence value: "+e.presence);return[4,t.http.authedRequest(T.Method.Put,r,void 0,e)];case 1:return n.sent(),[2]}}))}))()}},{key:"getPresence",value:function(e){var t=_.encodeUri("/presence/$userId/status",{$userId:e});return this.http.authedRequest(T.Method.Get,t)}},{key:"scrollback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=this,n=0,i=this.ongoingScrollbacks[e.roomId]||{};if(i.promise)return i.promise;if(i.errorTs){var a=Date.now()-i.errorTs;n=Math.max(3e3-a,0)}if(null===e.oldState.paginationToken)return Promise.resolve(e);var o=this.store.scrollback(e,t).length;if(o===t)return Promise.resolve(e);t-=o;var s=new Promise((function(i,a){(0,_.sleep)(n).then((function(){return r.createMessagesRequest(e.roomId,e.oldState.paginationToken,t,S.Direction.Backward)})).then((function(t){var n,a,o=t.chunk.map(r.getEventMapper());if(t.state){var s=t.state.map(r.getEventMapper());e.currentState.setUnknownStateEvents(s)}var c=(0,u.default)(e.partitionThreadedEvents(o),2),l=c[0],f=c[1];r.processBeaconEvents(e,l),e.addEventsToTimeline(l,!0,e.getLiveTimeline()),r.processThreadEvents(e,f,!0),e.oldState.paginationToken=null!==(n=t.end)&&void 0!==n?n:null,0===t.chunk.length&&(e.oldState.paginationToken=null),r.store.storeEvents(e,o,null!==(a=t.end)&&void 0!==a?a:null,!0),delete r.ongoingScrollbacks[e.roomId],i(e)})).catch((function(t){r.ongoingScrollbacks[e.roomId]={errorTs:Date.now()},a(t)}))}));return i={promise:s},this.ongoingScrollbacks[e.roomId]=i,s}},{key:"getEventMapper",value:function(e){return(0,H.eventMapperFor)(this,e||{})}},{key:"getEventTimeline",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,l,f,h,v,p,b,g,m,$;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(!r.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(null==e||!e.room)throw new Error("getEventTimeline only supports room timelines");return e.getTimelineForEvent(t)?[2,e.getTimelineForEvent(t)]:e.thread&&r.supportsExperimentalThreads()?[2,r.getThreadTimeline(e,t)]:(s=_.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:e.room.roomId,$eventId:t}),l=void 0,null!==(n=r.clientOpts)&&void 0!==n&&n.lazyLoadMembers&&(l={filter:JSON.stringify(y.Filter.LAZY_LOADING_MESSAGES_FILTER)}),[4,r.http.authedRequest(T.Method.Get,s,l)]);case 1:if(!(f=d.sent()).event)throw new Error("'event' not in '/context' result - homeserver too old?");return e.getTimelineForEvent(t)?[2,e.getTimelineForEvent(t)]:(h=r.getEventMapper(),(v=h(f.event)).isRelation(re.THREAD_RELATION_TYPE.name)?(M.logger.warn("Tried loading a regular timeline at the position of a thread event"),[2,void 0]):(p=(0,c.default)(f.events_after.reverse().map(h)).concat([v],(0,c.default)(f.events_before.map(h))),(b=e.getTimelineForEvent(p[0].getId()))?b.getState(S.EventTimeline.BACKWARDS).setUnknownStateEvents(f.state.map(h)):((b=e.addTimeline()).initialiseState(f.state.map(h)),b.getState(S.EventTimeline.FORWARDS).paginationToken=f.end),g=(0,u.default)(e.room.partitionThreadedEvents(p),2),m=g[0],$=g[1],e.addEventsToTimeline(m,!0,b,f.start),r.processThreadEvents(e.room,$,!0),r.processBeaconEvents(e.room,m),[2,null!==(i=null!==(a=e.getTimelineForEvent(t))&&void 0!==a?a:null===(o=e.room.findThreadForEvent(v))||void 0===o?void 0:o.liveTimeline)&&void 0!==i?i:b]))}}))}))()}},{key:"getThreadTimeline",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,l,f,h,v,p,b,g,m,$,w,C,k,E,R,x,M,I,A,O,D,P,q,L,U,N,B,F,j,K,H,W,V,z,G,J;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(!r.supportsExperimentalThreads())throw new Error("could not get thread timeline: no client support");if(!e.room)throw new Error("could not get thread timeline: not a room timeline");if(!e.thread)throw new Error("could not get thread timeline: not a thread timeline");return i=_.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:e.room.roomId,$eventId:t}),a={limit:"0"},null!==(n=r.clientOpts)&&void 0!==n&&n.lazyLoadMembers&&(a.filter=JSON.stringify(y.Filter.LAZY_LOADING_MESSAGES_FILTER)),[4,r.http.authedRequest(T.Method.Get,i,a)];case 1:if(o=d.sent(),s=r.getEventMapper(),u=s(o.event),!e.canContain(u))return[2,void 0];if(!re.Thread.hasServerSideSupport)return[3,29];if(!re.Thread.hasServerSideFwdPaginationSupport)return[3,14];if(!e.thread)throw new Error("could not get thread timeline: not a thread timeline");return v=e.thread,[4,r.fetchRelations(e.room.roomId,v.id,re.THREAD_RELATION_TYPE.name,null,{dir:S.Direction.Backward,from:o.start})];case 2:return p=d.sent(),[4,r.fetchRelations(e.room.roomId,v.id,re.THREAD_RELATION_TYPE.name,null,{dir:S.Direction.Forward,from:o.end})];case 3:b=d.sent(),g=(0,c.default)(b.chunk.reverse().map(s)).concat([u],(0,c.default)(p.chunk.map(s))),m=!0,$=!1,w=void 0,d.label=4;case 4:d.trys.push([4,9,10,11]),C=g[Symbol.iterator](),d.label=5;case 5:return(m=(k=C.next()).done)?[3,8]:(E=k.value,[4,null===(R=e.thread)||void 0===R?void 0:R.processEvent(E)]);case 6:d.sent(),d.label=7;case 7:return m=!0,[3,5];case 8:return[3,11];case 9:return z=d.sent(),$=!0,w=z,[3,11];case 10:try{m||null==C.return||C.return()}finally{if($)throw w}return[7];case 11:return(x=e.getTimelineForEvent(u.getId()))?x.getState(S.EventTimeline.BACKWARDS).setUnknownStateEvents(o.state.map(s)):(x=e.addTimeline()).initialiseState(o.state.map(s)),e.addEventsToTimeline(g,!0,x,b.next_batch),p.next_batch?[3,13]:[4,r.fetchRoomEvent(e.room.roomId,v.id)];case 12:M=d.sent(),e.addEventsToTimeline([s(M)],!0,x,null),d.label=13;case 13:return x.setPaginationToken(null!==(l=p.next_batch)&&void 0!==l?l:null,S.Direction.Backward),x.setPaginationToken(null!==(f=b.next_batch)&&void 0!==f?f:null,S.Direction.Forward),r.processBeaconEvents(e.room,g),[2,null!==(h=e.getTimelineForEvent(t))&&void 0!==h?h:x];case 14:return A=e.thread,[4,r.fetchRelations(e.room.roomId,A.id,re.THREAD_RELATION_TYPE.name,null,{dir:S.Direction.Backward,from:o.start})];case 15:O=d.sent(),D=[],P=o.end,d.label=16;case 16:return P?[4,r.fetchRelations(e.room.roomId,A.id,re.THREAD_RELATION_TYPE.name,null,{dir:S.Direction.Forward,from:P})]:[3,18];case 17:return U=d.sent(),P=null!==(L=U.next_batch)&&void 0!==L?L:null,(q=D).push.apply(q,(0,c.default)(U.chunk)),[3,16];case 18:N=(0,c.default)(D.reverse().map(s)).concat([u],(0,c.default)(O.chunk.map(s))),B=!0,F=!1,j=void 0,d.label=19;case 19:d.trys.push([19,24,25,26]),K=N[Symbol.iterator](),d.label=20;case 20:return(B=(H=K.next()).done)?[3,23]:(W=H.value,[4,null===(V=e.thread)||void 0===V?void 0:V.processEvent(W)]);case 21:d.sent(),d.label=22;case 22:return B=!0,[3,20];case 23:return[3,26];case 24:return z=d.sent(),F=!0,j=z,[3,26];case 25:try{B||null==K.return||K.return()}finally{if(F)throw j}return[7];case 26:return(G=e.getLiveTimeline()).getState(S.EventTimeline.BACKWARDS).setUnknownStateEvents(o.state.map(s)),e.addEventsToTimeline(N,!0,G,null),O.next_batch?[3,28]:[4,r.fetchRoomEvent(e.room.roomId,A.id)];case 27:J=d.sent(),e.addEventsToTimeline([s(J)],!0,G,null),d.label=28;case 28:return G.setPaginationToken(null!==(I=O.next_batch)&&void 0!==I?I:null,S.Direction.Backward),G.setPaginationToken(null,S.Direction.Forward),r.processBeaconEvents(e.room,N),[2,G];case 29:return[2]}}))}))()}},{key:"getLatestTimeline",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,l,f;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(!t.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(!e.room)throw new Error("getLatestTimeline only supports room timelines");return null===e.threadListType?[3,2]:[4,t.createThreadListMessagesRequest(e.room.roomId,null,1,S.Direction.Backward,e.threadListType,e.getFilter())];case 1:return i=d.sent(),r=null===(n=i.chunk)||void 0===n?void 0:n[0],[3,6];case 2:return e.thread&&re.Thread.hasServerSideSupport?[4,t.fetchRelations(e.room.roomId,e.thread.id,re.THREAD_RELATION_TYPE.name,null,{dir:S.Direction.Backward,limit:1})]:[3,4];case 3:return o=d.sent(),r=null===(a=o.chunk)||void 0===a?void 0:a[0],[3,6];case 4:return c=_.encodeUri("/rooms/$roomId/messages",{$roomId:e.room.roomId}),l={dir:"b"},null!==(s=t.clientOpts)&&void 0!==s&&s.lazyLoadMembers&&(l.filter=JSON.stringify(y.Filter.LAZY_LOADING_MESSAGES_FILTER)),[4,t.http.authedRequest(T.Method.Get,c,l)];case 5:f=d.sent(),r=null===(u=f.chunk)||void 0===u?void 0:u[0],d.label=6;case 6:if(!r)throw new Error("No message returned when trying to construct getLatestTimeline");return[2,t.getEventTimeline(e,r.event_id)]}}))}))()}},{key:"createMessagesRequest",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=_.encodeUri("/rooms/$roomId/messages",{$roomId:e}),s={limit:n.toString(),dir:i};t&&(s.from=t);var u,c=null;(null!==(r=this.clientOpts)&&void 0!==r&&r.lazyLoadMembers&&(c=Object.assign({},y.Filter.LAZY_LOADING_MESSAGES_FILTER)),a)&&(c=c||{},Object.assign(c,null===(u=a.getRoomTimelineFilterComponent())||void 0===u?void 0:u.toJSON()));return c&&(s.filter=JSON.stringify(c)),this.http.authedRequest(T.Method.Get,o,s)}},{key:"createThreadListMessagesRequest",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S.Direction.Backward,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:re.ThreadFilterType.All,o=arguments.length>5?arguments[5]:void 0,s=_.encodeUri("/rooms/$roomId/threads",{$roomId:e}),u={limit:n.toString(),dir:i,include:(0,re.threadFilterTypeToFilter)(a)};t&&(u.from=t);var c,l={};(null!==(r=this.clientOpts)&&void 0!==r&&r.lazyLoadMembers&&(l=de({},y.Filter.LAZY_LOADING_MESSAGES_FILTER)),o)&&(l=de(de({},l),null===(c=o.getRoomTimelineFilterComponent())||void 0===c?void 0:c.toJSON()));Object.keys(l).length&&(u.filter=JSON.stringify(l));var f={prefix:re.Thread.hasServerSideListSupport===re.FeatureSupport.Stable?"/_matrix/client/v1":"/_matrix/client/unstable/org.matrix.msc3856"};return this.http.authedRequest(T.Method.Get,s,u,void 0,f).then((function(e){var t;return de(de({},e),{},{chunk:null===(t=e.chunk)||void 0===t?void 0:t.reverse(),start:e.prev_batch,end:e.next_batch})}))}},{key:"paginateEventTimeline",value:function(e,t){var r=this,i=e.getTimelineSet()===this.notifTimelineSet,a=this.getRoom(e.getRoomId()),o=e.getTimelineSet().threadListType,s=e.getTimelineSet().thread,c=(t=t||{}).backwards||!1;if(i&&!c)throw new Error("paginateNotifTimeline can only paginate backwards");var l,f,h,v=c?S.EventTimeline.BACKWARDS:S.EventTimeline.FORWARDS,p=e.getPaginationToken(v),b=e.paginationRequests[v];if(b)return b;if(i){var g;"/notifications",l={limit:(null!==(g=t.limit)&&void 0!==g?g:30).toString(),only:"highlight"},p&&"end"!==p&&(l.from=p);var m=this;f=this.http.authedRequest(T.Method.Get,"/notifications",l).then((h=(0,n.default)((function(t){var r,n,i,a,o,s;return(0,d.__generator)(this,(function(u){for(r=t.next_token,n=[],i=0;i<t.notifications.length;i++)a=t.notifications[i],(o=m.getEventMapper()(a.event)).setPushActions(C.PushProcessor.actionListToActionsObject(a.actions)),o.event.room_id=a.room_id,n[i]=o;return(s=e.getTimelineSet()).addEventsToTimeline(n,c,e,r),m.processBeaconEvents(s.room,n),c&&!t.next_token&&e.setPaginationToken(null,v),[2,Boolean(t.next_token)]}))})),function(e){return h.apply(this,arguments)})).finally((function(){e.paginationRequests[v]=null})),e.paginationRequests[v]=f}else if(null!==o){if(!a)throw new Error("Unknown room "+e.getRoomId());if(!re.Thread.hasServerSideFwdPaginationSupport&&v===S.Direction.Forward)throw new Error("Cannot paginate threads forwards without server-side support for MSC 3715");f=this.createThreadListMessagesRequest(e.getRoomId(),p,t.limit,v,o,e.getFilter()).then((function(t){if(t.state){var n=e.getState(v),i=t.state.map(r.getEventMapper());n.setUnknownStateEvents(i)}var o=t.end,s=t.chunk.map(r.getEventMapper());return e.getTimelineSet().addEventsToTimeline(s,c,e,o),r.processBeaconEvents(a,s),r.processThreadRoots(a,s,c),c&&t.end==t.start&&e.setPaginationToken(null,v),t.end!==t.start})).finally((function(){e.paginationRequests[v]=null})),e.paginationRequests[v]=f}else if(s){var $,y,w=this.getRoom(null!==($=e.getRoomId())&&void 0!==$?$:void 0);if(!w)throw new Error("Unknown room "+e.getRoomId());var _=this;f=this.fetchRelations(null!==(y=e.getRoomId())&&void 0!==y?y:"",s.id,re.THREAD_RELATION_TYPE.name,null,{dir:v,limit:t.limit,from:null!=p?p:void 0}).then(function(){var t=(0,n.default)((function(t){var r,n,i,a,o,u,l,f,h,p,b,g,m,$;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:r=_.getEventMapper(),n=t.chunk.map(r),i=!0,a=!1,o=void 0,d.label=1;case 1:d.trys.push([1,6,7,8]),u=n.slice().reverse()[Symbol.iterator](),d.label=2;case 2:return(i=(l=u.next()).done)?[3,5]:(f=l.value,[4,null==s?void 0:s.processEvent(f)]);case 3:d.sent(),h=f.getSender(),c&&null!==(null==s?void 0:s.getEventReadUpTo(h))||w.addLocalEchoReceipt(h,f,ee.ReceiptType.Read),d.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return p=d.sent(),a=!0,o=p,[3,8];case 7:try{i||null==u.return||u.return()}finally{if(a)throw o}return[7];case 8:return b=t.next_batch,(g=e.getTimelineSet()).addEventsToTimeline(n,c,e,null!=b?b:null),b||!c?[3,10]:[4,_.fetchRoomEvent(null!==(m=e.getRoomId())&&void 0!==m?m:"",s.id)];case 9:$=d.sent(),g.addEventsToTimeline([r($)],!0,e,null),d.label=10;case 10:return _.processBeaconEvents(g.room,n),c&&!b&&e.setPaginationToken(null,v),[2,Boolean(b)]}}))}));return function(e){return t.apply(this,arguments)}}()).finally((function(){e.paginationRequests[v]=null})),e.paginationRequests[v]=f}else{if(!a)throw new Error("Unknown room "+e.getRoomId());f=this.createMessagesRequest(e.getRoomId(),p,t.limit,v,e.getFilter()).then((function(t){if(t.state){var n=e.getState(v),i=t.state.map(r.getEventMapper());n.setUnknownStateEvents(i)}var o=t.end,s=t.chunk.map(r.getEventMapper()),l=e.getTimelineSet(),f=(0,u.default)(a.partitionThreadedEvents(s),1)[0];l.addEventsToTimeline(f,c,e,o),r.processBeaconEvents(a,f),r.processThreadRoots(a,f.filter((function(e){return e.getServerAggregatedRelation(re.THREAD_RELATION_TYPE.name)})),!1);var d=void 0===t.end||t.end===t.start;return c&&d&&e.setPaginationToken(null,v),!d})).finally((function(){e.paginationRequests[v]=null})),e.paginationRequests[v]=f}return f}},{key:"resetNotifTimelineSet",value:function(){this.notifTimelineSet&&this.notifTimelineSet.resetLiveTimeline("end")}},{key:"peekInRoom",value:function(e){var t;return null===(t=this.peekSync)||void 0===t||t.stopPeeking(),this.peekSync=new b.SyncApi(this,this.clientOpts,this.buildSyncApiOptions()),this.peekSync.peek(e)}},{key:"stopPeeking",value:function(){this.peekSync&&(this.peekSync.stopPeeking(),this.peekSync=null)}},{key:"setGuestAccess",value:function(e,t){var r=this.sendStateEvent(e,j.EventType.RoomGuestAccess,{guest_access:t.allowJoin?"can_join":"forbidden"},""),n=Promise.resolve(void 0);return t.allowRead&&(n=this.sendStateEvent(e,j.EventType.RoomHistoryVisibility,{history_visibility:"world_readable"},"")),Promise.all([n,r]).then()}},{key:"requestRegisterEmailToken",value:function(e,t,r,n){return this.requestTokenFromEndpoint("/register/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})}},{key:"requestRegisterMsisdnToken",value:function(e,t,r,n,i){return this.requestTokenFromEndpoint("/register/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:i})}},{key:"requestAdd3pidEmailToken",value:function(e,t,r,n){return this.requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})}},{key:"requestAdd3pidMsisdnToken",value:function(e,t,r,n,i){return this.requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:i})}},{key:"requestPasswordEmailToken",value:function(e,t,r,n){return this.requestTokenFromEndpoint("/account/password/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})}},{key:"requestPasswordMsisdnToken",value:function(e,t,r,n,i){return this.requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:i})}},{key:"requestTokenFromEndpoint",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return n=Object.assign({},t),[4,r.doesServerSupportSeparateAddAndBind()];case 1:return u.sent()||!r.idBaseUrl?[3,5]:(a=new URL(r.idBaseUrl),n.id_server=a.host,(o=null!==(i=r.identityServer)&&void 0!==i&&i.getAccessToken)?[4,r.doesServerAcceptIdentityAccessToken()]:[3,3]);case 2:o=u.sent(),u.label=3;case 3:return o?[4,r.identityServer.getAccessToken()]:[3,5];case 4:(s=u.sent())&&(n.id_access_token=s),u.label=5;case 5:return[2,r.http.request(T.Method.Post,e,void 0,n)]}}))}))()}},{key:"getRoomPushRule",value:function(e,t){var r,n;if(this.pushRules)return null===(r=this.pushRules[e])||void 0===r||null===(n=r.room)||void 0===n?void 0:n.find((function(e){return e.rule_id===t}));throw new Error("SyncApi.sync() must be done before accessing to push rules.")}},{key:"setRoomMutePushRule",value:function(e,t,r){var n,i=this,a=!1,o=this.getRoomPushRule(e,t);if(null!=o&&o.actions.includes(J.PushRuleActionName.DontNotify)&&(a=!0),r)if(o){if(!a){var s=_.defer();this.deletePushRule(e,J.PushRuleKind.RoomSpecific,o.rule_id).then((function(){i.addPushRule(e,J.PushRuleKind.RoomSpecific,t,{actions:[J.PushRuleActionName.DontNotify]}).then((function(){s.resolve()})).catch((function(e){s.reject(e)}))})).catch((function(e){s.reject(e)})),n=s.promise}}else n=this.addPushRule(e,J.PushRuleKind.RoomSpecific,t,{actions:[J.PushRuleActionName.DontNotify]});else a&&(n=this.deletePushRule(e,J.PushRuleKind.RoomSpecific,o.rule_id));if(n)return new Promise((function(e,t){n.then((function(){i.getPushRules().then((function(t){i.pushRules=t,e()})).catch((function(e){t(e)}))})).catch((function(e){i.getPushRules().then((function(r){i.pushRules=r,t(e)})).catch((function(r){t(e)}))}))}))}},{key:"searchMessageText",value:function(e){var t={search_term:e.query};return"keys"in e&&(t.keys=e.keys),this.search({body:{search_categories:{room_events:t}}})}},{key:"searchRoomEvents",value:function(e){var t=this,r={search_categories:{room_events:{search_term:e.term,filter:e.filter,order_by:G.SearchOrderBy.Recent,event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},n={_query:r,results:[],highlights:[]};return this.search({body:r}).then((function(e){return t.processRoomEventsSearch(n,e)}))}},{key:"backPaginateRoomEventsSearch",value:function(e){var t=this;if(!e.next_batch)return Promise.reject(new Error("Cannot backpaginate event search any further"));if(e.pendingRequest)return e.pendingRequest;var r={body:e._query,next_batch:e.next_batch},n=this.search(r,e.abortSignal).then((function(r){return t.processRoomEventsSearch(e,r)})).finally((function(){e.pendingRequest=void 0}));return e.pendingRequest=n,n}},{key:"processRoomEventsSearch",value:function(e,t){var r,n,i=t.search_categories.room_events;e.count=i.count,e.next_batch=i.next_batch;var a=new Set(i.highlights);e.highlights.forEach((function(e){a.add(e)})),e.highlights=Array.from(a);for(var o=this.getEventMapper(),s=null!==(r=null===(n=i.results)||void 0===n?void 0:n.length)&&void 0!==r?r:0,u=0;u<s;u++){var c=L.SearchResult.fromJson(i.results[u],o),l=this.getRoom(c.context.getEvent().getRoomId()),f=!0,d=!1,h=void 0;if(l)try{for(var v,p=c.context.getTimeline()[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var b=v.value,g=l.getMember(b.getSender());!b.sender&&g&&(b.sender=g)}}catch(e){d=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(d)throw h}}e.results.push(c)}return e}},{key:"syncLeftRooms",value:function(){var e=this;if(this.syncedLeftRooms)return Promise.resolve([]);if(this.syncLeftRoomsPromise)return this.syncLeftRoomsPromise;var t=new b.SyncApi(this,this.clientOpts,this.buildSyncApiOptions());return this.syncLeftRoomsPromise=t.syncLeftRooms(),this.syncLeftRoomsPromise.then((function(){M.logger.log("Marking success of sync left room request"),e.syncedLeftRooms=!0})).finally((function(){e.syncLeftRoomsPromise=void 0})),this.syncLeftRoomsPromise}},{key:"createFilter",value:function(e){var t=this,r=_.encodeUri("/user/$userId/filter",{$userId:this.credentials.userId});return this.http.authedRequest(T.Method.Post,r,void 0,e).then((function(r){var n=y.Filter.fromJson(t.credentials.userId,r.filter_id,e);return t.store.storeFilter(n),n}))}},{key:"getFilter",value:function(e,t,r){var n=this;if(r){var i=this.store.getFilter(e,t);if(i)return Promise.resolve(i)}var a=_.encodeUri("/user/$userId/filter/$filterId",{$userId:e,$filterId:t});return this.http.authedRequest(T.Method.Get,a).then((function(r){var i=y.Filter.fromJson(e,t,r);return n.store.storeFilter(i),i}))}},{key:"getOrCreateFilter",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:if(!(n=r.store.getFilterIdByName(e)))return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r.getFilter(r.credentials.userId,n,!0)];case 2:return(a=l.sent())&&(o=a.getDefinition(),s=t.getDefinition(),_.deepCompare(o,s)&&(i=n)),[3,4];case 3:if("M_UNKNOWN"!==(u=l.sent()).errcode&&"M_NOT_FOUND"!==u.errcode)throw u;return[3,4];case 4:i||r.store.setFilterIdByName(e,void 0),l.label=5;case 5:return i?[2,i]:[4,r.createFilter(t.getDefinition())];case 6:return c=l.sent(),r.store.setFilterIdByName(e,c.filterId),[2,c.filterId]}}))}))()}},{key:"getOpenIdToken",value:function(){var e=_.encodeUri("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this.http.authedRequest(T.Method.Post,e,void 0,{})}},{key:"turnServer",value:function(){return this.http.authedRequest(T.Method.Get,"/voip/turnServer")}},{key:"getTurnServers",value:function(){return this.turnServers||[]}},{key:"getTurnServersExpiry",value:function(){return this.turnServersExpiry}},{key:"pollingTurnServers",get:function(){return void 0!==this.checkTurnServersIntervalID}},{key:"checkTurnServers",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return e.canSupportVoip?(t=!1,(r=e.turnServersExpiry-Date.now())>Se?(M.logger.debug("TURN creds are valid for another "+r+" ms: not fetching new ones."),t=!0,[3,5]):[3,1]):[2];case 1:M.logger.debug("Fetching new TURN credentials"),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e.turnServer()];case 3:return(n=o.sent()).uris&&(M.logger.log("Got TURN URIs: "+n.uris+" refresh in "+n.ttl+" secs"),i={urls:n.uris,username:n.username,credential:n.password},e.turnServers=[i],e.turnServersExpiry=Date.now()+1e3*n.ttl,t=!0,e.emit(Ee.TurnServers,e.turnServers)),[3,5];case 4:return a=o.sent(),M.logger.error("Failed to get TURN URIs",a),403===a.httpStatus?(M.logger.info("TURN access unavailable for this account: stopping credentials checks"),null!==e.checkTurnServersIntervalID&&$parcel$global.clearInterval(e.checkTurnServersIntervalID),e.checkTurnServersIntervalID=void 0,e.emit(Ee.TurnServersError,a,!0)):e.emit(Ee.TurnServersError,a,!1),[3,5];case 5:return[2,t]}}))}))()}},{key:"setFallbackICEServerAllowed",value:function(e){this.fallbackICEServerAllowed=e}},{key:"isFallbackICEServerAllowed",value:function(){return this.fallbackICEServerAllowed}},{key:"isSynapseAdministrator",value:function(){var e=_.encodeUri("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this.http.authedRequest(T.Method.Get,e,void 0,void 0,{prefix:""}).then((function(e){return e.admin}))}},{key:"whoisSynapseUser",value:function(e){var t=_.encodeUri("/_synapse/admin/v1/whois/$userId",{$userId:e});return this.http.authedRequest(T.Method.Get,t,void 0,void 0,{prefix:""})}},{key:"deactivateSynapseUser",value:function(e){var t=_.encodeUri("/_synapse/admin/v1/deactivate/$userId",{$userId:e});return this.http.authedRequest(T.Method.Post,t,void 0,void 0,{prefix:""})}},{key:"fetchClientWellKnown",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return e.clientWellKnownPromise=k.AutoDiscovery.getRawClientConfig(null!==(t=e.getDomain())&&void 0!==t?t:void 0),[4,e.clientWellKnownPromise];case 1:return e.clientWellKnown=r.sent(),e.emit(Ee.ClientWellKnown,e.clientWellKnown),[2]}}))}))()}},{key:"getClientWellKnown",value:function(){return this.clientWellKnown}},{key:"waitForClientWellKnown",value:function(){if(!this.clientRunning)throw new Error("Client is not running");return this.clientWellKnownPromise}},{key:"storeClientOptions",value:function(){var e=["boolean","string","number"],t=Object.entries(this.clientOpts).filter((function(t){var r=(0,u.default)(t,2),n=(r[0],r[1]);return e.includes(void 0===n?"undefined":(0,l.default)(n))})).reduce((function(e,t){var r=(0,u.default)(t,2),n=r[0],i=r[1];return e[n]=i,e}),{});return this.store.storeClientOptions(t)}},{key:"_unstable_getSharedRooms",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,t.doesServerSupportUnstableFeature("uk.half-shot.msc2666")];case 1:return r=a.sent(),[4,t.doesServerSupportUnstableFeature("uk.half-shot.msc2666.mutual_rooms")];case 2:if(n=a.sent(),!r&&!n)throw Error("Server does not support mutual_rooms API");return i=_.encodeUri("/uk.half-shot.msc2666/user/".concat(n?"mutual_rooms":"shared_rooms","/$userId"),{$userId:e}),[4,t.http.authedRequest(T.Method.Get,i,void 0,void 0,{prefix:T.ClientPrefix.Unstable})];case 3:return[2,a.sent().joined]}}))}))()}},{key:"getVersions",value:function(){var e=this;return(0,n.default)((function(){var t,r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return e.serverVersionsPromise?[2,e.serverVersionsPromise]:(e.serverVersionsPromise=e.http.request(T.Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:""}).catch((function(t){throw e.serverVersionsPromise=void 0,t})),[4,e.serverVersionsPromise]);case 1:return t=n.sent(),[4,(0,ue.buildFeatureSupportMap)(t)];case 2:return e.canSupport=n.sent(),r=e.canSupport.get(ue.Feature.ThreadUnreadNotifications),se.UNREAD_THREAD_NOTIFICATIONS.setPreferUnstable(r===ue.ServerSupport.Unstable),[2,e.serverVersionsPromise]}}))}))()}},{key:"isVersionSupported",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.getVersions()];case 1:return[2,(r=n.sent().versions)&&r.includes(e)]}}))}))()}},{key:"doesServerSupportLazyLoading",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getVersions()];case 1:return(t=i.sent())?(r=t.versions,n=t.unstable_features,[2,r&&r.includes("r0.5.0")||n&&n["m.lazy_load_members"]]):[2,!1]}}))}))()}},{key:"doesServerRequireIdServerParam",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getVersions()];case 1:return(t=i.sent())?(r=t.versions)&&r.includes("r0.6.0")?[2,!1]:(n=t.unstable_features)?void 0===n["m.require_identity_server"]?[2,!0]:[2,n["m.require_identity_server"]]:[2,!0]:[2,!0]}}))}))()}},{key:"doesServerAcceptIdentityAccessToken",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getVersions()];case 1:return(t=i.sent())?(r=t.versions,n=t.unstable_features,[2,r&&r.includes("r0.6.0")||n&&n["m.id_access_token"]]):[2,!1]}}))}))()}},{key:"doesServerSupportSeparateAddAndBind",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getVersions()];case 1:return(t=i.sent())?(r=t.versions,n=t.unstable_features,[2,(null==r?void 0:r.includes("r0.6.0"))||(null==n?void 0:n["m.separate_add_and_bind"])]):[2,!1]}}))}))()}},{key:"doesServerSupportUnstableFeature",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.getVersions()];case 1:return(r=i.sent())?[2,(n=r.unstable_features)&&!!n[e]]:[2,!1]}}))}))()}},{key:"doesServerForceEncryptionForPreset",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,t.getVersions()];case 1:return(r=a.sent())?(n=r.unstable_features,i=e.includes("_chat")?e.substring(0,e.indexOf("_chat")):e,[2,n&&!!n["io.element.e2ee_forced.".concat(i)]]):[2,!1]}}))}))()}},{key:"doesServerSupportThread",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s;return(0,d.__generator)(this,(function(c){switch(c.label){case 0:return[4,e.isVersionSupported("v1.4")];case 1:if(c.sent())return[2,{threads:re.FeatureSupport.Stable,list:re.FeatureSupport.Stable,fwdPagination:re.FeatureSupport.Stable}];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,Promise.all([e.doesServerSupportUnstableFeature("org.matrix.msc3440"),e.doesServerSupportUnstableFeature("org.matrix.msc3440.stable"),e.doesServerSupportUnstableFeature("org.matrix.msc3856"),e.doesServerSupportUnstableFeature("org.matrix.msc3856.stable"),e.doesServerSupportUnstableFeature("org.matrix.msc3715"),e.doesServerSupportUnstableFeature("org.matrix.msc3715.stable")])];case 3:return t=u.default.apply(void 0,[c.sent(),6]),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],[2,{threads:(0,re.determineFeatureSupport)(n,r),list:(0,re.determineFeatureSupport)(a,i),fwdPagination:(0,re.determineFeatureSupport)(s,o)}];case 4:return c.sent(),[2,{threads:re.FeatureSupport.None,list:re.FeatureSupport.None,fwdPagination:re.FeatureSupport.None}];case 5:return[2]}}))}))()}},{key:"doesServerSupportLogoutDevices",value:function(){return this.isVersionSupported("r0.6.1")}},{key:"hasLazyLoadMembersEnabled",value:function(){var e;return!(null===(e=this.clientOpts)||void 0===e||!e.lazyLoadMembers)}},{key:"setCanResetTimelineCallback",value:function(e){this.canResetTimelineCallback=e}},{key:"getCanResetTimelineCallback",value:function(){return this.canResetTimelineCallback}},{key:"relations",value:function(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{dir:S.Direction.Backward},o=this;return(0,n.default)((function(){var n,s,c,l,f,h,v,p,b,g;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return c=i?o.getEncryptedIfNeededEventType(e,i):null,[4,Promise.all([o.fetchRoomEvent(e,t),o.fetchRelations(e,t,r,c,a)])];case 1:return l=u.default.apply(void 0,[d.sent(),2]),f=l[0],h=l[1],v=o.getEventMapper(),p=f?v(f):void 0,b=h.chunk.map(v),c!==j.EventType.RoomMessageEncrypted?[3,3]:(g=p?b.concat(p):b,[4,Promise.all(g.map((function(e){return o.decryptEventIfNeeded(e)})))]);case 2:d.sent(),null!==i&&(b=b.filter((function(e){return e.getType()===i}))),d.label=3;case 3:return p&&r===j.RelationType.Replace&&(b=b.filter((function(e){return e.getSender()===p.getSender()}))),[2,{originalEvent:null!=p?p:null,events:b,nextBatch:null!==(n=h.next_batch)&&void 0!==n?n:null,prevBatch:null!==(s=h.prev_batch)&&void 0!==s?s:null}]}}))}))()}},{key:"getCrossSigningCacheCallbacks",value:function(){var e;return null===(e=this.crypto)||void 0===e?void 0:e.crossSigningInfo.getCacheCallbacks()}},{key:"generateClientSecret",value:function(){return(0,W.randomString)(32)}},{key:"decryptEventIfNeeded",value:function(e,t){return e.shouldAttemptDecryption()&&this.isCryptoEnabled()&&e.attemptDecryption(this.cryptoBackend,t),e.isBeingDecrypted()?e.getDecryptionPromise():Promise.resolve()}},{key:"termsUrlForService",value:function(e,t){switch(e){case I.SERVICE_TYPES.IS:return this.http.getUrl("/terms",void 0,T.IdentityPrefix.V2,t);case I.SERVICE_TYPES.IM:return this.http.getUrl("/terms",void 0,"/_matrix/integrations/v1",t);default:throw new Error("Unsupported service type")}}},{key:"getHomeserverUrl",value:function(){return this.baseUrl}},{key:"getIdentityServerUrl",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r&&(null!==(e=this.idBaseUrl)&&void 0!==e&&e.startsWith("http://")||null!==(t=this.idBaseUrl)&&void 0!==t&&t.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl}},{key:"setIdentityServerUrl",value:function(e){this.idBaseUrl=_.ensureNoTrailingSlash(e),this.http.setIdBaseUrl(this.idBaseUrl)}},{key:"getAccessToken",value:function(){return this.http.opts.accessToken||null}},{key:"setAccessToken",value:function(e){this.http.opts.accessToken=e}},{key:"isLoggedIn",value:function(){return void 0!==this.http.opts.accessToken}},{key:"makeTxnId",value:function(){return"m"+(new Date).getTime()+"."+this.txnCtr++}},{key:"isUsernameAvailable",value:function(e){return this.http.authedRequest(T.Method.Get,"/register/available",{username:e}).then((function(e){return e.available})).catch((function(e){return"M_USER_IN_USE"!==e.errcode&&Promise.reject(e)}))}},{key:"register",value:function(e,t,r,n,i,a,o){!0===i?i={email:!0}:null!=i&&!1!==i||(i={}),r&&(n.session=r);var s={auth:n,refresh_token:!0};return null!=e&&(s.username=e),null!=t&&(s.password=t),i.email&&(s.bind_email=!0),i.msisdn&&(s.bind_msisdn=!0),null!=a&&(s.guest_access_token=a),null!=o&&(s.inhibit_login=o),null!=t&&(s.x_show_msisdn=!0),this.registerRequest(s)}},{key:"registerGuest",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).body;return this.registerRequest(e||{},"guest")}},{key:"registerRequest",value:function(e,t){var r={};return t&&(r.kind=t),this.http.request(T.Method.Post,"/register",r,e)}},{key:"refreshToken",value:function(e){return this.http.authedRequest(T.Method.Post,"/refresh",void 0,{refresh_token:e},{prefix:T.ClientPrefix.V1,inhibitLogoutEmit:!0})}},{key:"loginFlows",value:function(){return this.http.request(T.Method.Get,"/login")}},{key:"login",value:function(e,t){var r=this,n={type:e};return Object.assign(n,t),this.http.authedRequest(T.Method.Post,"/login",void 0,n).then((function(e){return e.access_token&&e.user_id&&(r.http.opts.accessToken=e.access_token,r.credentials={userId:e.user_id}),e}))}},{key:"loginWithPassword",value:function(e,t){return this.login("m.login.password",{user:e,password:t})}},{key:"loginWithSAML2",value:function(e){return this.login("m.login.saml2",{relay_state:e})}},{key:"getCasLoginUrl",value:function(e){return this.getSsoLoginUrl(e,"cas")}},{key:"getSsoLoginUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sso",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i="/login/"+t+"/redirect";r&&(i+="/"+r);var a=(0,o.default)({redirectUrl:e},Me.unstable,n);return this.http.getUrl(i,a,T.ClientPrefix.R0).href}},{key:"loginWithToken",value:function(e){return this.login("m.login.token",{token:e})}},{key:"logout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return(0,n.default)((function(){var r,n,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:if(null===(r=t.crypto)||void 0===r||null===(n=r.backupManager)||void 0===n||!n.getKeyBackupEnabled())return[3,5];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,t.crypto.backupManager.backupPendingKeys(200)];case 2:return a.sent()>0?[3,1]:[3,3];case 3:return[3,5];case 4:return i=a.sent(),M.logger.error("Key backup request failed when logging out. Some keys may be missing from backup",i),[3,5];case 5:return e&&(t.stopClient(),t.http.abort()),[2,t.http.authedRequest(T.Method.Post,"/logout")]}}))}))()}},{key:"deactivateAccount",value:function(e,t){var r={};return e&&(r.auth=e),void 0!==t&&(r.erase=t),this.http.authedRequest(T.Method.Post,"/account/deactivate",void 0,r)}},{key:"requestLoginToken",value:function(e){var t={auth:e};return this.http.authedRequest(T.Method.Post,"/org.matrix.msc3882/login/token",void 0,t,{prefix:T.ClientPrefix.Unstable})}},{key:"getFallbackAuthUrl",value:function(e,t){var r=_.encodeUri("/auth/$loginType/fallback/web",{$loginType:e});return this.http.getUrl(r,{session:t},T.ClientPrefix.R0).href}},{key:"createRoom",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,l;return(0,d.__generator)(this,(function(f){switch(f.label){case 0:return n=(e.invite_3pid||[]).filter((function(e){return!e.id_access_token})),(i=n.length>0&&null!==(r=t.identityServer)&&void 0!==r&&r.getAccessToken)?[4,t.doesServerAcceptIdentityAccessToken()]:[3,2];case 1:i=f.sent(),f.label=2;case 2:return i?[4,t.identityServer.getAccessToken()]:[3,4];case 3:if(a=f.sent(),o=!0,s=!1,u=void 0,a)try{for(c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)l.value.id_access_token=a}catch(e){s=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw u}}f.label=4;case 4:return[2,t.http.authedRequest(T.Method.Post,"/createRoom",void 0,e)]}}))}))()}},{key:"fetchRelations",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{dir:S.Direction.Backward},a=i;re.Thread.hasServerSideFwdPaginationSupport===re.FeatureSupport.Experimental&&(a=(0,_.replaceParam)("dir","org.matrix.msc3715.dir",a));var o=_.encodeParams(a),s="/rooms/$roomId/relations/$eventId";null!==r?(s+="/$relationType",null!==n&&(s+="/$eventType")):null!==n&&(M.logger.warn("eventType: ".concat(n," ignored when fetching\n            relations as relationType is null")),n=null);var u=_.encodeUri(s+"?"+o,{$roomId:e,$eventId:t,$relationType:r,$eventType:n});return this.http.authedRequest(T.Method.Get,u,void 0,void 0,{prefix:T.ClientPrefix.V1})}},{key:"roomState",value:function(e){var t=_.encodeUri("/rooms/$roomId/state",{$roomId:e});return this.http.authedRequest(T.Method.Get,t)}},{key:"fetchRoomEvent",value:function(e,t){var r=_.encodeUri("/rooms/$roomId/event/$eventId",{$roomId:e,$eventId:t});return this.http.authedRequest(T.Method.Get,r)}},{key:"members",value:function(e,t,r,n){var i={};t&&(i.membership=t),r&&(i.not_membership=r),n&&(i.at=n);var a=_.encodeParams(i),o=_.encodeUri("/rooms/$roomId/members?"+a,{$roomId:e});return this.http.authedRequest(T.Method.Get,o)}},{key:"upgradeRoom",value:function(e,t){var r=_.encodeUri("/rooms/$roomId/upgrade",{$roomId:e});return this.http.authedRequest(T.Method.Post,r,void 0,{new_version:t})}},{key:"getStateEvent",value:function(e,t,r){var n={$roomId:e,$eventType:t,$stateKey:r},i=_.encodeUri("/rooms/$roomId/state/$eventType",n);return void 0!==r&&(i=_.encodeUri(i+"/$stateKey",n)),this.http.authedRequest(T.Method.Get,i)}},{key:"sendStateEvent",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a={$roomId:e,$eventType:t,$stateKey:n},o=_.encodeUri("/rooms/$roomId/state/$eventType",a);return void 0!==n&&(o=_.encodeUri(o+"/$stateKey",a)),this.http.authedRequest(T.Method.Put,o,void 0,r,i)}},{key:"roomInitialSync",value:function(e,t){var r,n=_.encodeUri("/rooms/$roomId/initialSync",{$roomId:e});return this.http.authedRequest(T.Method.Get,n,{limit:null!==(r=null==t?void 0:t.toString())&&void 0!==r?r:"30"})}},{key:"setRoomReadMarkersHttpRequest",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return n=_.encodeUri("/rooms/$roomId/read_markers",{$roomId:e}),s={},(0,o.default)(s,ee.ReceiptType.FullyRead,t),(0,o.default)(s,ee.ReceiptType.Read,r),u=s,[4,a.doesServerSupportUnstableFeature("org.matrix.msc2285.stable")];case 1:return(c=l.sent())?[3,3]:[4,a.isVersionSupported("v1.4")];case 2:c=l.sent(),l.label=3;case 3:return c&&(u[ee.ReceiptType.ReadPrivate]=i),[2,a.http.authedRequest(T.Method.Post,n,void 0,u)]}}))}))()}},{key:"getJoinedRooms",value:function(){var e=_.encodeUri("/joined_rooms",{});return this.http.authedRequest(T.Method.Get,e)}},{key:"getJoinedRoomMembers",value:function(e){var t=_.encodeUri("/rooms/$roomId/joined_members",{$roomId:e});return this.http.authedRequest(T.Method.Get,t)}},{key:"publicRooms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.server,r=e.limit,n=e.since,i=(0,v.default)(e,le),a={server:t,limit:r,since:n};return 0===Object.keys(i).length?this.http.authedRequest(T.Method.Get,"/publicRooms",a):this.http.authedRequest(T.Method.Post,"/publicRooms",a,i)}},{key:"createAlias",value:function(e,t){var r=_.encodeUri("/directory/room/$alias",{$alias:e}),n={room_id:t};return this.http.authedRequest(T.Method.Put,r,void 0,n)}},{key:"deleteAlias",value:function(e){var t=_.encodeUri("/directory/room/$alias",{$alias:e});return this.http.authedRequest(T.Method.Delete,t)}},{key:"getLocalAliases",value:function(e){var t=_.encodeUri("/rooms/$roomId/aliases",{$roomId:e}),r=T.ClientPrefix.V3;return this.http.authedRequest(T.Method.Get,t,void 0,void 0,{prefix:r})}},{key:"getRoomIdForAlias",value:function(e){var t=_.encodeUri("/directory/room/$alias",{$alias:e});return this.http.authedRequest(T.Method.Get,t)}},{key:"resolveRoomAlias",value:function(e){var t=_.encodeUri("/directory/room/$alias",{$alias:e});return this.http.request(T.Method.Get,t)}},{key:"getRoomDirectoryVisibility",value:function(e){var t=_.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this.http.authedRequest(T.Method.Get,t)}},{key:"setRoomDirectoryVisibility",value:function(e,t){var r=_.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this.http.authedRequest(T.Method.Put,r,void 0,{visibility:t})}},{key:"setRoomDirectoryVisibilityAppService",value:function(e,t,r){var n=_.encodeUri("/directory/list/appservice/$networkId/$roomId",{$networkId:e,$roomId:t});return this.http.authedRequest(T.Method.Put,n,void 0,{visibility:r})}},{key:"searchUserDirectory",value:function(e){var t=e.term,r=e.limit,n={search_term:t};return void 0!==r&&(n.limit=r),this.http.authedRequest(T.Method.Post,"/user_directory/search",void 0,n)}},{key:"uploadContent",value:function(e,t){return this.http.uploadContent(e,t)}},{key:"cancelUpload",value:function(e){return this.http.cancelUpload(e)}},{key:"getCurrentUploads",value:function(){return this.http.getCurrentUploads()}},{key:"getProfileInfo",value:function(e,t){var r=t?_.encodeUri("/profile/$userId/$info",{$userId:e,$info:t}):_.encodeUri("/profile/$userId",{$userId:e});return this.http.authedRequest(T.Method.Get,r)}},{key:"getThreePids",value:function(){return this.http.authedRequest(T.Method.Get,"/account/3pid")}},{key:"addThreePid",value:function(e,t){var r={threePidCreds:e,bind:t};return this.http.authedRequest(T.Method.Post,"/account/3pid",void 0,r)}},{key:"addThreePidOnly",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return r="/account/3pid/add",[4,t.isVersionSupported("r0.6.0")];case 1:return n=i.sent()?T.ClientPrefix.R0:T.ClientPrefix.Unstable,[2,t.http.authedRequest(T.Method.Post,r,void 0,e,{prefix:n})]}}))}))()}},{key:"bindThreePid",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return r="/account/3pid/bind",[4,t.isVersionSupported("r0.6.0")];case 1:return n=i.sent()?T.ClientPrefix.R0:T.ClientPrefix.Unstable,[2,t.http.authedRequest(T.Method.Post,r,void 0,e,{prefix:n})]}}))}))()}},{key:"unbindThreePid",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return n="/account/3pid/unbind",i={medium:e,address:t,id_server:r.getIdentityServerUrl(!0)},[4,r.isVersionSupported("r0.6.0")];case 1:return a=o.sent()?T.ClientPrefix.R0:T.ClientPrefix.Unstable,[2,r.http.authedRequest(T.Method.Post,n,void 0,i,{prefix:a})]}}))}))()}},{key:"deleteThreePid",value:function(e,t){return this.http.authedRequest(T.Method.Post,"/account/3pid/delete",void 0,{medium:e,address:t})}},{key:"setPassword",value:function(e,t,r){var n={auth:e,new_password:t,logout_devices:r};return this.http.authedRequest(T.Method.Post,"/account/password",void 0,n)}},{key:"getDevices",value:function(){return this.http.authedRequest(T.Method.Get,"/devices")}},{key:"getDevice",value:function(e){var t=_.encodeUri("/devices/$device_id",{$device_id:e});return this.http.authedRequest(T.Method.Get,t)}},{key:"setDeviceDetails",value:function(e,t){var r=_.encodeUri("/devices/$device_id",{$device_id:e});return this.http.authedRequest(T.Method.Put,r,void 0,t)}},{key:"deleteDevice",value:function(e,t){var r=_.encodeUri("/devices/$device_id",{$device_id:e}),n={};return t&&(n.auth=t),this.http.authedRequest(T.Method.Delete,r,void 0,n)}},{key:"deleteMultipleDevices",value:function(e,t){var r={devices:e};t&&(r.auth=t);return this.http.authedRequest(T.Method.Post,"/delete_devices",void 0,r)}},{key:"getPushers",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.http.authedRequest(T.Method.Get,"/pushers")];case 1:return t=r.sent(),[4,e.doesServerSupportUnstableFeature("org.matrix.msc3881")];case 2:return r.sent()||(t.pushers=t.pushers.map((function(e){return e.hasOwnProperty(j.PUSHER_ENABLED.name)||(e[j.PUSHER_ENABLED.name]=!0),e}))),[2,t]}}))}))()}},{key:"setPusher",value:function(e){return this.http.authedRequest(T.Method.Post,"/pushers/set",void 0,e)}},{key:"setLocalNotificationSettings",value:function(e,t){var r="".concat(j.LOCAL_NOTIFICATION_SETTINGS_PREFIX.name,".").concat(e);return this.setAccountData(r,t)}},{key:"getPushRules",value:function(){return this.http.authedRequest(T.Method.Get,"/pushrules/").then((function(e){return C.PushProcessor.rewriteDefaultRules(e)}))}},{key:"addPushRule",value:function(e,t,r,n){var i=_.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:r});return this.http.authedRequest(T.Method.Put,i,void 0,n)}},{key:"deletePushRule",value:function(e,t,r){var n=_.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:r});return this.http.authedRequest(T.Method.Delete,n)}},{key:"setPushRuleEnabled",value:function(e,t,r,n){var i=_.encodeUri("/pushrules/"+e+"/$kind/$ruleId/enabled",{$kind:t,$ruleId:r});return this.http.authedRequest(T.Method.Put,i,void 0,{enabled:n})}},{key:"setPushRuleActions",value:function(e,t,r,n){var i=_.encodeUri("/pushrules/"+e+"/$kind/$ruleId/actions",{$kind:t,$ruleId:r});return this.http.authedRequest(T.Method.Put,i,void 0,{actions:n})}},{key:"search",value:function(e,t){var r=e.body,n=e.next_batch,i={};return n&&(i.next_batch=n),this.http.authedRequest(T.Method.Post,"/search",i,r,{abortSignal:t})}},{key:"uploadKeysRequest",value:function(e,t){return this.http.authedRequest(T.Method.Post,"/keys/upload",void 0,e)}},{key:"uploadKeySignatures",value:function(e){return this.http.authedRequest(T.Method.Post,"/keys/signatures/upload",void 0,e,{prefix:T.ClientPrefix.V3})}},{key:"downloadKeysForUsers",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).token,r={device_keys:{}};return void 0!==t&&(r.token=t),e.forEach((function(e){r.device_keys[e]=[]})),this.http.authedRequest(T.Method.Post,"/keys/query",void 0,r)}},{key:"claimOneTimeKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signed_curve25519",r=arguments.length>2?arguments[2]:void 0,n={};void 0===t&&(t="signed_curve25519");var i=!0,a=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=(0,u.default)(s.value,2),f=l[0],d=l[1],h=n[f]||{};n[f]=h,h[d]=t}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var v={one_time_keys:n};r&&(v.timeout=r);var p="/keys/claim";return this.http.authedRequest(T.Method.Post,p,void 0,v)}},{key:"getKeyChanges",value:function(e,t){var r={from:e,to:t};return this.http.authedRequest(T.Method.Get,"/keys/changes",r)}},{key:"uploadDeviceSigningKeys",value:function(e,t){var r=Object.assign({},t);return e&&Object.assign(r,{auth:e}),this.http.authedRequest(T.Method.Post,"/keys/device_signing/upload",void 0,r,{prefix:T.ClientPrefix.Unstable})}},{key:"registerWithIdentityServer",value:function(e){if(!this.idBaseUrl)throw new Error("No identity server base URL set");var t=this.http.getUrl("/account/register",void 0,T.IdentityPrefix.V2,this.idBaseUrl);return this.http.requestOtherUrl(T.Method.Post,t,e)}},{key:"requestEmailToken",value:function(e,t,r,n,i){var a={client_secret:t,email:e,send_attempt:null==r?void 0:r.toString(),next_link:n};return this.http.idServerRequest(T.Method.Post,"/validate/email/requestToken",a,T.IdentityPrefix.V2,i)}},{key:"requestMsisdnToken",value:function(e,t,r,n,i,a){var o={client_secret:r,country:e,phone_number:t,send_attempt:null==n?void 0:n.toString(),next_link:i};return this.http.idServerRequest(T.Method.Post,"/validate/msisdn/requestToken",o,T.IdentityPrefix.V2,a)}},{key:"submitMsisdnToken",value:function(e,t,r,n){var i={sid:e,client_secret:t,token:r};return this.http.idServerRequest(T.Method.Post,"/validate/msisdn/submitToken",i,T.IdentityPrefix.V2,n)}},{key:"submitMsisdnTokenOtherUrl",value:function(e,t,r,n){var i={sid:t,client_secret:r,token:n};return this.http.requestOtherUrl(T.Method.Post,e,i)}},{key:"getIdentityHashDetails",value:function(e){return this.http.idServerRequest(T.Method.Get,"/hash_details",void 0,T.IdentityPrefix.V2,e)}},{key:"identityHashedLookup",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,l,f,h,v,p,b,g;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return n={},[4,r.getIdentityHashDetails(t)];case 1:if(!(i=d.sent())||!i.lookup_pepper||!i.algorithms)throw new Error("Unsupported identity server: bad response");if(n.pepper=i.lookup_pepper,a={},i.algorithms.includes("sha256"))o=new $parcel$global.Olm.Utility,n.addresses=e.map((function(e){var t=e[0].toLowerCase(),r=e[1].toLowerCase(),i=o.sha256("".concat(t," ").concat(r," ").concat(n.pepper)).replace(/\+/g,"-").replace(/\//g,"_");return a[i]=e[0],i})),n.algorithm="sha256";else{if(!i.algorithms.includes("none"))throw new Error("Unsupported identity server: unknown hash algorithm");n.addresses=e.map((function(e){var t=e[0].toLowerCase(),r=e[1].toLowerCase(),n="".concat(t," ").concat(r);return a[n]=e[0],n})),n.algorithm="none"}return[4,r.http.idServerRequest(T.Method.Post,"/lookup",n,T.IdentityPrefix.V2,t)];case 2:if(null==(s=d.sent())||!s.mappings)return[2,[]];u=[],c=!0,l=!1,f=void 0;try{for(h=Object.keys(s.mappings)[Symbol.iterator]();!(c=(v=h.next()).done);c=!0){if(p=v.value,b=s.mappings[p],!(g=a[p]))throw new Error("Identity server returned more results than expected");u.push({address:g,mxid:b})}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}return[2,u]}}))}))()}},{key:"lookupThreePid",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return[4,i.identityHashedLookup([[t,e]],r)];case 1:return n=o.sent(),(a=n.find((function(e){return e.address===t})))?[2,{address:t,medium:e,mxid:a.mxid}]:[2,{}]}}))}))()}},{key:"bulkLookupThreePids",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,l,f;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return[4,r.identityHashedLookup(e.map((function(e){return[e[1],e[0]]})),t)];case 1:n=d.sent(),i=[],a=!0,o=!1,s=void 0;try{for(u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){if(l=c.value,!(f=e.find((function(e){return e[1]===l.address}))))throw new Error("Identity sever returned unexpected results");i.push([f[0],l.address,l.mxid])}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return[2,{threepids:i}]}}))}))()}},{key:"getIdentityAccount",value:function(e){return this.http.idServerRequest(T.Method.Get,"/account",void 0,T.IdentityPrefix.V2,e)}},{key:"sendToDevice",value:function(e,t,r){var n=_.encodeUri("/sendToDevice/$eventType/$txnId",{$eventType:e,$txnId:r||this.makeTxnId()}),i={messages:t},a=Object.keys(t).reduce((function(e,r){return e[r]=Object.keys(t[r]),e}),{});return M.logger.log("PUT ".concat(n),a),this.http.authedRequest(T.Method.Put,n,void 0,i)}},{key:"queueToDevice",value:function(e){return this.toDeviceMessageQueue.queueBatch(e)}},{key:"getThirdpartyProtocols",value:function(){return this.http.authedRequest(T.Method.Get,"/thirdparty/protocols").then((function(e){if(!e||"object"!=typeof e)throw new Error("/thirdparty/protocols did not return an object: ".concat(e));return e}))}},{key:"getThirdpartyLocation",value:function(e,t){var r=_.encodeUri("/thirdparty/location/$protocol",{$protocol:e});return this.http.authedRequest(T.Method.Get,r,t)}},{key:"getThirdpartyUser",value:function(e,t){var r=_.encodeUri("/thirdparty/user/$protocol",{$protocol:e});return this.http.authedRequest(T.Method.Get,r,t)}},{key:"getTerms",value:function(e,t){var r=this.termsUrlForService(e,t);return this.http.requestOtherUrl(T.Method.Get,r)}},{key:"agreeToTerms",value:function(e,t,r,n){var i=this.termsUrlForService(e,t),a={Authorization:"Bearer "+r};return this.http.requestOtherUrl(T.Method.Post,i,{user_accepts:n},{headers:a})}},{key:"reportEvent",value:function(e,t,r,n){var i=_.encodeUri("/rooms/$roomId/report/$eventId",{$roomId:e,$eventId:t});return this.http.authedRequest(T.Method.Post,i,void 0,{score:r,reason:n})}},{key:"getRoomHierarchy",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=this,o=_.encodeUri("/rooms/$roomId/hierarchy",{$roomId:e}),s={suggested_only:String(n),max_depth:null==r?void 0:r.toString(),from:i,limit:null==t?void 0:t.toString()};return this.http.authedRequest(T.Method.Get,o,s,void 0,{prefix:T.ClientPrefix.V1}).catch((function(e){if("M_UNRECOGNIZED"===e.errcode)return a.http.authedRequest(T.Method.Get,o,s,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2946"});throw e}))}},{key:"unstableCreateFileTree",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.createRoom({name:e,preset:K.Preset.PrivateChat,power_level_content_override:de(de({},z.DEFAULT_TREE_POWER_LEVELS_TEMPLATE),{},{users:(0,o.default)({},t.getUserId(),100)}),creation_content:(0,o.default)({},j.RoomCreateTypeField,j.RoomType.Space),initial_state:[{type:j.UNSTABLE_MSC3088_PURPOSE.name,state_key:j.UNSTABLE_MSC3089_TREE_SUBTYPE.name,content:(0,o.default)({},j.UNSTABLE_MSC3088_ENABLED.name,!0)},{type:j.EventType.RoomEncryption,state_key:"",content:{algorithm:E.MEGOLM_ALGORITHM}}]})];case 1:return r=i.sent(),n=r.room_id,[2,new z.MSC3089TreeSpace(t,n)]}}))}))()}},{key:"unstableGetFileTreeSpace",value:function(e){var t,r,n=this.getRoom(e);if("join"!==(null==n?void 0:n.getMyMembership()))return null;var i=n.currentState.getStateEvents(j.EventType.RoomCreate,""),a=n.currentState.getStateEvents(j.UNSTABLE_MSC3088_PURPOSE.name,j.UNSTABLE_MSC3089_TREE_SUBTYPE.name);if(!i)throw new Error("Expected single room create event");return null!=a&&null!==(t=a.getContent())&&void 0!==t&&t[j.UNSTABLE_MSC3088_ENABLED.name]?(null===(r=i.getContent())||void 0===r?void 0:r[j.RoomCreateTypeField])!==j.RoomType.Space?null:new z.MSC3089TreeSpace(this,e):null}},{key:"slidingSync",value:function(e,t,r){var n={};e.pos&&(n.pos=e.pos,delete e.pos),e.timeout&&(n.timeout=e.timeout,delete e.timeout);var i=e.clientTimeout;return delete e.clientTimeout,this.http.authedRequest(T.Method.Post,"/sync",n,e,{prefix:"/_matrix/client/unstable/org.matrix.msc3575",baseUrl:t,localTimeoutMs:i,abortSignal:r})}},{key:"supportsExperimentalThreads",value:function(){var e;return(null===(e=this.clientOpts)||void 0===e?void 0:e.experimentalThreadSupport)||!1}},{key:"getRoomSummary",value:function(e,t){var r=this;return(0,n.default)((function(){var n;return(0,d.__generator)(this,(function(i){return n=_.encodeUri("/rooms/$roomid/summary",{$roomid:e}),[2,r.http.authedRequest(T.Method.Get,n,{via:t},void 0,{prefix:"/_matrix/client/unstable/im.nheko.summary"})]}))}))()}},{key:"processThreadEvents",value:function(e,t,r){e.processThreadedEvents(t,r)}},{key:"processThreadRoots",value:function(e,t,r){e.processThreadRoots(t,r)}},{key:"processBeaconEvents",value:function(e,t){null!=t&&t.length&&e&&e.currentState.processBeaconEvents(t,this)}},{key:"whoami",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){return[2,e.http.authedRequest(T.Method.Get,"/account/whoami")]}))}))()}},{key:"timestampToEvent",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:n=_.encodeUri("/rooms/$roomId/timestamp_to_event",{$roomId:e}),a={ts:t.toString(),dir:r},s.label=1;case 1:return s.trys.push([1,3,,6]),[4,i.http.authedRequest(T.Method.Get,n,a,void 0,{prefix:T.ClientPrefix.V1})];case 2:return[2,s.sent()];case 3:return"M_UNRECOGNIZED"!==(o=s.sent()).errcode||400!==o.httpStatus&&404!==o.httpStatus&&405!==o.httpStatus?[3,5]:[4,i.http.authedRequest(T.Method.Get,n,a,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc3030"})];case 4:return[2,s.sent()];case 5:throw o;case 6:return[2]}}))}))()}}]),h}(Q.TypedEventEmitter);function Te(e,t){var r,n,i=t.getPushActions(),a=e.getPushActionsForEvent(t,!0),o=e.getRoom(t.getRoomId());if(o&&e.getUserId()){var s=!!t.threadRootId&&!t.isThreadRoot,u=o.getUnreadCountForEventContext(F.NotificationCountType.Highlight,t),c=!(null==i||null===(r=i.tweaks)||void 0===r||!r.highlight),l=!(null==a||null===(n=a.tweaks)||void 0===n||!n.highlight);if(c!==l||u>0){var f;if(s){var d=o.getThread(t.threadRootId);f=!d||d.hasUserReadEvent(e.getUserId(),t.getId())}else f=o.hasUserReadEvent(e.getUserId(),t.getId());if(!f){var h,v=u;l&&!c&&v++,!l&&c&&v--,s?o.setThreadUnreadNotificationCount(t.threadRootId,F.NotificationCountType.Highlight,v):o.setUnreadNotificationCount(F.NotificationCountType.Highlight,v),(null!==(h=s?o.getThreadUnreadNotificationCount(t.threadRootId,F.NotificationCountType.Total):o.getRoomUnreadNotificationCount(F.NotificationCountType.Total))&&void 0!==h?h:0)<v&&(s?o.setThreadUnreadNotificationCount(t.threadRootId,F.NotificationCountType.Total,v):o.setUnreadNotificationCount(F.NotificationCountType.Total,v))}}}}e.exports.MatrixClient=Ie,(0,p.default)(Ie,"RESTORE_BACKUP_ERROR_BAD_KEY","RESTORE_BACKUP_ERROR_BAD_KEY")})),parcelRequire.register("kq6l8",(function(e,t){var r=parcelRequire("iksbw");e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports})),parcelRequire.register("iksbw",(function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports})),parcelRequire.register("7NsvV",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("dVhHy"),o=parcelRequire("caN7I"),s=parcelRequire("cDTRq"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SyncState=e.exports.SyncApi=void 0,e.exports._createAndReEmitRoom=B,e.exports.defaultClientOpts=q,e.exports.defaultSyncApiOpts=L;var c=u(parcelRequire("abzte")),l=parcelRequire("5Ewnj"),f=parcelRequire("6pgXP"),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),h=parcelRequire("ge4zT"),v=parcelRequire("gFIkm"),p=parcelRequire("cldfj"),b=parcelRequire("fKX3v"),g=parcelRequire("h5yrP"),m=parcelRequire("67LLR"),$=parcelRequire("84XpH"),y=parcelRequire("axSuM"),w=parcelRequire("kDAFF"),_=parcelRequire("iUBUo"),S=parcelRequire("eDh8c"),C=parcelRequire("isqDr"),k=parcelRequire("jNzPF");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M,I;e.exports.SyncState=M,(I=M||(e.exports.SyncState=M={})).Error="ERROR",I.Prepared="PREPARED",I.Stopped="STOPPED",I.Syncing="SYNCING",I.Catchup="CATCHUP",I.Reconnecting="RECONNECTING";var T,A,O=["org.matrix.msc2716v3"];function D(e,t){return"FILTER_SYNC_".concat(e)+(t?"_"+t:"")}function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;(n=b.logger).log.apply(n,(0,o.default)(t))}function q(e){return x({initialSyncLimit:8,resolveInvitesToProfiles:!1,pollTimeout:3e4,pendingEventOrdering:m.PendingEventOrdering.Chronological,experimentalThreadSupport:!1},e)}function L(e){return x({canResetEntireTimeline:function(e){return!1}},e)}(A=T||(T={})).Offline="offline",A.Online="online",A.Unavailable="unavailable";var U=function(){function e(t,i,a){var o=this;(0,n.default)(this,e),this.client=t,(0,c.default)(this,"opts",void 0),(0,c.default)(this,"syncOpts",void 0),(0,c.default)(this,"_peekRoom",null),(0,c.default)(this,"currentSyncRequest",void 0),(0,c.default)(this,"abortController",void 0),(0,c.default)(this,"syncState",null),(0,c.default)(this,"syncStateData",void 0),(0,c.default)(this,"catchingUp",!1),(0,c.default)(this,"running",!1),(0,c.default)(this,"keepAliveTimer",void 0),(0,c.default)(this,"connectionReturnedDefer",void 0),(0,c.default)(this,"notifEvents",[]),(0,c.default)(this,"failedSyncCount",0),(0,c.default)(this,"storeIsInvalid",!1);var u=this;(0,c.default)(this,"getPushRules",(0,r.default)((function(){var e,t;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),P("Getting push rules..."),[4,u.client.getPushRules()];case 1:return e=r.sent(),P("Got push rules"),u.client.pushRules=e,[3,4];case 2:return t=r.sent(),b.logger.error("Getting push rules failed",t),u.shouldAbortSync(t)?[2]:(P("Waiting for saved sync before retrying push rules..."),[4,u.recoverFromSyncStartupError(u.savedSyncPromise,t)]);case 3:return r.sent(),[2,u.getPushRules()];case 4:return[2]}}))}))),(0,c.default)(this,"buildDefaultFilter",(function(){var e=new h.Filter(o.client.credentials.userId);return o.client.canSupport.get(k.Feature.ThreadUnreadNotifications)!==k.ServerSupport.Unsupported&&e.setUnreadThreadNotifications(!0),e}));var l=this;(0,c.default)(this,"checkLazyLoadStatus",(0,r.default)((function(){var e,t,r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return P("Checking lazy load status..."),l.opts.lazyLoadMembers&&l.client.isGuest()&&(l.opts.lazyLoadMembers=!1),l.opts.lazyLoadMembers?(P("Checking server lazy load support..."),[4,l.client.doesServerSupportLazyLoading()]):[3,2];case 1:n.sent()?(P("Enabling lazy load on sync filter..."),l.opts.filter||(l.opts.filter=l.buildDefaultFilter()),l.opts.filter.setLazyLoadMembers(!0)):(P("LL: lazy loading requested but not supported by server, so disabling"),l.opts.lazyLoadMembers=!1),n.label=2;case 2:return P("Checking whether lazy loading has changed in store..."),[4,l.wasLazyLoadingToggled(l.opts.lazyLoadMembers)];case 3:if(n.sent())return l.storeIsInvalid=!0,e=new g.InvalidStoreError(g.InvalidStoreState.ToggledLazyLoading,!!l.opts.lazyLoadMembers),l.updateSyncState(M.Error,{error:e}),b.logger.warn("InvalidStoreError: store is not usable: stopping sync."),[2];l.opts.lazyLoadMembers&&(null===(t=l.syncOpts.crypto)||void 0===t||t.enableLazyLoading()),n.label=4;case 4:return n.trys.push([4,6,,7]),P("Storing client options..."),[4,l.client.storeClientOptions()];case 5:return n.sent(),P("Stored client options"),[3,7];case 6:throw r=n.sent(),b.logger.error("Storing client options failed",r),r;case 7:return[2]}}))})));var d=this;(0,c.default)(this,"getFilter",(0,r.default)((function(){var e,t,r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:P("Getting filter..."),e=d.opts.filter?d.opts.filter:d.buildDefaultFilter(),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,d.client.getOrCreateFilter(D(d.client.credentials.userId),e)];case 2:return t=n.sent(),[3,5];case 3:return r=n.sent(),b.logger.error("Getting filter failed",r),d.shouldAbortSync(r)?[2,{}]:(P("Waiting for saved sync before retrying filter..."),[4,d.recoverFromSyncStartupError(d.savedSyncPromise,r)]);case 4:return n.sent(),[2,d.getFilter()];case 5:return[2,{filter:e,filterId:t}]}}))}))),(0,c.default)(this,"savedSyncPromise",void 0),(0,c.default)(this,"onOnline",(function(){P("Browser thinks we are back online"),o.startKeepAlives(0)})),this.opts=q(i),this.syncOpts=L(a),t.getNotifTimelineSet()&&t.reEmitter.reEmit(t.getNotifTimelineSet(),[f.RoomEvent.Timeline,f.RoomEvent.TimelineReset])}return(0,i.default)(e,[{key:"createRoom",value:function(e){var t=this,r=B(this.client,e,this.opts);return r.on(w.RoomStateEvent.Marker,(function(e,n){t.onMarkerStateEvent(r,e,n)})),r}},{key:"onMarkerStateEvent",value:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).timelineWasEmpty;if(r)b.logger.debug("MarkerState: Ignoring markerEventId=".concat(t.getId()," in roomId=").concat(e.roomId," ")+"because the timeline was empty before the marker arrived which means there is nothing to refresh.");else{var n=O.includes(e.getVersion())||t.getSender()===e.getCreator();n?(b.logger.debug("MarkerState: Timeline needs to be refreshed because "+"a new markerEventId=".concat(t.getId()," was sent in roomId=").concat(e.roomId)),e.setTimelineNeedsRefresh(!0),e.emit(f.RoomEvent.HistoryImportedWithinTimeline,t,e)):b.logger.debug("MarkerState: Ignoring markerEventId=".concat(t.getId()," in roomId=").concat(e.roomId," because ")+"MSC2716 is not supported in the room version or for any room version, the marker wasn't sent by the room creator.")}}},{key:"syncLeftRooms",value:function(){var e=this;return(0,r.default)((function(){var t,n,i,a,o,u,c,l;return(0,s.__generator)(this,(function(f){switch(f.label){case 0:return n=e.client,(i=new h.Filter(e.client.credentials.userId)).setTimelineLimit(1),i.setIncludeLeaveRooms(!0),a=e.opts.pollTimeout+8e4,[4,n.getOrCreateFilter(D(n.credentials.userId,"LEFT_ROOMS"),i)];case 1:return o=f.sent(),u={timeout:0,filter:o},[4,n.http.authedRequest($.Method.Get,"/sync",u,void 0,{localTimeoutMs:a})];case 2:return c=f.sent(),l=[],null!==(t=c.rooms)&&void 0!==t&&t.leave&&(l=e.mapSyncResponseToRoomArray(c.rooms.leave)),[4,Promise.all(l.map((d=(0,r.default)((function(t){var r,i,a;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:return r=t.room,t.isBrandNewRoom?(t.timeline=t.timeline||{prev_batch:null,events:[]},i=e.mapSyncEventsFormat(t.timeline,r),a=e.mapSyncEventsFormat(t.state,r),r.getLiveTimeline().setPaginationToken(t.timeline.prev_batch,v.EventTimeline.BACKWARDS),[4,e.injectRoomEvents(r,a,i)]):[2];case 1:return o.sent(),r.recalculate(),n.store.storeRoom(r),n.emit(m.ClientEvent.Room,r),e.processEventsForNotifs(r,i),[2,r]}}))})),function(e){return d.apply(this,arguments)})))];case 3:return[2,f.sent().filter(Boolean)]}var d}))}))()}},{key:"peek",value:function(e){var t,r=this;if((null===(t=this._peekRoom)||void 0===t?void 0:t.roomId)===e)return Promise.resolve(this._peekRoom);var n=this.client;return this._peekRoom=this.createRoom(e),this.client.roomInitialSync(e,20).then((function(e){e.messages=e.messages||{chunk:[]},e.messages.chunk=e.messages.chunk||[],e.state=e.state||[];var t=d.deepCopy(e.state).map(n.getEventMapper()),i=e.state.map(n.getEventMapper()),a=e.messages.chunk.map(n.getEventMapper());return Array.isArray(e.presence)&&e.presence.map(n.getEventMapper()).forEach((function(e){var t=n.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):((t=N(n,e.getContent().user_id)).setPresenceEvent(e),n.store.storeUser(t)),n.emit(m.ClientEvent.Event,e)})),e.messages.start&&(r._peekRoom.oldState.paginationToken=e.messages.start),r._peekRoom.oldState.setStateEvents(t),r._peekRoom.currentState.setStateEvents(i),r.resolveInvites(r._peekRoom),r._peekRoom.recalculate(),r._peekRoom.addEventsToTimeline(a.reverse(),!0,r._peekRoom.getLiveTimeline(),e.messages.start),n.store.storeRoom(r._peekRoom),n.emit(m.ClientEvent.Room,r._peekRoom),r.peekPoll(r._peekRoom),r._peekRoom}))}},{key:"stopPeeking",value:function(){this._peekRoom=null}},{key:"peekPoll",value:function(e,t){var r,n=this;this._peekRoom===e?this.client.http.authedRequest($.Method.Get,"/events",{room_id:e.roomId,timeout:String(3e4),from:t},void 0,{localTimeoutMs:5e4,abortSignal:null===(r=this.abortController)||void 0===r?void 0:r.signal}).then((function(t){if(n._peekRoom===e){t.chunk.filter((function(e){return"m.presence"===e.type})).map(n.client.getEventMapper()).forEach((function(e){var t=n.client.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):((t=N(n.client,e.getContent().user_id)).setPresenceEvent(e),n.client.store.storeUser(t)),n.client.emit(m.ClientEvent.Event,e)}));var r=t.chunk.filter((function(t){return t.room_id===e.roomId&&t.event_id})).map(n.client.getEventMapper());e.addLiveEvents(r),n.peekPoll(e,t.end)}else P("Stopped peeking in room %s",e.roomId)}),(function(r){b.logger.error("[%s] Peek poll failed: %s",e.roomId,r),setTimeout((function(){n.peekPoll(e,t)}),3e4)})):P("Stopped peeking in room %s",e.roomId)}},{key:"getSyncState",value:function(){return this.syncState}},{key:"getSyncStateData",value:function(){var e;return null!==(e=this.syncStateData)&&void 0!==e?e:null}},{key:"recoverFromSyncStartupError",value:function(e,t){var n=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return[4,e];case 1:return i.sent(),r=n.startKeepAlives(),n.updateSyncState(M.Error,{error:t}),[4,r];case 2:return i.sent(),[2]}}))}))()}},{key:"wasLazyLoadingToggled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return(0,r.default)((function(){var r,n;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return r=!1,[4,t.client.store.isNewlyCreated()];case 1:return i.sent()?[3,3]:[4,t.client.store.getClientOptions()];case 2:return(n=i.sent())&&(r=!!n.lazyLoadMembers),[2,r!==e];case 3:return[2,!1]}}))}))()}},{key:"shouldAbortSync",value:function(e){return"M_UNKNOWN_TOKEN"===e.errcode&&(b.logger.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(M.Error,{error:e}),!0)}},{key:"sync",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i,a,o,u,c,l;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return e.running=!0,e.abortController=new AbortController,null===(t=$parcel$global.window)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"online",e.onOnline,!1),e.client.isGuest()?[2,e.doSync({})]:(P("Getting saved sync token..."),n=e.client.store.getSavedSyncToken().then((function(e){return P("Got saved sync token"),e})),e.savedSyncPromise=e.client.store.getSavedSync().then((function(t){if(P("Got reply from saved sync, exists? ".concat(!!t)),t)return e.syncFromCache(t)})).catch((function(e){b.logger.error("Getting saved sync failed",e)})),[4,e.getPushRules()]);case 1:return s.sent(),[4,e.checkLazyLoadStatus()];case 2:return s.sent(),[4,e.getFilter()];case 3:return i=s.sent(),a=i.filterId,(o=i.filter)?(e.client.resetNotifTimelineSet(),e.currentSyncRequest?[3,5]:(u=a,[4,n])):[2];case 4:(c=s.sent())?P("Sending first sync request..."):(P("Sending initial sync request..."),(l=e.buildDefaultFilter()).setDefinition(o.getDefinition()),l.setTimelineLimit(e.opts.initialSyncLimit),u=JSON.stringify(l.getDefinition())),e.currentSyncRequest=e.doSyncRequest({filter:u},c),s.label=5;case 5:return P("Waiting for saved sync before starting sync processing..."),[4,e.savedSyncPromise];case 6:return s.sent(),[2,e.doSync({filter:a})]}}))}))()}},{key:"stop",value:function(){var e,t,r;P("SyncApi.stop"),null===(e=$parcel$global.window)||void 0===e||null===(t=e.removeEventListener)||void 0===t||t.call(e,"online",this.onOnline,!1),this.running=!1,null===(r=this.abortController)||void 0===r||r.abort(),this.keepAliveTimer&&(clearTimeout(this.keepAliveTimer),this.keepAliveTimer=void 0)}},{key:"retryImmediately",value:function(){return!!this.connectionReturnedDefer&&(this.startKeepAlives(0),!0)}},{key:"syncFromCache",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:P("sync(): not doing HTTP hit, instead returning stored /sync data"),r=e.nextBatch,t.client.store.setSyncToken(r),n={nextSyncToken:r,catchingUp:!1,fromCache:!0},i={next_batch:r,rooms:e.roomsData,account_data:{events:e.accountData}},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.processSyncResponse(n,i)];case 2:return o.sent(),[3,4];case 3:return a=o.sent(),b.logger.error("Error processing cached sync",a),[3,4];case 4:return t.storeIsInvalid||t.updateSyncState(M.Prepared,n),[2]}}))}))()}},{key:"doSync",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,o;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(!t.running)return[3,18];r=t.client.store.getSyncToken(),s.label=1;case 1:return s.trys.push([1,3,5,6]),t.currentSyncRequest||(t.currentSyncRequest=t.doSyncRequest(e,r)),[4,t.currentSyncRequest];case 2:return n=s.sent(),[3,6];case 3:return i=s.sent(),[4,t.onSyncError(i)];case 4:return s.sent()?[2]:[3,0];case 5:return t.currentSyncRequest=void 0,[7];case 6:return t.client.store.setSyncToken(n.next_batch),t.failedSyncCount=0,[4,t.client.store.setSyncData(n)];case 7:return s.sent(),a={oldSyncToken:null!=r?r:void 0,nextSyncToken:n.next_batch,catchingUp:t.catchingUp},t.syncOpts.crypto?[4,t.syncOpts.crypto.onSyncWillProcess(a)]:[3,9];case 8:s.sent(),s.label=9;case 9:return s.trys.push([9,11,,12]),[4,t.processSyncResponse(a,n)];case 10:return s.sent(),[3,12];case 11:return o=s.sent(),b.logger.error("Caught /sync error",o),t.client.emit(m.ClientEvent.SyncUnexpectedError,o),[3,12];case 12:return a.catchingUp=t.catchingUp,e.hasSyncedBefore||(t.updateSyncState(M.Prepared,a),e.hasSyncedBefore=!0),t.syncOpts.cryptoCallbacks?[4,t.syncOpts.cryptoCallbacks.onSyncCompleted(a)]:[3,14];case 13:s.sent(),s.label=14;case 14:return t.updateSyncState(M.Syncing,a),t.client.store.wantsSave()?t.syncOpts.crypto?[4,t.syncOpts.crypto.saveDeviceList(0)]:[3,16]:[3,17];case 15:s.sent(),s.label=16;case 16:t.client.store.save(),s.label=17;case 17:return[3,0];case 18:return t.running||(P("Sync no longer running: exiting."),t.connectionReturnedDefer&&(t.connectionReturnedDefer.reject(),t.connectionReturnedDefer=void 0),t.updateSyncState(M.Stopped)),[2]}}))}))()}},{key:"doSyncRequest",value:function(e,t){var r,n=this.getSyncParams(e,t);return this.client.http.authedRequest($.Method.Get,"/sync",n,void 0,{localTimeoutMs:n.timeout+8e4,abortSignal:null===(r=this.abortController)||void 0===r?void 0:r.signal})}},{key:"getSyncParams",value:function(e,t){var r=this.opts.pollTimeout;(this.getSyncState()!==M.Syncing||this.catchingUp)&&(this.catchingUp=!0,r=0);var n=e.filter;this.client.isGuest()&&!n&&(n=this.getGuestFilter());var i={filter:n,timeout:r};return this.opts.disablePresence&&(i.set_presence=T.Offline),t?i.since=t:i._cacheBuster=Date.now(),[M.Reconnecting,M.Error].includes(this.getSyncState())&&(i.timeout=0),i}},{key:"onSyncError",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return t.running?(b.logger.error("/sync error %s",e),t.shouldAbortSync(e)?[2,!0]:(t.failedSyncCount++,b.logger.log("Number of consecutive failed sync requests:",t.failedSyncCount),P("Starting keep-alive"),r=t.startKeepAlives(),t.currentSyncRequest=void 0,t.updateSyncState(t.failedSyncCount>=3?M.Error:M.Reconnecting,{error:e}),[4,r])):(P("Sync no longer running: exiting"),t.connectionReturnedDefer&&(t.connectionReturnedDefer.reject(),t.connectionReturnedDefer=void 0),t.updateSyncState(M.Stopped),[2,!0]);case 1:return n.sent()&&t.getSyncState()===M.Error&&t.updateSyncState(M.Catchup,{catchingUp:!0}),[2,!1]}}))}))()}},{key:"processSyncResponse",value:function(e,t){var n=this;return(0,r.default)((function(){var i,o,u,c,l,h,g,$,w,_,S,k;return(0,s.__generator)(this,(function(E){switch(E.label){case 0:return u=n.client,Array.isArray(null===(i=t.presence)||void 0===i?void 0:i.events)&&t.presence.events.map(u.getEventMapper()).forEach((function(e){var t=u.store.getUser(e.getSender());t?t.setPresenceEvent(e):((t=N(u,e.getSender())).setPresenceEvent(e),u.store.storeUser(t)),u.emit(m.ClientEvent.Event,e)})),Array.isArray(null===(o=t.account_data)||void 0===o?void 0:o.events)&&(c=t.account_data.events.map(u.getEventMapper()),l=c.reduce((function(e,t){return e[t.getType()]=u.store.getAccountData(t.getType()),e}),{}),u.store.storeAccountDataEvents(c),c.forEach((function(e){if(e.getType()===y.EventType.PushRules){var t=e.getContent();u.pushRules=p.PushProcessor.rewriteDefaultRules(t)}var r=l[e.getType()];return u.emit(m.ClientEvent.AccountData,e,r),e}))),t.to_device&&Array.isArray(t.to_device.events)&&t.to_device.events.length>0?(h=t.to_device.events,n.syncOpts.cryptoCallbacks?[4,n.syncOpts.cryptoCallbacks.preprocessToDeviceMessages(h)]:[3,2]):[3,3];case 1:h=E.sent(),E.label=2;case 2:return g=[],h.map(u.getEventMapper({toDevice:!0})).map((function(e){if("m.key.verification.cancel"===e.getType()){var t=e.getContent().transaction_id;t&&g.push(t)}return e})).forEach((function(e){var t=e.getContent();if("m.room.message"!=e.getType()||"m.bad.encrypted"!=t.msgtype){if("m.key.verification.start"===e.getType()||"m.key.verification.request"===e.getType()){var r=t.transaction_id;g.includes(r)&&e.flagCancelled()}u.emit(m.ClientEvent.ToDeviceEvent,e)}else b.logger.log("Ignoring undecryptable to-device event from "+e.getSender())})),[3,4];case 3:n.catchingUp=!1,E.label=4;case 4:return $=[],w=[],_=[],t.rooms&&(t.rooms.invite&&($=n.mapSyncResponseToRoomArray(t.rooms.invite)),t.rooms.join&&(w=n.mapSyncResponseToRoomArray(t.rooms.join)),t.rooms.leave&&(_=n.mapSyncResponseToRoomArray(t.rooms.leave))),n.notifEvents=[],[4,d.promiseMapSeries($,(R=(0,r.default)((function(e){var t,r,i,a,o,c,l,f,d,h,v,p;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return r=e.room,i=n.mapSyncEventsFormat(e.invite_state,r),[4,n.injectRoomEvents(r,i)];case 1:return s.sent(),a=null===(t=r.currentState.getStateEvents(y.EventType.RoomMember,u.getUserId()))||void 0===t?void 0:t.getSender(),u.isCryptoEnabled()?[4,u.crypto.cryptoStore.takeParkedSharedHistory(r.roomId)]:[3,10];case 2:o=s.sent(),c=!0,l=!1,f=void 0,s.label=3;case 3:s.trys.push([3,8,9,10]),d=o[Symbol.iterator](),s.label=4;case 4:return(c=(h=d.next()).done)?[3,7]:(v=h.value).senderId!==a?[3,6]:[4,u.crypto.olmDevice.addInboundGroupSession(r.roomId,v.senderKey,v.forwardingCurve25519KeyChain,v.sessionId,v.sessionKey,v.keysClaimed,!0,{sharedHistory:!0,untrusted:!0})];case 5:s.sent(),s.label=6;case 6:return c=!0,[3,4];case 7:return[3,10];case 8:return p=s.sent(),l=!0,f=p,[3,10];case 9:try{c||null==d.return||d.return()}finally{if(l)throw f}return[7];case 10:return e.isBrandNewRoom?(r.recalculate(),u.store.storeRoom(r),u.emit(m.ClientEvent.Room,r)):r.recalculate(),i.forEach((function(e){u.emit(m.ClientEvent.Event,e)})),[2]}}))})),function(e){return R.apply(this,arguments)}))];case 5:return E.sent(),[4,d.promiseMapSeries(w,function(){var t=(0,r.default)((function(t){var r,i,o,c,l,d,h,p,g,$,w,_,S,k,E,R,x,M,I,T,A,O,D,q,L,U,N,B,F,j,K,H,W,V;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(i=t.room,o=n.mapSyncEventsFormat(t.state,i),c=n.mapSyncEventsFormat(t.timeline,i,!1),l=n.mapSyncEventsFormat(t.ephemeral),d=n.mapSyncEventsFormat(t.account_data),h=u.isRoomEncrypted(i.roomId),t.unread_notifications&&(i.setUnreadNotificationCount(f.NotificationCountType.Total,null!==(p=t.unread_notifications.notification_count)&&void 0!==p?p:0),(!h||i.getUnreadNotificationCount(f.NotificationCountType.Highlight)<=0)&&i.setUnreadNotificationCount(f.NotificationCountType.Highlight,null!==(g=t.unread_notifications.highlight_count)&&void 0!==g?g:0)),$=null!==(r=t[C.UNREAD_THREAD_NOTIFICATIONS.name])&&void 0!==r?r:t[C.UNREAD_THREAD_NOTIFICATIONS.altName]){i.resetThreadUnreadNotificationCount(Object.keys($)),w=!0,_=!1,S=void 0;try{for(k=Object.entries($)[Symbol.iterator]();!(w=(E=k.next()).done);w=!0)R=(0,a.default)(E.value,2),x=R[0],M=R[1],i.setThreadUnreadNotificationCount(x,f.NotificationCountType.Total,null!==(I=M.notification_count)&&void 0!==I?I:0),T=i.getThreadUnreadNotificationCount(x,f.NotificationCountType.Highlight)<=0,(!h||h&&T)&&i.setThreadUnreadNotificationCount(x,f.NotificationCountType.Highlight,null!==(A=M.highlight_count)&&void 0!==A?A:0)}catch(e){_=!0,S=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw S}}}else i.resetThreadUnreadNotificationCount();if(t.timeline=t.timeline||{},t.isBrandNewRoom)null!==t.timeline.prev_batch&&i.getLiveTimeline().setPaginationToken(t.timeline.prev_batch,v.EventTimeline.BACKWARDS);else if(t.timeline.limited){for(O=!0,D=c.length-1;D>=0;D--)if(q=c[D].getId(),i.getTimelineForEvent(q)){P("Already have event ".concat(q," in limited sync - not resetting")),O=!1,c.splice(0,D);break}O&&(i.resetLiveTimeline(t.timeline.prev_batch,n.syncOpts.canResetEntireTimeline(i.roomId)?null:null!==(L=e.oldSyncToken)&&void 0!==L?L:null),u.resetNotifTimelineSet())}if(!n.syncOpts.crypto)return[3,8];U=!0,N=!1,B=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),F=o.concat(c)[Symbol.iterator](),s.label=2;case 2:return(U=(j=F.next()).done)?[3,5]:(K=j.value).isState()&&K.getType()===y.EventType.RoomEncryption&&""===K.getStateKey()?[4,n.syncOpts.crypto.onCryptoEvent(i,K)]:[3,4];case 3:s.sent(),s.label=4;case 4:return U=!0,[3,2];case 5:return[3,8];case 6:return H=s.sent(),N=!0,B=H,[3,8];case 7:try{U||null==F.return||F.return()}finally{if(N)throw B}return[7];case 8:return s.trys.push([8,10,,11]),[4,n.injectRoomEvents(i,o,c,e.fromCache)];case 9:return s.sent(),[3,11];case 10:return W=s.sent(),b.logger.error("Failed to process events on room ".concat(i.roomId,":"),W),[3,11];case 11:return t.summary&&i.setSummary(t.summary),i.addEphemeralEvents(l),i.addAccountData(d),i.recalculate(),t.isBrandNewRoom&&(u.store.storeRoom(i),u.emit(m.ClientEvent.Room,i)),n.processEventsForNotifs(i,c),V=function(e){return u.emit(m.ClientEvent.Event,e)},o.forEach(V),c.forEach(V),l.forEach(V),d.forEach(V),i.decryptCriticalEvents(),[2]}}))}));return function(e){return t.apply(this,arguments)}}())];case 6:return E.sent(),[4,d.promiseMapSeries(_,function(){var e=(0,r.default)((function(e){var t,r,i,a;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:return t=e.room,r=n.mapSyncEventsFormat(e.state,t),i=n.mapSyncEventsFormat(e.timeline,t),a=n.mapSyncEventsFormat(e.account_data),[4,n.injectRoomEvents(t,r,i)];case 1:return o.sent(),t.addAccountData(a),t.recalculate(),e.isBrandNewRoom&&(u.store.storeRoom(t),u.emit(m.ClientEvent.Room,t)),n.processEventsForNotifs(t,i),r.forEach((function(e){u.emit(m.ClientEvent.Event,e)})),i.forEach((function(e){u.emit(m.ClientEvent.Event,e)})),a.forEach((function(e){u.emit(m.ClientEvent.Event,e)})),[2]}}))}));return function(t){return e.apply(this,arguments)}}())];case 7:return E.sent(),e.oldSyncToken&&n.notifEvents.length&&(n.notifEvents.sort((function(e,t){return e.getTs()-t.getTs()})),n.notifEvents.forEach((function(e){var t;null===(t=u.getNotifTimelineSet())||void 0===t||t.addLiveEvent(e)}))),t.device_lists&&n.syncOpts.crypto?[4,n.syncOpts.crypto.handleDeviceListChanges(e,t.device_lists)]:[3,9];case 8:E.sent(),E.label=9;case 9:return n.syncOpts.crypto&&t.device_one_time_keys_count&&(S=t.device_one_time_keys_count.signed_curve25519||0,n.syncOpts.crypto.updateOneTimeKeyCount(S)),n.syncOpts.crypto&&(t.device_unused_fallback_key_types||t["org.matrix.msc2732.device_unused_fallback_key_types"])&&(k=t.device_unused_fallback_key_types||t["org.matrix.msc2732.device_unused_fallback_key_types"],n.syncOpts.crypto.setNeedsNewFallback(Array.isArray(k)&&!k.includes("signed_curve25519"))),[2]}var R}))}))()}},{key:"startKeepAlives",value:function(e){return void 0===e&&(e=2e3+Math.floor(5e3*Math.random())),null!==this.keepAliveTimer&&clearTimeout(this.keepAliveTimer),e>0?this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this),e):this.pokeKeepAlive(),this.connectionReturnedDefer||(this.connectionReturnedDefer=d.defer()),this.connectionReturnedDefer.promise}},{key:"pokeKeepAlive",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this,n=function(){clearTimeout(r.keepAliveTimer),r.connectionReturnedDefer&&(r.connectionReturnedDefer.resolve(t),r.connectionReturnedDefer=void 0)};this.client.http.request($.Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15e3,abortSignal:null===(e=this.abortController)||void 0===e?void 0:e.signal}).then((function(){n()}),(function(e){400==e.httpStatus||404==e.httpStatus?r.keepAliveTimer=setTimeout(n,2e3):(t=!0,r.keepAliveTimer=setTimeout(r.pokeKeepAlive.bind(r,t),5e3+Math.floor(5e3*Math.random())),r.updateSyncState(M.Error,{error:e}))}))}},{key:"mapSyncResponseToRoomArray",value:function(e){var t=this,r=this.client;return Object.keys(e).map((function(n){var i=e[n],a=r.store.getRoom(n),o=!1;return a||(a=t.createRoom(n),o=!0),i.room=a,i.isBrandNewRoom=o,i}))}},{key:"mapSyncEventsFormat",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!Array.isArray(e.events))return[];var n=this.client.getEventMapper({decrypt:r});return e.events.map((function(e){return t&&(e.room_id=t.roomId),n(e)}))}},{key:"resolveInvites",value:function(e){if(e&&this.opts.resolveInvitesToProfiles){var t=this.client;e.getMembersWithMembership("invite").forEach((function(r){if(!r.requestedProfileInfo){r.requestedProfileInfo=!0;var n=t.getUser(r.userId);(n?Promise.resolve({avatar_url:n.avatarUrl,displayname:n.displayName}):t.getProfileInfo(r.userId)).then((function(t){var n=r.events.member;"invite"===(null==n?void 0:n.getContent().membership)&&(n.getContent().avatar_url=t.avatar_url,n.getContent().displayname=t.displayname,r.setMembershipEvent(n,e.currentState))}),(function(e){}))}}))}}},{key:"injectRoomEvents",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this;return(0,r.default)((function(){var r,o,u,c,l,f,d,h;return(0,s.__generator)(this,(function(s){if(r=e.getLiveTimeline(),o=0==r.getEvents().length){u=!0,c=!1,l=void 0;try{for(f=t[Symbol.iterator]();!(u=(d=f.next()).done);u=!0)h=d.value,a.client.getPushActionsForEvent(h)}catch(e){c=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}r.initialiseState(t,{timelineWasEmpty:o})}return a.resolveInvites(e),e.recalculate(),o||(e.oldState.setStateEvents(t||[]),e.currentState.setStateEvents(t||[])),e.addLiveEvents(n||[],{fromCache:i,timelineWasEmpty:o}),a.client.processBeaconEvents(e,n),[2]}))}))()}},{key:"processEventsForNotifs",value:function(e,t){var r=!0,n=!1,i=void 0;if(this.client.getNotifTimelineSet())try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s,u=a.value,c=this.client.getPushActionsForEvent(u);null!=c&&c.notify&&null!==(s=c.tweaks)&&void 0!==s&&s.highlight&&this.notifEvents.push(u)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"getGuestFilter",value:function(){return"{}"}},{key:"updateSyncState",value:function(e,t){var r=this.syncState;this.syncState=e,this.syncStateData=t,this.client.emit(m.ClientEvent.Sync,this.syncState,r,t)}}]),e}();function N(e,t){var r=new l.User(t);return e.reEmitter.reEmit(r,[l.UserEvent.AvatarUrl,l.UserEvent.DisplayName,l.UserEvent.Presence,l.UserEvent.CurrentlyActive,l.UserEvent.LastPresenceTs]),r}function B(e,t,r){var n=e.timelineSupport,i=new f.Room(t,e,e.getUserId(),{lazyLoadMembers:r.lazyLoadMembers,pendingEventOrdering:r.pendingEventOrdering,timelineSupport:n});return e.reEmitter.reEmit(i,[f.RoomEvent.Name,f.RoomEvent.Redaction,f.RoomEvent.RedactionCancelled,f.RoomEvent.Receipt,f.RoomEvent.Tags,f.RoomEvent.LocalEchoUpdated,f.RoomEvent.AccountData,f.RoomEvent.MyMembership,f.RoomEvent.Timeline,f.RoomEvent.TimelineReset,w.RoomStateEvent.Events,w.RoomStateEvent.Members,w.RoomStateEvent.NewMember,w.RoomStateEvent.Update,S.BeaconEvent.New,S.BeaconEvent.Update,S.BeaconEvent.Destroy,S.BeaconEvent.LivenessChange]),i.on(w.RoomStateEvent.NewMember,(function(t,r,n){var i;n.user=null!==(i=e.getUser(n.userId))&&void 0!==i?i:void 0,e.reEmitter.reEmit(n,[_.RoomMemberEvent.Name,_.RoomMemberEvent.Typing,_.RoomMemberEvent.PowerLevel,_.RoomMemberEvent.Membership])})),i}e.exports.SyncApi=U})),parcelRequire.register("6pgXP",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("dVhHy"),c=parcelRequire("caN7I"),l=parcelRequire("8rJSp"),f=parcelRequire("cDTRq"),d=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RoomNameType=e.exports.RoomEvent=e.exports.Room=e.exports.NotificationCountType=e.exports.KNOWN_SAFE_ROOM_VERSION=void 0;var h=d(parcelRequire("abzte")),v=parcelRequire("kbPXZ"),p=parcelRequire("gFIkm"),b=parcelRequire("dSypD"),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=D(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),m=parcelRequire("dlOEf"),$=parcelRequire("3QO6G"),y=parcelRequire("iUBUo"),w=parcelRequire("qUWv2"),_=parcelRequire("fKX3v"),S=parcelRequire("5FD7J"),C=parcelRequire("axSuM"),k=parcelRequire("67LLR"),E=parcelRequire("ge4zT"),R=parcelRequire("kDAFF"),x=parcelRequire("eDh8c"),M=parcelRequire("gPIgD"),I=parcelRequire("kFcT2"),T=parcelRequire("aYDSN"),A=parcelRequire("e6IaQ"),O=parcelRequire("jNzPF");function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(D=function(e){return e?r:t})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.exports.KNOWN_SAFE_ROOM_VERSION="9";var L,U,N,B,F=["1","2","3","4","5","6","7","8","9"];e.exports.NotificationCountType=L,(U=L||(e.exports.NotificationCountType=L={})).Highlight="highlight",U.Total="total",e.exports.RoomEvent=N,(B=N||(e.exports.RoomEvent=N={})).MyMembership="Room.myMembership",B.Tags="Room.tags",B.AccountData="Room.accountData",B.Receipt="Room.receipt",B.Name="Room.name",B.Redaction="Room.redaction",B.RedactionCancelled="Room.redactionCancelled",B.LocalEchoUpdated="Room.localEchoUpdated",B.Timeline="Room.timeline",B.TimelineReset="Room.timelineReset",B.TimelineRefresh="Room.TimelineRefresh",B.OldStateUpdated="Room.OldStateUpdated",B.CurrentStateUpdated="Room.CurrentStateUpdated",B.HistoryImportedWithinTimeline="Room.historyImportedWithinTimeline",B.UnreadNotifications="Room.UnreadNotifications";var j,K=function(e){(0,s.default)(d,e);var t=(0,l.default)(d);function d(e,a,o){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.default)(this,d),(s=t.call(this)).roomId=e,s.client=a,s.myUserId=o,s.opts=u,(0,h.default)((0,r.default)(s),"reEmitter",void 0),(0,h.default)((0,r.default)(s),"txnToEvent",{}),(0,h.default)((0,r.default)(s),"notificationCounts",{}),(0,h.default)((0,r.default)(s),"threadNotifications",new Map),(0,h.default)((0,r.default)(s),"cachedThreadReadReceipts",new Map),(0,h.default)((0,r.default)(s),"oldestThreadedReceiptTs",1/0),(0,h.default)((0,r.default)(s),"unthreadedReceipts",new Map),(0,h.default)((0,r.default)(s),"timelineSets",void 0),(0,h.default)((0,r.default)(s),"threadsTimelineSets",[]),(0,h.default)((0,r.default)(s),"filteredTimelineSets",{}),(0,h.default)((0,r.default)(s),"timelineNeedsRefresh",!1),(0,h.default)((0,r.default)(s),"pendingEventList",void 0),(0,h.default)((0,r.default)(s),"blacklistUnverifiedDevices",void 0),(0,h.default)((0,r.default)(s),"selfMembership",void 0),(0,h.default)((0,r.default)(s),"summaryHeroes",null),(0,h.default)((0,r.default)(s),"getTypeWarning",!1),(0,h.default)((0,r.default)(s),"getVersionWarning",!1),(0,h.default)((0,r.default)(s),"membersPromise",void 0),(0,h.default)((0,r.default)(s),"name",void 0),(0,h.default)((0,r.default)(s),"normalizedName",void 0),(0,h.default)((0,r.default)(s),"tags",{}),(0,h.default)((0,r.default)(s),"accountData",{}),(0,h.default)((0,r.default)(s),"summary",null),(0,h.default)((0,r.default)(s),"timeline",void 0),(0,h.default)((0,r.default)(s),"oldState",void 0),(0,h.default)((0,r.default)(s),"currentState",void 0),(0,h.default)((0,r.default)(s),"relations",new T.RelationsContainer(s.client,(0,r.default)(s))),(0,h.default)((0,r.default)(s),"threads",new Map),(0,h.default)((0,r.default)(s),"lastThread",void 0),(0,h.default)((0,r.default)(s),"visibilityEvents",new Map),(0,h.default)((0,r.default)(s),"threadTimelineSetsPromise",null),(0,h.default)((0,r.default)(s),"threadsReady",!1),(0,h.default)((0,r.default)(s),"updateThreadRootEvents",(function(e,t,r){var n,i;e.length&&(s.updateThreadRootEvent(null===(n=s.threadsTimelineSets)||void 0===n?void 0:n[0],e,t,r),e.hasCurrentUserParticipated&&s.updateThreadRootEvent(null===(i=s.threadsTimelineSets)||void 0===i?void 0:i[1],e,t,r))})),(0,h.default)((0,r.default)(s),"updateThreadRootEvent",(function(e,t,r,n){e&&t.rootEvent&&(n&&e.removeEvent(t.id),M.Thread.hasServerSideSupport?e.addLiveEvent(t.rootEvent,{duplicateStrategy:v.DuplicateStrategy.Replace,fromCache:!1,roomState:s.currentState}):e.addEventToTimeline(t.rootEvent,e.getLiveTimeline(),{toStartOfTimeline:r}))})),(0,h.default)((0,r.default)(s),"applyRedaction",(function(e){if(e.isRedaction()){var t=e.event.redacts,n=t?s.findEventById(t):void 0;if(n){if(n.makeRedacted(e),n.isState()){var i=s.currentState.getStateEvents(n.getType(),n.getStateKey());(null==i?void 0:i.getId())===n.getId()&&s.currentState.setStateEvents([n])}s.emit(N.Redaction,e,(0,r.default)(s)),s.visibilityEvents.delete(t),n.isVisibilityEvent()&&s.redactVisibilityChangeEvent(e)}}})),s.setMaxListeners(100),s.reEmitter=new S.TypedReEmitter((0,r.default)(s)),u.pendingEventOrdering=u.pendingEventOrdering||k.PendingEventOrdering.Chronological,s.name=e,s.normalizedName=e,s.timelineSets=[new v.EventTimelineSet((0,r.default)(s),u)],s.reEmitter.reEmit(s.getUnfilteredTimelineSet(),[N.Timeline,N.TimelineReset]),s.fixUpLegacyTimelineFields(),s.opts.pendingEventOrdering===k.PendingEventOrdering.Detached&&(s.pendingEventList=[],s.client.store.getPendingEvents(s.roomId).then((function(e){var t,i=s.client.getEventMapper({toDevice:!1,decrypt:!1}),o=(0,r.default)(s);e.forEach((t=(0,n.default)((function(e){var t;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return t=i(e),[4,a.decryptEventIfNeeded(t)];case 1:return r.sent(),t.setStatus($.EventStatus.NOT_SENT),o.addPendingEvent(t,t.getTxnId()),[2]}}))})),function(e){return t.apply(this,arguments)}))}))),s.opts.lazyLoadMembers?s.membersPromise=void 0:s.membersPromise=Promise.resolve(!1),s}return(0,a.default)(d,[{key:"createThreadsTimelineSets",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:if(e.threadTimelineSetsPromise)return[2,e.threadTimelineSetsPromise];if(null===(t=e.client)||void 0===t||!t.supportsExperimentalThreads())return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),e.threadTimelineSetsPromise=Promise.all([e.createThreadTimelineSet(),e.createThreadTimelineSet(M.ThreadFilterType.My)]),[4,e.threadTimelineSetsPromise];case 2:return n=i.sent(),(r=e.threadsTimelineSets).push.apply(r,(0,c.default)(n)),[2,n];case 3:return i.sent(),e.threadTimelineSetsPromise=null,[2,null];case 4:return[2,null]}}))}))()}},{key:"decryptCriticalEvents",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i;return(0,f.__generator)(this,(function(a){switch(a.label){case 0:return e.client.isCryptoEnabled()?(t=e.getEventReadUpTo(e.client.getUserId(),!0),r=e.getLiveTimeline().getEvents(),n=r.findIndex((function(e){return e.event.event_id===t})),i=r.slice(n).reverse().map((function(t){return e.client.decryptEventIfNeeded(t,{isRetry:!0})})),[4,Promise.allSettled(i)]):[2];case 1:return a.sent(),[2]}}))}))()}},{key:"decryptAllEvents",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return e.client.isCryptoEnabled()?(t=e.getUnfilteredTimelineSet().getLiveTimeline().getEvents().slice(0).reverse().map((function(t){return e.client.decryptEventIfNeeded(t,{isRetry:!0})})),[4,Promise.allSettled(t)]):[2];case 1:return r.sent(),[2]}}))}))()}},{key:"getCreator",value:function(){var e,t=this.currentState.getStateEvents(C.EventType.RoomCreate,"");return null!==(e=null==t?void 0:t.getContent().creator)&&void 0!==e?e:null}},{key:"getVersion",value:function(){var e,t=this.currentState.getStateEvents(C.EventType.RoomCreate,"");return t?null!==(e=t.getContent().room_version)&&void 0!==e?e:"1":(this.getVersionWarning||(_.logger.warn("[getVersion] Room "+this.roomId+" does not have an m.room.create event"),this.getVersionWarning=!0),"1")}},{key:"shouldUpgradeToVersion",value:function(){return F.includes(this.getVersion())?null:"9"}},{key:"getRecommendedVersion",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,u,c,l;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return[4,e.client.getCapabilities()];case 1:if(t=f.sent(),!(r=t["m.room_versions"])){r={default:"9",available:{}},n=!0,i=!1,a=void 0;try{for(o=F[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)u=s.value,r.available[u]=k.RoomVersionStability.Stable}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}return(c=e.checkVersionAgainstCapability(r)).urgent&&c.needsUpgrade?(_.logger.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about."),[4,e.client.getCapabilities(!0)]):[3,3];case 2:if(l=f.sent(),!(r=l["m.room_versions"]))return _.logger.warn("No room version capability - assuming upgrade required."),[2,c];c=e.checkVersionAgainstCapability(r),f.label=3;case 3:return[2,c]}}))}))()}},{key:"checkVersionAgainstCapability",value:function(e){var t=this.getVersion();_.logger.log("[".concat(this.roomId,"] Current version: ").concat(t)),_.logger.log("[".concat(this.roomId,"] Version capability: "),e);var r={version:t,needsUpgrade:!1,urgent:!1};return t===e.default||Object.keys(e.available).filter((function(t){return"stable"===e.available[t]})).includes(t)||(r.version=e.default,r.needsUpgrade=!0,r.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),r.urgent?_.logger.warn("URGENT upgrade required on ".concat(this.roomId)):_.logger.warn("Non-urgent upgrade required on ".concat(this.roomId))),r}},{key:"userMayUpgradeRoom",value:function(e){return this.currentState.maySendStateEvent(C.EventType.RoomTombstone,e)}},{key:"getPendingEvents",value:function(){if(!this.pendingEventList)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this.opts.pendingEventOrdering);return this.pendingEventList}},{key:"removePendingEvent",value:function(e){if(!this.pendingEventList)throw new Error("Cannot call removePendingEvent with pendingEventOrdering == "+this.opts.pendingEventOrdering);var t=g.removeElement(this.pendingEventList,(function(t){return t.getId()==e}),!1);return this.savePendingEvents(),t}},{key:"hasPendingEvent",value:function(e){var t,r;return null!==(t=null===(r=this.pendingEventList)||void 0===r?void 0:r.some((function(t){return t.getId()===e})))&&void 0!==t&&t}},{key:"getPendingEvent",value:function(e){var t,r;return null!==(t=null===(r=this.pendingEventList)||void 0===r?void 0:r.find((function(t){return t.getId()===e})))&&void 0!==t?t:null}},{key:"getLiveTimeline",value:function(){return this.getUnfilteredTimelineSet().getLiveTimeline()}},{key:"getLastActiveTimestamp",value:function(){var e=this.getLiveTimeline().getEvents();return e.length?e[e.length-1].getTs():Number.MIN_SAFE_INTEGER}},{key:"getMyMembership",value:function(){var e;return null!==(e=this.selfMembership)&&void 0!==e?e:"leave"}},{key:"getDMInviter",value:function(){var e,t=this.getMember(this.myUserId);if(t)return t.getDMInviter();if("invite"===this.selfMembership&&2===this.getInvitedAndJoinedMemberCount())return null===(e=this.summaryHeroes)||void 0===e?void 0:e[0]}},{key:"guessDMUserId",value:function(){var e=this,t=this.getMember(this.myUserId);if(t){var r=t.getDMInviter();if(r)return r}if(Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length)return this.summaryHeroes[0];var n=this.currentState.getMembers().find((function(t){return t.userId!==e.myUserId}));return n?n.userId:this.myUserId}},{key:"getAvatarFallbackMember",value:function(){var e=this;if(!(this.getInvitedAndJoinedMemberCount()>2)){var t=Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length;if(t){var r=this.summaryHeroes.map((function(t){return e.getMember(t)})).find((function(e){return!!e}));if(r)return r}var n=this.currentState.getMembers();if(n.length<=2){var i=n.find((function(t){return t.userId!==e.myUserId}));if(i)return i}if(t){var a=this.summaryHeroes.map((function(t){return e.client.getUser(t)})).find((function(e){return!!e}));if(a){var o=new y.RoomMember(this.roomId,a.userId);return o.user=a,o}}}}},{key:"updateMyMembership",value:function(e){var t=this.selfMembership;this.selfMembership=e,t!==e&&("leave"===e&&this.cleanupAfterLeaving(),this.emit(N.MyMembership,this,e,t))}},{key:"loadMembersFromServer",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return t=e.client.store.getSyncToken(),[4,e.client.members(e.roomId,void 0,"leave",null!=t?t:void 0)];case 1:return[2,r.sent().chunk]}}))}))()}},{key:"loadMembers",value:function(){var e=this;return(0,n.default)((function(){var t,r;return(0,f.__generator)(this,(function(n){switch(n.label){case 0:return t=!1,[4,e.client.store.getOutOfBandMembers(e.roomId)];case 1:return null===(r=n.sent())||e.client.isCryptoEnabled()&&e.client.isRoomEncrypted(e.roomId)?(t=!0,[4,e.loadMembersFromServer()]):[3,3];case 2:r=n.sent(),_.logger.log("LL: got ".concat(r.length," ")+"members from server for room ".concat(e.roomId)),n.label=3;case 3:return[2,{memberEvents:r.map(e.client.getEventMapper()),fromServer:t}]}}))}))()}},{key:"membersLoaded",value:function(){return!this.opts.lazyLoadMembers||this.currentState.outOfBandMembersReady()}},{key:"loadMembersIfNeeded",value:function(){var e=this;if(this.membersPromise)return this.membersPromise;this.currentState.markOutOfBandMembersStarted();var t=this.loadMembers().then((function(t){return e.currentState.setOutOfBandMembers(t.memberEvents),t.fromServer})).catch((function(t){throw e.membersPromise=void 0,e.currentState.markOutOfBandMembersFailed(),t}));return t.then((function(t){if(t){var r=e.currentState.getMembers().filter((function(e){return e.isOutOfBand()})).map((function(e){var t;return null===(t=e.events.member)||void 0===t?void 0:t.event}));return _.logger.log("LL: telling store to write ".concat(r.length)+" members for room ".concat(e.roomId)),e.client.store.setOutOfBandMembers(e.roomId,r).catch((function(e){_.logger.log("LL: storing OOB room members failed, oh well",e)}))}})).catch((function(e){_.logger.error(e)})),this.membersPromise=t,this.membersPromise}},{key:"clearLoadedMembersIfNeeded",value:function(){var e=this;return(0,n.default)((function(){return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return e.opts.lazyLoadMembers&&e.membersPromise?[4,e.loadMembersIfNeeded()]:[3,3];case 1:return t.sent(),[4,e.client.store.clearOutOfBandMembers(e.roomId)];case 2:t.sent(),e.currentState.clearOutOfBandMembers(),e.membersPromise=void 0,t.label=3;case 3:return[2]}}))}))()}},{key:"cleanupAfterLeaving",value:function(){var e=this;this.clearLoadedMembersIfNeeded().catch((function(t){_.logger.error("error after clearing loaded members from "+"room ".concat(e.roomId," after leaving")),_.logger.log(t)}))}},{key:"refreshLiveTimeline",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,u;return(0,f.__generator)(this,(function(c){switch(c.label){case 0:return t=e.getLiveTimeline(),r=t.getPaginationToken(p.EventTimeline.FORWARDS),n=t.getPaginationToken(p.EventTimeline.BACKWARDS),i=t.getEvents(),a=i[i.length-1],_.logger.log("[refreshLiveTimeline for ".concat(e.roomId,"] at ")+"mostRecentEventInTimeline=".concat(a&&a.getId()," ")+"liveTimelineBefore=".concat(t.toString()," ")+"forwardPaginationToken=".concat(r," ")+"backwardPaginationToken=".concat(n)),o=e.getUnfilteredTimelineSet(),a?[3,2]:[4,e.client.getLatestTimeline(o)];case 1:return s=c.sent(),[3,4];case 2:return e.resetLiveTimeline(null,null),e.emit(N.TimelineRefresh,e,o),[4,e.client.getEventTimeline(o,a.getId())];case 3:s=c.sent(),c.label=4;case 4:return!(u=o.getLiveTimeline())||null===u.getPaginationToken(p.Direction.Forward)&&null===u.getPaginationToken(p.Direction.Backward)&&0===u.getEvents().length?(_.logger.log("[refreshLiveTimeline for ".concat(e.roomId,"] using our new live timeline")),s.setPaginationToken(r,p.EventTimeline.FORWARDS),o.setLiveTimeline(s),e.fixUpLegacyTimelineFields()):_.logger.log("[refreshLiveTimeline for ".concat(e.roomId,"] `/sync` or some other request beat us to creating a new ")+"live timeline after we reset it. We'll use that instead since any events in the scrollback from this timeline will include the history."),e.setTimelineNeedsRefresh(!1),e.emit(N.TimelineRefresh,e,o),[2]}}))}))()}},{key:"resetLiveTimeline",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=this.timelineSets[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.resetLiveTimeline(null!=e?e:void 0,null!=t?t:void 0)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}var s=!0,u=!1,c=void 0;try{for(var l,f=this.threads.values()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){l.value.resetLiveTimeline(e,t)}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}this.fixUpLegacyTimelineFields()}},{key:"fixUpLegacyTimelineFields",value:function(){var e=this.oldState,t=this.currentState;this.timeline=this.getLiveTimeline().getEvents(),this.oldState=this.getLiveTimeline().getState(p.EventTimeline.BACKWARDS),this.currentState=this.getLiveTimeline().getState(p.EventTimeline.FORWARDS),e!==this.oldState&&this.emit(N.OldStateUpdated,this,e,this.oldState),t!==this.currentState&&(this.emit(N.CurrentStateUpdated,this,t,this.currentState),this.reEmitter.stopReEmitting(t,[R.RoomStateEvent.Events,R.RoomStateEvent.Members,R.RoomStateEvent.NewMember,R.RoomStateEvent.Update,R.RoomStateEvent.Marker,x.BeaconEvent.New,x.BeaconEvent.Update,x.BeaconEvent.Destroy,x.BeaconEvent.LivenessChange]),this.reEmitter.reEmit(this.currentState,[R.RoomStateEvent.Events,R.RoomStateEvent.Members,R.RoomStateEvent.NewMember,R.RoomStateEvent.Update,R.RoomStateEvent.Marker,x.BeaconEvent.New,x.BeaconEvent.Update,x.BeaconEvent.Destroy,x.BeaconEvent.LivenessChange]))}},{key:"hasUnverifiedDevices",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s;return(0,f.__generator)(this,(function(u){switch(u.label){case 0:return e.client.isRoomEncrypted(e.roomId)?[4,e.getEncryptionTargetMembers()]:[2,!1];case 1:t=u.sent(),r=!0,n=!1,i=void 0;try{for(a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)if(s=o.value,e.client.getStoredDevicesForUser(s.userId).some((function(e){return e.isUnverified()})))return[2,!0]}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return[2,!1]}}))}))()}},{key:"getTimelineSets",value:function(){return this.timelineSets}},{key:"getUnfilteredTimelineSet",value:function(){return this.timelineSets[0]}},{key:"getTimelineForEvent",value:function(e){var t=this.findEventById(e),r=this.findThreadForEvent(t);return r?r.timelineSet.getTimelineForEvent(e):this.getUnfilteredTimelineSet().getTimelineForEvent(e)}},{key:"addTimeline",value:function(){return this.getUnfilteredTimelineSet().addTimeline()}},{key:"setTimelineNeedsRefresh",value:function(e){this.timelineNeedsRefresh=e}},{key:"getTimelineNeedsRefresh",value:function(){return this.timelineNeedsRefresh}},{key:"findEventById",value:function(e){var t=this.getUnfilteredTimelineSet().findEventById(e);if(!t)for(var r=this.getThreads(),n=0;n<r.length;n++){if(t=r[n].findEventById(e))return t}return t}},{key:"getUnreadNotificationCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.Total,t=this.getRoomUnreadNotificationCount(e),r=!0,n=!1,i=void 0;if(this.client.canSupport.get(O.Feature.ThreadUnreadNotifications)!==O.ServerSupport.Unsupported)try{for(var a,o=this.threadNotifications.values()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s,u=a.value;t+=null!==(s=u[e])&&void 0!==s?s:0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"getUnreadCountForEventContext",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.Total,r=arguments.length>1?arguments[1]:void 0,n=!!r.threadRootId&&!r.isThreadRoot;return null!==(e=n?this.getThreadUnreadNotificationCount(r.threadRootId,t):this.getRoomUnreadNotificationCount(t))&&void 0!==e?e:0}},{key:"getRoomUnreadNotificationCount",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.Total;return null!==(e=this.notificationCounts[t])&&void 0!==e?e:0}},{key:"getThreadUnreadNotificationCount",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.Total;return null!==(t=null===(r=this.threadNotifications.get(e))||void 0===r?void 0:r[n])&&void 0!==t?t:0}},{key:"hasThreadUnreadNotification",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.threadNotifications.values()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a,o,s=n.value;if((null!==(a=s.highlight)&&void 0!==a?a:0)>0||(null!==(o=s.total)&&void 0!==o?o:0)>0)return!0}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}return!1}},{key:"setThreadUnreadNotificationCount",value:function(e,t,r){var n,i,a=q({highlight:null===(n=this.threadNotifications.get(e))||void 0===n?void 0:n.highlight,total:null===(i=this.threadNotifications.get(e))||void 0===i?void 0:i.total},(0,o.default)({},t,r));this.threadNotifications.set(e,a),this.emit(N.UnreadNotifications,a,e)}},{key:"threadsAggregateNotificationType",get:function(){var e=null,t=!0,r=!1,n=void 0;try{for(var i,a=this.threadNotifications.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o,s,u=i.value;if((null!==(o=u.highlight)&&void 0!==o?o:0)>0)return L.Highlight;(null!==(s=u.total)&&void 0!==s?s:0)>0&&!e&&(e=L.Total)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"resetThreadUnreadNotificationCount",value:function(e){if(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.threadNotifications[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,u.default)(i.value,1)[0];e.includes(o)||this.threadNotifications.delete(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}else this.threadNotifications.clear();this.emit(N.UnreadNotifications)}},{key:"setUnreadNotificationCount",value:function(e,t){this.notificationCounts[e]=t,this.emit(N.UnreadNotifications,this.notificationCounts)}},{key:"setSummary",value:function(e){var t=this,r=e["m.heroes"],n=e["m.joined_member_count"],i=e["m.invited_member_count"];Number.isInteger(n)&&this.currentState.setJoinedMemberCount(n),Number.isInteger(i)&&this.currentState.setInvitedMemberCount(i),Array.isArray(r)&&(this.summaryHeroes=r.filter((function(e){return e!==t.myUserId})))}},{key:"setBlacklistUnverifiedDevices",value:function(e){this.blacklistUnverifiedDevices=e}},{key:"getBlacklistUnverifiedDevices",value:function(){return void 0===this.blacklistUnverifiedDevices?null:this.blacklistUnverifiedDevices}},{key:"getAvatarUrl",value:function(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.currentState.getStateEvents(C.EventType.RoomAvatar,"");if(!a&&!i)return null;var o=a?a.getContent().url:null;return o?(0,b.getHttpUriForMxc)(e,o,t,r,n):null}},{key:"getMxcAvatarUrl",value:function(){var e,t;return(null===(e=this.currentState.getStateEvents(C.EventType.RoomAvatar,""))||void 0===e||null===(t=e.getContent())||void 0===t?void 0:t.url)||null}},{key:"getCanonicalAlias",value:function(){var e=this.currentState.getStateEvents(C.EventType.RoomCanonicalAlias,"");return e&&e.getContent().alias||null}},{key:"getAltAliases",value:function(){var e=this.currentState.getStateEvents(C.EventType.RoomCanonicalAlias,"");return e&&e.getContent().alt_aliases||[]}},{key:"addEventsToTimeline",value:function(e,t,r,n){r.getTimelineSet().addEventsToTimeline(e,t,r,n)}},{key:"getThread",value:function(e){var t;return null!==(t=this.threads.get(e))&&void 0!==t?t:null}},{key:"getThreads",value:function(){return Array.from(this.threads.values())}},{key:"getMember",value:function(e){return this.currentState.getMember(e)}},{key:"getMembers",value:function(){return this.currentState.getMembers()}},{key:"getJoinedMembers",value:function(){return this.getMembersWithMembership("join")}},{key:"getJoinedMemberCount",value:function(){return this.currentState.getJoinedMemberCount()}},{key:"getInvitedMemberCount",value:function(){return this.currentState.getInvitedMemberCount()}},{key:"getInvitedAndJoinedMemberCount",value:function(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()}},{key:"getMembersWithMembership",value:function(e){return this.currentState.getMembers().filter((function(t){return t.membership===e}))}},{key:"getEncryptionTargetMembers",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.loadMembersIfNeeded()];case 1:return r.sent(),t=e.getMembersWithMembership("join"),e.shouldEncryptForInvitedMembers()&&(t=t.concat(e.getMembersWithMembership("invite"))),[2,t]}}))}))()}},{key:"shouldEncryptForInvitedMembers",value:function(){var e,t=this.currentState.getStateEvents(C.EventType.RoomHistoryVisibility,"");return"joined"!==(null==t||null===(e=t.getContent())||void 0===e?void 0:e.history_visibility)}},{key:"getDefaultRoomName",value:function(e){return this.calculateRoomName(e,!0)}},{key:"hasMembershipState",value:function(e,t){var r=this.getMember(e);return!!r&&r.membership===t}},{key:"getOrCreateFilteredTimelineSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.prepopulateTimeline,n=void 0===r||r,i=t.useSyncEvents,a=void 0===i||i,o=t.pendingEvents,s=void 0===o||o;if(this.filteredTimelineSets[e.filterId])return this.filteredTimelineSets[e.filterId];var u=Object.assign({filter:e,pendingEvents:s},this.opts),c=new v.EventTimelineSet(this,u);this.reEmitter.reEmit(c,[N.Timeline,N.TimelineReset]),a&&(this.filteredTimelineSets[e.filterId]=c,this.timelineSets.push(c));var l=this.getLiveTimeline();if(n){l.getEvents().forEach((function(e){c.addLiveEvent(e)}));for(var f=l;f.getNeighbouringTimeline(p.EventTimeline.BACKWARDS);)f=f.getNeighbouringTimeline(p.EventTimeline.BACKWARDS);c.getLiveTimeline().setPaginationToken(f.getPaginationToken(p.EventTimeline.BACKWARDS),p.EventTimeline.BACKWARDS)}else if(a){var d=l.getPaginationToken(p.Direction.Forward);c.getLiveTimeline().setPaginationToken(d,p.Direction.Backward)}return c}},{key:"getThreadListFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.ThreadFilterType.All,t=this;return(0,n.default)((function(){var r,n,i,a;return(0,f.__generator)(this,(function(s){switch(s.label){case 0:return r=t.client.getUserId(),n=new E.Filter(r),i={room:{timeline:(0,o.default)({},M.FILTER_RELATED_BY_REL_TYPES.name,[M.THREAD_RELATION_TYPE.name])}},e===M.ThreadFilterType.My&&(i.room.timeline[M.FILTER_RELATED_BY_SENDERS.name]=[r]),n.setDefinition(i),[4,t.client.getOrCreateFilter("THREAD_PANEL_".concat(t.roomId,"_").concat(e),n)];case 1:return a=s.sent(),n.filterId=a,[2,n]}}))}))()}},{key:"createThreadTimelineSet",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return M.Thread.hasServerSideListSupport?(r=new v.EventTimelineSet(t,q(q({},t.opts),{},{pendingEvents:!1}),void 0,void 0,null!=e?e:M.ThreadFilterType.All),t.reEmitter.reEmit(r,[N.Timeline,N.TimelineReset]),[3,4]):[3,1];case 1:return M.Thread.hasServerSideSupport?[4,t.getThreadListFilter(e)]:[3,3];case 2:return n=i.sent(),r=t.getOrCreateFilteredTimelineSet(n,{prepopulateTimeline:!1,useSyncEvents:!1,pendingEvents:!1}),[3,4];case 3:r=new v.EventTimelineSet(t,{pendingEvents:!1}),Array.from(t.threads).forEach((function(n){var i=(0,u.default)(n,2)[1];if(0!==i.length){var a=i.timeline.some((function(e){return e.getSender()===t.client.getUserId()}));(e!==M.ThreadFilterType.My||a)&&r.getLiveTimeline().addEvent(i.rootEvent,{toStartOfTimeline:!1})}})),i.label=4;case 4:return[2,r]}}))}))()}},{key:"processThreadRoots",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;p.EventTimeline.setEventMetadata(s,this.currentState,t),this.getThread(s.getId())||this.createThread(s.getId(),s,[],t)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"fetchRoomThreads",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,u,c,l,d,h,b,g,m,$;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return e.threadsReady||!e.client.supportsExperimentalThreads()?[2]:M.Thread.hasServerSideListSupport?[4,Promise.all([e.fetchRoomThreadList(M.ThreadFilterType.All),e.fetchRoomThreadList(M.ThreadFilterType.My)])]:[3,2];case 1:return f.sent(),[3,5];case 2:return[4,e.getThreadListFilter()];case 3:return t=f.sent(),[4,e.client.createMessagesRequest(e.roomId,"",Number.MAX_SAFE_INTEGER,p.Direction.Backward,t)];case 4:if(r=f.sent(),!(n=r.chunk).length)return[2];i=n.map(e.client.getEventMapper()).sort((function(e,t){var r=e.getServerAggregatedRelation(M.THREAD_RELATION_TYPE.name),n=t.getServerAggregatedRelation(M.THREAD_RELATION_TYPE.name);return r.latest_event.origin_server_ts-n.latest_event.origin_server_ts})),o=e.getLiveTimeline().getState(p.EventTimeline.FORWARDS),s=!0,u=!1,c=void 0;try{for(l=i[Symbol.iterator]();!(s=(d=l.next()).done);s=!0)h=d.value,g={duplicateStrategy:v.DuplicateStrategy.Ignore,fromCache:!1,roomState:o},null===(b=e.threadsTimelineSets[0])||void 0===b||b.addLiveEvent(h,g),null!=(m=h.getServerAggregatedRelation(M.THREAD_RELATION_TYPE.name))&&m.current_user_participated&&(null===($=e.threadsTimelineSets[1])||void 0===$||$.addLiveEvent(h,g),a=h)}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}e.processThreadRoots(i,!0),e.client.decryptEventIfNeeded(i[i.length-1]),a&&e.client.decryptEventIfNeeded(a),f.label=5;case 5:return e.on(M.ThreadEvent.NewReply,e.onThreadNewReply),e.on(M.ThreadEvent.Delete,e.onThreadDelete),e.threadsReady=!0,[2]}}))}))()}},{key:"fetchRoomThreadList",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,l,d,h,b;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return r=e===M.ThreadFilterType.My?t.threadsTimelineSets[1]:t.threadsTimelineSets[0],[4,t.client.createThreadListMessagesRequest(t.roomId,null,void 0,p.Direction.Backward,r.threadListType,r.getFilter())];case 1:if(n=f.sent(),i=n.chunk,a=n.end,r.getLiveTimeline().setPaginationToken(null!=a?a:null,p.Direction.Backward),!i.length)return[2];o=i.map(t.client.getEventMapper()),t.processThreadRoots(o,!0),s=t.getLiveTimeline().getState(p.EventTimeline.FORWARDS),u=!0,c=!1,l=void 0;try{for(d=o[Symbol.iterator]();!(u=(h=d.next()).done);u=!0)b=h.value,r.addLiveEvent(b,{duplicateStrategy:v.DuplicateStrategy.Replace,fromCache:!1,roomState:s})}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}return[2]}}))}))()}},{key:"onThreadNewReply",value:function(e){this.updateThreadRootEvents(e,!1,!0)}},{key:"onThreadDelete",value:function(e){var t;this.threads.delete(e.id);var r=this.getTimelineForEvent(e.id),n=null==r||null===(t=r.getEvents())||void 0===t?void 0:t.find((function(t){return t.getId()===e.id}));n?e.clearEventMetadata(n):_.logger.debug("onThreadDelete: Could not find root event in room timeline");var i=!0,a=!1,o=void 0;try{for(var s,u=this.threadsTimelineSets[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.removeEvent(e.id)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}},{key:"removeFilteredTimelineSet",value:function(e){var t=this.filteredTimelineSets[e.filterId];delete this.filteredTimelineSets[e.filterId];var r=this.timelineSets.indexOf(t);r>-1&&this.timelineSets.splice(r,1)}},{key:"eventShouldLiveIn",value:function(e,t,r){var n,i;if(null===(n=this.client)||void 0===n||!n.supportsExperimentalThreads())return{shouldLiveInRoom:!0,shouldLiveInThread:!1};if(e.isThreadRoot||null!=r&&r.has(e.getId()))return{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:e.getId()};if(e.isRelation(M.THREAD_RELATION_TYPE.name))return{shouldLiveInRoom:!1,shouldLiveInThread:!0,threadId:e.threadRootId};var a=e.getAssociatedId(),o=null!==(i=this.findEventById(a))&&void 0!==i?i:null==t?void 0:t.find((function(e){return e.getId()===a}));return o&&(e.isRelation()||e.isRedaction())?this.eventShouldLiveIn(o,t,r):null!=r&&r.has(e.relationEventId)?{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:e.relationEventId}:{shouldLiveInRoom:!0,shouldLiveInThread:!1}}},{key:"findThreadForEvent",value:function(e){if(!e)return null;var t=this.eventShouldLiveIn(e).threadId;return t?this.getThread(t):null}},{key:"addThreadedEvents",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getThread(e);if(!n){var i,a=null!==(i=this.findEventById(e))&&void 0!==i?i:t.find((function(t){return t.getId()===e}));n=this.createThread(e,a,t,r)}n.addEvents(t,r)}},{key:"processThreadedEvents",value:function(e,t){var r=this;e.forEach(this.applyRedaction);var n={},i=!0,a=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l,f=s.value,d=this.eventShouldLiveIn(f),h=d.threadId;d.shouldLiveInThread&&!n[h]&&(n[h]=[]),null===(l=n[h])||void 0===l||l.push(f)}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}Object.entries(n).map((function(e){var n=(0,u.default)(e,2),i=n[0],a=n[1];return r.addThreadedEvents(i,a,t)}))}},{key:"createThread",value:function(e,t){var r,n,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0;if(this.threads.has(e))return this.threads.get(e);if(t){var s=this.relations.getAllChildEventsForEvent(t.getId());null!=s&&s.length&&(a=a.concat(s.filter((function(e){return!e.isRelation(C.RelationType.Replace)}))))}var u=new M.Thread(e,t,{room:this,client:this.client,pendingEventOrdering:this.opts.pendingEventOrdering,receipts:null!==(r=this.cachedThreadReadReceipts.get(e))&&void 0!==r?r:[]});this.cachedThreadReadReceipts.delete(e),u.addEvents(a,!1),this.threads.set(u.id,u),this.reEmitter.reEmit(u,[M.ThreadEvent.Delete,M.ThreadEvent.Update,M.ThreadEvent.NewReply,N.Timeline,N.TimelineReset]);var c=(null===(n=this.lastThread)||void 0===n?void 0:n.rootEvent)&&(null==t?void 0:t.localTimestamp)&&(null===(i=this.lastThread.rootEvent)||void 0===i?void 0:i.localTimestamp)<(null==t?void 0:t.localTimestamp);return this.lastThread&&!c||(this.lastThread=u),this.threadsReady&&this.updateThreadRootEvents(u,o,!1),this.emit(M.ThreadEvent.New,u,o),u}},{key:"processLiveEvent",value:function(e){if(this.applyRedaction(e),e.isVisibilityEvent()&&this.applyNewVisibilityEvent(e),this.applyPendingVisibilityEvents(e),!e.getUnsigned().transaction_id&&e.getSender()===this.myUserId)for(var t in this.txnToEvent){if(this.txnToEvent[t].getId()===e.getId()){_.logger.debug("processLiveEvent: found sent event without txn ID: ",t,e.getId());var r=e.getUnsigned();r.transaction_id=t,e.setUnsigned(r);break}}}},{key:"addLiveEvent",value:function(e,t){var r=t.duplicateStrategy,n=t.timelineWasEmpty,i=t.fromCache,a=!0,o=!1,s=void 0;try{for(var u,c=this.timelineSets[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.addLiveEvent(e,{duplicateStrategy:r,fromCache:i,timelineWasEmpty:n})}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}e.sender&&e.getType()!==C.EventType.RoomRedaction&&this.addReceipt((0,A.synthesizeReceipt)(e.sender.userId,e,I.ReceiptType.Read),!0)}},{key:"addPendingEvent",value:function(e,t){if(e.status!==$.EventStatus.SENDING&&e.status!==$.EventStatus.NOT_SENT)throw new Error("addPendingEvent called on an event with status "+e.status);if(this.txnToEvent[t])throw new Error("addPendingEvent called on an event with known txnId "+t);p.EventTimeline.setEventMetadata(e,this.getLiveTimeline().getState(p.EventTimeline.FORWARDS),!1),this.txnToEvent[t]=e;var r=!0,n=!1,i=void 0;if(this.pendingEventList){if(this.pendingEventList.some((function(e){return e.status===$.EventStatus.NOT_SENT}))&&(_.logger.warn("Setting event as NOT_SENT due to messages in the same state"),e.setStatus($.EventStatus.NOT_SENT)),this.pendingEventList.push(e),this.savePendingEvents(),e.isRelation()&&this.aggregateNonLiveRelation(e),e.isRedaction()){var a=e.event.redacts,o=this.pendingEventList.find((function(e){return e.getId()===a}));!o&&a&&(o=this.findEventById(a)),o&&(o.markLocallyRedacted(e),this.emit(N.Redaction,e,this))}}else try{for(var s,u=this.timelineSets[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;c.getFilter()?c.getFilter().filterRoomTimeline([e]).length&&c.addEventToTimeline(e,c.getLiveTimeline(),{toStartOfTimeline:!1}):c.addEventToTimeline(e,c.getLiveTimeline(),{toStartOfTimeline:!1})}}catch(e){n=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(n)throw i}}this.emit(N.LocalEchoUpdated,e,this)}},{key:"savePendingEvents",value:function(){var e=this;if(this.pendingEventList){var t=this.pendingEventList.map((function(e){return q(q({},e.event),{},{txn_id:e.getTxnId()})})).filter((function(t){var r=t.type===C.EventType.RoomMessageEncrypted,n=e.client.isRoomEncrypted(e.roomId);return r||!n}));this.client.store.setPendingEvents(this.roomId,t)}}},{key:"aggregateNonLiveRelation",value:function(e){this.relations.aggregateChildEvent(e)}},{key:"getEventForTxnId",value:function(e){return this.txnToEvent[e]}},{key:"handleRemoteEcho",value:function(e,t){var r=t.getId(),n=e.getId(),i=t.status;_.logger.debug("Got remote echo for event ".concat(r," -> ").concat(n," old status ").concat(i)),delete this.txnToEvent[e.getUnsigned().transaction_id],this.pendingEventList&&this.removePendingEvent(r),t.handleRemoteEcho(e.event);var a=this.eventShouldLiveIn(e),o=a.shouldLiveInRoom,s=a.threadId,u=s?this.getThread(s):null;null==u||u.timelineSet.handleRemoteEcho(t,r,n);var c=!0,l=!1,f=void 0;if(o)try{for(var d,h=this.timelineSets[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){d.value.handleRemoteEcho(t,r,n)}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}this.emit(N.LocalEchoUpdated,t,this,r,i)}},{key:"updatePendingEvent",value:function(e,t,r){if(_.logger.log("setting pendingEvent status to ".concat(t," in ").concat(e.getRoomId()," ")+"event ID ".concat(e.getId()," -> ").concat(r)),t==$.EventStatus.SENT&&!r)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(t==$.EventStatus.SENT&&this.getTimelineForEvent(r)){var n=this.findEventById(r);if(!(null==n?void 0:n.getUnsigned().transaction_id)&&n){var i=n.getUnsigned();i.transaction_id=e.getTxnId(),n.setUnsigned(i),this.removeEvent(n.getId()),this.handleRemoteEcho(n,e)}return}var a=e.status,o=e.getId();if(!a)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");var s=V[a];if(null==s||!s.includes(t))throw new Error("Invalid EventStatus transition ".concat(a,"->").concat(t));if(e.setStatus(t),t==$.EventStatus.SENT){e.replaceLocalEventId(r);var u=this.eventShouldLiveIn(e),c=u.shouldLiveInRoom,l=u.threadId,f=l?this.getThread(l):void 0;null==f||f.timelineSet.replaceEventId(o,r);var d=!0,h=!1,v=void 0;if(c)try{for(var p,b=this.timelineSets[Symbol.iterator]();!(d=(p=b.next()).done);d=!0){p.value.replaceEventId(o,r)}}catch(e){h=!0,v=e}finally{try{d||null==b.return||b.return()}finally{if(h)throw v}}}else if(t==$.EventStatus.CANCELLED){if(this.pendingEventList){var g=this.getPendingEvent(o);this.removePendingEvent(o),null!=g&&g.isRedaction()&&this.revertRedactionLocalEcho(g)}this.removeEvent(o)}this.savePendingEvents(),this.emit(N.LocalEchoUpdated,e,this,o,a)}},{key:"revertRedactionLocalEcho",value:function(e){var t=e.event.redacts;if(t){var r=this.getUnfilteredTimelineSet().findEventById(t);r&&(r.unmarkLocallyRedacted(),this.emit(N.RedactionCancelled,e,this),r.isRelation()&&this.aggregateNonLiveRelation(r))}}},{key:"addLiveEvents",value:function(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this,o=t,s=!1;if("object"==typeof t?(o=(r=t).duplicateStrategy,i=void 0!==(n=r.fromCache)&&n,s=r.timelineWasEmpty):void 0!==t&&_.logger.warn("Overload deprecated: `Room.addLiveEvents(events, duplicateStrategy?, fromCache?)` is deprecated in favor of the overload with `Room.addLiveEvents(events, IAddLiveEventOptions)`"),o&&-1===["replace","ignore"].indexOf(o))throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");for(var c=0;c<this.timelineSets.length;c++){var l=this.timelineSets[c].getLiveTimeline();if(l.getPaginationToken(p.EventTimeline.FORWARDS))throw new Error("live timeline "+c+" is no longer live - it has a pagination token ("+l.getPaginationToken(p.EventTimeline.FORWARDS)+")");if(l.getNeighbouringTimeline(p.EventTimeline.FORWARDS))throw new Error("live timeline ".concat(c," is no longer live - it has a neighbouring timeline"))}var f=this.findThreadRoots(e),d={},h={duplicateStrategy:o,fromCache:i,timelineWasEmpty:s},v=!0,b=!1,g=void 0;try{for(var m,$=e[Symbol.iterator]();!(v=(m=$.next()).done);v=!0){var y,w=m.value;if(this.processLiveEvent(w),w.getUnsigned().transaction_id){var S=this.txnToEvent[w.getUnsigned().transaction_id];if(S){this.handleRemoteEcho(w,S);continue}}var C=this.eventShouldLiveIn(w,e,f),k=C.shouldLiveInRoom,E=C.shouldLiveInThread,R=C.threadId;E&&!d[null!=R?R:""]&&(d[null!=R?R:""]=[]),null===(y=d[null!=R?R:""])||void 0===y||y.push(w),k&&this.addLiveEvent(w,h)}}catch(e){b=!0,g=e}finally{try{v||null==$.return||$.return()}finally{if(b)throw g}}Object.entries(d).forEach((function(e){var t=(0,u.default)(e,2),r=t[0],n=t[1];a.addThreadedEvents(r,n,!1)}))}},{key:"partitionThreadedEvents",value:function(e){var t=this;if(this.client.supportsExperimentalThreads()){var r=this.findThreadRoots(e);return e.reduce((function(n,i){var a=t.eventShouldLiveIn(i,e,r),o=a.shouldLiveInRoom,s=a.shouldLiveInThread,u=a.threadId;return o&&n[0].push(i),s&&(i.setThreadId(null!=u?u:""),n[1].push(i)),n}),[[],[]])}return[e,[]]}},{key:"findThreadRoots",value:function(e){var t=new Set,r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s,u=a.value;if(u.isRelation(M.THREAD_RELATION_TYPE.name))t.add(null!==(s=u.relationEventId)&&void 0!==s?s:"")}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"addReceipt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this,n=e.getContent();Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(i){Object.keys(n[e][i]).forEach((function(a){var o,s,u,l,f=n[e][i][a],d=!f.thread_id||f.thread_id===I.MAIN_ROOM_TIMELINE,h=d?r:r.threads.get(null!==(o=f.thread_id)&&void 0!==o?o:"");h?h.addReceiptToStructure(e,i,a,f,t):r.cachedThreadReadReceipts.set(f.thread_id,(0,c.default)(null!==(l=r.cachedThreadReadReceipts.get(f.thread_id))&&void 0!==l?l:[]).concat([{eventId:e,receiptType:i,userId:a,receipt:f,synthetic:t}]));a===r.client.getUserId()&&!d&&f.ts<r.oldestThreadedReceiptTs&&(r.oldestThreadedReceiptTs=f.ts),!f.thread_id&&f.ts>(null!==(s=null===(u=r.unthreadedReceipts.get(a))||void 0===u?void 0:u.ts)&&void 0!==s?s:0)&&r.unthreadedReceipts.set(a,f)}))}))})),this.emit(N.Receipt,e,this)}},{key:"addEphemeralEvents",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.getType()===C.EventType.Typing?this.currentState.setTypingEvent(o):o.getType()===C.EventType.Receipt&&this.addReceipt(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"removeEvents",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.removeEvent(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"removeEvent",value:function(e){var t=!1,r=!0,n=!1,i=void 0;try{for(var a,o=this.timelineSets[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value.removeEvent(e);s&&(s.isRedaction()&&this.revertRedactionLocalEcho(s),t=!0)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"recalculate",value:function(){var e=this,t=this.currentState.getStateEvents(C.EventType.RoomMember,this.myUserId);if(t){var r=t.getContent().membership;if(this.updateMyMembership(r),"invite"===r)(t.getUnsigned().invite_room_state||[]).forEach((function(t){e.currentState.getStateEvents(t.type,t.state_key)||e.currentState.setStateEvents([new m.MatrixEvent({type:t.type,state_key:t.state_key,content:t.content,event_id:"$fake"+Date.now(),room_id:e.roomId,user_id:e.myUserId})])}))}var n=this.name;this.name=this.calculateRoomName(this.myUserId),this.normalizedName=(0,g.normalize)(this.name),this.summary=new w.RoomSummary(this.roomId,{title:this.name}),n!==this.name&&this.emit(N.Name,this)}},{key:"addTags",value:function(e){this.tags=e.getContent().tags||{},this.emit(N.Tags,e,this)}},{key:"addAccountData",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;"m.tag"===o.getType()&&this.addTags(o);var s=this.accountData[o.getType()];this.accountData[o.getType()]=o,this.emit(N.AccountData,o,this,s)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"getAccountData",value:function(e){return this.accountData[e]}},{key:"maySendMessage",value:function(){return"join"===this.getMyMembership()&&(this.client.isRoomEncrypted(this.roomId)?this.currentState.maySendEvent(C.EventType.RoomMessageEncrypted,this.myUserId):this.currentState.maySendEvent(C.EventType.RoomMessage,this.myUserId))}},{key:"canInvite",value:function(e){var t="join"===this.getMyMembership(),r=this.currentState.getStateEvents(C.EventType.RoomPowerLevels,""),n=r&&r.getContent(),i=this.getMember(e);return n&&i&&n.invite>i.powerLevel&&(t=!1),t}},{key:"getJoinRule",value:function(){return this.currentState.getJoinRule()}},{key:"getHistoryVisibility",value:function(){return this.currentState.getHistoryVisibility()}},{key:"getGuestAccess",value:function(){return this.currentState.getGuestAccess()}},{key:"getType",value:function(){var e=this.currentState.getStateEvents(C.EventType.RoomCreate,"");if(e)return e.getContent()[C.RoomCreateTypeField];this.getTypeWarning||(_.logger.warn("[getType] Room "+this.roomId+" does not have an m.room.create event"),this.getTypeWarning=!0)}},{key:"isSpaceRoom",value:function(){return this.getType()===C.RoomType.Space}},{key:"isCallRoom",value:function(){return this.getType()===C.RoomType.UnstableCall}},{key:"isElementVideoRoom",value:function(){return this.getType()===C.RoomType.ElementVideo}},{key:"findPredecessorRoomId",value:function(){var e=this.getLiveTimeline().getState(p.EventTimeline.FORWARDS);if(!e)return null;var t=e.getStateEvents(C.EventType.RoomCreate,"");if(t){var r=t.getContent().predecessor;if(r){var n=r.room_id;if(n)return n}}return null}},{key:"roomNameGenerator",value:function(e){if(this.client.roomNameGenerator){var t=this.client.roomNameGenerator(this.roomId,e);if(null!==t)return t}switch(e.type){case H.Actual:return e.name;case H.Generated:return"Inviting"===e.subtype?"Inviting ".concat(z(e.names,e.count)):z(e.names,e.count);case H.EmptyRoom:return e.oldName?"Empty room (was ".concat(e.oldName,")"):"Empty room"}}},{key:"calculateRoomName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;if(!t){var n=this.currentState.getStateEvents(C.EventType.RoomName,"");if(null!=n&&n.getContent().name)return this.roomNameGenerator({type:H.Actual,name:n.getContent().name})}var i=this.getCanonicalAlias();if(i)return this.roomNameGenerator({type:H.Actual,name:i});var a=this.currentState.getJoinedMemberCount(),o=this.currentState.getInvitedMemberCount(),s=a+o-1,u=[],c=this.currentState.getStateEvents(C.UNSTABLE_ELEMENT_FUNCTIONAL_USERS.name,"");Array.isArray(null==c?void 0:c.getContent().service_members)&&(u=c.getContent().service_members);var l=[];if(this.summaryHeroes)this.summaryHeroes.forEach((function(e){if(u.includes(e))s--;else{var t=r.getMember(e);l.push(t?t.name:e)}}));else{var f=this.currentState.getMembers().filter((function(t){return t.userId!==e&&("invite"===t.membership||"join"===t.membership)}));f=f.filter((function(e){var t=e.userId;return!u.includes(t)||(s--,!1)})),f.sort((function(e,t){return g.compare(e.userId,t.userId)})),f=f.slice(0,5),l=f.map((function(e){return e.name}))}if(s)return this.roomNameGenerator({type:H.Generated,names:l,count:s});var d=this.getMyMembership();if("join"==d){var h=this.currentState.getStateEvents(C.EventType.RoomThirdPartyInvite);if(null!=h&&h.length){var v=h.map((function(e){return e.getContent().display_name}));return this.roomNameGenerator({type:H.Generated,subtype:"Inviting",names:v,count:v.length+1})}}var p,b=l;return b.length||(b=this.currentState.getMembers().filter((function(t){return t.userId!==e&&"invite"!==t.membership&&"join"!==t.membership})).map((function(e){return e.name}))),b.length&&(p=this.roomNameGenerator({type:H.Generated,names:b,count:b.length+1})),this.roomNameGenerator({type:H.EmptyRoom,oldName:p})}},{key:"applyNewVisibilityEvent",value:function(e){var t=e.asVisibilityChange();if(t){var r=e.getSender();if(r)if(C.EVENT_VISIBILITY_CHANGE_TYPE.name&&this.currentState.maySendStateEvent(C.EVENT_VISIBILITY_CHANGE_TYPE.name,r)||C.EVENT_VISIBILITY_CHANGE_TYPE.altName&&this.currentState.maySendStateEvent(C.EVENT_VISIBILITY_CHANGE_TYPE.altName,r)){var n=this.visibilityEvents.get(t.eventId);if(n){for(var i=n.length-1,a=Math.max(0,n.length-30);i>=a;--i){if(n[i].getTs()<e.getTs())break}-1===i?n.unshift(e):n.splice(i+1,0,e)}else this.visibilityEvents.set(t.eventId,[e]);var o=this.findEventById(t.eventId);o&&o.applyVisibilityEvent(t)}}}},{key:"redactVisibilityChangeEvent",value:function(e){if(!e.isVisibilityEvent)throw new Error("expected a visibility change event");var t=e.getRelation(),r=null==t?void 0:t.event_id,n=this.visibilityEvents.get(r);if(n){var i=n.findIndex((function(t){return t.getId()===e.getId()}));if(-1!==i&&(n.splice(i,1),i===n.length)){var a=this.findEventById(r);if(!a)return;if(0===i)this.visibilityEvents.delete(r),a.applyVisibilityEvent();else{var o=n[n.length-1].asVisibilityChange();if(!o)throw new Error("at this stage, visibility changes should be well-formed");a.applyVisibilityEvent(o)}}}}},{key:"applyPendingVisibilityEvents",value:function(e){var t=this.visibilityEvents.get(e.getId());if(t&&0!=t.length){var r=t[t.length-1],n=r.asVisibilityChange();n&&(n.visible,r.getTs()<e.getTs()||e.applyVisibilityEvent(n))}}},{key:"getOldestThreadedReceiptTs",value:function(){return this.oldestThreadedReceiptTs}},{key:"getLastUnthreadedReceiptFor",value:function(e){return this.unthreadedReceipts.get(e)}}]),d}(A.ReadReceipt);e.exports.Room=K;var H,W,V=(j={},(0,o.default)(j,$.EventStatus.ENCRYPTING,[$.EventStatus.SENDING,$.EventStatus.NOT_SENT,$.EventStatus.CANCELLED]),(0,o.default)(j,$.EventStatus.SENDING,[$.EventStatus.ENCRYPTING,$.EventStatus.QUEUED,$.EventStatus.NOT_SENT,$.EventStatus.SENT]),(0,o.default)(j,$.EventStatus.QUEUED,[$.EventStatus.SENDING,$.EventStatus.CANCELLED]),(0,o.default)(j,$.EventStatus.SENT,[]),(0,o.default)(j,$.EventStatus.NOT_SENT,[$.EventStatus.SENDING,$.EventStatus.QUEUED,$.EventStatus.CANCELLED]),(0,o.default)(j,$.EventStatus.CANCELLED,[]),j);function z(e,t){var r=t-1;return e.length?1===e.length&&r<=1?e[0]:2===e.length&&r<=2?"".concat(e[0]," and ").concat(e[1]):r>1?"".concat(e[0]," and ").concat(r," others"):"".concat(e[0]," and 1 other"):"Empty room"}e.exports.RoomNameType=H,(W=H||(e.exports.RoomNameType=H={}))[W.EmptyRoom=0]="EmptyRoom",W[W.Generated=1]="Generated",W[W.Actual=2]="Actual"})),parcelRequire.register("kbPXZ",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("8rJSp"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EventTimelineSet=e.exports.DuplicateStrategy=void 0;var u,c,l,f=s(parcelRequire("abzte")),d=parcelRequire("gFIkm"),h=parcelRequire("fKX3v"),v=parcelRequire("6pgXP"),p=parcelRequire("4Eh2q"),b=parcelRequire("aYDSN");u=h.logger.log.bind(h.logger),e.exports.DuplicateStrategy=c,(l=c||(e.exports.DuplicateStrategy=c={})).Ignore="ignore",l.Replace="replace";var g=function(e){(0,a.default)(s,e);var t=(0,o.default)(s);function s(e){var i,a,o,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,n.default)(this,s),(i=t.call(this)).room=e,i.thread=h,i.threadListType=v,(0,f.default)((0,r.default)(i),"relations",void 0),(0,f.default)((0,r.default)(i),"timelineSupport",void 0),(0,f.default)((0,r.default)(i),"displayPendingEvents",void 0),(0,f.default)((0,r.default)(i),"liveTimeline",void 0),(0,f.default)((0,r.default)(i),"timelines",void 0),(0,f.default)((0,r.default)(i),"_eventIdToTimeline",new Map),(0,f.default)((0,r.default)(i),"filter",void 0),i.timelineSupport=Boolean(c.timelineSupport),i.liveTimeline=new d.EventTimeline((0,r.default)(i)),i.displayPendingEvents=!1!==c.pendingEvents,i.timelines=[i.liveTimeline],i._eventIdToTimeline=new Map,i.filter=c.filter,i.relations=null!==(a=null===(o=i.room)||void 0===o?void 0:o.relations)&&void 0!==a?a:new b.RelationsContainer(null!==(u=null==e?void 0:e.client)&&void 0!==u?u:l),i}return(0,i.default)(s,[{key:"getTimelines",value:function(){return this.timelines}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){this.filter=e}},{key:"getPendingEvents",value:function(){return this.room&&this.displayPendingEvents?this.room.getPendingEvents():[]}},{key:"getLiveTimeline",value:function(){return this.liveTimeline}},{key:"setLiveTimeline",value:function(e){this.liveTimeline=e}},{key:"eventIdToTimeline",value:function(e){return this._eventIdToTimeline.get(e)}},{key:"replaceEventId",value:function(e,t){var r=this._eventIdToTimeline.get(e);r&&(this._eventIdToTimeline.delete(e),this._eventIdToTimeline.set(t,r))}},{key:"resetLiveTimeline",value:function(e,t){var r=!this.timelineSupport||!t,n=this.liveTimeline,i=r?n.forkLive(d.EventTimeline.FORWARDS):n.fork(d.EventTimeline.FORWARDS);r?(this.timelines=[i],this._eventIdToTimeline=new Map):this.timelines.push(i),t&&n.setPaginationToken(t,d.EventTimeline.FORWARDS),i.setPaginationToken(null!=e?e:null,d.EventTimeline.BACKWARDS),this.liveTimeline=i,this.emit(v.RoomEvent.TimelineReset,this.room,this,r)}},{key:"getTimelineForEvent",value:function(e){if(null==e)return null;var t=this._eventIdToTimeline.get(e);return void 0===t?null:t}},{key:"findEventById",value:function(e){var t=this.getTimelineForEvent(e);if(t)return t.getEvents().find((function(t){return t.getId()==e}))}},{key:"addTimeline",value:function(){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");var e=new d.EventTimeline(this);return this.timelines.push(e),e}},{key:"addEventsToTimeline",value:function(e,t,r,n){if(!r)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!t&&r==this.liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(!this.filter||(e=this.filter.filterRoomTimeline(e)).length){var i=t?d.EventTimeline.BACKWARDS:d.EventTimeline.FORWARDS,a=t?d.EventTimeline.FORWARDS:d.EventTimeline.BACKWARDS,o=!1,s=!1,c=!0,l=!1,f=void 0;try{for(var v,p=e[Symbol.iterator]();!(c=(v=p.next()).done);c=!0){var b=v.value,g=b.getId(),m=this._eventIdToTimeline.get(g);if(m)if(s=!1,m!=r){var $=r.getNeighbouringTimeline(i);if($)u(m==$?"Event "+g+" in neighbouring timeline - switching to "+m:"Event "+g+" already in a different timeline "+m),r=m;else{h.logger.info("Already have timeline for "+g+" - joining timeline "+r+" to "+m);var y=m===this.liveTimeline,w=r===this.liveTimeline,_=i===d.EventTimeline.BACKWARDS&&y,S=i===d.EventTimeline.FORWARDS&&w;_||S?(_&&h.logger.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+m+")"),S&&h.logger.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+r+")")):(r.setNeighbouringTimeline(m,i),m.setNeighbouringTimeline(r,a),r=m,o=!0)}}else u("Event "+g+" already in timeline "+r);else this.addEventToTimeline(b,r,{toStartOfTimeline:t}),s=!0,o=!0}}catch(e){l=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}if(s||!o){if(i===d.EventTimeline.FORWARDS&&r===this.liveTimeline)return h.logger.warn({lastEventWasNew:s,didUpdate:o}),void h.logger.warn("Refusing to set forwards pagination token of live timeline "+"".concat(r," to ").concat(n));r.setPaginationToken(null!=n?n:null,i)}}}},{key:"addLiveEvent",value:function(e,t){var r,n,i,a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0,l=t||c.Ignore;if("object"==typeof t?(l=void 0===(i=(n=t).duplicateStrategy)?c.Ignore:i,o=void 0!==(a=n.fromCache)&&a,s=n.roomState,r=n.timelineWasEmpty):void 0!==t&&h.logger.warn("Overload deprecated: `EventTimelineSet.addLiveEvent(event, duplicateStrategy?, fromCache?, roomState?)` is deprecated in favor of the overload with `EventTimelineSet.addLiveEvent(event, IAddLiveEventOptions)`"),this.filter){var f=this.filter.filterRoomTimeline([e]);if(!f.length)return}var v=this._eventIdToTimeline.get(e.getId());if(v)if(l===c.Replace){u("EventTimelineSet.addLiveEvent: replacing duplicate event "+e.getId());for(var p=v.getEvents(),b=0;b<p.length;b++)if(p[b].getId()===e.getId()){s||(s=v.getState(d.EventTimeline.FORWARDS)),d.EventTimeline.setEventMetadata(e,s,!1),p[b]=e;break}}else u("EventTimelineSet.addLiveEvent: ignoring duplicate event "+e.getId());else this.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:!1,fromCache:o,roomState:s,timelineWasEmpty:r})}},{key:"addEventToTimeline",value:function(e,t,r){var n,i,a,o,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4?arguments[4]:void 0,c=!!r;if("object"==typeof r?(c=(i=r).toStartOfTimeline,s=void 0!==(a=i.fromCache)&&a,u=i.roomState,n=i.timelineWasEmpty):void 0!==r&&h.logger.warn("Overload deprecated: `EventTimelineSet.addEventToTimeline(event, timeline, toStartOfTimeline, fromCache?, roomState?)` is deprecated in favor of the overload with `EventTimelineSet.addEventToTimeline(event, timeline, IAddEventToTimelineOptions)`"),t.getTimelineSet()!==this)throw new Error("EventTimelineSet.addEventToTimeline: Timeline=".concat(t.toString(),' does not belong " +\n                "in timelineSet(threadId=').concat(null===(o=this.thread)||void 0===o?void 0:o.id,")"));if(this.room&&!this.canContain(e)){var l,f="event=".concat(e.getId());return e.threadRootId&&(f+="(belongs to thread=".concat(e.threadRootId,")")),void h.logger.warn("EventTimelineSet.addEventToTimeline: Ignoring ".concat(f," that does not belong ")+"in timeline=".concat(t.toString()," timelineSet(threadId=").concat(null===(l=this.thread)||void 0===l?void 0:l.id,")"))}var d=e.getId();t.addEvent(e,{toStartOfTimeline:c,roomState:u,timelineWasEmpty:n}),this._eventIdToTimeline.set(d,t),this.relations.aggregateParentEvent(e),this.relations.aggregateChildEvent(e,this);var p={timeline:t,liveEvent:!c&&t==this.liveTimeline&&!s};this.emit(v.RoomEvent.Timeline,e,this.room,Boolean(c),!1,p)}},{key:"handleRemoteEcho",value:function(e,t,r){var n=this._eventIdToTimeline.get(t);n?(this._eventIdToTimeline.delete(t),this._eventIdToTimeline.set(r,n)):this.filter&&!this.filter.filterRoomTimeline([e]).length||this.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:!1})}},{key:"removeEvent",value:function(e){var t=this._eventIdToTimeline.get(e);if(!t)return null;var r=t.removeEvent(e);if(r){this._eventIdToTimeline.delete(e);var n={timeline:t};this.emit(v.RoomEvent.Timeline,r,this.room,void 0,!0,n)}return r}},{key:"compareEventOrdering",value:function(e,t){if(e==t)return 0;var r=this._eventIdToTimeline.get(e),n=this._eventIdToTimeline.get(t);if(void 0===r)return null;if(void 0===n)return null;if(r===n){for(var i=void 0,a=void 0,o=r.getEvents(),s=0;s<o.length&&(void 0===i||void 0===a);s++){var u=o[s].getId();u==e&&(i=s),u==t&&(a=s)}return i-a}for(var c=r;c;){if(c===n)return-1;c=c.getNeighbouringTimeline(d.EventTimeline.FORWARDS)}for(c=r;c;){if(c===n)return 1;c=c.getNeighbouringTimeline(d.EventTimeline.BACKWARDS)}return null}},{key:"canContain",value:function(e){if(!this.room)throw new Error("Cannot call `EventTimelineSet::canContain without a `room` set. Set the room when creating the EventTimelineSet to call this method.");var t=this.room.eventShouldLiveIn(e),r=t.threadId,n=t.shouldLiveInRoom;return this.thread?this.thread.id===r:n}}]),s}(p.TypedEventEmitter);e.exports.EventTimelineSet=g})),parcelRequire.register("gFIkm",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("8WkQI"),a=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EventTimeline=e.exports.Direction=void 0;var o,s,u=a(parcelRequire("abzte")),c=parcelRequire("fKX3v"),l=parcelRequire("kDAFF"),f=parcelRequire("axSuM");e.exports.Direction=o,(s=o||(e.exports.Direction=o={})).Backward="b",s.Forward="f";var d=function(){function e(t){var n,a,s;(0,r.default)(this,e),this.eventTimelineSet=t,(0,u.default)(this,"roomId",void 0),(0,u.default)(this,"name",void 0),(0,u.default)(this,"events",[]),(0,u.default)(this,"baseIndex",0),(0,u.default)(this,"startState",void 0),(0,u.default)(this,"endState",void 0),(0,u.default)(this,"startToken",null),(0,u.default)(this,"endToken",null),(0,u.default)(this,"prevTimeline",null),(0,u.default)(this,"nextTimeline",null),(0,u.default)(this,"paginationRequests",(s={},(0,i.default)(s,o.Backward,null),(0,i.default)(s,o.Forward,null),s)),this.roomId=null!==(n=null===(a=t.room)||void 0===a?void 0:a.roomId)&&void 0!==n?n:null,this.roomId&&(this.startState=new l.RoomState(this.roomId),this.endState=new l.RoomState(this.roomId)),this.paginationRequests={b:null,f:null},this.name=this.roomId+":"+(new Date).toISOString()}return(0,n.default)(e,[{key:"initialiseState",value:function(e){var t,r,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timelineWasEmpty;if(this.events.length>0)throw new Error("Cannot initialise state after events are added");null===(t=this.startState)||void 0===t||t.setStateEvents(e,{timelineWasEmpty:n}),null===(r=this.endState)||void 0===r||r.setStateEvents(e,{timelineWasEmpty:n})}},{key:"forkLive",value:function(t){var r=this.getState(t),n=new e(this.eventTimelineSet);return n.startState=null==r?void 0:r.clone(),n.endState=r,this.endState=null==r?void 0:r.clone(),n}},{key:"fork",value:function(t){var r=this.getState(t),n=new e(this.eventTimelineSet);return n.startState=null==r?void 0:r.clone(),n.endState=null==r?void 0:r.clone(),n}},{key:"getRoomId",value:function(){return this.roomId}},{key:"getFilter",value:function(){return this.eventTimelineSet.getFilter()}},{key:"getTimelineSet",value:function(){return this.eventTimelineSet}},{key:"getBaseIndex",value:function(){return this.baseIndex}},{key:"getEvents",value:function(){return this.events}},{key:"getState",value:function(t){if(t==e.BACKWARDS)return this.startState;if(t==e.FORWARDS)return this.endState;throw new Error("Invalid direction '"+t+"'")}},{key:"getPaginationToken",value:function(e){return this.roomId?this.getState(e).paginationToken:e===o.Backward?this.startToken:this.endToken}},{key:"setPaginationToken",value:function(e,t){this.roomId?this.getState(t).paginationToken=e:t===o.Backward?this.startToken=e:this.endToken=e}},{key:"getNeighbouringTimeline",value:function(t){if(t==e.BACKWARDS)return this.prevTimeline;if(t==e.FORWARDS)return this.nextTimeline;throw new Error("Invalid direction '"+t+"'")}},{key:"setNeighbouringTimeline",value:function(t,r){if(this.getNeighbouringTimeline(r))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+r+")");if(r==e.BACKWARDS)this.prevTimeline=t;else{if(r!=e.FORWARDS)throw new Error("Invalid direction '"+r+"'");this.nextTimeline=t}this.setPaginationToken(null,r)}},{key:"addEvent",value:function(t,r,n){var i,a,o=!!r;"object"==typeof r?(o=(a=r).toStartOfTimeline,n=a.roomState,i=a.timelineWasEmpty):void 0!==r&&c.logger.warn("Overload deprecated: `EventTimeline.addEvent(event, toStartOfTimeline, roomState?)` is deprecated in favor of the overload with `EventTimeline.addEvent(event, IAddEventOptions)`"),n||(n=o?this.startState:this.endState);var s,u,l=this.getTimelineSet();l.room&&(e.setEventMetadata(t,n,o),t.isState()&&l.room.getUnfilteredTimelineSet()===l&&(null===(s=n)||void 0===s||s.setStateEvents([t],{timelineWasEmpty:i}),t.sender&&(t.getType()!==f.EventType.RoomMember||o)||e.setEventMetadata(t,n,o)));u=o?0:this.events.length,this.events.splice(u,0,t),o&&this.baseIndex++}},{key:"removeEvent",value:function(e){for(var t=this.events.length-1;t>=0;t--){var r=this.events[t];if(r.getId()==e)return this.events.splice(t,1),t<this.baseIndex&&this.baseIndex--,r}return null}},{key:"toString",value:function(){return this.name}}],[{key:"setEventMetadata",value:function(e,t,r){var n,i,a,o;null!==(n=e.sender)&&void 0!==n&&null!==(i=n.events)&&void 0!==i&&i.member||(e.sender=t.getSentinelMember(e.getSender())),null!==(a=e.target)&&void 0!==a&&null!==(o=a.events)&&void 0!==o&&o.member||e.getType()!==f.EventType.RoomMember||(e.target=t.getSentinelMember(e.getStateKey())),e.isState()&&r&&(e.forwardLooking=!1)}}]),e}();e.exports.EventTimeline=d,(0,u.default)(d,"BACKWARDS",o.Backward),(0,u.default)(d,"FORWARDS",o.Forward)})),parcelRequire.register("aYDSN",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("caN7I"),a=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RelationsContainer=void 0;var o=a(parcelRequire("abzte")),s=parcelRequire("cqXfl"),u=parcelRequire("dlOEf"),c=function(){function e(t,n){(0,r.default)(this,e),this.client=t,this.room=n,(0,o.default)(this,"relations",new Map)}return(0,n.default)(e,[{key:"getChildEventsForEvent",value:function(e,t,r){var n,i;return null===(n=this.relations.get(e))||void 0===n||null===(i=n.get(t))||void 0===i?void 0:i.get(r)}},{key:"getAllChildEventsForEvent",value:function(e){var t,r,n=null!==(r=this.relations.get(e))&&void 0!==r?r:new Map,a=[],o=!0,s=!1,u=void 0,c=!0,l=!1,f=void 0;try{for(var d,h=n.values()[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=d.value;try{for(var p,b=v.values()[Symbol.iterator]();!(o=(p=b.next()).done);o=!0){var g=p.value;(t=a).push.apply(t,(0,i.default)(g.getRelations()))}}catch(e){s=!0,u=e}finally{try{o||null==b.return||b.return()}finally{if(s)throw u}}}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}return a}},{key:"aggregateParentEvent",value:function(e){var t=this.relations.get(e.getId());if(t){var r=!0,n=!1,i=void 0,a=!0,o=!1,s=void 0;try{for(var u,c=t.values()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;try{for(var f,d=l.values()[Symbol.iterator]();!(r=(f=d.next()).done);r=!0){f.value.setTargetEvent(e)}}catch(e){n=!0,i=e}finally{try{r||null==d.return||d.return()}finally{if(n)throw i}}}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}},{key:"aggregateChildEvent",value:function(e,t){var r=this;if(!e.isRedacted()&&e.status!==u.EventStatus.CANCELLED){var n=e.getRelation();if(n){var i=function(){e.isDecryptionFailure()?e.once(u.MatrixEventEvent.Decrypted,i):r.aggregateChildEvent(e,t)};if(e.isBeingDecrypted()||e.shouldAttemptDecryption())e.once(u.MatrixEventEvent.Decrypted,i);else{var a=n.event_id,o=n.rel_type,c=e.getType(),l=this.relations.get(a);l||(l=new Map,this.relations.set(a,l));var f=l.get(o);f||(f=new Map,l.set(o,f));var d=f.get(c);if(!d){var h,v,p;d=new s.Relations(o,c,this.client),f.set(c,d);var b=null!==(h=this.room)&&void 0!==h?h:null==t?void 0:t.room,g=null!==(v=null!==(p=null==t?void 0:t.findEventById(a))&&void 0!==p?p:null==b?void 0:b.findEventById(a))&&void 0!==v?v:null==b?void 0:b.getPendingEvent(a);g&&d.setTargetEvent(g)}d.addEvent(e)}}}}}]),e}();e.exports.RelationsContainer=c})),parcelRequire.register("cqXfl",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("caN7I"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq"),l=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RelationsEvent=e.exports.Relations=void 0;var f,d,h=l(parcelRequire("abzte")),v=parcelRequire("dlOEf"),p=parcelRequire("fKX3v"),b=parcelRequire("axSuM"),g=parcelRequire("4Eh2q"),m=parcelRequire("6pgXP");e.exports.RelationsEvent=f,(d=f||(e.exports.RelationsEvent=f={})).Add="Relations.add",d.Remove="Relations.remove",d.Redaction="Relations.redaction";var $=function(e){(0,o.default)(l,e);var t=(0,u.default)(l);function l(e,a,o,s){var u;(0,i.default)(this,l),(u=t.call(this)).relationType=e,u.eventType=a,u.altEventTypes=s,(0,h.default)((0,r.default)(u),"relationEventIds",new Set),(0,h.default)((0,r.default)(u),"relations",new Set),(0,h.default)((0,r.default)(u),"annotationsByKey",{}),(0,h.default)((0,r.default)(u),"annotationsBySender",{}),(0,h.default)((0,r.default)(u),"sortedAnnotationsByKey",[]),(0,h.default)((0,r.default)(u),"targetEvent",null),(0,h.default)((0,r.default)(u),"creationEmitted",!1),(0,h.default)((0,r.default)(u),"client",void 0),(0,h.default)((0,r.default)(u),"onEventStatus",(function(e,t){e.isSending()?t===v.EventStatus.CANCELLED&&(e.removeListener(v.MatrixEventEvent.Status,u.onEventStatus),u.removeEvent(e)):e.removeListener(v.MatrixEventEvent.Status,u.onEventStatus)}));var d,p=(0,r.default)(u);return(0,h.default)((0,r.default)(u),"onBeforeRedaction",(d=(0,n.default)((function(e){var t;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return p.relations.has(e)?(p.relations.delete(e),p.relationType!==b.RelationType.Annotation?[3,1]:(p.removeAnnotationFromAggregation(e),[3,3])):[2];case 1:return p.relationType!==b.RelationType.Replace||!p.targetEvent||p.targetEvent.isState()?[3,3]:[4,p.getLastReplacement()];case 2:t=r.sent(),p.targetEvent.makeReplaced(t),r.label=3;case 3:return e.removeListener(v.MatrixEventEvent.BeforeRedaction,p.onBeforeRedaction),p.emit(f.Redaction,e),[2]}}))})),function(e){return d.apply(this,arguments)})),u.client=o instanceof m.Room?o.client:o,u}return(0,a.default)(l,[{key:"addEvent",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return t.relationEventIds.has(e.getId())?[2]:(r=e.getRelation())?(n=r.rel_type,i=e.getType(),t.relationType===n&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return[t].concat((0,s.default)(r)).includes(e)}(i,t.eventType,t.altEventTypes)?(e.isSending()&&e.on(v.MatrixEventEvent.Status,t.onEventStatus),t.relations.add(e),t.relationEventIds.add(e.getId()),t.relationType!==b.RelationType.Annotation?[3,1]:(t.addAnnotationToAggregation(e),[3,3])):(p.logger.error("Event relation info doesn't match this container"),[2])):(p.logger.error("Event must have relation info"),[2]);case 1:return t.relationType!==b.RelationType.Replace||!t.targetEvent||t.targetEvent.isState()?[3,3]:[4,t.getLastReplacement()];case 2:a=o.sent(),t.targetEvent.makeReplaced(a),o.label=3;case 3:return e.on(v.MatrixEventEvent.BeforeRedaction,t.onBeforeRedaction),t.emit(f.Add,e),t.maybeEmitCreated(),[2]}}))}))()}},{key:"removeEvent",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return t.relations.has(e)?(t.relations.delete(e),t.relationType!==b.RelationType.Annotation?[3,1]:(t.removeAnnotationFromAggregation(e),[3,3])):[2];case 1:return t.relationType!==b.RelationType.Replace||!t.targetEvent||t.targetEvent.isState()?[3,3]:[4,t.getLastReplacement()];case 2:r=n.sent(),t.targetEvent.makeReplaced(r),n.label=3;case 3:return t.emit(f.Remove,e),[2]}}))}))()}},{key:"getRelations",value:function(){return(0,s.default)(this.relations)}},{key:"addAnnotationToAggregation",value:function(e){var t,r=(null!==(t=e.getRelation())&&void 0!==t?t:{}).key;if(r){var n=this.annotationsByKey[r];n||(n=this.annotationsByKey[r]=new Set,this.sortedAnnotationsByKey.push([r,n])),n.add(e),this.sortedAnnotationsByKey.sort((function(e,t){var r=e[1];return t[1].size-r.size}));var i=e.getSender(),a=this.annotationsBySender[i];a||(a=this.annotationsBySender[i]=new Set),a.add(e)}}},{key:"removeAnnotationFromAggregation",value:function(e){var t,r=(null!==(t=e.getRelation())&&void 0!==t?t:{}).key;if(r){var n=this.annotationsByKey[r];n&&(n.delete(e),this.sortedAnnotationsByKey.sort((function(e,t){var r=e[1];return t[1].size-r.size})));var i=e.getSender(),a=this.annotationsBySender[i];a&&a.delete(e)}}},{key:"getSortedAnnotationsByKey",value:function(){return this.relationType!==b.RelationType.Annotation?null:this.sortedAnnotationsByKey}},{key:"getAnnotationsBySender",value:function(){return this.relationType!==b.RelationType.Annotation?null:this.annotationsBySender}},{key:"getLastReplacement",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return e.relationType!==b.RelationType.Replace?[2,null]:e.targetEvent?(t=e.targetEvent.getServerAggregatedRelation(b.RelationType.Replace),r=null==t?void 0:t.origin_server_ts,null!=(n=e.getRelations().reduce((function(t,n){return n.getSender()!==e.targetEvent.getSender()||r&&r>n.getTs()||t&&t.getTs()>n.getTs()?t:n}),null))&&n.shouldAttemptDecryption()&&e.client.isCryptoEnabled()?[4,n.attemptDecryption(e.client.crypto)]:[3,2]):[2,null];case 1:return i.sent(),[3,4];case 2:return null!=n&&n.isBeingDecrypted()?[4,n.getDecryptionPromise()]:[3,4];case 3:i.sent(),i.label=4;case 4:return[2,n]}}))}))()}},{key:"setTargetEvent",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return t.targetEvent?[2]:(t.targetEvent=e,t.relationType!==b.RelationType.Replace||t.targetEvent.isState()?[3,2]:[4,t.getLastReplacement()]);case 1:(r=n.sent())&&t.targetEvent.makeReplaced(r),n.label=2;case 2:return t.maybeEmitCreated(),[2]}}))}))()}},{key:"maybeEmitCreated",value:function(){this.creationEmitted||this.targetEvent&&this.relations.size&&(this.creationEmitted=!0,this.targetEvent.emit(v.MatrixEventEvent.RelationsCreated,this.relationType,this.eventType))}}]),l}(g.TypedEventEmitter);e.exports.Relations=$})),parcelRequire.register("3QO6G",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EventStatus=void 0,e.exports.EventStatus=r,(n=r||(e.exports.EventStatus=r={})).NOT_SENT="not_sent",n.ENCRYPTING="encrypting",n.SENDING="sending",n.QUEUED="queued",n.SENT="sent",n.CANCELLED="cancelled"})),parcelRequire.register("qUWv2",(function(e,t){var r=parcelRequire("4JAgF");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RoomSummary=void 0;e.exports.RoomSummary=function e(t,n){(0,r.default)(this,e),this.roomId=t}})),parcelRequire.register("5FD7J",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("aPvD2"),a=parcelRequire("aBvOn"),o=parcelRequire("gNsil"),s=parcelRequire("caN7I"),u=parcelRequire("8rJSp"),c=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TypedReEmitter=e.exports.ReEmitter=void 0;var l=c(parcelRequire("abzte")),f=function(){function e(t){(0,r.default)(this,e),this.target=t,(0,l.default)(this,"reEmitters",new Map)}return(0,n.default)(e,[{key:"reEmit",value:function(e,t){var r=this,n=this.reEmitters.get(e);n||(n=new Map,this.reEmitters.set(e,n));var i=!0,a=!1,o=void 0;try{for(var u,c=function(){var t=u.value,i=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o;"error"===t&&0===r.target.listenerCount("error")||(o=r.target).emit.apply(o,[t].concat((0,s.default)(i),[e]))};e.on(t,i),n.set(t,i)},l=t[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)c()}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}}},{key:"stopReEmitting",value:function(e,t){var r=this.reEmitters.get(e);if(r){var n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;e.off(u,r.get(u)),r.delete(u)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}0===r.size&&this.reEmitters.delete(e)}}}]),e}();e.exports.ReEmitter=f;var d=function(e){(0,o.default)(s,e);var t=(0,u.default)(s);function s(e){return(0,r.default)(this,s),t.call(this,e)}return(0,n.default)(s,[{key:"reEmit",value:function(e,t){(0,i.default)((0,a.default)(s.prototype),"reEmit",this).call(this,e,t)}},{key:"stopReEmitting",value:function(e,t){(0,i.default)((0,a.default)(s.prototype),"stopReEmitting",this).call(this,e,t)}}]),s}(f);e.exports.TypedReEmitter=d})),parcelRequire.register("ge4zT",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("8WkQI"),a=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Filter=void 0;var o=a(parcelRequire("abzte")),s=parcelRequire("isqDr"),u=parcelRequire("eLFkp");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){for(var n=t.split("."),i=e,a=0;a<n.length-1;a++)i[n[a]]||(i[n[a]]={}),i=i[n[a]];i[n[n.length-1]]=r}var d=function(){function e(t,n){(0,r.default)(this,e),this.userId=t,this.filterId=n,(0,o.default)(this,"definition",{}),(0,o.default)(this,"roomFilter",void 0),(0,o.default)(this,"roomTimelineFilter",void 0)}return(0,n.default)(e,[{key:"getFilterId",value:function(){return this.filterId}},{key:"getDefinition",value:function(){return this.definition}},{key:"setDefinition",value:function(e){this.definition=e;var t=e.room,r={};t&&(t.rooms&&(r.rooms=t.rooms),t.rooms&&(r.not_rooms=t.not_rooms)),this.roomFilter=new u.FilterComponent(r,this.userId),this.roomTimelineFilter=new u.FilterComponent((null==t?void 0:t.timeline)||{},this.userId)}},{key:"getRoomTimelineFilterComponent",value:function(){return this.roomTimelineFilter}},{key:"filterRoomTimeline",value:function(e){return this.roomFilter&&(e=this.roomFilter.filter(e)),this.roomTimelineFilter&&(e=this.roomTimelineFilter.filter(e)),e}},{key:"setTimelineLimit",value:function(e){f(this.definition,"room.timeline.limit",e)}},{key:"setUnreadThreadNotifications",value:function(e){var t,r,n;this.definition=l(l({},this.definition),{},{room:l(l({},null===(t=this.definition)||void 0===t?void 0:t.room),{},{timeline:l(l({},null===(r=this.definition)||void 0===r||null===(n=r.room)||void 0===n?void 0:n.timeline),{},(0,i.default)({},s.UNREAD_THREAD_NOTIFICATIONS.name,e))})})}},{key:"setLazyLoadMembers",value:function(e){f(this.definition,"room.state.lazy_load_members",e)}},{key:"setIncludeLeaveRooms",value:function(e){f(this.definition,"room.include_leave",e)}}],[{key:"fromJson",value:function(t,r,n){var i=new e(t,r);return i.setDefinition(n),i}}]),e}();e.exports.Filter=d,(0,o.default)(d,"LAZY_LOADING_MESSAGES_FILTER",{lazy_load_members:!0})})),parcelRequire.register("isqDr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UNREAD_THREAD_NOTIFICATIONS=void 0;var r=new(parcelRequire("cQ59V").ServerControlledNamespacedValue)("unread_thread_notifications","org.matrix.msc3773.unread_thread_notifications");e.exports.UNREAD_THREAD_NOTIFICATIONS=r})),parcelRequire.register("eLFkp",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("8WkQI");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.FilterComponent=void 0;var a=parcelRequire("gPIgD");var o=function(){function e(t,n){(0,r.default)(this,e),this.filterJson=t,this.userId=n}return(0,n.default)(e,[{key:"check",value:function(e){var t,r,n=(null===(t=e.getUnsigned())||void 0===t?void 0:t["m.relations"])||{},i=Object.keys(n),o=[];return this.userId&&null!=n&&null!==(r=n[a.THREAD_RELATION_TYPE.name])&&void 0!==r&&r.current_user_participated&&o.push(this.userId),this.checkFields(e.getRoomId(),e.getSender(),e.getType(),!!e.getContent()&&void 0!==e.getContent().url,i,o)}},{key:"toJSON",value:function(){var e;return e={types:this.filterJson.types||null,not_types:this.filterJson.not_types||[],rooms:this.filterJson.rooms||null,not_rooms:this.filterJson.not_rooms||[],senders:this.filterJson.senders||null,not_senders:this.filterJson.not_senders||[],contains_url:this.filterJson.contains_url||null},(0,i.default)(e,a.FILTER_RELATED_BY_SENDERS.name,this.filterJson[a.FILTER_RELATED_BY_SENDERS.name]||[]),(0,i.default)(e,a.FILTER_RELATED_BY_REL_TYPES.name,this.filterJson[a.FILTER_RELATED_BY_REL_TYPES.name]||[]),e}},{key:"checkFields",value:function(e,t,r,n,i,o){var s={rooms:function(t){return e===t},senders:function(e){return t===e},types:function(e){return function(e,t){if(t.endsWith("*")){var r=t.slice(0,-1);return e.slice(0,r.length)===r}return e===t}(r,e)}};for(var u in s){var c=s[u],l="not_"+u,f=this.filterJson[l];if(null!=f&&f.some(c))return!1;var d=this.filterJson[u];if(d&&!d.some(c))return!1}var h=this.filterJson.contains_url;if(void 0!==h&&h!==n)return!1;var v=this.filterJson[a.FILTER_RELATED_BY_REL_TYPES.name];if(void 0!==v&&!this.arrayMatchesFilter(v,i))return!1;var p=this.filterJson[a.FILTER_RELATED_BY_SENDERS.name];return!(void 0!==p&&!this.arrayMatchesFilter(p,o))}},{key:"arrayMatchesFilter",value:function(e,t){return t.length>0&&e.every((function(e){return t.includes(e)}))}},{key:"filter",value:function(e){return e.filter(this.check,this)}},{key:"limit",value:function(){return void 0!==this.filterJson.limit?this.filterJson.limit:10}}]),e}();e.exports.FilterComponent=o})),parcelRequire.register("eDh8c",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("8rJSp"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isTimestampInDuration=e.exports.getBeaconInfoIdentifier=e.exports.BeaconEvent=e.exports.Beacon=void 0;var u,c,l=s(parcelRequire("abzte")),f=parcelRequire("jCRp8"),d=parcelRequire("5HsbU"),h=parcelRequire("4Eh2q");e.exports.BeaconEvent=u,(c=u||(e.exports.BeaconEvent=u={})).New="Beacon.new",c.Update="Beacon.update",c.LivenessChange="Beacon.LivenessChange",c.Destroy="Beacon.Destroy",c.LocationUpdate="Beacon.LocationUpdate";var v=function(e,t,r){return r>=e&&e+t>=r};e.exports.isTimestampInDuration=v;var p=function(e){return"".concat(e.getRoomId(),"_").concat(e.getStateKey())};e.exports.getBeaconInfoIdentifier=p;var b=function(e){(0,a.default)(s,e);var t=(0,o.default)(s);function s(e){var i;return(0,n.default)(this,s),(i=t.call(this)).rootEvent=e,(0,l.default)((0,r.default)(i),"roomId",void 0),(0,l.default)((0,r.default)(i),"_beaconInfo",void 0),(0,l.default)((0,r.default)(i),"_isLive",void 0),(0,l.default)((0,r.default)(i),"livenessWatchTimeout",void 0),(0,l.default)((0,r.default)(i),"_latestLocationEvent",void 0),(0,l.default)((0,r.default)(i),"clearLatestLocation",(function(){i._latestLocationEvent=void 0,i.emit(u.LocationUpdate,i.latestLocationState)})),i.setBeaconInfo(i.rootEvent),i.roomId=i.rootEvent.getRoomId(),i}return(0,i.default)(s,[{key:"isLive",get:function(){return!!this._isLive}},{key:"identifier",get:function(){return p(this.rootEvent)}},{key:"beaconInfoId",get:function(){return this.rootEvent.getId()}},{key:"beaconInfoOwner",get:function(){return this.rootEvent.getStateKey()}},{key:"beaconInfoEventType",get:function(){return this.rootEvent.getType()}},{key:"beaconInfo",get:function(){return this._beaconInfo}},{key:"latestLocationState",get:function(){return this._latestLocationEvent&&(0,f.parseBeaconContent)(this._latestLocationEvent.getContent())}},{key:"latestLocationEvent",get:function(){return this._latestLocationEvent}},{key:"update",value:function(e){if(p(e)!==this.identifier)throw new Error("Invalid updating event");e.getTs()<this.rootEvent.getTs()||(this.rootEvent=e,this.setBeaconInfo(this.rootEvent),this.emit(u.Update,e,this),this.clearLatestLocation())}},{key:"destroy",value:function(){this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this._isLive=!1,this.emit(u.Destroy,this.identifier)}},{key:"monitorLiveness",value:function(){var e=this;if(this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this.checkLiveness(),this.beaconInfo)if(this.isLive){var t=this.beaconInfo.timestamp+this.beaconInfo.timeout-Date.now();t>1&&(this.livenessWatchTimeout=setTimeout((function(){e.monitorLiveness()}),t))}else this.beaconInfo.timestamp>Date.now()&&(this.livenessWatchTimeout=setTimeout((function(){e.monitorLiveness()}),this.beaconInfo.timestamp-Date.now()))}},{key:"addLocations",value:function(e){var t,r=this;if(this.isLive){var n=null===(t=e.filter((function(e){var t=e.getContent(),n=(0,f.parseBeaconContent)(t);if(!n.uri||!n.timestamp)return!1;var i=n.timestamp;return r._beaconInfo.timestamp&&v(r._beaconInfo.timestamp,r._beaconInfo.timeout,i)&&(!r.latestLocationState||i>r.latestLocationState.timestamp)})).sort(d.sortEventsByLatestContentTimestamp))||void 0===t?void 0:t[0];n&&(this._latestLocationEvent=n,this.emit(u.LocationUpdate,this.latestLocationState))}}},{key:"setBeaconInfo",value:function(e){this._beaconInfo=(0,f.parseBeaconInfoContent)(e.getContent()),this.checkLiveness()}},{key:"checkLiveness",value:function(){var e,t,r=this.isLive;if(this.beaconInfo){var n=this.beaconInfo.timestamp>Date.now()?this.beaconInfo.timestamp-36e4:this.beaconInfo.timestamp;this._isLive=!(null===(e=this._beaconInfo)||void 0===e||!e.live)&&!!n&&v(n,null===(t=this._beaconInfo)||void 0===t?void 0:t.timeout,Date.now()),r!==this.isLive&&this.emit(u.LivenessChange,this.isLive,this)}}}]),s}(h.TypedEventEmitter);e.exports.Beacon=b})),parcelRequire.register("jCRp8",(function(e,t){var r=parcelRequire("8WkQI"),n=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.makeBeaconInfoContent=e.exports.makeBeaconContent=e.exports.getTextForLocationEvent=void 0,e.exports.makeEmoteMessage=function(e){return{msgtype:o.MsgType.Emote,body:e}},e.exports.makeHtmlEmote=function(e,t){return{msgtype:o.MsgType.Emote,format:"org.matrix.custom.html",body:e,formatted_body:t}},e.exports.makeHtmlMessage=function(e,t){return{msgtype:o.MsgType.Text,format:"org.matrix.custom.html",body:e,formatted_body:t}},e.exports.makeHtmlNotice=function(e,t){return{msgtype:o.MsgType.Notice,format:"org.matrix.custom.html",body:e,formatted_body:t}},e.exports.makeLocationContent=void 0,e.exports.makeNotice=function(e){return{msgtype:o.MsgType.Notice,body:e}},e.exports.makeTextMessage=function(e){return{msgtype:o.MsgType.Text,body:e}},e.exports.parseTopicContent=e.exports.parseLocationEvent=e.exports.parseBeaconInfoContent=e.exports.parseBeaconContent=e.exports.makeTopicContent=void 0;var i=n(parcelRequire("abzte")),a=parcelRequire("1EmlW"),o=parcelRequire("axSuM"),s=parcelRequire("5wARq"),u=parcelRequire("ezQWq"),c=parcelRequire("dVQkU");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var f=function(e,t,r,n){var i="at ".concat(new Date(r).toISOString());return[t===u.LocationAssetType.Self?"User":void 0,"Location",n?'"'.concat(n,'"'):void 0,e,i].filter(Boolean).join(" ")};e.exports.getTextForLocationEvent=f;var d=function(e,t,n,a,c){var d,h=null!=e?e:f(t,c||u.LocationAssetType.Self,n,a),v=n?(0,r.default)({},u.M_TIMESTAMP.name,n):{};return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}((d={msgtype:o.MsgType.Location,body:h,geo_uri:t},(0,r.default)(d,u.M_LOCATION.name,{description:a,uri:t}),(0,r.default)(d,u.M_ASSET.name,{type:c||u.LocationAssetType.Self}),(0,r.default)(d,s.TEXT_NODE_TYPE.name,h),d),v)};e.exports.makeLocationContent=d;e.exports.parseLocationEvent=function(e){var t,r,n=u.M_LOCATION.findIn(e),i=u.M_ASSET.findIn(e),a=u.M_TIMESTAMP.findIn(e),o=s.TEXT_NODE_TYPE.findIn(e),c=null!==(t=null==n?void 0:n.uri)&&void 0!==t?t:null==e?void 0:e.geo_uri,l=null==n?void 0:n.description,f=null!==(r=null==i?void 0:i.type)&&void 0!==r?r:u.LocationAssetType.Self,h=null!=o?o:e.body;return d(h,c,null!=a?a:void 0,l,f)};e.exports.makeTopicContent=function(e,t){var n=[{body:e,mimetype:"text/plain"}];return(0,a.isProvided)(t)&&n.push({body:t,mimetype:"text/html"}),(0,r.default)({topic:e},c.M_TOPIC.name,n)};e.exports.parseTopicContent=function(e){var t,r,n,i=c.M_TOPIC.findIn(e);return{text:null!==(t=null==i||null===(r=i.find((function(e){return!(0,a.isProvided)(e.mimetype)||"text/plain"===e.mimetype})))||void 0===r?void 0:r.body)&&void 0!==t?t:e.topic,html:null==i||null===(n=i.find((function(e){return"text/html"===e.mimetype})))||void 0===n?void 0:n.body}};e.exports.makeBeaconInfoContent=function(e,t,n,i,a){var o;return o={description:n,timeout:e,live:t},(0,r.default)(o,u.M_TIMESTAMP.name,a||Date.now()),(0,r.default)(o,u.M_ASSET.name,{type:null!=i?i:u.LocationAssetType.Self}),o};e.exports.parseBeaconInfoContent=function(e){var t,r=e.description,n=e.timeout,i=e.live,a=null!==(t=u.M_TIMESTAMP.findIn(e))&&void 0!==t?t:void 0,o=u.M_ASSET.findIn(e);return{description:r,timeout:n,live:i,assetType:null==o?void 0:o.type,timestamp:a}};e.exports.makeBeaconContent=function(e,t,n,i){var o;return o={},(0,r.default)(o,u.M_LOCATION.name,{description:i,uri:e}),(0,r.default)(o,u.M_TIMESTAMP.name,t),(0,r.default)(o,"m.relates_to",{rel_type:a.REFERENCE_RELATION.name,event_id:n}),o};e.exports.parseBeaconContent=function(e){var t,r=u.M_LOCATION.findIn(e),n=null!==(t=u.M_TIMESTAMP.findIn(e))&&void 0!==t?t:void 0;return{description:null==r?void 0:r.description,uri:null==r?void 0:r.uri,timestamp:n}}})),parcelRequire.register("dVQkU",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.M_TOPIC=void 0;var r=new(parcelRequire("cQ59V").UnstableValue)("m.topic","org.matrix.msc3765.topic");e.exports.M_TOPIC=r})),parcelRequire.register("e6IaQ",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("gNsil"),s=parcelRequire("dVhHy"),u=parcelRequire("caN7I"),c=parcelRequire("8rJSp"),l=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ReadReceipt=void 0,e.exports.synthesizeReceipt=m;var f=l(parcelRequire("abzte")),d=parcelRequire("kFcT2"),h=parcelRequire("4Eh2q"),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),p=parcelRequire("dlOEf"),b=parcelRequire("axSuM");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t,r){var n;return new p.MatrixEvent({content:(0,a.default)({},t.getId(),(0,a.default)({},r,(0,a.default)({},e,{ts:t.getTs(),thread_id:null!==(n=t.threadRootId)&&void 0!==n?n:d.MAIN_ROOM_TIMELINE}))),type:b.EventType.Receipt,room_id:t.getRoomId()})}var $=function(e){(0,o.default)(a,e);var t=(0,c.default)(a);function a(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var s;return(0,n.default)(this,a),s=t.call.apply(t,[this].concat((0,u.default)(i))),(0,f.default)((0,r.default)(s),"receipts",{}),(0,f.default)((0,r.default)(s),"receiptCacheByEventId",{}),(0,f.default)((0,r.default)(s),"timeline",void 0),s}return(0,i.default)(a,[{key:"getReadReceiptForUserId",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.ReceiptType.Read,a=(0,s.default)(null!==(t=null===(r=this.receipts[i])||void 0===r?void 0:r[e])&&void 0!==t?t:[],2),o=a[0],u=a[1];return n?o:null!=u?u:o}},{key:"getEventReadUpTo",value:function(e){var t,r,n,i,a,o,s,u,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getUnfilteredTimelineSet(),f=this.getReadReceiptForUserId(e,c,d.ReceiptType.Read),h=this.getReadReceiptForUserId(e,c,d.ReceiptType.ReadPrivate);(null!=f&&f.eventId&&null!=h&&h.eventId&&(o=l.compareEventOrdering(null==f?void 0:f.eventId,null==h?void 0:h.eventId)),!o&&null!=f&&null!==(t=f.data)&&void 0!==t&&t.ts&&null!=h&&null!==(r=h.data)&&void 0!==r&&r.ts)&&(o=(null==f||null===(s=f.data)||void 0===s?void 0:s.ts)-(null==h||null===(u=h.data)||void 0===u?void 0:u.ts));return o?null!==(a=o<0?null==h?void 0:h.eventId:null==f?void 0:f.eventId)&&void 0!==a?a:null:null!==(n=null!==(i=null==h?void 0:h.eventId)&&void 0!==i?i:null==f?void 0:f.eventId)&&void 0!==n?n:null}},{key:"addReceiptToStructure",value:function(e,t,r,n,i){var a,o;this.receipts[t]||(this.receipts[t]={}),this.receipts[t][r]||(this.receipts[t][r]=[null,null]);var s,u=this.receipts[t][r],c=u[0];i&&(c=null!==(s=u[1])&&void 0!==s?s:u[0]);if(c){var l=this.getUnfilteredTimelineSet().compareEventOrdering(c.eventId,e);if(null!==l&&l>=0)return}var f={eventId:e,data:n},d=i?u[0]:f,h=i?f:u[1],v=null;d&&h&&(v=this.getUnfilteredTimelineSet().compareEventOrdering(d.eventId,h.eventId));var p=null===v||v<0,b=null!==(a=u[1])&&void 0!==a?a:u[0];if(i&&p?u[1]=f:i||(u[0]=f,p||(u[1]=null)),b!==(null!==(o=u[1])&&void 0!==o?o:u[0])){if(b&&this.receiptCacheByEventId[b.eventId]){var g=b.eventId;this.receiptCacheByEventId[g]=this.receiptCacheByEventId[g].filter((function(e){return e.type!==t||e.userId!==r})),this.receiptCacheByEventId[g].length<1&&delete this.receiptCacheByEventId[g]}this.receiptCacheByEventId[e]||(this.receiptCacheByEventId[e]=[]),this.receiptCacheByEventId[e].push({userId:r,type:t,data:n})}}},{key:"getReceiptsForEvent",value:function(e){return this.receiptCacheByEventId[e.getId()]||[]}},{key:"addLocalEchoReceipt",value:function(e,t,r){this.addReceipt(m(e,t,r),!0)}},{key:"getUsersReadUpTo",value:function(e){return this.getReceiptsForEvent(e).filter((function(e){return v.isSupportedReceiptType(e.type)})).map((function(e){return e.userId}))}},{key:"hasUserReadEvent",value:function(e,t){var r,n=this.getEventReadUpTo(e,!1);if(n===t)return!0;if(null!==(r=this.timeline)&&void 0!==r&&r.length&&this.timeline[this.timeline.length-1].getSender()&&this.timeline[this.timeline.length-1].getSender()===e)return!0;for(var i=(null===(a=this.timeline)||void 0===a?void 0:a.length)-1;i>=0;--i){var a,o=this.timeline[i];if(o.getId()===t)return!1;if(o.getId()===n)return!0}return!1}}]),a}(h.TypedEventEmitter);e.exports.ReadReceipt=$})),parcelRequire.register("jNzPF",(function(e,t){var r,n,i,a,o,s=parcelRequire("3mpD3"),u=parcelRequire("8WkQI"),c=parcelRequire("dVhHy"),l=parcelRequire("cDTRq");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ServerSupport=e.exports.Feature=void 0,e.exports.buildFeatureSupportMap=function(e){return d.apply(this,arguments)},e.exports.ServerSupport=r,(n=r||(e.exports.ServerSupport=r={}))[n.Stable=0]="Stable",n[n.Unstable=1]="Unstable",n[n.Unsupported=2]="Unsupported",e.exports.Feature=i,(a=i||(e.exports.Feature=i={})).Thread="Thread",a.ThreadUnreadNotifications="ThreadUnreadNotifications",a.LoginTokenRequest="LoginTokenRequest",a.RelationBasedRedactions="RelationBasedRedactions",a.AccountDataDeletion="AccountDataDeletion";var f=(o={},(0,u.default)(o,i.Thread,{unstablePrefixes:["org.matrix.msc3440"],matrixVersion:"v1.3"}),(0,u.default)(o,i.ThreadUnreadNotifications,{unstablePrefixes:["org.matrix.msc3771","org.matrix.msc3773"],matrixVersion:"v1.4"}),(0,u.default)(o,i.LoginTokenRequest,{unstablePrefixes:["org.matrix.msc3882"]}),(0,u.default)(o,i.RelationBasedRedactions,{unstablePrefixes:["org.matrix.msc3912"]}),(0,u.default)(o,i.AccountDataDeletion,{unstablePrefixes:["org.matrix.msc3391"]}),o);function d(){return(d=(0,s.default)((function(e){var t,n,i,a,o,s,u,d,h,v,p,b,g,m,$;return(0,l.__generator)(this,(function(l){t=new Map,n=!0,i=!1,a=void 0;try{for(o=Object.entries(f)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)u=(0,c.default)(s.value,2),d=u[0],h=u[1],m=null!==(v=null===(p=e.versions)||void 0===p?void 0:p.includes(h.matrixVersion||""))&&void 0!==v&&v,$=null!==(b=null===(g=h.unstablePrefixes)||void 0===g?void 0:g.every((function(t){var r;return!0===(null===(r=e.unstable_features)||void 0===r?void 0:r[t])})))&&void 0!==b&&b,m?t.set(d,r.Stable):$?t.set(d,r.Unstable):t.set(d,r.Unsupported)}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return[2,t]}))}))).apply(this,arguments)}})),parcelRequire.register("cldfj",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.PushProcessor=void 0;var a=i(parcelRequire("abzte")),o=parcelRequire("5HsbU"),s=parcelRequire("fKX3v"),u=parcelRequire("1udkq"),c=parcelRequire("axSuM");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=[u.PushRuleKind.Override,u.PushRuleKind.ContentSpecific,u.PushRuleKind.RoomSpecific,u.PushRuleKind.SenderSpecific,u.PushRuleKind.Underride],h=[{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:u.ConditionKind.EventMatch,key:"type",pattern:"m.reaction"}],actions:[u.PushRuleActionName.DontNotify]},{rule_id:".org.matrix.msc3786.rule.room.server_acl",default:!0,enabled:!0,conditions:[{kind:u.ConditionKind.EventMatch,key:"type",pattern:c.EventType.RoomServerAcl},{kind:u.ConditionKind.EventMatch,key:"state_key",pattern:""}],actions:[]}],v=[{rule_id:".org.matrix.msc3914.rule.room.call",default:!0,enabled:!0,conditions:[{kind:u.ConditionKind.EventMatch,key:"type",pattern:"org.matrix.msc3401.call"},{kind:u.ConditionKind.CallStarted}],actions:[u.PushRuleActionName.Notify,{set_tweak:u.TweakName.Sound,value:"default"}]}],p=function(){function e(t){(0,r.default)(this,e),this.client=t}return(0,n.default)(e,[{key:"matchingRuleFromKindSet",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=d[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,u=t[s];if(u){var c=!0,l=!1,h=void 0;try{for(var v,p=u[Symbol.iterator]();!(c=(v=p.next()).done);c=!0){var b=v.value;if(b.enabled){var g=this.templateRuleToRaw(s,b);if(g&&this.ruleMatchesEvent(g,e))return f(f({},b),{},{kind:s})}}}catch(e){l=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw h}}}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"templateRuleToRaw",value:function(e,t){var r={rule_id:t.rule_id,actions:t.actions,conditions:[]};switch(e){case u.PushRuleKind.Underride:case u.PushRuleKind.Override:r.conditions=t.conditions;break;case u.PushRuleKind.RoomSpecific:if(!t.rule_id)return null;r.conditions.push({kind:u.ConditionKind.EventMatch,key:"room_id",value:t.rule_id});break;case u.PushRuleKind.SenderSpecific:if(!t.rule_id)return null;r.conditions.push({kind:u.ConditionKind.EventMatch,key:"user_id",value:t.rule_id});break;case u.PushRuleKind.ContentSpecific:if(!t.pattern)return null;r.conditions.push({kind:u.ConditionKind.EventMatch,key:"content.body",pattern:t.pattern})}return r}},{key:"eventFulfillsCondition",value:function(e,t){switch(e.kind){case u.ConditionKind.EventMatch:return this.eventFulfillsEventMatchCondition(e,t);case u.ConditionKind.ContainsDisplayName:return this.eventFulfillsDisplayNameCondition(e,t);case u.ConditionKind.RoomMemberCount:return this.eventFulfillsRoomMemberCountCondition(e,t);case u.ConditionKind.SenderNotificationPermission:return this.eventFulfillsSenderNotifPermCondition(e,t);case u.ConditionKind.CallStarted:case u.ConditionKind.CallStartedPrefix:return this.eventFulfillsCallStartedCondition(e,t)}return!1}},{key:"eventFulfillsSenderNotifPermCondition",value:function(e,t){var r=e.key;if(!r)return!1;var n=this.client.getRoom(t.getRoomId());return!(null==n||!n.currentState)&&n.currentState.mayTriggerNotifOfType(r,t.getSender())}},{key:"eventFulfillsRoomMemberCountCondition",value:function(e,t){if(!e.is)return!1;var r=this.client.getRoom(t.getRoomId());if(!r||!r.currentState||!r.currentState.members)return!1;var n=r.currentState.getJoinedMemberCount(),i=e.is.match(/^([=<>]*)(\d*)$/);if(!i)return!1;var a=i[1],o=parseInt(i[2]);if(isNaN(o))return!1;switch(a){case"":case"==":return n==o;case"<":return n<o;case">":return n>o;case"<=":return n<=o;case">=":return n>=o;default:return!1}}},{key:"eventFulfillsDisplayNameCondition",value:function(e,t){var r,n=t.getContent();if(t.isEncrypted()&&t.getClearContent()&&(n=t.getClearContent()),!n||!n.body||"string"!=typeof n.body)return!1;var i=this.client.getRoom(t.getRoomId()),a=null==i||null===(r=i.currentState)||void 0===r?void 0:r.getMember(this.client.credentials.userId);if(!a)return!1;var s=a.name,u=new RegExp("(^|\\W)"+(0,o.escapeRegExp)(s)+"(\\W|$)","i");return n.body.search(u)>-1}},{key:"eventFulfillsEventMatchCondition",value:function(e,t){if(!e.key)return!1;var r=this.valueForDottedKey(e.key,t);if("string"!=typeof r)return!1;if(e.value)return e.value===r;if("string"!=typeof e.pattern)return!1;var n="content.body"===e.key?this.createCachedRegex("(^|\\W)",e.pattern,"(\\W|$)"):this.createCachedRegex("^",e.pattern,"$");return!!r.match(n)}},{key:"eventFulfillsCallStartedCondition",value:function(e,t){return["m.ring","m.prompt"].includes(t.getContent()["m.intent"])&&!("m.terminated"in t.getContent())&&(t.getPrevContent()["m.terminated"]!==t.getContent()["m.terminated"]||(0,o.deepCompare)(t.getPrevContent(),{}))}},{key:"createCachedRegex",value:function(t,r,n){return e.cachedGlobToRegex[r]||(e.cachedGlobToRegex[r]=new RegExp(t+(0,o.globToRegexp)(r)+n,"i")),e.cachedGlobToRegex[r]}},{key:"valueForDottedKey",value:function(e,t){var r,n=e.split("."),i=n[0];for("content"===i?(r=t.getContent(),n.shift()):"type"===i?(r=t.getType(),n.shift()):r=t.event;n.length>0;){var a=n.shift();if((0,o.isNullOrUndefined)(r[a]))return null;r=r[a]}return r}},{key:"matchingRuleForEventWithRulesets",value:function(e,t){return t?e.getSender()===this.client.credentials.userId?null:this.matchingRuleFromKindSet(e,t.global):null}},{key:"pushActionsForEventAndRulesets",value:function(t,r){var n=this.matchingRuleForEventWithRulesets(t,r);if(!n)return{};var i=e.actionListToActionsObject(n.actions);return void 0===i.tweaks.highlight&&(i.tweaks.highlight=n.kind==u.PushRuleKind.ContentSpecific),i}},{key:"ruleMatchesEvent",value:function(e,t){var r,n=this;return!(null!==(r=e.conditions)&&void 0!==r&&r.some((function(e){return!n.eventFulfillsCondition(e,t)})))}},{key:"actionsForEvent",value:function(e){return this.pushActionsForEventAndRulesets(e,this.client.pushRules)}},{key:"getPushRuleById",value:function(e){for(var t=0,r=["global"];t<r.length;t++){var n,i=r[t];if(void 0!==(null===(n=this.client.pushRules)||void 0===n?void 0:n[i])){var a=!0,o=!1,s=void 0;try{for(var u,c=d[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;if(void 0!==this.client.pushRules[i][l]){var f=!0,h=!1,v=void 0;try{for(var p,b=this.client.pushRules[i][l][Symbol.iterator]();!(f=(p=b.next()).done);f=!0){var g=p.value;if(g.rule_id===e)return g}}catch(e){h=!0,v=e}finally{try{f||null==b.return||b.return()}finally{if(h)throw v}}}}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}return null}}],[{key:"actionListToActionsObject",value:function(e){var t={notify:!1,tweaks:{}},r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s===u.PushRuleActionName.Notify?t.notify=!0:"object"==typeof s&&(void 0===s.value&&(s.value=!0),t.tweaks[s.set_tweak]=s.value)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"rewriteDefaultRules",value:function(e){var t,r=JSON.parse(JSON.stringify(e));r||(r={}),r.global||(r.global={}),r.global.override||(r.global.override=[]),r.global.override||(r.global.underride=[]);var n=r.global.override,i=!0,a=!1,o=void 0;try{for(var u,c=function(){var e=u.value,t=n.find((function(t){return t.rule_id===e.rule_id}));if(t)t.default=e.default,t.conditions=e.conditions,t.actions=e.actions;else{var r=e.rule_id;s.logger.warn("Adding default global override for ".concat(r)),n.push(e)}},l=h[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)c()}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}var f=null!==(t=r.global.underride)&&void 0!==t?t:[],d=!0,p=!1,b=void 0;try{for(var g,m=function(){var e=g.value,t=f.find((function(t){return t.rule_id===e.rule_id}));if(t)t.default=e.default,t.conditions=e.conditions,t.actions=e.actions;else{var r=e.rule_id;s.logger.warn("Adding default global underride for ".concat(r)),f.push(e)}},$=v[Symbol.iterator]();!(d=(g=$.next()).done);d=!0)m()}catch(e){p=!0,b=e}finally{try{d||null==$.return||$.return()}finally{if(p)throw b}}return r}}]),e}();e.exports.PushProcessor=p,(0,a.default)(p,"cachedGlobToRegex",{})})),parcelRequire.register("1udkq",(function(e,t){"use strict";var r,n,i,a,o,s;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TweakName=e.exports.RuleId=e.exports.PushRuleKind=e.exports.PushRuleActionName=e.exports.DMMemberCountCondition=e.exports.ConditionOperator=e.exports.ConditionKind=void 0,e.exports.isDmMemberCountCondition=function(e){return"==2"===e||"2"===e},e.exports.PushRuleActionName=r,(n=r||(e.exports.PushRuleActionName=r={})).DontNotify="dont_notify",n.Notify="notify",n.Coalesce="coalesce",e.exports.TweakName=i,(a=i||(e.exports.TweakName=i={})).Highlight="highlight",a.Sound="sound",e.exports.ConditionOperator=o,(s=o||(e.exports.ConditionOperator=o={})).ExactEquals="==",s.LessThan="<",s.GreaterThan=">",s.GreaterThanOrEqual=">=",s.LessThanOrEqual="<=";var u,c,l,f,d,h;e.exports.DMMemberCountCondition="2",e.exports.ConditionKind=u,(c=u||(e.exports.ConditionKind=u={})).EventMatch="event_match",c.ContainsDisplayName="contains_display_name",c.RoomMemberCount="room_member_count",c.SenderNotificationPermission="sender_notification_permission",c.CallStarted="call_started",c.CallStartedPrefix="org.matrix.msc3914.call_started",e.exports.PushRuleKind=l,(f=l||(e.exports.PushRuleKind=l={})).Override="override",f.ContentSpecific="content",f.RoomSpecific="room",f.SenderSpecific="sender",f.Underride="underride",e.exports.RuleId=d,(h=d||(e.exports.RuleId=d={})).Master=".m.rule.master",h.ContainsDisplayName=".m.rule.contains_display_name",h.ContainsUserName=".m.rule.contains_user_name",h.AtRoomNotification=".m.rule.roomnotif",h.DM=".m.rule.room_one_to_one",h.EncryptedDM=".m.rule.encrypted_room_one_to_one",h.Message=".m.rule.message",h.EncryptedMessage=".m.rule.encrypted",h.InviteToSelf=".m.rule.invite_for_me",h.MemberEvent=".m.rule.member_event",h.IncomingCall=".m.rule.call",h.SuppressNotices=".m.rule.suppress_notices",h.Tombstone=".m.rule.tombstone"})),parcelRequire.register("h5yrP",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("gNsil"),i=parcelRequire("9PuT7"),a=parcelRequire("8rJSp"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.KeySignatureUploadError=e.exports.InvalidStoreState=e.exports.InvalidStoreError=e.exports.InvalidCryptoStoreState=e.exports.InvalidCryptoStoreError=void 0;var s,u,c=o(parcelRequire("abzte"));e.exports.InvalidStoreState=s,(u=s||(e.exports.InvalidStoreState=s={}))[u.ToggledLazyLoading=0]="ToggledLazyLoading";var l,f=function(e){(0,n.default)(i,e);var t=(0,a.default)(i);function i(e,n){var a;(0,r.default)(this,i);var o="Store is invalid because ".concat(e,", ")+"please stop the client, delete all data and start the client again";return(a=t.call(this,o)).reason=e,a.value=n,a.name="InvalidStoreError",a}return i}((0,i.default)(Error));e.exports.InvalidStoreError=f,(0,c.default)(f,"TOGGLED_LAZY_LOADING",s.ToggledLazyLoading),e.exports.InvalidCryptoStoreState=l,(l||(e.exports.InvalidCryptoStoreState=l={})).TooNew="TOO_NEW";var d=function(e){(0,n.default)(i,e);var t=(0,a.default)(i);function i(e){var n;(0,r.default)(this,i);var a="Crypto store is invalid because ".concat(e,", ")+"please stop the client, delete all data and start the client again";return(n=t.call(this,a)).reason=e,n.name="InvalidCryptoStoreError",n}return i}((0,i.default)(Error));e.exports.InvalidCryptoStoreError=d,(0,c.default)(d,"TOO_NEW",l.TooNew);var h=function(e){(0,n.default)(i,e);var t=(0,a.default)(i);function i(e,n){var a;return(0,r.default)(this,i),(a=t.call(this,e)).value=n,a}return i}((0,i.default)(Error));e.exports.KeySignatureUploadError=h})),parcelRequire.register("84XpH",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("caN7I"),s=parcelRequire("8rJSp"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0});var c={MatrixHttpApi:!0};e.exports.MatrixHttpApi=void 0;var l=u(parcelRequire("abzte")),f=parcelRequire("h4gNu"),d=parcelRequire("9ou7v");Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(c,t)||t in e.exports&&e.exports[t]===d[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return d[t]}}))}));var h=y(parcelRequire("5HsbU")),v=y(parcelRequire("K6gSj")),p=parcelRequire("dgPXy");Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(c,t)||t in e.exports&&e.exports[t]===p[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return p[t]}}))}));var b=parcelRequire("crss0");Object.keys(b).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(c,t)||t in e.exports&&e.exports[t]===b[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return b[t]}}))}));var g=parcelRequire("5k60K");Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(c,t)||t in e.exports&&e.exports[t]===g[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return g[t]}}))}));var m=parcelRequire("3j5lJ");function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return($=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=$(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(c,t)||t in e.exports&&e.exports[t]===m[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return m[t]}}))}));var w=function(e){(0,a.default)(u,e);var t=(0,s.default)(u);function u(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var s;return(0,n.default)(this,u),s=t.call.apply(t,[this].concat((0,o.default)(i))),(0,l.default)((0,r.default)(s),"uploads",[]),s}return(0,i.default)(u,[{key:"uploadContent",value:function(e){var t,r,n,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this,u=null===(t=o.includeFilename)||void 0===t||t,c=null!==(r=o.abortController)&&void 0!==r?r:new AbortController,l=null!==(n=null!==(i=o.type)&&void 0!==i?i:e.type)&&void 0!==n?n:"application/octet-stream",f=null!==(a=o.name)&&void 0!==a?a:e.name,m={loaded:0,total:0,abortController:c},$=h.defer();if($parcel$global.XMLHttpRequest){var y=new $parcel$global.XMLHttpRequest,w=function(){y.abort(),$.reject(new Error("Timeout"))},_=v.setTimeout(w,3e4);y.onreadystatechange=function(){if(y.readyState===$parcel$global.XMLHttpRequest.DONE){v.clearTimeout(_);try{if(0===y.status)throw new DOMException(y.statusText,"AbortError");if(!y.responseText)throw new Error("No response body.");y.status>=400?$.reject((0,g.parseErrorResponse)(y,y.responseText)):$.resolve(JSON.parse(y.responseText))}catch(e){if("AbortError"===e.name)return void $.reject(e);$.reject(new b.ConnectionError("request failed",e))}}},y.upload.onprogress=function(e){var t;v.clearTimeout(_),m.loaded=e.loaded,m.total=e.total,_=v.setTimeout(w,3e4),null===(t=o.progressHandler)||void 0===t||t.call(o,{loaded:e.loaded,total:e.total})};var S=this.getUrl("/upload",void 0,d.MediaPrefix.R0);u&&f&&S.searchParams.set("filename",encodeURIComponent(f)),!this.opts.useAuthorizationHeader&&this.opts.accessToken&&S.searchParams.set("access_token",encodeURIComponent(this.opts.accessToken)),y.open(p.Method.Post,S.href),this.opts.useAuthorizationHeader&&this.opts.accessToken&&y.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),y.setRequestHeader("Content-Type",l),y.send(e),c.signal.addEventListener("abort",(function(){y.abort()}))}else{var C={};u&&f&&(C.filename=f);var k={"Content-Type":l};this.authedRequest(p.Method.Post,"/upload",C,e,{prefix:d.MediaPrefix.R0,headers:k,abortSignal:c.signal}).then((function(e){return s.opts.onlyData?e:e.json()})).then($.resolve,$.reject)}return m.promise=$.promise.finally((function(){h.removeElement(s.uploads,(function(e){return e===m}))})),c.signal.addEventListener("abort",(function(){h.removeElement(s.uploads,(function(e){return e===m})),$.reject(new DOMException("Aborted","AbortError"))})),this.uploads.push(m),m.promise}},{key:"cancelUpload",value:function(e){var t=this.uploads.find((function(t){return t.promise===e}));return!!t&&(t.abortController.abort(),!0)}},{key:"getCurrentUploads",value:function(){return this.uploads}},{key:"getContentUri",value:function(){return{base:this.opts.baseUrl,path:d.MediaPrefix.R0+"/upload",params:{access_token:this.opts.accessToken}}}}]),u}(f.FetchHttpApi);e.exports.MatrixHttpApi=w})),parcelRequire.register("h4gNu",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.FetchHttpApi=void 0;var s=o(parcelRequire("abzte")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),c=parcelRequire("dgPXy"),l=parcelRequire("crss0"),f=parcelRequire("3j5lJ"),d=parcelRequire("5k60K");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var v=function(){function e(t,r){var i;(0,n.default)(this,e),this.eventEmitter=t,this.opts=r,(0,s.default)(this,"abortController",new AbortController),u.checkObjectHasKeys(r,["baseUrl","prefix"]),r.onlyData=!!r.onlyData,r.useAuthorizationHeader=null===(i=r.useAuthorizationHeader)||void 0===i||i}return(0,i.default)(e,[{key:"abort",value:function(){this.abortController.abort(),this.abortController=new AbortController}},{key:"fetch",value:function(e,t){return this.opts.fetchFn?this.opts.fetchFn(e,t):$parcel$global.fetch(e,t)}},{key:"setIdBaseUrl",value:function(e){this.opts.idBaseUrl=e}},{key:"idServerRequest",value:function(e,t,r,n,i){if(!this.opts.idBaseUrl)throw new Error("No identity server base URL set");var a=void 0,o=void 0;e===c.Method.Get?a=r:o=r;var s=this.getUrl(t,a,n,this.opts.idBaseUrl),u={json:!0,headers:{}};return i&&(u.headers.Authorization="Bearer ".concat(i)),this.requestOtherUrl(e,s,o,u)}},{key:"authedRequest",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=this;r||(r={}),this.opts.accessToken&&(this.opts.useAuthorizationHeader?(i.headers||(i.headers={}),i.headers.Authorization||(i.headers.Authorization="Bearer "+this.opts.accessToken),r.access_token&&delete r.access_token):r.access_token||(r.access_token=this.opts.accessToken));var o=this.request(e,t,r,n,i);return o.catch((function(e){"M_UNKNOWN_TOKEN"!=e.errcode||null!=i&&i.inhibitLogoutEmit?"M_CONSENT_NOT_GIVEN"==e.errcode&&a.eventEmitter.emit(f.HttpApiEvent.NoConsent,e.message,e.data.consent_uri):a.eventEmitter.emit(f.HttpApiEvent.SessionLoggedOut,e)})),o}},{key:"request",value:function(e,t,r,n,i){var a=this.getUrl(t,r,null==i?void 0:i.prefix,null==i?void 0:i.baseUrl);return this.requestOtherUrl(e,a,n,i)}},{key:"requestOtherUrl",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this;return(0,r.default)((function(){var r,s,u,c,f,h,v,p,b,g,m,$,y,w,_,S,C,k;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:f=Object.assign({},i.headers||{}),h=null===(r=i.json)||void 0===r||r,v=h&&(null==n||null===(s=n.constructor)||void 0===s?void 0:s.name)===Object.name,h&&(v&&!f["Content-Type"]&&(f["Content-Type"]="application/json"),f.Accept||(f.Accept="application/json")),p=null!==(u=i.localTimeoutMs)&&void 0!==u?u:o.opts.localTimeoutMs,b=null!==(c=i.keepAlive)&&void 0!==c&&c,g=[o.abortController.signal],void 0!==p&&g.push((0,d.timeoutSignal)(p)),i.abortSignal&&g.push(i.abortSignal),m=v?JSON.stringify(n):n,$=(0,d.anySignal)(g),y=$.signal,w=$.cleanup,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,o.fetch(t,{signal:y,method:e,body:m,headers:f,mode:"cors",redirect:"follow",referrer:"",referrerPolicy:"no-referrer",cache:"no-cache",credentials:"omit",keepalive:b})];case 2:return _=a.sent(),[3,5];case 3:if("AbortError"===(S=a.sent()).name)throw S;throw new l.ConnectionError("fetch failed",S);case 4:return w(),[7];case 5:return _.ok?[3,7]:(C=d.parseErrorResponse,k=[_],[4,_.text()]);case 6:throw C.apply(void 0,k.concat([a.sent()]));case 7:return o.opts.onlyData?[2,h?_.json():_.text()]:[2,_]}}))}))()}},{key:"getUrl",value:function(e,t,r,n){var i=new URL((null!=n?n:this.opts.baseUrl)+(null!=r?r:this.opts.prefix)+e);return t&&u.encodeParams(t,i.searchParams),i}}]),e}();e.exports.FetchHttpApi=v})),parcelRequire.register("dgPXy",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Method=void 0,e.exports.Method=r,(n=r||(e.exports.Method=r={})).Get="GET",n.Put="PUT",n.Post="POST",n.Delete="DELETE"})),parcelRequire.register("crss0",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("9PuT7"),s=parcelRequire("8rJSp"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MatrixError=e.exports.HTTPError=e.exports.ConnectionError=void 0;var c=u(parcelRequire("abzte")),l=function(e){(0,a.default)(r,e);var t=(0,s.default)(r);function r(e,i){var a;return(0,n.default)(this,r),(a=t.call(this,e)).httpStatus=i,a}return r}((0,o.default)(Error));e.exports.HTTPError=l;var f=function(e){(0,a.default)(i,e);var t=(0,s.default)(i);function i(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;(0,n.default)(this,i);var l=a.error||"Unknown message";return o&&(l="[".concat(o,"] ").concat(l)),s&&(l="".concat(l," (").concat(s,")")),(e=t.call(this,"MatrixError: ".concat(l),o)).httpStatus=o,e.url=s,e.event=u,(0,c.default)((0,r.default)(e),"errcode",void 0),(0,c.default)((0,r.default)(e),"data",void 0),e.errcode=a.errcode,e.name=a.errcode||"Unknown error code",e.data=a,e}return i}(l);e.exports.MatrixError=f;var d=function(e){(0,a.default)(r,e);var t=(0,s.default)(r);function r(e,i){return(0,n.default)(this,r),t.call(this,e+(i?": ".concat(i.message):""))}return(0,i.default)(r,[{key:"name",get:function(){return"ConnectionError"}}]),r}((0,o.default)(Error));e.exports.ConnectionError=d})),parcelRequire.register("3j5lJ",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.HttpApiEvent=void 0,e.exports.HttpApiEvent=r,(n=r||(e.exports.HttpApiEvent=r={})).SessionLoggedOut="Session.logged_out",n.NoConsent="no_consent"})),parcelRequire.register("5k60K",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("cDTRq");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.anySignal=function(e){var t=function(){var t=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value.removeEventListener("abort",r)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}},r=function(){n.abort(),t()},n=new AbortController,i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(c.aborted){r();break}c.addEventListener("abort",r)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return{signal:n.signal,cleanup:t}},e.exports.parseErrorResponse=function(e,t){var r,n,a;try{a=function(e){var t;t=u(e)?e.getResponseHeader("Content-Type"):e.headers.get("Content-Type");if(!t)return null;try{return(0,i.parse)(t)}catch(e){throw new Error("Error parsing Content-Type '".concat(t,"': ").concat(e))}}(e)}catch(e){return e}return"application/json"===(null===(r=a)||void 0===r?void 0:r.type)&&t?new s.MatrixError(JSON.parse(t),e.status,u(e)?e.responseURL:e.url):"text/plain"===(null===(n=a)||void 0===n?void 0:n.type)?new s.HTTPError("Server returned ".concat(e.status," error: ").concat(t),e.status):new s.HTTPError("Server returned ".concat(e.status," error"),e.status)},e.exports.retryNetworkOperation=function(e,t){return c.apply(this,arguments)},e.exports.timeoutSignal=function(e){var t=new AbortController;return setTimeout((function(){t.abort()}),e),t.signal};var i=parcelRequire("6ylJG"),a=parcelRequire("fKX3v"),o=parcelRequire("5HsbU"),s=parcelRequire("crss0");function u(e){return"getResponseHeader"in e}function c(){return(c=(0,r.default)((function(e,t){var r,i,u,c;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:r=0,i=null,n.label=1;case 1:if(!(r<e))return[3,8];n.label=2;case 2:return n.trys.push([2,6,,7]),r>0?(u=1e3*Math.pow(2,r),a.logger.log("network operation failed ".concat(r," times, retrying in ").concat(u,"ms...")),[4,(0,o.sleep)(u)]):[3,4];case 3:n.sent(),n.label=4;case 4:return[4,t()];case 5:return[2,n.sent()];case 6:if(!((c=n.sent())instanceof s.ConnectionError))throw c;return r+=1,i=c,[3,7];case 7:return[3,1];case 8:throw i}}))}))).apply(this,arguments)}})),parcelRequire.register("6ylJG",(function(e,t){
/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var r;$parcel$export(e.exports,"parse",(function(){return r}),(function(e){return r=e}));var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,i=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,o=/\\([\u000b\u0020-\u00ff])/g,s=/([\\"])/g,u=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function c(e){var t=String(e);if(a.test(t))return t;if(t.length>0&&!i.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(s,"\\$1")+'"'}function l(e){this.parameters=Object.create(null),this.type=e}r=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;"function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]);if("string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var r=t.indexOf(";"),i=-1!==r?t.slice(0,r).trim():t.trim();if(!u.test(i))throw new TypeError("invalid media type");var a=new l(i.toLowerCase());if(-1!==r){var s,c,f;for(n.lastIndex=r;c=n.exec(t);){if(c.index!==r)throw new TypeError("invalid parameter format");r+=c[0].length,s=c[1].toLowerCase(),34===(f=c[2]).charCodeAt(0)&&-1!==(f=f.slice(1,-1)).indexOf("\\")&&(f=f.replace(o,"$1")),a.parameters[s]=f}if(r!==t.length)throw new TypeError("invalid parameter format")}return a}})),parcelRequire.register("9ou7v",(function(e,t){"use strict";var r,n,i,a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MediaPrefix=e.exports.IdentityPrefix=e.exports.ClientPrefix=void 0,e.exports.ClientPrefix=r,(n=r||(e.exports.ClientPrefix=r={})).R0="/_matrix/client/r0",n.V1="/_matrix/client/v1",n.V3="/_matrix/client/v3",n.Unstable="/_matrix/client/unstable",e.exports.IdentityPrefix=i,(i||(e.exports.IdentityPrefix=i={})).V2="/_matrix/identity/v2",e.exports.MediaPrefix=a,(a||(e.exports.MediaPrefix=a={})).R0="/_matrix/media/r0"})),parcelRequire.register("K6gSj",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.clearTimeout=function(e){if(0===a.length)return;var t;for(t=0;t<a.length;t++){if(a[t].key==e){a.splice(t,1);break}}0===t&&s()},e.exports.setTimeout=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),u=2;u<r;u++)n[u-2]=arguments[u];(t=t||0)<0&&(t=0);var l=Date.now()+t,f=i++;o("setTimeout: scheduling cb",f,"at",l,"(delay",t,")");var d={runAt:l,func:e,params:n,key:f},h=c(a,(function(e){return e.runAt-l}));return a.splice(h,0,d),s(),f};var r,n=parcelRequire("fKX3v"),i=0,a=[],o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r]};function s(){r&&$parcel$global.clearTimeout(r);var e=a[0];if(e){var t=Date.now(),n=Math.min(e.runAt-t,1e3);o("scheduleRealCallback: now:",t,"delay:",n),r=$parcel$global.setTimeout(u,n)}else o("scheduleRealCallback: no more callbacks, not rescheduling")}function u(){var e=Date.now();o("runCallbacks: now:",e);for(var t=[];;){var r=a[0];if(!r||r.runAt>e)break;var i=a.shift();o("runCallbacks: popping",i.key),t.push(i)}s();var u=!0,c=!1,l=void 0;try{for(var f,d=t[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var h=f.value;try{h.func.apply($parcel$global,h.params)}catch(e){n.logger.error("Uncaught exception in callback function",e)}}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}}function c(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>1;t(e[i])>0?n=i:r=i+1}return r}})),parcelRequire.register("3S5uk",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StubStore=void 0;var s=o(parcelRequire("abzte")),u=function(){function e(){(0,n.default)(this,e),(0,s.default)(this,"accountData",{}),(0,s.default)(this,"fromToken",null)}return(0,i.default)(e,[{key:"isNewlyCreated",value:function(){return Promise.resolve(!0)}},{key:"getSyncToken",value:function(){return this.fromToken}},{key:"setSyncToken",value:function(e){this.fromToken=e}},{key:"storeRoom",value:function(e){}},{key:"getRoom",value:function(e){return null}},{key:"getRooms",value:function(){return[]}},{key:"removeRoom",value:function(e){}},{key:"getRoomSummaries",value:function(){return[]}},{key:"storeUser",value:function(e){}},{key:"getUser",value:function(e){return null}},{key:"getUsers",value:function(){return[]}},{key:"scrollback",value:function(e,t){return[]}},{key:"storeEvents",value:function(e,t,r,n){}},{key:"storeFilter",value:function(e){}},{key:"getFilter",value:function(e,t){return null}},{key:"getFilterIdByName",value:function(e){return null}},{key:"setFilterIdByName",value:function(e,t){}},{key:"storeAccountDataEvents",value:function(e){}},{key:"getAccountData",value:function(e){}},{key:"setSyncData",value:function(e){return Promise.resolve()}},{key:"wantsSave",value:function(){return!1}},{key:"save",value:function(){}},{key:"startup",value:function(){return Promise.resolve()}},{key:"getSavedSync",value:function(){return Promise.resolve(null)}},{key:"getSavedSyncToken",value:function(){return Promise.resolve(null)}},{key:"deleteAllData",value:function(){return Promise.resolve()}},{key:"getOutOfBandMembers",value:function(){return Promise.resolve(null)}},{key:"setOutOfBandMembers",value:function(e,t){return Promise.resolve()}},{key:"clearOutOfBandMembers",value:function(){return Promise.resolve()}},{key:"getClientOptions",value:function(){return Promise.resolve(void 0)}},{key:"storeClientOptions",value:function(e){return Promise.resolve()}},{key:"getPendingEvents",value:function(e){return(0,r.default)((function(){return(0,a.__generator)(this,(function(e){return[2,[]]}))}))()}},{key:"setPendingEvents",value:function(e,t){return Promise.resolve()}},{key:"saveToDeviceBatches",value:function(e){return(0,r.default)((function(){return(0,a.__generator)(this,(function(e){return[2,Promise.resolve()]}))}))()}},{key:"getOldestToDeviceBatch",value:function(){return Promise.resolve(null)}},{key:"removeToDeviceBatch",value:function(e){return(0,r.default)((function(){return(0,a.__generator)(this,(function(e){return[2,Promise.resolve()]}))}))()}}]),e}();e.exports.StubStore=u})),parcelRequire.register("cyUK7",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("dVhHy"),c=parcelRequire("caN7I"),l=parcelRequire("9PuT7"),f=parcelRequire("8rJSp"),d=parcelRequire("cDTRq"),h=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MatrixCall=e.exports.CallType=e.exports.CallState=e.exports.CallParty=e.exports.CallEvent=e.exports.CallErrorCode=e.exports.CallError=e.exports.CallDirection=void 0,e.exports.createNewMatrixCall=function(e,t,r){if(!Z())return null;var n=!!r&&r.forceTURN,i={client:e,roomId:t,invitee:null==r?void 0:r.invitee,turnServers:e.getTurnServers(),forceTURN:e.forceTURN||n,opponentDeviceId:null==r?void 0:r.opponentDeviceId,opponentSessionId:null==r?void 0:r.opponentSessionId,groupCallId:null==r?void 0:r.groupCallId},a=new J(i);return e.reEmitter.reEmit(a,Object.values(k)),a},e.exports.genCallID=V,e.exports.setTracksEnabled=Y,e.exports.supportsMatrixCall=Z;var v,p,b,g,m,$,y,w,_,S,C,k,E,R,x,M=h(parcelRequire("abzte")),I=parcelRequire("1Pjj8"),T=parcelRequire("b3ia9"),A=parcelRequire("fKX3v"),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),D=parcelRequire("axSuM"),P=parcelRequire("hEw4R"),q=parcelRequire("ihYWI"),L=parcelRequire("hyMKr"),U=parcelRequire("4Eh2q"),N=parcelRequire("3jE4D"),B=parcelRequire("473pQ"),F=parcelRequire("84XpH");function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,M.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(p=v||(v={})).AUDIO="audio",p.VIDEO="video",(b||(b={})).OPUS="opus",e.exports.CallState=g,(m=g||(e.exports.CallState=g={})).Fledgling="fledgling",m.InviteSent="invite_sent",m.WaitLocalMedia="wait_local_media",m.CreateOffer="create_offer",m.CreateAnswer="create_answer",m.Connecting="connecting",m.Connected="connected",m.Ringing="ringing",m.Ended="ended",e.exports.CallType=$,(y=$||(e.exports.CallType=$={})).Voice="voice",y.Video="video",e.exports.CallDirection=w,(_=w||(e.exports.CallDirection=w={})).Inbound="inbound",_.Outbound="outbound",e.exports.CallParty=S,(C=S||(e.exports.CallParty=S={})).Local="local",C.Remote="remote",e.exports.CallEvent=k,(E=k||(e.exports.CallEvent=k={})).Hangup="hangup",E.State="state",E.Error="error",E.Replaced="replaced",E.LocalHoldUnhold="local_hold_unhold",E.RemoteHoldUnhold="remote_hold_unhold",E.HoldUnhold="hold_unhold",E.FeedsChanged="feeds_changed",E.AssertedIdentityChanged="asserted_identity_changed",E.LengthChanged="length_changed",E.DataChannel="datachannel",E.SendVoipEvent="send_voip_event",e.exports.CallErrorCode=R,(x=R||(e.exports.CallErrorCode=R={})).UserHangup="user_hangup",x.LocalOfferFailed="local_offer_failed",x.NoUserMedia="no_user_media",x.UnknownDevices="unknown_devices",x.SendInvite="send_invite",x.CreateAnswer="create_answer",x.CreateOffer="create_offer",x.SendAnswer="send_answer",x.SetRemoteDescription="set_remote_description",x.SetLocalDescription="set_local_description",x.AnsweredElsewhere="answered_elsewhere",x.IceFailed="ice_failed",x.InviteTimeout="invite_timeout",x.Replaced="replaced",x.SignallingFailed="signalling_timeout",x.UserBusy="user_busy",x.Transfered="transferred",x.NewSession="new_session";var W=function(e){(0,s.default)(n,e);var t=(0,f.default)(n);function n(e,a,o){var s;return(0,i.default)(this,n),s=t.call(this,a+": "+o),(0,M.default)((0,r.default)(s),"code",void 0),s.code=e,s}return n}((0,l.default)(Error));function V(){return Date.now().toString()+(0,P.randomString)(16)}function z(e){return[{mediaType:"audio",codec:"opus",enableDtx:!0,maxAverageBitrate:e?12e3:void 0}]}function G(e,t){return e+":"+t}e.exports.CallError=W;var J=function(e){(0,s.default)(l,e);var t=(0,f.default)(l);function l(e){var a,o;(0,i.default)(this,l),a=t.call(this),(0,M.default)((0,r.default)(a),"roomId",void 0),(0,M.default)((0,r.default)(a),"callId",void 0),(0,M.default)((0,r.default)(a),"invitee",void 0),(0,M.default)((0,r.default)(a),"hangupParty",void 0),(0,M.default)((0,r.default)(a),"hangupReason",void 0),(0,M.default)((0,r.default)(a),"direction",void 0),(0,M.default)((0,r.default)(a),"ourPartyId",void 0),(0,M.default)((0,r.default)(a),"peerConn",void 0),(0,M.default)((0,r.default)(a),"toDeviceSeq",0),(0,M.default)((0,r.default)(a),"isPtt",!1),(0,M.default)((0,r.default)(a),"_state",g.Fledgling),(0,M.default)((0,r.default)(a),"client",void 0),(0,M.default)((0,r.default)(a),"forceTURN",void 0),(0,M.default)((0,r.default)(a),"turnServers",void 0),(0,M.default)((0,r.default)(a),"candidateSendQueue",[]),(0,M.default)((0,r.default)(a),"candidateSendTries",0),(0,M.default)((0,r.default)(a),"candidatesEnded",!1),(0,M.default)((0,r.default)(a),"feeds",[]),(0,M.default)((0,r.default)(a),"transceivers",new Map),(0,M.default)((0,r.default)(a),"inviteOrAnswerSent",!1),(0,M.default)((0,r.default)(a),"waitForLocalAVStream",!1),(0,M.default)((0,r.default)(a),"successor",void 0),(0,M.default)((0,r.default)(a),"opponentMember",void 0),(0,M.default)((0,r.default)(a),"opponentVersion",void 0),(0,M.default)((0,r.default)(a),"opponentPartyId",void 0),(0,M.default)((0,r.default)(a),"opponentCaps",void 0),(0,M.default)((0,r.default)(a),"iceDisconnectedTimeout",void 0),(0,M.default)((0,r.default)(a),"inviteTimeout",void 0),(0,M.default)((0,r.default)(a),"removeTrackListeners",new Map),(0,M.default)((0,r.default)(a),"remoteOnHold",!1),(0,M.default)((0,r.default)(a),"callStatsAtEnd",void 0),(0,M.default)((0,r.default)(a),"makingOffer",!1),(0,M.default)((0,r.default)(a),"ignoreOffer",!1),(0,M.default)((0,r.default)(a),"responsePromiseChain",void 0),(0,M.default)((0,r.default)(a),"remoteCandidateBuffer",new Map),(0,M.default)((0,r.default)(a),"remoteAssertedIdentity",void 0),(0,M.default)((0,r.default)(a),"remoteSDPStreamMetadata",void 0),(0,M.default)((0,r.default)(a),"callLengthInterval",void 0),(0,M.default)((0,r.default)(a),"callStartTime",void 0),(0,M.default)((0,r.default)(a),"opponentDeviceId",void 0),(0,M.default)((0,r.default)(a),"opponentDeviceInfo",void 0),(0,M.default)((0,r.default)(a),"opponentSessionId",void 0),(0,M.default)((0,r.default)(a),"groupCallId",void 0),(0,M.default)((0,r.default)(a),"gotLocalIceCandidate",(function(e){if(e.candidate){if(a.candidatesEnded)return void A.logger.warn("Got candidate after candidates have ended - ignoring!");if(A.logger.debug("Call "+a.callId+" got local ICE "+e.candidate.sdpMid+" candidate: "+e.candidate.candidate),a.callHasEnded())return;""===e.candidate.candidate?a.queueCandidate(null):a.queueCandidate(e.candidate)}})),(0,M.default)((0,r.default)(a),"onIceGatheringStateChange",(function(e){var t;A.logger.debug("Call ".concat(a.callId," ice gathering state changed to  ").concat(a.peerConn.iceGatheringState)),"complete"===(null===(t=a.peerConn)||void 0===t?void 0:t.iceGatheringState)&&a.queueCandidate(null)})),(0,M.default)((0,r.default)(a),"getLocalOfferFailed",(function(e){A.logger.error("Call ".concat(a.callId," Failed to get local offer"),e),a.emit(k.Error,new W(R.LocalOfferFailed,"Failed to get local offer!",e)),a.terminate(S.Local,R.LocalOfferFailed,!1)})),(0,M.default)((0,r.default)(a),"getUserMediaFailed",(function(e){a.successor?a.successor.getUserMediaFailed(e):(A.logger.warn("Failed to get user media - ending call ".concat(a.callId),e),a.emit(k.Error,new W(R.NoUserMedia,"Couldn't start capturing media! Is your microphone set up and does this app have permission?",e)),a.terminate(S.Local,R.NoUserMedia,!1))})),(0,M.default)((0,r.default)(a),"onIceConnectionStateChanged",(function(){var e,t,r,n,i;if(!a.callHasEnded()){if(A.logger.debug("Call ID "+a.callId+": ICE connection state changed to: "+(null===(e=a.peerConn)||void 0===e?void 0:e.iceConnectionState)),["connected","completed"].includes(null!==(t=null===(r=a.peerConn)||void 0===r?void 0:r.iceConnectionState)&&void 0!==t?t:""))clearTimeout(a.iceDisconnectedTimeout),a.state=g.Connected,a.callLengthInterval||a.callStartTime||(a.callStartTime=Date.now(),a.callLengthInterval=setInterval((function(){a.emit(k.LengthChanged,Math.round((Date.now()-a.callStartTime)/1e3))}),1e3));else if("failed"==(null===(n=a.peerConn)||void 0===n?void 0:n.iceConnectionState)){var o;null!==(o=a.peerConn)&&void 0!==o&&o.restartIce?(a.candidatesEnded=!1,a.peerConn.restartIce()):(A.logger.info("Hanging up call ".concat(a.callId," (ICE failed and no ICE restart method)")),a.hangup(R.IceFailed,!1))}else"disconnected"==(null===(i=a.peerConn)||void 0===i?void 0:i.iceConnectionState)&&(a.iceDisconnectedTimeout=setTimeout((function(){A.logger.info("Hanging up call ".concat(a.callId," (ICE disconnected for too long)")),a.hangup(R.IceFailed,!1)}),3e4),a.state=g.Connecting);var s=!0,u=!1,c=void 0;if(a.isPtt&&["failed","disconnected"].includes(a.peerConn.iceConnectionState))try{for(var l,f=a.getRemoteFeeds()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){l.value.setAudioVideoMuted(!0,!0)}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}}})),(0,M.default)((0,r.default)(a),"onSignallingStateChanged",(function(){var e;A.logger.debug("call ".concat(a.callId,": Signalling state changed to: ").concat(null===(e=a.peerConn)||void 0===e?void 0:e.signalingState))})),(0,M.default)((0,r.default)(a),"onTrack",(function(e){if(0!==e.streams.length){var t=e.streams[0];if(a.pushRemoteFeed(t),!a.removeTrackListeners.has(t)){var r=function(){0===t.getTracks().length&&(A.logger.info("Call ".concat(a.callId," removing track streamId: ").concat(t.id)),a.deleteFeedByStream(t),t.removeEventListener("removetrack",r),a.removeTrackListeners.delete(t))};t.addEventListener("removetrack",r),a.removeTrackListeners.set(t,r)}}else A.logger.warn("Call ".concat(a.callId," Streamless ").concat(e.track.kind," found: ignoring."))})),(0,M.default)((0,r.default)(a),"onDataChannel",(function(e){a.emit(k.DataChannel,e.channel)}));var s=(0,r.default)(a);if((0,M.default)((0,r.default)(a),"onNegotiationNeeded",(0,n.default)((function(){return(0,d.__generator)(this,(function(e){return A.logger.info("Call ".concat(s.callId," Negotiation is needed!")),s.state!==g.CreateOffer&&0===s.opponentVersion?(A.logger.info("Call ".concat(s.callId," Opponent does not support renegotiation: ignoring negotiationneeded event")),[2]):(s.queueGotLocalOffer(),[2])}))}))),(0,M.default)((0,r.default)(a),"onHangupReceived",(function(e){A.logger.debug("Hangup received for call ID "+a.callId),a.partyIdMatches(e)||a.state===g.Ringing?a.terminate(S.Remote,e.reason||R.UserHangup,!0):A.logger.info("Call ".concat(a.callId," Ignoring message from party ID ").concat(e.party_id,": our partner is ").concat(a.opponentPartyId))})),(0,M.default)((0,r.default)(a),"onRejectReceived",(function(e){A.logger.debug("Reject received for call ID "+a.callId),[g.InviteSent,g.Ringing].includes(a.state)||a.state===g.Fledgling&&a.direction===w.Inbound?a.terminate(S.Remote,e.reason||R.UserHangup,!0):A.logger.debug("Call ".concat(a.callId," is in state: ").concat(a.state,": ignoring reject"))})),(0,M.default)((0,r.default)(a),"onAnsweredElsewhere",(function(e){A.logger.debug("Call "+a.callId+" answered elsewhere"),a.terminate(S.Remote,R.AnsweredElsewhere,!0)})),a.roomId=e.roomId,a.invitee=e.invitee,a.client=e.client,!a.client.deviceId)throw new Error("Client must have a device ID to start calls");a.forceTURN=null!==(o=e.forceTURN)&&void 0!==o&&o,a.ourPartyId=a.client.deviceId,a.opponentDeviceId=e.opponentDeviceId,a.opponentSessionId=e.opponentSessionId,a.groupCallId=e.groupCallId,a.turnServers=e.turnServers||[],0===a.turnServers.length&&a.client.isFallbackICEServerAllowed()&&a.turnServers.push({urls:["stun:turn.matrix.org"]});var u=!0,c=!1,f=void 0;try{for(var h,v=a.turnServers[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var p=h.value;O.checkObjectHasKeys(p,["urls"])}}catch(e){c=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(c)throw f}}return a.callId=V(),a}return(0,a.default)(l,[{key:"placeVoiceCall",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.placeCall(!0,!1)];case 1:return t.sent(),[2]}}))}))()}},{key:"placeVideoCall",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.placeCall(!0,!0)];case 1:return t.sent(),[2]}}))}))()}},{key:"createDataChannel",value:function(e,t){var r=this.peerConn.createDataChannel(e,t);return this.emit(k.DataChannel,r),r}},{key:"getOpponentMember",value:function(){return this.opponentMember}},{key:"getOpponentDeviceId",value:function(){return this.opponentDeviceId}},{key:"getOpponentSessionId",value:function(){return this.opponentSessionId}},{key:"opponentCanBeTransferred",value:function(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.transferee"])}},{key:"opponentSupportsDTMF",value:function(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.dtmf"])}},{key:"getRemoteAssertedIdentity",value:function(){return this.remoteAssertedIdentity}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;this._state=e,this.emit(k.State,e,t)}},{key:"type",get:function(){return this.hasLocalUserMediaVideoTrack||this.hasRemoteUserMediaVideoTrack?$.Video:$.Voice}},{key:"hasLocalUserMediaVideoTrack",get:function(){var e;return!(null===(e=this.localUsermediaStream)||void 0===e||!e.getVideoTracks().length)}},{key:"hasRemoteUserMediaVideoTrack",get:function(){return this.getRemoteFeeds().some((function(e){var t;return e.purpose===q.SDPStreamMetadataPurpose.Usermedia&&(null===(t=e.stream)||void 0===t?void 0:t.getVideoTracks().length)}))}},{key:"hasLocalUserMediaAudioTrack",get:function(){var e;return!(null===(e=this.localUsermediaStream)||void 0===e||!e.getAudioTracks().length)}},{key:"hasRemoteUserMediaAudioTrack",get:function(){return this.getRemoteFeeds().some((function(e){var t;return e.purpose===q.SDPStreamMetadataPurpose.Usermedia&&!(null===(t=e.stream)||void 0===t||!t.getAudioTracks().length)}))}},{key:"localUsermediaFeed",get:function(){return this.getLocalFeeds().find((function(e){return e.purpose===q.SDPStreamMetadataPurpose.Usermedia}))}},{key:"localScreensharingFeed",get:function(){return this.getLocalFeeds().find((function(e){return e.purpose===q.SDPStreamMetadataPurpose.Screenshare}))}},{key:"localUsermediaStream",get:function(){var e;return null===(e=this.localUsermediaFeed)||void 0===e?void 0:e.stream}},{key:"localScreensharingStream",get:function(){var e;return null===(e=this.localScreensharingFeed)||void 0===e?void 0:e.stream}},{key:"remoteUsermediaFeed",get:function(){return this.getRemoteFeeds().find((function(e){return e.purpose===q.SDPStreamMetadataPurpose.Usermedia}))}},{key:"remoteScreensharingFeed",get:function(){return this.getRemoteFeeds().find((function(e){return e.purpose===q.SDPStreamMetadataPurpose.Screenshare}))}},{key:"remoteUsermediaStream",get:function(){var e;return null===(e=this.remoteUsermediaFeed)||void 0===e?void 0:e.stream}},{key:"remoteScreensharingStream",get:function(){var e;return null===(e=this.remoteScreensharingFeed)||void 0===e?void 0:e.stream}},{key:"getFeedByStreamId",value:function(e){return this.getFeeds().find((function(t){return t.stream.id===e}))}},{key:"getFeeds",value:function(){return this.feeds}},{key:"getLocalFeeds",value:function(){return this.feeds.filter((function(e){return e.isLocal()}))}},{key:"getRemoteFeeds",value:function(){return this.feeds.filter((function(e){return!e.isLocal()}))}},{key:"initOpponentCrypto",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:if(!e.opponentDeviceId)return[2];if(!e.client.getUseE2eForGroupCall())return[2];if(!e.client.isCryptoEnabled())return e.opponentDeviceInfo=new N.DeviceInfo(e.opponentDeviceId),[2];if(!e.client.crypto)throw new Error("Crypto is not initialised.");if(!(r=e.invitee||(null===(t=e.getOpponentMember())||void 0===t?void 0:t.userId)))throw new Error("Couldn't find opponent user ID to init crypto");return[4,e.client.crypto.deviceList.downloadKeys([r],!1)];case 1:if(n=i.sent(),e.opponentDeviceInfo=n[r][e.opponentDeviceId],void 0===e.opponentDeviceInfo)throw new B.GroupCallUnknownDeviceError(r);return[2]}}))}))()}},{key:"getLocalSDPStreamMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={},r=!0,n=!1,i=void 0;try{for(var a,o=this.getLocalFeeds()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;e&&(s.sdpMetadataStreamId=s.stream.id),t[s.sdpMetadataStreamId]={purpose:s.purpose,audio_muted:s.isAudioMuted(),video_muted:s.isVideoMuted()}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"noIncomingFeeds",value:function(){return!this.feeds.some((function(e){return!e.isLocal()}))}},{key:"pushRemoteFeed",value:function(e){if(this.opponentSupportsSDPStreamMetadata()){var t=this.getOpponentMember().userId,r=this.remoteSDPStreamMetadata[e.id].purpose,n=this.remoteSDPStreamMetadata[e.id].audio_muted,i=this.remoteSDPStreamMetadata[e.id].video_muted;r?this.getFeedByStreamId(e.id)?A.logger.warn("Ignoring stream with id ".concat(e.id," because we already have a feed for it")):(this.feeds.push(new L.CallFeed({client:this.client,call:this,roomId:this.roomId,userId:t,deviceId:this.getOpponentDeviceId(),stream:e,purpose:r,audioMuted:n,videoMuted:i})),this.emit(k.FeedsChanged,this.feeds),A.logger.info("Call ".concat(this.callId,' pushed remote stream (id="').concat(e.id,'", ')+'active="'.concat(e.active,'", purpose=').concat(r,")"))):A.logger.warn("Call ".concat(this.callId," Ignoring stream with id ").concat(e.id," because we didn't get any metadata about it"))}else this.pushRemoteFeedWithoutMetadata(e)}},{key:"pushRemoteFeedWithoutMetadata",value:function(e){var t,r=this.getOpponentMember().userId,n=q.SDPStreamMetadataPurpose.Usermedia,i=null===(t=this.feeds.find((function(e){return!e.isLocal()})))||void 0===t?void 0:t.stream;i&&e.id!==i.id?A.logger.warn("Call ".concat(this.callId," Ignoring new stream ID ").concat(e.id,": we already have stream ID ").concat(i.id)):this.getFeedByStreamId(e.id)?A.logger.warn("Ignoring stream with id ".concat(e.id," because we already have a feed for it")):(this.feeds.push(new L.CallFeed({client:this.client,call:this,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:r,deviceId:this.getOpponentDeviceId(),stream:e,purpose:n})),this.emit(k.FeedsChanged,this.feeds),A.logger.info("Call ".concat(this.callId,' pushed remote stream (id="').concat(e.id,'", active="').concat(e.active,'")')))}},{key:"pushNewLocalFeed",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.client.getUserId();Y(e.getAudioTracks(),!0),Y(e.getVideoTracks(),!0),this.getFeedByStreamId(e.id)?A.logger.warn("Ignoring stream with id ".concat(e.id," because we already have a feed for it")):this.pushLocalFeed(new L.CallFeed({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:n,deviceId:this.getOpponentDeviceId(),stream:e,purpose:t}),r)}},{key:"pushLocalFeed",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.feeds.some((function(t){return e.stream.id===t.stream.id})))A.logger.info("Ignoring duplicate local stream ".concat(e.stream.id," in call ").concat(this.callId));else{this.feeds.push(e);var r=!0,n=!1,i=void 0;if(t)try{for(var a,o=this,s=function(){var t=a.value;A.logger.info("Call ".concat(o.callId," ")+"Adding track ("+'id="'.concat(t.id,'", ')+'kind="'.concat(t.kind,'", ')+'streamId="'.concat(e.stream.id,'", ')+'streamPurpose="'.concat(e.purpose,'", ')+"enabled=".concat(t.enabled)+") to peer connection");var r=G(e.purpose,t.kind);if(o.transceivers.has(r)){var n=o.transceivers.get(r);n.sender.setStreams&&n.sender.setStreams(e.stream),n.sender.replaceTrack(t),n.direction="inactive"===n.direction?"sendonly":"sendrecv"}else{var i=o.peerConn.addTrack(t,e.stream),s=o.peerConn.getTransceivers().find((function(e){return e.sender===i}));s?o.transceivers.set(r,s):A.logger.warn("Didn't find a matching transceiver after adding track!")}},u=e.stream.getTracks()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)s()}catch(e){n=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(n)throw i}}A.logger.info("Call ".concat(this.callId," ")+"Pushed local stream "+'(id="'.concat(e.stream.id,'", ')+'active="'.concat(e.stream.active,'", ')+'purpose="'.concat(e.purpose,'")')),this.emit(k.FeedsChanged,this.feeds)}}},{key:"removeLocalFeed",value:function(e){for(var t=0,r=[G(e.purpose,"audio"),G(e.purpose,"video")];t<r.length;t++){var n=r[t];if(this.transceivers.has(n)){var i=this.transceivers.get(n);i.sender&&this.peerConn.removeTrack(i.sender)}}e.purpose===q.SDPStreamMetadataPurpose.Screenshare&&this.client.getMediaHandler().stopScreensharingStream(e.stream),this.deleteFeed(e)}},{key:"deleteAllFeeds",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.feeds[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;a.isLocal()&&this.groupCallId||a.dispose()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this.feeds=[],this.emit(k.FeedsChanged,this.feeds)}},{key:"deleteFeedByStream",value:function(e){var t=this.getFeedByStreamId(e.id);t?this.deleteFeed(t):A.logger.warn("Call ".concat(this.callId," Didn't find the feed with stream id ").concat(e.id," to delete"))}},{key:"deleteFeed",value:function(e){e.dispose(),this.feeds.splice(this.feeds.indexOf(e),1),this.emit(k.FeedsChanged,this.feeds)}},{key:"getCurrentCallStats",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){return e.callHasEnded()?[2,e.callStatsAtEnd]:[2,e.collectCallStats()]}))}))()}},{key:"collectCallStats",value:function(){var e=this;return(0,n.default)((function(){var t,r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return e.peerConn?[4,e.peerConn.getStats()]:[2];case 1:return t=n.sent(),r=[],t.forEach((function(e){r.push(e)})),[2,r]}}))}))()}},{key:"initWithInvite",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u;return(0,d.__generator)(this,(function(c){switch(c.label){case 0:return n=e.getContent(),t.direction=w.Inbound,[4,t.client.checkTurnServers()];case 1:return c.sent()||A.logger.warn("Call ".concat(t.callId," Failed to get TURN credentials! Proceeding with call anyway...")),(i=n[q.SDPStreamMetadataKey])?t.updateRemoteSDPStreamMetadata(i):A.logger.debug("Call ".concat(t.callId," did not get any SDPStreamMetadata! Can not send/receive multiple streams")),t.peerConn=t.createPeerConnection(),t.chooseOpponent(e),[4,t.initOpponentCrypto()];case 2:c.sent(),c.label=3;case 3:return c.trys.push([3,6,,7]),[4,t.peerConn.setRemoteDescription(n.offer)];case 4:return c.sent(),[4,t.addBufferedIceCandidates()];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),A.logger.debug("Call ".concat(t.callId," failed to set remote description"),a),t.terminate(S.Local,R.SetRemoteDescription,!1),[2];case 7:return(o=null===(r=t.feeds.find((function(e){return!e.isLocal()})))||void 0===r?void 0:r.stream)&&0!==o.getTracks().length?(t.state=g.Ringing,e.getLocalAge()&&(s=setTimeout((function(){t.state==g.Ringing&&(A.logger.debug("Call ".concat(t.callId," invite has expired. Hanging up.")),t.hangupParty=S.Remote,t.state=g.Ended,t.stopAllMedia(),"closed"!=t.peerConn.signalingState&&t.peerConn.close(),t.emit(k.Hangup,t))}),n.lifetime-e.getLocalAge()),u=function(e){e!==g.Ringing&&(clearTimeout(s),t.off(k.State,u))},t.on(k.State,u)),[2]):(A.logger.error("Call ".concat(t.callId," no remote stream or no tracks after setting remote description!")),t.terminate(S.Local,R.SetRemoteDescription,!1),[2])}}))}))()}},{key:"initWithHangup",value:function(e){this.state=g.Ended}},{key:"shouldAnswerWithMediaType",value:function(e,t,r){return e&&!t?(A.logger.warn("Call ".concat(this.callId," Unable to answer with ").concat(r," because the other side isn't sending it either.")),!1):O.isNullOrUndefined(e)||e===t||this.opponentSupportsSDPStreamMetadata()?null!=e?e:t:(A.logger.warn("Call ".concat(this.callId," Unable to answer with ").concat(r,"=").concat(e," because the other side doesn't support it. Answering with ").concat(r,"=").concat(t,".")),t)}},{key:"answer",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,l;return(0,d.__generator)(this,(function(f){switch(f.label){case 0:if(r.inviteOrAnswerSent)return[2];if(!1===e&&!1===t)throw new Error("You CANNOT answer a call without media");if(r.localUsermediaStream||r.waitForLocalAVStream)return[3,8];n=r.state,i=r.shouldAnswerWithMediaType(e,r.hasRemoteUserMediaAudioTrack,"audio"),a=r.shouldAnswerWithMediaType(t,r.hasRemoteUserMediaVideoTrack,"video"),r.state=g.WaitLocalMedia,r.waitForLocalAVStream=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,r.client.getMediaHandler().getUserMediaStream(i,a)];case 2:return s=f.sent(),r.waitForLocalAVStream=!1,u=new L.CallFeed({client:r.client,roomId:r.roomId,userId:r.client.getUserId(),deviceId:null!==(o=r.client.getDeviceId())&&void 0!==o?o:void 0,stream:s,purpose:q.SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1}),c=[u],r.localScreensharingFeed&&c.push(r.localScreensharingFeed),r.answerWithCallFeeds(c),[3,7];case 3:return l=f.sent(),a?(A.logger.warn("Call ".concat(r.callId," Failed to getUserMedia(), trying to getUserMedia() without video")),r.state=n,r.waitForLocalAVStream=!1,[4,r.answer(i,!1)]):[3,5];case 4:return f.sent(),[3,6];case 5:return r.getUserMediaFailed(l),[2];case 6:return[3,7];case 7:return[3,9];case 8:r.waitForLocalAVStream&&(r.state=g.WaitLocalMedia),f.label=9;case 9:return[2]}}))}))()}},{key:"answerWithCallFeeds",value:function(e){this.inviteOrAnswerSent||this.queueGotCallFeedsForAnswer(e)}},{key:"replacedBy",value:function(e){A.logger.debug("Call ".concat(this.callId," replaced by ").concat(e.callId)),this.state===g.WaitLocalMedia?(A.logger.debug("Call ".concat(this.callId," telling new call ").concat(e.callId," to wait for local media")),e.waitForLocalAVStream=!0):[g.CreateOffer,g.InviteSent].includes(this.state)&&(e.direction===w.Outbound?e.queueGotCallFeedsForAnswer([]):(A.logger.debug("Call ".concat(this.callId," handing local stream to new call ").concat(e.callId)),e.queueGotCallFeedsForAnswer(this.getLocalFeeds().map((function(e){return e.clone()}))))),this.successor=e,this.emit(k.Replaced,e),this.hangup(R.Replaced,!0)}},{key:"hangup",value:function(e,t){if(!this.callHasEnded()&&(A.logger.debug("Ending call ".concat(this.callId," with reason ").concat(e)),this.terminate(S.Local,e,!t),![g.Fledgling,g.WaitLocalMedia].includes(this.state))){var r={};(this.opponentVersion&&0!==this.opponentVersion||e!==R.UserHangup)&&(r.reason=e),this.sendVoipEvent(D.EventType.CallHangup,r)}}},{key:"reject",value:function(){if(this.state!==g.Ringing)throw Error("Call must be in 'ringing' state to reject!");if(0===this.opponentVersion)return A.logger.info("Call ".concat(this.callId," Opponent version is less than 1 (").concat(this.opponentVersion,"): sending hangup instead of reject")),void this.hangup(R.UserHangup,!0);A.logger.debug("Rejecting call: "+this.callId),this.terminate(S.Local,R.UserHangup,!0),this.sendVoipEvent(D.EventType.CallReject,{})}},{key:"upgradeCall",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:if(!e&&!t)return[2];if(!r.opponentSupportsSDPStreamMetadata())return[2];s.label=1;case 1:return s.trys.push([1,4,,5]),A.logger.debug("Upgrading call ".concat(r.callId,": audio?=").concat(e," video?=").concat(t)),n=e||r.hasLocalUserMediaAudioTrack,i=t||r.hasLocalUserMediaVideoTrack,[4,r.client.getMediaHandler().getUserMediaStream(n,i,!1)];case 2:return a=s.sent(),[4,r.updateLocalUsermediaStream(a,e,t)];case 3:return s.sent(),[3,5];case 4:return o=s.sent(),A.logger.error("Call ".concat(r.callId," Failed to upgrade the call"),o),r.emit(k.Error,new W(R.NoUserMedia,"Failed to get camera access: ",o)),[3,5];case 5:return[2]}}))}))()}},{key:"opponentSupportsSDPStreamMetadata",value:function(){return Boolean(this.remoteSDPStreamMetadata)}},{key:"isScreensharing",value:function(){return Boolean(this.localScreensharingStream)}},{key:"setScreensharingEnabled",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:if(e&&r.isScreensharing())return A.logger.warn("Call ".concat(r.callId," There is already a screensharing stream - there is nothing to do!")),[2,!0];if(!e&&!r.isScreensharing())return A.logger.warn("Call ".concat(r.callId," There already isn't a screensharing stream - there is nothing to do!")),[2,!1];if(!r.opponentSupportsSDPStreamMetadata())return[2,r.setScreensharingEnabledWithoutMetadataSupport(e,t)];if(A.logger.debug("Call ".concat(r.callId," set screensharing enabled? ").concat(e)),!e)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r.client.getMediaHandler().getScreensharingStream(t)];case 2:return(n=l.sent())?(r.pushNewLocalFeed(n,q.SDPStreamMetadataPurpose.Screenshare),[2,!0]):[2,!1];case 3:return i=l.sent(),A.logger.error("Call ".concat(r.callId," Failed to get screen-sharing stream:"),i),[2,!1];case 4:return[3,6];case 5:for(a=r.transceivers.get(G(q.SDPStreamMetadataPurpose.Screenshare,"audio")),o=r.transceivers.get(G(q.SDPStreamMetadataPurpose.Screenshare,"video")),s=0,u=[a,o];s<u.length;s++)(c=u[s])&&c.sender&&r.peerConn.removeTrack(c.sender);return r.client.getMediaHandler().stopScreensharingStream(r.localScreensharingStream),r.deleteFeedByStream(r.localScreensharingStream),[2,!1];case 6:return[2]}}))}))()}},{key:"setScreensharingEnabledWithoutMetadataSupport",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,l,f;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(A.logger.debug("Call ".concat(r.callId," Set screensharing enabled? ").concat(e," using replaceTrack()")),!e)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.client.getMediaHandler().getScreensharingStream(t)];case 2:return(i=d.sent())?(a=i.getTracks().find((function(e){return"video"===e.kind})),null==(o=null===(n=r.transceivers.get(G(q.SDPStreamMetadataPurpose.Usermedia,"video")))||void 0===n?void 0:n.sender)||o.replaceTrack(null!=a?a:null),r.pushNewLocalFeed(i,q.SDPStreamMetadataPurpose.Screenshare,!1),[2,!0]):[2,!1];case 3:return s=d.sent(),A.logger.error("Call ".concat(r.callId," Failed to get screen-sharing stream:"),s),[2,!1];case 4:return[3,6];case 5:return l=null===(u=r.localUsermediaStream)||void 0===u?void 0:u.getTracks().find((function(e){return"video"===e.kind})),null==(f=null===(c=r.transceivers.get(G(q.SDPStreamMetadataPurpose.Usermedia,"video")))||void 0===c?void 0:c.sender)||f.replaceTrack(null!=l?l:null),r.client.getMediaHandler().stopScreensharingStream(r.localScreensharingStream),r.deleteFeedByStream(r.localScreensharingStream),[2,!1];case 6:return[2]}}))}))()}},{key:"updateLocalUsermediaStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;return(0,n.default)((function(){var n,a,o,s,u,c,l,f,h,v,p,b,g,m,$,y,w,_,S,C,k,E,R,x,M,I,T,O,D,P,L,U,N,B,F;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:n=i.localUsermediaFeed,a=t||!n.isAudioMuted()&&!i.remoteOnHold,o=r||!n.isVideoMuted()&&!i.remoteOnHold,A.logger.log("call ".concat(i.callId," updateLocalUsermediaStream stream ").concat(e.id," audioEnabled ").concat(a," videoEnabled ").concat(o)),Y(e.getAudioTracks(),a),Y(e.getVideoTracks(),o),s=!0,u=!1,c=void 0;try{for(l=i.localUsermediaStream.getTracks()[Symbol.iterator]();!(s=(f=l.next()).done);s=!0)h=f.value,i.localUsermediaStream.removeTrack(h),h.stop()}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}v=!0,p=!1,b=void 0;try{for(g=e.getTracks()[Symbol.iterator]();!(v=(m=g.next()).done);v=!0)$=m.value,i.localUsermediaStream.addTrack($)}catch(e){p=!0,b=e}finally{try{v||null==g.return||g.return()}finally{if(p)throw b}}for(y=0,w=["audio","video"];y<w.length;y++)_=w[y],(C=null===(S=i.transceivers.get(G(q.SDPStreamMetadataPurpose.Usermedia,_)))||void 0===S?void 0:S.sender)&&!e.getTracks().find((function(e){return e.kind===_}))&&(null===(k=i.peerConn)||void 0===k||k.removeTrack(C));E=!0,R=!1,x=void 0,d.label=1;case 1:d.trys.push([1,9,10,11]),M=e.getTracks()[Symbol.iterator](),d.label=2;case 2:if(E=(I=M.next()).done)return[3,8];if(T=I.value,O=G(q.SDPStreamMetadataPurpose.Usermedia,T.kind),D=i.transceivers.get(O),P=null==D?void 0:D.sender,L=!1,!P)return[3,6];d.label=3;case 3:return d.trys.push([3,5,,6]),A.logger.info("Call ".concat(i.callId," ")+"Replacing track ("+'id="'.concat(T.id,'", ')+'kind="'.concat(T.kind,'", ')+'streamId="'.concat(e.id,'", ')+'streamPurpose="'.concat(n.purpose,'"')+") to peer connection"),[4,P.replaceTrack(T)];case 4:return d.sent(),D.direction="inactive"===D.direction?"sendonly":"sendrecv",L=!0,[3,6];case 5:return U=d.sent(),A.logger.warn("replaceTrack failed: adding new transceiver instead",U),[3,6];case 6:L||(A.logger.info("Call ".concat(i.callId," ")+"Adding track ("+'id="'.concat(T.id,'", ')+'kind="'.concat(T.kind,'", ')+'streamId="'.concat(e.id,'", ')+'streamPurpose="'.concat(n.purpose,'"')+") to peer connection"),N=i.peerConn.addTrack(T,i.localUsermediaStream),(B=i.peerConn.getTransceivers().find((function(e){return e.sender===N})))?i.transceivers.set(O,B):A.logger.warn("Couldn't find matching transceiver for newly added track!")),d.label=7;case 7:return E=!0,[3,2];case 8:return[3,11];case 9:return F=d.sent(),R=!0,x=F,[3,11];case 10:try{E||null==M.return||M.return()}finally{if(R)throw x}return[7];case 11:return[2]}}))}))()}},{key:"setLocalVideoMuted",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return A.logger.log("call ".concat(t.callId," setLocalVideoMuted ").concat(e)),[4,t.client.getMediaHandler().hasVideoDevice()];case 1:return i.sent()?t.hasLocalUserMediaVideoTrack||e?[3,3]:[4,t.upgradeCall(!1,!0)]:[2,t.isLocalVideoMuted()];case 2:return i.sent(),[2,t.isLocalVideoMuted()];case 3:return t.opponentSupportsSDPStreamMetadata()?[4,t.client.getMediaHandler().getUserMediaStream(!0,!e)]:[3,6];case 4:return r=i.sent(),[4,t.updateLocalUsermediaStream(r)];case 5:return i.sent(),[3,7];case 6:null===(n=t.localUsermediaFeed)||void 0===n||n.setAudioVideoMuted(null,e),i.label=7;case 7:return t.updateMuteStatus(),[4,t.sendMetadataUpdate()];case 8:return i.sent(),[2,t.isLocalVideoMuted()]}}))}))()}},{key:"isLocalVideoMuted",value:function(){var e,t;return null!==(e=null===(t=this.localUsermediaFeed)||void 0===t?void 0:t.isVideoMuted())&&void 0!==e&&e}},{key:"setMicrophoneMuted",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return A.logger.log("call ".concat(t.callId," setMicrophoneMuted ").concat(e)),[4,t.client.getMediaHandler().hasAudioDevice()];case 1:return n.sent()?t.hasLocalUserMediaAudioTrack||e?[3,3]:[4,t.upgradeCall(!0,!1)]:[2,t.isMicrophoneMuted()];case 2:case 4:return n.sent(),[2,t.isMicrophoneMuted()];case 3:return null===(r=t.localUsermediaFeed)||void 0===r||r.setAudioVideoMuted(e,null),t.updateMuteStatus(),[4,t.sendMetadataUpdate()]}}))}))()}},{key:"isMicrophoneMuted",value:function(){var e,t;return null!==(e=null===(t=this.localUsermediaFeed)||void 0===t?void 0:t.isAudioMuted())&&void 0!==e&&e}},{key:"isRemoteOnHold",value:function(){return this.remoteOnHold}},{key:"setRemoteOnHold",value:function(e){if(this.isRemoteOnHold()!==e){this.remoteOnHold=e;var t=!0,r=!1,n=void 0;try{for(var i,a=this.peerConn.getTransceivers()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.direction=e?"sendonly":"sendrecv"}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.updateMuteStatus(),this.sendMetadataUpdate(),this.emit(k.RemoteHoldUnhold,this.remoteOnHold)}}},{key:"isLocalOnHold",value:function(){if(this.state!==g.Connected)return!1;var e=!0,t=!0,r=!1,n=void 0;try{for(var i,a=this.peerConn.getTransceivers()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;["inactive","recvonly"].includes(o.currentDirection)||(e=!1)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"sendDtmfDigit",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.peerConn.getSenders()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o,s=i.value;if("audio"===(null===(o=s.track)||void 0===o?void 0:o.kind)&&s.dtmf)return void s.dtmf.insertDTMF(e)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}throw new Error("Unable to find a track to send DTMF on")}},{key:"updateMuteStatus",value:function(){var e=this.isMicrophoneMuted()||this.remoteOnHold,t=this.isLocalVideoMuted()||this.remoteOnHold;A.logger.log("call ".concat(this.callId," updateMuteStatus stream ").concat(this.localUsermediaStream.id," micShouldBeMuted ").concat(e," vidShouldBeMuted ").concat(t)),Y(this.localUsermediaStream.getAudioTracks(),!e),Y(this.localUsermediaStream.getVideoTracks(),!t)}},{key:"sendMetadataUpdate",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.sendVoipEvent(D.EventType.CallSDPStreamMetadataChangedPrefix,(0,o.default)({},q.SDPStreamMetadataKey,e.getLocalSDPStreamMetadata()))];case 1:return t.sent(),[2]}}))}))()}},{key:"gotCallFeedsForInvite",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.successor)this.successor.queueGotCallFeedsForAnswer(e);else if(this.callHasEnded())this.stopAllMedia();else{var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;this.pushLocalFeed(s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}t&&this.peerConn.addTransceiver("video",{direction:"recvonly"}),this.state=g.CreateOffer,A.logger.debug("Call ".concat(this.callId," gotUserMediaForInvite"))}}},{key:"sendAnswer",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:(t=(0,o.default)({answer:{sdp:e.peerConn.localDescription.sdp,type:e.peerConn.localDescription.type}},q.SDPStreamMetadataKey,e.getLocalSDPStreamMetadata(!0))).capabilities={"m.call.transferee":e.client.supportsCallTransfer,"m.call.dtmf":!1},r=e.discardDuplicateCandidates(),A.logger.info("Call ".concat(e.callId," Discarding ").concat(r," candidates that will be sent in answer")),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.sendVoipEvent(D.EventType.CallAnswer,t)];case 2:return s.sent(),e.inviteOrAnswerSent=!0,[3,4];case 3:throw n=s.sent(),e.state=g.Ringing,n instanceof F.MatrixError&&n.event&&e.client.cancelPendingEvent(n.event),i=R.SendAnswer,a="Failed to send answer","UnknownDeviceError"==n.name&&(i=R.UnknownDevices,a="Unknown devices present in the room"),e.emit(k.Error,new W(i,a,n)),n;case 4:return e.sendCandidateQueue(),[2]}}))}))()}},{key:"queueGotCallFeedsForAnswer",value:function(e){var t=this;this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then((function(){return t.gotCallFeedsForAnswer(e)})):this.responsePromiseChain=this.gotCallFeedsForAnswer(e)}},{key:"mungeSdp",value:function(e,t){var r=(0,T.parse)(e.sdp);r.media.forEach((function(e){var r=new Map,n=new Map,i=!0,a=!1,o=void 0;try{for(var s,u=e.rtp[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;r.set(c.payload,c.codec),n.set(c.codec,c.payload)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}var l=!0,f=!1,d=void 0;try{for(var h,v=t[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var p=h.value;if(p.mediaType===e.type)if(n.has(p.codec)){var b=[];void 0!==p.enableDtx&&b.push("usedtx=".concat(p.enableDtx?"1":"0")),void 0!==p.maxAverageBitrate&&b.push("maxaveragebitrate=".concat(p.maxAverageBitrate));var g=!1,m=!0,$=!1,y=void 0;try{for(var w,_=e.fmtp[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){var S=w.value;r.get(S.payload)===p.codec&&(g=!0,S.config+=";"+b.join(";"))}}catch(e){$=!0,y=e}finally{try{m||null==_.return||_.return()}finally{if($)throw y}}g||e.fmtp.push({payload:n.get(p.codec),config:b.join(";")})}else A.logger.info("Ignoring SDP modifications for ".concat(p.codec," as it's not present."))}}catch(e){f=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}})),e.sdp=(0,T.write)(r)}},{key:"createOffer",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.peerConn.createOffer()];case 1:return t=r.sent(),e.mungeSdp(t,z(e.isPtt)),[2,t]}}))}))()}},{key:"createAnswer",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.peerConn.createAnswer()];case 1:return t=r.sent(),e.mungeSdp(t,z(e.isPtt)),[2,t]}}))}))()}},{key:"gotCallFeedsForAnswer",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,l;return(0,d.__generator)(this,(function(f){switch(f.label){case 0:if(t.callHasEnded())return[2];t.waitForLocalAVStream=!1,r=!0,n=!1,i=void 0;try{for(a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)s=o.value,t.pushLocalFeed(s)}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}t.state=g.CreateAnswer,f.label=1;case 1:return f.trys.push([1,3,,4]),t.getRidOfRTXCodecs(),[4,t.createAnswer()];case 2:return u=f.sent(),[3,4];case 3:return c=f.sent(),A.logger.debug("Call ".concat(t.callId," Failed to create answer: "),c),t.terminate(S.Local,R.CreateAnswer,!0),[2];case 4:return f.trys.push([4,7,,8]),[4,t.peerConn.setLocalDescription(u)];case 5:return f.sent(),t.callHasEnded()?[2]:(t.state=g.Connecting,[4,new Promise((function(e){setTimeout(e,200)}))]);case 6:return f.sent(),t.callHasEnded()?[2]:(t.sendAnswer(),[3,8]);case 7:return l=f.sent(),A.logger.debug("Call ".concat(t.callId," Error setting local description!"),l),t.terminate(S.Local,R.SetLocalDescription,!0),[2];case 8:return[2]}}))}))()}},{key:"onRemoteIceCandidatesReceived",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return t.callHasEnded()?[2]:(r=e.getContent(),(n=r.candidates)?(i=0===r.version?null:r.party_id||null,void 0===t.opponentPartyId?(i&&(A.logger.info("Call ".concat(t.callId," Buffering ").concat(n.length," candidates until we pick an opponent")),o=t.remoteCandidateBuffer.get(i)||[],(a=o).push.apply(a,(0,c.default)(n)),t.remoteCandidateBuffer.set(i,o)),[2]):t.partyIdMatches(r)?[4,t.addIceCandidates(n)]:(A.logger.info("Call ".concat(t.callId," ")+"Ignoring candidates from party ID ".concat(r.party_id,": ")+"we have chosen party ID ".concat(t.opponentPartyId)),[2])):(A.logger.info("Call ".concat(t.callId," Ignoring candidates event with no candidates!")),[2]));case 1:return s.sent(),[2]}}))}))()}},{key:"onAnswerReceived",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return r=e.getContent(),A.logger.debug("Got answer for call ID ".concat(t.callId," from party ID ").concat(r.party_id)),t.callHasEnded()?(A.logger.debug("Ignoring answer because call ID ".concat(t.callId," has ended")),[2]):void 0!==t.opponentPartyId?(A.logger.info("Call ".concat(t.callId," ")+"Ignoring answer from party ID ".concat(r.party_id,": ")+"we already have an answer/reject from ".concat(t.opponentPartyId)),[2]):(t.chooseOpponent(e),[4,t.addBufferedIceCandidates()]);case 1:o.sent(),t.state=g.Connecting,(n=r[q.SDPStreamMetadataKey])?t.updateRemoteSDPStreamMetadata(n):A.logger.warn("Call ".concat(t.callId," Did not get any SDPStreamMetadata! Can not send/receive multiple streams")),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,t.peerConn.setRemoteDescription(r.answer)];case 3:return o.sent(),[3,5];case 4:return i=o.sent(),A.logger.debug("Call ".concat(t.callId," Failed to set remote description"),i),t.terminate(S.Local,R.SetRemoteDescription,!1),[2];case 5:if(null===t.opponentPartyId)return[3,9];o.label=6;case 6:return o.trys.push([6,8,,9]),[4,t.sendVoipEvent(D.EventType.CallSelectAnswer,{selected_party_id:t.opponentPartyId})];case 7:return o.sent(),[3,9];case 8:return a=o.sent(),A.logger.warn("Call ".concat(t.callId," Failed to send select_answer event"),a),[3,9];case 9:return[2]}}))}))()}},{key:"onSelectAnswerReceived",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return t.direction!==w.Inbound?(A.logger.warn("Call ".concat(t.callId," Got select_answer for an outbound call: ignoring")),[2]):null==(r=e.getContent().selected_party_id)?(A.logger.warn("Call ".concat(t.callId," Got nonsensical select_answer with null/undefined selected_party_id: ignoring")),[2]):r===t.ourPartyId?[3,2]:(A.logger.info("Call ".concat(t.callId," Got select_answer for party ID ").concat(r,": we are party ID ").concat(t.ourPartyId,".")),[4,t.terminate(S.Remote,R.AnsweredElsewhere,!0)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()}},{key:"onNegotiateReceived",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,s,u,c,l,f,h,v;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(r=e.getContent(),!(n=r.description)||!n.sdp||!n.type)return A.logger.info("Call ".concat(t.callId," Ignoring invalid m.call.negotiate event")),[2];if(i=t.direction===w.Inbound,a="offer"===n.type&&(t.makingOffer||"stable"!==t.peerConn.signalingState),t.ignoreOffer=!i&&a,t.ignoreOffer)return A.logger.info("Call ".concat(t.callId," Ignoring colliding negotiate event because we're impolite")),[2];s=t.isLocalOnHold(),(u=r[q.SDPStreamMetadataKey])?t.updateRemoteSDPStreamMetadata(u):A.logger.warn("Call ".concat(t.callId," Received negotiation event without SDPStreamMetadata!")),d.label=1;case 1:return d.trys.push([1,9,,10]),[4,t.peerConn.setRemoteDescription(n)];case 2:if(d.sent(),"offer"!==n.type)return[3,8];d.label=3;case 3:return d.trys.push([3,5,,6]),t.getRidOfRTXCodecs(),[4,t.createAnswer()];case 4:return l=d.sent(),[3,6];case 5:return f=d.sent(),A.logger.debug("Call ".concat(t.callId," Failed to create answer: "),f),t.terminate(S.Local,R.CreateAnswer,!0),[2];case 6:return[4,t.peerConn.setLocalDescription(l)];case 7:d.sent(),t.sendVoipEvent(D.EventType.CallNegotiate,(0,o.default)({description:null===(c=t.peerConn.localDescription)||void 0===c?void 0:c.toJSON()},q.SDPStreamMetadataKey,t.getLocalSDPStreamMetadata(!0))),d.label=8;case 8:return[3,10];case 9:return h=d.sent(),A.logger.warn("Call ".concat(t.callId," Failed to complete negotiation"),h),[3,10];case 10:return v=t.isLocalOnHold(),s!==v&&(t.emit(k.LocalHoldUnhold,v),t.emit(k.HoldUnhold,v)),[2]}}))}))()}},{key:"updateRemoteSDPStreamMetadata",value:function(e){this.remoteSDPStreamMetadata=O.recursivelyAssign(this.remoteSDPStreamMetadata||{},e,!0);var t=!0,r=!1,n=void 0;try{for(var i,a=this.getRemoteFeeds()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o,s=i.value,u=s.stream.id,c=this.remoteSDPStreamMetadata[u];s.setAudioVideoMuted(null==c?void 0:c.audio_muted,null==c?void 0:c.video_muted),s.purpose=null===(o=this.remoteSDPStreamMetadata[u])||void 0===o?void 0:o.purpose}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"onSDPStreamMetadataChangedReceived",value:function(e){var t=e.getContent()[q.SDPStreamMetadataKey];this.updateRemoteSDPStreamMetadata(t)}},{key:"onAssertedIdentityReceived",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){return(r=e.getContent()).asserted_identity?(t.remoteAssertedIdentity={id:r.asserted_identity.id,displayName:r.asserted_identity.display_name},t.emit(k.AssertedIdentityChanged),[2]):[2]}))}))()}},{key:"callHasEnded",value:function(){return this.state===g.Ended}},{key:"queueGotLocalOffer",value:function(){var e=this;this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then((function(){return e.wrappedGotLocalOffer()})):this.responsePromiseChain=this.wrappedGotLocalOffer()}},{key:"wrappedGotLocalOffer",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:e.makingOffer=!0,r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,e.gotLocalOffer()];case 2:return r.sent(),[3,5];case 3:return t=r.sent(),e.getLocalOfferFailed(t),[2];case 4:return e.makingOffer=!1,[7];case 5:return[2]}}))}))()}},{key:"gotLocalOffer",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,u,c,l,f;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(A.logger.debug("Call ".concat(e.callId," Setting local description")),e.callHasEnded())return A.logger.debug("Ignoring newly created offer on call ID "+e.callId+" because the call has ended"),[2];d.label=1;case 1:return d.trys.push([1,3,,4]),e.getRidOfRTXCodecs(),[4,e.createOffer()];case 2:return t=d.sent(),[3,4];case 3:return r=d.sent(),A.logger.debug("Call ".concat(e.callId," Failed to create offer: "),r),e.terminate(S.Local,R.CreateOffer,!0),[2];case 4:return d.trys.push([4,6,,7]),[4,e.peerConn.setLocalDescription(t)];case 5:return d.sent(),[3,7];case 6:return n=d.sent(),A.logger.debug("Call ".concat(e.callId," Error setting local description!"),n),e.terminate(S.Local,R.SetLocalDescription,!0),[2];case 7:return"gathering"!==e.peerConn.iceGatheringState?[3,9]:[4,new Promise((function(e){setTimeout(e,200)}))];case 8:d.sent(),d.label=9;case 9:if(e.callHasEnded())return[2];i=e.state===g.CreateOffer?D.EventType.CallInvite:D.EventType.CallNegotiate,a={lifetime:6e4},i===D.EventType.CallInvite&&e.invitee&&(a.invitee=e.invitee),e.state===g.CreateOffer?a.offer=null===(o=e.peerConn.localDescription)||void 0===o?void 0:o.toJSON():a.description=null===(s=e.peerConn.localDescription)||void 0===s?void 0:s.toJSON(),a.capabilities={"m.call.transferee":e.client.supportsCallTransfer,"m.call.dtmf":!1},a[q.SDPStreamMetadataKey]=e.getLocalSDPStreamMetadata(!0),u=e.discardDuplicateCandidates(),A.logger.info("Call ".concat(e.callId," Discarding ").concat(u," candidates that will be sent in offer")),d.label=10;case 10:return d.trys.push([10,12,,13]),[4,e.sendVoipEvent(i,a)];case 11:return d.sent(),[3,13];case 12:return c=d.sent(),A.logger.error("Call ".concat(e.callId," Failed to send invite"),c),c instanceof F.MatrixError&&c.event&&e.client.cancelPendingEvent(c.event),l=R.SignallingFailed,f="Signalling failed",e.state===g.CreateOffer&&(l=R.SendInvite,f="Failed to send invite"),"UnknownDeviceError"==c.name&&(l=R.UnknownDevices,f="Unknown devices present in the room"),e.emit(k.Error,new W(l,f,c)),e.terminate(S.Local,l,!1),[2];case 13:return e.sendCandidateQueue(),e.state===g.CreateOffer&&(e.inviteOrAnswerSent=!0,e.state=g.InviteSent,e.inviteTimeout=setTimeout((function(){e.inviteTimeout=void 0,e.state===g.InviteSent&&e.hangup(R.InviteTimeout,!1)}),6e4)),[2]}}))}))()}},{key:"getRidOfRTXCodecs",value:function(){if(RTCRtpReceiver.getCapabilities&&RTCRtpSender.getCapabilities){var e=RTCRtpReceiver.getCapabilities("video").codecs,t=RTCRtpSender.getCapabilities("video").codecs,r=(0,c.default)(t).concat((0,c.default)(e)),n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if("video/rtx"===u.mimeType){var l=r.indexOf(u);r.splice(l,1)}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var f=this.transceivers.get(G(q.SDPStreamMetadataPurpose.Screenshare,"video"));f&&f.setCodecPreferences(r)}}},{key:"sendVoipEvent",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return n=Object.assign({},t,{version:"1",call_id:r.callId,party_id:r.ourPartyId,conf_id:r.groupCallId}),r.opponentDeviceId?(a=r.toDeviceSeq++,s=H(H({},n),{},(0,o.default)({device_id:r.client.deviceId,sender_session_id:r.client.getSessionId(),dest_session_id:r.opponentSessionId,seq:a},D.ToDeviceMessageId,(0,I.default)())),r.emit(k.SendVoipEvent,{type:"toDevice",eventType:e,userId:r.invitee||(null===(i=r.getOpponentMember())||void 0===i?void 0:i.userId),opponentDeviceId:r.opponentDeviceId,content:s}),u=r.invitee||r.getOpponentMember().userId,r.client.getUseE2eForGroupCall()?[4,r.client.encryptAndSendToDevices([{userId:u,deviceInfo:r.opponentDeviceInfo}],{type:e,content:s})]:[3,2]):[3,5];case 1:return l.sent(),[3,4];case 2:return[4,r.client.sendToDevice(e,(0,o.default)({},u,(0,o.default)({},r.opponentDeviceId,s)))];case 3:l.sent(),l.label=4;case 4:return[3,7];case 5:return r.emit(k.SendVoipEvent,{type:"sendEvent",eventType:e,roomId:r.roomId,content:n,userId:r.invitee||(null===(c=r.getOpponentMember())||void 0===c?void 0:c.userId)}),[4,r.client.sendEvent(r.roomId,e,n)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))()}},{key:"queueCandidate",value:function(e){var t=this;if(e?this.candidateSendQueue.push(e):this.candidatesEnded=!0,this.state!==g.Ringing&&this.inviteOrAnswerSent){var r=this.direction===w.Inbound?500:2e3;0===this.candidateSendTries&&setTimeout((function(){t.sendCandidateQueue()}),r)}}},{key:"discardDuplicateCandidates",value:function(){for(var e=0,t=[],r=0;r<this.candidateSendQueue.length;r++){var n=this.candidateSendQueue[r];""===n.candidate?t.push(n):e++}return this.candidateSendQueue=t,e}},{key:"transfer",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,t.client.getProfileInfo(e)];case 1:return r=a.sent(),n=V(),i={replacement_id:V(),target_user:{id:e,display_name:r.displayname,avatar_url:r.avatar_url},create_call:n},[4,t.sendVoipEvent(D.EventType.CallReplaces,i)];case 2:return a.sent(),[4,t.terminate(S.Local,R.Transfered,!0)];case 3:return a.sent(),[2]}}))}))()}},{key:"transferToCall",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,l,f,h;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return(i=null===(r=e.getOpponentMember())||void 0===r?void 0:r.userId)?[4,t.client.getProfileInfo(i)]:[3,2];case 1:return o=d.sent(),[3,3];case 2:o=void 0,d.label=3;case 3:return a=o,(s=null===(n=t.getOpponentMember())||void 0===n?void 0:n.userId)?[4,t.client.getProfileInfo(s)]:[3,5];case 4:return c=d.sent(),[3,6];case 5:c=void 0,d.label=6;case 6:return u=c,l=V(),f={replacement_id:V(),target_user:{id:s,display_name:null==u?void 0:u.displayname,avatar_url:null==u?void 0:u.avatar_url},await_call:l},[4,e.sendVoipEvent(D.EventType.CallReplaces,f)];case 7:return d.sent(),h={replacement_id:V(),target_user:{id:i,display_name:null==a?void 0:a.displayname,avatar_url:null==a?void 0:a.avatar_url},create_call:l},[4,t.sendVoipEvent(D.EventType.CallReplaces,h)];case 8:return d.sent(),[4,t.terminate(S.Local,R.Transfered,!0)];case 9:return d.sent(),[4,e.terminate(S.Local,R.Transfered,!0)];case 10:return d.sent(),[2]}}))}))()}},{key:"terminate",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s,c,l,f,h;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(i.callHasEnded())return[2];i.hangupParty=e,i.hangupReason=t,i.state=g.Ended,i.inviteTimeout&&(clearTimeout(i.inviteTimeout),i.inviteTimeout=void 0),i.callLengthInterval&&(clearInterval(i.callLengthInterval),i.callLengthInterval=void 0),n=!0,a=!1,o=void 0;try{for(s=i.removeTrackListeners[Symbol.iterator]();!(n=(c=s.next()).done);n=!0)l=(0,u.default)(c.value,2),f=l[0],h=l[1],f.removeEventListener("removetrack",h)}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return i.removeTrackListeners.clear(),[4,i.collectCallStats()];case 1:return i.callStatsAtEnd=d.sent(),i.stopAllMedia(),i.deleteAllFeeds(),i.peerConn&&"closed"!==i.peerConn.signalingState&&i.peerConn.close(),r&&i.emit(k.Hangup,i),i.client.callEventHandler.calls.delete(i.callId),[2]}}))}))()}},{key:"stopAllMedia",value:function(){A.logger.debug("Call ".concat(this.callId," stopping all media"));var e=!0,t=!1,r=void 0;try{for(var n,i=this.feeds[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;if(a.isLocal()&&a.purpose===q.SDPStreamMetadataPurpose.Usermedia)this.client.getMediaHandler().stopUserMediaStream(a.stream);else if(a.isLocal()&&a.purpose===q.SDPStreamMetadataPurpose.Screenshare)this.client.getMediaHandler().stopScreensharingStream(a.stream);else if(!a.isLocal()){A.logger.debug("Stopping remote stream",a.stream.id);var o=!0,s=!1,u=void 0;try{for(var c,l=a.stream.getTracks()[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){c.value.stop()}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"checkForErrorListener",value:function(){if(0===this.listeners(U.EventEmitterEvents.Error).length)throw new Error("You MUST attach an error listener using call.on('error', function() {})")}},{key:"sendCandidateQueue",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:if(0===e.candidateSendQueue.length||e.callHasEnded())return[2];t=e.candidateSendQueue,e.candidateSendQueue=[],++e.candidateSendTries,r={candidates:t.map((function(e){return e.toJSON()}))},e.candidatesEnded&&r.candidates.push({candidate:""}),A.logger.debug("Call ".concat(e.callId," attempting to send ").concat(t.length," candidates")),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.sendVoipEvent(D.EventType.CallCandidates,r)];case 2:return s.sent(),e.candidateSendTries=0,e.sendCandidateQueue(),[3,4];case 3:return(n=s.sent())instanceof F.MatrixError&&n.event&&e.client.cancelPendingEvent(n.event),(i=e.candidateSendQueue).push.apply(i,(0,c.default)(t)),e.candidateSendTries>5?(A.logger.debug("Call ".concat(e.callId," failed to send candidates on attempt ").concat(e.candidateSendTries,". Giving up on this call."),n),a=R.SignallingFailed,"Signalling failed",e.emit(k.Error,new W(a,"Signalling failed",n)),e.hangup(a,!1),[2]):(o=500*Math.pow(2,e.candidateSendTries),++e.candidateSendTries,A.logger.debug("Call ".concat(e.callId," failed to send candidates. Retrying in ").concat(o,"ms"),n),setTimeout((function(){e.sendCandidateQueue()}),o),[3,4]);case 4:return[2]}}))}))()}},{key:"placeCall",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:if(!e)throw new Error("You CANNOT start a call without audio");r.state=g.WaitLocalMedia,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.client.getMediaHandler().getUserMediaStream(e,t)];case 2:return Y((i=s.sent()).getAudioTracks(),!0),Y(i.getVideoTracks(),!0),a=new L.CallFeed({client:r.client,roomId:r.roomId,userId:r.client.getUserId(),deviceId:null!==(n=r.client.getDeviceId())&&void 0!==n?n:void 0,stream:i,purpose:q.SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1}),[4,r.placeCallWithCallFeeds([a])];case 3:return s.sent(),[3,5];case 4:return o=s.sent(),r.getUserMediaFailed(o),[2];case 5:return[2]}}))}))()}},{key:"placeCallWithCallFeeds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return r.checkForErrorListener(),r.direction=w.Outbound,[4,r.initOpponentCrypto()];case 1:return n.sent(),r.client.callEventHandler.calls.set(r.callId,r),[4,r.client.checkTurnServers()];case 2:return n.sent()||A.logger.warn("Call ".concat(r.callId," Failed to get TURN credentials! Proceeding with call anyway...")),r.peerConn=r.createPeerConnection(),r.gotCallFeedsForInvite(e,t),[2]}}))}))()}},{key:"createPeerConnection",value:function(){var e=new window.RTCPeerConnection({iceTransportPolicy:this.forceTURN?"relay":void 0,iceServers:this.turnServers,iceCandidatePoolSize:this.client.iceCandidatePoolSize,bundlePolicy:"max-bundle"});return e.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChanged),e.addEventListener("signalingstatechange",this.onSignallingStateChanged),e.addEventListener("icecandidate",this.gotLocalIceCandidate),e.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),e.addEventListener("track",this.onTrack),e.addEventListener("negotiationneeded",this.onNegotiationNeeded),e.addEventListener("datachannel",this.onDataChannel),e}},{key:"partyIdMatches",value:function(e){return(0===e.version?null:e.party_id||null)===this.opponentPartyId}},{key:"chooseOpponent",value:function(e){var t,r=e.getContent();A.logger.debug("Call ".concat(this.callId," choosing opponent party ID ").concat(r.party_id)),this.opponentVersion=r.version,0===this.opponentVersion?this.opponentPartyId=null:this.opponentPartyId=r.party_id||null,this.opponentCaps=r.capabilities||{},this.opponentMember=null!==(t=this.client.getRoom(this.roomId).getMember(e.getSender()))&&void 0!==t?t:void 0}},{key:"addBufferedIceCandidates",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.remoteCandidateBuffer.get(e.opponentPartyId))?(A.logger.info("Call ".concat(e.callId," Adding ").concat(t.length," buffered candidates for opponent ").concat(e.opponentPartyId)),[4,e.addIceCandidates(t)]):[3,2];case 1:r.sent(),r.label=2;case 2:return e.remoteCandidateBuffer.clear(),[2]}}))}))()}},{key:"addIceCandidates",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:r=!0,n=!1,i=void 0,l.label=1;case 1:l.trys.push([1,8,9,10]),a=e[Symbol.iterator](),l.label=2;case 2:if(r=(o=a.next()).done)return[3,7];null!==(s=o.value).sdpMid&&void 0!==s.sdpMid||null!==s.sdpMLineIndex&&void 0!==s.sdpMLineIndex?A.logger.debug("Call ".concat(t.callId," got remote ICE ").concat(s.sdpMid," candidate: ").concat(s.candidate)):A.logger.debug("Call ".concat(t.callId," got remote ICE end-of-candidates")),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,t.peerConn.addIceCandidate(s)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),t.ignoreOffer||A.logger.info("Call ".concat(t.callId," failed to add remote ICE candidate"),u),[3,6];case 6:return r=!0,[3,2];case 7:return[3,10];case 8:return c=l.sent(),n=!0,i=c,[3,10];case 9:try{r||null==a.return||a.return()}finally{if(n)throw i}return[7];case 10:return[2]}}))}))()}},{key:"hasPeerConnection",get:function(){return Boolean(this.peerConn)}}]),l}(U.TypedEventEmitter);function Y(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.enabled=t}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}function Z(){if("undefined"==typeof window||"undefined"==typeof document)return!1;try{if(!Boolean(window.RTCPeerConnection||window.RTCSessionDescription||window.RTCIceCandidate||navigator.mediaDevices))return A.logger.error("WebRTC is not supported in this browser / environment"),!1}catch(e){return A.logger.error("Exception thrown when trying to access WebRTC",e),!1}return!0}e.exports.MatrixCall=J})),parcelRequire.register("1Pjj8",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("40Q9V"),n=parcelRequire("70r5j"),i=parcelRequire("gfp8A");var a=function(e,t,a){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();var o=(e=e||{}).random||(e.rng||n.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){a=a||0;for(var s=0;s<16;++s)t[a+s]=o[s];return t}return(0,i.unsafeStringify)(o)}})),parcelRequire.register("40Q9V",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}})),parcelRequire.register("70r5j",(function(e,t){var r;$parcel$export(e.exports,"default",(function(){return i}));var n=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}})),parcelRequire.register("gfp8A",(function(e,t){$parcel$export(e.exports,"unsafeStringify",(function(){return i}));parcelRequire("3lfBL");for(var r=[],n=0;n<256;++n)r.push((n+256).toString(16).slice(1));function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}})),parcelRequire.register("3lfBL",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("lRDKn");var n=function(e){return"string"==typeof e&&r.default.test(e)}})),parcelRequire.register("lRDKn",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i})),parcelRequire.register("b3ia9",(function(e,t){var r,n;$parcel$export(e.exports,"write",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"parse",(function(){return n}),(function(e){return n=e}));var i=parcelRequire("hx00b"),a=parcelRequire("fPRXl");r=a,n=i.parse,i.parseParams,i.parseFmtpConfig,i.parsePayloads,i.parseRemoteCandidates,i.parseImageAttributes,i.parseSimulcastStreamList})),parcelRequire.register("hx00b",(function(e,t){var r,n,i,a,o,s,u;$parcel$export(e.exports,"parse",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"parseParams",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"parseFmtpConfig",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"parsePayloads",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"parseRemoteCandidates",(function(){return o}),(function(e){return o=e})),$parcel$export(e.exports,"parseImageAttributes",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"parseSimulcastStreamList",(function(){return u}),(function(e){return u=e}));var c=function(e){return String(Number(e))===e?Number(e):e},l=function(e,t,r){var n=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:n&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:n?t[e.name]:t;!function(e,t,r,n){if(n&&!r)t[n]=c(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=c(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},f=parcelRequire("bh7ZT"),d=RegExp.prototype.test.bind(/^([a-z])=(.*)/);r=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(d).forEach((function(e){var t=e[0],i=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var a=0;a<(f[t]||[]).length;a+=1){var o=f[t][a];if(o.reg.test(i))return l(o,n,i)}})),t.media=r,t};var h=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=c(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};i=n=function(e){return e.split(/;\s?/).reduce(h,{})},a=function(e){return e.toString().split(" ").map(Number)},o=function(e){for(var t=[],r=e.split(" ").map(c),n=0;n<r.length;n+=3)t.push({component:r[n],ip:r[n+1],port:r[n+2]});return t},s=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(h,{})}))},u=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=c(e):(t=c(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}})),parcelRequire.register("bh7ZT",(function(e,t){var r=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(r).forEach((function(e){r[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))})),parcelRequire.register("fPRXl",(function(e,t){var r=parcelRequire("bh7ZT"),n=/%[sdv%]/g,i=function(e){var t=1,r=arguments,i=r.length;return e.replace(n,(function(e){if(t>=i)return e;var n=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(n);case"%d":return Number(n);case"%v":return""}}))},a=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?n.push(r[t.name][o]):n.push(r[t.names[a]])}else n.push(r[t.name]);return i.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||o,i=t.innerOrder||s,u=[];return n.forEach((function(t){r[t].forEach((function(r){r.name in e&&null!=e[r.name]?u.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){u.push(a(t,r,e))}))}))})),e.media.forEach((function(e){u.push(a("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(r){r.name in e&&null!=e[r.name]?u.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){u.push(a(t,r,e))}))}))}))})),u.join("\r\n")+"\r\n"}})),parcelRequire.register("hEw4R",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.randomLowercaseString=function(e){return i(e,r)},e.exports.randomString=function(e){return i(e,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")},e.exports.randomUppercaseString=function(e){return i(e,n)};var r="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function i(e,t){for(var r="",n=0;n<e;++n)r+=t.charAt(Math.floor(Math.random()*t.length));return r}})),parcelRequire.register("ihYWI",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SDPStreamMetadataPurpose=e.exports.SDPStreamMetadataKey=void 0;var r,n;e.exports.SDPStreamMetadataKey="org.matrix.msc3077.sdp_stream_metadata",e.exports.SDPStreamMetadataPurpose=r,(n=r||(e.exports.SDPStreamMetadataPurpose=r={})).Usermedia="m.usermedia",n.Screenshare="m.screenshare"})),parcelRequire.register("hyMKr",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("gNsil"),o=parcelRequire("8rJSp"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SPEAKING_THRESHOLD=e.exports.CallFeedEvent=e.exports.CallFeed=void 0;var u=s(parcelRequire("abzte")),c=parcelRequire("ihYWI"),l=parcelRequire("hCw5H"),f=parcelRequire("fKX3v"),d=parcelRequire("4Eh2q"),h=parcelRequire("cyUK7");e.exports.SPEAKING_THRESHOLD=-60;var v,p;e.exports.CallFeedEvent=v,(p=v||(e.exports.CallFeedEvent=v={})).NewStream="new_stream",p.MuteStateChanged="mute_state_changed",p.LocalVolumeChanged="local_volume_changed",p.VolumeChanged="volume_changed",p.ConnectedChanged="connected_changed",p.Speaking="speaking",p.Disposed="disposed";var b=function(e){(0,a.default)(s,e);var t=(0,o.default)(s);function s(e){var i;return(0,n.default)(this,s),i=t.call(this),(0,u.default)((0,r.default)(i),"stream",void 0),(0,u.default)((0,r.default)(i),"sdpMetadataStreamId",void 0),(0,u.default)((0,r.default)(i),"userId",void 0),(0,u.default)((0,r.default)(i),"deviceId",void 0),(0,u.default)((0,r.default)(i),"purpose",void 0),(0,u.default)((0,r.default)(i),"speakingVolumeSamples",void 0),(0,u.default)((0,r.default)(i),"client",void 0),(0,u.default)((0,r.default)(i),"call",void 0),(0,u.default)((0,r.default)(i),"roomId",void 0),(0,u.default)((0,r.default)(i),"audioMuted",void 0),(0,u.default)((0,r.default)(i),"videoMuted",void 0),(0,u.default)((0,r.default)(i),"localVolume",1),(0,u.default)((0,r.default)(i),"measuringVolumeActivity",!1),(0,u.default)((0,r.default)(i),"audioContext",void 0),(0,u.default)((0,r.default)(i),"analyser",void 0),(0,u.default)((0,r.default)(i),"frequencyBinCount",void 0),(0,u.default)((0,r.default)(i),"speakingThreshold",-60),(0,u.default)((0,r.default)(i),"speaking",!1),(0,u.default)((0,r.default)(i),"volumeLooperTimeout",void 0),(0,u.default)((0,r.default)(i),"_disposed",!1),(0,u.default)((0,r.default)(i),"_connected",!1),(0,u.default)((0,r.default)(i),"onAddTrack",(function(){i.emit(v.NewStream,i.stream)})),(0,u.default)((0,r.default)(i),"onCallState",(function(e){e===h.CallState.Connected?i.connected=!0:e===h.CallState.Connecting&&(i.connected=!1)})),(0,u.default)((0,r.default)(i),"volumeLooper",(function(){if(i.analyser&&i.measuringVolumeActivity){i.analyser.getFloatFrequencyData(i.frequencyBinCount);var e=-1/0,t=!0,r=!1,n=void 0;try{for(var a,o=i.frequencyBinCount[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;s>e&&(e=s)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}i.speakingVolumeSamples.shift(),i.speakingVolumeSamples.push(e),i.emit(v.VolumeChanged,e);var u=!1,c=!0,l=!1,f=void 0;try{for(var d,h=i.speakingVolumeSamples[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){if(d.value>i.speakingThreshold){u=!0;break}}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}i.speaking!==u&&(i.speaking=u,i.emit(v.Speaking,i.speaking)),i.volumeLooperTimeout=setTimeout(i.volumeLooper,200)}})),i.client=e.client,i.call=e.call,i.roomId=e.roomId,i.userId=e.userId,i.deviceId=e.deviceId,i.purpose=e.purpose,i.audioMuted=e.audioMuted,i.videoMuted=e.videoMuted,i.speakingVolumeSamples=new Array(8).fill(-1/0),i.sdpMetadataStreamId=e.stream.id,i.updateStream(null,e.stream),i.stream=e.stream,i.hasAudioTrack&&i.initVolumeMeasuring(),e.call&&(e.call.addListener(h.CallEvent.State,i.onCallState),i.onCallState(e.call.state)),i}return(0,i.default)(s,[{key:"connected",get:function(){return this.isLocal()||this._connected},set:function(e){this._connected=e,this.emit(v.ConnectedChanged,this.connected)}},{key:"hasAudioTrack",get:function(){return this.stream.getAudioTracks().length>0}},{key:"updateStream",value:function(e,t){t!==e&&(e&&(e.removeEventListener("addtrack",this.onAddTrack),this.measureVolumeActivity(!1)),this.stream=t,t.addEventListener("addtrack",this.onAddTrack),this.hasAudioTrack?this.initVolumeMeasuring():this.measureVolumeActivity(!1),this.emit(v.NewStream,this.stream))}},{key:"initVolumeMeasuring",value:function(){this.hasAudioTrack&&(this.audioContext||(this.audioContext=(0,l.acquireContext)()),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=512,this.analyser.smoothingTimeConstant=.1,this.audioContext.createMediaStreamSource(this.stream).connect(this.analyser),this.frequencyBinCount=new Float32Array(this.analyser.frequencyBinCount))}},{key:"getMember",value:function(){var e,t=this.client.getRoom(this.roomId);return null!==(e=null==t?void 0:t.getMember(this.userId))&&void 0!==e?e:null}},{key:"isLocal",value:function(){return this.userId===this.client.getUserId()&&(void 0===this.deviceId||this.deviceId===this.client.getDeviceId())}},{key:"isAudioMuted",value:function(){return 0===this.stream.getAudioTracks().length||this.audioMuted}},{key:"isVideoMuted",value:function(){return 0===this.stream.getVideoTracks().length||this.videoMuted}},{key:"isSpeaking",value:function(){return this.speaking}},{key:"setNewStream",value:function(e){this.updateStream(this.stream,e)}},{key:"setAudioVideoMuted",value:function(e,t){null!==e&&(this.audioMuted!==e&&this.speakingVolumeSamples.fill(-1/0),this.audioMuted=e),null!==t&&(this.videoMuted=t),this.emit(v.MuteStateChanged,this.audioMuted,this.videoMuted)}},{key:"measureVolumeActivity",value:function(e){if(e){if(!this.analyser||!this.frequencyBinCount||!this.hasAudioTrack)return;this.measuringVolumeActivity=!0,this.volumeLooper()}else this.measuringVolumeActivity=!1,this.speakingVolumeSamples.fill(-1/0),this.emit(v.VolumeChanged,-1/0)}},{key:"setSpeakingThreshold",value:function(e){this.speakingThreshold=e}},{key:"clone",value:function(){var e=this.client.getMediaHandler(),t=this.stream.clone();return f.logger.log("callFeed cloning stream ".concat(this.stream.id," newStream ").concat(t.id)),this.purpose===c.SDPStreamMetadataPurpose.Usermedia?e.userMediaStreams.push(t):e.screensharingStreams.push(t),new s({client:this.client,roomId:this.roomId,userId:this.userId,deviceId:this.deviceId,stream:t,purpose:this.purpose,audioMuted:this.audioMuted,videoMuted:this.videoMuted})}},{key:"dispose",value:function(){var e,t;clearTimeout(this.volumeLooperTimeout),null===(e=this.stream)||void 0===e||e.removeEventListener("addtrack",this.onAddTrack),null===(t=this.call)||void 0===t||t.removeListener(h.CallEvent.State,this.onCallState),this.audioContext&&(this.audioContext=void 0,this.analyser=void 0,(0,l.releaseContext)()),this._disposed=!0,this.emit(v.Disposed)}},{key:"disposed",get:function(){return this._disposed},set:function(e){this._disposed=e}},{key:"getLocalVolume",value:function(){return this.localVolume}},{key:"setLocalVolume",value:function(e){this.localVolume=e,this.emit(v.LocalVolumeChanged,e)}}]),s}(d.TypedEventEmitter);e.exports.CallFeed=b})),parcelRequire.register("hCw5H",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.releaseContext=e.exports.acquireContext=void 0;var r=null,n=0;e.exports.acquireContext=function(){return null===r&&(r=new AudioContext),n++,r};e.exports.releaseContext=function(){var e;0===--n&&(null===(e=r)||void 0===e||e.close(),r=null)}})),parcelRequire.register("3jE4D",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DeviceInfo=void 0;var a,o,s=i(parcelRequire("abzte"));(o=a||(a={}))[o.Blocked=-1]="Blocked",o[o.Unverified=0]="Unverified",o[o.Verified=1]="Verified";var u=function(){function e(t){(0,r.default)(this,e),this.deviceId=t,(0,s.default)(this,"algorithms",[]),(0,s.default)(this,"keys",{}),(0,s.default)(this,"verified",a.Unverified),(0,s.default)(this,"known",!1),(0,s.default)(this,"unsigned",{}),(0,s.default)(this,"signatures",{})}return(0,n.default)(e,[{key:"toStorage",value:function(){return{algorithms:this.algorithms,keys:this.keys,verified:this.verified,known:this.known,unsigned:this.unsigned,signatures:this.signatures}}},{key:"getFingerprint",value:function(){return this.keys["ed25519:"+this.deviceId]}},{key:"getIdentityKey",value:function(){return this.keys["curve25519:"+this.deviceId]}},{key:"getDisplayName",value:function(){return this.unsigned.device_display_name||null}},{key:"isBlocked",value:function(){return this.verified==a.Blocked}},{key:"isVerified",value:function(){return this.verified==a.Verified}},{key:"isUnverified",value:function(){return this.verified==a.Unverified}},{key:"isKnown",value:function(){return!0===this.known}}],[{key:"fromStorage",value:function(t,r){var n=new e(r);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}}]),e}();e.exports.DeviceInfo=u,(0,s.default)(u,"DeviceVerification",{VERIFIED:a.Verified,UNVERIFIED:a.Unverified,BLOCKED:a.Blocked})})),parcelRequire.register("473pQ",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("bw73z"),u=parcelRequire("dVhHy"),c=parcelRequire("caN7I"),l=parcelRequire("9PuT7"),f=parcelRequire("8rJSp"),d=parcelRequire("cDTRq"),h=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.OtherUserSpeakingError=e.exports.GroupCallUnknownDeviceError=e.exports.GroupCallType=e.exports.GroupCallTerminationReason=e.exports.GroupCallState=e.exports.GroupCallIntent=e.exports.GroupCallEvent=e.exports.GroupCallErrorCode=e.exports.GroupCallError=e.exports.GroupCall=void 0;var v,p,b,g,m,$,y,w,_,S=h(parcelRequire("abzte")),C=parcelRequire("4Eh2q"),k=parcelRequire("hyMKr"),E=parcelRequire("cyUK7"),R=parcelRequire("kDAFF"),x=parcelRequire("fKX3v"),M=parcelRequire("5FD7J"),I=parcelRequire("ihYWI"),T=parcelRequire("axSuM"),A=parcelRequire("j54vr"),O=parcelRequire("egEJd"),D=parcelRequire("5HsbU");function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,S.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.exports.GroupCallIntent=v,(p=v||(e.exports.GroupCallIntent=v={})).Ring="m.ring",p.Prompt="m.prompt",p.Room="m.room",e.exports.GroupCallType=b,(g=b||(e.exports.GroupCallType=b={})).Video="m.video",g.Voice="m.voice",e.exports.GroupCallTerminationReason=m,(m||(e.exports.GroupCallTerminationReason=m={})).CallEnded="call_ended",e.exports.GroupCallEvent=$,(y=$||(e.exports.GroupCallEvent=$={})).GroupCallStateChanged="group_call_state_changed",y.ActiveSpeakerChanged="active_speaker_changed",y.CallsChanged="calls_changed",y.UserMediaFeedsChanged="user_media_feeds_changed",y.ScreenshareFeedsChanged="screenshare_feeds_changed",y.LocalScreenshareStateChanged="local_screenshare_state_changed",y.LocalMuteStateChanged="local_mute_state_changed",y.ParticipantsChanged="participants_changed",y.Error="error",e.exports.GroupCallErrorCode=w,(_=w||(e.exports.GroupCallErrorCode=w={})).NoUserMedia="no_user_media",_.UnknownDevice="unknown_device",_.PlaceCallFailed="place_call_failed";var L=function(e){(0,o.default)(n,e);var t=(0,f.default)(n);function n(e,a,o){var u;return(0,i.default)(this,n),o?(u=t.call(this,a+": "+o),(0,S.default)((0,r.default)(u),"code",void 0)):(u=t.call(this,a),(0,S.default)((0,r.default)(u),"code",void 0)),u.code=e,(0,s.default)(u)}return n}((0,l.default)(Error));e.exports.GroupCallError=L;var U=function(e){(0,o.default)(r,e);var t=(0,f.default)(r);function r(e){var n;return(0,i.default)(this,r),(n=t.call(this,w.UnknownDevice,"No device found for "+e)).userId=e,n}return r}(L);e.exports.GroupCallUnknownDeviceError=U;var N,B,F=function(e){(0,o.default)(r,e);var t=(0,f.default)(r);function r(){return(0,i.default)(this,r),t.call(this,"Cannot unmute: another user is speaking")}return r}((0,l.default)(Error));e.exports.OtherUserSpeakingError=F,e.exports.GroupCallState=N,(B=N||(e.exports.GroupCallState=N={})).LocalCallFeedUninitialized="local_call_feed_uninitialized",B.InitializingLocalCallFeed="initializing_local_call_feed",B.LocalCallFeedInitialized="local_call_feed_initialized",B.Entered="entered",B.Ended="ended";var j=36e5;function K(e){var t;return(null===(t=e.getOpponentMember())||void 0===t?void 0:t.userId)||e.invitee||null}var H=function(e){(0,o.default)(s,e);var t=(0,f.default)(s);function s(e,n,a,o,c,l,f,d){var h,v,p;return(0,i.default)(this,s),(h=t.call(this)).client=e,h.room=n,h.type=a,h.isPtt=o,h.intent=c,h.dataChannelsEnabled=f,h.dataChannelOptions=d,(0,S.default)((0,r.default)(h),"activeSpeakerInterval",1e3),(0,S.default)((0,r.default)(h),"retryCallInterval",5e3),(0,S.default)((0,r.default)(h),"participantTimeout",15e3),(0,S.default)((0,r.default)(h),"pttMaxTransmitTime",2e4),(0,S.default)((0,r.default)(h),"activeSpeaker",void 0),(0,S.default)((0,r.default)(h),"localCallFeed",void 0),(0,S.default)((0,r.default)(h),"localScreenshareFeed",void 0),(0,S.default)((0,r.default)(h),"localDesktopCapturerSourceId",void 0),(0,S.default)((0,r.default)(h),"userMediaFeeds",[]),(0,S.default)((0,r.default)(h),"screenshareFeeds",[]),(0,S.default)((0,r.default)(h),"groupCallId",void 0),(0,S.default)((0,r.default)(h),"calls",new Map),(0,S.default)((0,r.default)(h),"callHandlers",new Map),(0,S.default)((0,r.default)(h),"activeSpeakerLoopInterval",void 0),(0,S.default)((0,r.default)(h),"retryCallLoopInterval",void 0),(0,S.default)((0,r.default)(h),"retryCallCounts",new Map),(0,S.default)((0,r.default)(h),"reEmitter",void 0),(0,S.default)((0,r.default)(h),"transmitTimer",null),(0,S.default)((0,r.default)(h),"participantsExpirationTimer",null),(0,S.default)((0,r.default)(h),"resendMemberStateTimer",null),(0,S.default)((0,r.default)(h),"initWithAudioMuted",!1),(0,S.default)((0,r.default)(h),"initWithVideoMuted",!1),(0,S.default)((0,r.default)(h),"_state",N.LocalCallFeedUninitialized),(0,S.default)((0,r.default)(h),"_participants",new Map),(0,S.default)((0,r.default)(h),"_creationTs",null),(0,S.default)((0,r.default)(h),"_enteredViaAnotherSession",!1),(0,S.default)((0,r.default)(h),"onIncomingCall",(function(e){var t,r;if(e.roomId===h.room.roomId)if(e.state===E.CallState.Ringing){if(!e.groupCallId||e.groupCallId!==h.groupCallId)return x.logger.log("Incoming call with groupCallId ".concat(e.groupCallId," ignored because it doesn't match the current group call")),void e.reject();var n=null===(t=e.getOpponentMember())||void 0===t?void 0:t.userId;if(void 0!==n){var i=null!==(r=h.calls.get(n))&&void 0!==r?r:new Map,a=i.get(e.getOpponentDeviceId());(null==a?void 0:a.callId)!==e.callId&&(x.logger.log("GroupCall: incoming call from ".concat(n," with ID ").concat(e.callId)),a&&h.disposeCall(a,E.CallErrorCode.Replaced),h.initCall(e),e.answerWithCallFeeds(h.getLocalFeeds().map((function(e){return e.clone()}))),i.set(e.getOpponentDeviceId(),e),h.calls.set(n,i),h.emit($.CallsChanged,h.calls))}else x.logger.warn("Incoming call with no member. Ignoring.")}else x.logger.warn("Incoming call no longer in ringing state. Ignoring.")})),(0,S.default)((0,r.default)(h),"onRetryCallLoop",(function(){var e=!1,t=!0,r=!1,n=void 0;try{for(var i,a=h.participants[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,u.default)(i.value,2),s=o[0].userId,c=o[1],l=h.calls.get(s),f=h.retryCallCounts.get(s),d=!0,v=!1,p=void 0;try{for(var b,g=c[Symbol.iterator]();!(d=(b=g.next()).done);d=!0){var m,$,y=(0,u.default)(b.value,2),w=y[0],_=y[1],S=null==l?void 0:l.get(w),C=null!==(m=null===($=f)||void 0===$?void 0:$.get(w))&&void 0!==m?m:0;(null==S?void 0:S.getOpponentSessionId())!==_.sessionId&&h.wantsOutgoingCall(s,w)&&C<3&&(void 0===f&&(f=new Map,h.retryCallCounts.set(s,f)),f.set(w,C+1),e=!0)}}catch(e){v=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(v)throw p}}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}e&&h.placeOutgoingCalls()})),(0,S.default)((0,r.default)(h),"onCallFeedsChanged",(function(e){var t=K(e),r=e.getOpponentDeviceId();if(!t)throw new Error("Cannot change call feeds without user id");var n=h.getUserMediaFeed(t,r),i=e.remoteUsermediaFeed;i!==n&&(!n&&i?h.addUserMediaFeed(i):n&&i?h.replaceUserMediaFeed(n,i):n&&!i&&h.removeUserMediaFeed(n));var a=h.getScreenshareFeed(t,r),o=e.remoteScreensharingFeed;o!==a&&(!a&&o?h.addScreenshareFeed(o):a&&o?h.replaceScreenshareFeed(a,o):a&&!o&&h.removeScreenshareFeed(a))})),(0,S.default)((0,r.default)(h),"onCallStateChanged",(function(e,t,r){var n,i=h.localCallFeed.isAudioMuted();e.localUsermediaStream&&e.isMicrophoneMuted()!==i&&e.setMicrophoneMuted(i);var a=h.localCallFeed.isVideoMuted();e.localUsermediaStream&&e.isLocalVideoMuted()!==a&&e.setLocalVideoMuted(a);var o=null===(n=e.getOpponentMember())||void 0===n?void 0:n.userId;if(t===E.CallState.Connected&&o){var s=h.retryCallCounts.get(o);null==s||s.delete(e.getOpponentDeviceId()),0===(null==s?void 0:s.size)&&h.retryCallCounts.delete(o)}})),(0,S.default)((0,r.default)(h),"onCallHangup",(function(e){var t,r;if(e.hangupReason!==E.CallErrorCode.Replaced){var n=null!==(t=null===(r=e.getOpponentMember())||void 0===r?void 0:r.userId)&&void 0!==t?t:h.room.getMember(e.invitee).userId,i=h.calls.get(n);(null==i?void 0:i.get(e.getOpponentDeviceId()))===e&&(h.disposeCall(e,e.hangupReason),i.delete(e.getOpponentDeviceId()),0===i.size&&h.calls.delete(n),h.emit($.CallsChanged,h.calls))}})),(0,S.default)((0,r.default)(h),"onCallReplaced",(function(e,t){var r=e.getOpponentMember().userId,n=h.calls.get(r);void 0===n&&(n=new Map,h.calls.set(r,n)),h.disposeCall(e,E.CallErrorCode.Replaced),h.initCall(t),n.set(e.getOpponentDeviceId(),t),h.emit($.CallsChanged,h.calls)})),(0,S.default)((0,r.default)(h),"onActiveSpeakerLoop",(function(){var e=void 0,t=void 0,r=!0,n=!1,i=void 0;try{for(var a,o=h.userMediaFeeds[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!(s.isLocal()&&h.userMediaFeeds.length>1)){var u=s.speakingVolumeSamples.reduce((function(e,t){return e+Math.max(t,k.SPEAKING_THRESHOLD)}))/s.speakingVolumeSamples.length;(!e||u>e)&&(e=u,t=s)}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}t&&h.activeSpeaker!==t&&e&&e>k.SPEAKING_THRESHOLD&&(h.activeSpeaker=t,h.emit($.ActiveSpeakerChanged,h.activeSpeaker))})),(0,S.default)((0,r.default)(h),"onRoomState",(function(){return h.updateParticipants()})),(0,S.default)((0,r.default)(h),"onParticipantsChanged",(function(){h.state===N.Entered&&h.placeOutgoingCalls()})),(0,S.default)((0,r.default)(h),"onStateChanged",(function(e,t){e!==N.Entered&&t!==N.Entered&&e!==N.Ended||(h.updateParticipants(),h.updateMemberState().catch((function(e){return x.logger.error("Failed to update member state devices",e)})))})),(0,S.default)((0,r.default)(h),"onLocalFeedsChanged",(function(){h.state===N.Entered&&h.updateMemberState().catch((function(e){return x.logger.error("Failed to update member state feeds",e)}))})),h.reEmitter=new M.ReEmitter((0,r.default)(h)),h.groupCallId=null!=l?l:(0,E.genCallID)(),h.creationTs=null!==(v=null===(p=n.currentState.getStateEvents(T.EventType.GroupCallPrefix,h.groupCallId))||void 0===p?void 0:p.getTs())&&void 0!==v?v:null,h.updateParticipants(),n.on(R.RoomStateEvent.Update,h.onRoomState),h.on($.ParticipantsChanged,h.onParticipantsChanged),h.on($.GroupCallStateChanged,h.onStateChanged),h.on($.LocalScreenshareStateChanged,h.onLocalFeedsChanged),h}return(0,a.default)(s,[{key:"create",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return e.creationTs=Date.now(),e.client.groupCallEventHandler.groupCalls.set(e.room.roomId,e),e.client.emit(O.GroupCallEventHandlerEvent.Outgoing,e),t={"m.intent":e.intent,"m.type":e.type,"io.element.ptt":e.isPtt,dataChannelsEnabled:e.dataChannelsEnabled,dataChannelOptions:e.dataChannelsEnabled?e.dataChannelOptions:void 0},[4,e.client.sendStateEvent(e.room.roomId,T.EventType.GroupCallPrefix,t,e.groupCallId)];case 1:return r.sent(),[2,e]}}))}))()}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;e!==t&&(this._state=e,this.emit($.GroupCallStateChanged,e,t))}},{key:"participants",get:function(){return this._participants},set:function(e){var t=this._participants,r=function(e,t){return e.sessionId===t.sessionId&&e.screensharing===t.screensharing};(0,D.mapsEqual)(e,t,(function(e,t){return(0,D.mapsEqual)(e,t,r)}))||(this._participants=e,this.emit($.ParticipantsChanged,e))}},{key:"creationTs",get:function(){return this._creationTs},set:function(e){this._creationTs=e}},{key:"enteredViaAnotherSession",get:function(){return this._enteredViaAnotherSession},set:function(e){this._enteredViaAnotherSession=e,this.updateParticipants()}},{key:"forEachCall",value:function(e){var t=!0,r=!1,n=void 0,i=!0,a=!1,o=void 0;try{for(var s,u=this.calls.values()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;try{for(var l,f=c.values()[Symbol.iterator]();!(t=(l=f.next()).done);t=!0){e(l.value)}}catch(e){r=!0,n=e}finally{try{t||null==f.return||f.return()}finally{if(r)throw n}}}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}},{key:"getLocalFeeds",value:function(){var e=[];return this.localCallFeed&&e.push(this.localCallFeed),this.localScreenshareFeed&&e.push(this.localScreenshareFeed),e}},{key:"hasLocalParticipant",value:function(){var e,t;return null!==(e=null===(t=this.participants.get(this.room.getMember(this.client.getUserId())))||void 0===t?void 0:t.has(this.client.getDeviceId()))&&void 0!==e&&e}},{key:"initLocalCallFeed",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:if(x.logger.log("groupCall ".concat(e.groupCallId," initLocalCallFeed")),e.state!==N.LocalCallFeedUninitialized)throw new Error('Cannot initialize local call feed in the "'.concat(e.state,'" state.'));e.state=N.InitializingLocalCallFeed,r=!1,n=function(e){e===N.LocalCallFeedUninitialized&&(r=!0)},e.on($.GroupCallStateChanged,n),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,e.client.getMediaHandler().getUserMediaStream(!0,e.type===b.Video)];case 2:return t=o.sent(),[3,5];case 3:throw i=o.sent(),e.state=N.LocalCallFeedUninitialized,i;case 4:return e.off($.GroupCallStateChanged,n),[7];case 5:if(r)throw new Error("Group call disposed");return a=new k.CallFeed({client:e.client,roomId:e.room.roomId,userId:e.client.getUserId(),deviceId:e.client.getDeviceId(),stream:t,purpose:I.SDPStreamMetadataPurpose.Usermedia,audioMuted:e.initWithAudioMuted||0===t.getAudioTracks().length||e.isPtt,videoMuted:e.initWithVideoMuted||0===t.getVideoTracks().length}),(0,E.setTracksEnabled)(t.getAudioTracks(),!a.isAudioMuted()),(0,E.setTracksEnabled)(t.getVideoTracks(),!a.isVideoMuted()),e.localCallFeed=a,e.addUserMediaFeed(a),e.state=N.LocalCallFeedInitialized,[2,a]}}))}))()}},{key:"updateLocalUsermediaStream",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i;return(0,d.__generator)(this,(function(a){return t.localCallFeed&&(r=t.localCallFeed.stream,t.localCallFeed.setNewStream(e),n=t.localCallFeed.isAudioMuted(),i=t.localCallFeed.isVideoMuted(),x.logger.log("groupCall ".concat(t.groupCallId," updateLocalUsermediaStream oldStream ").concat(r.id," newStream ").concat(e.id," micShouldBeMuted ").concat(n," vidShouldBeMuted ").concat(i)),(0,E.setTracksEnabled)(e.getAudioTracks(),!n),(0,E.setTracksEnabled)(e.getVideoTracks(),!i),t.client.getMediaHandler().stopUserMediaStream(r)),[2]}))}))()}},{key:"enter",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return e.state!==N.LocalCallFeedUninitialized?[3,2]:[4,e.initLocalCallFeed()];case 1:return s.sent(),[3,3];case 2:if(e.state!==N.LocalCallFeedInitialized)throw new Error('Cannot enter call in the "'.concat(e.state,'" state'));s.label=3;case 3:x.logger.log("Entered group call ".concat(e.groupCallId)),e.state=N.Entered,e.client.on(A.CallEventHandlerEvent.Incoming,e.onIncomingCall),t=!0,r=!1,n=void 0;try{for(i=e.client.callEventHandler.calls.values()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)o=a.value,e.onIncomingCall(o)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e.retryCallLoopInterval=setInterval(e.onRetryCallLoop,e.retryCallInterval),e.activeSpeaker=void 0,e.onActiveSpeakerLoop(),e.activeSpeakerLoopInterval=setInterval(e.onActiveSpeakerLoop,e.activeSpeakerInterval),[2]}}))}))()}},{key:"dispose",value:function(){var e=this;this.localCallFeed&&(this.removeUserMediaFeed(this.localCallFeed),this.localCallFeed=void 0),this.localScreenshareFeed&&(this.client.getMediaHandler().stopScreensharingStream(this.localScreenshareFeed.stream),this.removeScreenshareFeed(this.localScreenshareFeed),this.localScreenshareFeed=void 0,this.localDesktopCapturerSourceId=void 0),this.client.getMediaHandler().stopAllStreams(),null!==this.transmitTimer&&(clearTimeout(this.transmitTimer),this.transmitTimer=null),void 0!==this.retryCallLoopInterval&&(clearInterval(this.retryCallLoopInterval),this.retryCallLoopInterval=void 0),this.state===N.Entered&&(this.forEachCall((function(t){return e.disposeCall(t,E.CallErrorCode.UserHangup)})),this.calls.clear(),this.activeSpeaker=void 0,clearInterval(this.activeSpeakerLoopInterval),this.retryCallCounts.clear(),clearInterval(this.retryCallLoopInterval),this.client.removeListener(A.CallEventHandlerEvent.Incoming,this.onIncomingCall))}},{key:"leave",value:function(){this.dispose(),this.state=N.LocalCallFeedUninitialized}},{key:"terminate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;return(0,n.default)((function(){var r;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return t.dispose(),t.room.off(R.RoomStateEvent.Update,t.onRoomState),t.client.groupCallEventHandler.groupCalls.delete(t.room.roomId),t.client.emit(O.GroupCallEventHandlerEvent.Ended,t),t.state=N.Ended,e?(r=t.room.currentState.getStateEvents(T.EventType.GroupCallPrefix,t.groupCallId),[4,t.client.sendStateEvent(t.room.roomId,T.EventType.GroupCallPrefix,q(q({},r.getContent()),{},{"m.terminated":m.CallEnded}),t.groupCallId)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()}},{key:"isLocalVideoMuted",value:function(){return!this.localCallFeed||this.localCallFeed.isVideoMuted()}},{key:"isMicrophoneMuted",value:function(){return!this.localCallFeed||this.localCallFeed.isAudioMuted()}},{key:"setMicrophoneMuted",value:function(e){var t=this;return(0,n.default)((function(){var r,i,a;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return(r=!e)?[4,t.client.getMediaHandler().hasAudioDevice()]:[3,2];case 1:r=!o.sent(),o.label=2;case 2:return r?[2,!1]:(i=!e&&t.isPtt,t.isPtt&&(!e&&t.isMicrophoneMuted()?t.transmitTimer=setTimeout((function(){t.setMicrophoneMuted(!0)}),t.pttMaxTransmitTime):e&&!t.isMicrophoneMuted()&&(null!==t.transmitTimer&&clearTimeout(t.transmitTimer),t.transmitTimer=null)),t.forEachCall((function(t){var r;return null===(r=t.localUsermediaFeed)||void 0===r?void 0:r.setAudioVideoMuted(e,null)})),s=(0,n.default)((function(){var e;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return e=[],t.forEachCall((function(t){return e.push(t.sendMetadataUpdate())})),[4,Promise.all(e).catch((function(e){return x.logger.info("Failed to send some metadata updates",e)}))];case 1:return r.sent(),[2]}}))})),a=function(){return s.apply(this,arguments)},i?[4,a()]:[3,4]);case 3:o.sent(),o.label=4;case 4:return t.localCallFeed?(x.logger.log("groupCall ".concat(t.groupCallId," setMicrophoneMuted stream ").concat(t.localCallFeed.stream.id," muted ").concat(e)),t.localCallFeed.setAudioVideoMuted(e,null),(0,E.setTracksEnabled)(t.localCallFeed.stream.getAudioTracks(),!e)):(x.logger.log("groupCall ".concat(t.groupCallId," setMicrophoneMuted no stream muted ").concat(e)),t.initWithAudioMuted=e),t.forEachCall((function(t){return(0,E.setTracksEnabled)(t.localUsermediaFeed.stream.getAudioTracks(),!e)})),t.emit($.LocalMuteStateChanged,e,t.isLocalVideoMuted()),i?[3,6]:[4,a()];case 5:o.sent(),o.label=6;case 6:return[2,!0]}var s}))}))()}},{key:"setLocalVideoMuted",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return(r=!e)?[4,t.client.getMediaHandler().hasVideoDevice()]:[3,2];case 1:r=!a.sent(),a.label=2;case 2:return r?[2,!1]:t.localCallFeed?(x.logger.log("groupCall ".concat(t.groupCallId," setLocalVideoMuted stream ").concat(t.localCallFeed.stream.id," muted ").concat(e)),[4,t.client.getMediaHandler().getUserMediaStream(!0,!e)]):[3,5];case 3:return n=a.sent(),[4,t.updateLocalUsermediaStream(n)];case 4:return a.sent(),t.localCallFeed.setAudioVideoMuted(null,e),(0,E.setTracksEnabled)(t.localCallFeed.stream.getVideoTracks(),!e),[3,6];case 5:x.logger.log("groupCall ".concat(t.groupCallId," setLocalVideoMuted no stream muted ").concat(e)),t.initWithVideoMuted=e,a.label=6;case 6:return i=[],t.forEachCall((function(t){return i.push(t.setLocalVideoMuted(e))})),[4,Promise.all(i)];case 7:return a.sent(),t.emit($.LocalMuteStateChanged,t.isMicrophoneMuted(),e),[2,!0]}}))}))()}},{key:"setScreensharingEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,l,f;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(e===r.isScreensharing())return[2,e];if(!e)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),x.logger.log("Asking for screensharing permissions..."),[4,r.client.getMediaHandler().getScreensharingStream(t)];case 2:n=d.sent(),i=!0,a=!1,o=void 0;try{for(s=n.getTracks()[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c=u.value,l=function(){r.setScreensharingEnabled(!1),c.removeEventListener("ended",l)},c.addEventListener("ended",l)}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return x.logger.log("Screensharing permissions granted. Setting screensharing enabled on all calls"),r.localDesktopCapturerSourceId=t.desktopCapturerSourceId,r.localScreenshareFeed=new k.CallFeed({client:r.client,roomId:r.room.roomId,userId:r.client.getUserId(),deviceId:r.client.getDeviceId(),stream:n,purpose:I.SDPStreamMetadataPurpose.Screenshare,audioMuted:!1,videoMuted:!1}),r.addScreenshareFeed(r.localScreenshareFeed),r.emit($.LocalScreenshareStateChanged,!0,r.localScreenshareFeed,r.localDesktopCapturerSourceId),r.forEachCall((function(e){return e.pushLocalFeed(r.localScreenshareFeed.clone())})),[2,!0];case 3:if(f=d.sent(),t.throwOnFail)throw f;return x.logger.error("Enabling screensharing error",f),r.emit($.Error,new L(w.NoUserMedia,"Failed to get screen-sharing stream: ",f)),[2,!1];case 4:return[3,6];case 5:return r.forEachCall((function(e){e.localScreensharingFeed&&e.removeLocalFeed(e.localScreensharingFeed)})),r.client.getMediaHandler().stopScreensharingStream(r.localScreenshareFeed.stream),r.removeScreenshareFeed(r.localScreenshareFeed),r.localScreenshareFeed=void 0,r.localDesktopCapturerSourceId=void 0,r.emit($.LocalScreenshareStateChanged,!1,void 0,void 0),[2,!1];case 6:return[2]}}))}))()}},{key:"isScreensharing",value:function(){return!!this.localScreenshareFeed}},{key:"wantsOutgoingCall",value:function(e,t){var r=this.client.getUserId(),n=this.client.getDeviceId();return e>=r&&(e!==r||t>n)}},{key:"placeOutgoingCalls",value:function(){var e=this,t=!1,r=!0,n=!1,i=void 0;try{for(var a,o=this,s=function(){var r,n=(0,u.default)(a.value,2),i=n[0].userId,s=n[1],c=null!==(r=o.calls.get(i))&&void 0!==r?r:new Map,l=!0,f=!1,d=void 0;try{for(var h,v=o,p=function(){var r=(0,u.default)(h.value,2),n=r[0],a=r[1],o=c.get(n);if((null==o?void 0:o.getOpponentSessionId())!==a.sessionId&&v.wantsOutgoingCall(i,n)){t=!0,void 0!==o&&(x.logger.debug("Replacing call ".concat(o.callId," to ").concat(i," ").concat(n)),v.disposeCall(o,E.CallErrorCode.NewSession));var s=(0,E.createNewMatrixCall)(v.client,v.room.roomId,{invitee:i,opponentDeviceId:n,opponentSessionId:a.sessionId,groupCallId:v.groupCallId});null===s?(x.logger.error("Failed to create call with ".concat(i," ").concat(n)),c.delete(n)):(v.initCall(s),c.set(n,s),x.logger.debug("Placing call to ".concat(i," ").concat(n," (session ").concat(a.sessionId,")")),s.placeCallWithCallFeeds(v.getLocalFeeds().map((function(e){return e.clone()})),a.screensharing).then((function(){e.dataChannelsEnabled&&s.createDataChannel("datachannel",e.dataChannelOptions)})).catch((function(t){x.logger.warn("Failed to place call to ".concat(i),t),t instanceof E.CallError&&t.code===w.UnknownDevice?e.emit($.Error,t):e.emit($.Error,new L(w.PlaceCallFailed,"Failed to place call to ".concat(i))),e.disposeCall(s,E.CallErrorCode.SignallingFailed),c.get(n)===s&&c.delete(n)})))}},b=s[Symbol.iterator]();!(l=(h=b.next()).done);l=!0)p()}catch(e){f=!0,d=e}finally{try{l||null==b.return||b.return()}finally{if(f)throw d}}c.size>0?o.calls.set(i,c):o.calls.delete(i)},c=this.participants[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)s()}catch(e){n=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}t&&this.emit($.CallsChanged,this.calls)}},{key:"getMemberStateEvents",value:function(e){return void 0===e?this.room.currentState.getStateEvents(T.EventType.GroupCallMemberPrefix):this.room.currentState.getStateEvents(T.EventType.GroupCallMemberPrefix,e)}},{key:"initCall",value:function(e){var t=this,r=K(e);if(!r)throw new Error("Cannot init call without user id");var n=function(){return t.onCallFeedsChanged(e)},i=function(r,n){return t.onCallStateChanged(e,r,n)},a=this.onCallHangup,o=function(r){return t.onCallReplaced(e,r)},s=this.callHandlers.get(r);void 0===s&&(s=new Map,this.callHandlers.set(r,s)),s.set(e.getOpponentDeviceId(),{onCallFeedsChanged:n,onCallStateChanged:i,onCallHangup:a,onCallReplaced:o}),e.on(E.CallEvent.FeedsChanged,n),e.on(E.CallEvent.State,i),e.on(E.CallEvent.Hangup,a),e.on(E.CallEvent.Replaced,o),e.isPtt=this.isPtt,this.reEmitter.reEmit(e,Object.values(E.CallEvent)),n()}},{key:"disposeCall",value:function(e,t){var r=K(e),n=e.getOpponentDeviceId();if(!r)throw new Error("Cannot dispose call without user id");var i=this.callHandlers.get(r),a=i.get(n),o=a.onCallFeedsChanged,s=a.onCallStateChanged,u=a.onCallHangup,c=a.onCallReplaced;if(e.removeListener(E.CallEvent.FeedsChanged,o),e.removeListener(E.CallEvent.State,s),e.removeListener(E.CallEvent.Hangup,u),e.removeListener(E.CallEvent.Replaced,c),i.delete(r),0===i.size&&this.callHandlers.delete(r),e.hangupReason!==E.CallErrorCode.Replaced){e.state!==E.CallState.Ended&&e.hangup(t,!1);var l=this.getUserMediaFeed(r,n);l&&this.removeUserMediaFeed(l);var f=this.getScreenshareFeed(r,n);f&&this.removeScreenshareFeed(f)}}},{key:"getUserMediaFeed",value:function(e,t){return this.userMediaFeeds.find((function(r){return r.userId===e&&r.deviceId===t}))}},{key:"addUserMediaFeed",value:function(e){this.userMediaFeeds.push(e),e.measureVolumeActivity(!0),this.emit($.UserMediaFeedsChanged,this.userMediaFeeds)}},{key:"replaceUserMediaFeed",value:function(e,t){var r=this.userMediaFeeds.findIndex((function(t){return t.userId===e.userId&&t.deviceId===e.deviceId}));if(-1===r)throw new Error("Couldn't find user media feed to replace");this.userMediaFeeds.splice(r,1,t),e.dispose(),t.measureVolumeActivity(!0),this.emit($.UserMediaFeedsChanged,this.userMediaFeeds)}},{key:"removeUserMediaFeed",value:function(e){var t=this.userMediaFeeds.findIndex((function(t){return t.userId===e.userId&&t.deviceId===e.deviceId}));if(-1===t)throw new Error("Couldn't find user media feed to remove");this.userMediaFeeds.splice(t,1),e.dispose(),this.emit($.UserMediaFeedsChanged,this.userMediaFeeds),this.activeSpeaker===e&&(this.activeSpeaker=this.userMediaFeeds[0],this.emit($.ActiveSpeakerChanged,this.activeSpeaker))}},{key:"getScreenshareFeed",value:function(e,t){return this.screenshareFeeds.find((function(r){return r.userId===e&&r.deviceId===t}))}},{key:"addScreenshareFeed",value:function(e){this.screenshareFeeds.push(e),this.emit($.ScreenshareFeedsChanged,this.screenshareFeeds)}},{key:"replaceScreenshareFeed",value:function(e,t){var r=this.screenshareFeeds.findIndex((function(t){return t.userId===e.userId&&t.deviceId===e.deviceId}));if(-1===r)throw new Error("Couldn't find screenshare feed to replace");this.screenshareFeeds.splice(r,1,t),e.dispose(),this.emit($.ScreenshareFeedsChanged,this.screenshareFeeds)}},{key:"removeScreenshareFeed",value:function(e){var t=this.screenshareFeeds.findIndex((function(t){return t.userId===e.userId&&t.deviceId===e.deviceId}));if(-1===t)throw new Error("Couldn't find screenshare feed to remove");this.screenshareFeeds.splice(t,1),e.dispose(),this.emit($.ScreenshareFeedsChanged,this.screenshareFeeds)}},{key:"updateParticipants",value:function(){var e=this;if(null!==this.participantsExpirationTimer&&(clearTimeout(this.participantsExpirationTimer),this.participantsExpirationTimer=null),this.state!==N.Ended){var t=new Map,r=Date.now(),n=this.state===N.Entered||this.enteredViaAnotherSession,i=1/0,a=!0,o=!1,s=void 0;try{for(var u,c=this,l=function(){var a=u.value,o=c.room.getMember(a.getStateKey()),s=a.getContent(),l=(Array.isArray(s["m.calls"])?s["m.calls"]:[]).find((function(t){return t["m.call_id"]===e.groupCallId})),f=(Array.isArray(null==l?void 0:l["m.devices"])?l["m.devices"]:[]).filter((function(e){return"string"==typeof e.device_id&&"string"==typeof e.session_id&&"number"==typeof e.expires_ts&&e.expires_ts>r&&Array.isArray(e.feeds)}));if(n||(null==o?void 0:o.userId)!==c.client.getUserId()||(f=f.filter((function(t){return t.device_id!==e.client.getDeviceId()}))),f.length>0&&"join"===(null==o?void 0:o.membership)){var d=new Map;t.set(o,d);var h=!0,v=!1,p=void 0;try{for(var b,g=f[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){var m=b.value;d.set(m.device_id,{sessionId:m.session_id,screensharing:m.feeds.some((function(e){return e.purpose===I.SDPStreamMetadataPurpose.Screenshare}))}),m.expires_ts<i&&(i=m.expires_ts)}}catch(e){v=!0,p=e}finally{try{h||null==g.return||g.return()}finally{if(v)throw p}}}},f=this.getMemberStateEvents()[Symbol.iterator]();!(a=(u=f.next()).done);a=!0)l()}catch(e){o=!0,s=e}finally{try{a||null==f.return||f.return()}finally{if(o)throw s}}if(n){var d=this.room.getMember(this.client.getUserId()),h=t.get(d);void 0===h&&(h=new Map,t.set(d,h)),h.has(this.client.getDeviceId())||h.set(this.client.getDeviceId(),{sessionId:this.client.getSessionId(),screensharing:this.getLocalFeeds().some((function(e){return e.purpose===I.SDPStreamMetadataPurpose.Screenshare}))})}this.participants=t,i<1/0&&(this.participantsExpirationTimer=setTimeout((function(){return e.updateParticipants()}),i-r))}else this.participants=new Map}},{key:"updateDevices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return(0,n.default)((function(){var n,i,a,o,s,u,l,f,h,v,p,b,g,m,$,y,w,_,S;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:i=Date.now(),a=r.client.getUserId(),o=r.getMemberStateEvents(a),s=null!==(n=null==o?void 0:o.getContent())&&void 0!==n?n:{},u=Array.isArray(s["m.calls"])?s["m.calls"]:[],l=null,f=[],h=!0,v=!1,p=void 0;try{for(b=u[Symbol.iterator]();!(h=(g=b.next()).done);h=!0)(m=g.value)["m.call_id"]===r.groupCallId?l=m:f.push(m)}catch(e){v=!0,p=e}finally{try{h||null==b.return||b.return()}finally{if(v)throw p}}return null===l&&(l={}),$=Array.isArray(l["m.devices"])?l["m.devices"]:[],y=$.filter((function(e){return"string"==typeof e.device_id&&"string"==typeof e.session_id&&"number"==typeof e.expires_ts&&e.expires_ts>i&&Array.isArray(e.feeds)})),null===(w=e(y))?[2]:(_=(0,c.default)(f),w.length>0&&_.push(q(q({},l),{},{"m.call_id":r.groupCallId,"m.devices":w})),S={"m.calls":_},[4,r.client.sendStateEvent(r.room.roomId,T.EventType.GroupCallMemberPrefix,S,a,{keepAlive:t})]);case 1:return d.sent(),[2]}}))}))()}},{key:"addDeviceToMemberState",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.updateDevices((function(t){return(0,c.default)(t.filter((function(t){return t.device_id!==e.client.getDeviceId()}))).concat([{device_id:e.client.getDeviceId(),session_id:e.client.getSessionId(),expires_ts:Date.now()+j,feeds:e.getLocalFeeds().map((function(e){return{purpose:e.purpose}}))}])}))];case 1:return t.sent(),[2]}}))}))()}},{key:"updateMemberState",value:function(){var e=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return null!==e.resendMemberStateTimer&&(clearInterval(e.resendMemberStateTimer),e.resendMemberStateTimer=null),e.state!==N.Entered?[3,2]:[4,e.addDeviceToMemberState()];case 1:return t.sent(),e.resendMemberStateTimer=setInterval((0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:x.logger.log("Resending call member state"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.addDeviceToMemberState()];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),x.logger.error("Failed to resend call member state",t),[3,4];case 4:return[2]}}))})),27e5),[3,4];case 2:return[4,e.updateDevices((function(t){return t.filter((function(t){return t.device_id!==e.client.getDeviceId()}))}),!0)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))()}},{key:"cleanMemberState",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.client.getDevices()];case 1:return t=i.sent(),r=t.devices,n=new Map(r.map((function(e){return[e.device_id,e]}))),[4,e.updateDevices((function(t){var r=t.filter((function(t){var r=n.get(t.device_id);return void 0!==(null==r?void 0:r.last_seen_ts)&&!(t.device_id===e.client.getDeviceId()&&e.state!==N.Entered&&!e.enteredViaAnotherSession)}));return r.length===t.length?null:r}))];case 2:return i.sent(),[2]}}))}))()}}]),s}(C.TypedEventEmitter);e.exports.GroupCall=H})),parcelRequire.register("j54vr",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.CallEventHandlerEvent=e.exports.CallEventHandler=void 0;var s,u=o(parcelRequire("abzte")),c=parcelRequire("fKX3v"),l=parcelRequire("cyUK7"),f=parcelRequire("axSuM"),d=parcelRequire("67LLR"),h=parcelRequire("473pQ"),v=parcelRequire("6pgXP");e.exports.CallEventHandlerEvent=s,(s||(e.exports.CallEventHandlerEvent=s={})).Incoming="Call.incoming";var p=function(){function e(t){var r=this;(0,n.default)(this,e),(0,u.default)(this,"calls",void 0),(0,u.default)(this,"callEventBuffer",void 0),(0,u.default)(this,"nextSeqByCall",new Map),(0,u.default)(this,"toDeviceEventBuffers",new Map),(0,u.default)(this,"client",void 0),(0,u.default)(this,"candidateEventsByCall",void 0),(0,u.default)(this,"eventBufferPromiseChain",void 0),(0,u.default)(this,"onSync",(function(){var e=r.callEventBuffer;r.callEventBuffer=[],r.eventBufferPromiseChain?r.eventBufferPromiseChain=r.eventBufferPromiseChain.then((function(){return r.evaluateEventBuffer(e)})):r.eventBufferPromiseChain=r.evaluateEventBuffer(e)})),(0,u.default)(this,"onRoomTimeline",(function(e){r.callEventBuffer.push(e)})),(0,u.default)(this,"onToDeviceEvent",(function(e){var t=e.getContent();if(t.call_id)if(r.nextSeqByCall.has(t.call_id)||r.nextSeqByCall.set(t.call_id,0),void 0!==t.seq){var n=r.nextSeqByCall.get(t.call_id)||0;if(t.seq!==n){r.toDeviceEventBuffers.has(t.call_id)||r.toDeviceEventBuffers.set(t.call_id,[]);var i=r.toDeviceEventBuffers.get(t.call_id),a=i.findIndex((function(e){return e.getContent().seq>t.seq}));-1===a?i.push(e):i.splice(a,0,e)}else{var o=t.call_id;r.callEventBuffer.push(e),r.nextSeqByCall.set(o,t.seq+1);for(var s=r.toDeviceEventBuffers.get(o),u=s&&s.shift();u&&u.getContent().seq===r.nextSeqByCall.get(o);)r.callEventBuffer.push(u),r.nextSeqByCall.set(o,u.getContent().seq+1),u=s.shift()}}else r.callEventBuffer.push(e);else r.callEventBuffer.push(e)})),this.client=t,this.calls=new Map,this.callEventBuffer=[],this.candidateEventsByCall=new Map}return(0,i.default)(e,[{key:"start",value:function(){this.client.on(d.ClientEvent.Sync,this.onSync),this.client.on(v.RoomEvent.Timeline,this.onRoomTimeline),this.client.on(d.ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}},{key:"stop",value:function(){this.client.removeListener(d.ClientEvent.Sync,this.onSync),this.client.removeListener(v.RoomEvent.Timeline,this.onRoomTimeline),this.client.removeListener(d.ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}},{key:"evaluateEventBuffer",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o,s,u,l,d,h,v,p,b,g,m,$,y,w,_,S;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all(e.map((function(e){return t.client.decryptEventIfNeeded(e)})))];case 1:a.sent(),r=e.filter((function(e){var t=e.getType();return t.startsWith("m.call.")||t.startsWith("org.matrix.call.")})),n=new Set,i=!0,o=!1,s=void 0;try{for(u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)d=l.value,(h=d.getType())!==f.EventType.CallAnswer&&h!==f.EventType.CallHangup||n.add(d.getContent().call_id)}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}v=!0,p=!1,b=void 0,a.label=2;case 2:a.trys.push([2,9,10,11]),g=r[Symbol.iterator](),a.label=3;case 3:if(v=(m=g.next()).done)return[3,8];if($=m.value,y=$.getType(),w=$.getContent().call_id,y===f.EventType.CallInvite&&n.has(w))return[3,7];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,t.handleCallEvent($)];case 5:return a.sent(),[3,7];case 6:return _=a.sent(),c.logger.error("Caught exception handling call event",_),[3,7];case 7:return v=!0,[3,3];case 8:return[3,11];case 9:return S=a.sent(),p=!0,b=S,[3,11];case 10:try{v||null==g.return||g.return()}finally{if(p)throw b}return[7];case 11:return[2]}}))}))()}},{key:"handleCallEvent",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o,u,v,p,b,g,m,$,y,w,_,S,C,k,E,R,x,M,I,T,A,O,D,P,q,L,U,N,B;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(t.client.emit(d.ClientEvent.ReceivedVoipEvent,e),i=e.getContent(),o=e.getRoomId()||(null===(r=t.client.groupCallEventHandler.getGroupCallById(i.conf_id))||void 0===r||null===(n=r.room)||void 0===n?void 0:n.roomId),u=i.conf_id,v=e.getType(),p=e.getSender(),b=i.call_id?t.calls.get(i.call_id):void 0,u){if(!(m=t.client.groupCallEventHandler.getGroupCallById(u)))return c.logger.warn("Cannot find a group call ".concat(u," for event ").concat(v,". Ignoring event.")),[2];if(!(g=i.device_id))return c.logger.warn("Cannot find a device id for ".concat(p,". Ignoring event.")),m.emit(h.GroupCallEvent.Error,new h.GroupCallUnknownDeviceError(p)),[2];if(i.dest_session_id!==t.client.getSessionId())return c.logger.warn("Call event does not match current session id, ignoring."),[2]}if($=p===t.client.credentials.userId&&(void 0===g||g===t.client.getDeviceId()),!o)return[2];if(v!==f.EventType.CallInvite)return[3,5];if($)return[2];if(e.getLocalAge()>i.lifetime-3e3)return[2];if(b&&b.state===l.CallState.Ended)return[2];if(b&&c.logger.log("WARN: Already have a MatrixCall with id ".concat(i.call_id," but got an ")+"invite. Clobbering."),i.invitee&&i.invitee!==t.client.getUserId())return[2];if(_=(null!==(y=t.client.getTurnServersExpiry())&&void 0!==y?y:0)-Date.now(),c.logger.info("Current turn creds expire in "+_+" ms"),!(b=null!==(w=(0,l.createNewMatrixCall)(t.client,o,{forceTURN:t.client.forceTURN,opponentDeviceId:g,groupCallId:u,opponentSessionId:i.sender_session_id}))&&void 0!==w?w:void 0))return c.logger.log("Incoming call ID "+i.call_id+" but this client doesn't support WebRTC"),[2];b.callId=i.call_id,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,b.initWithInvite(e)];case 2:return a.sent(),[3,4];case 3:return(S=a.sent())instanceof l.CallError&&(S.code===h.GroupCallErrorCode.UnknownDevice?null===(C=m)||void 0===C||C.emit(h.GroupCallEvent.Error,S):c.logger.error(S)),[3,4];case 4:if(t.calls.set(b.callId,b),k=!0,E=!1,R=void 0,t.candidateEventsByCall.get(b.callId))try{for(x=t.candidateEventsByCall.get(b.callId)[Symbol.iterator]();!(k=(M=x.next()).done);k=!0)I=M.value,b.onRemoteIceCandidatesReceived(I)}catch(e){E=!0,R=e}finally{try{k||null==x.return||x.return()}finally{if(E)throw R}}A=!0,O=!1,D=void 0;try{for(P=t.calls.values()[Symbol.iterator]();!(A=(q=P.next()).done);A=!0)if(L=q.value,N=[l.CallState.WaitLocalMedia,l.CallState.CreateOffer,l.CallState.InviteSent].includes(L.state),b.roomId===L.roomId&&L.direction===l.CallDirection.Outbound&&(null===(U=b.getOpponentMember())||void 0===U?void 0:U.userId)===L.invitee&&N){T=L;break}}catch(e){O=!0,D=e}finally{try{A||null==P.return||P.return()}finally{if(O)throw D}}return T?T.callId>b.callId?(c.logger.log("Glare detected: answering incoming call "+b.callId+" and canceling outgoing call "+T.callId),T.replacedBy(b)):(c.logger.log("Glare detected: rejecting incoming call "+b.callId+" and keeping outgoing call "+T.callId),b.hangup(l.CallErrorCode.Replaced,!0)):t.client.emit(s.Incoming,b),[2];case 5:if(v===f.EventType.CallCandidates)return $||(b?b.onRemoteIceCandidatesReceived(e):(t.candidateEventsByCall.has(i.call_id)||t.candidateEventsByCall.set(i.call_id,[]),t.candidateEventsByCall.get(i.call_id).push(e))),[2];if([f.EventType.CallHangup,f.EventType.CallReject].includes(v))return b?b.state!==l.CallState.Ended&&(v===f.EventType.CallHangup?b.onHangupReceived(i):b.onRejectReceived(i),b.state===l.CallState.Ended&&t.calls.delete(i.call_id)):(b=null!==(B=(0,l.createNewMatrixCall)(t.client,o,{opponentDeviceId:g,opponentSessionId:i.sender_session_id}))&&void 0!==B?B:void 0)&&(b.callId=i.call_id,b.initWithHangup(e),t.calls.set(i.call_id,b)),[2];a.label=6;case 6:if(!b||!b.hasPeerConnection)return c.logger.info("Discarding possible call event ".concat(e.getId()," as we don't have a call/peerConn"),v),[2];if(e.getContent().party_id===b.ourPartyId)return[2];switch(v){case f.EventType.CallAnswer:$?b.state===l.CallState.Ringing&&b.onAnsweredElsewhere(i):b.onAnswerReceived(e);break;case f.EventType.CallSelectAnswer:b.onSelectAnswerReceived(e);break;case f.EventType.CallNegotiate:b.onNegotiateReceived(e);break;case f.EventType.CallAssertedIdentity:case f.EventType.CallAssertedIdentityPrefix:b.onAssertedIdentityReceived(e);break;case f.EventType.CallSDPStreamMetadataChanged:case f.EventType.CallSDPStreamMetadataChangedPrefix:b.onSDPStreamMetadataChangedReceived(e)}return[2]}}))}))()}}]),e}();e.exports.CallEventHandler=p})),parcelRequire.register("egEJd",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("caN7I"),o=parcelRequire("cDTRq"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.GroupCallEventHandlerEvent=e.exports.GroupCallEventHandler=void 0;var u,c,l=s(parcelRequire("abzte")),f=parcelRequire("67LLR"),d=parcelRequire("473pQ"),h=parcelRequire("kDAFF"),v=parcelRequire("fKX3v"),p=parcelRequire("axSuM"),b=parcelRequire("7NsvV");e.exports.GroupCallEventHandlerEvent=u,(c=u||(e.exports.GroupCallEventHandlerEvent=u={})).Incoming="GroupCall.incoming",c.Outgoing="GroupCall.outgoing",c.Ended="GroupCall.ended",c.Participants="GroupCall.participants";var g=function(){function e(t){var r=this;(0,n.default)(this,e),this.client=t,(0,l.default)(this,"groupCalls",new Map),(0,l.default)(this,"roomDeferreds",new Map),(0,l.default)(this,"onRoomsChanged",(function(e){r.createGroupCallForRoom(e)})),(0,l.default)(this,"onRoomStateChanged",(function(e,t){if(e.getType()===p.EventType.GroupCallPrefix){var n=e.getStateKey(),i=e.getContent(),a=r.groupCalls.get(t.roomId);a||i["m.terminated"]?a&&a.groupCallId===n?i["m.terminated"]?a.terminate(!1):i["m.type"]!==a.type&&v.logger.warn("The group call type changed for room: ".concat(t.roomId,". Changing the group call type is currently unsupported.")):a&&a.groupCallId!==n&&v.logger.warn("Multiple group calls detected for room: ".concat(t.roomId,". Multiple group calls are currently unsupported.")):r.createGroupCallFromRoomStateEvent(e)}}))}return(0,i.default)(e,[{key:"start",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i,a,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e.client.getSyncState()===b.SyncState.Syncing?[3,2]:(v.logger.debug("Waiting for client to start syncing..."),[4,new Promise((function(t){var r=function(){if(e.client.getSyncState()===b.SyncState.Syncing)return e.client.off(f.ClientEvent.Sync,r),t()};e.client.on(f.ClientEvent.Sync,r)}))]);case 1:o.sent(),o.label=2;case 2:t=e.client.getRooms(),r=!0,n=!1,i=void 0;try{for(a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)u=s.value,e.createGroupCallForRoom(u)}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return e.client.on(f.ClientEvent.Room,e.onRoomsChanged),e.client.on(h.RoomStateEvent.Events,e.onRoomStateChanged),[2]}}))}))()}},{key:"stop",value:function(){this.client.removeListener(h.RoomStateEvent.Events,this.onRoomStateChanged)}},{key:"getRoomDeferred",value:function(e){var t,r=this.roomDeferreds.get(e);void 0===r&&((r={prom:new Promise((function(e){t=e}))}).resolve=t,this.roomDeferreds.set(e,r));return r}},{key:"waitUntilRoomReadyForGroupCalls",value:function(e){return this.getRoomDeferred(e).prom}},{key:"getGroupCallById",value:function(e){return(0,a.default)(this.groupCalls.values()).find((function(t){return t.groupCallId===e}))}},{key:"createGroupCallForRoom",value:function(e){var t=e.currentState.getStateEvents(p.EventType.GroupCallPrefix),r=t.sort((function(e,t){return t.getTs()-e.getTs()})),n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(!u.getContent()["m.terminated"]){v.logger.debug("Choosing group call ".concat(u.getStateKey()," with TS ")+"".concat(u.getTs()," for room ").concat(e.roomId," from ").concat(t.length," possible calls.")),this.createGroupCallFromRoomStateEvent(u);break}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}v.logger.info("Group call event handler processed room",e.roomId),this.getRoomDeferred(e.roomId).resolve()}},{key:"createGroupCallFromRoomStateEvent",value:function(e){var t=e.getRoomId(),r=e.getContent(),n=this.client.getRoom(t);if(n){var i=e.getStateKey(),a=r["m.type"];if(Object.values(d.GroupCallType).includes(a)){var o=r["m.intent"];if(Object.values(d.GroupCallIntent).includes(o)){var s,c=Boolean(r["io.element.ptt"]);if(null!=r&&r.dataChannelsEnabled&&null!=r&&r.dataChannelOptions){var l=r.dataChannelOptions;s={ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits,protocol:l.protocol}}var f=new d.GroupCall(this.client,n,a,c,o,i,null==r?void 0:r.dataChannelsEnabled,s);return this.groupCalls.set(n.roomId,f),this.client.emit(u.Incoming,f),f}v.logger.warn("Received invalid group call intent ".concat(a," for room ").concat(t,"."))}else v.logger.warn("Received invalid group call type ".concat(a," for room ").concat(t,"."))}else v.logger.warn("Couldn't find room ".concat(t," for GroupCall"))}}]),e}();e.exports.GroupCallEventHandler=g})),parcelRequire.register("57Sdt",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.AutoDiscoveryAction=e.exports.AutoDiscovery=void 0;var s,u,c,l,f=o(parcelRequire("abzte")),d=parcelRequire("fKX3v"),h=parcelRequire("84XpH");e.exports.AutoDiscoveryAction=s,(u=s||(e.exports.AutoDiscoveryAction=s={})).SUCCESS="SUCCESS",u.IGNORE="IGNORE",u.PROMPT="PROMPT",u.FAIL_PROMPT="FAIL_PROMPT",u.FAIL_ERROR="FAIL_ERROR",(l=c||(c={})).Invalid="Invalid homeserver discovery response",l.GenericFailure="Failed to get autodiscovery configuration from server",l.InvalidHsBaseUrl="Invalid base_url for m.homeserver",l.InvalidHomeserver="Homeserver URL does not appear to be a valid Matrix homeserver",l.InvalidIsBaseUrl="Invalid base_url for m.identity_server",l.InvalidIdentityServer="Identity server URL does not appear to be a valid identity server",l.InvalidIs="Invalid identity server discovery response",l.MissingWellknown="No .well-known JSON file found",l.InvalidJson="Invalid JSON";var v=function(){function e(){(0,n.default)(this,e)}return(0,i.default)(e,null,[{key:"fromDiscoveryConfig",value:function(t){var n=this;return(0,r.default)((function(){var r,i,o,u,c,l,f;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return i={"m.homeserver":{state:e.FAIL_ERROR,error:e.ERROR_INVALID,base_url:null},"m.identity_server":{state:e.PROMPT,error:null,base_url:null}},t&&t["m.homeserver"]?t["m.homeserver"].base_url?(o=n.sanitizeWellKnownUrl(t["m.homeserver"].base_url))?[4,n.fetchWellKnownObject("".concat(o,"/_matrix/client/versions"))]:(d.logger.error("Invalid base_url for m.homeserver"),i["m.homeserver"].error=e.ERROR_INVALID_HS_BASE_URL,[2,Promise.resolve(i)]):(d.logger.error("No m.homeserver base_url in config"),i["m.homeserver"].state=e.FAIL_PROMPT,i["m.homeserver"].error=e.ERROR_INVALID_HS_BASE_URL,[2,Promise.resolve(i)]):(d.logger.error("No m.homeserver key in config"),i["m.homeserver"].state=e.FAIL_PROMPT,i["m.homeserver"].error=e.ERROR_INVALID,[2,Promise.resolve(i)]);case 1:return(u=a.sent())&&null!==(r=u.raw)&&void 0!==r&&r.versions?(i["m.homeserver"]={state:e.SUCCESS,error:null,base_url:o},c="",t["m.identity_server"]?(l={"m.homeserver":i["m.homeserver"],"m.identity_server":{state:e.FAIL_PROMPT,error:e.ERROR_INVALID_IS,base_url:null}},(c=n.sanitizeWellKnownUrl(t["m.identity_server"].base_url))?[4,n.fetchWellKnownObject("".concat(c,"/_matrix/identity/v2"))]:(d.logger.error("Invalid base_url for m.identity_server"),l["m.identity_server"].error=e.ERROR_INVALID_IS_BASE_URL,[2,Promise.resolve(l)])):[3,3]):(d.logger.error("Invalid /versions response"),i["m.homeserver"].error=e.ERROR_INVALID_HOMESERVER,i["m.homeserver"].base_url=o,[2,Promise.resolve(i)]);case 2:if(null==(f=a.sent())||!f.raw||f.action!==s.SUCCESS)return d.logger.error("Invalid /v2 response"),l["m.identity_server"].error=e.ERROR_INVALID_IDENTITY_SERVER,l["m.identity_server"].base_url=c,[2,Promise.resolve(l)];a.label=3;case 3:return c&&c.toString().length>0&&(i["m.identity_server"]={state:e.SUCCESS,error:null,base_url:c}),Object.keys(t).forEach((function(e){if("m.homeserver"===e||"m.identity_server"===e){var r=["error","state","base_url"],n=!0,a=!1,o=void 0;try{for(var s,u=Object.keys(t[e])[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;r.includes(c)||(i[e][c]=t[e][c])}}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}}else i[e]=t[e]})),[2,Promise.resolve(i)]}}))}))()}},{key:"findClientConfig",value:function(t){var n=this;return(0,r.default)((function(){var r,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(!t||"string"!=typeof t||0===t.length)throw new Error("'domain' must be a string of non-zero length");return r={"m.homeserver":{state:e.FAIL_ERROR,error:e.ERROR_INVALID,base_url:null},"m.identity_server":{state:e.PROMPT,error:null,base_url:null}},[4,n.fetchWellKnownObject("https://".concat(t,"/.well-known/matrix/client"))];case 1:return(i=a.sent())&&i.action===s.SUCCESS?[2,e.fromDiscoveryConfig(i.raw)]:(d.logger.error("No response or error when parsing .well-known"),i.reason&&d.logger.error(i.reason),i.action===s.IGNORE?r["m.homeserver"]={state:e.PROMPT,error:null,base_url:null}:(r["m.homeserver"].state=e.FAIL_PROMPT,r["m.homeserver"].error=e.ERROR_INVALID),[2,Promise.resolve(r)])}}))}))()}},{key:"getRawClientConfig",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:if(!e||"string"!=typeof e||0===e.length)throw new Error("'domain' must be a string of non-zero length");return[4,t.fetchWellKnownObject("https://".concat(e,"/.well-known/matrix/client"))];case 1:return(r=n.sent())?[2,r.raw||{}]:[2,{}]}}))}))()}},{key:"sanitizeWellKnownUrl",value:function(e){if(!e)return!1;try{var t,r;try{r=new URL(e)}catch(e){d.logger.error("Could not parse url",e)}if(null===(t=r)||void 0===t||!t.hostname)return!1;if("http:"!==r.protocol&&"https:"!==r.protocol)return!1;var n=r.port?":".concat(r.port):"",i=r.pathname?r.pathname:"",a="".concat(r.protocol,"//").concat(r.hostname).concat(n).concat(i);return a.endsWith("/")&&(a=a.substring(0,a.length-1)),a}catch(e){return d.logger.error(e),!1}}},{key:"fetch",value:function(e,t){return this.fetchFn?this.fetchFn(e,t):$parcel$global.fetch(e,t)}},{key:"setFetchFn",value:function(t){e.fetchFn=t}},{key:"fetchWellKnownObject",value:function(t){return(0,r.default)((function(){var r,n,i,o,u,c,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,e.fetch(t,{method:h.Method.Get,signal:(0,h.timeoutSignal)(5e3)})];case 1:return 404===(r=a.sent()).status?[2,{raw:{},action:s.IGNORE,reason:e.ERROR_MISSING_WELLKNOWN}]:r.ok?[3,3]:[2,{raw:{},action:s.FAIL_PROMPT,reason:"General failure"}];case 2:return n=a.sent(),o="","object"==typeof(i=n)&&(o=null==i?void 0:i.message),[2,{error:i,raw:{},action:s.FAIL_PROMPT,reason:o||"General failure"}];case 3:return a.trys.push([3,5,,6]),u={},[4,r.json()];case 4:return[2,(u.raw=a.sent(),u.action=s.SUCCESS,u)];case 5:return c=a.sent(),[2,{error:l=c,raw:{},action:s.FAIL_PROMPT,reason:"SyntaxError"===(null==l?void 0:l.name)?e.ERROR_INVALID_JSON:e.ERROR_INVALID}];case 6:return[2]}}))}))()}}]),e}();e.exports.AutoDiscovery=v,(0,f.default)(v,"ERROR_INVALID",c.Invalid),(0,f.default)(v,"ERROR_GENERIC_FAILURE",c.GenericFailure),(0,f.default)(v,"ERROR_INVALID_HS_BASE_URL",c.InvalidHsBaseUrl),(0,f.default)(v,"ERROR_INVALID_HOMESERVER",c.InvalidHomeserver),(0,f.default)(v,"ERROR_INVALID_IS_BASE_URL",c.InvalidIsBaseUrl),(0,f.default)(v,"ERROR_INVALID_IDENTITY_SERVER",c.InvalidIdentityServer),(0,f.default)(v,"ERROR_INVALID_IS",c.InvalidIs),(0,f.default)(v,"ERROR_MISSING_WELLKNOWN",c.MissingWellknown),(0,f.default)(v,"ERROR_INVALID_JSON",c.InvalidJson),(0,f.default)(v,"ALL_ERRORS",Object.keys(c)),(0,f.default)(v,"FAIL_ERROR",s.FAIL_ERROR),(0,f.default)(v,"FAIL_PROMPT",s.FAIL_PROMPT),(0,f.default)(v,"PROMPT",s.PROMPT),(0,f.default)(v,"SUCCESS",s.SUCCESS),(0,f.default)(v,"fetchFn",void 0)})),parcelRequire.register("gbtEr",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("dVhHy"),i=parcelRequire("caN7I"),a=parcelRequire("cDTRq"),o=parcelRequire("dwjmx").Buffer,s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.OLM_ALGORITHM=e.exports.MEGOLM_BACKUP_ALGORITHM=e.exports.MEGOLM_ALGORITHM=void 0,e.exports.decodeBase64=function(e){return o.from(e,"base64")},e.exports.encodeBase64=E,e.exports.encodeUnpaddedBase64=function(e){return E(e).replace(/=+$/g,"")},e.exports.encryptMessageForDevice=function(e,t,r,n,i,a,o){return $.apply(this,arguments)},e.exports.ensureOlmSessionsForDevices=function(e,t,r){return w.apply(this,arguments)},e.exports.getExistingOlmSessions=function(e,t,r){return y.apply(this,arguments)},e.exports.isOlmEncrypted=function(e){if(!e.getSenderKey())return d.logger.error("Event has no sender key (not encrypted?)"),!1;if(e.getWireType()!==h.EventType.RoomMessageEncrypted||!["m.olm.v1.curve25519-aes-sha2"].includes(e.getWireContent().algorithm))return d.logger.error("Event was not encrypted using an appropriate algorithm"),!1;return!0},e.exports.pkSign=function(e,t,r,n){var i=!1;if(t instanceof Uint8Array){var a=new $parcel$global.Olm.PkSigning;n=a.init_with_seed(t),t=a,i=!0}var o=e.signatures||{};delete e.signatures;var s=e.unsigned;e.unsigned&&delete e.unsigned;try{var u=o[r]||{};return o[r]=u,u["ed25519:"+n]=t.sign(f.default.stringify(e))}finally{e.signatures=o,s&&(e.unsigned=s),i&&t.free()}},e.exports.pkVerify=function(e,t,r){var n="ed25519:"+t;if(!(e.signatures&&e.signatures[r]&&e.signatures[r][n]))throw new Error("No signature");var i=e.signatures[r][n],a=new $parcel$global.Olm.Utility,o=e.signatures;delete e.signatures;var s=e.unsigned;e.unsigned&&delete e.unsigned;try{a.ed25519_verify(t,f.default.stringify(e),i)}finally{e.signatures=o,s&&(e.unsigned=s),a.free()}},e.exports.verifySignature=C;var u,c,l=s(parcelRequire("abzte")),f=s(parcelRequire("cBsbd")),d=parcelRequire("fKX3v"),h=parcelRequire("axSuM");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(c=u||(u={})).Olm="m.olm.v1.curve25519-aes-sha2",c.Megolm="m.megolm.v1.aes-sha2",c.MegolmBackup="m.megolm_backup.v1.curve25519-aes-sha2";var b=u.Olm;e.exports.OLM_ALGORITHM=b;var g=u.Megolm;e.exports.MEGOLM_ALGORITHM=g;var m=u.MegolmBackup;function $(){return($=(0,r.default)((function(e,t,r,n,i,o,s){var u,c,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return u=o.getIdentityKey(),[4,n.getSessionIdForDevice(u)];case 1:return null===(c=a.sent())?(d.logger.log("[olmlib.encryptMessageForDevice] Unable to find Olm session for device "+"".concat(i,":").concat(o.deviceId)),[2]):(d.logger.log("[olmlib.encryptMessageForDevice] Using Olm session ".concat(c," for device ")+"".concat(i,":").concat(o.deviceId)),l=p({sender:t,sender_device:r,keys:{ed25519:n.deviceEd25519Key},recipient:i,recipient_keys:{ed25519:o.getFingerprint()}},s),[4,n.encryptMessage(u,c,JSON.stringify(l))]);case 2:return e[u]=a.sent(),[2]}}))}))).apply(this,arguments)}function y(){return(y=(0,r.default)((function(e,t,i){var o,s,u,c,l,f,d,h,v,p,b,g,m,$,y,w,_,S,C;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:o={},s={},u=[],c=!0,l=!1,f=void 0,d=!0,h=!1,v=void 0;try{for(p=Object.entries(i)[Symbol.iterator]();!(d=(b=p.next()).done);d=!0){g=(0,n.default)(b.value,2),m=g[0],$=g[1];try{for(y=$[Symbol.iterator]();!(c=(w=y.next()).done);c=!0)_=w.value,S=_.deviceId,C=_.getIdentityKey(),u.push((0,r.default)((function(){var t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.getSessionIdForDevice(C,!0)];case 1:return null===(t=r.sent())?(o[m]=o[m]||[],o[m].push(_)):(s[m]=s[m]||{},s[m][S]={device:_,sessionId:t}),[2]}}))}))())}catch(e){l=!0,f=e}finally{try{c||null==y.return||y.return()}finally{if(l)throw f}}}}catch(e){h=!0,v=e}finally{try{d||null==p.return||p.return()}finally{if(h)throw v}}return[4,Promise.all(u)];case 1:return t.sent(),[2,[o,s]]}}))}))).apply(this,arguments)}function w(){return w=(0,r.default)((function(e,t,r){var o,s,u,c,l,f,h,v,p,b,g,m,$,y,w,S,C,k,E,R,x,M,I,T,A,O,D,P,q,L,U,N,B,F,j,K,H,W,V,z,G,J,Y,Z,X,Q,ee,te,re,ne,ie,ae,oe,se,ue,ce,le,fe,de,he,ve,pe,be,ge,me,$e,ye,we,_e,Se,Ce,ke=arguments;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:o=ke.length>3&&void 0!==ke[3]&&ke[3],s=ke.length>4?ke[4]:void 0,u=ke.length>5?ke[5]:void 0,c=ke.length>6&&void 0!==ke[6]?ke[6]:d.logger,f=[],h={},v={},p=!0,b=!1,g=void 0,m=!0,$=!1,y=void 0;try{for(w=Object.entries(r)[Symbol.iterator]();!(m=(S=w.next()).done);m=!0){C=(0,n.default)(S.value,2),k=C[1];try{for(E=k[Symbol.iterator]();!(p=(R=E.next()).done);p=!0)x=R.value,(M=x.getIdentityKey())!==e.deviceCurve25519Key&&(e.sessionsInProgress[M]||(e.sessionsInProgress[M]=new Promise((function(t){v[M]=function(r){delete e.sessionsInProgress[M],t(r)}}))))}catch(e){b=!0,g=e}finally{try{p||null==E.return||E.return()}finally{if(b)throw g}}}}catch(e){$=!0,y=e}finally{try{m||null==w.return||w.return()}finally{if($)throw y}}I=!0,T=!1,A=void 0,a.label=1;case 1:a.trys.push([1,12,13,14]),O=Object.entries(r)[Symbol.iterator](),a.label=2;case 2:if(I=(D=O.next()).done)return[3,11];P=(0,n.default)(D.value,2),q=P[0],L=P[1],h[q]={},U=!0,N=!1,B=void 0,a.label=3;case 3:a.trys.push([3,8,9,10]),F=L[Symbol.iterator](),a.label=4;case 4:return(U=(j=F.next()).done)?[3,7]:(K=j.value,H=K.deviceId,(W=K.getIdentityKey())===e.deviceCurve25519Key?(c.info("Attempted to start session with ourself! Ignoring"),h[q][H]={device:K,sessionId:null},[3,6]):(V="for ".concat(W," (").concat(q,":").concat(H,")"),[4,e.getSessionIdForDevice(W,!!v[W],c)]));case 5:null!==(z=a.sent())&&v[W]&&v[W](),(null===z||o)&&(o?c.info("Forcing new Olm session ".concat(V)):c.info("Making new Olm session ".concat(V)),f.push([q,H])),h[q][H]={device:K,sessionId:z},a.label=6;case 6:return U=!0,[3,4];case 7:return[3,10];case 8:return G=a.sent(),N=!0,B=G,[3,10];case 9:try{U||null==F.return||F.return()}finally{if(N)throw B}return[7];case 10:return I=!0,[3,2];case 11:return[3,14];case 12:return G=a.sent(),T=!0,A=G,[3,14];case 13:try{I||null==O.return||O.return()}finally{if(T)throw A}return[7];case 14:if(0===f.length)return[2,h];J="signed_curve25519",Z="one-time keys for ".concat(f.length," devices"),a.label=15;case 15:return a.trys.push([15,17,,18]),c.debug("Claiming ".concat(Z)),[4,t.claimOneTimeKeys(f,J,s)];case 16:return Y=a.sent(),c.debug("Claimed ".concat(Z)),[3,18];case 17:X=a.sent(),Q=!0,ee=!1,te=void 0;try{for(re=Object.values(v)[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0)(0,ne.value)()}catch(e){ee=!0,te=e}finally{try{Q||null==re.return||re.return()}finally{if(ee)throw te}}throw c.log("Failed to claim ".concat(Z),X,f),X;case 18:u&&"failures"in Y&&(l=u).push.apply(l,(0,i.default)(Object.keys(Y.failures))),ie=Y.one_time_keys||{},ae=[],oe=!0,se=!1,ue=void 0;try{for(ce=Object.entries(r)[Symbol.iterator]();!(oe=(le=ce.next()).done);oe=!0){fe=(0,n.default)(le.value,2),de=fe[0],he=fe[1],ve=ie[de]||{},pe=!0,be=!1,ge=void 0;try{for(me=he[Symbol.iterator]();!(pe=($e=me.next()).done);pe=!0)if(ye=$e.value,we=ye.deviceId,(_e=ye.getIdentityKey())!==e.deviceCurve25519Key&&(!h[de][we].sessionId||o)){for(var Ee in Se=ve[we]||{},Ce=null,Se)0===Ee.indexOf(J+":")&&(Ce=Se[Ee]);Ce?ae.push(_(e,Ce,de,ye).then((function(e){v[_e]&&v[_e](null!=e?e:void 0),h[de][we].sessionId=e}),(function(e){throw v[_e]&&v[_e](),e}))):(c.warn("No one-time keys (alg=".concat(J,") ")+"for device ".concat(de,":").concat(we)),v[_e]&&v[_e]())}}catch(e){be=!0,ge=e}finally{try{pe||null==me.return||me.return()}finally{if(be)throw ge}}}}catch(e){se=!0,ue=e}finally{try{oe||null==ce.return||ce.return()}finally{if(se)throw ue}}return Z="Olm sessions for ".concat(ae.length," devices"),c.debug("Starting ".concat(Z)),[4,Promise.all(ae)];case 19:return a.sent(),c.debug("Started ".concat(Z)),[2,h]}}))})),w.apply(this,arguments)}function _(e,t,r,n){return S.apply(this,arguments)}function S(){return(S=(0,r.default)((function(e,t,r,n){var i,o,s,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:i=n.deviceId,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,C(e,t,r,i,n.getFingerprint())];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),d.logger.error("Unable to verify signature on one-time key for device "+r+":"+i+":",o),[2,null];case 4:return a.trys.push([4,6,,7]),[4,e.createOutboundSession(n.getIdentityKey(),t.key)];case 5:return s=a.sent(),[3,7];case 6:return u=a.sent(),d.logger.error("Error starting olm session with device "+r+":"+i+": "+u),[2,null];case 7:return d.logger.log("Started new olm sessionid "+s+" for device "+r+":"+i),[2,s]}}))}))).apply(this,arguments)}function C(e,t,r,n,i){return k.apply(this,arguments)}function k(){return(k=(0,r.default)((function(e,t,r,n,i){var o,s,u,c,l,d;return(0,a.__generator)(this,(function(a){if(o="ed25519:"+n,s=t.signatures||{},u=s[r]||{},!(c=u[o]))throw Error("No signature");return"unsigned"in(l=Object.assign({},t))&&delete l.unsigned,delete l.signatures,d=f.default.stringify(l),e.verifySignature(i,d,c),[2]}))}))).apply(this,arguments)}function E(e){return o.from(e).toString("base64")}e.exports.MEGOLM_BACKUP_ALGORITHM=m})),parcelRequire.register("3c0l2",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RoomList=void 0;var s=o(parcelRequire("abzte")),u=parcelRequire("g10a3"),c=function(){function e(t){(0,n.default)(this,e),this.cryptoStore=t,(0,s.default)(this,"roomEncryption",{})}return(0,i.default)(e,[{key:"init",value:function(){var e=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.cryptoStore.doTxn("readwrite",[u.IndexedDBCryptoStore.STORE_ROOMS],(function(t){e.cryptoStore.getEndToEndRooms(t,(function(t){e.roomEncryption=t}))}))];case 1:return t.sent(),[2]}}))}))()}},{key:"getRoomEncryption",value:function(e){return this.roomEncryption[e]||null}},{key:"isRoomEncrypted",value:function(e){return Boolean(this.getRoomEncryption(e))}},{key:"setRoomEncryption",value:function(e,t){var n=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n.roomEncryption[e]=t,[4,n.cryptoStore.doTxn("readwrite",[u.IndexedDBCryptoStore.STORE_ROOMS],(function(r){n.cryptoStore.storeEndToEndRoom(e,t,r)}))];case 1:return r.sent(),[2]}}))}))()}}]),e}();e.exports.RoomList=c})),parcelRequire.register("g10a3",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IndexedDBCryptoStore=void 0;var a=i(parcelRequire("abzte")),o=parcelRequire("fKX3v"),s=parcelRequire("lqBLA"),u=parcelRequire("p8KV9"),c=h(parcelRequire("gmGgX")),l=parcelRequire("h5yrP"),f=h(parcelRequire("gX6cs"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var v=function(){function e(t,n){(0,r.default)(this,e),this.indexedDB=t,this.dbName=n,(0,a.default)(this,"backendPromise",void 0),(0,a.default)(this,"backend",void 0)}return(0,n.default)(e,[{key:"startup",value:function(){var t=this;return this.backendPromise||(this.backendPromise=new Promise((function(e,r){if(t.indexedDB){o.logger.log("connecting to indexeddb ".concat(t.dbName));var n=t.indexedDB.open(t.dbName,c.VERSION);n.onupgradeneeded=function(e){var t=n.result,r=e.oldVersion;c.upgradeDatabase(t,r)},n.onblocked=function(){o.logger.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},n.onerror=function(e){o.logger.log("Error connecting to indexeddb",e),r(n.error)},n.onsuccess=function(){var r=n.result;o.logger.log("connected to indexeddb ".concat(t.dbName)),e(new c.Backend(r))}}else r(new Error("no indexeddb support available"))})).then((function(t){return t.doTxn("readonly",[e.STORE_INBOUND_GROUP_SESSIONS,e.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(function(e){t.getEndToEndInboundGroupSession("","",e,(function(){}))})).then((function(){return t}))})).catch((function(e){if("VersionError"===e.name)throw o.logger.warn("Crypto DB is too new for us to use!",e),new l.InvalidCryptoStoreError(l.InvalidCryptoStoreState.TooNew);o.logger.warn("unable to connect to indexeddb ".concat(t.dbName)+": falling back to localStorage store: ".concat(e));try{return new s.LocalStorageCryptoStore($parcel$global.localStorage)}catch(e){return o.logger.warn("unable to open localStorage: falling back to in-memory store: ".concat(e)),new u.MemoryCryptoStore}})).then((function(e){return t.backend=e,e}))),this.backendPromise}},{key:"deleteAllData",value:function(){var e=this;return new Promise((function(t,r){if(e.indexedDB){o.logger.log("Removing indexeddb instance: ".concat(e.dbName));var n=e.indexedDB.deleteDatabase(e.dbName);n.onblocked=function(){o.logger.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},n.onerror=function(e){o.logger.log("Error deleting data from indexeddb",e),r(n.error)},n.onsuccess=function(){o.logger.log("Removed indexeddb instance: ".concat(e.dbName)),t()}}else r(new Error("no indexeddb support available"))})).catch((function(e){o.logger.warn("unable to delete IndexedDBCryptoStore: ".concat(e))}))}},{key:"getOrAddOutgoingRoomKeyRequest",value:function(e){return this.backend.getOrAddOutgoingRoomKeyRequest(e)}},{key:"getOutgoingRoomKeyRequest",value:function(e){return this.backend.getOutgoingRoomKeyRequest(e)}},{key:"getOutgoingRoomKeyRequestByState",value:function(e){return this.backend.getOutgoingRoomKeyRequestByState(e)}},{key:"getAllOutgoingRoomKeyRequestsByState",value:function(e){return this.backend.getAllOutgoingRoomKeyRequestsByState(e)}},{key:"getOutgoingRoomKeyRequestsByTarget",value:function(e,t,r){return this.backend.getOutgoingRoomKeyRequestsByTarget(e,t,r)}},{key:"updateOutgoingRoomKeyRequest",value:function(e,t,r){return this.backend.updateOutgoingRoomKeyRequest(e,t,r)}},{key:"deleteOutgoingRoomKeyRequest",value:function(e,t){return this.backend.deleteOutgoingRoomKeyRequest(e,t)}},{key:"getAccount",value:function(e,t){this.backend.getAccount(e,t)}},{key:"storeAccount",value:function(e,t){this.backend.storeAccount(e,t)}},{key:"getCrossSigningKeys",value:function(e,t){this.backend.getCrossSigningKeys(e,t)}},{key:"getSecretStorePrivateKey",value:function(e,t,r){this.backend.getSecretStorePrivateKey(e,t,r)}},{key:"storeCrossSigningKeys",value:function(e,t){this.backend.storeCrossSigningKeys(e,t)}},{key:"storeSecretStorePrivateKey",value:function(e,t,r){this.backend.storeSecretStorePrivateKey(e,t,r)}},{key:"countEndToEndSessions",value:function(e,t){this.backend.countEndToEndSessions(e,t)}},{key:"getEndToEndSession",value:function(e,t,r,n){this.backend.getEndToEndSession(e,t,r,n)}},{key:"getEndToEndSessions",value:function(e,t,r){this.backend.getEndToEndSessions(e,t,r)}},{key:"getAllEndToEndSessions",value:function(e,t){this.backend.getAllEndToEndSessions(e,t)}},{key:"storeEndToEndSession",value:function(e,t,r,n){this.backend.storeEndToEndSession(e,t,r,n)}},{key:"storeEndToEndSessionProblem",value:function(e,t,r){return this.backend.storeEndToEndSessionProblem(e,t,r)}},{key:"getEndToEndSessionProblem",value:function(e,t){return this.backend.getEndToEndSessionProblem(e,t)}},{key:"filterOutNotifiedErrorDevices",value:function(e){return this.backend.filterOutNotifiedErrorDevices(e)}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){this.backend.getEndToEndInboundGroupSession(e,t,r,n)}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){this.backend.getAllEndToEndInboundGroupSessions(e,t)}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){this.backend.addEndToEndInboundGroupSession(e,t,r,n)}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){this.backend.storeEndToEndInboundGroupSession(e,t,r,n)}},{key:"storeEndToEndInboundGroupSessionWithheld",value:function(e,t,r,n){this.backend.storeEndToEndInboundGroupSessionWithheld(e,t,r,n)}},{key:"storeEndToEndDeviceData",value:function(e,t){this.backend.storeEndToEndDeviceData(e,t)}},{key:"getEndToEndDeviceData",value:function(e,t){this.backend.getEndToEndDeviceData(e,t)}},{key:"storeEndToEndRoom",value:function(e,t,r){this.backend.storeEndToEndRoom(e,t,r)}},{key:"getEndToEndRooms",value:function(e,t){this.backend.getEndToEndRooms(e,t)}},{key:"getSessionsNeedingBackup",value:function(e){return this.backend.getSessionsNeedingBackup(e)}},{key:"countSessionsNeedingBackup",value:function(e){return this.backend.countSessionsNeedingBackup(e)}},{key:"unmarkSessionsNeedingBackup",value:function(e,t){return this.backend.unmarkSessionsNeedingBackup(e,t)}},{key:"markSessionsNeedingBackup",value:function(e,t){return this.backend.markSessionsNeedingBackup(e,t)}},{key:"addSharedHistoryInboundGroupSession",value:function(e,t,r,n){this.backend.addSharedHistoryInboundGroupSession(e,t,r,n)}},{key:"getSharedHistoryInboundGroupSessions",value:function(e,t){return this.backend.getSharedHistoryInboundGroupSessions(e,t)}},{key:"addParkedSharedHistory",value:function(e,t,r){this.backend.addParkedSharedHistory(e,t,r)}},{key:"takeParkedSharedHistory",value:function(e,t){return this.backend.takeParkedSharedHistory(e,t)}},{key:"doTxn",value:function(e,t,r,n){return this.backend.doTxn(e,t,r,n)}}],[{key:"exists",value:function(e,t){return f.exists(e,t)}}]),e}();e.exports.IndexedDBCryptoStore=v,(0,a.default)(v,"STORE_ACCOUNT","account"),(0,a.default)(v,"STORE_SESSIONS","sessions"),(0,a.default)(v,"STORE_INBOUND_GROUP_SESSIONS","inbound_group_sessions"),(0,a.default)(v,"STORE_INBOUND_GROUP_SESSIONS_WITHHELD","inbound_group_sessions_withheld"),(0,a.default)(v,"STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS","shared_history_inbound_group_sessions"),(0,a.default)(v,"STORE_PARKED_SHARED_HISTORY","parked_shared_history"),(0,a.default)(v,"STORE_DEVICE_DATA","device_data"),(0,a.default)(v,"STORE_ROOMS","rooms"),(0,a.default)(v,"STORE_BACKUP","sessions_needing_backup")})),parcelRequire.register("lqBLA",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("gNsil"),s=parcelRequire("dVhHy"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LocalStorageCryptoStore=void 0;var l=parcelRequire("fKX3v"),f=parcelRequire("p8KV9"),d="crypto.",h="crypto.account",v="crypto.cross_signing_keys",p="crypto.notified_error_devices",b="crypto.device_data",g="crypto.inboundgroupsessions/",m="crypto.sessionsneedingbackup";function $(e){return"crypto.sessions/"+e}function y(e){return"crypto.session.problems/"+e}function w(e,t){return g+e+"/"+t}function _(e,t){return"crypto.inboundgroupsessions.withheld/"+e+"/"+t}function S(e){return"crypto.rooms/"+e}var C=function(e){(0,o.default)(l,e);var t=(0,u.default)(l);function l(e){var r;return(0,n.default)(this,l),(r=t.call(this)).store=e,r}return(0,i.default)(l,[{key:"countEndToEndSessions",value:function(e,t){for(var r=0,n=0;n<this.store.length;++n){var i;null!==(i=this.store.key(n))&&void 0!==i&&i.startsWith($(""))&&++r}t(r)}},{key:"_getEndToEndSessions",value:function(e){var t=k(this.store,$(e)),r={},n=!0,i=!1,a=void 0;try{for(var o,u=Object.entries(t||{})[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=(0,s.default)(o.value,2),l=c[0],f=c[1];r[l]="string"==typeof f?{session:f}:f}}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}},{key:"getEndToEndSession",value:function(e,t,r,n){n(this._getEndToEndSessions(e)[t]||{})}},{key:"getEndToEndSessions",value:function(e,t,r){r(this._getEndToEndSessions(e)||{})}},{key:"getAllEndToEndSessions",value:function(e,t){for(var r=0;r<this.store.length;++r){var n;if(null!==(n=this.store.key(r))&&void 0!==n&&n.startsWith($(""))){var i=this.store.key(r).split("/")[1],a=!0,o=!1,s=void 0;try{for(var u,c=Object.values(this._getEndToEndSessions(i))[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){t(u.value)}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}}},{key:"storeEndToEndSession",value:function(e,t,r,n){var i=this._getEndToEndSessions(e)||{};i[t]=r,E(this.store,$(e),i)}},{key:"storeEndToEndSessionProblem",value:function(e,t,n){var i=this;return(0,r.default)((function(){var r,a;return(0,c.__generator)(this,(function(o){return r=y(e),(a=k(i.store,r)||[]).push({type:t,fixed:n,time:Date.now()}),a.sort((function(e,t){return e.time-t.time})),E(i.store,r,a),[2]}))}))()}},{key:"getEndToEndSessionProblem",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,a,o,s,u,l,f,d;return(0,c.__generator)(this,(function(c){if(r=y(e),!(i=k(n.store,r)||[]).length)return[2,null];a=i[i.length-1],o=!0,s=!1,u=void 0;try{for(l=i[Symbol.iterator]();!(o=(f=l.next()).done);o=!0)if((d=f.value).time>t)return[2,Object.assign({},d,{fixed:a.fixed})]}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return a.fixed?[2,null]:[2,a]}))}))()}},{key:"filterOutNotifiedErrorDevices",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o,s,u,l,f,d,h;return(0,c.__generator)(this,(function(c){r=k(t.store,p)||{},n=[],i=!0,o=!1,s=void 0;try{for(u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)f=l.value,d=f.userId,h=f.deviceInfo,d in r?h.deviceId in r[d]||(n.push(f),r[d][h.deviceId]=!0):(n.push(f),r[d]=(0,a.default)({},h.deviceId,!0))}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return E(t.store,p,r),[2,n]}))}))()}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){n(k(this.store,w(e,t)),k(this.store,_(e,t)))}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){for(var r=0;r<this.store.length;++r){var n=this.store.key(r);null!=n&&n.startsWith(g)&&t({senderKey:n.slice(g.length,g.length+43),sessionId:n.slice(g.length+44),sessionData:k(this.store,n)})}t(null)}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){k(this.store,w(e,t))||this.storeEndToEndInboundGroupSession(e,t,r,n)}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){E(this.store,w(e,t),r)}},{key:"storeEndToEndInboundGroupSessionWithheld",value:function(e,t,r,n){E(this.store,_(e,t),r)}},{key:"getEndToEndDeviceData",value:function(e,t){t(k(this.store,b))}},{key:"storeEndToEndDeviceData",value:function(e,t){E(this.store,b,e)}},{key:"storeEndToEndRoom",value:function(e,t,r){E(this.store,S(e),t)}},{key:"getEndToEndRooms",value:function(e,t){for(var r={},n=S(""),i=0;i<this.store.length;++i){var a=this.store.key(i);if(null!=a&&a.startsWith(n))r[a.slice(n.length)]=k(this.store,a)}t(r)}},{key:"getSessionsNeedingBackup",value:function(e){var t=this,r=function(r){if(Object.prototype.hasOwnProperty.call(n,r)){var a=r.slice(0,43),o=r.slice(44);if(t.getEndToEndInboundGroupSession(a,o,null,(function(e){i.push({senderKey:a,sessionId:o,sessionData:e})})),e&&i.length>=e)return"break"}},n=k(this.store,m)||{},i=[];for(var a in n){if("break"===r(a))break}return Promise.resolve(i)}},{key:"countSessionsNeedingBackup",value:function(){var e=k(this.store,m)||{};return Promise.resolve(Object.keys(e).length)}},{key:"unmarkSessionsNeedingBackup",value:function(e){var t=k(this.store,m)||{},r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;delete t[s.senderKey+"/"+s.sessionId]}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return E(this.store,m,t),Promise.resolve()}},{key:"markSessionsNeedingBackup",value:function(e){var t=k(this.store,m)||{},r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t[s.senderKey+"/"+s.sessionId]=!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return E(this.store,m,t),Promise.resolve()}},{key:"deleteAllData",value:function(){return this.store.removeItem(h),Promise.resolve()}},{key:"getAccount",value:function(e,t){t(k(this.store,h))}},{key:"storeAccount",value:function(e,t){E(this.store,h,t)}},{key:"getCrossSigningKeys",value:function(e,t){t(k(this.store,v))}},{key:"getSecretStorePrivateKey",value:function(e,t,r){t(k(this.store,d+"ssss_cache.".concat(r)))}},{key:"storeCrossSigningKeys",value:function(e,t){E(this.store,v,t)}},{key:"storeSecretStorePrivateKey",value:function(e,t,r){E(this.store,d+"ssss_cache.".concat(t),r)}},{key:"doTxn",value:function(e,t,r){return Promise.resolve(r(null))}}],[{key:"exists",value:function(e){for(var t=e.length,r=0;r<t;r++){var n;if(null!==(n=e.key(r))&&void 0!==n&&n.startsWith(d))return!0}return!1}}]),l}(f.MemoryCryptoStore);function k(e,t){try{return JSON.parse(e.getItem(t))}catch(e){l.logger.log("Error: Failed to get key %s: %s",t,e.message),l.logger.log(e.stack)}return null}function E(e,t,r){e.setItem(t,JSON.stringify(r))}e.exports.LocalStorageCryptoStore=C})),parcelRequire.register("gmGgX",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.VERSION=e.exports.Backend=void 0,e.exports.upgradeDatabase=function(e,t){u.logger.log("Upgrading IndexedDBCryptoStore from version ".concat(t)+" to ".concat(h)),d.forEach((function(r,n){t<=n&&r(e)}))};var s=o(parcelRequire("abzte")),u=parcelRequire("fKX3v"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=function(){function e(t){var r=this;(0,n.default)(this,e),this.db=t,(0,s.default)(this,"nextTxnId",0),t.onversionchange=function(){u.logger.log("versionchange for indexeddb ".concat(r.db.name,": closing")),t.close()}}return(0,i.default)(e,[{key:"startup",value:function(){var e=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(t){return[2,e]}))}))()}},{key:"deleteAllData",value:function(){return(0,r.default)((function(){return(0,a.__generator)(this,(function(e){throw Error("This is not implemented, call IDBFactory::deleteDatabase(dbName) instead.")}))}))()}},{key:"getOrAddOutgoingRoomKeyRequest",value:function(e){var t=this,r=e.requestBody;return new Promise((function(n,i){var a=t.db.transaction("outgoingRoomKeyRequests","readwrite");a.onerror=i,t._getOutgoingRoomKeyRequest(a,r,(function(t){if(t)return u.logger.log("already have key request outstanding for "+"".concat(r.room_id," / ").concat(r.session_id,": ")+"not sending another"),void n(t);u.logger.log("enqueueing key request for ".concat(r.room_id," / ")+r.session_id),a.oncomplete=function(){n(e)},a.objectStore("outgoingRoomKeyRequests").add(e)}))}))}},{key:"getOutgoingRoomKeyRequest",value:function(e){var t=this;return new Promise((function(r,n){var i=t.db.transaction("outgoingRoomKeyRequests","readonly");i.onerror=n,t._getOutgoingRoomKeyRequest(i,e,(function(e){r(e)}))}))}},{key:"_getOutgoingRoomKeyRequest",value:function(e,t,r){var n=e.objectStore("outgoingRoomKeyRequests").index("session").openCursor([t.room_id,t.session_id]);n.onsuccess=function(){var e=n.result;if(e){var i=e.value;c.deepCompare(i.requestBody,t)?r(i):e.continue()}else r(null)}}},{key:"getOutgoingRoomKeyRequestByState",value:function(e){if(0===e.length)return Promise.resolve(null);var t,r=0;var n=this.db.transaction("outgoingRoomKeyRequests","readonly"),i=n.objectStore("outgoingRoomKeyRequests"),a=e[r];return i.index("state").openCursor(a).onsuccess=function n(){var i=this.result;if(i)t=i.value;else if(!(++r>=e.length)){var a=e[r];this.source.openCursor(a).onsuccess=n}},p(n).then((function(){return t}))}},{key:"getAllOutgoingRoomKeyRequestsByState",value:function(e){var t=this;return new Promise((function(r,n){var i=t.db.transaction("outgoingRoomKeyRequests","readonly").objectStore("outgoingRoomKeyRequests").index("state").getAll(e);i.onsuccess=function(){return r(i.result)},i.onerror=function(){return n(i.error)}}))}},{key:"getOutgoingRoomKeyRequestsByTarget",value:function(e,t,r){var n=0,i=[];var a=this.db.transaction("outgoingRoomKeyRequests","readonly"),o=a.objectStore("outgoingRoomKeyRequests"),s=r[n];return o.index("state").openCursor(s).onsuccess=function a(){var o=this.result;if(o){var s=o.value;s.recipients.some((function(r){return r.userId===e&&r.deviceId===t}))&&i.push(s),o.continue()}else{if(++n>=r.length)return;var u=r[n];this.source.openCursor(u).onsuccess=a}},p(a).then((function(){return i}))}},{key:"updateOutgoingRoomKeyRequest",value:function(e,t,r){var n=null,i=this.db.transaction("outgoingRoomKeyRequests","readwrite");return i.objectStore("outgoingRoomKeyRequests").openCursor(e).onsuccess=function(){var e=this.result;if(e){var i=e.value;i.state==t?(Object.assign(i,r),e.update(i),n=i):u.logger.warn("Cannot update room key request from ".concat(t," ")+"as it was already updated to ".concat(i.state))}},p(i).then((function(){return n}))}},{key:"deleteOutgoingRoomKeyRequest",value:function(e,t){var r=this.db.transaction("outgoingRoomKeyRequests","readwrite"),n=r.objectStore("outgoingRoomKeyRequests").openCursor(e);return n.onsuccess=function(){var e=n.result;if(e){var r=e.value;r.state==t?e.delete():u.logger.warn("Cannot delete room key request in state ".concat(r.state," ")+"(expected ".concat(t,")"))}},p(r)}},{key:"getAccount",value:function(e,t){var r=e.objectStore("account").get("-");r.onsuccess=function(){try{t(r.result||null)}catch(t){v(e,t)}}}},{key:"storeAccount",value:function(e,t){e.objectStore("account").put(t,"-")}},{key:"getCrossSigningKeys",value:function(e,t){var r=e.objectStore("account").get("crossSigningKeys");r.onsuccess=function(){try{t(r.result||null)}catch(t){v(e,t)}}}},{key:"getSecretStorePrivateKey",value:function(e,t,r){var n=e.objectStore("account").get("ssss_cache:".concat(r));n.onsuccess=function(){try{t(n.result||null)}catch(t){v(e,t)}}}},{key:"storeCrossSigningKeys",value:function(e,t){e.objectStore("account").put(t,"crossSigningKeys")}},{key:"storeSecretStorePrivateKey",value:function(e,t,r){e.objectStore("account").put(r,"ssss_cache:".concat(t))}},{key:"countEndToEndSessions",value:function(e,t){var r=e.objectStore("sessions").count();r.onsuccess=function(){try{t(r.result)}catch(t){v(e,t)}}}},{key:"getEndToEndSessions",value:function(e,t,r){var n=t.objectStore("sessions").index("deviceKey").openCursor(e),i={};n.onsuccess=function(){var e=n.result;if(e)i[e.value.sessionId]={session:e.value.session,lastReceivedMessageTs:e.value.lastReceivedMessageTs},e.continue();else try{r(i)}catch(e){v(t,e)}}}},{key:"getEndToEndSession",value:function(e,t,r,n){var i=r.objectStore("sessions").get([e,t]);i.onsuccess=function(){try{i.result?n({session:i.result.session,lastReceivedMessageTs:i.result.lastReceivedMessageTs}):n(null)}catch(e){v(r,e)}}}},{key:"getAllEndToEndSessions",value:function(e,t){var r=e.objectStore("sessions").openCursor();r.onsuccess=function(){try{var n=r.result;n?(t(n.value),n.continue()):t(null)}catch(t){v(e,t)}}}},{key:"storeEndToEndSession",value:function(e,t,r,n){n.objectStore("sessions").put({deviceKey:e,sessionId:t,session:r.session,lastReceivedMessageTs:r.lastReceivedMessageTs})}},{key:"storeEndToEndSessionProblem",value:function(e,t,n){var i=this;return(0,r.default)((function(){var r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return r=i.db.transaction("session_problems","readwrite"),r.objectStore("session_problems").put({deviceKey:e,type:t,fixed:n,time:Date.now()}),[4,p(r)];case 1:return a.sent(),[2]}}))}))()}},{key:"getEndToEndSessionProblem",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,o,s,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return r=null,i=n.db.transaction("session_problems","readwrite"),o=i.objectStore("session_problems"),s=o.index("deviceKey"),(u=s.getAll(e)).onsuccess=function(){var e=u.result;if(e.length){e.sort((function(e,t){return e.time-t.time}));var n=e[e.length-1],i=!0,a=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(l.time>t)return void(r=Object.assign({},l,{fixed:n.fixed}))}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}r=n.fixed?null:n}else r=null},[4,p(i)];case 1:return a.sent(),[2,r]}}))}))()}},{key:"filterOutNotifiedErrorDevices",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return r=t.db.transaction("notified_error_devices","readwrite"),n=r.objectStore("notified_error_devices"),i=[],[4,Promise.all(e.map((function(e){return new Promise((function(t){var r=e.userId,a=e.deviceInfo,o=n.get([r,a.deviceId]);o.onsuccess=function(){o.result||(n.put({userId:r,deviceId:a.deviceId}),i.push(e)),t()}}))})))];case 1:return a.sent(),[2,i]}}))}))()}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){var i=!1,a=!1,o=r.objectStore("inbound_group_sessions").get([e,t]);o.onsuccess=function(){try{i=o.result?o.result.session:null,!1!==a&&n(i,a)}catch(e){v(r,e)}};var s=r.objectStore("inbound_group_sessions_withheld").get([e,t]);s.onsuccess=function(){try{a=s.result?s.result.session:null,!1!==i&&n(i,a)}catch(e){v(r,e)}}}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){var r=e.objectStore("inbound_group_sessions").openCursor();r.onsuccess=function(){var n=r.result;if(n){try{t({senderKey:n.value.senderCurve25519Key,sessionId:n.value.sessionId,sessionData:n.value.session})}catch(t){v(e,t)}n.continue()}else try{t(null)}catch(t){v(e,t)}}}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){var i=n.objectStore("inbound_group_sessions").add({senderCurve25519Key:e,sessionId:t,session:r});i.onerror=function(r){var a;"ConstraintError"===(null===(a=i.error)||void 0===a?void 0:a.name)?(r.stopPropagation(),r.preventDefault(),u.logger.log("Ignoring duplicate inbound group session: "+e+" / "+t)):v(n,new Error("Failed to add inbound group session: "+i.error))}}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){n.objectStore("inbound_group_sessions").put({senderCurve25519Key:e,sessionId:t,session:r})}},{key:"storeEndToEndInboundGroupSessionWithheld",value:function(e,t,r,n){n.objectStore("inbound_group_sessions_withheld").put({senderCurve25519Key:e,sessionId:t,session:r})}},{key:"getEndToEndDeviceData",value:function(e,t){var r=e.objectStore("device_data").get("-");r.onsuccess=function(){try{t(r.result||null)}catch(t){v(e,t)}}}},{key:"storeEndToEndDeviceData",value:function(e,t){t.objectStore("device_data").put(e,"-")}},{key:"storeEndToEndRoom",value:function(e,t,r){r.objectStore("rooms").put(t,e)}},{key:"getEndToEndRooms",value:function(e,t){var r={},n=e.objectStore("rooms").openCursor();n.onsuccess=function(){var i=n.result;if(i)r[i.key]=i.value,i.continue();else try{t(r)}catch(t){v(e,t)}}}},{key:"getSessionsNeedingBackup",value:function(e){var t=this;return new Promise((function(r,n){var i=[],a=t.db.transaction(["sessions_needing_backup","inbound_group_sessions"],"readonly");a.onerror=n,a.oncomplete=function(){r(i)};var o=a.objectStore("sessions_needing_backup"),s=a.objectStore("inbound_group_sessions"),u=o.openCursor();u.onsuccess=function(){var t=u.result;if(t){var r=s.get(t.key);r.onsuccess=function(){i.push({senderKey:r.result.senderCurve25519Key,sessionId:r.result.sessionId,sessionData:r.result.session})},(!e||i.length<e)&&t.continue()}}}))}},{key:"countSessionsNeedingBackup",value:function(e){e||(e=this.db.transaction("sessions_needing_backup","readonly"));var t=e.objectStore("sessions_needing_backup");return new Promise((function(e,r){var n=t.count();n.onerror=r,n.onsuccess=function(){return e(n.result)}}))}},{key:"unmarkSessionsNeedingBackup",value:function(e,t){var n=this;return(0,r.default)((function(){var r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return t||(t=n.db.transaction("sessions_needing_backup","readwrite")),r=t.objectStore("sessions_needing_backup"),[4,Promise.all(e.map((function(e){return new Promise((function(t,n){var i=r.delete([e.senderKey,e.sessionId]);i.onsuccess=t,i.onerror=n}))})))];case 1:return i.sent(),[2]}}))}))()}},{key:"markSessionsNeedingBackup",value:function(e,t){var n=this;return(0,r.default)((function(){var r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return t||(t=n.db.transaction("sessions_needing_backup","readwrite")),r=t.objectStore("sessions_needing_backup"),[4,Promise.all(e.map((function(e){return new Promise((function(t,n){var i=r.put({senderCurve25519Key:e.senderKey,sessionId:e.sessionId});i.onsuccess=t,i.onerror=n}))})))];case 1:return i.sent(),[2]}}))}))()}},{key:"addSharedHistoryInboundGroupSession",value:function(e,t,r,n){n||(n=this.db.transaction("shared_history_inbound_group_sessions","readwrite"));var i=n.objectStore("shared_history_inbound_group_sessions"),a=i.get([e]);a.onsuccess=function(){var n=(a.result||{sessions:[]}).sessions;n.push([t,r]),i.put({roomId:e,sessions:n})}}},{key:"getSharedHistoryInboundGroupSessions",value:function(e,t){t||(t=this.db.transaction("shared_history_inbound_group_sessions","readonly"));var r=t.objectStore("shared_history_inbound_group_sessions").get([e]);return new Promise((function(e,t){r.onsuccess=function(){var t=(r.result||{sessions:[]}).sessions;e(t)},r.onerror=t}))}},{key:"addParkedSharedHistory",value:function(e,t,r){r||(r=this.db.transaction("parked_shared_history","readwrite"));var n=r.objectStore("parked_shared_history"),i=n.get([e]);i.onsuccess=function(){var r=(i.result||{parked:[]}).parked;r.push(t),n.put({roomId:e,parked:r})}}},{key:"takeParkedSharedHistory",value:function(e,t){t||(t=this.db.transaction("parked_shared_history","readwrite"));var r=t.objectStore("parked_shared_history").openCursor(e);return new Promise((function(e,t){r.onsuccess=function(){var t=r.result;if(t){var n=t.value;t.delete(),e(n)}else e([])},r.onerror=t}))}},{key:"doTxn",value:function(e,t,r){arguments.length>3&&void 0!==arguments[3]||u.logger;var n=this.db.transaction(t,e),i=p(n),a=r(n);return i.then((function(){return a}))}}]),e}();e.exports.Backend=f;var d=[function(e){!function(e){var t=e.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});t.createIndex("session",["requestBody.room_id","requestBody.session_id"]),t.createIndex("state","state")}(e)},function(e){e.createObjectStore("account")},function(e){e.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]}).createIndex("deviceKey","deviceKey")},function(e){e.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]})},function(e){e.createObjectStore("device_data")},function(e){e.createObjectStore("rooms")},function(e){e.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]})},function(e){e.createObjectStore("inbound_group_sessions_withheld",{keyPath:["senderCurve25519Key","sessionId"]})},function(e){e.createObjectStore("session_problems",{keyPath:["deviceKey","time"]}).createIndex("deviceKey","deviceKey"),e.createObjectStore("notified_error_devices",{keyPath:["userId","deviceId"]})},function(e){e.createObjectStore("shared_history_inbound_group_sessions",{keyPath:["roomId"]})},function(e){e.createObjectStore("parked_shared_history",{keyPath:["roomId"]})}],h=d.length;function v(e,t){e._mx_abortexception=t;try{e.abort()}catch(e){}}function p(e){return new Promise((function(t,r){e.oncomplete=function(){void 0!==e._mx_abortexception&&r(e._mx_abortexception),t(null)},e.onerror=function(t){void 0!==e._mx_abortexception?r(e._mx_abortexception):(u.logger.log("Error performing indexeddb txn",t),r(e.error))},e.onabort=function(t){void 0!==e._mx_abortexception?r(e._mx_abortexception):(u.logger.log("Error performing indexeddb txn",t),r(e.error))}}))}e.exports.VERSION=h})),parcelRequire.register("gX6cs",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.exists=function(e,t){return new Promise((function(r,n){var i=!0,a=e.open(t);a.onupgradeneeded=function(){i=!1},a.onblocked=function(){return n(a.error)},a.onsuccess=function(){a.result.close(),i||e.deleteDatabase(t),r(i)},a.onerror=function(){return n(a.error)}}))}})),parcelRequire.register("1XfB2",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SERVICE_TYPES=void 0,e.exports.SERVICE_TYPES=r,(n=r||(e.exports.SERVICE_TYPES=r={})).IS="SERVICE_TYPE_IS",n.IM="SERVICE_TYPE_IM"})),parcelRequire.register("iKMAs",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("dVhHy"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("dwjmx").Buffer,d=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IncomingRoomKeyRequest=e.exports.CryptoEvent=e.exports.Crypto=void 0,e.exports.fixBackupKey=ne,e.exports.isCryptoAvailable=function(){return Boolean($parcel$global.Olm)},e.exports.verificationMethods=void 0;var h=d(parcelRequire("abzte")),v=d(parcelRequire("cBsbd")),p=parcelRequire("1Pjj8"),b=parcelRequire("axSuM"),g=parcelRequire("5FD7J"),m=parcelRequire("fKX3v"),$=parcelRequire("cCGPi"),y=G(parcelRequire("gbtEr")),w=parcelRequire("elD4N"),_=parcelRequire("3jE4D"),S=G(parcelRequire("2noXW")),C=parcelRequire("eja6Y"),k=parcelRequire("gJLdo"),E=parcelRequire("eY9R3"),R=parcelRequire("cFOv1"),x=parcelRequire("g10a3"),M=parcelRequire("5rvsD"),I=parcelRequire("ecubV"),T=parcelRequire("fI2p6"),A=parcelRequire("fmKNB"),O=parcelRequire("787If"),D=parcelRequire("iILyU"),P=parcelRequire("2gMXJ"),q=parcelRequire("hQW9t"),L=parcelRequire("h5yrP"),U=parcelRequire("7bFPP"),N=parcelRequire("8kSRq"),B=parcelRequire("7pgeS"),F=parcelRequire("6pgXP"),j=parcelRequire("iUBUo"),K=parcelRequire("dlOEf"),H=parcelRequire("67LLR"),W=parcelRequire("4Eh2q"),V=parcelRequire("kDAFF");function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(z=function(e){return e?r:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=z(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Y,Z=_.DeviceInfo.DeviceVerification,X=(Y={},(0,o.default)(Y,M.ReciprocateQRCode.NAME,M.ReciprocateQRCode),(0,o.default)(Y,I.SAS.NAME,I.SAS),(0,o.default)(Y,M.SHOW_QR_CODE_METHOD,q.IllegalMethod),(0,o.default)(Y,M.SCAN_QR_CODE_METHOD,q.IllegalMethod),Y),Q={RECIPROCATE_QR_CODE:M.ReciprocateQRCode.NAME,SAS:I.SAS.NAME};e.exports.verificationMethods=Q;var ee,te;e.exports.CryptoEvent=ee,(te=ee||(e.exports.CryptoEvent=ee={})).DeviceVerificationChanged="deviceVerificationChanged",te.UserTrustStatusChanged="userTrustStatusChanged",te.UserCrossSigningUpdated="userCrossSigningUpdated",te.RoomKeyRequest="crypto.roomKeyRequest",te.RoomKeyRequestCancellation="crypto.roomKeyRequestCancellation",te.KeyBackupStatus="crypto.keyBackupStatus",te.KeyBackupFailed="crypto.keyBackupFailed",te.KeyBackupSessionsRemaining="crypto.keyBackupSessionsRemaining",te.KeySignatureUploadFailure="crypto.keySignatureUploadFailure",te.VerificationRequest="crypto.verification.request",te.Warning="crypto.warning",te.WillUpdateDevices="crypto.willUpdateDevices",te.DevicesUpdated="crypto.devicesUpdated",te.KeysChanged="crossSigning.keysChanged";var re=function(e){"use strict";(0,s.default)(d,e);var t=(0,c.default)(d);function d(e,a,o,s,u,c,f){var v;(0,i.default)(this,d),(v=t.call(this)).baseApis=e,v.userId=a,v.deviceId=o,v.clientStore=s,v.cryptoStore=u,v.roomList=c,(0,h.default)((0,r.default)(v),"backupManager",void 0),(0,h.default)((0,r.default)(v),"crossSigningInfo",void 0),(0,h.default)((0,r.default)(v),"olmDevice",void 0),(0,h.default)((0,r.default)(v),"deviceList",void 0),(0,h.default)((0,r.default)(v),"dehydrationManager",void 0),(0,h.default)((0,r.default)(v),"secretStorage",void 0),(0,h.default)((0,r.default)(v),"reEmitter",void 0),(0,h.default)((0,r.default)(v),"verificationMethods",void 0),(0,h.default)((0,r.default)(v),"supportedAlgorithms",void 0),(0,h.default)((0,r.default)(v),"outgoingRoomKeyRequestManager",void 0),(0,h.default)((0,r.default)(v),"toDeviceVerificationRequests",void 0),(0,h.default)((0,r.default)(v),"inRoomVerificationRequests",void 0),(0,h.default)((0,r.default)(v),"trustCrossSignedDevices",!0),(0,h.default)((0,r.default)(v),"lastOneTimeKeyCheck",null),(0,h.default)((0,r.default)(v),"oneTimeKeyCheckInProgress",!1),(0,h.default)((0,r.default)(v),"roomEncryptors",new Map),(0,h.default)((0,r.default)(v),"roomDecryptors",new Map),(0,h.default)((0,r.default)(v),"deviceKeys",{}),(0,h.default)((0,r.default)(v),"globalBlacklistUnverifiedDevices",!1),(0,h.default)((0,r.default)(v),"globalErrorOnUnknownDevices",!0),(0,h.default)((0,r.default)(v),"receivedRoomKeyRequests",[]),(0,h.default)((0,r.default)(v),"receivedRoomKeyRequestCancellations",[]),(0,h.default)((0,r.default)(v),"processingRoomKeyRequests",!1),(0,h.default)((0,r.default)(v),"lazyLoadMembers",!1),(0,h.default)((0,r.default)(v),"roomDeviceTrackingState",{}),(0,h.default)((0,r.default)(v),"lastNewSessionForced",{}),(0,h.default)((0,r.default)(v),"sendKeyRequestsImmediately",!1),(0,h.default)((0,r.default)(v),"oneTimeKeyCount",void 0),(0,h.default)((0,r.default)(v),"needsNewFallback",void 0),(0,h.default)((0,r.default)(v),"fallbackCleanup",void 0);var p,_=(0,r.default)(v);if((0,h.default)((0,r.default)(v),"onDeviceListUserCrossSigningUpdated",(p=(0,n.default)((function(e){var t,r,n,i,a;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return e!==_.userId?[3,4]:(t=_.deviceList.getStoredCrossSigningForUser(e),r=t?t.getId():null,n=_.crossSigningInfo.getId(),i=n!==r,n&&r&&!i?[4,_.checkOwnCrossSigningTrust()]:[3,2]);case 1:return o.sent(),[3,3];case 2:_.storeTrustedSelfKeys(null),_.emit(ee.KeysChanged,{}),_.emit(ee.UserTrustStatusChanged,_.userId,_.checkUserTrust(e)),o.label=3;case 3:return[3,6];case 4:return[4,_.checkDeviceVerifications(e)];case 5:o.sent(),(a=_.deviceList.getStoredCrossSigningForUser(e))&&(a.updateCrossSigningVerifiedBefore(_.checkUserTrust(e).isCrossSigningVerified()),_.deviceList.setRawStoredCrossSigningForUser(e,a.toStorage())),_.emit(ee.UserTrustStatusChanged,e,_.checkUserTrust(e)),o.label=6;case 6:return[2]}}))})),function(e){return p.apply(this,arguments)})),(0,h.default)((0,r.default)(v),"onMembership",(function(e,t,r){try{v.onRoomMembership(e,t,r)}catch(e){m.logger.error("Error handling membership change:",e)}})),(0,h.default)((0,r.default)(v),"onToDeviceEvent",(function(e){try{m.logger.log("received to-device ".concat(e.getType()," from: ")+"".concat(e.getSender()," id: ").concat(e.getContent()[b.ToDeviceMessageId])),"m.room_key"==e.getType()||"m.forwarded_room_key"==e.getType()?v.onRoomKeyEvent(e):"m.room_key_request"==e.getType()?v.onRoomKeyRequestEvent(e):"m.secret.request"===e.getType()?v.secretStorage.onRequestReceived(e):"m.secret.send"===e.getType()?v.secretStorage.onSecretReceived(e):"m.room_key.withheld"===e.getType()?v.onRoomKeyWithheldEvent(e):e.getContent().transaction_id?v.onKeyVerificationMessage(e):"m.bad.encrypted"===e.getContent().msgtype?v.onToDeviceBadEncrypted(e):(e.isBeingDecrypted()||e.shouldAttemptDecryption())&&(e.isBeingDecrypted()||e.attemptDecryption((0,r.default)(v)),e.once(K.MatrixEventEvent.Decrypted,(function(e){v.onToDeviceEvent(e)})))}catch(e){m.logger.error("Error handling toDeviceEvent:",e)}})),(0,h.default)((0,r.default)(v),"onTimelineEvent",(function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=i.liveEvent,o=void 0===a||a;if(D.InRoomChannel.validateEvent(e,v.baseApis)){var s=function(e){var t=new D.InRoomChannel(v.baseApis,e.getRoomId());return new O.VerificationRequest(t,v.verificationMethods,v.baseApis)};v.handleVerificationEvent(e,v.inRoomVerificationRequests,s,o)}})),v.reEmitter=new g.TypedReEmitter((0,r.default)(v)),f){v.verificationMethods=new Map;var k=!0,x=!1,M=void 0;try{for(var I,T=f[Symbol.iterator]();!(k=(I=T.next()).done);k=!0){var A=I.value;"string"==typeof A?X[A]&&v.verificationMethods.set(A,X[A]):A.NAME?v.verificationMethods.set(A.NAME,A):m.logger.warn("Excluding unknown verification method ".concat(A))}}catch(e){x=!0,M=e}finally{try{k||null==T.return||T.return()}finally{if(x)throw M}}}else v.verificationMethods=new Map(Object.entries(X));var q=(0,r.default)(v);v.backupManager=new B.BackupManager(e,(0,n.default)((function(){var e,t,r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return[4,q.getSessionBackupPrivateKey()];case 1:return(e=i.sent())?[2,e]:[4,q.getSecret("m.megolm_backup.v1")];case 2:return(t=i.sent())?(r=ne(t))?[4,q.getSecretStorageKey()]:[3,5]:[3,6];case 3:return n=i.sent(),[4,q.storeSecret("m.megolm_backup.v1",r,[n[0]])];case 4:i.sent(),i.label=5;case 5:return[2,y.decodeBase64(r||t)];case 6:if(q.baseApis.cryptoCallbacks&&q.baseApis.cryptoCallbacks.getBackupKey)return[2,q.baseApis.cryptoCallbacks.getBackupKey()];throw new Error("Unable to get private key")}}))}))),v.olmDevice=new $.OlmDevice(u),v.deviceList=new w.DeviceList(e,u,v.olmDevice),v.deviceList.on(ee.UserCrossSigningUpdated,v.onDeviceListUserCrossSigningUpdated),v.reEmitter.reEmit(v.deviceList,[ee.DevicesUpdated,ee.WillUpdateDevices]),v.supportedAlgorithms=Array.from(S.DECRYPTION_CLASSES.keys()),v.outgoingRoomKeyRequestManager=new R.OutgoingRoomKeyRequestManager(e,v.deviceId,v.cryptoStore),v.toDeviceVerificationRequests=new P.ToDeviceRequests,v.inRoomVerificationRequests=new D.InRoomRequests;var L=v.baseApis.cryptoCallbacks||{},U=(0,C.createCryptoStoreCacheCallbacks)(u,v.olmDevice);v.crossSigningInfo=new C.CrossSigningInfo(a,L,U),v.secretStorage=new E.SecretStorage(e,L,e),v.dehydrationManager=new N.DehydrationManager((0,r.default)(v));var F=(0,r.default)(v);return!L.getCrossSigningKey&&L.getSecretStorageKey&&(L.getCrossSigningKey=function(){var e=(0,n.default)((function(e){return(0,l.__generator)(this,(function(t){return[2,C.CrossSigningInfo.getFromSecretStorage(e,F.secretStorage)]}))}));return function(t){return e.apply(this,arguments)}}()),v}return(0,a.default)(d,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.exportedOlmDevice,r=e.pickleKey,i=this;return(0,n.default)((function(){var e,n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return m.logger.log("Crypto: initialising Olm..."),[4,$parcel$global.Olm.init()];case 1:return a.sent(),m.logger.log(t?"Crypto: initialising Olm device from exported device...":"Crypto: initialising Olm device..."),[4,i.olmDevice.init({fromExportedDevice:t,pickleKey:r})];case 2:return a.sent(),m.logger.log("Crypto: loading device list..."),[4,i.deviceList.load()];case 3:return a.sent(),i.deviceKeys["ed25519:"+i.deviceId]=i.olmDevice.deviceEd25519Key,i.deviceKeys["curve25519:"+i.deviceId]=i.olmDevice.deviceCurve25519Key,m.logger.log("Crypto: fetching own devices..."),(e=i.deviceList.getRawStoredDevicesForUser(i.userId))||(e={}),e[i.deviceId]||(m.logger.log("Crypto: adding this device to the store..."),n={keys:i.deviceKeys,algorithms:i.supportedAlgorithms,verified:Z.VERIFIED,known:!0},e[i.deviceId]=n,i.deviceList.storeDevicesForUser(i.userId,e),i.deviceList.saveIfDirty()),[4,i.cryptoStore.doTxn("readonly",[x.IndexedDBCryptoStore.STORE_ACCOUNT],(function(e){i.cryptoStore.getCrossSigningKeys(e,(function(e){e&&0!==Object.keys(e).length&&(m.logger.log("Loaded cross-signing public keys from crypto store"),i.crossSigningInfo.setKeys(e))}))}))];case 4:return a.sent(),i.deviceList.startTrackingDeviceList(i.userId),m.logger.log("Crypto: checking for key backup..."),i.backupManager.checkAndStart(),[2]}}))}))()}},{key:"getCryptoTrustCrossSignedDevices",value:function(){return this.trustCrossSignedDevices}},{key:"setCryptoTrustCrossSignedDevices",value:function(e){this.trustCrossSignedDevices=e;var t=!0,r=!1,n=void 0;try{for(var i,a=this.deviceList.getKnownUserIds()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=this.deviceList.getRawStoredDevicesForUser(o),u=!0,c=!1,l=void 0;try{for(var f,d=Object.keys(s)[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var h=f.value,v=this.checkDeviceTrust(o,h);if(!v.isLocallyVerified()&&v.isCrossSigningVerified()){var p=this.deviceList.getStoredDevice(o,h);this.emit(ee.DeviceVerificationChanged,o,h,p)}}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"createRecoveryKeyFromPassphrase",value:function(e){return(0,n.default)((function(){var t,r,n,i,a;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:t=new $parcel$global.Olm.PkDecryption,o.label=1;case 1:return o.trys.push([1,,5,6]),r={},e?[4,(0,T.keyFromPassphrase)(e)]:[3,3];case 2:return n=o.sent(),r.passphrase={algorithm:"m.pbkdf2",iterations:n.iterations,salt:n.salt},r.pubkey=t.init_with_private_key(n.key),[3,4];case 3:r.pubkey=t.generate_key(),o.label=4;case 4:return i=t.get_private_key(),a=(0,A.encodeRecoveryKey)(i),[2,{keyInfo:r,encodedPrivateKey:a,privateKey:i}];case 5:return null==t||t.free(),[7];case 6:return[2]}}))}))()}},{key:"userHasCrossSigningKeys",value:function(){var e=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.downloadKeys([e.userId])];case 1:return t.sent(),[2,null!==e.deviceList.getStoredCrossSigningForUser(e.userId)]}}))}))()}},{key:"isCrossSigningReady",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return t=e.crossSigningInfo.getId(),[4,e.crossSigningInfo.isStoredInKeyCache()];case 1:return(n=i.sent())?[3,3]:[4,e.crossSigningInfo.isStoredInSecretStorage(e.secretStorage)];case 2:n=i.sent(),i.label=3;case 3:return r=n,[2,!(!t||!r)]}}))}))()}},{key:"isSecretStorageReady",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return[4,e.secretStorage.hasKey()];case 1:return t=a.sent(),[4,e.crossSigningInfo.isStoredInSecretStorage(e.secretStorage)];case 2:return r=a.sent(),(i=!e.backupManager.getKeyBackupEnabled())?[3,4]:[4,e.baseApis.isKeyBackupKeyStored()];case 3:i=a.sent(),a.label=4;case 4:return n=i,[2,!!(t&&r&&n)]}}))}))()}},{key:"bootstrapCrossSigning",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.authUploadDeviceSigningKeys,r=e.setupNewCrossSigning,i=this;return(0,n.default)((function(){var e,a,o,s,u,c,f,d,h,v;return(0,l.__generator)(this,(function(p){switch(p.label){case 0:return m.logger.log("Bootstrapping cross-signing"),e=i.baseApis.cryptoCallbacks,a=new k.EncryptionSetupBuilder(i.baseApis.store.accountData,e),o=new C.CrossSigningInfo(i.userId,a.crossSigningCallbacks,a.crossSigningCallbacks),b=(0,n.default)((function(){var e,r;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return o.resetKeys(),[4,i.signObject(o.keys.master)];case 1:return n.sent(),a.addCrossSigningKeys(t,o.keys),e=i.deviceList.getStoredDevice(i.userId,i.deviceId),[4,o.signDevice(i.userId,e)];case 2:return r=n.sent(),a.addKeySignature(i.userId,i.deviceId,r),i.backupManager.backupInfo?[4,o.signObject(i.backupManager.backupInfo.auth_data,"master")]:[3,4];case 3:n.sent(),a.addSessionBackup(i.backupManager.backupInfo),n.label=4;case 4:return[2]}}))})),s=function(){return b.apply(this,arguments)},u=i.crossSigningInfo.getId(),[4,i.crossSigningInfo.isStoredInKeyCache()];case 1:return c=p.sent(),[4,i.crossSigningInfo.isStoredInSecretStorage(i.secretStorage)];case 2:return f=p.sent(),d=c||f,m.logger.log({setupNewCrossSigning:r,publicKeysOnDevice:u,privateKeysInCache:c,privateKeysInStorage:f,privateKeysExistSomewhere:d}),d&&!r?[3,4]:(m.logger.log("Cross-signing private keys not found locally or in secret storage, creating new keys"),[4,s()]);case 3:return p.sent(),[3,7];case 4:return u&&c?(m.logger.log("Cross-signing public keys trusted and private keys found locally"),[3,7]):[3,5];case 5:return f?(m.logger.log("Cross-signing private keys not found locally, but they are available in secret storage, reading storage and caching locally"),[4,i.checkOwnCrossSigningTrust({allowPrivateKeyRequests:!0})]):[3,7];case 6:p.sent(),p.label=7;case 7:return!(h=a.crossSigningCallbacks.privateKeys).size||i.baseApis.cryptoCallbacks.saveCrossSigningKeys?[3,10]:[4,(v=new E.SecretStorage(a.accountDataClientAdapter,a.ssssCryptoCallbacks,void 0)).hasKey()];case 8:return p.sent()?(m.logger.log("Storing new cross-signing private keys in secret storage"),[4,C.CrossSigningInfo.storeInSecretStorage(h,v)]):[3,10];case 9:p.sent(),p.label=10;case 10:return[4,a.buildOperation().apply(i)];case 11:return p.sent(),[4,a.persist(i)];case 12:return p.sent(),m.logger.log("Cross-signing ready"),[2]}var b}))}))()}},{key:"bootstrapSecretStorage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createSecretStorageKey,r=void 0===t?(0,n.default)((function(){return(0,l.__generator)(this,(function(e){return[2,{}]}))})):t,i=e.keyBackupInfo,a=e.setupNewKeyBackup,s=e.setupNewSecretStorage,c=e.getKeyBackupPassphrase,f=this;return(0,n.default)((function(){var e,t,d,h,v,p,b,g,$,w,_,S,R,x,M,I,T,O,D,P,q,L,N,B,F,j,K,H,W,V,z,G;return(0,l.__generator)(this,(function(J){switch(J.label){case 0:return m.logger.log("Bootstrapping Secure Secret Storage"),e=f.baseApis.cryptoCallbacks,t=new k.EncryptionSetupBuilder(f.baseApis.store.accountData,e),d=new E.SecretStorage(t.accountDataClientAdapter,t.ssssCryptoCallbacks,void 0),h=null,Y=(0,n.default)((function(e,r){var n,i,a;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return r&&(e.key=r),[4,d.addKey(E.SECRET_STORAGE_ALGORITHM_V1_AES,e)];case 1:return n=o.sent(),i=n.keyId,a=n.keyInfo,r&&t.ssssCryptoCallbacks.addPrivateKey(i,a,r),[4,d.setDefaultKeyId(i)];case 2:return o.sent(),[2,i]}}))})),v=function(e,t){return Y.apply(this,arguments)},p=function(){var e=(0,n.default)((function(e,r){var n,i,a,s,u,c,d;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return r.mac?[3,4]:[4,null===(n=(i=f.baseApis.cryptoCallbacks).getSecretStorageKey)||void 0===n?void 0:n.call(i,{keys:(0,o.default)({},e,r)},"")];case 1:return(a=l.sent())?(s=a[1],t.ssssCryptoCallbacks.addPrivateKey(e,r,s),[4,(0,U.calculateKeyCheck)(s)]):[3,4];case 2:return u=l.sent(),c=u.iv,d=u.mac,r.iv=c,r.mac=d,[4,t.setAccountData("m.secret_storage.key.".concat(e),r)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=(0,n.default)((function(e){var t,r;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return(t=f.crossSigningInfo.getId())?[4,f.crossSigningInfo.isStoredInKeyCache("master")]:[3,2];case 1:t=n.sent(),n.label=2;case 2:if(!t)return[3,7];n.label=3;case 3:return n.trys.push([3,5,,6]),m.logger.log("Adding cross-signing signature to key backup"),[4,f.crossSigningInfo.signObject(e,"master")];case 4:return n.sent(),[3,6];case 5:return r=n.sent(),m.logger.error("Signing key backup with cross-signing keys failed",r),[3,6];case 6:return[3,8];case 7:m.logger.warn("Cross-signing keys not available, skipping signature on key backup"),n.label=8;case 8:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[4,f.getSecretStorageKey()];case 1:return g=J.sent(),$=(0,u.default)(g||[null,null],2),w=$[0],_=$[1],S=!s&&_&&_.algorithm===E.SECRET_STORAGE_ALGORITHM_V1_AES,m.logger.log({keyBackupInfo:i,setupNewKeyBackup:a,setupNewSecretStorage:s,storageExists:S,oldKeyInfo:_}),S||i?[3,4]:(m.logger.log("Secret storage does not exist, creating new storage key"),[4,r()]);case 2:return R=J.sent(),x=R.keyInfo,M=void 0===x?{}:x,I=R.privateKey,[4,v(M,I)];case 3:return h=J.sent(),[3,13];case 4:return S||!i?[3,11]:(m.logger.log("Secret storage does not exist, using key backup key"),[4,f.getSessionBackupPrivateKey()]);case 5:return(O=J.sent())?[3,7]:[4,null==c?void 0:c()];case 6:O=J.sent(),J.label=7;case 7:return T=O,D={},i.auth_data.private_key_salt&&i.auth_data.private_key_iterations&&(D.passphrase={algorithm:"m.pbkdf2",iterations:i.auth_data.private_key_iterations,salt:i.auth_data.private_key_salt,bits:256}),[4,v(D,T)];case 8:return h=J.sent(),[4,d.store("m.megolm_backup.v1",y.encodeBase64(T),[h])];case 9:return J.sent(),[4,b(i.auth_data)];case 10:return J.sent(),t.addSessionBackup(i),[3,13];case 11:return m.logger.log("Secret storage exists"),_&&_.algorithm===E.SECRET_STORAGE_ALGORITHM_V1_AES?[4,p(w,_)]:[3,13];case 12:J.sent(),J.label=13;case 13:return(q=!f.baseApis.cryptoCallbacks.saveCrossSigningKeys)?[4,f.isCrossSigningReady()]:[3,15];case 14:q=J.sent(),J.label=15;case 15:return(P=q)?(L=h)?[3,17]:[4,f.crossSigningInfo.isStoredInSecretStorage(d)]:[3,18];case 16:L=!J.sent(),J.label=17;case 17:P=L,J.label=18;case 18:return P?(m.logger.log("Copying cross-signing private keys from cache to secret storage"),[4,f.crossSigningInfo.getCrossSigningKeysFromCache()]):[3,21];case 19:return N=J.sent(),[4,C.CrossSigningInfo.storeInSecretStorage(N,d)];case 20:J.sent(),J.label=21;case 21:return!a||i?[3,26]:(m.logger.log("Creating new message key backup version"),[4,f.baseApis.prepareKeyBackupVersion(null,{secureSecretStorage:!1})]);case 22:return B=J.sent(),F=(0,A.decodeRecoveryKey)(B.recovery_key),[4,d.store("m.megolm_backup.v1",y.encodeBase64(F))];case 23:return J.sent(),j={algorithm:B.algorithm,auth_data:B.auth_data},[4,b(j.auth_data)];case 24:return J.sent(),[4,f.signObject(j.auth_data)];case 25:J.sent(),t.addSessionBackup(j),J.label=26;case 26:return[4,d.get("m.megolm_backup.v1")];case 27:return(K=J.sent())?(m.logger.info("Got session backup key from secret storage: caching"),(H=ne(K))?(W=h||w,[4,d.store("m.megolm_backup.v1",H,W?[W]:null)]):[3,29]):[3,30];case 28:J.sent(),J.label=29;case 29:return V=new Uint8Array(y.decodeBase64(H||K)),t.addSessionBackupPrivateKeyToCache(V),[3,35];case 30:return f.backupManager.getKeyBackupEnabled()?[4,f.getSessionBackupPrivateKey()]:[3,35];case 31:return(G=J.sent())?[3,33]:[4,null==c?void 0:c()];case 32:G=J.sent(),J.label=33;case 33:return(z=G)?(m.logger.info("Got session backup key from cache/user that wasn't in SSSS: saving to SSSS"),[4,d.store("m.megolm_backup.v1",y.encodeBase64(z))]):(m.logger.error("Key backup is enabled but couldn't get key backup key!"),[2]);case 34:J.sent(),J.label=35;case 35:return[4,t.buildOperation().apply(f)];case 36:return J.sent(),[4,t.persist(f)];case 37:return J.sent(),m.logger.log("Secure Secret Storage ready"),[2]}var Y}))}))()}},{key:"addSecretStorageKey",value:function(e,t,r){return this.secretStorage.addKey(e,t,r)}},{key:"hasSecretStorageKey",value:function(e){return this.secretStorage.hasKey(e)}},{key:"getSecretStorageKey",value:function(e){return this.secretStorage.getKey(e)}},{key:"storeSecret",value:function(e,t,r){return this.secretStorage.store(e,t,r)}},{key:"getSecret",value:function(e){return this.secretStorage.get(e)}},{key:"isSecretStored",value:function(e){return this.secretStorage.isStored(e)}},{key:"requestSecret",value:function(e,t){return t||(t=Object.keys(this.deviceList.getRawStoredDevicesForUser(this.userId))),this.secretStorage.request(e,t)}},{key:"getDefaultSecretStorageKeyId",value:function(){return this.secretStorage.getDefaultKeyId()}},{key:"setDefaultSecretStorageKeyId",value:function(e){return this.secretStorage.setDefaultKeyId(e)}},{key:"checkSecretStorageKey",value:function(e,t){return this.secretStorage.checkKey(e,t)}},{key:"checkSecretStoragePrivateKey",value:function(e,t){var r=null;try{return(r=new $parcel$global.Olm.PkDecryption).init_with_private_key(e)===t}finally{var n;null===(n=r)||void 0===n||n.free()}}},{key:"getSessionBackupPrivateKey",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(t){e.cryptoStore.doTxn("readonly",[x.IndexedDBCryptoStore.STORE_ACCOUNT],(function(r){e.cryptoStore.getSecretStorePrivateKey(r,t,"m.megolm_backup.v1")}))}))];case 1:return(t=i.sent())&&"string"==typeof t?(t=new Uint8Array(y.decodeBase64(ne(t)||t)),[4,e.storeSessionBackupPrivateKey(t)]):[3,3];case 2:i.sent(),i.label=3;case 3:return t&&t.ciphertext?(r=f.from(e.olmDevice.pickleKey),[4,(0,U.decryptAES)(t,r,"m.megolm_backup.v1")]):[3,5];case 4:n=i.sent(),t=y.decodeBase64(n),i.label=5;case 5:return[2,t]}}))}))()}},{key:"storeSessionBackupPrivateKey",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:if(!(e instanceof Uint8Array))throw new Error("storeSessionBackupPrivateKey expects Uint8Array, got ".concat(e));return r=f.from(t.olmDevice.pickleKey),[4,(0,U.encryptAES)(y.encodeBase64(e),r,"m.megolm_backup.v1")];case 1:return n=i.sent(),[2,t.cryptoStore.doTxn("readwrite",[x.IndexedDBCryptoStore.STORE_ACCOUNT],(function(e){t.cryptoStore.storeSecretStorePrivateKey(e,"m.megolm_backup.v1",n)}))]}}))}))()}},{key:"checkCrossSigningPrivateKey",value:function(e,t){var r=null;try{return(r=new $parcel$global.Olm.PkSigning).init_with_seed(e)===t}finally{var n;null===(n=r)||void 0===n||n.free()}}},{key:"afterCrossSigningLocalKeyChange",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,s,c,f,d,h,v,p,b,g,$,y,w,_,S,k,E,R,x;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return m.logger.info("Starting cross-signing key change post-processing"),t=e.deviceList.getStoredDevice(e.userId,e.deviceId),[4,e.crossSigningInfo.signDevice(e.userId,t)];case 1:if(r=l.sent(),m.logger.info("Starting background key sig upload for ".concat(e.deviceId)),n=function(t){var i=t.shouldEmit,a=void 0!==i&&i;return e.baseApis.uploadKeySignatures((0,o.default)({},e.userId,(0,o.default)({},e.deviceId,r))).then((function(t){var r=(t||{}).failures;if(Object.keys(r||[]).length>0)throw a&&e.baseApis.emit(ee.KeySignatureUploadFailure,r,"afterCrossSigningLocalKeyChange",n),new L.KeySignatureUploadError("Key upload failed",{failures:r});m.logger.info("Finished background key sig upload for ".concat(e.deviceId))})).catch((function(t){m.logger.error("Error during background key sig upload for ".concat(e.deviceId),t)}))},n({shouldEmit:!0}),!(i=e.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications))return[3,22];m.logger.info("Starting device verification upgrade"),a={},s=!0,c=!1,f=void 0,l.label=2;case 2:l.trys.push([2,7,8,9]),d=Object.entries(e.deviceList.crossSigningInfo)[Symbol.iterator](),l.label=3;case 3:return(s=(h=d.next()).done)?[3,6]:(v=(0,u.default)(h.value,2),p=v[0],b=v[1],[4,e.checkForDeviceVerificationUpgrade(p,C.CrossSigningInfo.fromStorage(b,p))]);case 4:(g=l.sent())&&(a[p]=g),l.label=5;case 5:return s=!0,[3,3];case 6:return[3,9];case 7:return R=l.sent(),c=!0,f=R,[3,9];case 8:try{s||null==d.return||d.return()}finally{if(c)throw f}return[7];case 9:if(!(Object.keys(a).length>0))return[3,21];m.logger.info("Found ".concat(Object.keys(a).length," verif users to upgrade")),l.label=10;case 10:return l.trys.push([10,20,,21]),[4,i({users:a})];case 11:if(!($=l.sent()))return[3,19];y=!0,w=!1,_=void 0,l.label=12;case 12:l.trys.push([12,17,18,19]),S=$[Symbol.iterator](),l.label=13;case 13:return(y=(k=S.next()).done)?[3,16]:(E=k.value)in a?[4,e.baseApis.setDeviceVerified(E,a[E].crossSigningInfo.getId())]:[3,15];case 14:l.sent(),l.label=15;case 15:return y=!0,[3,13];case 16:return[3,19];case 17:return R=l.sent(),w=!0,_=R,[3,19];case 18:try{y||null==S.return||S.return()}finally{if(w)throw _}return[7];case 19:return[3,21];case 20:return x=l.sent(),m.logger.log("shouldUpgradeDeviceVerifications threw an error: not upgrading",x),[3,21];case 21:m.logger.info("Finished device verification upgrade"),l.label=22;case 22:return m.logger.info("Finished cross-signing key change post-processing"),[2]}}))}))()}},{key:"checkForDeviceVerificationUpgrade",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return n=r.crossSigningInfo.checkUserTrust(t),!t.firstUse||n.isVerified()?[3,2]:(i=r.deviceList.getRawStoredDevicesForUser(e),[4,r.checkForValidDeviceSignature(e,t.keys.master,i)]);case 1:if((a=o.sent()).length)return[2,{devices:a.map((function(e){return _.DeviceInfo.fromStorage(i[e],e)})),crossSigningInfo:t}];o.label=2;case 2:return[2]}}))}))()}},{key:"checkForValidDeviceSignature",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s,c,f,d,h,v,p;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(n=[],a=!0,o=!1,s=void 0,!(r&&t.signatures&&t.signatures[e]))return[3,10];l.label=1;case 1:l.trys.push([1,8,9,10]),c=Object.keys(t.signatures[e])[Symbol.iterator](),l.label=2;case 2:if(a=(f=c.next()).done)return[3,7];if(d=f.value,h=(0,u.default)(d.split(":",2),2),!((v=h[1])in r)||r[v].verified!==Z.VERIFIED)return[3,6];l.label=3;case 3:return l.trys.push([3,5,,6]),[4,y.verifySignature(i.olmDevice,t,e,v,r[v].keys[d])];case 4:return l.sent(),n.push(v),[3,6];case 5:return l.sent(),[3,6];case 6:return a=!0,[3,2];case 7:return[3,10];case 8:return p=l.sent(),o=!0,s=p,[3,10];case 9:try{a||null==c.return||c.return()}finally{if(o)throw s}return[7];case 10:return[2,n]}}))}))()}},{key:"getCrossSigningId",value:function(e){return this.crossSigningInfo.getId(e)}},{key:"getStoredCrossSigningForUser",value:function(e){return this.deviceList.getStoredCrossSigningForUser(e)}},{key:"checkUserTrust",value:function(e){var t=this.deviceList.getStoredCrossSigningForUser(e);return t?this.crossSigningInfo.checkUserTrust(t):new C.UserTrustLevel(!1,!1,!1)}},{key:"checkDeviceTrust",value:function(e,t){var r=this.deviceList.getStoredDevice(e,t);return this.checkDeviceInfoTrust(e,r)}},{key:"checkDeviceInfoTrust",value:function(e,t){var r=!(null==t||!t.isVerified()),n=this.deviceList.getStoredCrossSigningForUser(e);if(t&&n){var i=this.trustCrossSignedDevices||e===this.userId;return this.crossSigningInfo.checkDeviceTrust(n,t,r,i)}return new C.DeviceTrustLevel(!1,!1,r,!1)}},{key:"checkIfOwnDeviceCrossSigned",value:function(e){var t,r=this.deviceList.getStoredDevice(this.userId,e);if(!r)return!1;var n=this.deviceList.getStoredCrossSigningForUser(this.userId);return null!==(t=null==n?void 0:n.checkDeviceTrust(n,r,!1,!0).isCrossSigningVerified())&&void 0!==t&&t}},{key:"checkOwnCrossSigningTrust",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowPrivateKeyRequests,r=void 0!==t&&t,i=this;return(0,n.default)((function(){var e,t,n,a,s,u,c,f,d,h,v,p,b,g,$,y,w,_,S,C,k,E,R,x,M,I,T,A;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=i.userId,[4,i.downloadKeys([i.userId])];case 1:return l.sent(),[4,i.crossSigningInfo.getCrossSigningKeysFromCache()];case 2:if(t=l.sent(),!(n=i.deviceList.getStoredCrossSigningForUser(e)))return m.logger.error("Got cross-signing update event for user "+e+" but no new cross-signing information found!"),[2];if(a=n.getId(),s=i.crossSigningInfo.getId()!==a,u=n.getId()&&!t.has("master"),s&&m.logger.info("Got new master public key",a),!r||!s&&!u)return[3,6];m.logger.info("Attempting to retrieve cross-signing master private key"),c=null,l.label=3;case 3:return l.trys.push([3,,5,6]),[4,i.crossSigningInfo.getCrossSigningKey("master",a)];case 4:return f=l.sent(),c=f[1],m.logger.info("Got cross-signing master private key"),[3,6];case 5:return null===(d=c)||void 0===d||d.free(),[7];case 6:if(h=i.crossSigningInfo.getId("self_signing"),v=i.crossSigningInfo.getId("user_signing"),i.storeTrustedSelfKeys(n.keys),p=h!==n.getId("self_signing"),b=v!==n.getId("user_signing"),g=n.getId("self_signing")&&!t.has("self_signing"),$=n.getId("user_signing")&&!t.has("user_signing"),y={},p&&m.logger.info("Got new self-signing key",n.getId("self_signing")),!r||!p&&!g)return[3,12];m.logger.info("Attempting to retrieve cross-signing self-signing private key"),w=null,l.label=7;case 7:return l.trys.push([7,,9,10]),[4,i.crossSigningInfo.getCrossSigningKey("self_signing",n.getId("self_signing"))];case 8:return _=l.sent(),w=_[1],m.logger.info("Got cross-signing self-signing private key"),[3,10];case 9:return null===(S=w)||void 0===S||S.free(),[7];case 10:return C=i.deviceList.getStoredDevice(i.userId,i.deviceId),[4,i.crossSigningInfo.signDevice(i.userId,C)];case 11:k=l.sent(),y[i.deviceId]=k,l.label=12;case 12:if(b&&m.logger.info("Got new user-signing key",n.getId("user_signing")),!r||!b&&!$)return[3,16];m.logger.info("Attempting to retrieve cross-signing user-signing private key"),E=null,l.label=13;case 13:return l.trys.push([13,,15,16]),[4,i.crossSigningInfo.getCrossSigningKey("user_signing",n.getId("user_signing"))];case 14:return R=l.sent(),E=R[1],m.logger.info("Got cross-signing user-signing private key"),[3,16];case 15:return null===(x=E)||void 0===x||x.free(),[7];case 16:return s?(M=i.crossSigningInfo.keys.master,[4,i.signObject(M)]):[3,18];case 17:l.sent(),I=M.signatures[i.userId]["ed25519:"+i.deviceId],y[i.crossSigningInfo.getId()]=Object.assign({},M,{signatures:(0,o.default)({},i.userId,(0,o.default)({},"ed25519:"+i.deviceId,I))}),l.label=18;case 18:return(T=Object.keys(y)).length&&(A=function(e){var t=e.shouldEmit,r=void 0!==t&&t;return m.logger.info("Starting background key sig upload for ".concat(T)),i.baseApis.uploadKeySignatures((0,o.default)({},i.userId,y)).then((function(e){var t=(e||{}).failures;if(m.logger.info("Finished background key sig upload for ".concat(T)),Object.keys(t||[]).length>0)throw r&&i.baseApis.emit(ee.KeySignatureUploadFailure,t,"checkOwnCrossSigningTrust",A),new L.KeySignatureUploadError("Key upload failed",{failures:t})})).catch((function(e){m.logger.error("Error during background key sig upload for ".concat(T),e)}))})({shouldEmit:!0}),i.emit(ee.UserTrustStatusChanged,e,i.checkUserTrust(e)),s?(i.emit(ee.KeysChanged,{}),[4,i.afterCrossSigningLocalKeyChange()]):[3,20];case 19:l.sent(),l.label=20;case 20:return[4,i.backupManager.checkKeyBackup()];case 21:return l.sent(),[2]}}))}))()}},{key:"storeTrustedSelfKeys",value:function(e){var t=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e?t.crossSigningInfo.setKeys(e):t.crossSigningInfo.clearKeys(),[4,t.cryptoStore.doTxn("readwrite",[x.IndexedDBCryptoStore.STORE_ACCOUNT],(function(e){t.cryptoStore.storeCrossSigningKeys(e,t.crossSigningInfo.keys)}))];case 1:return r.sent(),[2]}}))}))()}},{key:"checkDeviceVerifications",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return(r=t.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications)?(m.logger.info("Starting device verification upgrade for ".concat(e)),t.crossSigningInfo.keys.user_signing&&(n=t.deviceList.getStoredCrossSigningForUser(e))?[4,t.checkForDeviceVerificationUpgrade(e,n)]:[3,4]):[2];case 1:return(i=a.sent())?[4,r({users:(0,o.default)({},e,i)})]:[3,4];case 2:return a.sent().includes(e)?[4,t.baseApis.setDeviceVerified(e,n.getId())]:[3,4];case 3:a.sent(),a.label=4;case 4:return m.logger.info("Finished device verification upgrade for ".concat(e)),[2]}}))}))()}},{key:"enableLazyLoading",value:function(){this.lazyLoadMembers=!0}},{key:"registerEventHandlers",value:function(e){e.on(j.RoomMemberEvent.Membership,this.onMembership),e.on(H.ClientEvent.ToDeviceEvent,this.onToDeviceEvent),e.on(F.RoomEvent.Timeline,this.onTimelineEvent),e.on(K.MatrixEventEvent.Decrypted,this.onTimelineEvent)}},{key:"start",value:function(){m.logger.warn("MatrixClient.crypto.start() is deprecated")}},{key:"stop",value:function(){this.outgoingRoomKeyRequestManager.stop(),this.deviceList.stop(),this.dehydrationManager.stop()}},{key:"getDeviceEd25519Key",value:function(){return this.olmDevice.deviceEd25519Key}},{key:"getDeviceCurve25519Key",value:function(){return this.olmDevice.deviceCurve25519Key}},{key:"setGlobalBlacklistUnverifiedDevices",value:function(e){this.globalBlacklistUnverifiedDevices=e}},{key:"getGlobalBlacklistUnverifiedDevices",value:function(){return this.globalBlacklistUnverifiedDevices}},{key:"uploadDeviceKeys",value:function(){var e=this,t={algorithms:this.supportedAlgorithms,device_id:this.deviceId,keys:this.deviceKeys,user_id:this.userId};return this.signObject(t).then((function(){return e.baseApis.uploadKeysRequest({device_keys:t})}))}},{key:"updateOneTimeKeyCount",value:function(e){if(!isFinite(e))throw new TypeError("Parameter for updateOneTimeKeyCount has to be a number");this.oneTimeKeyCount=e}},{key:"setNeedsNewFallback",value:function(e){this.needsNewFallback=e}},{key:"getNeedsNewFallback",value:function(){return!!this.needsNewFallback}},{key:"maybeUploadOneTimeKeys",value:function(){var e=this;if(!this.oneTimeKeyCheckInProgress){var t=Date.now();if(!(null!==this.lastOneTimeKeyCheck&&t-this.lastOneTimeKeyCheck<6e4)){this.lastOneTimeKeyCheck=t;var r,i=this.olmDevice.maxNumberOfOneTimeKeys(),a=Math.floor(i/2),o=this,s=(r=(0,n.default)((function(e){var t,r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return a>e||o.getNeedsNewFallback()?a>e?(m.logger.info("generating oneTimeKeys"),t=Math.min(a-e,5),[4,o.olmDevice.generateOneTimeKeys(t)]):[3,2]:[3,7];case 1:i.sent(),i.label=2;case 2:return o.getNeedsNewFallback()?[4,o.olmDevice.getFallbackKey()]:[3,5];case 3:return(r=i.sent()).curve25519&&0!=Object.keys(r.curve25519).length?[3,5]:(m.logger.info("generating fallback key"),o.fallbackCleanup&&(clearTimeout(o.fallbackCleanup),delete o.fallbackCleanup),[4,o.olmDevice.generateFallbackKey()]);case 4:i.sent(),i.label=5;case 5:return m.logger.info("calling uploadOneTimeKeys"),[4,o.uploadOneTimeKeys()];case 6:if(!(n=i.sent()).one_time_key_counts||!n.one_time_key_counts.signed_curve25519)throw new Error("response for uploading keys does not contain one_time_key_counts.signed_curve25519");return e=n.one_time_key_counts.signed_curve25519,[3,0];case 7:return[2]}}))})),function(e){return r.apply(this,arguments)});this.oneTimeKeyCheckInProgress=!0,Promise.resolve().then((function(){return void 0!==e.oneTimeKeyCount?Promise.resolve(e.oneTimeKeyCount):e.baseApis.uploadKeysRequest({}).then((function(e){return e.one_time_key_counts.signed_curve25519||0}))})).then((function(e){return s(e)})).catch((function(e){m.logger.error("Error uploading one-time keys",e.stack||e)})).finally((function(){e.oneTimeKeyCount=void 0,e.oneTimeKeyCheckInProgress=!1}))}}}},{key:"uploadOneTimeKeys",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,c,f,d,h,v,p,b,g,m,$;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return t=[],e.getNeedsNewFallback()?(r={},[4,e.olmDevice.getFallbackKey()]):[3,2];case 1:n=l.sent(),i=!0,a=!1,o=void 0;try{for(s=Object.entries(n.curve25519)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)f=(0,u.default)(c.value,2),d=f[0],h=f[1],v={key:h,fallback:!0},r["signed_curve25519:"+d]=v,t.push(e.signObject(v))}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}e.setNeedsNewFallback(!1),l.label=2;case 2:return[4,e.olmDevice.getOneTimeKeys()];case 3:for(var y in p=l.sent(),b={},p.curve25519)p.curve25519.hasOwnProperty(y)&&(g={key:p.curve25519[y]},b["signed_curve25519:"+y]=g,t.push(e.signObject(g)));return[4,Promise.all(t)];case 4:return l.sent(),m={one_time_keys:b},r&&(m["org.matrix.msc2732.fallback_keys"]=r,m.fallback_keys=r),[4,e.baseApis.uploadKeysRequest(m)];case 5:return $=l.sent(),r&&(e.fallbackCleanup=setTimeout((function(){delete e.fallbackCleanup,e.olmDevice.forgetOldFallbackKey()}),36e5)),[4,e.olmDevice.markKeysAsPublished()];case 6:return l.sent(),[2,$]}}))}))()}},{key:"downloadKeys",value:function(e,t){return this.deviceList.downloadKeys(e,!!t)}},{key:"getStoredDevicesForUser",value:function(e){return this.deviceList.getStoredDevicesForUser(e)}},{key:"getStoredDevice",value:function(e,t){return this.deviceList.getStoredDevice(e,t)}},{key:"saveDeviceList",value:function(e){return this.deviceList.saveIfDirty(e)}},{key:"setDeviceVerification",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5?arguments[5]:void 0,c=this;return(0,n.default)((function(){var f,d,h,v,p,b,g,$,y,w,S,C,k,E,R,x,M,I,T;return(0,l.__generator)(this,(function(A){switch(A.label){case 0:if(!(f=c.deviceList.getStoredCrossSigningForUser(e))||f.getId()!==t)return[3,5];if(null!==i||null!==a)throw new Error("Cannot set blocked or known for a cross-signing key");if(!r)throw new Error("Cannot set a cross-signing key as unverified");if(d=s?Object.values(s)[0]:null,s&&(1!==Object.values(s).length||d!==f.getId()))throw new Error("Key did not match expected value: expected ".concat(f.getId(),", got ").concat(d));return c.crossSigningInfo.getId()||e!==c.crossSigningInfo.userId||(c.storeTrustedSelfKeys(f.keys),c.emit(ee.UserTrustStatusChanged,c.userId,c.checkUserTrust(e))),e===c.userId?[3,4]:(m.logger.info("Master key "+f.getId()+" for "+e+" marked verified. Signing..."),[4,c.crossSigningInfo.signUser(f)]);case 1:return(h=A.sent())?(O=(0,n.default)((function(r){var n,i,a,s;return(0,l.__generator)(this,(function(u){switch(u.label){case 0:return n=r.shouldEmit,i=void 0!==n&&n,m.logger.info("Uploading signature for "+e+"..."),[4,c.baseApis.uploadKeySignatures((0,o.default)({},e,(0,o.default)({},t,h)))];case 1:if(a=u.sent(),s=(a||{}).failures,Object.keys(s||[]).length>0)throw i&&c.baseApis.emit(ee.KeySignatureUploadFailure,s,"setDeviceVerification",v),new L.KeySignatureUploadError("Key upload failed",{failures:s});return[2]}}))})),v=function(e){return O.apply(this,arguments)},[4,v({shouldEmit:!0})]):[3,3];case 2:A.sent(),A.label=3;case 3:return[2,h];case 4:return[2,f];case 5:if(!(p=c.deviceList.getRawStoredDevicesForUser(e))||!p[t])throw new Error("Unknown device "+e+":"+t);if(b=p[t],g=b.verified,r){if($=!0,y=!1,w=void 0,s)try{for(S=Object.entries(s)[Symbol.iterator]();!($=(C=S.next()).done);$=!0)if(k=(0,u.default)(C.value,2),E=k[0],R=k[1],b.keys[E]!==R)throw new Error("Key did not match expected value: expected ".concat(R,", got ").concat(b.keys[E]))}catch(e){y=!0,w=e}finally{try{$||null==S.return||S.return()}finally{if(y)throw w}}g=Z.VERIFIED}else null!==r&&g==Z.VERIFIED&&(g=Z.UNVERIFIED);return i?g=Z.BLOCKED:null!==i&&g==Z.BLOCKED&&(g=Z.UNVERIFIED),x=b.known,null!==a&&(x=a),b.verified===g&&b.known===x||(b.verified=g,b.known=x,c.deviceList.storeDevicesForUser(e,p),c.deviceList.saveIfDirty()),r&&e===c.userId?(m.logger.info("Own device "+t+" marked verified: signing"),c.checkDeviceTrust(e,t).isCrossSigningVerified()?(m.logger.log("Own device ".concat(t," already cross-signing verified")),[3,8]):[3,6]):[3,10];case 6:return[4,c.crossSigningInfo.signDevice(e,_.DeviceInfo.fromStorage(b,t))];case 7:M=A.sent(),A.label=8;case 8:return M?(I=function(){var r=(0,n.default)((function(r){var n,i,a,s;return(0,l.__generator)(this,(function(u){switch(u.label){case 0:return n=r.shouldEmit,i=void 0!==n&&n,m.logger.info("Uploading signature for "+t),[4,c.baseApis.uploadKeySignatures((0,o.default)({},e,(0,o.default)({},t,M)))];case 1:if(a=u.sent(),s=(a||{}).failures,Object.keys(s||[]).length>0)throw i&&c.baseApis.emit(ee.KeySignatureUploadFailure,s,"setDeviceVerification",I),new L.KeySignatureUploadError("Key upload failed",{failures:s});return[2]}}))}));return function(e){return r.apply(this,arguments)}}(),[4,I({shouldEmit:!0})]):[3,10];case 9:A.sent(),A.label=10;case 10:return T=_.DeviceInfo.fromStorage(b,t),c.emit(ee.DeviceVerificationChanged,e,t,T),[2,T]}var O}))}))()}},{key:"findVerificationRequestDMInProgress",value:function(e){return this.inRoomVerificationRequests.findRequestInProgress(e)}},{key:"getVerificationRequestsToDeviceInProgress",value:function(e){return this.toDeviceVerificationRequests.getRequestsInProgress(e)}},{key:"requestVerificationDM",value:function(e,t){var r=this.inRoomVerificationRequests.findRequestInProgress(t);if(r)return Promise.resolve(r);var n=new D.InRoomChannel(this.baseApis,t,e);return this.requestVerificationWithChannel(e,n,this.inRoomVerificationRequests)}},{key:"requestVerification",value:function(e,t){t||(t=Object.keys(this.deviceList.getRawStoredDevicesForUser(e)));var r=this.toDeviceVerificationRequests.findRequestInProgress(e,t);if(r)return Promise.resolve(r);var n=new P.ToDeviceChannel(this.baseApis,e,t,P.ToDeviceChannel.makeTransactionId());return this.requestVerificationWithChannel(e,n,this.toDeviceVerificationRequests)}},{key:"requestVerificationWithChannel",value:function(e,t,r){var i=this;return(0,n.default)((function(){var e,n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return e=new O.VerificationRequest(t,i.verificationMethods,i.baseApis),t.transactionId&&r.setRequestByChannel(t,e),[4,e.sendRequest()];case 1:return a.sent(),(n=r.getRequestByChannel(t))?e=n:(m.logger.log("Crypto: adding new request to "+"requestsByTxnId with id ".concat(t.transactionId," ").concat(t.roomId)),r.setRequestByChannel(t,e)),[2,e]}}))}))()}},{key:"beginKeyVerification",value:function(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(i){if(!(n=this.toDeviceVerificationRequests.getRequestBySenderAndTxnId(t,i)))throw new Error("No request found for user ".concat(t," with ")+"transactionId ".concat(i))}else{i=P.ToDeviceChannel.makeTransactionId();var a=new P.ToDeviceChannel(this.baseApis,t,[r],i,r);n=new O.VerificationRequest(a,this.verificationMethods,this.baseApis),this.toDeviceVerificationRequests.setRequestBySenderAndTxnId(t,i,n)}return n.beginKeyVerification(e,{userId:t,deviceId:r})}},{key:"legacyDeviceVerification",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s;return(0,l.__generator)(this,(function(u){switch(u.label){case 0:return n=P.ToDeviceChannel.makeTransactionId(),a=new P.ToDeviceChannel(i.baseApis,e,[t],n,t),o=new O.VerificationRequest(a,i.verificationMethods,i.baseApis),i.toDeviceVerificationRequests.setRequestBySenderAndTxnId(e,n,o),s=o.beginKeyVerification(r,{userId:e,deviceId:t}),[4,Promise.race([s.verify(),o.waitFor((function(e){return e.started}))])];case 1:return u.sent(),[2,o]}}))}))()}},{key:"getOlmSessionsForUser",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,f,d,h;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:r=t.getStoredDevicesForUser(e)||[],n={},i=!0,a=!1,o=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),s=r[Symbol.iterator](),l.label=2;case 2:return(i=(u=s.next()).done)?[3,5]:(c=u.value,f=c.getIdentityKey(),[4,t.olmDevice.getSessionInfoForDevice(f)]);case 3:d=l.sent(),n[c.deviceId]={deviceIdKey:f,sessions:d},l.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return h=l.sent(),a=!0,o=h,[3,8];case 7:try{i||null==s.return||s.return()}finally{if(a)throw o}return[7];case 8:return[2,n]}}))}))()}},{key:"getEventSenderDeviceInfo",value:function(e){var t=e.getSenderKey(),r=e.getWireContent().algorithm;if(!t||!r)return null;if(e.isKeySourceUntrusted())return null;var n=this.deviceList.getDeviceByIdentityKey(r,t);if(null===n)return null;var i=e.getClaimedEd25519Key();return i?i!==n.getFingerprint()?(m.logger.warn("Event "+e.getId()+" claims ed25519 key "+i+" but sender device has key "+n.getFingerprint()),null):n:(m.logger.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),null)}},{key:"getEventEncryptionInfo",value:function(e){var t,r,n={};if(n.senderKey=null!==(t=e.getSenderKey())&&void 0!==t?t:void 0,n.algorithm=e.getWireContent().algorithm,!n.senderKey||!n.algorithm)return n.encrypted=!1,n;n.encrypted=!0,e.isKeySourceUntrusted()?n.authenticated=!1:n.authenticated=!0,n.sender=null!==(r=this.deviceList.getDeviceByIdentityKey(n.algorithm,n.senderKey))&&void 0!==r?r:void 0;var i=e.getClaimedEd25519Key();return i||(m.logger.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),n.mismatchedSender=!0),n.sender&&i!==n.sender.getFingerprint()&&(m.logger.warn("Event "+e.getId()+" claims ed25519 key "+i+"but sender device has key "+n.sender.getFingerprint()),n.mismatchedSender=!0),n}},{key:"forceDiscardSession",value:function(e){var t=this.roomEncryptors.get(e);if(void 0===t)throw new Error("Room not encrypted");if(void 0===t.forceDiscardSession)throw new Error("Room encryption algorithm doesn't support session discarding");t.forceDiscardSession()}},{key:"setRoomEncryption",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:if(!(n=i.clientStore.getRoom(e)))throw new Error("Unable to enable encryption tracking devices in unknown room ".concat(e));return[4,i.setRoomEncryptionImpl(n,t)];case 1:return a.sent(),i.lazyLoadMembers||r||i.deviceList.refreshOutdatedDeviceLists(),[2]}}))}))()}},{key:"setRoomEncryptionImpl",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:if(n=e.roomId,!t.algorithm)return m.logger.log("Ignoring setRoomEncryption with no algorithm"),[2];if((i=r.roomList.getRoomEncryption(n))&&JSON.stringify(i)!=JSON.stringify(t))return m.logger.error("Ignoring m.room.encryption event which requests a change of config in "+n),[2];if(r.roomEncryptors.get(n))return[2];if(a=null,i||(a=r.roomList.setRoomEncryption(n,t)),!(o=S.ENCRYPTION_CLASSES.get(t.algorithm)))throw new Error("Unable to encrypt with "+t.algorithm);return s=new o({userId:r.userId,deviceId:r.deviceId,crypto:r,olmDevice:r.olmDevice,baseApis:r.baseApis,roomId:n,config:t}),r.roomEncryptors.set(n,s),a?[4,a]:[3,2];case 1:c.sent(),c.label=2;case 2:return m.logger.log("Enabling encryption in ".concat(n)),e.membersLoaded()?[4,r.trackRoomDevicesImpl(e)]:[3,4];case 3:return c.sent(),[3,5];case 4:u=function(t){e.off(V.RoomStateEvent.Update,u),e.membersLoaded()&&r.trackRoomDevicesImpl(e).catch((function(e){m.logger.error("Error enabling device tracking in ".concat(n),e)}))},e.on(V.RoomStateEvent.Update,u),c.label=5;case 5:return[2]}}))}))()}},{key:"trackRoomDevices",value:function(e){var t=this.clientStore.getRoom(e);if(!t)throw new Error("Unable to start tracking devices in unknown room ".concat(e));return this.trackRoomDevicesImpl(t)}},{key:"trackRoomDevicesImpl",value:function(e){var t,r=this,i=e.roomId,a=this,o=(t=(0,n.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return a.roomEncryptors.has(i)?(m.logger.log("Starting to track devices for room ".concat(i," ...")),[4,e.getEncryptionTargetMembers()]):[2];case 1:return t.sent().forEach((function(e){a.deviceList.startTrackingDeviceList(e.userId)})),[2]}}))})),function(){return t.apply(this,arguments)}),s=this.roomDeviceTrackingState[i];return s||(s=o(),this.roomDeviceTrackingState[i]=s.catch((function(e){throw delete r.roomDeviceTrackingState[i],e}))),s}},{key:"ensureOlmSessionsForUsers",value:function(e,t){var r={},n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;r[u]=[];var c=this.getStoredDevicesForUser(u)||[],l=!0,f=!1,d=void 0;try{for(var h,v=c[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var p=h.value;p.getIdentityKey()!=this.olmDevice.deviceCurve25519Key&&(p.verified!=Z.BLOCKED&&r[u].push(p))}}catch(e){f=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return y.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,r,t)}},{key:"exportRoomKeys",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return t=[],[4,e.cryptoStore.doTxn("readonly",[x.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS],(function(r){e.cryptoStore.getAllEndToEndInboundGroupSessions(r,(function(r){if(null!==r){var n=e.olmDevice.exportInboundGroupSession(r.senderKey,r.sessionId,r.sessionData);delete n.first_known_index,n.algorithm=y.MEGOLM_ALGORITHM,t.push(n)}}))}))];case 1:return r.sent(),[2,t]}}))}))()}},{key:"importRoomKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,n=function(){var e;null===(e=t.progressCallback)||void 0===e||e.call(t,{stage:"load_keys",successes:i,failures:a,total:o})},i=0,a=0,o=e.length;return Promise.all(e.map((function(e){return e.room_id&&e.algorithm?r.getRoomDecryptor(e.room_id,e.algorithm).importRoomKey(e,t).finally((function(){i++,t.progressCallback&&n()})):(m.logger.warn("ignoring room key entry with missing fields",e),a++,t.progressCallback&&n(),null)}))).then()}},{key:"countSessionsNeedingBackup",value:function(){return this.backupManager.countSessionsNeedingBackup()}},{key:"prepareToEncrypt",value:function(e){var t=this.roomEncryptors.get(e.roomId);t&&t.prepareToEncrypt(e)}},{key:"encryptEvent",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:if(!t)throw new Error("Cannot send encrypted messages in unknown rooms");if(n=e.getRoomId(),!(i=r.roomEncryptors.get(n)))throw new Error("Room "+n+" was previously configured to use encryption, but is no longer. Perhaps the homeserver is hiding the configuration event.");return[4,r.trackRoomDevicesImpl(t)];case 1:return c.sent(),a=e.getContent(),(o=a["m.relates_to"])&&delete(a=Object.assign({},a))["m.relates_to"],(s=a["io.element.performance_metrics"])&&delete(a=Object.assign({},a))["io.element.performance_metrics"],[4,i.encryptMessage(t,e.getType(),a)];case 2:return u=c.sent(),o&&(u["m.relates_to"]=o),s&&(u["io.element.performance_metrics"]=s),e.makeEncrypted("m.room.encrypted",u,r.olmDevice.deviceCurve25519Key,r.olmDevice.deviceEd25519Key),[2]}}))}))()}},{key:"decryptEvent",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:if(!e.isRedacted())return[3,5];if(r=new K.MatrixEvent(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({room_id:e.getRoomId()},e.getUnsigned().redacted_because)),n=e.getUnsigned().redacted_because,!r.isEncrypted())return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t.decryptEvent(r)];case 2:return i=s.sent(),n=i.clearEvent,[3,4];case 3:return a=s.sent(),m.logger.warn("Decryption of redaction failed. Falling back to unencrypted event.",a),[3,4];case 4:return[2,{clearEvent:{room_id:e.getRoomId(),type:"m.room.message",content:{},unsigned:{redacted_because:n}}}];case 5:return o=e.getWireContent(),[2,t.getRoomDecryptor(e.getRoomId(),o.algorithm).decryptEvent(e)];case 6:return[2]}}))}))()}},{key:"handleDeviceListChanges",value:function(e,t){var r=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e.oldSyncToken?[4,r.evalDeviceListChanges(t)]:[2];case 1:return n.sent(),[2]}}))}))()}},{key:"requestRoomKey",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this;return this.outgoingRoomKeyRequestManager.queueRoomKeyRequest(e,t,r).then((function(){n.sendKeyRequestsImmediately&&n.outgoingRoomKeyRequestManager.sendQueuedRequests()})).catch((function(e){m.logger.error("Error requesting key for event",e)}))}},{key:"cancelRoomKeyRequest",value:function(e){this.outgoingRoomKeyRequestManager.cancelRoomKeyRequest(e).catch((function(e){m.logger.warn("Error clearing pending room key requests",e)}))}},{key:"cancelAndResendAllOutgoingKeyRequests",value:function(){var e=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.outgoingRoomKeyRequestManager.cancelAndResendAllOutgoingRequests()];case 1:return t.sent(),[2]}}))}))()}},{key:"onCryptoEvent",value:function(e,t){var r=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return n=t.getContent(),[4,r.setRoomEncryptionImpl(e,n)];case 1:return i.sent(),[2]}}))}))()}},{key:"onSyncWillProcess",value:function(e){var t=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(r){return e.oldSyncToken||(m.logger.log("Initial sync performed - resetting device tracking state"),t.deviceList.stopTrackingAllDeviceLists(),t.deviceList.startTrackingDeviceList(t.userId),t.roomDeviceTrackingState={}),t.sendKeyRequestsImmediately=!1,[2]}))}))()}},{key:"onSyncCompleted",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,l.__generator)(this,(function(n){return t.deviceList.setSyncToken(null!==(r=e.nextSyncToken)&&void 0!==r?r:null),t.deviceList.saveIfDirty(),t.deviceList.startTrackingDeviceList(t.userId),t.deviceList.refreshOutdatedDeviceLists(),e.catchingUp||(t.maybeUploadOneTimeKeys(),t.processReceivedRoomKeyRequests(),t.outgoingRoomKeyRequestManager.sendQueuedRequests(),t.sendKeyRequestsImmediately=!0),[2]}))}))()}},{key:"evalDeviceListChanges",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return Array.isArray(null==e?void 0:e.changed)&&e.changed.forEach((function(e){t.deviceList.invalidateUserDeviceList(e)})),Array.isArray(null==e?void 0:e.left)&&e.left.length?(n=Set.bind,[4,t.getTrackedE2eUsers()]):[3,2];case 1:r=new(n.apply(Set,[void 0,i.sent()])),e.left.forEach((function(e){r.has(e)||t.deviceList.stopTrackingDeviceList(e)})),i.label=2;case 2:return[2]}}))}))()}},{key:"getTrackedE2eUsers",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,u,c,f,d,h,v,p;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:t=[],r=!0,n=!1,i=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),a=e.getTrackedE2eRooms()[Symbol.iterator](),l.label=2;case 2:return(r=(o=a.next()).done)?[3,5]:[4,o.value.getEncryptionTargetMembers()];case 3:s=l.sent(),u=!0,c=!1,f=void 0;try{for(d=s[Symbol.iterator]();!(u=(h=d.next()).done);u=!0)v=h.value,t.push(v.userId)}catch(e){c=!0,f=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}l.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return p=l.sent(),n=!0,i=p,[3,8];case 7:try{r||null==a.return||a.return()}finally{if(n)throw i}return[7];case 8:return[2,t]}}))}))()}},{key:"getTrackedE2eRooms",value:function(){var e=this;return this.clientStore.getRooms().filter((function(t){if(!e.roomEncryptors.get(t.roomId))return!1;if(!e.roomDeviceTrackingState[t.roomId])return!1;var r=t.getMyMembership();return"join"===r||"invite"===r}))}},{key:"encryptAndSendToDevices",value:function(e,t){var r=this;return(0,n.default)((function(){var i,a,s;return(0,l.__generator)(this,(function(u){switch(u.label){case 0:i={eventType:b.EventType.RoomMessageEncrypted,batch:[]},u.label=1;case 1:return u.trys.push([1,7,,8]),[4,Promise.all(e.map((c=(0,n.default)((function(e){var n,a,s,u;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:return n=e.userId,a=e.deviceInfo,s=a.deviceId,u=(0,o.default)({algorithm:y.OLM_ALGORITHM,sender_key:r.olmDevice.deviceCurve25519Key,ciphertext:{}},b.ToDeviceMessageId,(0,p.default)()),i.batch.push({userId:n,deviceId:s,payload:u}),[4,y.ensureOlmSessionsForDevices(r.olmDevice,r.baseApis,(0,o.default)({},n,[a]))];case 1:return c.sent(),[4,y.encryptMessageForDevice(u.ciphertext,r.userId,r.deviceId,r.olmDevice,n,a,t)];case 2:return c.sent(),[2]}}))})),function(e){return c.apply(this,arguments)})))];case 2:u.sent(),i.batch=i.batch.filter((function(e){return Object.keys(e.payload.ciphertext).length>0||(m.logger.log("No ciphertext for device ".concat(e.userId,":").concat(e.deviceId,": pruning")),!1)})),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,r.baseApis.queueToDevice(i)];case 4:return u.sent(),[3,6];case 5:throw a=u.sent(),m.logger.error("sendToDevice failed",a),a;case 6:return[3,8];case 7:throw s=u.sent(),m.logger.error("encryptAndSendToDevices promises failed",s),s;case 8:return[2]}var c}))}))()}},{key:"preprocessToDeviceMessages",value:function(e){return(0,n.default)((function(){return(0,l.__generator)(this,(function(t){return[2,e.filter((function(e){var t;return!(e.type===b.EventType.RoomMessageEncrypted&&!["m.olm.v1.curve25519-aes-sha2"].includes(null===(t=e.content)||void 0===t?void 0:t.algorithm))||(m.logger.log("Ignoring invalid encrypted to-device event from "+e.sender),!1)}))]}))}))()}},{key:"onRoomKeyEvent",value:function(e){var t=e.getContent();t.room_id&&t.algorithm?(this.backupManager.checkedForBackup||this.backupManager.checkAndStart(),this.getRoomDecryptor(t.room_id,t.algorithm).onRoomKeyEvent(e)):m.logger.error("key event is missing fields")}},{key:"onRoomKeyWithheldEvent",value:function(e){var t=e.getContent();if(("m.no_olm"===t.code||t.room_id&&t.session_id)&&t.algorithm&&t.sender_key){m.logger.info("Got room key withheld event from ".concat(e.getSender()," ")+"for ".concat(t.algorithm," session ").concat(t.sender_key,"|").concat(t.session_id," ")+"in room ".concat(t.room_id," with code ").concat(t.code," (").concat(t.reason,")"));var r=this.getRoomDecryptor(t.room_id,t.algorithm);if(r.onRoomKeyWithheldEvent&&r.onRoomKeyWithheldEvent(e),!t.room_id){var n=this.getRoomDecryptors(t.algorithm),i=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.retryDecryptionFromSender(t.sender_key)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}}else m.logger.error("key withheld event is missing fields")}},{key:"onKeyVerificationMessage",value:function(e){var t=this;if(P.ToDeviceChannel.validateEvent(e,this.baseApis)){this.handleVerificationEvent(e,this.toDeviceVerificationRequests,(function(e){if(P.ToDeviceChannel.canCreateRequest(P.ToDeviceChannel.getEventType(e))){var r=e.getContent(),n=r&&r.from_device;if(n){var i=e.getSender(),a=new P.ToDeviceChannel(t.baseApis,i,[n]);return new O.VerificationRequest(a,t.verificationMethods,t.baseApis)}}}))}}},{key:"handleVerificationEvent",value:function(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this;return(0,n.default)((function(){var n,o,s,u,c,f;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(!e.isSending()||e.status==K.EventStatus.SENT)return[3,5];l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,new Promise((function(t,r){n=t,o=function(){e.status==K.EventStatus.CANCELLED&&r(new Error("Event status set to CANCELLED."))},e.once(K.MatrixEventEvent.LocalEventIdReplaced,n),e.on(K.MatrixEventEvent.Status,o)}))];case 2:return l.sent(),[3,5];case 3:return s=l.sent(),m.logger.error("error while waiting for the verification event to be sent: ",s),[2];case 4:return e.removeListener(K.MatrixEventEvent.LocalEventIdReplaced,n),e.removeListener(K.MatrixEventEvent.Status,o),[7];case 5:if(u=t.getRequest(e),c=!1,!u){if(!(u=r(e)))return m.logger.log("Crypto: could not find VerificationRequest for "+"".concat(e.getType(),", and could not create one, so ignoring.")),[2];c=!0,t.setRequest(e,u)}e.setVerificationRequest(u),l.label=6;case 6:return l.trys.push([6,8,,9]),[4,u.channel.handleEvent(e,u,i)];case 7:return l.sent(),[3,9];case 8:return f=l.sent(),m.logger.error("error while handling verification event",f),[3,9];case 9:return c&&!u.initiatedByMe&&!u.invalid&&!u.observeOnly&&a.baseApis.emit(ee.VerificationRequest,u),[2]}}))}))()}},{key:"onToDeviceBadEncrypted",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,s,u,c,f,d,h,v,g,$,w,_,S;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return r=e.getWireContent(),n=e.getSender(),i=r.algorithm,a=r.sender_key,s=function(){var e=t.getRoomDecryptors(y.MEGOLM_ALGORITHM),r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){o.value.retryDecryptionFromSender(a)}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}},void 0===n||void 0===a||void 0===a?[2]:(t.lastNewSessionForced[n]=t.lastNewSessionForced[n]||{},(u=t.lastNewSessionForced[n][a]||0)+36e5>Date.now()?(m.logger.debug("New session already forced with device "+n+":"+a+" at "+u+": not forcing another"),[4,t.olmDevice.recordSessionProblem(a,"wedged",!0)]):[3,2]);case 1:case 4:return l.sent(),s(),[2];case 2:return(c=t.deviceList.getDeviceByIdentityKey(i,a))?[3,5]:[4,t.downloadKeys([n],!1)];case 3:return l.sent(),(c=t.deviceList.getDeviceByIdentityKey(i,a))?[3,5]:(m.logger.info("Couldn't find device for identity key "+a+": not re-establishing session"),[4,t.olmDevice.recordSessionProblem(a,"wedged",!1)]);case 5:return(f={})[n]=[c],[4,y.ensureOlmSessionsForDevices(t.olmDevice,t.baseApis,f,!0)];case 6:return l.sent(),t.lastNewSessionForced[n][a]=Date.now(),d=(0,o.default)({algorithm:y.OLM_ALGORITHM,sender_key:t.olmDevice.deviceCurve25519Key,ciphertext:{}},b.ToDeviceMessageId,(0,p.default)()),[4,y.encryptMessageForDevice(d.ciphertext,t.userId,t.deviceId,t.olmDevice,n,c,{type:"m.dummy"})];case 7:return l.sent(),[4,t.olmDevice.recordSessionProblem(a,"wedged",!0)];case 8:return l.sent(),s(),[4,t.baseApis.sendToDevice("m.room.encrypted",(0,o.default)({},n,(0,o.default)({},c.deviceId,d)))];case 9:return l.sent(),[4,t.outgoingRoomKeyRequestManager.getOutgoingSentRoomKeyRequest(n,c.deviceId)];case 10:h=l.sent(),v=!0,g=!1,$=void 0;try{for(w=h[Symbol.iterator]();!(v=(_=w.next()).done);v=!0)S=_.value,t.requestRoomKey(S.requestBody,S.recipients,!0)}catch(e){g=!0,$=e}finally{try{v||null==w.return||w.return()}finally{if(g)throw $}}return[2]}}))}))()}},{key:"onRoomMembership",value:function(e,t,r){var n=t.roomId,i=this.roomEncryptors.get(n);if(i){var a;if(n in this.roomDeviceTrackingState)"join"==t.membership?(m.logger.log("Join event for "+t.userId+" in "+n),this.deviceList.startTrackingDeviceList(t.userId)):"invite"==t.membership&&null!==(a=this.clientStore.getRoom(n))&&void 0!==a&&a.shouldEncryptForInvitedMembers()&&(m.logger.log("Invite event for "+t.userId+" in "+n),this.deviceList.startTrackingDeviceList(t.userId));i.onRoomMembership(e,t,r)}}},{key:"onRoomKeyRequestEvent",value:function(e){var t=e.getContent();if("request"===t.action){var r=new ie(e);this.receivedRoomKeyRequests.push(r)}else if("request_cancellation"===t.action){var n=new ae(e);this.receivedRoomKeyRequestCancellations.push(n)}}},{key:"processReceivedRoomKeyRequests",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:if(e.processingRoomKeyRequests)return[2];e.processingRoomKeyRequests=!0,i.label=1;case 1:return i.trys.push([1,4,5,6]),t=e.receivedRoomKeyRequests,e.receivedRoomKeyRequests=[],r=e.receivedRoomKeyRequestCancellations,e.receivedRoomKeyRequestCancellations=[],[4,Promise.all(t.map((function(t){return e.processReceivedRoomKeyRequest(t)})))];case 2:return i.sent(),[4,Promise.all(r.map((function(t){return e.processReceivedRoomKeyRequestCancellation(t)})))];case 3:return i.sent(),[3,6];case 4:return n=i.sent(),m.logger.error("Error processing room key requsts: ".concat(n)),[3,6];case 5:return e.processingRoomKeyRequests=!1,[7];case 6:return[2]}}))}))()}},{key:"processReceivedRoomKeyRequest",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,f;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(r=e.userId,n=e.deviceId,i=e.requestBody,a=i.room_id,o=i.algorithm,m.logger.log("m.room_key_request from ".concat(r,":").concat(n)+" for ".concat(a," / ").concat(i.session_id," (id ").concat(e.requestId,")")),r===t.userId)return[3,5];if(!t.roomEncryptors.get(a))return m.logger.debug("room key request for unencrypted room ".concat(a)),[2];if(s=t.roomEncryptors.get(a),!(u=t.deviceList.getStoredDevice(r,n)))return m.logger.debug("Ignoring keyshare for unknown device ".concat(r,":").concat(n)),[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,s.reshareKeyWithDevice(i.sender_key,i.session_id,r,u)];case 2:return l.sent(),[3,4];case 3:return c=l.sent(),m.logger.warn("Failed to re-share keys for session "+i.session_id+" with device "+r+":"+u.deviceId,c),[3,4];case 4:return[2];case 5:return n===t.deviceId?(m.logger.log("Ignoring room key request from ourselves"),[2]):t.roomDecryptors.has(a)?(f=t.roomDecryptors.get(a).get(o))?[4,f.hasKeysForKeyRequest(e)]:(m.logger.log("room key request for unknown alg ".concat(o," in room ").concat(a)),[2]):(m.logger.log("room key request for unencrypted room ".concat(a)),[2]);case 6:return l.sent()?(e.share=function(){f.shareKeysWithDevice(e)},t.checkDeviceTrust(r,n).isVerified()?(m.logger.log("device is already verified: sharing keys"),e.share(),[2]):(t.emit(ee.RoomKeyRequest,e),[2])):(m.logger.log("room key request for unknown session ".concat(a," / ")+i.session_id),[2])}}))}))()}},{key:"processReceivedRoomKeyRequestCancellation",value:function(e){var t=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(r){return m.logger.log("m.room_key_request cancellation for ".concat(e.userId,":")+"".concat(e.deviceId," (id ").concat(e.requestId,")")),t.emit(ee.RoomKeyRequestCancellation,e),[2]}))}))()}},{key:"getRoomDecryptor",value:function(e,t){var r,n;if(e&&((r=this.roomDecryptors.get(e))||(r=new Map,this.roomDecryptors.set(e,r)),n=r.get(t)))return n;var i=S.DECRYPTION_CLASSES.get(t);if(!i)throw new S.DecryptionError("UNKNOWN_ENCRYPTION_ALGORITHM",'Unknown encryption algorithm "'+t+'".');return n=new i({userId:this.userId,crypto:this,olmDevice:this.olmDevice,baseApis:this.baseApis,roomId:null!=e?e:void 0}),r&&r.set(t,n),n}},{key:"getRoomDecryptors",value:function(e){var t=[],r=!0,n=!1,i=void 0;try{for(var a,o=this.roomDecryptors.values()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s.has(e)&&t.push(s.get(e))}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"signObject",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return r=e.signatures||{},n=e.unsigned,delete e.signatures,delete e.unsigned,r[t.userId]=r[t.userId]||{},i=r[t.userId],a="ed25519:"+t.deviceId,[4,t.olmDevice.sign(v.default.stringify(e))];case 1:return i[a]=o.sent(),e.signatures=r,void 0!==n&&(e.unsigned=n),[2]}}))}))()}}],[{key:"getOlmVersion",value:function(){return $.OlmDevice.getOlmVersion()}}]),d}(W.TypedEventEmitter);function ne(e){if("string"!=typeof e||e.indexOf(",")<0)return null;var t=Uint8Array.from(e.split(","),(function(e){return parseInt(e)}));return y.encodeBase64(t)}e.exports.Crypto=re;var ie=function e(t){"use strict";(0,i.default)(this,e),(0,h.default)(this,"userId",void 0),(0,h.default)(this,"deviceId",void 0),(0,h.default)(this,"requestId",void 0),(0,h.default)(this,"requestBody",void 0),(0,h.default)(this,"share",void 0);var r=t.getContent();this.userId=t.getSender(),this.deviceId=r.requesting_device_id,this.requestId=r.request_id,this.requestBody=r.body||{},this.share=function(){throw new Error("don't know how to share keys for this request yet")}};e.exports.IncomingRoomKeyRequest=ie;var ae=function e(t){"use strict";(0,i.default)(this,e),(0,h.default)(this,"userId",void 0),(0,h.default)(this,"deviceId",void 0),(0,h.default)(this,"requestId",void 0);var r=t.getContent();this.userId=t.getSender(),this.deviceId=r.requesting_device_id,this.requestId=r.request_id}})),parcelRequire.register("cCGPi",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("caN7I"),u=parcelRequire("9PuT7"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WITHHELD_MESSAGES=e.exports.PayloadTooLargeError=e.exports.OlmDevice=void 0;var d=f(parcelRequire("abzte")),h=parcelRequire("fKX3v"),v=parcelRequire("g10a3"),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("2noXW"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}var g=function(e){(0,o.default)(n,e);var t=(0,c.default)(n);function n(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var u;return(0,i.default)(this,n),u=t.call.apply(t,[this].concat((0,s.default)(a))),(0,d.default)((0,r.default)(u),"data",{errcode:"M_TOO_LARGE",error:"Payload too large for encrypted message"}),u}return n}((0,u.default)(Error));function m(e){if(void 0===e)throw new Error("payloadString undefined");if(e.length>49152)throw new g("Message too long (".concat(e.length," bytes). ")+"The maximum for an encrypted message is ".concat(49152," bytes."))}e.exports.PayloadTooLargeError=g;var $=function(){function e(t){(0,i.default)(this,e),this.cryptoStore=t,(0,d.default)(this,"pickleKey","DEFAULT_KEY"),(0,d.default)(this,"deviceCurve25519Key",null),(0,d.default)(this,"deviceEd25519Key",null),(0,d.default)(this,"maxOneTimeKeys",null),(0,d.default)(this,"outboundGroupSessionStore",{}),(0,d.default)(this,"inboundGroupSessionMessageIndexes",{}),(0,d.default)(this,"sessionsInProgress",{}),(0,d.default)(this,"olmPrekeyPromise",Promise.resolve())}return(0,a.default)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pickleKey,r=e.fromExportedDevice,i=this;return(0,n.default)((function(){var e,n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:n=new $parcel$global.Olm.Account,a.label=1;case 1:return a.trys.push([1,,6,7]),r?(t&&h.logger.warn("ignoring opts.pickleKey because opts.fromExportedDevice is present."),i.pickleKey=r.pickleKey,[4,i.initialiseFromExportedDevice(r,n)]):[3,3];case 2:return a.sent(),[3,5];case 3:return t&&(i.pickleKey=t),[4,i.initialiseAccount(n)];case 4:a.sent(),a.label=5;case 5:return e=JSON.parse(n.identity_keys()),i.maxOneTimeKeys=n.max_number_of_one_time_keys(),[3,7];case 6:return n.free(),[7];case 7:return i.deviceCurve25519Key=e.curve25519,i.deviceEd25519Key=e.ed25519,[2]}}))}))()}},{key:"initialiseFromExportedDevice",value:function(e,t){var r=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,r.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT,v.IndexedDBCryptoStore.STORE_SESSIONS],(function(t){r.cryptoStore.storeAccount(t,e.pickledAccount),e.sessions.forEach((function(e){var n=e.deviceKey,i=e.sessionId,a={session:e.session,lastReceivedMessageTs:e.lastReceivedMessageTs};r.cryptoStore.storeEndToEndSession(n,i,a,t)}))}))];case 1:return n.sent(),t.unpickle(r.pickleKey,e.pickledAccount),[2]}}))}))()}},{key:"initialiseAccount",value:function(e){var t=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(r){t.cryptoStore.getAccount(r,(function(n){null!==n?e.unpickle(t.pickleKey,n):(e.create(),n=e.pickle(t.pickleKey),t.cryptoStore.storeAccount(r,n))}))}))];case 1:return r.sent(),[2]}}))}))()}},{key:"getAccount",value:function(e,t){var r=this;this.cryptoStore.getAccount(e,(function(e){var n=new $parcel$global.Olm.Account;try{n.unpickle(r.pickleKey,e),t(n)}finally{n.free()}}))}},{key:"storeAccount",value:function(e,t){this.cryptoStore.storeAccount(e,t.pickle(this.pickleKey))}},{key:"export",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return t={pickleKey:e.pickleKey},[4,e.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT,v.IndexedDBCryptoStore.STORE_SESSIONS],(function(r){e.cryptoStore.getAccount(r,(function(e){t.pickledAccount=e})),t.sessions=[],e.cryptoStore.getAllEndToEndSessions(r,(function(e){t.sessions.push(e)}))}))];case 1:return r.sent(),[2,t]}}))}))()}},{key:"getSession",value:function(e,t,r,n){var i=this;this.cryptoStore.getEndToEndSession(e,t,r,(function(e){i.unpickleSession(e,n)}))}},{key:"unpickleSession",value:function(e,t){var r=new $parcel$global.Olm.Session;try{r.unpickle(this.pickleKey,e.session),t(Object.assign({},e,{session:r}))}finally{r.free()}}},{key:"saveSession",value:function(e,t,r){var n=t.session.session_id(),i=Object.assign(t,{session:t.session.pickle(this.pickleKey)});this.cryptoStore.storeEndToEndSession(e,n,i,r)}},{key:"getUtility",value:function(e){var t=new $parcel$global.Olm.Utility;try{return e(t)}finally{t.free()}}},{key:"sign",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(n){t.getAccount(n,(function(t){r=t.sign(e)}))}))];case 1:return n.sent(),[2,r]}}))}))()}},{key:"getOneTimeKeys",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(r){e.getAccount(r,(function(e){t=JSON.parse(e.one_time_keys())}))}))];case 1:return r.sent(),[2,t]}}))}))()}},{key:"maxNumberOfOneTimeKeys",value:function(){var e;return null!==(e=this.maxOneTimeKeys)&&void 0!==e?e:-1}},{key:"markKeysAsPublished",value:function(){var e=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(t){e.getAccount(t,(function(r){r.mark_keys_as_published(),e.storeAccount(t,r)}))}))];case 1:return t.sent(),[2]}}))}))()}},{key:"generateOneTimeKeys",value:function(e){var t=this;return this.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(r){t.getAccount(r,(function(n){n.generate_one_time_keys(e),t.storeAccount(r,n)}))}))}},{key:"generateFallbackKey",value:function(){var e=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(t){e.getAccount(t,(function(r){r.generate_fallback_key(),e.storeAccount(t,r)}))}))];case 1:return t.sent(),[2]}}))}))()}},{key:"getFallbackKey",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(r){e.getAccount(r,(function(e){t=JSON.parse(e.unpublished_fallback_key())}))}))];case 1:return r.sent(),[2,t]}}))}))()}},{key:"forgetOldFallbackKey",value:function(){var e=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(function(t){e.getAccount(t,(function(r){r.forget_old_fallback_key(),e.storeAccount(t,r)}))}))];case 1:return t.sent(),[2]}}))}))()}},{key:"createOutboundSession",value:function(e,t){var r=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return[4,r.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT,v.IndexedDBCryptoStore.STORE_SESSIONS],(function(i){r.getAccount(i,(function(a){var o=new $parcel$global.Olm.Session;try{o.create_outbound(a,e,t),n=o.session_id(),r.storeAccount(i,a);var s={session:o,lastReceivedMessageTs:Date.now()};r.saveSession(e,s,i)}finally{o.free()}}))}),h.logger.withPrefix("[createOutboundSession]"))];case 1:return i.sent(),[2,n]}}))}))()}},{key:"createInboundSession",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:if(0!==t)throw new Error("Need messageType == 0 to create inbound session");return[4,i.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT,v.IndexedDBCryptoStore.STORE_SESSIONS],(function(a){i.getAccount(a,(function(o){var s=new $parcel$global.Olm.Session;try{s.create_inbound_from(o,e,r),o.remove_one_time_keys(s),i.storeAccount(a,o);var u=s.decrypt(t,r),c={session:s,lastReceivedMessageTs:Date.now()};i.saveSession(e,c,a),n={payload:u,session_id:s.session_id()}}finally{s.free()}}))}),h.logger.withPrefix("[createInboundSession]"))];case 1:return a.sent(),[2,n]}}))}))()}},{key:"getSessionIdsForDevice",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:if(r=h.logger.withPrefix("[getSessionIdsForDevice]"),!(e in t.sessionsInProgress))return[3,4];r.debug("Waiting for Olm session for ".concat(e," to be created")),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.sessionsInProgress[e]];case 2:return i.sent(),[3,4];case 3:return i.sent(),[3,4];case 4:return[4,t.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_SESSIONS],(function(r){t.cryptoStore.getEndToEndSessions(e,r,(function(e){n=Object.keys(e)}))}),r)];case 5:return i.sent(),[2,n]}}))}))()}},{key:"getSessionIdForDevice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=this;return(0,n.default)((function(){var n,a,o,s,u,c,f;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return[4,i.getSessionInfoForDevice(e,t,r)];case 1:if(0===(n=l.sent()).length)return[2,null];for(a=0,o=1;o<n.length;o++)s=n[o],u=void 0===s.lastReceivedMessageTs?0:s.lastReceivedMessageTs,c=n[a],f=void 0===c.lastReceivedMessageTs?0:c.lastReceivedMessageTs,(u>f||u===f&&s.sessionId<c.sessionId)&&(a=o);return[2,n[a].sessionId]}}))}))()}},{key:"getSessionInfoForDevice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.logger,i=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:if(r=r.withPrefix("[getSessionInfoForDevice]"),!(e in i.sessionsInProgress)||t)return[3,4];r.debug("Waiting for Olm session for ".concat(e," to be created")),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.sessionsInProgress[e]];case 2:return a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return n=[],[4,i.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_SESSIONS],(function(t){i.cryptoStore.getEndToEndSessions(e,t,(function(e){var t=Object.keys(e).sort(),r=!0,a=!1,o=void 0;try{for(var s,u=function(){var t=s.value;i.unpickleSession(e[t],(function(e){n.push({lastReceivedMessageTs:e.lastReceivedMessageTs,hasReceivedMessage:e.session.has_received_message(),sessionId:t})}))},c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)u()}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}}))}),r)];case 5:return a.sent(),[2,n]}}))}))()}},{key:"encryptMessage",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return m(r),[4,i.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_SESSIONS],(function(a){i.getSession(e,t,a,(function(o){var s=o.session.describe();h.logger.log("encryptMessage: Olm Session ID "+t+" to "+e+": "+s),n=o.session.encrypt(r),i.saveSession(e,o,a)}))}),h.logger.withPrefix("[encryptMessage]"))];case 1:return a.sent(),[2,n]}}))}))()}},{key:"decryptMessage",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return[4,a.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_SESSIONS],(function(o){a.getSession(e,t,o,(function(s){var u=s.session.describe();h.logger.log("decryptMessage: Olm Session ID "+t+" from "+e+": "+u),n=s.session.decrypt(r,i),s.lastReceivedMessageTs=Date.now(),a.saveSession(e,s,o)}))}),h.logger.withPrefix("[decryptMessage]"))];case 1:return o.sent(),[2,n]}}))}))()}},{key:"matchesSession",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return 0!==r?[2,!1]:[4,a.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_SESSIONS],(function(r){a.getSession(e,t,r,(function(e){n=e.session.matches_inbound(i)}))}),h.logger.withPrefix("[matchesSession]"))];case 1:return o.sent(),[2,n]}}))}))()}},{key:"recordSessionProblem",value:function(e,t,r){var i=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return h.logger.info("Recording problem on olm session with ".concat(e," of type ").concat(t,". Recreating: ").concat(r)),[4,i.cryptoStore.storeEndToEndSessionProblem(e,t,r)];case 1:return n.sent(),[2]}}))}))()}},{key:"sessionMayHaveProblems",value:function(e,t){return this.cryptoStore.getEndToEndSessionProblem(e,t)}},{key:"filterOutNotifiedErrorDevices",value:function(e){return this.cryptoStore.filterOutNotifiedErrorDevices(e)}},{key:"saveOutboundGroupSession",value:function(e){this.outboundGroupSessionStore[e.session_id()]=e.pickle(this.pickleKey)}},{key:"getOutboundGroupSession",value:function(e,t){var r=this.outboundGroupSessionStore[e];if(void 0===r)throw new Error("Unknown outbound group session "+e);var n=new $parcel$global.Olm.OutboundGroupSession;try{return n.unpickle(this.pickleKey,r),t(n)}finally{n.free()}}},{key:"createOutboundGroupSession",value:function(){var e=new $parcel$global.Olm.OutboundGroupSession;try{return e.create(),this.saveOutboundGroupSession(e),e.session_id()}finally{e.free()}}},{key:"encryptGroupMessage",value:function(e,t){var r=this;return h.logger.log("encrypting msg with megolm session ".concat(e)),m(t),this.getOutboundGroupSession(e,(function(e){var n=e.encrypt(t);return r.saveOutboundGroupSession(e),n}))}},{key:"getOutboundGroupSessionKey",value:function(e){return this.getOutboundGroupSession(e,(function(e){return{chain_index:e.message_index(),key:e.session_key()}}))}},{key:"unpickleInboundGroupSession",value:function(e,t){var r=new $parcel$global.Olm.InboundGroupSession;try{return r.unpickle(this.pickleKey,e.session),t(r)}finally{r.free()}}},{key:"getInboundGroupSession",value:function(e,t,r,n,i){var a=this;this.cryptoStore.getEndToEndInboundGroupSession(t,r,n,(function(t,r){if(null!==t){if(null!==e&&e!==t.room_id)throw new Error("Mismatched room_id for inbound group session (expected "+t.room_id+", was "+e+")");a.unpickleInboundGroupSession(t,(function(e){i(e,t,r)}))}else i(null,null,r)}))}},{key:"addInboundGroupSession",value:function(e,t,r,i,a,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,c.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD,v.IndexedDBCryptoStore.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],(function(n){c.getInboundGroupSession(e,t,i,n,(function(l,f){var d=new $parcel$global.Olm.InboundGroupSession;try{if(s?d.import_session(a):d.create(a),i!=d.session_id())throw new Error("Mismatched group session ID from senderKey: "+t);if(l&&(h.logger.log("Update for megolm session ".concat(t,"|").concat(i)),l.first_known_index()<=d.first_known_index())){if(!f.untrusted||u.untrusted)return void h.logger.log("Keeping existing megolm session ".concat(t,"|").concat(i));if(l.first_known_index()<d.first_known_index())return void(l.export_session(d.first_known_index())===d.export_session(d.first_known_index())?(h.logger.info("Upgrading trust of existing megolm session "+"".concat(t,"|").concat(i," based on newly-received trusted session")),f.untrusted=!1,c.cryptoStore.storeEndToEndInboundGroupSession(t,i,f,n)):h.logger.warn("Newly-received megolm session ".concat(t,"|$sessionId}")+" does not match existing session! Keeping existing session"))}h.logger.info("Storing megolm session ".concat(t,"|").concat(i," with first index ")+d.first_known_index());var v=Object.assign({},u,{room_id:e,session:d.pickle(c.pickleKey),keysClaimed:o,forwardingCurve25519KeyChain:r});c.cryptoStore.storeEndToEndInboundGroupSession(t,i,v,n),!l&&u.sharedHistory&&c.cryptoStore.addSharedHistoryInboundGroupSession(e,t,i,n)}finally{d.free()}}))}),h.logger.withPrefix("[addInboundGroupSession]"))];case 1:return n.sent(),[2]}}))}))()}},{key:"addInboundGroupSessionWithheld",value:function(e,t,r,i,a){var o=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(function(n){o.cryptoStore.storeEndToEndInboundGroupSessionWithheld(t,r,{room_id:e,code:i,reason:a},n)}))];case 1:return n.sent(),[2]}}))}))()}},{key:"decryptGroupMessage",value:function(e,t,r,i,a,o){var s=this;return(0,n.default)((function(){var n,u;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:return n=null,[4,s.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(function(c){s.getInboundGroupSession(e,t,r,c,(function(e,l,f){if(null===e||null===l)return f&&(u=new p.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",w(f),{session:t+"|"+r})),void(n=null);var d;try{d=e.decrypt(i)}catch(e){return void(u="OLM.UNKNOWN_MESSAGE_INDEX"===(null==e?void 0:e.message)&&f?new p.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",w(f),{session:t+"|"+r}):e)}var h=d.plaintext;if(void 0===h)h=d;else{var v=t+"|"+r+"|"+d.message_index;if(v in s.inboundGroupSessionMessageIndexes){var b=s.inboundGroupSessionMessageIndexes[v];if(b.id!==a||b.timestamp!==o)return void(u=new Error("Duplicate message index, possible replay attack: "+v))}s.inboundGroupSessionMessageIndexes[v]={id:a,timestamp:o}}l.session=e.pickle(s.pickleKey),s.cryptoStore.storeEndToEndInboundGroupSession(t,r,l,c),n={result:h,keysClaimed:l.keysClaimed||{},senderKey:t,forwardingCurve25519KeyChain:l.forwardingCurve25519KeyChain||[],untrusted:!!l.untrusted}}))}),h.logger.withPrefix("[decryptGroupMessage]"))];case 1:if(c.sent(),u)throw u;return[2,n]}}))}))()}},{key:"hasInboundSessionKeys",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return[4,i.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(function(a){i.cryptoStore.getEndToEndInboundGroupSession(t,r,a,(function(i){null!==i?e!==i.room_id?(h.logger.warn("requested keys for inbound group session ".concat(t,"|")+"".concat(r,", with incorrect room_id ")+"(expected ".concat(i.room_id,", ")+"was ".concat(e,")")),n=!1):n=!0:n=!1}))}),h.logger.withPrefix("[hasInboundSessionKeys]"))];case 1:return a.sent(),[2,n]}}))}))()}},{key:"getInboundGroupSessionKey",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return n=null,[4,a.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(function(o){a.getInboundGroupSession(e,t,r,o,(function(e,t){if(null!==e&&null!==t){void 0===i&&(i=e.first_known_index());var r=e.export_session(i),a=(t.keysClaimed||{}).ed25519||null,o=t.forwardingCurve25519KeyChain||[],s="untrusted"in t?t.untrusted:o.length>0;n={chain_index:i,key:r,forwarding_curve25519_key_chain:o,sender_claimed_ed25519_key:a,shared_history:t.sharedHistory||!1,untrusted:s}}else n=null}))}),h.logger.withPrefix("[getInboundGroupSessionKey]"))];case 1:return o.sent(),[2,n]}}))}))()}},{key:"exportInboundGroupSession",value:function(e,t,r){return this.unpickleInboundGroupSession(r,(function(n){var i=n.first_known_index();return{sender_key:e,sender_claimed_keys:r.keysClaimed,room_id:r.room_id,session_id:t,session_key:n.export_session(i),forwarding_curve25519_key_chain:r.forwardingCurve25519KeyChain||[],first_known_index:n.first_known_index(),"org.matrix.msc3061.shared_history":r.sharedHistory||!1}}))}},{key:"getSharedHistoryInboundGroupSessions",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],(function(n){r=t.cryptoStore.getSharedHistoryInboundGroupSessions(e,n)}),h.logger.withPrefix("[getSharedHistoryInboundGroupSessionsForRoom]"))];case 1:return n.sent(),[2,r]}}))}))()}},{key:"verifySignature",value:function(e,t,r){this.getUtility((function(n){n.ed25519_verify(e,t,r)}))}}],[{key:"getOlmVersion",value:function(){return $parcel$global.Olm.get_library_version()}}]),e}();e.exports.OlmDevice=$;var y={"m.unverified":"The sender has disabled encrypting to unverified devices.","m.blacklisted":"The sender has blocked you.","m.unauthorised":"You are not authorised to read the message.","m.no_olm":"Unable to establish a secure channel."};function w(e){return e.code&&e.code in y?y[e.code]:e.reason?e.reason:"decryption key withheld"}e.exports.WITHHELD_MESSAGES=y})),parcelRequire.register("2noXW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),parcelRequire("htRd7"),parcelRequire("2UqYF");var r=parcelRequire("8ojMq");Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))}))})),parcelRequire.register("htRd7",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("caN7I"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq"),l=parcelRequire("hKgVN")(parcelRequire("abzte")),f=parcelRequire("fKX3v"),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("gbtEr")),h=parcelRequire("3jE4D"),v=parcelRequire("8ojMq");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var b=h.DeviceInfo.DeviceVerification,g=function(e){(0,o.default)(f,e);var t=(0,u.default)(f);function f(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o;return(0,i.default)(this,f),o=t.call.apply(t,[this].concat((0,s.default)(n))),(0,l.default)((0,r.default)(o),"sessionPrepared",!1),(0,l.default)((0,r.default)(o),"prepPromise",null),o}return(0,a.default)(f,[{key:"ensureSession",value:function(e){var t=this;return this.prepPromise?this.prepPromise:this.sessionPrepared?Promise.resolve():(this.prepPromise=this.crypto.downloadKeys(e).then((function(){return t.crypto.ensureOlmSessionsForUsers(e)})).then((function(){t.sessionPrepared=!0})).finally((function(){t.prepPromise=null})),this.prepPromise)}},{key:"encryptMessage",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s,u,l,f,h,v,p,g,m,$,y,w,_,S,C;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return[4,e.getEncryptionTargetMembers()];case 1:return n=c.sent(),a=n.map((function(e){return e.userId})),[4,i.ensureSession(a)];case 2:c.sent(),o={room_id:e.roomId,type:t,content:r},s={algorithm:d.OLM_ALGORITHM,sender_key:i.olmDevice.deviceCurve25519Key,ciphertext:{}},u=[],l=!0,f=!1,h=void 0;try{for(v=a[Symbol.iterator]();!(l=(p=v.next()).done);l=!0){g=p.value,m=i.crypto.getStoredDevicesForUser(g)||[],$=!0,y=!1,w=void 0;try{for(_=m[Symbol.iterator]();!($=(S=_.next()).done);$=!0)C=S.value,C.getIdentityKey()!=i.olmDevice.deviceCurve25519Key&&C.verified!=b.BLOCKED&&u.push(d.encryptMessageForDevice(s.ciphertext,i.userId,i.deviceId,i.olmDevice,g,C,o))}catch(e){y=!0,w=e}finally{try{$||null==_.return||_.return()}finally{if(y)throw w}}}}catch(e){f=!0,h=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw h}}return[2,Promise.all(u).then((function(){return s}))]}}))}))()}}]),f}(v.EncryptionAlgorithm),m=function(e){(0,o.default)(r,e);var t=(0,u.default)(r);function r(){return(0,i.default)(this,r),t.apply(this,arguments)}return(0,a.default)(r,[{key:"decryptEvent",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,l,f;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:if(r=e.getWireContent(),n=r.sender_key,!(i=r.ciphertext))throw new v.DecryptionError("OLM_MISSING_CIPHERTEXT","Missing ciphertext");if(!(t.olmDevice.deviceCurve25519Key in i))throw new v.DecryptionError("OLM_NOT_INCLUDED_IN_RECIPIENTS","Not included in recipients");a=i[t.olmDevice.deviceCurve25519Key],c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t.decryptMessage(n,a)];case 2:return o=c.sent(),[3,4];case 3:throw s=c.sent(),new v.DecryptionError("OLM_BAD_ENCRYPTED_MESSAGE","Bad Encrypted Message",{sender:n,err:s});case 4:if((u=JSON.parse(o)).recipient!=t.userId)throw new v.DecryptionError("OLM_BAD_RECIPIENT","Message was intented for "+u.recipient);if(u.recipient_keys.ed25519!=t.olmDevice.deviceEd25519Key)throw new v.DecryptionError("OLM_BAD_RECIPIENT_KEY","Message not intended for this device",{intended:u.recipient_keys.ed25519,our_key:t.olmDevice.deviceEd25519Key});return[4,t.crypto.deviceList.downloadKeys([e.getSender()],!1)];case 5:if(c.sent(),(l=t.crypto.deviceList.getUserByIdentityKey(d.OLM_ALGORITHM,n))!==e.getSender()&&null!=l)throw new v.DecryptionError("OLM_BAD_SENDER","Message claimed to be from "+e.getSender(),{real_sender:l});if(u.sender!=e.getSender())throw new v.DecryptionError("OLM_FORWARDED_MESSAGE","Message forwarded from "+u.sender,{reported_sender:e.getSender()});if(u.room_id!==e.getRoomId())throw new v.DecryptionError("OLM_BAD_ROOM","Message intended for room "+u.room_id,{reported_room:e.getRoomId()||"ROOM_ID_UNDEFINED"});return f=u.keys||{},[2,{clearEvent:u,senderCurve25519Key:n,claimedEd25519Key:f.ed25519||null}]}}))}))()}},{key:"decryptMessage",value:function(e,t){var r=this;if(0!==t.type)return this.reallyDecryptMessage(e,t);var n=this.olmDevice.olmPrekeyPromise.then((function(){return r.reallyDecryptMessage(e,t)}));return this.olmDevice.olmPrekeyPromise=n.catch((function(){})),n}},{key:"reallyDecryptMessage",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o,s,u,l,d,h,v,p,b,g;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return[4,r.olmDevice.getSessionIdsForDevice(e)];case 1:n=c.sent(),i={},a=!0,o=!1,s=void 0,c.label=2;case 2:c.trys.push([2,10,11,12]),u=n[Symbol.iterator](),c.label=3;case 3:if(a=(l=u.next()).done)return[3,9];d=l.value,c.label=4;case 4:return c.trys.push([4,6,,8]),[4,r.olmDevice.decryptMessage(e,d,t.type,t.body)];case 5:return h=c.sent(),f.logger.log("Decrypted Olm message from "+e+" with session "+d),[2,h];case 6:return v=c.sent(),[4,r.olmDevice.matchesSession(e,d,t.type,t.body)];case 7:if(c.sent())throw new Error("Error decrypting prekey message with existing session id "+d+": "+v.message);return i[d]=v.message,[3,8];case 8:return a=!0,[3,3];case 9:return[3,12];case 10:return p=c.sent(),o=!0,s=p,[3,12];case 11:try{a||null==u.return||u.return()}finally{if(o)throw s}return[7];case 12:if(0!==t.type){if(0===n.length)throw new Error("No existing sessions");throw new Error("Error decrypting non-prekey message with existing sessions: "+JSON.stringify(i))}c.label=13;case 13:return c.trys.push([13,15,,16]),[4,r.olmDevice.createInboundSession(e,t.type,t.body)];case 14:return b=c.sent(),[3,16];case 15:throw g=c.sent(),i["(new)"]=g.message,new Error("Error decrypting prekey message: "+JSON.stringify(i));case 16:return f.logger.log("created new inbound Olm session ID "+b.session_id+" with "+e),[2,b.payload]}}))}))()}}]),r}(v.DecryptionAlgorithm);(0,v.registerAlgorithm)(d.OLM_ALGORITHM,g,m)})),parcelRequire.register("8ojMq",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("9PuT7"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq"),l=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UnknownDeviceError=e.exports.EncryptionAlgorithm=e.exports.ENCRYPTION_CLASSES=e.exports.DecryptionError=e.exports.DecryptionAlgorithm=e.exports.DECRYPTION_CLASSES=void 0,e.exports.registerAlgorithm=function(e,t,r){d.set(e,t),h.set(e,r)};var f=l(parcelRequire("abzte")),d=new Map;e.exports.ENCRYPTION_CLASSES=d;var h=new Map;e.exports.DECRYPTION_CLASSES=h;var v=function(){function e(t){(0,i.default)(this,e),(0,f.default)(this,"userId",void 0),(0,f.default)(this,"deviceId",void 0),(0,f.default)(this,"crypto",void 0),(0,f.default)(this,"olmDevice",void 0),(0,f.default)(this,"baseApis",void 0),(0,f.default)(this,"roomId",void 0),this.userId=t.userId,this.deviceId=t.deviceId,this.crypto=t.crypto,this.olmDevice=t.olmDevice,this.baseApis=t.baseApis,this.roomId=t.roomId}return(0,a.default)(e,[{key:"prepareToEncrypt",value:function(e){}},{key:"onRoomMembership",value:function(e,t,r){}}]),e}();e.exports.EncryptionAlgorithm=v;var p=function(){function e(t){(0,i.default)(this,e),(0,f.default)(this,"userId",void 0),(0,f.default)(this,"crypto",void 0),(0,f.default)(this,"olmDevice",void 0),(0,f.default)(this,"baseApis",void 0),(0,f.default)(this,"roomId",void 0),this.userId=t.userId,this.crypto=t.crypto,this.olmDevice=t.olmDevice,this.baseApis=t.baseApis,this.roomId=t.roomId}return(0,a.default)(e,[{key:"onRoomKeyEvent",value:function(e){return(0,n.default)((function(){return(0,c.__generator)(this,(function(e){return[2]}))}))()}},{key:"importRoomKey",value:function(e,t){return(0,n.default)((function(){return(0,c.__generator)(this,(function(e){return[2]}))}))()}},{key:"hasKeysForKeyRequest",value:function(e){return Promise.resolve(!1)}},{key:"shareKeysWithDevice",value:function(e){throw new Error("shareKeysWithDevice not supported for this DecryptionAlgorithm")}},{key:"retryDecryptionFromSender",value:function(e){return(0,n.default)((function(){return(0,c.__generator)(this,(function(e){return[2,!1]}))}))()}}]),e}();e.exports.DecryptionAlgorithm=p;var b=function(e){(0,o.default)(n,e);var t=(0,u.default)(n);function n(e,a,o){var s;return(0,i.default)(this,n),(s=t.call(this,a)).code=e,(0,f.default)((0,r.default)(s),"detailedString",void 0),s.code=e,s.name="DecryptionError",s.detailedString=function(e,t){var r=e.name+"[msg: "+e.message;t&&(r+=", "+Object.keys(t).map((function(e){return e+": "+t[e]})).join(", "));return r+="]"}((0,r.default)(s),o),s}return n}((0,s.default)(Error));e.exports.DecryptionError=b;var g=function(e){(0,o.default)(r,e);var t=(0,u.default)(r);function r(e,n,a){var o;return(0,i.default)(this,r),(o=t.call(this,e)).devices=n,o.event=a,o.name="UnknownDeviceError",o.devices=n,o}return r}((0,s.default)(Error));e.exports.UnknownDeviceError=g})),parcelRequire.register("2UqYF",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("dVhHy"),c=parcelRequire("caN7I"),l=parcelRequire("8rJSp"),f=parcelRequire("cDTRq"),d=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MegolmEncryption=e.exports.MegolmDecryption=void 0,e.exports.isRoomSharedHistory=C;var h=d(parcelRequire("abzte")),v=parcelRequire("1Pjj8"),p=parcelRequire("fKX3v"),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("gbtEr")),g=parcelRequire("8ojMq"),m=parcelRequire("cCGPi"),$=parcelRequire("axSuM"),y=parcelRequire("cFOv1");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t,r,n=null==e||null===(t=e.currentState)||void 0===t?void 0:t.getStateEvents("m.room.history_visibility",""),i=null==n||null===(r=n.getContent())||void 0===r?void 0:r.history_visibility;return["world_readable","shared"].includes(i)}var k=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,i.default)(this,e),this.sessionId=t,this.sharedHistory=r,(0,h.default)(this,"useCount",0),(0,h.default)(this,"creationTime",void 0),(0,h.default)(this,"sharedWithDevices",{}),(0,h.default)(this,"blockedDevicesNotified",{}),this.creationTime=(new Date).getTime()}return(0,a.default)(e,[{key:"needsRotation",value:function(e,t){var r=(new Date).getTime()-this.creationTime;return(this.useCount>=e||r>=t)&&(p.logger.log("Rotating megolm session after "+this.useCount+" messages, "+r+"ms"),!0)}},{key:"markSharedWithDevice",value:function(e,t,r,n){this.sharedWithDevices[e]||(this.sharedWithDevices[e]={}),this.sharedWithDevices[e][t]={deviceKey:r,messageIndex:n}}},{key:"markNotifiedBlockedDevice",value:function(e,t){this.blockedDevicesNotified[e]||(this.blockedDevicesNotified[e]={}),this.blockedDevicesNotified[e][t]=!0}},{key:"sharedWithTooManyDevices",value:function(e){for(var t in this.sharedWithDevices)if(this.sharedWithDevices.hasOwnProperty(t)){if(!e.hasOwnProperty(t))return p.logger.log("Starting new megolm session because we shared with "+t),!0;for(var r in this.sharedWithDevices[t])if(this.sharedWithDevices[t].hasOwnProperty(r)&&!e[t].hasOwnProperty(r))return p.logger.log("Starting new megolm session because we shared with "+t+":"+r),!0}return!1}}]),e}(),E=function(e){(0,s.default)(c,e);var t=(0,l.default)(c);function c(e){var n,a,o,s,u;return(0,i.default)(this,c),n=t.call(this,e),(0,h.default)((0,r.default)(n),"setupPromise",Promise.resolve(null)),(0,h.default)((0,r.default)(n),"outboundSessions",{}),(0,h.default)((0,r.default)(n),"sessionRotationPeriodMsgs",void 0),(0,h.default)((0,r.default)(n),"sessionRotationPeriodMs",void 0),(0,h.default)((0,r.default)(n),"encryptionPreparation",void 0),(0,h.default)((0,r.default)(n),"roomId",void 0),n.roomId=e.roomId,n.sessionRotationPeriodMsgs=null!==(a=null===(o=e.config)||void 0===o?void 0:o.rotation_period_msgs)&&void 0!==a?a:100,n.sessionRotationPeriodMs=null!==(s=null===(u=e.config)||void 0===u?void 0:u.rotation_period_ms)&&void 0!==s?s:6048e5,n}return(0,a.default)(c,[{key:"ensureOutboundSession",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this;return(0,n.default)((function(){var o,s;return(0,f.__generator)(this,(function(u){var c;return c=(0,n.default)((function(n){var o,s;return(0,f.__generator)(this,(function(u){switch(u.label){case 0:return o=C(e),[4,a.prepareSession(t,o,n)];case 1:return s=u.sent(),[4,a.shareSession(t,o,i,r,s)];case 2:return u.sent(),[2,s]}}))})),o=function(e){return c.apply(this,arguments)},s=a.setupPromise.then(o),a.setupPromise=s.catch((function(e){return p.logger.error("Failed to setup outbound session in ".concat(a.roomId),e),null})),[2,s]}))}))()}},{key:"prepareSession",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a;return(0,f.__generator)(this,(function(o){switch(o.label){case 0:return r&&t!==r.sharedHistory&&(r=null),null!==(n=r)&&void 0!==n&&n.needsRotation(i.sessionRotationPeriodMsgs,i.sessionRotationPeriodMs)&&(p.logger.log("Starting new megolm session because we need to rotate."),r=null),null!==(a=r)&&void 0!==a&&a.sharedWithTooManyDevices(e)&&(r=null),r?[3,2]:(p.logger.log("Starting new megolm session for room ".concat(i.roomId)),[4,i.prepareNewSession(t)]);case 1:r=o.sent(),p.logger.log("Started new megolm session ".concat(r.sessionId," ")+"for room ".concat(i.roomId)),i.outboundSessions[r.sessionId]=r,o.label=2;case 2:return[2,r]}}))}))()}},{key:"shareSession",value:function(e,t,r,i,a){var o=this;return(0,n.default)((function(){var s,c,l,d,h,v,g,m,$,y,w,_,S,C,k,E,R,x,M,I,T,A;return(0,f.__generator)(this,(function(O){switch(O.label){case 0:s={},c=!0,l=!1,d=void 0,h=!0,v=!1,g=void 0;try{for(m=Object.entries(e)[Symbol.iterator]();!(h=($=m.next()).done);h=!0){y=(0,u.default)($.value,2),w=y[0],_=y[1];try{for(S=Object.entries(_)[Symbol.iterator]();!(c=(C=S.next()).done);c=!0)k=(0,u.default)(C.value,2),E=k[0],R=k[1],R.getIdentityKey()!=o.olmDevice.deviceCurve25519Key&&(a.sharedWithDevices[w]&&void 0!==a.sharedWithDevices[w][E]||(s[w]=s[w]||[],s[w].push(R)))}catch(e){l=!0,d=e}finally{try{c||null==S.return||S.return()}finally{if(l)throw d}}}}catch(e){v=!0,g=e}finally{try{h||null==m.return||m.return()}finally{if(v)throw g}}return x=o.olmDevice.getOutboundGroupSessionKey(a.sessionId),M={type:"m.room_key",content:{algorithm:b.MEGOLM_ALGORITHM,room_id:o.roomId,session_id:a.sessionId,session_key:x.key,chain_index:x.chain_index,"org.matrix.msc3061.shared_history":t}},[4,b.getExistingOlmSessions(o.olmDevice,o.baseApis,s)];case 1:return I=u.default.apply(void 0,[O.sent(),2]),T=I[0],A=I[1],[4,Promise.all([(0,n.default)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return p.logger.debug("Sharing keys with existing Olm sessions in ".concat(o.roomId),A),[4,o.shareKeyWithOlmSessions(a,x,M,A)];case 1:return e.sent(),p.logger.debug("Shared keys with existing Olm sessions in ".concat(o.roomId)),[2]}}))}))(),(0,n.default)((function(){var e,t,i;return(0,f.__generator)(this,(function(s){switch(s.label){case 0:return p.logger.debug("Sharing keys (start phase 1) with new Olm sessions in ".concat(o.roomId),T),e=[],t=Date.now(),i=[],[4,o.shareKeyWithDevices(a,x,M,T,e,r?1e4:2e3,i)];case 1:return s.sent(),p.logger.debug("Shared keys (end phase 1) with new Olm sessions in ".concat(o.roomId)),!r&&Date.now()-t<1e4?((0,n.default)((function(){var t,r,n,s,u,c,l,d,h,v,b,g,m,$,y,w,_,S;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:t={},r=new Set,n=!0,s=!1,u=void 0;try{for(c=i[Symbol.iterator]();!(n=(l=c.next()).done);n=!0)d=l.value,r.add(d)}catch(e){s=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(s)throw u}}h=[],v=!0,b=!1,g=void 0;try{for(m=e[Symbol.iterator]();!(v=($=m.next()).done);v=!0)y=$.value,w=y.userId,_=y.deviceInfo,S=w.slice(w.indexOf(":")+1),r.has(S)?(t[w]=t[w]||[],t[w].push(_)):h.push({userId:w,deviceInfo:_})}catch(e){b=!0,g=e}finally{try{v||null==m.return||m.return()}finally{if(b)throw g}}return p.logger.debug("Sharing keys (start phase 2) with new Olm sessions in ".concat(o.roomId)),[4,o.shareKeyWithDevices(a,x,M,t,h,3e4)];case 1:return f.sent(),p.logger.debug("Shared keys (end phase 2) with new Olm sessions in ".concat(o.roomId)),[4,o.notifyFailedOlmDevices(a,x,h)];case 2:return f.sent(),[2]}}))}))(),[3,4]):[3,2];case 2:return[4,o.notifyFailedOlmDevices(a,x,e)];case 3:s.sent(),s.label=4;case 4:return p.logger.debug("Shared keys (all phases done) with new Olm sessions in ".concat(o.roomId)),[2]}}))}))(),(0,n.default)((function(){var e,t,r,n,s,c,l,d,h,v,b,g,m,$,y,w,_,S;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:p.logger.debug("There are ".concat(Object.entries(i).length," blocked devices in ").concat(o.roomId),Object.entries(i)),p.logger.debug("Notifying newly blocked devices in ".concat(o.roomId)),e={},t=0,r=!0,n=!1,s=void 0;try{for(c=Object.entries(i)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){d=(0,u.default)(l.value,2),h=d[0],v=d[1],b=!0,g=!1,m=void 0;try{for($=Object.entries(v)[Symbol.iterator]();!(b=(y=$.next()).done);b=!0)w=(0,u.default)(y.value,2),_=w[0],S=w[1],a.blockedDevicesNotified[h]&&void 0!==a.blockedDevicesNotified[h][_]||(e[h]=e[h]||{},e[h][_]={device:S},t++)}catch(e){g=!0,m=e}finally{try{b||null==$.return||$.return()}finally{if(g)throw m}}}}catch(e){n=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw s}}return[4,o.notifyBlockedDevices(a,e)];case 1:return f.sent(),p.logger.debug("Notified ".concat(t," newly blocked devices in ").concat(o.roomId),e),[2]}}))}))()])];case 2:return O.sent(),[2]}}))}))()}},{key:"prepareNewSession",value:function(e){var t=this;return(0,n.default)((function(){var r,n;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return r=t.olmDevice.createOutboundGroupSession(),n=t.olmDevice.getOutboundGroupSessionKey(r),[4,t.olmDevice.addInboundGroupSession(t.roomId,t.olmDevice.deviceCurve25519Key,[],r,n.key,{ed25519:t.olmDevice.deviceEd25519Key},!1,{sharedHistory:e})];case 1:return i.sent(),t.crypto.backupManager.backupGroupSession(t.olmDevice.deviceCurve25519Key,r),[2,new k(r,e)]}}))}))()}},{key:"getDevicesWithoutSessions",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!0,i=!1,a=void 0;try{for(var o,s=Object.entries(t)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=(0,u.default)(o.value,2),l=c[0],f=c[1],d=e[l],h=!0,v=!1,p=void 0;try{for(var b,g=f[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){var m=b.value,$=m.deviceId,y=d[$];y.sessionId||(r.push({userId:l,deviceInfo:m}),delete d[$])}}catch(e){v=!0,p=e}finally{try{h||null==g.return||g.return()}finally{if(v)throw p}}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},{key:"splitDevices",value:function(e){var t=[],r=[t],n=!0,i=!1,a=void 0;try{for(var o,s=Object.entries(e)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=(0,u.default)(o.value,2),l=c[0],f=c[1],d=!0,h=!1,v=void 0;try{for(var p,b=Object.values(f)[Symbol.iterator]();!(d=(p=b.next()).done);d=!0){var g=p.value;t.push({userId:l,deviceInfo:g.device})}}catch(e){h=!0,v=e}finally{try{d||null==b.return||b.return()}finally{if(h)throw v}}t.length>20&&(t=[],r.push(t))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return 0===t.length&&r.pop(),r}},{key:"encryptAndSendKeysToDevices",value:function(e,t,r,n){return this.crypto.encryptAndSendToDevices(r,n).then((function(){var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;e.markSharedWithDevice(u.userId,u.deviceInfo.deviceId,u.deviceInfo.getIdentityKey(),t)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}})).catch((function(e){throw p.logger.error("failed to encryptAndSendToDevices",e),e}))}},{key:"sendBlockedNotificationsToDevices",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,s,u,c,l,d,h,p,b,g,m,y,w,_,C,k,E,R,x,M,I,T,A;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:n={},a=!0,s=!1,u=void 0;try{for(c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)d=l.value,h=d.userId,p=d.deviceInfo,b=p.deviceInfo,g=b.deviceId,"m.no_olm"===(m=S(S({},r),{},(0,o.default)({code:p.code,reason:p.reason},$.ToDeviceMessageId,(0,v.default)()))).code&&(delete m.room_id,delete m.session_id),n[h]||(n[h]={}),n[h][g]=m}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}return[4,i.baseApis.sendToDevice("m.room_key.withheld",n)];case 1:f.sent(),y=!0,w=!1,_=void 0,C=!0,k=!1,E=void 0;try{for(R=Object.keys(n)[Symbol.iterator]();!(C=(x=R.next()).done);C=!0){M=x.value;try{for(I=Object.keys(n[M])[Symbol.iterator]();!(y=(T=I.next()).done);y=!0)A=T.value,e.markNotifiedBlockedDevice(M,A)}catch(e){w=!0,_=e}finally{try{y||null==I.return||I.return()}finally{if(w)throw _}}}}catch(e){k=!0,E=e}finally{try{C||null==R.return||R.return()}finally{if(k)throw E}}return[2]}}))}))()}},{key:"reshareKeyWithDevice",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n,s,u,c,l;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return(n=a.outboundSessions[t])?void 0===n.sharedWithDevices[r]?(p.logger.debug("megolm session ".concat(e,"|").concat(t," never shared with user ").concat(r)),[2]):void 0===(s=n.sharedWithDevices[r][i.deviceId])?(p.logger.debug("megolm session ".concat(e,"|").concat(t," never shared with device ").concat(r,":").concat(i.deviceId)),[2]):s.deviceKey!==i.getIdentityKey()?(p.logger.warn("Megolm session ".concat(e,"|").concat(t," has been shared with device ").concat(i.deviceId," but ")+"with identity key ".concat(s.deviceKey,". Key is now ").concat(i.getIdentityKey(),"!")),[2]):[4,a.olmDevice.getInboundGroupSessionKey(a.roomId,e,t,s.messageIndex)]:(p.logger.debug("megolm session ".concat(e,"|").concat(t," not found: not re-sharing keys")),[2]);case 1:return(u=f.sent())?[4,b.ensureOlmSessionsForDevices(a.olmDevice,a.baseApis,(0,o.default)({},r,[i]))]:(p.logger.warn("No inbound session key found for megolm session ".concat(e,"|").concat(t,": not re-sharing keys")),[2]);case 2:return f.sent(),c={type:"m.forwarded_room_key",content:{algorithm:b.MEGOLM_ALGORITHM,room_id:a.roomId,session_id:t,session_key:u.key,chain_index:u.chain_index,sender_key:e,sender_claimed_ed25519_key:u.sender_claimed_ed25519_key,forwarding_curve25519_key_chain:u.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":u.shared_history||!1}},l=(0,o.default)({algorithm:b.OLM_ALGORITHM,sender_key:a.olmDevice.deviceCurve25519Key,ciphertext:{}},$.ToDeviceMessageId,(0,v.default)()),[4,b.encryptMessageForDevice(l.ciphertext,a.userId,a.deviceId,a.olmDevice,r,i,c)];case 3:return f.sent(),[4,a.baseApis.sendToDevice("m.room.encrypted",(0,o.default)({},r,(0,o.default)({},i.deviceId,l)))];case 4:return f.sent(),p.logger.debug("Re-shared key for megolm session ".concat(e,"|").concat(t," with ").concat(r,":").concat(i.deviceId)),[2]}}))}))()}},{key:"shareKeyWithDevices",value:function(e,t,r,i,a,o,s){var u=this;return(0,n.default)((function(){var n,c;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:return p.logger.debug("Ensuring Olm sessions for devices in ".concat(u.roomId)),[4,b.ensureOlmSessionsForDevices(u.olmDevice,u.baseApis,i,!1,o,s,null===(n=p.logger.withPrefix)||void 0===n?void 0:n.call(p.logger,"[".concat(u.roomId,"]")))];case 1:return c=l.sent(),p.logger.debug("Ensured Olm sessions for devices in ".concat(u.roomId)),u.getDevicesWithoutSessions(c,i,a),p.logger.debug("Sharing keys with newly created Olm sessions in ".concat(u.roomId)),[4,u.shareKeyWithOlmSessions(e,t,r,c)];case 2:return l.sent(),p.logger.debug("Shared keys with newly created Olm sessions in ".concat(u.roomId)),[2]}}))}))()}},{key:"shareKeyWithOlmSessions",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var n,o,s,u;return(0,f.__generator)(this,(function(c){switch(c.label){case 0:n=a.splitDevices(i),o=0,c.label=1;case 1:if(!(o<n.length))return[3,6];s="megolm keys for ".concat(e.sessionId," ")+"in ".concat(a.roomId," (slice ").concat(o+1,"/").concat(n.length,")"),c.label=2;case 2:return c.trys.push([2,4,,5]),p.logger.debug("Sharing ".concat(s),n[o].map((function(e){return"".concat(e.userId,"/").concat(e.deviceInfo.deviceId)}))),[4,a.encryptAndSendKeysToDevices(e,t.chain_index,n[o],r)];case 3:return c.sent(),p.logger.debug("Shared ".concat(s)),[3,5];case 4:throw u=c.sent(),p.logger.error("Failed to share ".concat(s)),u;case 5:return o++,[3,1];case 6:return[2]}}))}))()}},{key:"notifyFailedOlmDevices",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s,u,c,l,d,h,v,b,g,$,y,w,_,S,C,k;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:p.logger.debug("Notifying ".concat(r.length," devices we failed to ")+"create Olm sessions in ".concat(i.roomId)),n=!0,a=!1,o=void 0;try{for(s=r[Symbol.iterator]();!(n=(u=s.next()).done);n=!0)c=u.value,l=c.userId,d=c.deviceInfo,h=d.deviceId,e.markSharedWithDevice(l,h,d.getIdentityKey(),t.chain_index)}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return[4,i.olmDevice.filterOutNotifiedErrorDevices(r)];case 1:v=f.sent(),p.logger.debug("Need to notify ".concat(v.length," failed devices ")+"which haven't been notified before in ".concat(i.roomId)),b={},g=!0,$=!1,y=void 0;try{for(w=v[Symbol.iterator]();!(g=(_=w.next()).done);g=!0)S=_.value,C=S.userId,k=S.deviceInfo,b[C]=b[C]||{},b[C][k.deviceId]={device:{code:"m.no_olm",reason:m.WITHHELD_MESSAGES["m.no_olm"],deviceInfo:k}}}catch(e){$=!0,y=e}finally{try{g||null==w.return||w.return()}finally{if($)throw y}}return[4,i.notifyBlockedDevices(e,b)];case 2:return f.sent(),p.logger.debug("Notified ".concat(v.length," devices we failed to ")+"create Olm sessions in ".concat(i.roomId)),[2]}}))}))()}},{key:"notifyBlockedDevices",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o;return(0,f.__generator)(this,(function(s){switch(s.label){case 0:n={room_id:r.roomId,session_id:e.sessionId,algorithm:b.MEGOLM_ALGORITHM,sender_key:r.olmDevice.deviceCurve25519Key},i=r.splitDevices(t),a=0,s.label=1;case 1:if(!(a<i.length))return[3,6];s.label=2;case 2:return s.trys.push([2,4,,5]),[4,r.sendBlockedNotificationsToDevices(e,i[a],n)];case 3:return s.sent(),p.logger.log("Completed blacklist notification for ".concat(e.sessionId," ")+"in ".concat(r.roomId," (slice ").concat(a+1,"/").concat(i.length,")")),[3,5];case 4:throw o=s.sent(),p.logger.log("blacklist notification for ".concat(e.sessionId," in ")+"".concat(r.roomId," (slice ").concat(a+1,"/").concat(i.length,") failed")),o;case 5:return a++,[3,1];case 6:return[2]}}))}))()}},{key:"prepareToEncrypt",value:function(e){if(null==this.encryptionPreparation){p.logger.debug("Preparing to encrypt events for ".concat(this.roomId));var t=this;this.encryptionPreparation={startTime:Date.now(),promise:(0,n.default)((function(){var r,n,i,a;return(0,f.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),p.logger.debug("Getting devices in ".concat(t.roomId)),[4,t.getDevicesInRoom(e)];case 1:return r=u.default.apply(void 0,[o.sent(),2]),n=r[0],i=r[1],t.crypto.globalErrorOnUnknownDevices&&t.removeUnknownDevices(n),p.logger.debug("Ensuring outbound session in ".concat(t.roomId)),[4,t.ensureOutboundSession(e,n,i,!0)];case 2:return o.sent(),p.logger.debug("Ready to encrypt events for ".concat(t.roomId)),[3,5];case 3:return a=o.sent(),p.logger.error("Failed to prepare to encrypt events for ".concat(t.roomId),a),[3,5];case 4:return delete t.encryptionPreparation,[7];case 5:return[2]}}))}))()}}else{var r=Date.now()-this.encryptionPreparation.startTime;p.logger.debug("Already started preparing to encrypt for ".concat(this.roomId," ")+"".concat(r," ms ago, skipping"))}}},{key:"encryptMessage",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s,c,l,d,h;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:if(p.logger.log("Starting to encrypt event for ".concat(i.roomId)),null==i.encryptionPreparation)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,i.encryptionPreparation.promise];case 2:return f.sent(),[3,4];case 3:return f.sent(),[3,4];case 4:return n=i.isVerificationEvent(t,r),[4,i.getDevicesInRoom(e,n)];case 5:return a=u.default.apply(void 0,[f.sent(),2]),o=a[0],s=a[1],i.crypto.globalErrorOnUnknownDevices&&i.checkForUnknownDevices(o),[4,i.ensureOutboundSession(e,o,s)];case 6:return c=f.sent(),l={room_id:i.roomId,type:t,content:r},d=i.olmDevice.encryptGroupMessage(c.sessionId,JSON.stringify(l)),h={algorithm:b.MEGOLM_ALGORITHM,sender_key:i.olmDevice.deviceCurve25519Key,ciphertext:d,session_id:c.sessionId,device_id:i.deviceId},c.useCount++,[2,h]}}))}))()}},{key:"isVerificationEvent",value:function(e,t){switch(e){case $.EventType.KeyVerificationCancel:case $.EventType.KeyVerificationDone:case $.EventType.KeyVerificationMac:case $.EventType.KeyVerificationStart:case $.EventType.KeyVerificationKey:case $.EventType.KeyVerificationReady:case $.EventType.KeyVerificationAccept:return!0;case $.EventType.RoomMessage:return t.msgtype===$.MsgType.KeyVerificationRequest;default:return!1}}},{key:"forceDiscardSession",value:function(){this.setupPromise=this.setupPromise.then((function(){return null}))}},{key:"checkForUnknownDevices",value:function(e){var t={};if(Object.keys(e).forEach((function(r){Object.keys(e[r]).forEach((function(n){var i=e[r][n];i.isUnverified()&&!i.isKnown()&&(t[r]||(t[r]={}),t[r][n]=i)}))})),Object.keys(t).length)throw new g.UnknownDeviceError("This room contains unknown devices which have not been verified. We strongly recommend you verify them before continuing.",t)}},{key:"removeUnknownDevices",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=Object.entries(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,u.default)(i.value,2),s=o[0],c=o[1],l=!0,f=!1,d=void 0;try{for(var h,v=Object.entries(c)[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var p=(0,u.default)(h.value,2),b=p[0],g=p[1];g.isUnverified()&&!g.isKnown()&&delete c[b]}}catch(e){f=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}0===Object.keys(c).length&&delete e[s]}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"getDevicesInRoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return(0,n.default)((function(){var n,i,a,o,s,u,c,l,d;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return[4,e.getEncryptionTargetMembers()];case 1:return n=f.sent(),i=n.map((function(e){return e.userId})),a=r.crypto.globalBlacklistUnverifiedDevices,"boolean"==typeof(o=e.getBlacklistUnverifiedDevices())&&(a=o),[4,r.crypto.downloadKeys(i,!1)];case 2:for(var h in s=f.sent(),u={},s)if(s.hasOwnProperty(h))for(var v in c=s[h])c.hasOwnProperty(v)&&(l=r.crypto.checkDeviceTrust(h,v),(c[v].isBlocked()||!l.isVerified()&&a&&!t)&&(u[h]||(u[h]={}),d=c[v].isBlocked(),u[h][v]={code:d?"m.blacklisted":"m.unverified",reason:m.WITHHELD_MESSAGES[d?"m.blacklisted":"m.unverified"],deviceInfo:c[v]},delete c[v]));return[2,[s,u]]}}))}))()}}]),c}(g.EncryptionAlgorithm);e.exports.MegolmEncryption=E;var R=function(e){(0,s.default)(d,e);var t=(0,l.default)(d);function d(e){var n;return(0,i.default)(this,d),n=t.call(this,e),(0,h.default)((0,r.default)(n),"pendingEvents",new Map),(0,h.default)((0,r.default)(n),"olmlib",b),(0,h.default)((0,r.default)(n),"roomId",void 0),n.roomId=e.roomId,n}return(0,a.default)(d,[{key:"decryptEvent",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u;return(0,f.__generator)(this,(function(c){switch(c.label){case 0:if(!(r=e.getWireContent()).sender_key||!r.session_id||!r.ciphertext)throw new g.DecryptionError("MEGOLM_MISSING_FIELDS","Missing fields in input");t.addEventToPendingList(e),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t.olmDevice.decryptGroupMessage(e.getRoomId(),r.sender_key,r.session_id,r.ciphertext,e.getId(),e.getTs())];case 2:return n=c.sent(),[3,4];case 3:if("DecryptionError"===(i=c.sent()).name)throw i;throw a="OLM_DECRYPT_GROUP_MESSAGE_ERROR","OLM.UNKNOWN_MESSAGE_INDEX"===(null==i?void 0:i.message)&&(t.requestKeysForEvent(e),a="OLM_UNKNOWN_MESSAGE_INDEX"),new g.DecryptionError(a,i?i.toString():"Unknown Error: Error is undefined",{session:r.sender_key+"|"+r.session_id});case 4:return null!==n?[3,6]:(t.crypto.backupManager.queryKeyBackupRateLimited(e.getRoomId(),r.session_id).catch((function(){})),t.requestKeysForEvent(e),[4,t.olmDevice.sessionMayHaveProblems(r.sender_key,e.getTs()-12e4)]);case 5:if(o=c.sent())throw p.logger.info("When handling UISI from ".concat(e.getSender()," (sender key ").concat(r.sender_key,"): ")+"recent session problem with that sender: ".concat(o)),s=x[o.type]||x.unknown,o.fixed&&(s+=" Trying to create a new secure channel and re-requesting the keys."),new g.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",s,{session:r.sender_key+"|"+r.session_id});throw new g.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID","The sender's device has not sent us the keys for this message.",{session:r.sender_key+"|"+r.session_id});case 6:if(n.untrusted||t.removeEventFromPendingList(e),(u=JSON.parse(n.result)).room_id!==e.getRoomId())throw new g.DecryptionError("MEGOLM_BAD_ROOM","Message intended for room "+u.room_id);return[2,{clearEvent:u,senderCurve25519Key:n.senderKey,claimedEd25519Key:n.keysClaimed.ed25519,forwardingCurve25519KeyChain:n.forwardingCurve25519KeyChain,untrusted:n.untrusted}]}}))}))()}},{key:"requestKeysForEvent",value:function(e){var t=e.getWireContent(),r=e.getKeyRequestRecipients(this.userId);this.crypto.requestRoomKey({room_id:e.getRoomId(),algorithm:t.algorithm,sender_key:t.sender_key,session_id:t.session_id},r)}},{key:"addEventToPendingList",value:function(e){var t,r=e.getWireContent(),n=r.sender_key,i=r.session_id;this.pendingEvents.has(n)||this.pendingEvents.set(n,new Map);var a=this.pendingEvents.get(n);a.has(i)||a.set(i,new Set),null===(t=a.get(i))||void 0===t||t.add(e)}},{key:"removeEventFromPendingList",value:function(e){var t=e.getWireContent(),r=t.sender_key,n=t.session_id,i=this.pendingEvents.get(r),a=null==i?void 0:i.get(n);a&&(a.delete(e),0===a.size&&i.delete(n),0===i.size&&this.pendingEvents.delete(r))}},{key:"onRoomKeyEvent",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s,u,c,l,d,h,v,g,m,$,w,_,S,C,k,E,R;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return r=e.getContent(),n=e.getSenderKey(),i=[],a=!1,s={},r.room_id&&r.session_key&&r.session_id&&r.algorithm?b.isOlmEncrypted(e)?(r["org.matrix.msc3061.shared_history"]&&(s.sharedHistory=!0),"m.forwarded_room_key"!=e.getType()?[3,6]:(h=t.crypto.deviceList.getDeviceByIdentityKey(b.OLM_ALGORITHM,n),t.baseApis.crypto.deviceList.getUserByIdentityKey(b.OLM_ALGORITHM,n)!==e.getSender()?(p.logger.error("sending device does not belong to the user it claims to be from"),[2]):h?[4,t.crypto.cryptoStore.getOutgoingRoomKeyRequestsByTarget(e.getSender(),h.deviceId,[y.RoomKeyRequestState.Sent])]:[3,2])):(p.logger.error("key event not properly encrypted"),[2]):(p.logger.error("key event is missing fields"),[2]);case 1:return v=f.sent(),[3,3];case 2:v=[],f.label=3;case 3:if(g=v.some((function(e){return e.requestBody.room_id===r.room_id&&e.requestBody.session_id===r.session_id})),m=t.baseApis.getRoom(r.room_id),$=null==m||null===(u=m.getMember(t.userId))||void 0===u?void 0:u.events.member,w=(null==$?void 0:$.getSender())===e.getSender()||(null==$||null===(c=$.getUnsigned())||void 0===c?void 0:c.prev_sender)===e.getSender()&&"invite"===(null==$||null===(l=$.getPrevContent())||void 0===l?void 0:l.membership),_=e.getSender()===t.baseApis.getUserId(),!g&&!_){if(!s.sharedHistory)return p.logger.log("forwarded key not shared history - ignoring"),[2];if(m&&!w)return p.logger.log("forwarded key not from inviter or from us - ignoring"),[2]}return a=!0,(i=(i=Array.isArray(r.forwarding_curve25519_key_chain)?r.forwarding_curve25519_key_chain:[]).slice()).push(n),r.sender_key?(S=r.sender_claimed_ed25519_key)?(o={ed25519:S},m?[3,5]:(C={senderId:e.getSender(),senderKey:r.sender_key,sessionId:r.session_id,sessionKey:r.session_key,keysClaimed:o,forwardingCurve25519KeyChain:i},[4,t.crypto.cryptoStore.doTxn("readwrite",["parked_shared_history"],(function(e){return t.crypto.cryptoStore.addParkedSharedHistory(r.room_id,C,e)}),p.logger.withPrefix("[addParkedSharedHistory]"))])):(p.logger.error("forwarded_room_key_event is missing sender_claimed_ed25519_key field"),[2]):(p.logger.error("forwarded_room_key event is missing sender_key field"),[2]);case 4:return f.sent(),[2];case 5:return k=null!==(d=t.crypto.deviceList.getDeviceByIdentityKey(b.OLM_ALGORITHM,n))&&void 0!==d?d:void 0,E=t.crypto.checkDeviceInfoTrust(e.getSender(),k),_&&!E.isVerified()?[2]:(s.untrusted=!0,n=r.sender_key,[3,7]);case 6:o=e.getKeysClaimed(),f.label=7;case 7:r["org.matrix.msc3061.shared_history"]&&(s.sharedHistory=!0),f.label=8;case 8:return f.trys.push([8,12,,13]),[4,t.olmDevice.addInboundGroupSession(r.room_id,n,i,r.session_id,r.session_key,o,a,s)];case 9:return f.sent(),[4,t.retryDecryption(n,r.session_id,!s.untrusted)];case 10:return f.sent()&&t.crypto.cancelRoomKeyRequest({algorithm:r.algorithm,room_id:r.room_id,session_id:r.session_id,sender_key:n}),[4,t.crypto.backupManager.backupGroupSession(n,r.session_id)];case 11:return f.sent(),[3,13];case 12:return R=f.sent(),p.logger.error("Error handling m.room_key_event: ".concat(R)),[3,13];case 13:return[2]}}))}))()}},{key:"onRoomKeyWithheldEvent",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,s;return(0,f.__generator)(this,(function(u){switch(u.label){case 0:return r=e.getContent(),n=r.sender_key,"m.no_olm"!==r.code?[3,11]:(i=e.getSender(),p.logger.warn("".concat(i,":").concat(n," was unable to establish an olm session with us")),[4,t.olmDevice.getSessionIdForDevice(n)]);case 1:return u.sent()?(p.logger.debug("New session already created.  Not creating a new one."),[4,t.olmDevice.recordSessionProblem(n,"no_olm",!0)]):[3,3];case 2:return u.sent(),t.retryDecryptionFromSender(n),[2];case 3:return(a=t.crypto.deviceList.getDeviceByIdentityKey(r.algorithm,n))?[3,6]:[4,t.crypto.downloadKeys([i],!1)];case 4:return u.sent(),(a=t.crypto.deviceList.getDeviceByIdentityKey(r.algorithm,n))?[3,6]:(p.logger.info("Couldn't find device for identity key "+n+": not establishing session"),[4,t.olmDevice.recordSessionProblem(n,"no_olm",!1)]);case 5:return u.sent(),t.retryDecryptionFromSender(n),[2];case 6:return[4,b.ensureOlmSessionsForDevices(t.olmDevice,t.baseApis,(0,o.default)({},i,[a]),!1)];case 7:return u.sent(),s=(0,o.default)({algorithm:b.OLM_ALGORITHM,sender_key:t.olmDevice.deviceCurve25519Key,ciphertext:{}},$.ToDeviceMessageId,(0,v.default)()),[4,b.encryptMessageForDevice(s.ciphertext,t.userId,void 0,t.olmDevice,i,a,{type:"m.dummy"})];case 8:return u.sent(),[4,t.olmDevice.recordSessionProblem(n,"no_olm",!0)];case 9:return u.sent(),t.retryDecryptionFromSender(n),[4,t.baseApis.sendToDevice("m.room.encrypted",(0,o.default)({},i,(0,o.default)({},a.deviceId,s)))];case 10:return u.sent(),[3,13];case 11:return[4,t.olmDevice.addInboundGroupSessionWithheld(r.room_id,n,r.session_id,r.code,r.reason)];case 12:u.sent(),u.label=13;case 13:return[2]}}))}))()}},{key:"hasKeysForKeyRequest",value:function(e){var t=e.requestBody;return this.olmDevice.hasInboundSessionKeys(t.room_id,t.sender_key,t.session_id)}},{key:"shareKeysWithDevice",value:function(e){var t=this,r=e.userId,n=e.deviceId,i=this.crypto.getStoredDevice(r,n),a=e.requestBody;this.olmlib.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,(0,o.default)({},r,[i])).then((function(e){return e[r][n].sessionId?(p.logger.log("sharing keys for session "+a.sender_key+"|"+a.session_id+" with device "+r+":"+n),t.buildKeyForwardingMessage(a.room_id,a.sender_key,a.session_id)):null})).then((function(e){var a=(0,o.default)({algorithm:b.OLM_ALGORITHM,sender_key:t.olmDevice.deviceCurve25519Key,ciphertext:{}},$.ToDeviceMessageId,(0,v.default)());return t.olmlib.encryptMessageForDevice(a.ciphertext,t.userId,void 0,t.olmDevice,r,i,e).then((function(){var e=(0,o.default)({},r,(0,o.default)({},n,a));return t.baseApis.sendToDevice("m.room.encrypted",e)}))}))}},{key:"buildKeyForwardingMessage",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n;return(0,f.__generator)(this,(function(a){switch(a.label){case 0:return[4,i.olmDevice.getInboundGroupSessionKey(e,t,r)];case 1:return n=a.sent(),[2,{type:"m.forwarded_room_key",content:{algorithm:b.MEGOLM_ALGORITHM,room_id:e,sender_key:t,sender_claimed_ed25519_key:n.sender_claimed_ed25519_key,session_id:r,session_key:n.key,chain_index:n.chain_index,forwarding_curve25519_key_chain:n.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":n.shared_history||!1}}]}}))}))()}},{key:"importRoomKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.untrusted,n=t.source,i=this,a={};return(r||e.untrusted)&&(a.untrusted=!0),e["org.matrix.msc3061.shared_history"]&&(a.sharedHistory=!0),this.olmDevice.addInboundGroupSession(e.room_id,e.sender_key,e.forwarding_curve25519_key_chain,e.session_id,e.session_key,e.sender_claimed_keys,!0,a).then((function(){"backup"!==n&&i.crypto.backupManager.backupGroupSession(e.sender_key,e.session_id).catch((function(e){p.logger.log("Failed to back up megolm session",e)})),i.retryDecryption(e.sender_key,e.session_id,!a.untrusted)}))}},{key:"retryDecryption",value:function(e,t,r){var i=this;return(0,n.default)((function(){var a,o,s;return(0,f.__generator)(this,(function(u){switch(u.label){case 0:return(o=i.pendingEvents.get(e))&&(s=o.get(t))?(p.logger.debug("Retrying decryption on events",(0,c.default)(s)),[4,Promise.all((0,c.default)(s).map((l=(0,n.default)((function(e){return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.attemptDecryption(i.crypto,{isRetry:!0,forceRedecryptIfUntrusted:r})];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))})),function(e){return l.apply(this,arguments)})))]):[2,!0];case 1:return u.sent(),[2,!(null!==(a=i.pendingEvents.get(e))&&void 0!==a&&a.has(t))]}var l}))}))()}},{key:"retryDecryptionFromSender",value:function(e){var t=this;return(0,n.default)((function(){var r;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return(r=t.pendingEvents.get(e))?(t.pendingEvents.delete(e),[4,Promise.all((0,c.default)(r).map((a=(0,n.default)((function(e){var r,i;return(0,f.__generator)(this,(function(a){switch(a.label){case 0:return(r=(0,u.default)(e,2))[0],i=r[1],[4,Promise.all((0,c.default)(i).map(function(){var e=(0,n.default)((function(e){return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.attemptDecryption(t.crypto)];case 1:case 2:return r.sent(),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return a.sent(),[2]}}))})),function(e){return a.apply(this,arguments)})))]):[2,!0];case 1:return i.sent(),[2,!t.pendingEvents.has(e)]}var a}))}))()}},{key:"sendSharedHistoryInboundSessions",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,s,c,l,d,h,g,m,y,w,_,S,C,k,E,R,x,M,I,T,A,O,D,P,q,L,U,N,B,F,j,K,H,W,V,z,G;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return[4,b.ensureOlmSessionsForDevices(t.olmDevice,t.baseApis,e)];case 1:return f.sent(),[4,t.olmDevice.getSharedHistoryInboundGroupSessions(t.roomId)];case 2:r=f.sent(),p.logger.log("Sharing history in ".concat(t.roomId," with users ").concat(Object.keys(e)),r.map((function(e){var t=(0,u.default)(e,2),r=t[0],n=t[1];return"".concat(r,"|").concat(n)}))),n=!0,i=!1,a=void 0,f.label=3;case 3:f.trys.push([3,10,11,12]),s=r[Symbol.iterator](),f.label=4;case 4:return(n=(c=s.next()).done)?[3,9]:(l=(0,u.default)(c.value,2),d=l[0],h=l[1],[4,t.buildKeyForwardingMessage(t.roomId,d,h)]);case 5:g=f.sent(),m=[],y={},w=!0,_=!1,S=void 0;try{for(C=Object.entries(e)[Symbol.iterator]();!(w=(k=C.next()).done);w=!0){E=(0,u.default)(k.value,2),R=E[0],x=E[1],y[R]={},M=!0,I=!1,T=void 0;try{for(A=x[Symbol.iterator]();!(M=(O=A.next()).done);M=!0)D=O.value,P=(0,o.default)({algorithm:b.OLM_ALGORITHM,sender_key:t.olmDevice.deviceCurve25519Key,ciphertext:{}},$.ToDeviceMessageId,(0,v.default)()),y[R][D.deviceId]=P,m.push(b.encryptMessageForDevice(P.ciphertext,t.userId,void 0,t.olmDevice,R,D,g))}catch(e){I=!0,T=e}finally{try{M||null==A.return||A.return()}finally{if(I)throw T}}}}catch(e){_=!0,S=e}finally{try{w||null==C.return||C.return()}finally{if(_)throw S}}return[4,Promise.all(m)];case 6:f.sent(),q=!0,L=!1,U=void 0;try{for(N=Object.keys(y)[Symbol.iterator]();!(q=(B=N.next()).done);q=!0){F=B.value,j=!0,K=!1,H=void 0;try{for(W=Object.keys(y[F])[Symbol.iterator]();!(j=(V=W.next()).done);j=!0)z=V.value,0===Object.keys(y[F][z].ciphertext).length&&(p.logger.log("No ciphertext for device "+F+":"+z+": pruning"),delete y[F][z])}catch(e){K=!0,H=e}finally{try{j||null==W.return||W.return()}finally{if(K)throw H}}0===Object.keys(y[F]).length&&(p.logger.log("Pruned all devices for user "+F),delete y[F])}}catch(e){L=!0,U=e}finally{try{q||null==N.return||N.return()}finally{if(L)throw U}}return 0===Object.keys(y).length?(p.logger.log("No users left to send to: aborting"),[2]):[4,t.baseApis.sendToDevice("m.room.encrypted",y)];case 7:f.sent(),f.label=8;case 8:return n=!0,[3,4];case 9:return[3,12];case 10:return G=f.sent(),i=!0,a=G,[3,12];case 11:try{n||null==s.return||s.return()}finally{if(i)throw a}return[7];case 12:return[2]}}))}))()}}]),d}(g.DecryptionAlgorithm);e.exports.MegolmDecryption=R;var x={no_olm:"The sender was unable to establish a secure channel.",unknown:"The secure channel with the sender was corrupted."};(0,g.registerAlgorithm)(b.MEGOLM_ALGORITHM,E,R)})),parcelRequire.register("cFOv1",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("cDTRq"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RoomKeyRequestState=e.exports.OutgoingRoomKeyRequestManager=void 0;var u=s(parcelRequire("abzte")),c=parcelRequire("1Pjj8"),l=parcelRequire("fKX3v"),f=parcelRequire("axSuM");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v,p;e.exports.RoomKeyRequestState=v,(p=v||(e.exports.RoomKeyRequestState=v={}))[p.Unsent=0]="Unsent",p[p.Sent=1]="Sent",p[p.CancellationPending=2]="CancellationPending",p[p.CancellationPendingAndWillResend=3]="CancellationPendingAndWillResend";var b=function(){function e(t,r,i){(0,n.default)(this,e),this.baseApis=t,this.deviceId=r,this.cryptoStore=i,(0,u.default)(this,"sendOutgoingRoomKeyRequestsTimer",void 0),(0,u.default)(this,"sendOutgoingRoomKeyRequestsRunning",!1),(0,u.default)(this,"clientRunning",!0)}return(0,i.default)(e,[{key:"stop",value:function(){l.logger.log("stopping OutgoingRoomKeyRequestManager"),this.clientRunning=!1}},{key:"sendQueuedRequests",value:function(){this.startTimer()}},{key:"queueRoomKeyRequest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;return(0,r.default)((function(){var r,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,i.cryptoStore.getOutgoingRoomKeyRequest(e)];case 1:return(r=o.sent())?[3,3]:[4,i.cryptoStore.getOrAddOutgoingRoomKeyRequest({requestBody:e,recipients:t,requestId:i.baseApis.makeTxnId(),state:v.Unsent})];case 2:return o.sent(),[3,14];case 3:switch(r.state){case v.CancellationPendingAndWillResend:case v.Unsent:return[3,4];case v.CancellationPending:return[3,5];case v.Sent:return[3,7]}return[3,13];case 4:return[2];case 5:return a=n?v.CancellationPendingAndWillResend:v.Sent,[4,i.cryptoStore.updateOutgoingRoomKeyRequest(r.requestId,v.CancellationPending,{state:a,cancellationTxnId:i.baseApis.makeTxnId()})];case 6:return o.sent(),[3,14];case 7:return n?(s=v.CancellationPendingAndWillResend,[4,i.cryptoStore.updateOutgoingRoomKeyRequest(r.requestId,v.Sent,{state:s,cancellationTxnId:i.baseApis.makeTxnId(),requestTxnId:i.baseApis.makeTxnId()})]):[3,12];case 8:if(!(u=o.sent()))return[2,i.queueRoomKeyRequest(e,t,n)];o.label=9;case 9:return o.trys.push([9,11,,12]),[4,i.sendOutgoingRoomKeyRequestCancellation(u,!0)];case 10:return o.sent(),[3,12];case 11:return c=o.sent(),l.logger.error("Error sending room key request cancellation; will retry later.",c),[3,12];case 12:return[3,14];case 13:throw new Error("unhandled state: "+r.state);case 14:return[2]}}))}))()}},{key:"cancelRoomKeyRequest",value:function(e){var t=this;return this.cryptoStore.getOutgoingRoomKeyRequest(e).then((function(r){if(r)switch(r.state){case v.CancellationPending:case v.CancellationPendingAndWillResend:return;case v.Unsent:return l.logger.log("deleting unnecessary room key request for "+g(e)),t.cryptoStore.deleteOutgoingRoomKeyRequest(r.requestId,v.Unsent);case v.Sent:return t.cryptoStore.updateOutgoingRoomKeyRequest(r.requestId,v.Sent,{state:v.CancellationPending,cancellationTxnId:t.baseApis.makeTxnId()}).then((function(r){r?t.sendOutgoingRoomKeyRequestCancellation(r).catch((function(e){l.logger.error("Error sending room key request cancellation; will retry later.",e),t.startTimer()})):l.logger.log("Tried to cancel room key request for "+g(e)+" but it was already cancelled in another tab")}));default:throw new Error("unhandled state: "+r.state)}}))}},{key:"getOutgoingSentRoomKeyRequest",value:function(e,t){return this.cryptoStore.getOutgoingRoomKeyRequestsByTarget(e,t,[v.Sent])}},{key:"cancelAndResendAllOutgoingRequests",value:function(){var e=this;return(0,r.default)((function(){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.cryptoStore.getAllOutgoingRoomKeyRequestsByState(v.Sent)];case 1:return t=r.sent(),[2,Promise.all(t.map((function(t){var r=t.requestBody,n=t.recipients;return e.queueRoomKeyRequest(r,n,!0)})))]}}))}))()}},{key:"startTimer",value:function(){var e=this;if(!this.sendOutgoingRoomKeyRequestsTimer){this.sendOutgoingRoomKeyRequestsTimer=setTimeout((function(){if(e.sendOutgoingRoomKeyRequestsRunning)throw new Error("RoomKeyRequestSend already in progress!");e.sendOutgoingRoomKeyRequestsRunning=!0,e.sendOutgoingRoomKeyRequests().finally((function(){e.sendOutgoingRoomKeyRequestsRunning=!1})).catch((function(e){l.logger.warn("error in OutgoingRoomKeyRequestManager: ".concat(e))}))}),500)}}},{key:"sendOutgoingRoomKeyRequests",value:function(){var e=this;return(0,r.default)((function(){var t,r;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e.clientRunning?[4,e.cryptoStore.getOutgoingRoomKeyRequestByState([v.CancellationPending,v.CancellationPendingAndWillResend,v.Unsent])]:(e.sendOutgoingRoomKeyRequestsTimer=void 0,[2]);case 1:if(!(t=n.sent()))return e.sendOutgoingRoomKeyRequestsTimer=void 0,[2];n.label=2;case 2:switch(n.trys.push([2,10,,11]),t.state){case v.Unsent:return[3,3];case v.CancellationPending:return[3,5];case v.CancellationPendingAndWillResend:return[3,7]}return[3,9];case 3:return[4,e.sendOutgoingRoomKeyRequest(t)];case 4:return n.sent(),[3,9];case 5:return[4,e.sendOutgoingRoomKeyRequestCancellation(t)];case 6:return n.sent(),[3,9];case 7:return[4,e.sendOutgoingRoomKeyRequestCancellation(t,!0)];case 8:return n.sent(),[3,9];case 9:return[2,e.sendOutgoingRoomKeyRequests()];case 10:return r=n.sent(),l.logger.error("Error sending room key request; will retry later.",r),e.sendOutgoingRoomKeyRequestsTimer=void 0,[3,11];case 11:return[2]}}))}))()}},{key:"sendOutgoingRoomKeyRequest",value:function(e){var t=this;l.logger.log("Requesting keys for ".concat(g(e.requestBody))+" from ".concat(m(e.recipients))+"(id ".concat(e.requestId,")"));var r={action:"request",requesting_device_id:this.deviceId,request_id:e.requestId,body:e.requestBody};return this.sendMessageToDevices(r,e.recipients,e.requestTxnId||e.requestId).then((function(){return t.cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,v.Unsent,{state:v.Sent})}))}},{key:"sendOutgoingRoomKeyRequestCancellation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;l.logger.log("Sending cancellation for key request for "+"".concat(g(e.requestBody)," to ")+"".concat(m(e.recipients)," ")+"(cancellation id ".concat(e.cancellationTxnId,")"));var n={action:"request_cancellation",requesting_device_id:this.deviceId,request_id:e.requestId};return this.sendMessageToDevices(n,e.recipients,e.cancellationTxnId).then((function(){return t?r.cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,v.CancellationPendingAndWillResend,{state:v.Unsent}):r.cryptoStore.deleteOutgoingRoomKeyRequest(e.requestId,v.CancellationPending)}))}},{key:"sendMessageToDevices",value:function(e,t,r){var n={},i=!0,o=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var d=u.value;n[d.userId]||(n[d.userId]={}),n[d.userId][d.deviceId]=h(h({},e),{},(0,a.default)({},f.ToDeviceMessageId,(0,c.default)()))}}catch(e){o=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return this.baseApis.sendToDevice(f.EventType.RoomKeyRequest,n,r)}}]),e}();function g(e){return e.room_id+" / "+e.session_id}function m(e){return"[".concat(e.map((function(e){return"".concat(e.userId,":").concat(e.deviceId)})).join(","),"]")}e.exports.OutgoingRoomKeyRequestManager=b})),parcelRequire.register("elD4N",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("dVhHy"),u=parcelRequire("caN7I"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TrackingStatus=e.exports.DeviceList=void 0;var d,h,v=f(parcelRequire("abzte")),p=parcelRequire("fKX3v"),b=parcelRequire("3jE4D"),g=parcelRequire("eja6Y"),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("gbtEr")),$=parcelRequire("g10a3"),y=parcelRequire("5HsbU"),w=parcelRequire("4Eh2q"),_=parcelRequire("iKMAs");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}e.exports.TrackingStatus=d,(h=d||(e.exports.TrackingStatus=d={}))[h.NotTracked=0]="NotTracked",h[h.PendingDownload=1]="PendingDownload",h[h.DownloadInProgress=2]="DownloadInProgress",h[h.UpToDate=3]="UpToDate";var C=function(e){(0,o.default)(u,e);var t=(0,c.default)(u);function u(e,n,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:250;return(0,i.default)(this,u),(o=t.call(this)).cryptoStore=n,o.keyDownloadChunkSize=s,(0,v.default)((0,r.default)(o),"devices",{}),(0,v.default)((0,r.default)(o),"crossSigningInfo",{}),(0,v.default)((0,r.default)(o),"userByIdentityKey",{}),(0,v.default)((0,r.default)(o),"deviceTrackingStatus",{}),(0,v.default)((0,r.default)(o),"syncToken",null),(0,v.default)((0,r.default)(o),"keyDownloadsInProgressByUser",new Map),(0,v.default)((0,r.default)(o),"dirty",!1),(0,v.default)((0,r.default)(o),"savePromise",null),(0,v.default)((0,r.default)(o),"resolveSavePromise",null),(0,v.default)((0,r.default)(o),"savePromiseTime",null),(0,v.default)((0,r.default)(o),"saveTimer",null),(0,v.default)((0,r.default)(o),"hasFetched",null),(0,v.default)((0,r.default)(o),"serialiser",void 0),o.serialiser=new k(e,a,(0,r.default)(o)),o}return(0,a.default)(u,[{key:"load",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return[4,e.cryptoStore.doTxn("readonly",[$.IndexedDBCryptoStore.STORE_DEVICE_DATA],(function(t){e.cryptoStore.getEndToEndDeviceData(t,(function(t){var r;e.hasFetched=Boolean(t&&t.devices),e.devices=t?t.devices:{},e.crossSigningInfo=t&&t.crossSigningInfo||{},e.deviceTrackingStatus=t?t.trackingStatus:{},e.syncToken=null!==(r=null==t?void 0:t.syncToken)&&void 0!==r?r:null,e.userByIdentityKey={};var n=!0,i=!1,a=void 0;try{for(var o,s=Object.keys(e.devices)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=e.devices[u],l=!0,f=!1,d=void 0;try{for(var h,v=Object.keys(c)[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var p=h.value,b=c[p].keys["curve25519:"+p];void 0!==b&&(e.userByIdentityKey[b]=u)}}catch(e){f=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}))}))];case 1:s.sent(),t=!0,r=!1,n=void 0;try{for(i=Object.keys(e.deviceTrackingStatus)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)o=a.value,e.deviceTrackingStatus[o]==d.DownloadInProgress&&(e.deviceTrackingStatus[o]=d.PendingDownload)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return[2]}}))}))()}},{key:"stop",value:function(){null!==this.saveTimer&&clearTimeout(this.saveTimer)}},{key:"saveIfDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=this;return(0,n.default)((function(){var r,n,i;return(0,l.__generator)(this,(function(a){return t.dirty?(r=Date.now()+e,t.savePromiseTime&&r<t.savePromiseTime&&(clearTimeout(t.saveTimer),t.saveTimer=null,t.savePromiseTime=null),null===(n=t.savePromise)&&(n=new Promise((function(e){t.resolveSavePromise=e})),t.savePromise=n),null===t.saveTimer&&(i=t.resolveSavePromise,t.savePromiseTime=r,t.saveTimer=setTimeout((function(){p.logger.log("Saving device tracking data",t.syncToken),t.savePromiseTime=null,t.saveTimer=null,t.savePromise=null,t.resolveSavePromise=null,t.cryptoStore.doTxn("readwrite",[$.IndexedDBCryptoStore.STORE_DEVICE_DATA],(function(e){var r;t.cryptoStore.storeEndToEndDeviceData({devices:t.devices,crossSigningInfo:t.crossSigningInfo,trackingStatus:t.deviceTrackingStatus,syncToken:null!==(r=t.syncToken)&&void 0!==r?r:void 0},e)})).then((function(){t.dirty=!1,null==i||i(!0)}),(function(e){p.logger.error("Failed to save device tracking data",t.syncToken),p.logger.error(e)}))}),e)),[2,n]):[2,Promise.resolve(!1)]}))}))()}},{key:"getSyncToken",value:function(){return this.syncToken}},{key:"setSyncToken",value:function(e){this.syncToken=e}},{key:"downloadKeys",value:function(e,t){var r=this,n=[],i=[];if(e.forEach((function(e){var a=r.deviceTrackingStatus[e];r.keyDownloadsInProgressByUser.has(e)?(p.logger.log("downloadKeys: already have a download in progress for "+"".concat(e,": awaiting its result")),i.push(r.keyDownloadsInProgressByUser.get(e))):(t||a!=d.UpToDate)&&n.push(e)})),0!=n.length){p.logger.log("downloadKeys: downloading for",n);var a=this.doKeyDownload(n);i.push(a)}return 0===i.length&&p.logger.log("downloadKeys: already have all necessary keys"),Promise.all(i).then((function(){return r.getDevicesFromStore(e)}))}},{key:"getDevicesFromStore",value:function(e){var t=this,r={};return e.forEach((function(e){r[e]={},(t.getStoredDevicesForUser(e)||[]).forEach((function(t){r[e][t.deviceId]=t}))})),r}},{key:"getKnownUserIds",value:function(){return Object.keys(this.devices)}},{key:"getStoredDevicesForUser",value:function(e){var t=this.devices[e];if(!t)return null;var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(b.DeviceInfo.fromStorage(t[n],n));return r}},{key:"getRawStoredDevicesForUser",value:function(e){return this.devices[e]}},{key:"getStoredCrossSigningForUser",value:function(e){return this.crossSigningInfo[e]?g.CrossSigningInfo.fromStorage(this.crossSigningInfo[e],e):null}},{key:"storeCrossSigningForUser",value:function(e,t){this.crossSigningInfo[e]=t,this.dirty=!0}},{key:"getStoredDevice",value:function(e,t){var r=this.devices[e];if(null!=r&&r[t])return b.DeviceInfo.fromStorage(r[t],t)}},{key:"getUserByIdentityKey",value:function(e,t){return e!==m.OLM_ALGORITHM&&e!==m.MEGOLM_ALGORITHM?null:this.userByIdentityKey[t]}},{key:"getDeviceByIdentityKey",value:function(e,t){var r=this.getUserByIdentityKey(e,t);if(!r)return null;var n=this.devices[r];if(!n)return null;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];for(var o in a.keys){if(a.keys.hasOwnProperty(o))if(0===o.indexOf("curve25519:"))if(a.keys[o]==t)return b.DeviceInfo.fromStorage(a,i)}}return null}},{key:"storeDevicesForUser",value:function(e,t){this.setRawStoredDevicesForUser(e,t),this.dirty=!0}},{key:"startTrackingDeviceList",value:function(e){if("string"!=typeof e)throw new Error("userId must be a string; was "+e);this.deviceTrackingStatus[e]||(p.logger.log("Now tracking device list for "+e),this.deviceTrackingStatus[e]=d.PendingDownload,this.dirty=!0)}},{key:"stopTrackingDeviceList",value:function(e){this.deviceTrackingStatus[e]&&(p.logger.log("No longer tracking device list for "+e),this.deviceTrackingStatus[e]=d.NotTracked,this.dirty=!0)}},{key:"stopTrackingAllDeviceLists",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=Object.keys(this.deviceTrackingStatus)[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this.deviceTrackingStatus[a]=d.NotTracked}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this.dirty=!0}},{key:"invalidateUserDeviceList",value:function(e){this.deviceTrackingStatus[e]&&(p.logger.log("Marking device list outdated for",e),this.deviceTrackingStatus[e]=d.PendingDownload,this.dirty=!0)}},{key:"refreshOutdatedDeviceLists",value:function(){this.saveIfDirty();var e=[],t=!0,r=!1,n=void 0;try{for(var i,a=Object.keys(this.deviceTrackingStatus)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.deviceTrackingStatus[o]==d.PendingDownload&&e.push(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return this.doKeyDownload(e)}},{key:"setRawStoredDevicesForUser",value:function(e,t){var r=!0,n=!1,i=void 0;if(void 0!==this.devices[e])try{for(var a,o=Object.entries(this.devices[e])[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var u=(0,s.default)(a.value,2),c=u[0],l=u[1].keys["curve25519:"+c];delete this.userByIdentityKey[l]}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}this.devices[e]=t;var f=!0,d=!1,h=void 0;try{for(var v,p=Object.entries(t)[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var b=(0,s.default)(v.value,2),g=b[0],m=b[1].keys["curve25519:"+g];this.userByIdentityKey[m]=e}}catch(e){d=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(d)throw h}}}},{key:"setRawStoredCrossSigningForUser",value:function(e,t){this.crossSigningInfo[e]=t}},{key:"doKeyDownload",value:function(e){var t=this;if(0===e.length)return Promise.resolve();var r=this.serialiser.updateDevicesForUsers(e,this.syncToken).then((function(){n(!0)}),(function(t){throw p.logger.error("Error downloading keys for "+e+":",t),n(!1),t}));e.forEach((function(e){t.keyDownloadsInProgressByUser.set(e,r),t.deviceTrackingStatus[e]==d.PendingDownload&&(t.deviceTrackingStatus[e]=d.DownloadInProgress)}));var n=function(n){t.emit(_.CryptoEvent.WillUpdateDevices,e,!t.hasFetched),e.forEach((function(e){(t.dirty=!0,t.keyDownloadsInProgressByUser.get(e)===r)?(t.keyDownloadsInProgressByUser.delete(e),t.deviceTrackingStatus[e]==d.DownloadInProgress&&(n?(t.deviceTrackingStatus[e]=d.UpToDate,p.logger.log("Device list for",e,"now up to date")):t.deviceTrackingStatus[e]=d.PendingDownload)):p.logger.log("Another update in the queue for",e,"- not marking up-to-date")})),t.saveIfDirty(),t.emit(_.CryptoEvent.DevicesUpdated,e,!t.hasFetched),t.hasFetched=!0};return r}}]),u}(w.TypedEventEmitter);e.exports.DeviceList=C;var k=function(){function e(t,r,n){(0,i.default)(this,e),this.baseApis=t,this.olmDevice=r,this.deviceList=n,(0,v.default)(this,"downloadInProgress",!1),(0,v.default)(this,"keyDownloadsQueuedByUser",{}),(0,v.default)(this,"queuedQueryDeferred",void 0),(0,v.default)(this,"syncToken",void 0)}return(0,a.default)(e,[{key:"updateDevicesForUsers",value:function(e,t){var r=this;return e.forEach((function(e){r.keyDownloadsQueuedByUser[e]=!0})),this.queuedQueryDeferred||(this.queuedQueryDeferred=(0,y.defer)()),this.syncToken=t,this.downloadInProgress?(p.logger.log("Queued key download for",e),this.queuedQueryDeferred.promise):this.doQueuedQueries()}},{key:"doQueuedQueries",value:function(){var e=this,t=function(t){var n=i.slice(t,t+e.deviceList.keyDownloadChunkSize);s.push((function(){return r.baseApis.downloadKeysForUsers(n,o)}))},r=this;if(this.downloadInProgress)throw new Error("DeviceListUpdateSerialiser.doQueuedQueries called with request active");var i=Object.keys(this.keyDownloadsQueuedByUser);this.keyDownloadsQueuedByUser={};var a=this.queuedQueryDeferred;this.queuedQueryDeferred=void 0,p.logger.log("Starting key download for",i),this.downloadInProgress=!0;var o={};this.syncToken&&(o.token=this.syncToken);for(var s=[],c=0;c<i.length;c+=this.deviceList.keyDownloadChunkSize)t(c);var f,d=this;return(0,y.chunkPromises)(s,3).then((f=(0,n.default)((function(e){var t,r,n,a,o,s,c,f,h,v,b,g,m,$,w,_;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:o=(t=Object).assign.apply(t,[{}].concat((0,u.default)(e.map((function(e){return e.device_keys||{}}))))),s=(r=Object).assign.apply(r,[{}].concat((0,u.default)(e.map((function(e){return e.master_keys||{}}))))),c=(n=Object).assign.apply(n,[{}].concat((0,u.default)(e.map((function(e){return e.self_signing_keys||{}}))))),f=(a=Object).assign.apply(a,[{}].concat((0,u.default)(e.map((function(e){return e.user_signing_keys||{}}))))),h=!0,v=!1,b=void 0,l.label=1;case 1:l.trys.push([1,9,10,11]),g=i[Symbol.iterator](),l.label=2;case 2:return(h=(m=g.next()).done)?[3,8]:($=m.value,[4,(0,y.sleep)(5)]);case 3:l.sent(),l.label=4;case 4:return l.trys.push([4,6,,7]),[4,d.processQueryResponseForUser($,o[$],{master:null==s?void 0:s[$],self_signing:null==c?void 0:c[$],user_signing:null==f?void 0:f[$]})];case 5:return l.sent(),[3,7];case 6:return w=l.sent(),p.logger.error("Error processing keys for ".concat($,":"),w),[3,7];case 7:return h=!0,[3,2];case 8:return[3,11];case 9:return _=l.sent(),v=!0,b=_,[3,11];case 10:try{h||null==g.return||g.return()}finally{if(v)throw b}return[7];case 11:return[2]}}))})),function(e){return f.apply(this,arguments)})).then((function(){p.logger.log("Completed key download for "+i),r.downloadInProgress=!1,null==a||a.resolve(),r.queuedQueryDeferred&&r.doQueuedQueries()}),(function(e){p.logger.warn("Error downloading keys for "+i+":",e),r.downloadInProgress=!1,null==a||a.reject(e)})),a.promise}},{key:"processQueryResponseForUser",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,o,s;return(0,l.__generator)(this,(function(u){switch(u.label){case 0:return p.logger.log("got device keys for "+e+":",t),p.logger.log("got cross-signing keys for "+e+":",r),n={},(a=i.deviceList.getRawStoredDevicesForUser(e))&&Object.keys(a).forEach((function(e){var t=b.DeviceInfo.fromStorage(a[e],e);n[e]=t})),[4,E(i.olmDevice,e,n,t||{},i.baseApis.getUserId(),i.baseApis.deviceId)];case 1:return u.sent(),o={},Object.keys(n).forEach((function(e){o[e]=n[e].toStorage()})),i.deviceList.setRawStoredDevicesForUser(e,o),r&&(r.master||r.self_signing||r.user_signing)&&((s=i.deviceList.getStoredCrossSigningForUser(e)||new g.CrossSigningInfo(e)).setKeys(r),i.deviceList.setRawStoredCrossSigningForUser(e,s.toStorage()),i.deviceList.emit(_.CryptoEvent.UserCrossSigningUpdated,e)),[2]}}))}))()}}]),e}();function E(e,t,r,n,i,a){return R.apply(this,arguments)}function R(){return(R=(0,n.default)((function(e,t,r,n,i,a){var o,s,u,c,f,d;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:for(var h in o=!1,r)if(r.hasOwnProperty(h)&&!(h in n)){if(t===i&&h===a){p.logger.warn("Local device ".concat(h," missing from sync, skipping removal"));continue}p.logger.log("Device "+t+":"+h+" has been removed"),delete r[h],o=!0}for(u in s=[],n)s.push(u);c=0,l.label=1;case 1:return c<s.length?(f=s[c],n.hasOwnProperty(f)?(d=n[f]).user_id!==t?(p.logger.warn("Mismatched user_id "+d.user_id+" in keys from "+t+":"+f),[3,3]):d.device_id!==f?(p.logger.warn("Mismatched device_id "+d.device_id+" in keys from "+t+":"+f),[3,3]):[4,x(e,r,d)]:[3,3]):[3,4];case 2:l.sent()&&(o=!0),l.label=3;case 3:return c++,[3,1];case 4:return[2,o]}}))}))).apply(this,arguments)}function x(e,t,r){return M.apply(this,arguments)}function M(){return(M=(0,n.default)((function(e,t,r){var n,i,a,o,s,u,c,f;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(!r.keys)return[2,!1];if(n=r.device_id,i=r.user_id,a="ed25519:"+n,!(o=r.keys[a]))return p.logger.warn("Device "+i+":"+n+" has no ed25519 key"),[2,!1];s=r.unsigned||{},u=r.signatures||{},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,m.verifySignature(e,r,i,n,o)];case 2:return l.sent(),[3,4];case 3:return c=l.sent(),p.logger.warn("Unable to verify signature on device "+i+":"+n+":"+c),[2,!1];case 4:if(n in t){if((f=t[n]).getFingerprint()!=o)return p.logger.warn("Ed25519 key for device "+i+":"+n+" has changed"),[2,!1]}else t[n]=f=new b.DeviceInfo(n);return f.keys=r.keys||{},f.algorithms=r.algorithms||[],f.unsigned=s,f.signatures=u,[2,!0]}}))}))).apply(this,arguments)}})),parcelRequire.register("eja6Y",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("dVhHy"),s=parcelRequire("cDTRq"),u=parcelRequire("dwjmx").Buffer,c=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UserTrustLevel=e.exports.DeviceTrustLevel=e.exports.CrossSigningLevel=e.exports.CrossSigningInfo=void 0,e.exports.createCryptoStoreCacheCallbacks=function(e,t){return{getCrossSigningKeyCache:(n=(0,r.default)((function(r,n){var i,a,o;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(t){return e.doTxn("readonly",[h.IndexedDBCryptoStore.STORE_ACCOUNT],(function(n){e.getSecretStorePrivateKey(n,t,r)}))}))];case 1:return(i=n.sent())&&i.ciphertext?(a=u.from(t.pickleKey),[4,(0,v.decryptAES)(i,a,r)]):[3,3];case 2:return o=n.sent(),[2,(0,f.decodeBase64)(o)];case 3:return[2,i];case 4:return[2]}}))})),function(e,t){return n.apply(this,arguments)}),storeCrossSigningKeyCache:function(){var n=(0,r.default)((function(r,n){var i,a;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:if(!(n instanceof Uint8Array))throw new Error("storeCrossSigningKeyCache expects Uint8Array, got ".concat(n));return i=u.from(t.pickleKey),[4,(0,v.encryptAES)((0,f.encodeBase64)(n),i,r)];case 1:return a=o.sent(),[2,e.doTxn("readwrite",[h.IndexedDBCryptoStore.STORE_ACCOUNT],(function(t){e.storeSecretStorePrivateKey(t,r,a)}))]}}))}));return function(e,t){return n.apply(this,arguments)}}()};var n},e.exports.requestKeysDuringVerification=function(e,t,r){return w.apply(this,arguments)};var l=c(parcelRequire("abzte")),f=parcelRequire("gbtEr"),d=parcelRequire("fKX3v"),h=parcelRequire("g10a3"),v=parcelRequire("7bFPP");function p(e){return Object.values(e.keys)[0]}var b,g,m=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,n.default)(this,e),this.userId=t,this.callbacks=r,this.cacheCallbacks=i,(0,l.default)(this,"keys",{}),(0,l.default)(this,"firstUse",!0),(0,l.default)(this,"crossSigningVerifiedBefore",!1)}return(0,i.default)(e,[{key:"toStorage",value:function(){return{keys:this.keys,firstUse:this.firstUse,crossSigningVerifiedBefore:this.crossSigningVerifiedBefore}}},{key:"getCrossSigningKey",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,a,o;function u(e){if(e){var r=new $parcel$global.Olm.PkSigning,n=r.init_with_seed(e);if(n===t)return[n,r];r.free()}}return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(r=["master","self_signing","user_signing"].indexOf(e)>=0,!n.callbacks.getCrossSigningKey)throw new Error("No getCrossSigningKey callback supplied");return void 0===t&&(t=n.getId(e)),i=null,n.cacheCallbacks.getCrossSigningKeyCache&&r?[4,n.cacheCallbacks.getCrossSigningKeyCache(e,t)]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return(a=u(i))?[2,a]:[4,n.callbacks.getCrossSigningKey(e,t)];case 3:return i=s.sent(),(o=u(i))?n.cacheCallbacks.storeCrossSigningKeyCache&&r?[4,n.cacheCallbacks.storeCrossSigningKeyCache(e,i)]:[3,5]:[3,6];case 4:s.sent(),s.label=5;case 5:return[2,o];case 6:if(!i)throw new Error("getCrossSigningKey callback for "+e+" returned falsey");throw new Error("Key type "+e+" from getCrossSigningKey callback did not match")}}))}))()}},{key:"isStoredInSecretStorage",value:function(e){return(0,r.default)((function(){var t,r,n,i;function a(e){var r=!0,n=!1,i=void 0;try{for(var a,o=Object.keys(t)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;e[s]||delete t[s]}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}return(0,s.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.isStored("m.cross_signing.master")];case 1:t=o.sent()||{},r=0,n=["self_signing","user_signing"],o.label=2;case 2:return r<n.length?(i=n[r],[4,e.isStored("m.cross_signing.".concat(i))]):[3,5];case 3:a.apply(void 0,[o.sent()||{}]),o.label=4;case 4:return r++,[3,2];case 5:return[2,Object.keys(t).length?t:null]}}))}))()}},{key:"isStoredInKeyCache",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,o,u,c,l,f,d;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(!(r=t.cacheCallbacks))return[2,!1];n=e?[e]:["master","self_signing","user_signing"],i=!0,a=!1,o=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),u=n[Symbol.iterator](),s.label=2;case 2:return(i=(c=u.next()).done)?[3,5]:(l=c.value,[4,null===(f=r.getCrossSigningKeyCache)||void 0===f?void 0:f.call(r,l)]);case 3:if(!s.sent())return[2,!1];s.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return d=s.sent(),a=!0,o=d,[3,8];case 7:try{i||null==u.return||u.return()}finally{if(a)throw o}return[7];case 8:return[2,!0]}}))}))()}},{key:"getCrossSigningKeysFromCache",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i,a,o,u;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(t=new Map,!(r=e.cacheCallbacks))return[2,t];n=0,i=["master","self_signing","user_signing"],s.label=1;case 1:return n<i.length?(a=i[n],[4,null===(o=r.getCrossSigningKeyCache)||void 0===o?void 0:o.call(r,a)]):[3,4];case 2:if(!(u=s.sent()))return[3,3];t.set(a,u),s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))()}},{key:"getId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"master";if(!this.keys[e])return null;var t=this.keys[e];return p(t)}},{key:"resetKeys",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,u,c,l,d,h,v;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(!t.callbacks.saveCrossSigningKeys)throw new Error("No saveCrossSigningKeys callback supplied");if(void 0===e||e&b.MASTER||!t.keys.master)e=b.MASTER|b.USER_SIGNING|b.SELF_SIGNING;else if(0===e)return[2];r={},n={},s.label=1;case 1:return s.trys.push([1,,5,6]),e&b.MASTER?(i=new $parcel$global.Olm.PkSigning,r.master=i.generate_seed(),u=i.init_with_seed(r.master),n.master={user_id:t.userId,usage:["master"],keys:(0,a.default)({},"ed25519:"+u,u)},[3,4]):[3,2];case 2:return[4,t.getCrossSigningKey("master")];case 3:c=o.default.apply(void 0,[s.sent(),2]),u=c[0],i=c[1],s.label=4;case 4:if(e&b.SELF_SIGNING){l=new $parcel$global.Olm.PkSigning;try{r.self_signing=l.generate_seed(),d=l.init_with_seed(r.self_signing),n.self_signing={user_id:t.userId,usage:["self_signing"],keys:(0,a.default)({},"ed25519:"+d,d)},(0,f.pkSign)(n.self_signing,i,t.userId,u)}finally{l.free()}}if(e&b.USER_SIGNING){h=new $parcel$global.Olm.PkSigning;try{r.user_signing=h.generate_seed(),v=h.init_with_seed(r.user_signing),n.user_signing={user_id:t.userId,usage:["user_signing"],keys:(0,a.default)({},"ed25519:"+v,v)},(0,f.pkSign)(n.user_signing,i,t.userId,u)}finally{h.free()}}return Object.assign(t.keys,n),t.callbacks.saveCrossSigningKeys(r),[3,6];case 5:return i&&i.free(),[7];case 6:return[2]}}))}))()}},{key:"clearKeys",value:function(){this.keys={}}},{key:"setKeys",value:function(e){var t={};if(e.master){if(e.master.user_id!==this.userId){var r="Mismatched user ID "+e.master.user_id+" in master key from "+this.userId;throw d.logger.error(r),new Error(r)}this.keys.master?p(e.master)!==this.getId()&&(this.firstUse=!1):this.firstUse=!0,t.master=e.master}else{if(!this.keys.master)throw new Error("Tried to set cross-signing keys without a master key");t.master=this.keys.master}var n=p(t.master);if(e.user_signing){if(e.user_signing.user_id!==this.userId){var i="Mismatched user ID "+e.master.user_id+" in user_signing key from "+this.userId;throw d.logger.error(i),new Error(i)}try{(0,f.pkVerify)(e.user_signing,n,this.userId)}catch(e){throw d.logger.error("invalid signature on user-signing key"),e}}if(e.self_signing){if(e.self_signing.user_id!==this.userId){var a="Mismatched user ID "+e.master.user_id+" in self_signing key from "+this.userId;throw d.logger.error(a),new Error(a)}try{(0,f.pkVerify)(e.self_signing,n,this.userId)}catch(e){throw d.logger.error("invalid signature on self-signing key"),e}}e.master&&(this.keys.master=e.master,delete this.keys.self_signing,delete this.keys.user_signing),e.self_signing&&(this.keys.self_signing=e.self_signing),e.user_signing&&(this.keys.user_signing=e.user_signing)}},{key:"updateCrossSigningVerifiedBefore",value:function(e){!this.crossSigningVerifiedBefore&&e&&(this.crossSigningVerifiedBefore=!0)}},{key:"signObject",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,a;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(!n.keys[t])throw new Error("Attempted to sign with "+t+" key but no such key present");return[4,n.getCrossSigningKey(t)];case 1:r=o.default.apply(void 0,[s.sent(),2]),i=r[0],a=r[1];try{return(0,f.pkSign)(e,a,n.userId,i),[2,e]}finally{a.free()}return[2]}}))}))()}},{key:"signUser",value:function(e){var t=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){return t.keys.user_signing?[2,t.signObject(e.keys.master,"user_signing")]:(d.logger.info("No user signing key: not signing user"),[2])}))}))()}},{key:"signDevice",value:function(e,t){var n=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){if(e!==n.userId)throw new Error("Trying to sign ".concat(e,"'s device; can only sign our own device"));return n.keys.self_signing?[2,n.signObject({algorithms:t.algorithms,keys:t.keys,device_id:t.deviceId,user_id:e},"self_signing")]:(d.logger.info("No self signing key: not signing device"),[2])}))}))()}},{key:"checkUserTrust",value:function(e){if(this.userId===e.userId&&this.getId()&&this.getId()===e.getId()&&this.getId("self_signing")&&this.getId("self_signing")===e.getId("self_signing"))return new $(!0,!0,this.firstUse);if(!this.keys.user_signing)return new $(!1,!1,e.firstUse);var t,r=e.keys.master,n=this.getId("user_signing");try{(0,f.pkVerify)(r,n,this.userId),t=!0}catch(e){t=!1}return new $(t,e.crossSigningVerifiedBefore,e.firstUse)}},{key:"checkDeviceTrust",value:function(e,t,r,n){var i=this.checkUserTrust(e),a=e.keys.self_signing;if(!a)return new y(!1,!1,r,n);var o=function(e,t){return{algorithms:e.algorithms,keys:e.keys,device_id:e.deviceId,user_id:t,signatures:e.signatures}}(t,e.userId);try{return(0,f.pkVerify)(a,e.getId(),e.userId),(0,f.pkVerify)(o,p(a),e.userId),y.fromUserTrustLevel(i,r,n)}catch(e){return new y(!1,!1,r,n)}}},{key:"getCacheCallbacks",value:function(){return this.cacheCallbacks}}],[{key:"fromStorage",value:function(t,r){var n=new e(r);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}},{key:"storeInSecretStorage",value:function(e,t){return(0,r.default)((function(){var r,n,i,a,u,c,l,d,h,v;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:r=!0,n=!1,i=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),a=e[Symbol.iterator](),s.label=2;case 2:return(r=(u=a.next()).done)?[3,5]:(c=(0,o.default)(u.value,2),l=c[0],d=c[1],h=(0,f.encodeBase64)(d),[4,t.store("m.cross_signing.".concat(l),h)]);case 3:s.sent(),s.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return v=s.sent(),n=!0,i=v,[3,8];case 7:try{r||null==a.return||a.return()}finally{if(n)throw i}return[7];case 8:return[2]}}))}))()}},{key:"getFromSecretStorage",value:function(e,t){return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.get("m.cross_signing.".concat(e))];case 1:return(r=n.sent())?[2,(0,f.decodeBase64)(r)]:[2,null]}}))}))()}}]),e}();e.exports.CrossSigningInfo=m,e.exports.CrossSigningLevel=b,(g=b||(e.exports.CrossSigningLevel=b={}))[g.MASTER=4]="MASTER",g[g.USER_SIGNING=2]="USER_SIGNING",g[g.SELF_SIGNING=1]="SELF_SIGNING";var $=function(){"use strict";function e(t,r,i){(0,n.default)(this,e),this.crossSigningVerified=t,this.crossSigningVerifiedBefore=r,this.tofu=i}return(0,i.default)(e,[{key:"isVerified",value:function(){return this.isCrossSigningVerified()}},{key:"isCrossSigningVerified",value:function(){return this.crossSigningVerified}},{key:"wasCrossSigningVerified",value:function(){return this.crossSigningVerifiedBefore}},{key:"isTofu",value:function(){return this.tofu}}]),e}();e.exports.UserTrustLevel=$;var y=function(){"use strict";function e(t,r,i,a){(0,n.default)(this,e),this.crossSigningVerified=t,this.tofu=r,this.localVerified=i,this.trustCrossSignedDevices=a}return(0,i.default)(e,[{key:"isVerified",value:function(){return Boolean(this.isLocallyVerified()||this.trustCrossSignedDevices&&this.isCrossSigningVerified())}},{key:"isCrossSigningVerified",value:function(){return this.crossSigningVerified}},{key:"isLocallyVerified",value:function(){return this.localVerified}},{key:"isTofu",value:function(){return this.tofu}}],[{key:"fromUserTrustLevel",value:function(t,r,n){return new e(t.isCrossSigningVerified(),t.isTofu(),r,n)}}]),e}();function w(){return w=(0,r.default)((function(e,t,n){return(0,s.__generator)(this,(function(i){return e.getUserId()!==t?[2]:(d.logger.log("Cross-signing: Self-verification done; requesting keys"),[2,new Promise((function(t,i){var a,o=e,u=o.crypto.crossSigningInfo,c=new m(u.userId,{getCrossSigningKey:(a=(0,r.default)((function(e){var t,r;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return d.logger.debug("Cross-signing: requesting secret",e,n),[4,o.requestSecret("m.cross_signing.".concat(e),[n]).promise];case 1:return t=i.sent(),r=(0,f.decodeBase64)(t),[2,Uint8Array.from(r)]}}))})),function(e){return a.apply(this,arguments)})},u.getCacheCallbacks());c.keys=u.keys;var l=new Promise((function(e){setTimeout(e,6e4,new Error("Timeout"))})),h=(0,r.default)((function(){var e,t,r;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return[4,o.crypto.getSessionBackupPrivateKey()];case 1:return i.sent()?[3,5]:(d.logger.info("No cached backup key found. Requesting..."),[4,o.requestSecret("m.megolm_backup.v1",[n]).promise]);case 2:return e=i.sent(),d.logger.info("Got key backup key, decoding..."),t=(0,f.decodeBase64)(e),d.logger.info("Decoded backup key, storing..."),[4,o.crypto.storeSessionBackupPrivateKey(Uint8Array.from(t))];case 3:return i.sent(),d.logger.info("Backup key stored. Starting backup restore..."),[4,o.getKeyBackupVersion()];case 4:r=i.sent(),o.restoreKeyBackupWithCache(void 0,void 0,r).then((function(){d.logger.info("Backup restored.")})),i.label=5;case 5:return[2]}}))}))();return Promise.race([Promise.all([c.getCrossSigningKey("master"),c.getCrossSigningKey("self_signing"),c.getCrossSigningKey("user_signing"),h]),l]).then(t,i)})).catch((function(e){d.logger.warn("Cross-signing: failure while requesting keys:",e)}))])}))})),w.apply(this,arguments)}e.exports.DeviceTrustLevel=y})),parcelRequire.register("7bFPP",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("dVhHy"),i=parcelRequire("cDTRq");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.calculateKeyCheck=function(e,t){return u("\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",e,"",t)},e.exports.decryptAES=function(e,t,r){return l.apply(this,arguments)},e.exports.encryptAES=u;var a=parcelRequire("gbtEr"),o=parcelRequire("dvi1R"),s=new Uint8Array(8);function u(e,t,r,n){return c.apply(this,arguments)}function c(){return(c=(0,r.default)((function(e,t,r,s){var u,c,l,d,h,v,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return s?u=(0,a.decodeBase64)(s):(u=new Uint8Array(16),o.crypto.getRandomValues(u),u[8]&=127),[4,f(t,r)];case 1:return c=n.default.apply(void 0,[i.sent(),2]),l=c[0],d=c[1],h=(new o.TextEncoder).encode(e),[4,o.subtleCrypto.encrypt({name:"AES-CTR",counter:u,length:64},l,h)];case 2:return v=i.sent(),[4,o.subtleCrypto.sign({name:"HMAC"},d,v)];case 3:return p=i.sent(),[2,{iv:(0,a.encodeBase64)(u),ciphertext:(0,a.encodeBase64)(v),mac:(0,a.encodeBase64)(p)}]}}))}))).apply(this,arguments)}function l(){return(l=(0,r.default)((function(e,t,r){var s,u,c,l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,f(t,r)];case 1:return s=n.default.apply(void 0,[i.sent(),2]),u=s[0],c=s[1],l=(0,a.decodeBase64)(e.ciphertext),[4,o.subtleCrypto.verify({name:"HMAC"},c,(0,a.decodeBase64)(e.mac),l)];case 2:if(!i.sent())throw new Error("Error decrypting secret ".concat(r,": bad MAC"));return[4,o.subtleCrypto.decrypt({name:"AES-CTR",counter:(0,a.decodeBase64)(e.iv),length:64},u,l)];case 3:return d=i.sent(),[2,(new TextDecoder).decode(new Uint8Array(d))]}}))}))).apply(this,arguments)}function f(e,t){return d.apply(this,arguments)}function d(){return(d=(0,r.default)((function(e,t){var r,n,a,u,c,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,o.subtleCrypto.importKey("raw",e,{name:"HKDF"},!1,["deriveBits"])];case 1:return r=i.sent(),[4,o.subtleCrypto.deriveBits({name:"HKDF",salt:s,info:(new o.TextEncoder).encode(t),hash:"SHA-256"},r,512)];case 2:return n=i.sent(),a=n.slice(0,32),u=n.slice(32),c=o.subtleCrypto.importKey("raw",a,{name:"AES-CTR"},!1,["encrypt","decrypt"]),l=o.subtleCrypto.importKey("raw",u,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]),[2,Promise.all([c,l])]}}))}))).apply(this,arguments)}})),parcelRequire.register("dvi1R",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.crypto=e.exports.TextEncoder=void 0,e.exports.setCrypto=function(t){var r;e.exports.crypto=l=t,e.exports.subtleCrypto=f=null!==(r=t.subtle)&&void 0!==r?r:t.webkitSubtle},e.exports.setTextEncoder=function(t){e.exports.TextEncoder=h=t},e.exports.subtleCrypto=void 0;var r,n,i,a,o,s,u,c=parcelRequire("fKX3v"),l=null===(r=$parcel$global.window)||void 0===r?void 0:r.crypto;e.exports.crypto=l;var f=null!==(n=null===(i=$parcel$global.window)||void 0===i||null===(a=i.crypto)||void 0===a?void 0:a.subtle)&&void 0!==n?n:null===(o=$parcel$global.window)||void 0===o||null===(s=o.crypto)||void 0===s?void 0:s.webkitSubtle;e.exports.subtleCrypto=f;var d,h=null===(u=$parcel$global.window)||void 0===u?void 0:u.TextEncoder;if(e.exports.TextEncoder=h,!l)try{e.exports.crypto=l=parcelRequire("5qXwf").webcrypto}catch(e){c.logger.error("Failed to load webcrypto",e)}f||(e.exports.subtleCrypto=f=null===(d=l)||void 0===d?void 0:d.subtle);if(!h)try{e.exports.TextEncoder=h=parcelRequire("drhEA").TextEncoder}catch(e){c.logger.error("Failed to load TextEncoder util",e)}})),parcelRequire.register("5qXwf",(function(e,t){parcelRequire("5o49g"),parcelRequire("9Iv81"),parcelRequire("fcNpa");var r=parcelRequire("4P9bX"),n=Object.keys(r),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);var a=parcelRequire("k9uxf");a.pbkdf2,a.pbkdf2Sync;var o=parcelRequire("eV7ch");o.Cipher,o.createCipher,o.Cipheriv,o.createCipheriv,o.Decipher,o.createDecipher,o.Decipheriv,o.createDecipheriv,o.getCiphers,o.listCiphers;var s=parcelRequire("4yZ3X");s.DiffieHellmanGroup,s.createDiffieHellmanGroup,s.getDiffieHellman,s.createDiffieHellman,s.DiffieHellman;var u=parcelRequire("2isTC");u.createSign,u.Sign,u.createVerify,u.Verify,parcelRequire("ad1c2");var c=parcelRequire("eTHco");c.publicEncrypt,c.privateEncrypt,c.publicDecrypt,c.privateDecrypt;var l=parcelRequire("5I2CL");l.randomFill,l.randomFillSync})),parcelRequire.register("5o49g",(function(e,t){var r=parcelRequire("d2KzW"),n=65536;var i=parcelRequire("dxLrO").Buffer,a=$parcel$global.crypto||$parcel$global.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var o=i.allocUnsafe(e);if(e>0)if(e>n)for(var s=0;s<e;s+=n)a.getRandomValues(o.slice(s,s+n));else a.getRandomValues(o);return"function"==typeof t?r.nextTick((function(){t(null,o)})):o}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),parcelRequire.register("d2KzW",(function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new v(e,t)),1!==c.length||l||s(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}})),parcelRequire.register("dxLrO",(function(e,t){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=parcelRequire("dwjmx"),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,e.exports),e.exports.Buffer=a),a.prototype=Object.create(n.prototype),i(n,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}})),parcelRequire.register("9Iv81",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("dQKoM"),i=parcelRequire("jyowh"),a=parcelRequire("kh559"),o=parcelRequire("9H0ju");function s(e){o.call(this,"digest"),this._hash=e}r(s,o),s.prototype._update=function(e){this._hash.update(e)},s.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new i:new s(a(e))}})),parcelRequire.register("hUsYa",(function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),parcelRequire.register("dQKoM",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("lzclG"),i=parcelRequire("dxLrO").Buffer,a=new Array(16);function o(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,a,o){return s(e+(t&r|~t&n)+i+a|0,o)+t|0}function c(e,t,r,n,i,a,o){return s(e+(t&n|r&~n)+i+a|0,o)+t|0}function l(e,t,r,n,i,a,o){return s(e+(t^r^n)+i+a|0,o)+t|0}function f(e,t,r,n,i,a,o){return s(e+(r^(t|~n))+i+a|0,o)+t|0}r(o,n),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=u(r,n,i,o,e[0],3614090360,7),o=u(o,r,n,i,e[1],3905402710,12),i=u(i,o,r,n,e[2],606105819,17),n=u(n,i,o,r,e[3],3250441966,22),r=u(r,n,i,o,e[4],4118548399,7),o=u(o,r,n,i,e[5],1200080426,12),i=u(i,o,r,n,e[6],2821735955,17),n=u(n,i,o,r,e[7],4249261313,22),r=u(r,n,i,o,e[8],1770035416,7),o=u(o,r,n,i,e[9],2336552879,12),i=u(i,o,r,n,e[10],4294925233,17),n=u(n,i,o,r,e[11],2304563134,22),r=u(r,n,i,o,e[12],1804603682,7),o=u(o,r,n,i,e[13],4254626195,12),i=u(i,o,r,n,e[14],2792965006,17),r=c(r,n=u(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=c(o,r,n,i,e[6],3225465664,9),i=c(i,o,r,n,e[11],643717713,14),n=c(n,i,o,r,e[0],3921069994,20),r=c(r,n,i,o,e[5],3593408605,5),o=c(o,r,n,i,e[10],38016083,9),i=c(i,o,r,n,e[15],3634488961,14),n=c(n,i,o,r,e[4],3889429448,20),r=c(r,n,i,o,e[9],568446438,5),o=c(o,r,n,i,e[14],3275163606,9),i=c(i,o,r,n,e[3],4107603335,14),n=c(n,i,o,r,e[8],1163531501,20),r=c(r,n,i,o,e[13],2850285829,5),o=c(o,r,n,i,e[2],4243563512,9),i=c(i,o,r,n,e[7],1735328473,14),r=l(r,n=c(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=l(o,r,n,i,e[8],2272392833,11),i=l(i,o,r,n,e[11],1839030562,16),n=l(n,i,o,r,e[14],4259657740,23),r=l(r,n,i,o,e[1],2763975236,4),o=l(o,r,n,i,e[4],1272893353,11),i=l(i,o,r,n,e[7],4139469664,16),n=l(n,i,o,r,e[10],3200236656,23),r=l(r,n,i,o,e[13],681279174,4),o=l(o,r,n,i,e[0],3936430074,11),i=l(i,o,r,n,e[3],3572445317,16),n=l(n,i,o,r,e[6],76029189,23),r=l(r,n,i,o,e[9],3654602809,4),o=l(o,r,n,i,e[12],3873151461,11),i=l(i,o,r,n,e[15],530742520,16),r=f(r,n=l(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=f(o,r,n,i,e[7],1126891415,10),i=f(i,o,r,n,e[14],2878612391,15),n=f(n,i,o,r,e[5],4237533241,21),r=f(r,n,i,o,e[12],1700485571,6),o=f(o,r,n,i,e[3],2399980690,10),i=f(i,o,r,n,e[10],4293915773,15),n=f(n,i,o,r,e[1],2240044497,21),r=f(r,n,i,o,e[8],1873313359,6),o=f(o,r,n,i,e[15],4264355552,10),i=f(i,o,r,n,e[6],2734768916,15),n=f(n,i,o,r,e[13],1309151649,21),r=f(r,n,i,o,e[4],4149444226,6),o=f(o,r,n,i,e[11],3174756917,10),i=f(i,o,r,n,e[2],718787259,15),n=f(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o})),parcelRequire.register("lzclG",(function(e,t){"use strict";var r=parcelRequire("dxLrO").Buffer,n=parcelRequire("82OBz").Transform;function i(e){n.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}parcelRequire("hUsYa")(i,n),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i})),parcelRequire.register("82OBz",(function(e,t){(t=e.exports=parcelRequire("lxR10")).Stream=t,t.Readable=t,t.Writable=parcelRequire("elmi8"),t.Duplex=parcelRequire("4W48e"),t.Transform=parcelRequire("9zyIf"),t.PassThrough=parcelRequire("6TTNj"),t.finished=parcelRequire("1GeXN"),t.pipeline=parcelRequire("EeWXC")})),parcelRequire.register("lxR10",(function(e,t){var r,n=parcelRequire("d2KzW");e.exports=C,C.ReadableState=S;parcelRequire("ftI7v").EventEmitter;var i=function(e,t){return e.listeners(t).length},a=parcelRequire("iZfNb"),o=parcelRequire("dwjmx").Buffer,s=$parcel$global.Uint8Array||function(){};var u,c=parcelRequire("7Epwj");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,f,d,h=parcelRequire("iFFtH"),v=parcelRequire("8pVWK"),p=parcelRequire("2UDLe").getHighWaterMark,b=parcelRequire("e9d3r").codes,g=b.ERR_INVALID_ARG_TYPE,m=b.ERR_STREAM_PUSH_AFTER_EOF,$=b.ERR_METHOD_NOT_IMPLEMENTED,y=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;parcelRequire("hUsYa")(C,a);var w=v.errorOrDestroy,_=["error","close","destroy","pause","resume"];function S(e,t,n){r=r||parcelRequire("4W48e"),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",n),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=parcelRequire("78kac").StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function C(e){if(r=r||parcelRequire("4W48e"),!(this instanceof C))return new C(e);var t=this instanceof r;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function k(e,t,r,n,i){u("readableAddChunk",t);var a,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?M(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}(e,c);else if(i||(a=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof s||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),a)w(e,a);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)c.endEmitted?w(e,new y):E(e,c,t,!0);else if(c.ended)w(e,new m);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?E(e,c,t,!1):T(e,c)):E(e,c,t,!1)}else n||(c.reading=!1,T(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&M(e)),T(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=v.destroy,C.prototype._undestroy=v.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},C.prototype.unshift=function(e){return k(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){l||(l=parcelRequire("78kac").StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var R=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function M(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(I,e))}function I(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,q(e)}function T(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){u("readable nexttick read 0"),e.read(0)}function P(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),q(e),t.flowing&&!t.reading&&e.read(0)}function q(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(N,t,e))}function N(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function B(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):M(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){w(this,new $("_read()"))},C.prototype.pipe=function(e,t){var r=function(e,t){u("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())},a=function(){u("onend"),e.end()},o=function(){u("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",p),e.removeListener("error",g),e.removeListener("unpipe",r),d.removeListener("end",a),d.removeListener("end",f),d.removeListener("data",s),b=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||p()},s=function(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==B(h.pipes,e))&&!b&&(u("false write response, pause",h.awaitDrain),h.awaitDrain++),d.pause())},c=function(){e.removeListener("finish",l),f()},l=function(){u("onfinish"),e.removeListener("close",c),f()},f=function(){u("unpipe"),d.unpipe(e)},d=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,u("pipe count=%d opts=%j",h.pipesCount,t);var v=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?a:f;h.endEmitted?n.nextTick(v):d.once("end",v),e.on("unpipe",r);var p=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,q(e))}}(d);e.on("drain",p);var b=!1;function g(t){u("onerror",t),f(),e.removeListener("error",g),0===i(e,"error")&&w(e,t)}return d.on("data",s),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",c),e.once("finish",l),e.emit("pipe",d),h.flowing||(u("pipe resume"),d.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=B(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},C.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?M(this):i.reading||n.nextTick(D,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(O,this),r},C.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(O,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<_.length;a++)e.on(_[a],this.emit.bind(this,_[a]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=parcelRequire("gX6xj")),f(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===d&&(d=parcelRequire("eQ33h")),d(C,e,t)})})),parcelRequire.register("iZfNb",(function(e,t){e.exports=parcelRequire("ftI7v").EventEmitter})),parcelRequire.register("7Epwj",(function(e,t){})),parcelRequire.register("iFFtH",(function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=parcelRequire("dwjmx").Buffer,o=parcelRequire("7Epwj").inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,u,c;return t=e,u=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:s,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],u&&i(t.prototype,u),c&&i(t,c),e}()})),parcelRequire.register("8pVWK",(function(e,t){var r=parcelRequire("d2KzW");function n(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(a,this,e)):r.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?o._writableState?o._writableState.errorEmitted?r.nextTick(i,o):(o._writableState.errorEmitted=!0,r.nextTick(n,o,e)):r.nextTick(n,o,e):t?(r.nextTick(i,o),t(e)):r.nextTick(i,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}})),parcelRequire.register("2UDLe",(function(e,t){"use strict";var r=parcelRequire("e9d3r").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(i?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}})),parcelRequire.register("e9d3r",(function(e,t){$parcel$export(e.exports,"codes",(function(){return r}),(function(e){return r=e}));var r,n=parcelRequire("dCPLc");var i={};function a(e,t,r){r||(r=Error);var n=function(e){var r,n,i=function(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this};return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=e,i[e]=n}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}a("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,a,s,u;if("string"==typeof t&&(a="not ",t.substr(!s||s<0?0:+s,a.length)===a)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))u="The ".concat(e," ").concat(i," ").concat(o(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(o(t,"type"))}return u+=". Received type ".concat(void 0===r?"undefined":(0,n.default)(r))}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r=i})),parcelRequire.register("4W48e",(function(e,t){var r=parcelRequire("d2KzW"),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=parcelRequire("lxR10"),a=parcelRequire("elmi8");parcelRequire("hUsYa")(c,i);for(var o=n(a.prototype),s=0;s<o.length;s++){var u=o[s];c.prototype[u]||(c.prototype[u]=a.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),parcelRequire.register("elmi8",(function(e,t){var r,n=parcelRequire("d2KzW");function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=C,C.WritableState=S;var a={deprecate:parcelRequire("9shk1")},o=parcelRequire("iZfNb"),s=parcelRequire("dwjmx").Buffer,u=$parcel$global.Uint8Array||function(){};var c,l=parcelRequire("8pVWK"),f=parcelRequire("2UDLe").getHighWaterMark,d=parcelRequire("e9d3r").codes,h=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,p=d.ERR_MULTIPLE_CALLBACK,b=d.ERR_STREAM_CANNOT_PIPE,g=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,$=d.ERR_STREAM_WRITE_AFTER_END,y=d.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function _(){}function S(e,t,a){r=r||parcelRequire("4W48e"),e=e||{},"boolean"!=typeof a&&(a=t instanceof r),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,a){--t.pendingcb,r?(n.nextTick(a,i),n.nextTick(I,e,t),e._writableState.errorEmitted=!0,w(e,i)):(a(i),e._writableState.errorEmitted=!0,w(e,i),I(e,t))}(e,r,i,t,a);else{var o=x(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),i?n.nextTick(E,e,r,o,a):E(e,r,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(e){var t=this instanceof(r=r||parcelRequire("4W48e"));if(!t&&!c.call(C,this))return new C(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function k(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,k(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(k(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=x(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(M,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}parcelRequire("hUsYa")(C,o),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===C&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},C.prototype.pipe=function(){w(this,new b)},C.prototype.write=function(e,t,r){var i,a=this._writableState,o=!1,c=!a.objectMode&&(i=e,s.isBuffer(i)||i instanceof u);return c&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=_),a.ending?function(e,t){var r=new $;w(e,r),n.nextTick(t,r)}(this,r):(c||function(e,t,r,i){var a;return null===r?a=new m:"string"==typeof r||t.objectMode||(a=new h("chunk",["string","Buffer"],r)),!a||(w(e,a),n.nextTick(i,a),!1)}(this,a,e,r))&&(a.pendingcb++,o=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=s.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,u,n,i,a);return c}(this,a,c,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new v("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}})),parcelRequire.register("9shk1",(function(e,t){function r(e){try{if(!$parcel$global.localStorage)return!1}catch(e){return!1}var t=$parcel$global.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}})),parcelRequire.register("78kac",(function(e,t){var r;$parcel$export(e.exports,"StringDecoder",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("dxLrO").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}r=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}})),parcelRequire.register("gX6xj",(function(e,t){var r,n=parcelRequire("d2KzW");function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=parcelRequire("1GeXN"),o=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function v(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[o]=null,e[s]=null,t(h(r,!1)))}}function p(e){n.nextTick(v,e)}var b=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(h(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(h(void 0,!0)):t[f](r,n)}),n)}}(i,this));else{var a=this[d].read();if(null!==a)return Promise.resolve(h(a,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),r),b);e.exports=function(e){var t,r=Object.create(g,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[o]=null,r[s]=null,e(h(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[l]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[l]=null,r[o]=null,r[s]=null,t(e)),void(r[u]=e)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[s]=null,n(h(void 0,!0))),r[c]=!0})),e.on("readable",p.bind(null,r)),r}})),parcelRequire.register("1GeXN",(function(e,t){"use strict";var r=parcelRequire("e9d3r").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,i,a){if("function"==typeof i)return e(t,null,i);i||(i={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||n);var o=i.readable||!1!==i.readable&&t.readable,s=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,o||a.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,f=!0,s||a.call(t)},h=function(e){a.call(t,e)},v=function(){var e;return o&&!f?(t._readableState&&t._readableState.ended||(e=new r),a.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),a.call(t,e)):void 0},p=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",v),t.req?p():t.on("request",p)),t.on("end",d),t.on("finish",l),!1!==i.error&&t.on("error",h),t.on("close",v),function(){t.removeListener("complete",l),t.removeListener("abort",v),t.removeListener("request",p),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",v)}}})),parcelRequire.register("eQ33h",(function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}})),parcelRequire.register("9zyIf",(function(e,t){"use strict";e.exports=c;var r=parcelRequire("e9d3r").codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,s=parcelRequire("4W48e");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}parcelRequire("hUsYa")(c,s),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new n("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,(function(e){t(e)}))}})),parcelRequire.register("6TTNj",(function(e,t){"use strict";e.exports=n;var r=parcelRequire("9zyIf");function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}parcelRequire("hUsYa")(n,r),n.prototype._transform=function(e,t,r){r(null,e)}})),parcelRequire.register("EeWXC",(function(e,t){"use strict";var r;var n=parcelRequire("e9d3r").codes,i=n.ERR_MISSING_ARGS,a=n.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function s(e,t,n,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var o=!1;e.on("close",(function(){o=!0})),void 0===r&&(r=parcelRequire("1GeXN")),r(e,{readable:t,writable:n},(function(e){if(e)return i(e);o=!0,i()}));var s=!1;return function(t){if(!o&&!s)return s=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new a("pipe"))}}function u(e){e()}function c(e,t){return e.pipe(t)}function l(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a=l(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var o=t.map((function(e,r){var i=r<t.length-1;return s(e,i,r>0,(function(e){n||(n=e),e&&o.forEach(u),i||(o.forEach(u),a(n))}))}));return t.reduce(c)}})),parcelRequire.register("jyowh",(function(e,t){"use strict";var r=parcelRequire("dwjmx").Buffer,n=parcelRequire("hUsYa"),i=parcelRequire("lzclG"),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function h(e,t){return e<<t|e>>>32-t}function v(e,t,r,n,i,a,o,s){return h(e+(t^r^n)+a+o|0,s)+i|0}function p(e,t,r,n,i,a,o,s){return h(e+(t&r|~t&n)+a+o|0,s)+i|0}function b(e,t,r,n,i,a,o,s){return h(e+((t|~r)^n)+a+o|0,s)+i|0}function g(e,t,r,n,i,a,o,s){return h(e+(t&n|r&~n)+a+o|0,s)+i|0}function m(e,t,r,n,i,a,o,s){return h(e+(t^(r|~n))+a+o|0,s)+i|0}n(d,i),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,d=0|this._d,$=0|this._e,y=0|this._a,w=0|this._b,_=0|this._c,S=0|this._d,C=0|this._e,k=0;k<80;k+=1){var E,R;k<16?(E=v(r,n,i,d,$,e[o[k]],l[0],u[k]),R=m(y,w,_,S,C,e[s[k]],f[0],c[k])):k<32?(E=p(r,n,i,d,$,e[o[k]],l[1],u[k]),R=g(y,w,_,S,C,e[s[k]],f[1],c[k])):k<48?(E=b(r,n,i,d,$,e[o[k]],l[2],u[k]),R=b(y,w,_,S,C,e[s[k]],f[2],c[k])):k<64?(E=g(r,n,i,d,$,e[o[k]],l[3],u[k]),R=p(y,w,_,S,C,e[s[k]],f[3],c[k])):(E=m(r,n,i,d,$,e[o[k]],l[4],u[k]),R=v(y,w,_,S,C,e[s[k]],f[4],c[k])),r=$,$=d,d=h(i,10),i=n,n=E,y=C,C=S,S=h(_,10),_=w,w=R}var x=this._b+i+S|0;this._b=this._c+d+C|0,this._c=this._d+$+y|0,this._d=this._e+r+w|0,this._e=this._a+n+_|0,this._a=x},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d})),parcelRequire.register("kh559",(function(e,t){var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=parcelRequire("cV2F4"),r.sha1=parcelRequire("lT0gk"),r.sha224=parcelRequire("dldu5"),r.sha256=parcelRequire("2DIvk"),r.sha384=parcelRequire("5hU44"),r.sha512=parcelRequire("aehoP")})),parcelRequire.register("cV2F4",(function(e,t){var r=parcelRequire("hUsYa"),n=parcelRequire("17bPk"),i=parcelRequire("dxLrO").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function s(){this.init(),this._w=o,n.call(this,64,56)}function u(e){return e<<30|e>>>2}function c(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}r(s,n),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var d=0;d<80;++d){var h=~~(d/20),v=0|((t=n)<<5|t>>>27)+c(h,i,o,s)+l+r[d]+a[h];l=s,s=o,o=u(i),i=n,n=v}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},s.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=s})),parcelRequire.register("17bPk",(function(e,t){var r=parcelRequire("dxLrO").Buffer;function n(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var u=o%i,c=Math.min(a-s,i-u),l=0;l<c;l++)n[u+l]=e[s+l];s+=c,(o+=c)%i==0&&this._update(n)}return this._len+=a,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=n})),parcelRequire.register("lT0gk",(function(e,t){var r=parcelRequire("hUsYa"),n=parcelRequire("17bPk"),i=parcelRequire("dxLrO").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function s(){this.init(),this._w=o,n.call(this,64,56)}function u(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}r(s,n),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,f=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var v=~~(h/20),p=u(n)+l(v,i,o,s)+f+r[h]+a[v]|0;f=s,s=o,o=c(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=f+this._e|0},s.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=s})),parcelRequire.register("dldu5",(function(e,t){var r=parcelRequire("hUsYa"),n=parcelRequire("2DIvk"),i=parcelRequire("17bPk"),a=parcelRequire("dxLrO").Buffer,o=new Array(64);function s(){this.init(),this._w=o,i.call(this,64,56)}r(s,n),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=s})),parcelRequire.register("2DIvk",(function(e,t){var r=parcelRequire("hUsYa"),n=parcelRequire("17bPk"),i=parcelRequire("dxLrO").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function s(){this.init(),this._w=o,n.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(s,n),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,h=0|this._e,v=0|this._f,p=0|this._g,b=0|this._h,g=0;g<16;++g)r[g]=e.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((t=r[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[g-7]+d(r[g-15])+r[g-16];for(var m=0;m<64;++m){var $=b+f(h)+u(h,v,p)+a[m]+r[m]|0,y=l(n)+c(n,i,o)|0;b=p,p=v,v=h,h=s+$|0,s=o,o=i,i=n,n=$+y|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=h+this._e|0,this._f=v+this._f|0,this._g=p+this._g|0,this._h=b+this._h|0},s.prototype._hash=function(){var e=i.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=s})),parcelRequire.register("5hU44",(function(e,t){var r=parcelRequire("hUsYa"),n=parcelRequire("aehoP"),i=parcelRequire("17bPk"),a=parcelRequire("dxLrO").Buffer,o=new Array(160);function s(){this.init(),this._w=o,i.call(this,128,112)}r(s,n),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var e=function(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)},t=a.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=s})),parcelRequire.register("aehoP",(function(e,t){var r=parcelRequire("hUsYa"),n=parcelRequire("17bPk"),i=parcelRequire("dxLrO").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function s(){this.init(),this._w=o,n.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function p(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function b(e,t){return e>>>0<t>>>0?1:0}r(s,n),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,g=0|this._fh,m=0|this._gh,$=0|this._hh,y=0|this._al,w=0|this._bl,_=0|this._cl,S=0|this._dl,C=0|this._el,k=0|this._fl,E=0|this._gl,R=0|this._hl,x=0;x<32;x+=2)t[x]=e.readInt32BE(4*x),t[x+1]=e.readInt32BE(4*x+4);for(;x<160;x+=2){var M=t[x-30],I=t[x-30+1],T=d(M,I),A=h(I,M),O=v(M=t[x-4],I=t[x-4+1]),D=p(I,M),P=t[x-14],q=t[x-14+1],L=t[x-32],U=t[x-32+1],N=A+q|0,B=T+P+b(N,A)|0;B=(B=B+O+b(N=N+D|0,D)|0)+L+b(N=N+U|0,U)|0,t[x]=B,t[x+1]=N}for(var F=0;F<160;F+=2){B=t[F],N=t[F+1];var j=c(r,n,i),K=c(y,w,_),H=l(r,y),W=l(y,r),V=f(s,C),z=f(C,s),G=a[F],J=a[F+1],Y=u(s,g,m),Z=u(C,k,E),X=R+z|0,Q=$+V+b(X,R)|0;Q=(Q=(Q=Q+Y+b(X=X+Z|0,Z)|0)+G+b(X=X+J|0,J)|0)+B+b(X=X+N|0,N)|0;var ee=W+K|0,te=H+j+b(ee,W)|0;$=m,R=E,m=g,E=k,g=s,k=C,s=o+Q+b(C=S+X|0,S)|0,o=i,S=_,i=n,_=w,n=r,w=y,r=Q+te+b(y=X+ee|0,X)|0}this._al=this._al+y|0,this._bl=this._bl+w|0,this._cl=this._cl+_|0,this._dl=this._dl+S|0,this._el=this._el+C|0,this._fl=this._fl+k|0,this._gl=this._gl+E|0,this._hl=this._hl+R|0,this._ah=this._ah+r+b(this._al,y)|0,this._bh=this._bh+n+b(this._bl,w)|0,this._ch=this._ch+i+b(this._cl,_)|0,this._dh=this._dh+o+b(this._dl,S)|0,this._eh=this._eh+s+b(this._el,C)|0,this._fh=this._fh+g+b(this._fl,k)|0,this._gh=this._gh+m+b(this._gl,E)|0,this._hh=this._hh+$+b(this._hl,R)|0},s.prototype._hash=function(){var e=function(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)},t=i.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=s})),parcelRequire.register("9H0ju",(function(e,t){var r=parcelRequire("dxLrO").Buffer,n=parcelRequire("4dwam").Transform,i=parcelRequire("78kac").StringDecoder;function a(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}parcelRequire("hUsYa")(a,n),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new i(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=a})),parcelRequire.register("4dwam",(function(e,t){e.exports=n;var r=parcelRequire("ftI7v").EventEmitter;function n(){r.call(this)}parcelRequire("hUsYa")(n,r),n.Readable=parcelRequire("lxR10"),n.Writable=parcelRequire("elmi8"),n.Duplex=parcelRequire("4W48e"),n.Transform=parcelRequire("9zyIf"),n.PassThrough=parcelRequire("6TTNj"),n.finished=parcelRequire("1GeXN"),n.pipeline=parcelRequire("EeWXC"),n.Stream=n,n.prototype.pipe=function(e,t){var n=function(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()},i=function(){u.readable&&u.resume&&u.resume()},a=function(){c||(c=!0,e.end())},o=function(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())},s=function(e){if(l(),0===r.listenerCount(this,"error"))throw e},u=this;u.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(u.on("end",a),u.on("close",o));var c=!1;function l(){u.removeListener("data",n),e.removeListener("drain",i),u.removeListener("end",a),u.removeListener("close",o),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}return u.on("error",s),e.on("error",s),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}})),parcelRequire.register("fcNpa",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("jhOcv"),i=parcelRequire("9H0ju"),a=parcelRequire("dxLrO").Buffer,o=parcelRequire("lgGIo"),s=parcelRequire("jyowh"),u=parcelRequire("kh559"),c=a.alloc(128);function l(e,t){i.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new s:u(e)).update(t).digest():t.length<r&&(t=a.concat([t,c],r));for(var n=this._ipad=a.allocUnsafe(r),o=this._opad=a.allocUnsafe(r),l=0;l<r;l++)n[l]=54^t[l],o[l]=92^t[l];this._hash="rmd160"===e?new s:u(e),this._hash.update(n)}r(l,i),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new s:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new l("rmd160",t):"md5"===e?new n(o,t):new l(e,t)}})),parcelRequire.register("jhOcv",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("dxLrO").Buffer,i=parcelRequire("9H0ju"),a=n.alloc(128),o=64;function s(e,t){i.call(this,"digest"),"string"==typeof t&&(t=n.from(t)),this._alg=e,this._key=t,t.length>o?t=e(t):t.length<o&&(t=n.concat([t,a],o));for(var r=this._ipad=n.allocUnsafe(o),s=this._opad=n.allocUnsafe(o),u=0;u<o;u++)r[u]=54^t[u],s[u]=92^t[u];this._hash=[r]}r(s,i),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,e]))},e.exports=s})),parcelRequire.register("lgGIo",(function(e,t){var r=parcelRequire("dQKoM");e.exports=function(e){return(new r).update(e).digest()}})),parcelRequire.register("4P9bX",(function(e,t){e.exports=parcelRequire("hh9EQ")})),parcelRequire.register("hh9EQ",(function(e,t){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')})),parcelRequire.register("k9uxf",(function(e,t){var r,n;$parcel$export(e.exports,"pbkdf2",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"pbkdf2Sync",(function(){return n}),(function(e){return n=e})),r=parcelRequire("7D6XZ"),n=parcelRequire("4Cial")})),parcelRequire.register("7D6XZ",(function(e,t){var r,n,i=parcelRequire("dxLrO").Buffer,a=parcelRequire("Yi9CO"),o=parcelRequire("jkOXS"),s=parcelRequire("4Cial"),u=parcelRequire("1jqWG"),c=$parcel$global.crypto&&$parcel$global.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return n||(n=$parcel$global.process&&$parcel$global.process.nextTick?$parcel$global.process.nextTick:$parcel$global.queueMicrotask?$parcel$global.queueMicrotask:$parcel$global.setImmediate?$parcel$global.setImmediate:$parcel$global.setTimeout)}function h(e,t,r,n,a){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:a}},e,n<<3)})).then((function(e){return i.from(e)}))}e.exports=function(e,t,n,v,p,b){"function"==typeof p&&(b=p,p=void 0);var g=l[(p=p||"sha1").toLowerCase()];if(g&&"function"==typeof $parcel$global.Promise){if(a(n,v),e=u(e,o,"Password"),t=u(t,o,"Salt"),"function"!=typeof b)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(e){if($parcel$global.process&&!$parcel$global.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var t=h(r=r||i.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return f[e]=t,t}(g).then((function(r){return r?h(e,t,n,v,g):s(e,t,n,v,p)})),b)}else d()((function(){var r;try{r=s(e,t,n,v,p)}catch(e){return b(e)}b(null,r)}))}})),parcelRequire.register("Yi9CO",(function(e,t){var r=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!=t)throw new TypeError("Bad key length")}})),parcelRequire.register("jkOXS",(function(e,t){var r,n=parcelRequire("d2KzW");if($parcel$global.process&&$parcel$global.process.browser)r="utf-8";else if($parcel$global.process&&$parcel$global.process.version){r=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";e.exports=r})),parcelRequire.register("4Cial",(function(e,t){var r=parcelRequire("lgGIo"),n=parcelRequire("jyowh"),i=parcelRequire("kh559"),a=parcelRequire("dxLrO").Buffer,o=parcelRequire("Yi9CO"),s=parcelRequire("jkOXS"),u=parcelRequire("1jqWG"),c=a.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,o){var s=function(e){var t=function(t){return i(e).update(t).digest()},a=function(e){return(new n).update(e).digest()};return"rmd160"===e||"ripemd160"===e?a:"md5"===e?r:t}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=s(t):t.length<u&&(t=a.concat([t,c],u));for(var f=a.allocUnsafe(u+l[e]),d=a.allocUnsafe(u+l[e]),h=0;h<u;h++)f[h]=54^t[h],d[h]=92^t[h];var v=a.allocUnsafe(u+o+4);f.copy(v,0,0,u),this.ipad1=v,this.ipad2=f,this.opad=d,this.alg=e,this.blocksize=u,this.hash=s,this.size=l[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){o(r,n);var c=new f(i=i||"sha1",e=u(e,s,"Password"),(t=u(t,s,"Salt")).length),d=a.allocUnsafe(n),h=a.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var v=0,p=l[i],b=Math.ceil(n/p),g=1;g<=b;g++){h.writeUInt32BE(g,t.length);for(var m=c.run(h,c.ipad1),$=m,y=1;y<r;y++){$=c.run($,c.ipad2);for(var w=0;w<p;w++)m[w]^=$[w]}m.copy(d,v),v+=p}return d}})),parcelRequire.register("1jqWG",(function(e,t){var r=parcelRequire("dxLrO").Buffer;e.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}})),parcelRequire.register("eV7ch",(function(e,t){var r,n,i,a,o,s,u,c,l,f;$parcel$export(e.exports,"createCipher",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"Cipher",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"createCipheriv",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"Cipheriv",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"createDecipher",(function(){return o}),(function(e){return o=e})),$parcel$export(e.exports,"Decipher",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"createDecipheriv",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"Decipheriv",(function(){return c}),(function(e){return c=e})),$parcel$export(e.exports,"listCiphers",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"getCiphers",(function(){return f}),(function(e){return f=e}));var d=parcelRequire("5E1tk"),h=parcelRequire("31RWk"),v=parcelRequire("4mBKu"),p=parcelRequire("YfhbX"),b=parcelRequire("5tuxT");function g(e,t,r){if(e=e.toLowerCase(),v[e])return h.createCipheriv(e,t,r);if(p[e])return new d({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function m(e,t,r){if(e=e.toLowerCase(),v[e])return h.createDecipheriv(e,t,r);if(p[e])return new d({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r=n=function(e,t){var r,n;if(e=e.toLowerCase(),v[e])r=v[e].key,n=v[e].iv;else{if(!p[e])throw new TypeError("invalid suite type");r=8*p[e].key,n=p[e].iv}var i=b(t,!1,r,n);return g(e,i.key,i.iv)},i=a=g,o=s=function(e,t){var r,n;if(e=e.toLowerCase(),v[e])r=v[e].key,n=v[e].iv;else{if(!p[e])throw new TypeError("invalid suite type");r=8*p[e].key,n=p[e].iv}var i=b(t,!1,r,n);return m(e,i.key,i.iv)},u=c=m,l=f=function(){return Object.keys(p).concat(h.getCiphers())}})),parcelRequire.register("5E1tk",(function(e,t){var r=parcelRequire("9H0ju"),n=parcelRequire("3usob"),i=parcelRequire("hUsYa"),a=parcelRequire("dxLrO").Buffer,o={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function s(e){r.call(this);var t,n=e.mode.toLowerCase(),i=o[n];t=e.decrypt?"decrypt":"encrypt";var s=e.key;a.isBuffer(s)||(s=a.from(s)),"des-ede"!==n&&"des-ede-cbc"!==n||(s=a.concat([s,s.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:s,iv:u,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=s,i(s,r),s.prototype._update=function(e){return a.from(this._des.update(e))},s.prototype._final=function(){return a.from(this._des.final())}})),parcelRequire.register("3usob",(function(e,t){var r,n,i;$parcel$export(e.exports,"DES",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"CBC",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"EDE",(function(){return i}),(function(e){return i=e})),parcelRequire("bPDhy"),parcelRequire("2owJK"),r=parcelRequire("lfkI7"),n=parcelRequire("ans02"),i=parcelRequire("bioGO")})),parcelRequire.register("bPDhy",(function(e,t){var r,n,i,a,o,s,u,c,l,f,d;$parcel$export(e.exports,"readUInt32BE",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"writeUInt32BE",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"ip",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"rip",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"pc1",(function(){return o}),(function(e){return o=e})),$parcel$export(e.exports,"r28shl",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"pc2",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"expand",(function(){return c}),(function(e){return c=e})),$parcel$export(e.exports,"substitute",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"permute",(function(){return f}),(function(e){return f=e})),$parcel$export(e.exports,"padSplit",(function(){return d}),(function(e){return d=e})),r=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},n=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},i=function(e,t,r,n){for(var i=0,a=0,o=6;o>=0;o-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+o&1}for(o=6;o>=0;o-=2){for(s=1;s<=25;s+=8)a<<=1,a|=t>>>s+o&1;for(s=1;s<=25;s+=8)a<<=1,a|=e>>>s+o&1}r[n+0]=i>>>0,r[n+1]=a>>>0},a=function(e,t,r,n){for(var i=0,a=0,o=0;o<4;o++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+o&1,i<<=1,i|=e>>>s+o&1;for(o=4;o<8;o++)for(s=24;s>=0;s-=8)a<<=1,a|=t>>>s+o&1,a<<=1,a|=e>>>s+o&1;r[n+0]=i>>>0,r[n+1]=a>>>0},o=function(e,t,r,n){for(var i=0,a=0,o=7;o>=5;o--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+o&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(o=1;o<=3;o++){for(s=0;s<=24;s+=8)a<<=1,a|=t>>s+o&1;for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1}for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1;r[n+0]=i>>>0,r[n+1]=a>>>0},s=function(e,t){return e<<t&268435455|e>>>28-t};var h=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];u=function(e,t,r,n){for(var i=0,a=0,o=h.length>>>1,s=0;s<o;s++)i<<=1,i|=e>>>h[s]&1;for(s=o;s<h.length;s++)a<<=1,a|=t>>>h[s]&1;r[n+0]=i>>>0,r[n+1]=a>>>0},c=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)n<<=6,n|=e>>>a&63;for(a=11;a>=3;a-=4)i|=e>>>a&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var v=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=v[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=v[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var p=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];f=function(e){for(var t=0,r=0;r<p.length;r++)t<<=1,t|=e>>>p[r]&1;return t>>>0},d=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],a=0;a<t;a+=r)i.push(n.slice(a,a+r));return i.join(" ")}})),parcelRequire.register("2owJK",(function(e,t){"use strict";var r=parcelRequire("3mFMV");function n(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=n,n.prototype._init=function(){},n.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},n.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},n.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},n.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},n.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},n.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},n.prototype._unpad=function(e){return e},n.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}})),parcelRequire.register("3mFMV",(function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}})),parcelRequire.register("lfkI7",(function(e,t){"use strict";var r=parcelRequire("3mFMV"),n=parcelRequire("hUsYa"),i=parcelRequire("bPDhy"),a=parcelRequire("2owJK");function o(){this.tmp=new Array(2),this.keys=null}function s(e){a.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}n(s,a),e.exports=s,s.create=function(e){return new s(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=i.readUInt32BE(t,0),a=i.readUInt32BE(t,4);i.pc1(n,a,e.tmp,0),n=e.tmp[0],a=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=u[o>>>1];n=i.r28shl(n,s),a=i.r28shl(a,s),i.pc2(n,a,e.keys,o)}},s.prototype._update=function(e,t,r,n){var a=this._desState,o=i.readUInt32BE(e,t),s=i.readUInt32BE(e,t+4);i.ip(o,s,a.tmp,0),o=a.tmp[0],s=a.tmp[1],"encrypt"===this.type?this._encrypt(a,o,s,a.tmp,0):this._decrypt(a,o,s,a.tmp,0),o=a.tmp[0],s=a.tmp[1],i.writeUInt32BE(r,o,n),i.writeUInt32BE(r,s,n+4)},s.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},s.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},s.prototype._encrypt=function(e,t,r,n,a){for(var o=t,s=r,u=0;u<e.keys.length;u+=2){var c=e.keys[u],l=e.keys[u+1];i.expand(s,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=i.substitute(c,l),d=s;s=(o^i.permute(f))>>>0,o=d}i.rip(s,o,n,a)},s.prototype._decrypt=function(e,t,r,n,a){for(var o=r,s=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],l=e.keys[u+1];i.expand(o,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=i.substitute(c,l),d=o;o=(s^i.permute(f))>>>0,s=d}i.rip(o,s,n,a)}})),parcelRequire.register("ans02",(function(e,t){var r;$parcel$export(e.exports,"instantiate",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("3mFMV"),i=parcelRequire("hUsYa"),a={};function o(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}r=function(e){var t=function(t){e.call(this,t),this._cbcInit()};i(t,e);for(var r=Object.keys(a),n=0;n<r.length;n++){var o=r[n];t.prototype[o]=a[o]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new o(this.options.iv);this._cbcState=e},a._update=function(e,t,r,n){var i=this._cbcState,a=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)o[s]^=e[t+s];a._update.call(this,o,0,r,n);for(s=0;s<this.blockSize;s++)o[s]=r[n+s]}else{a._update.call(this,e,t,r,n);for(s=0;s<this.blockSize;s++)r[n+s]^=o[s];for(s=0;s<this.blockSize;s++)o[s]=e[t+s]}}})),parcelRequire.register("bioGO",(function(e,t){"use strict";var r=parcelRequire("3mFMV"),n=parcelRequire("hUsYa"),i=parcelRequire("2owJK"),a=parcelRequire("lfkI7");function o(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function s(e){i.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}n(s,i),e.exports=s,s.create=function(e){return new s(e)},s.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},s.prototype._pad=a.prototype._pad,s.prototype._unpad=a.prototype._unpad})),parcelRequire.register("31RWk",(function(e,t){var r,n,i;$parcel$export(e.exports,"createCipheriv",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"createDecipheriv",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"getCiphers",(function(){return i}),(function(e){return i=e}));var a=parcelRequire("dHPi9"),o=parcelRequire("9ZgmQ"),s=parcelRequire("dFwiE");a.createCipher,r=a.createCipheriv,o.createDecipher,n=o.createDecipheriv,i=function(){return Object.keys(s)}})),parcelRequire.register("dHPi9",(function(e,t){var r,n;$parcel$export(e.exports,"createCipheriv",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"createCipher",(function(){return n}),(function(e){return n=e}));var i=parcelRequire("4mBKu"),a=parcelRequire("4Pf66"),o=parcelRequire("dxLrO").Buffer,s=parcelRequire("iHzNZ"),u=parcelRequire("9H0ju"),c=parcelRequire("6KeNp"),l=parcelRequire("5tuxT");function f(e,t,r){u.call(this),this._cache=new h,this._cipher=new c.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}parcelRequire("hUsYa")(f,u),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var d=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function v(e,t,r){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===n.type?new s(n.module,t,r):"auth"===n.type?new a(n.module,t,r):new f(n.module,t,r)}f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=o.concat([this.cache,e])},h.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},h.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},r=v,n=function(e,t){var r=i[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=l(t,!1,r.key,r.iv);return v(e,n.key,n.iv)}})),parcelRequire.register("4mBKu",(function(e,t){var r={ECB:parcelRequire("15rJK"),CBC:parcelRequire("jJdU2"),CFB:parcelRequire("3cMBR"),CFB8:parcelRequire("58KTx"),CFB1:parcelRequire("53F7L"),OFB:parcelRequire("6ZNly"),CTR:parcelRequire("2LRJ5"),GCM:parcelRequire("2LRJ5")},n=parcelRequire("dFwiE");for(var i in n)n[i].module=r[n[i].mode];e.exports=n})),parcelRequire.register("15rJK",(function(e,t){var r,n;$parcel$export(e.exports,"encrypt",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"decrypt",(function(){return n}),(function(e){return n=e})),r=function(e,t){return e._cipher.encryptBlock(t)},n=function(e,t){return e._cipher.decryptBlock(t)}})),parcelRequire.register("jJdU2",(function(e,t){var r,n;$parcel$export(e.exports,"encrypt",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"decrypt",(function(){return n}),(function(e){return n=e}));var i=parcelRequire("dNXHW");r=function(e,t){var r=i(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},n=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return i(n,r)}})),parcelRequire.register("dNXHW",(function(e,t){var r=parcelRequire("dwjmx").Buffer;e.exports=function(e,t){for(var n=Math.min(e.length,t.length),i=new r(n),a=0;a<n;++a)i[a]=e[a]^t[a];return i}})),parcelRequire.register("3cMBR",(function(e,t){var r;$parcel$export(e.exports,"encrypt",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("dxLrO").Buffer,i=parcelRequire("dNXHW");function a(e,t,r){var a=t.length,o=i(t,e._cache);return e._cache=e._cache.slice(a),e._prev=n.concat([e._prev,r?t:o]),o}r=function(e,t,r){for(var i,o=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){o=n.concat([o,a(e,t,r)]);break}i=e._cache.length,o=n.concat([o,a(e,t.slice(0,i),r)]),t=t.slice(i)}return o}})),parcelRequire.register("58KTx",(function(e,t){var r;$parcel$export(e.exports,"encrypt",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("dxLrO").Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}r=function(e,t,r){for(var a=t.length,o=n.allocUnsafe(a),s=-1;++s<a;)o[s]=i(e,t[s],r);return o}})),parcelRequire.register("53F7L",(function(e,t){var r;$parcel$export(e.exports,"encrypt",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("dxLrO").Buffer;function i(e,t,r){for(var n,i,o=-1,s=0;++o<8;)n=t&1<<7-o?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>o%8,e._prev=a(e._prev,r?n:i);return s}function a(e,t){var r=e.length,i=-1,a=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)a[i]=e[i]<<1|e[i+1]>>7;return a}r=function(e,t,r){for(var a=t.length,o=n.allocUnsafe(a),s=-1;++s<a;)o[s]=i(e,t[s],r);return o}})),parcelRequire.register("6ZNly",(function(e,t){var r;$parcel$export(e.exports,"encrypt",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("dwjmx").Buffer,i=parcelRequire("dNXHW");function a(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}r=function(e,t){for(;e._cache.length<t.length;)e._cache=n.concat([e._cache,a(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}})),parcelRequire.register("2LRJ5",(function(e,t){var r;$parcel$export(e.exports,"encrypt",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("dNXHW"),i=parcelRequire("dxLrO").Buffer,a=parcelRequire("ixB2L");function o(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}r=function(e,t){var r=Math.ceil(t.length/16),a=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var s=0;s<r;s++){var u=o(e),c=a+16*s;e._cache.writeUInt32BE(u[0],c+0),e._cache.writeUInt32BE(u[1],c+4),e._cache.writeUInt32BE(u[2],c+8),e._cache.writeUInt32BE(u[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}})),parcelRequire.register("ixB2L",(function(e,t){e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}})),parcelRequire.register("dFwiE",(function(e,t){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')})),parcelRequire.register("4Pf66",(function(e,t){var r=parcelRequire("6KeNp"),n=parcelRequire("dxLrO").Buffer,i=parcelRequire("9H0ju"),a=parcelRequire("hUsYa"),o=parcelRequire("lCcmm"),s=parcelRequire("dNXHW"),u=parcelRequire("ixB2L");function c(e,t,a,s){i.call(this);var c=n.alloc(4,0);this._cipher=new r.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new o(l),a=function(e,t,r){if(12===t.length)return e._finID=n.concat([t,n.from([0,0,0,1])]),n.concat([t,n.from([0,0,0,2])]);var i=new o(r),a=t.length,s=a%16;i.update(t),s&&(s=16-s,i.update(n.alloc(s,0))),i.update(n.alloc(8,0));var c=8*a,l=n.alloc(8);l.writeUIntBE(c,0,8),i.update(l),e._finID=i.state;var f=n.from(e._finID);return u(f),f}(this,a,l),this._prev=n.from(a),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(c,i),c.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=n.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=s(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},c.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=c})),parcelRequire.register("6KeNp",(function(e,t){var r;$parcel$export(e.exports,"AES",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("dxLrO").Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function a(e){for(;0<e.length;e++)e[0]=0}function o(e,t,r,n,i){for(var a,o,s,u,c=r[0],l=r[1],f=r[2],d=r[3],h=e[0]^t[0],v=e[1]^t[1],p=e[2]^t[2],b=e[3]^t[3],g=4,m=1;m<i;m++)a=c[h>>>24]^l[v>>>16&255]^f[p>>>8&255]^d[255&b]^t[g++],o=c[v>>>24]^l[p>>>16&255]^f[b>>>8&255]^d[255&h]^t[g++],s=c[p>>>24]^l[b>>>16&255]^f[h>>>8&255]^d[255&v]^t[g++],u=c[b>>>24]^l[h>>>16&255]^f[v>>>8&255]^d[255&p]^t[g++],h=a,v=o,p=s,b=u;return a=(n[h>>>24]<<24|n[v>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[g++],o=(n[v>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&h])^t[g++],s=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[h>>>8&255]<<8|n[255&v])^t[g++],u=(n[b>>>24]<<24|n[h>>>16&255]<<16|n[v>>>8&255]<<8|n[255&p])^t[g++],[a>>>=0,o>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],a=[[],[],[],[]],o=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,r[o]=c,n[c]=o;var l=e[o],f=e[l],d=e[f],h=257*e[c]^16843008*c;i[0][o]=h<<24|h>>>8,i[1][o]=h<<16|h>>>16,i[2][o]=h<<8|h>>>24,i[3][o]=h,h=16843009*d^65537*f^257*l^16843008*o,a[0][c]=h<<24|h>>>8,a[1][c]=h<<16|h>>>16,a[2][c]=h<<8|h>>>24,a[3][c]=h,0===o?o=s=1:(o=l^e[e[e[d^l]]],s^=e[e[s]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:a}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],a=0;a<t;a++)i[a]=e[a];for(a=t;a<n;a++){var o=i[a-1];a%t==0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=s[a/t|0]<<24):t>6&&a%t==4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),i[a]=i[a-t]^o}for(var c=[],l=0;l<n;l++){var f=n-l,d=i[f-(l%4?0:4)];c[l]=l<4||f<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return o(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=o(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),a=n.allocUnsafe(16);return a.writeUInt32BE(r[0],0),a.writeUInt32BE(r[3],4),a.writeUInt32BE(r[2],8),a.writeUInt32BE(r[1],12),a},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},r=c})),parcelRequire.register("lCcmm",(function(e,t){var r=parcelRequire("dxLrO").Buffer,n=r.alloc(16,0);function i(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],a=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(a[0]^=n[0],a[1]^=n[1],a[2]^=n[2],a[3]^=n[3]),r=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=-520093696^n[0])}this.state=i(a)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,n],16)),this.ghash(i([0,e,0,t])),this.state},e.exports=a})),parcelRequire.register("iHzNZ",(function(e,t){var r=parcelRequire("6KeNp"),n=parcelRequire("dxLrO").Buffer,i=parcelRequire("9H0ju");function a(e,t,a,o){i.call(this),this._cipher=new r.AES(t),this._prev=n.from(a),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._mode=e}parcelRequire("hUsYa")(a,i),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a})),parcelRequire.register("5tuxT",(function(e,t){var r=parcelRequire("dxLrO").Buffer,n=parcelRequire("dQKoM");e.exports=function(e,t,i,a){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=i/8,s=r.alloc(o),u=r.alloc(a||0),c=r.alloc(0);o>0||a>0;){var l=new n;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var f=0;if(o>0){var d=s.length-o;f=Math.min(o,c.length),c.copy(s,d,0,f),o-=f}if(f<c.length&&a>0){var h=u.length-a,v=Math.min(a,c.length-f);c.copy(u,h,f,f+v),a-=v}}return c.fill(0),{key:s,iv:u}}})),parcelRequire.register("9ZgmQ",(function(e,t){var r,n;$parcel$export(e.exports,"createDecipher",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"createDecipheriv",(function(){return n}),(function(e){return n=e}));var i=parcelRequire("4Pf66"),a=parcelRequire("dxLrO").Buffer,o=parcelRequire("4mBKu"),s=parcelRequire("iHzNZ"),u=parcelRequire("9H0ju"),c=parcelRequire("6KeNp"),l=parcelRequire("5tuxT");function f(e,t,r){u.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(t),this._prev=a.from(r),this._mode=e,this._autopadding=!0}function d(){this.cache=a.allocUnsafe(0)}function h(e,t,r){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=a.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=a.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===n.type?new s(n.module,t,r,!0):"auth"===n.type?new i(n.module,t,r,!0):new f(n.module,t,r)}parcelRequire("hUsYa")(f,u),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return a.concat(n)},f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=a.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},r=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=l(t,!1,r.key,r.iv);return h(e,n.key,n.iv)},n=h})),parcelRequire.register("YfhbX",(function(e,t){var r,n,i,a,o,s,u,c;$parcel$export(e.exports,"des-ecb",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"des-cbc",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"des",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"des-ede3-cbc",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"des3",(function(){return o}),(function(e){return o=e})),$parcel$export(e.exports,"des-ede3",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"des-ede-cbc",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"des-ede",(function(){return c}),(function(e){return c=e})),r={key:8,iv:0},n=i={key:8,iv:8},a=o={key:24,iv:8},s={key:24,iv:0},u={key:16,iv:8},c={key:16,iv:0}})),parcelRequire.register("4yZ3X",(function(e,t){var r,n,i,a,o;$parcel$export(e.exports,"DiffieHellmanGroup",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"createDiffieHellmanGroup",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"getDiffieHellman",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"createDiffieHellman",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"DiffieHellman",(function(){return o}),(function(e){return o=e}));var s=parcelRequire("dwjmx").Buffer,u=parcelRequire("i5ort"),c=parcelRequire("kL7E6"),l=parcelRequire("2hPAB");var f={binary:!0,hex:!0,base64:!0};r=n=i=function(e){var t=new s(c[e].prime,"hex"),r=new s(c[e].gen,"hex");return new l(t,r)},a=o=function e(t,r,n,i){return s.isBuffer(r)||void 0===f[r]?e(t,"binary",r,n):(r=r||"binary",i=i||"binary",n=n||new s([2]),s.isBuffer(n)||(n=new s(n,i)),"number"==typeof t?new l(u(t,n),n,!0):(s.isBuffer(t)||(t=new s(t,r)),new l(t,n,!0)))}})),parcelRequire.register("i5ort",(function(e,t){var r=parcelRequire("5o49g");e.exports=b,b.simpleSieve=v,b.fermatTest=p;var n=parcelRequire("6wviT"),i=new n(24),a=new(parcelRequire("h6NSO")),o=new n(1),s=new n(2),u=new n(5),c=(new n(16),new n(8),new n(10)),l=new n(3),f=(new n(7),new n(11)),d=new n(4),h=(new n(12),null);function v(e){for(var t=function(){if(null!==h)return h;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return h=e,e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function p(e){var t=n.mont(e);return 0===s.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new n(2===t||5===t?[140,123]:[140,39]);var h,b;for(t=new n(t);;){for(h=new n(r(Math.ceil(e/8)));h.bitLength()>e;)h.ishrn(1);if(h.isEven()&&h.iadd(o),h.testn(1)||h.iadd(s),t.cmp(s)){if(!t.cmp(u))for(;h.mod(c).cmp(l);)h.iadd(d)}else for(;h.mod(i).cmp(f);)h.iadd(d);if(v(b=h.shrn(1))&&v(h)&&p(b)&&p(h)&&a.test(b)&&a.test(h))return h}}})),parcelRequire.register("6wviT",(function(e,t){!function(e,t){"use strict";var r,n=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},a=function(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15},o=function(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n},s=function(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i},u=function(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var v=c-h|0;l+=(o=(i=0|e.words[v])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()},c=function(e,t,r){return(new l).mulp(e,t,r)},l=function(e,t){this.x=e,this.y=t},f=function(e,t){this.name=e,this.p=new m(t,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()},d=function(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")},h=function(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")},v=function(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")},p=function(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")},b=function(e){if("string"==typeof e){var t=m._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null},g=function(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)};function m(e,t,r){if(m.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=m:t.BN=m,m.BN=m,m.wordSize=26;try{r="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:parcelRequire("7Epwj").Buffer}catch(e){}m.isBN=function(e){return e instanceof m||null!==e&&"object"==typeof e&&e.constructor.wordSize===m.wordSize&&Array.isArray(e.words)},m.max=function(e,t){return e.cmp(t)>0?e:t},m.min=function(e,t){return e.cmp(t)<0?e:t},m.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},m.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},m.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},m.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},m.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,u=Math.min(a,a-o)+r,c=0,l=r;l<u;l+=n)c=s(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=s(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},m.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},m.prototype.clone=function(){var e=new m(null);return this.copy(e),e},m.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},m.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var $=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];m.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);r=0!==(a=s>>>24-i&16777215)||o!==this.length-1?$[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=y[e],l=w[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(l).toString(e);r=(f=f.idivn(l)).isZero()?d+r:$[c-d.length]+d+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(e,t){return n(void 0!==r),this.toArrayLike(r,e,t)},m.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},m.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?m.prototype._countBits=function(e){return 32-Math.clz32(e)}:m.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},m.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},m.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},m.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return 0!==this.negative},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},m.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},m.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},m.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},m.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},m.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},m.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},m.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},m.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},m.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},m.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},m.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},m.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},m.prototype.notn=function(e){return this.clone().inotn(e)},m.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},m.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},m.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},m.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(e){return this.clone().isub(e)};var _=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],v=8191&h,p=h>>>13,b=0|o[2],g=8191&b,m=b>>>13,$=0|o[3],y=8191&$,w=$>>>13,_=0|o[4],S=8191&_,C=_>>>13,k=0|o[5],E=8191&k,R=k>>>13,x=0|o[6],M=8191&x,I=x>>>13,T=0|o[7],A=8191&T,O=T>>>13,D=0|o[8],P=8191&D,q=D>>>13,L=0|o[9],U=8191&L,N=L>>>13,B=0|s[0],F=8191&B,j=B>>>13,K=0|s[1],H=8191&K,W=K>>>13,V=0|s[2],z=8191&V,G=V>>>13,J=0|s[3],Y=8191&J,Z=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],ve=8191&he,pe=he>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,F)|0))<<13)|0;c=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(p,F)|0,a=Math.imul(p,j);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(m,F)|0,a=Math.imul(m,j),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(p,H)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,j))+Math.imul(w,F)|0,a=Math.imul(w,j),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,W)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,G)|0;var $e=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,j))+Math.imul(C,F)|0,a=Math.imul(C,j),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(p,Y)|0,a=a+Math.imul(p,Z)|0;var ye=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(R,F)|0,a=Math.imul(R,j),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,W)|0,n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(p,Q)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(I,F)|0,a=Math.imul(I,j),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var _e=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(O,F)|0,a=Math.imul(O,j),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(q,F)|0,a=Math.imul(q,j),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,W)|0,n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var Ce=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(N,F)|0,a=Math.imul(N,j),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,W)|0,n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(O,z)|0,a=a+Math.imul(O,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,de)|0;var ke=(c+(n=n+Math.imul(f,ve)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(d,ve)|0))<<13)|0;c=((a=a+Math.imul(d,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(N,H)|0,a=Math.imul(N,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(q,z)|0,a=a+Math.imul(q,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var Ee=(c+(n=n+Math.imul(v,ve)|0)|0)+((8191&(i=(i=i+Math.imul(v,pe)|0)+Math.imul(p,ve)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(N,z)|0,a=Math.imul(N,G),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(q,Y)|0,a=a+Math.imul(q,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Re=(c+(n=n+Math.imul(g,ve)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(m,ve)|0))<<13)|0;c=((a=a+Math.imul(m,pe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,Z))+Math.imul(N,Y)|0,a=Math.imul(N,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var xe=(c+(n=n+Math.imul(y,ve)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(w,ve)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(N,Q)|0,a=Math.imul(N,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(q,re)|0,a=a+Math.imul(q,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Me=(c+(n=n+Math.imul(S,ve)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ve)|0))<<13)|0;c=((a=a+Math.imul(C,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,a=Math.imul(N,ne),n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Ie=(c+(n=n+Math.imul(E,ve)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(R,ve)|0))<<13)|0;c=((a=a+Math.imul(R,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,ae),i=(i=Math.imul(U,oe))+Math.imul(N,ae)|0,a=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(M,ve)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(I,ve)|0))<<13)|0;c=((a=a+Math.imul(I,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(N,ue)|0,a=Math.imul(N,ce),n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(q,fe)|0,a=a+Math.imul(q,de)|0;var Ae=(c+(n=n+Math.imul(A,ve)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(O,ve)|0))<<13)|0;c=((a=a+Math.imul(O,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(N,fe)|0,a=Math.imul(N,de);var Oe=(c+(n=n+Math.imul(P,ve)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(q,ve)|0))<<13)|0;c=((a=a+Math.imul(q,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var De=(c+(n=Math.imul(U,ve))|0)+((8191&(i=(i=Math.imul(U,pe))+Math.imul(N,ve)|0))<<13)|0;return c=((a=Math.imul(N,pe))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=be,u[1]=ge,u[2]=me,u[3]=$e,u[4]=ye,u[5]=we,u[6]=_e,u[7]=Se,u[8]=Ce,u[9]=ke,u[10]=Ee,u[11]=Re,u[12]=xe,u[13]=Me,u[14]=Ie,u[15]=Te,u[16]=Ae,u[17]=Oe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};Math.imul||(_=u),m.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?_(this,e,t):n<63?u(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):c(this,e,t),r},l.prototype.makeRBT=function(e){for(var t=new Array(e),r=m.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},l.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},l.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},l.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var v=r[l+h],p=n[l+h],b=r[l+h+o],g=n[l+h+o],m=f*b-d*g;g=f*g+d*b,b=m,r[l+h]=v+b,n[l+h]=p+g,r[l+h+o]=v-b,n[l+h+o]=p-g,h!==s&&(m=u*f-c*d,d=u*d+c*f,f=m)}},l.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},l.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},l.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},l.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0==(-8192&a))},l.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},l.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var h=0;h<n;h++){var v=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=v}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},m.prototype.mul=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},m.prototype.mulf=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),c(this,e,t)},m.prototype.imul=function(e){return this.clone().mulTo(e,this)},m.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},m.prototype.muln=function(e){return this.clone().imuln(e)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new m(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},m.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},m.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},m.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},m.prototype.shln=function(e){return this.clone().ishln(e)},m.prototype.ushln=function(e){return this.clone().iushln(e)},m.prototype.shrn=function(e){return this.clone().ishrn(e)},m.prototype.ushrn=function(e){return this.clone().iushrn(e)},m.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},m.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},m.prototype.maskn=function(e){return this.clone().imaskn(e)},m.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},m.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},m.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},m.prototype.addn=function(e){return this.clone().iaddn(e)},m.prototype.subn=function(e){return this.clone().isubn(e)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},m.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,s=n.length-i.length;if("mod"!==t){(o=new m(null)).length=s+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,o&&(o.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);o&&(o.words[l]=f)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},m.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new m(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new m(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new m(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},m.prototype.div=function(e){return this.divmod(e,"div",!1).div},m.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},m.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},m.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},m.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},m.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},m.prototype.divn=function(e){return this.clone().idivn(e)},m.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new m(1),a=new m(0),o=new m(0),s=new m(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var h=0,v=1;0==(r.words[0]&v)&&h<26;++h,v<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(l)),o.iushrn(1),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(s)):(r.isub(t),o.isub(i),s.isub(a))}return{a:o,b:s,gcd:r.iushln(u)}},m.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new m(1),o=new m(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},m.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},m.prototype.invm=function(e){return this.egcd(e).a.umod(e)},m.prototype.isEven=function(){return 0==(1&this.words[0])},m.prototype.isOdd=function(){return 1==(1&this.words[0])},m.prototype.andln=function(e){return this.words[0]&e},m.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},m.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},m.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},m.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},m.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},m.prototype.gtn=function(e){return 1===this.cmpn(e)},m.prototype.gt=function(e){return 1===this.cmp(e)},m.prototype.gten=function(e){return this.cmpn(e)>=0},m.prototype.gte=function(e){return this.cmp(e)>=0},m.prototype.ltn=function(e){return-1===this.cmpn(e)},m.prototype.lt=function(e){return-1===this.cmp(e)},m.prototype.lten=function(e){return this.cmpn(e)<=0},m.prototype.lte=function(e){return this.cmp(e)<=0},m.prototype.eqn=function(e){return 0===this.cmpn(e)},m.prototype.eq=function(e){return 0===this.cmp(e)},m.red=function(e){return new b(e)},m.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},m.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(e){return this.red=e,this},m.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},m.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},m.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},m.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},m.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},m.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},m.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},m.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},m.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new m(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},i(d,f),d.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},d.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(h,f),i(v,f),i(p,f),p.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},m._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new h;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new p}return S[e]=t,t},b.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new m(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new m(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new m(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var l=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),h=a;0!==d.cmp(o);){for(var v=d,p=0;0!==v.cmp(o);p++)v=v.redSqr();n(p<h);var b=this.pow(l,new m(1).iushln(h-p-1));f=f.redMul(b),l=b.redSqr(),d=d.redMul(l),h=p}return f},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new m(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new m(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++o||0===n&&0===c)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}s=26}return i},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},m.mont=function(e){return new g(e)},i(g,b),g.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},g.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},g.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new m(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),parcelRequire.register("h6NSO",(function(e,t){var r=parcelRequire("3X68l"),n=parcelRequire("396dW");function i(e){this.rand=e||new n.Rand}e.exports=i,i.create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},i.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},i.prototype.test=function(e,t,n){var i=e.bitLength(),a=r.mont(e),o=new r(1).toRed(a);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var c=e.shrn(u),l=s.toRed(a);t>0;t--){var f=this._randrange(new r(2),s);n&&n(f);var d=f.toRed(a).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var h=1;h<u;h++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(l))break}if(h===u)return!1}}return!0},i.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),a=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),s=0;!o.testn(s);s++);for(var u=e.shrn(s),c=o.toRed(i);t>0;t--){var l=this._randrange(new r(2),o),f=e.gcd(l);if(0!==f.cmpn(1))return f;var d=l.toRed(i).redPow(u);if(0!==d.cmp(a)&&0!==d.cmp(c)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(a))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}})),parcelRequire.register("3X68l",(function(e,t){!function(e,t){"use strict";var r,n=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},a=function(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15},o=function(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n},s=function(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i},u=function(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var v=c-h|0;l+=(o=(i=0|e.words[v])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()},c=function(e,t,r){return(new l).mulp(e,t,r)},l=function(e,t){this.x=e,this.y=t},f=function(e,t){this.name=e,this.p=new m(t,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()},d=function(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")},h=function(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")},v=function(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")},p=function(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")},b=function(e){if("string"==typeof e){var t=m._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null},g=function(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)};function m(e,t,r){if(m.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=m:t.BN=m,m.BN=m,m.wordSize=26;try{r="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:parcelRequire("7Epwj").Buffer}catch(e){}m.isBN=function(e){return e instanceof m||null!==e&&"object"==typeof e&&e.constructor.wordSize===m.wordSize&&Array.isArray(e.words)},m.max=function(e,t){return e.cmp(t)>0?e:t},m.min=function(e,t){return e.cmp(t)<0?e:t},m.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},m.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},m.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},m.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},m.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,u=Math.min(a,a-o)+r,c=0,l=r;l<u;l+=n)c=s(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=s(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},m.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},m.prototype.clone=function(){var e=new m(null);return this.copy(e),e},m.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},m.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var $=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];m.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);r=0!==(a=s>>>24-i&16777215)||o!==this.length-1?$[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=y[e],l=w[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(l).toString(e);r=(f=f.idivn(l)).isZero()?d+r:$[c-d.length]+d+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(e,t){return n(void 0!==r),this.toArrayLike(r,e,t)},m.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},m.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?m.prototype._countBits=function(e){return 32-Math.clz32(e)}:m.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},m.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},m.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},m.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return 0!==this.negative},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},m.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},m.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},m.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},m.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},m.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},m.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},m.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},m.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},m.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},m.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},m.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},m.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},m.prototype.notn=function(e){return this.clone().inotn(e)},m.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},m.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},m.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},m.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(e){return this.clone().isub(e)};var _=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],v=8191&h,p=h>>>13,b=0|o[2],g=8191&b,m=b>>>13,$=0|o[3],y=8191&$,w=$>>>13,_=0|o[4],S=8191&_,C=_>>>13,k=0|o[5],E=8191&k,R=k>>>13,x=0|o[6],M=8191&x,I=x>>>13,T=0|o[7],A=8191&T,O=T>>>13,D=0|o[8],P=8191&D,q=D>>>13,L=0|o[9],U=8191&L,N=L>>>13,B=0|s[0],F=8191&B,j=B>>>13,K=0|s[1],H=8191&K,W=K>>>13,V=0|s[2],z=8191&V,G=V>>>13,J=0|s[3],Y=8191&J,Z=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],ve=8191&he,pe=he>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,F)|0))<<13)|0;c=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(p,F)|0,a=Math.imul(p,j);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(m,F)|0,a=Math.imul(m,j),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(p,H)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,j))+Math.imul(w,F)|0,a=Math.imul(w,j),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,W)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,G)|0;var $e=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,j))+Math.imul(C,F)|0,a=Math.imul(C,j),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(p,Y)|0,a=a+Math.imul(p,Z)|0;var ye=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(R,F)|0,a=Math.imul(R,j),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,W)|0,n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(p,Q)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(I,F)|0,a=Math.imul(I,j),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var _e=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(O,F)|0,a=Math.imul(O,j),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(q,F)|0,a=Math.imul(q,j),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,W)|0,n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var Ce=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(N,F)|0,a=Math.imul(N,j),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,W)|0,n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(O,z)|0,a=a+Math.imul(O,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,de)|0;var ke=(c+(n=n+Math.imul(f,ve)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(d,ve)|0))<<13)|0;c=((a=a+Math.imul(d,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(N,H)|0,a=Math.imul(N,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(q,z)|0,a=a+Math.imul(q,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var Ee=(c+(n=n+Math.imul(v,ve)|0)|0)+((8191&(i=(i=i+Math.imul(v,pe)|0)+Math.imul(p,ve)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(N,z)|0,a=Math.imul(N,G),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(q,Y)|0,a=a+Math.imul(q,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Re=(c+(n=n+Math.imul(g,ve)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(m,ve)|0))<<13)|0;c=((a=a+Math.imul(m,pe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,Z))+Math.imul(N,Y)|0,a=Math.imul(N,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var xe=(c+(n=n+Math.imul(y,ve)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(w,ve)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(N,Q)|0,a=Math.imul(N,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(q,re)|0,a=a+Math.imul(q,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Me=(c+(n=n+Math.imul(S,ve)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ve)|0))<<13)|0;c=((a=a+Math.imul(C,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,a=Math.imul(N,ne),n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Ie=(c+(n=n+Math.imul(E,ve)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(R,ve)|0))<<13)|0;c=((a=a+Math.imul(R,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,ae),i=(i=Math.imul(U,oe))+Math.imul(N,ae)|0,a=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(M,ve)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(I,ve)|0))<<13)|0;c=((a=a+Math.imul(I,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(N,ue)|0,a=Math.imul(N,ce),n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(q,fe)|0,a=a+Math.imul(q,de)|0;var Ae=(c+(n=n+Math.imul(A,ve)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(O,ve)|0))<<13)|0;c=((a=a+Math.imul(O,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(N,fe)|0,a=Math.imul(N,de);var Oe=(c+(n=n+Math.imul(P,ve)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(q,ve)|0))<<13)|0;c=((a=a+Math.imul(q,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var De=(c+(n=Math.imul(U,ve))|0)+((8191&(i=(i=Math.imul(U,pe))+Math.imul(N,ve)|0))<<13)|0;return c=((a=Math.imul(N,pe))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=be,u[1]=ge,u[2]=me,u[3]=$e,u[4]=ye,u[5]=we,u[6]=_e,u[7]=Se,u[8]=Ce,u[9]=ke,u[10]=Ee,u[11]=Re,u[12]=xe,u[13]=Me,u[14]=Ie,u[15]=Te,u[16]=Ae,u[17]=Oe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};Math.imul||(_=u),m.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?_(this,e,t):n<63?u(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):c(this,e,t),r},l.prototype.makeRBT=function(e){for(var t=new Array(e),r=m.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},l.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},l.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},l.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var v=r[l+h],p=n[l+h],b=r[l+h+o],g=n[l+h+o],m=f*b-d*g;g=f*g+d*b,b=m,r[l+h]=v+b,n[l+h]=p+g,r[l+h+o]=v-b,n[l+h+o]=p-g,h!==s&&(m=u*f-c*d,d=u*d+c*f,f=m)}},l.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},l.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},l.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},l.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0==(-8192&a))},l.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},l.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var h=0;h<n;h++){var v=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=v}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},m.prototype.mul=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},m.prototype.mulf=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),c(this,e,t)},m.prototype.imul=function(e){return this.clone().mulTo(e,this)},m.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},m.prototype.muln=function(e){return this.clone().imuln(e)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new m(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},m.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},m.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},m.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},m.prototype.shln=function(e){return this.clone().ishln(e)},m.prototype.ushln=function(e){return this.clone().iushln(e)},m.prototype.shrn=function(e){return this.clone().ishrn(e)},m.prototype.ushrn=function(e){return this.clone().iushrn(e)},m.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},m.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},m.prototype.maskn=function(e){return this.clone().imaskn(e)},m.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},m.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},m.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},m.prototype.addn=function(e){return this.clone().iaddn(e)},m.prototype.subn=function(e){return this.clone().isubn(e)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},m.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,s=n.length-i.length;if("mod"!==t){(o=new m(null)).length=s+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,o&&(o.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);o&&(o.words[l]=f)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},m.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new m(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new m(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new m(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},m.prototype.div=function(e){return this.divmod(e,"div",!1).div},m.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},m.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},m.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},m.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},m.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},m.prototype.divn=function(e){return this.clone().idivn(e)},m.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new m(1),a=new m(0),o=new m(0),s=new m(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var h=0,v=1;0==(r.words[0]&v)&&h<26;++h,v<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(l)),o.iushrn(1),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(s)):(r.isub(t),o.isub(i),s.isub(a))}return{a:o,b:s,gcd:r.iushln(u)}},m.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new m(1),o=new m(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},m.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},m.prototype.invm=function(e){return this.egcd(e).a.umod(e)},m.prototype.isEven=function(){return 0==(1&this.words[0])},m.prototype.isOdd=function(){return 1==(1&this.words[0])},m.prototype.andln=function(e){return this.words[0]&e},m.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},m.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},m.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},m.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},m.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},m.prototype.gtn=function(e){return 1===this.cmpn(e)},m.prototype.gt=function(e){return 1===this.cmp(e)},m.prototype.gten=function(e){return this.cmpn(e)>=0},m.prototype.gte=function(e){return this.cmp(e)>=0},m.prototype.ltn=function(e){return-1===this.cmpn(e)},m.prototype.lt=function(e){return-1===this.cmp(e)},m.prototype.lten=function(e){return this.cmpn(e)<=0},m.prototype.lte=function(e){return this.cmp(e)<=0},m.prototype.eqn=function(e){return 0===this.cmpn(e)},m.prototype.eq=function(e){return 0===this.cmp(e)},m.red=function(e){return new b(e)},m.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},m.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(e){return this.red=e,this},m.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},m.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},m.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},m.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},m.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},m.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},m.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},m.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},m.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new m(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},i(d,f),d.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},d.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(h,f),i(v,f),i(p,f),p.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},m._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new h;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new p}return S[e]=t,t},b.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new m(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new m(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new m(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var l=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),h=a;0!==d.cmp(o);){for(var v=d,p=0;0!==v.cmp(o);p++)v=v.redSqr();n(p<h);var b=this.pow(l,new m(1).iushln(h-p-1));f=f.redMul(b),l=b.redSqr(),d=d.redMul(l),h=p}return f},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new m(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new m(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++o||0===n&&0===c)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}s=26}return i},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},m.mont=function(e){return new g(e)},i(g,b),g.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},g.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},g.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new m(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),parcelRequire.register("396dW",(function(e,t){var r;function n(e){this.rand=e}if(e.exports=function(e){return r||(r=new n(null)),r.generate(e)},e.exports.Rand=n,n.prototype.generate=function(e){return this._rand(e)},n.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=parcelRequire("7Epwj");if("function"!=typeof i.randomBytes)throw new Error("Not supported");n.prototype._rand=function(e){return i.randomBytes(e)}}catch(e){}})),parcelRequire.register("kL7E6",(function(e,t){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')})),parcelRequire.register("2hPAB",(function(e,t){var r=parcelRequire("dwjmx").Buffer,n=parcelRequire("6wviT"),i=new(parcelRequire("h6NSO")),a=new n(24),o=new n(11),s=new n(10),u=new n(3),c=new n(7),l=parcelRequire("i5ort"),f=parcelRequire("5o49g");function d(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._pub=new n(e),this}function h(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._priv=new n(e),this}e.exports=p;var v={};function p(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function b(e,t){var n=new r(e.toArray());return t?n.toString(t):n}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in v)return v[n];var f,d=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!i.test(e))return d+=1,d+="02"===r||"05"===r?8:4,v[n]=d,d;switch(i.test(e.shrn(1))||(d+=2),r){case"02":e.mod(a).cmp(o)&&(d+=8);break;case"05":(f=e.mod(s)).cmp(u)&&f.cmp(c)&&(d+=8);break;default:d+=4}return v[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new n(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(e){var t=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new r(t.toArray()),a=this.getPrime();if(i.length<a.length){var o=new r(a.length-i.length);o.fill(0),i=r.concat([o,i])}return i},p.prototype.getPublicKey=function(e){return b(this._pub,e)},p.prototype.getPrivateKey=function(e){return b(this._priv,e)},p.prototype.getPrime=function(e){return b(this.__prime,e)},p.prototype.getGenerator=function(e){return b(this._gen,e)},p.prototype.setGenerator=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.__gen=e,this._gen=new n(e),this}})),parcelRequire.register("2isTC",(function(e,t){var r=parcelRequire("dxLrO").Buffer,n=parcelRequire("9Iv81"),i=parcelRequire("82OBz"),a=parcelRequire("hUsYa"),o=parcelRequire("dxtvx"),s=parcelRequire("ebfLa"),u=parcelRequire("hh9EQ");function c(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new c(e)}function d(e){return new l(e)}Object.keys(u).forEach((function(e){u[e].id=r.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),a(c,i.Writable),c.prototype._write=function(e,t,r){this._hash.update(e),r()},c.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=o(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},a(l,i.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},l.prototype.verify=function(e,t,n){"string"==typeof t&&(t=r.from(t,n)),this.end();var i=this._hash.digest();return s(t,i,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}})),parcelRequire.register("dxtvx",(function(e,t){var r=parcelRequire("dxLrO").Buffer,n=parcelRequire("fcNpa"),i=parcelRequire("51IJ3"),a=parcelRequire("gl2hH").ec,o=parcelRequire("lfLZB"),s=parcelRequire("l9ByP"),u=parcelRequire("iNaLc");function c(e,t,i,a){if((e=r.from(e.toArray())).length<t.byteLength()){var o=r.alloc(t.byteLength()-e.length);e=r.concat([o,e])}var s=i.length,u=function(e,t){e=(e=l(e,t)).mod(t);var n=r.from(e.toArray());if(n.length<t.byteLength()){var i=r.alloc(t.byteLength()-n.length);n=r.concat([i,n])}return n}(i,t),c=r.alloc(s);c.fill(1);var f=r.alloc(s);return f=n(a,f).update(c).update(r.from([0])).update(e).update(u).digest(),c=n(a,f).update(c).digest(),{k:f=n(a,f).update(c).update(r.from([1])).update(e).update(u).digest(),v:c=n(a,f).update(c).digest()}}function l(e,t){var r=new o(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function f(e,t,i){var a,o;do{for(a=r.alloc(0);8*a.length<e.bitLength();)t.v=n(i,t.k).update(t.v).digest(),a=r.concat([a,t.v]);o=l(a,e),t.k=n(i,t.k).update(t.v).update(r.from([0])).digest(),t.v=n(i,t.k).update(t.v).digest()}while(-1!==o.cmp(e));return o}function d(e,t,r,n){return e.toRed(o.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,n,h,v){var p=s(t);if(p.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(e,t){var n=u[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new a(n).keyFromPrivate(t.privateKey).sign(e);return r.from(i.toDER())}(e,p)}if("dsa"===p.type){if("dsa"!==h)throw new Error("wrong private key type");return function(e,t,n){var i,a=t.params.priv_key,s=t.params.p,u=t.params.q,h=t.params.g,v=new o(0),p=l(e,u).mod(u),b=!1,g=c(a,u,e,n);for(;!1===b;)v=d(h,i=f(u,g,n),s,u),0===(b=i.invm(u).imul(p.add(a.mul(v))).mod(u)).cmpn(0)&&(b=!1,v=new o(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),r.from(n)}(v,b)}(e,p,n)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");e=r.concat([v,e]);for(var b=p.modulus.byteLength(),g=[0,1];e.length+g.length+1<b;)g.push(255);g.push(0);for(var m=-1;++m<e.length;)g.push(e[m]);return i(g,p)},e.exports.getKey=c,e.exports.makeKey=f})),parcelRequire.register("51IJ3",(function(e,t){var r=parcelRequire("dwjmx").Buffer,n=parcelRequire("lfLZB"),i=parcelRequire("5o49g");function a(e){var t,r=e.modulus.byteLength();do{t=new n(i(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function o(e,t){var i=function(e){var t=a(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),s=new n(e).mul(i.blinder).umod(t.modulus),u=s.toRed(n.mont(t.prime1)),c=s.toRed(n.mont(t.prime2)),l=t.coefficient,f=t.prime1,d=t.prime2,h=u.redPow(t.exponent1).fromRed(),v=c.redPow(t.exponent2).fromRed(),p=h.isub(v).imul(l).umod(f).imul(d);return v.iadd(p).imul(i.unblinder).umod(t.modulus).toArrayLike(r,"be",o)}o.getr=a,e.exports=o})),parcelRequire.register("lfLZB",(function(e,t){!function(e,t){"use strict";var r,n=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},a=function(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)},o=function(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n},s=function(e,t,r,i){for(var a=0,o=0,s=Math.min(e.length,r),u=t;u<s;u++){var c=e.charCodeAt(u)-48;a*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),a+=o}return a},u=function(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red},c=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},l=function(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var v=c-h|0;l+=(o=(i=0|e.words[v])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()},f=function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r._strip()},d=function(e,t,r){return f(e,t,r)},h=function(e,t){this.x=e,this.y=t},v=function(e,t){this.name=e,this.p=new w(t,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()},p=function(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")},b=function(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")},g=function(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")},m=function(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")},$=function(e){if("string"==typeof e){var t=w._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null},y=function(e){$.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)};function w(e,t,r){if(w.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=w:t.BN=w,w.BN=w,w.wordSize=26;try{r="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:parcelRequire("7Epwj").Buffer}catch(e){}if(w.isBN=function(e){return e instanceof w||null!==e&&"object"==typeof e&&e.constructor.wordSize===w.wordSize&&Array.isArray(e.words)},w.max=function(e,t){return e.cmp(t)>0?e:t},w.min=function(e,t){return e.cmp(t)<0?e:t},w.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},w.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},w.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this._strip()},w.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this._strip()},w.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,u=Math.min(a,a-o)+r,c=0,l=r;l<u;l+=n)c=s(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=s(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},w.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},w.prototype._move=function(e){u(e,this)},w.prototype.clone=function(){var e=new w(null);return this.copy(e),e},w.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},w.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{w.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(e){w.prototype.inspect=c}else w.prototype.inspect=c;var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];w.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);a=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==a||o!==this.length-1?_[6-u.length]+u+r:u+r}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=S[e],l=C[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modrn(l).toString(e);r=(f=f.idivn(l)).isZero()?d+r:_[c-d.length]+d+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},w.prototype.toJSON=function(){return this.toString(16,2)},r&&(w.prototype.toBuffer=function(e,t){return this.toArrayLike(r,e,t)}),w.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};w.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},w.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},w.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?w.prototype._countBits=function(e){return 32-Math.clz32(e)}:w.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},w.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},w.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},w.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},w.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},w.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},w.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},w.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},w.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},w.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},w.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},w.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},w.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},w.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},w.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},w.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},w.prototype.notn=function(e){return this.clone().inotn(e)},w.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},w.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},w.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},w.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},w.prototype.sub=function(e){return this.clone().isub(e)};var k=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],v=8191&h,p=h>>>13,b=0|o[2],g=8191&b,m=b>>>13,$=0|o[3],y=8191&$,w=$>>>13,_=0|o[4],S=8191&_,C=_>>>13,k=0|o[5],E=8191&k,R=k>>>13,x=0|o[6],M=8191&x,I=x>>>13,T=0|o[7],A=8191&T,O=T>>>13,D=0|o[8],P=8191&D,q=D>>>13,L=0|o[9],U=8191&L,N=L>>>13,B=0|s[0],F=8191&B,j=B>>>13,K=0|s[1],H=8191&K,W=K>>>13,V=0|s[2],z=8191&V,G=V>>>13,J=0|s[3],Y=8191&J,Z=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],ve=8191&he,pe=he>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,F)|0))<<13)|0;c=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(p,F)|0,a=Math.imul(p,j);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(m,F)|0,a=Math.imul(m,j),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(p,H)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,j))+Math.imul(w,F)|0,a=Math.imul(w,j),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,W)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,G)|0;var $e=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,j))+Math.imul(C,F)|0,a=Math.imul(C,j),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(p,Y)|0,a=a+Math.imul(p,Z)|0;var ye=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(R,F)|0,a=Math.imul(R,j),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,W)|0,n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(p,Q)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(I,F)|0,a=Math.imul(I,j),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var _e=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(O,F)|0,a=Math.imul(O,j),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(q,F)|0,a=Math.imul(q,j),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,W)|0,n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var Ce=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(N,F)|0,a=Math.imul(N,j),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,W)|0,n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(O,z)|0,a=a+Math.imul(O,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,de)|0;var ke=(c+(n=n+Math.imul(f,ve)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(d,ve)|0))<<13)|0;c=((a=a+Math.imul(d,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(N,H)|0,a=Math.imul(N,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(q,z)|0,a=a+Math.imul(q,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var Ee=(c+(n=n+Math.imul(v,ve)|0)|0)+((8191&(i=(i=i+Math.imul(v,pe)|0)+Math.imul(p,ve)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(N,z)|0,a=Math.imul(N,G),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(q,Y)|0,a=a+Math.imul(q,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Re=(c+(n=n+Math.imul(g,ve)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(m,ve)|0))<<13)|0;c=((a=a+Math.imul(m,pe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,Z))+Math.imul(N,Y)|0,a=Math.imul(N,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var xe=(c+(n=n+Math.imul(y,ve)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(w,ve)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(N,Q)|0,a=Math.imul(N,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(q,re)|0,a=a+Math.imul(q,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Me=(c+(n=n+Math.imul(S,ve)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ve)|0))<<13)|0;c=((a=a+Math.imul(C,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,a=Math.imul(N,ne),n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Ie=(c+(n=n+Math.imul(E,ve)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(R,ve)|0))<<13)|0;c=((a=a+Math.imul(R,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,ae),i=(i=Math.imul(U,oe))+Math.imul(N,ae)|0,a=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(M,ve)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(I,ve)|0))<<13)|0;c=((a=a+Math.imul(I,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(N,ue)|0,a=Math.imul(N,ce),n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(q,fe)|0,a=a+Math.imul(q,de)|0;var Ae=(c+(n=n+Math.imul(A,ve)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(O,ve)|0))<<13)|0;c=((a=a+Math.imul(O,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(N,fe)|0,a=Math.imul(N,de);var Oe=(c+(n=n+Math.imul(P,ve)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(q,ve)|0))<<13)|0;c=((a=a+Math.imul(q,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var De=(c+(n=Math.imul(U,ve))|0)+((8191&(i=(i=Math.imul(U,pe))+Math.imul(N,ve)|0))<<13)|0;return c=((a=Math.imul(N,pe))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=be,u[1]=ge,u[2]=me,u[3]=$e,u[4]=ye,u[5]=we,u[6]=_e,u[7]=Se,u[8]=Ce,u[9]=ke,u[10]=Ee,u[11]=Re,u[12]=xe,u[13]=Me,u[14]=Ie,u[15]=Te,u[16]=Ae,u[17]=Oe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};Math.imul||(k=l),w.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?k(this,e,t):r<63?l(this,e,t):r<1024?f(this,e,t):d(this,e,t)},h.prototype.makeRBT=function(e){for(var t=new Array(e),r=w.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},h.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},h.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},h.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var v=r[l+h],p=n[l+h],b=r[l+h+o],g=n[l+h+o],m=f*b-d*g;g=f*g+d*b,b=m,r[l+h]=v+b,n[l+h]=p+g,r[l+h+o]=v-b,n[l+h+o]=p-g,h!==s&&(m=u*f-c*d,d=u*d+c*f,f=m)}},h.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},h.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},h.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},h.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0==(-8192&a))},h.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},h.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var h=0;h<n;h++){var v=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=v}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},w.prototype.mul=function(e){var t=new w(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},w.prototype.mulf=function(e){var t=new w(null);return t.words=new Array(this.length+e.length),d(this,e,t)},w.prototype.imul=function(e){return this.clone().mulTo(e,this)},w.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},w.prototype.muln=function(e){return this.clone().imuln(e)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new w(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},w.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},w.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},w.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},w.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},w.prototype.shln=function(e){return this.clone().ishln(e)},w.prototype.ushln=function(e){return this.clone().iushln(e)},w.prototype.shrn=function(e){return this.clone().ishrn(e)},w.prototype.ushrn=function(e){return this.clone().iushrn(e)},w.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},w.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},w.prototype.maskn=function(e){return this.clone().imaskn(e)},w.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},w.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},w.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},w.prototype.addn=function(e){return this.clone().iaddn(e)},w.prototype.subn=function(e){return this.clone().isubn(e)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},w.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,s=n.length-i.length;if("mod"!==t){(o=new w(null)).length=s+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,o&&(o.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);o&&(o.words[l]=f)}return o&&o._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},w.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new w(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new w(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new w(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},w.prototype.div=function(e){return this.divmod(e,"div",!1).div},w.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},w.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},w.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},w.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=67108864%e,i=0,a=this.length-1;a>=0;a--)i=(r*i+(0|this.words[a]))%e;return t?-i:i},w.prototype.modn=function(e){return this.modrn(e)},w.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*r;this.words[i]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},w.prototype.divn=function(e){return this.clone().idivn(e)},w.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new w(1),a=new w(0),o=new w(0),s=new w(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var h=0,v=1;0==(r.words[0]&v)&&h<26;++h,v<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(l)),o.iushrn(1),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(s)):(r.isub(t),o.isub(i),s.isub(a))}return{a:o,b:s,gcd:r.iushln(u)}},w.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new w(1),o=new w(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},w.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},w.prototype.invm=function(e){return this.egcd(e).a.umod(e)},w.prototype.isEven=function(){return 0==(1&this.words[0])},w.prototype.isOdd=function(){return 1==(1&this.words[0])},w.prototype.andln=function(e){return this.words[0]&e},w.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},w.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},w.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},w.prototype.gtn=function(e){return 1===this.cmpn(e)},w.prototype.gt=function(e){return 1===this.cmp(e)},w.prototype.gten=function(e){return this.cmpn(e)>=0},w.prototype.gte=function(e){return this.cmp(e)>=0},w.prototype.ltn=function(e){return-1===this.cmpn(e)},w.prototype.lt=function(e){return-1===this.cmp(e)},w.prototype.lten=function(e){return this.cmpn(e)<=0},w.prototype.lte=function(e){return this.cmp(e)<=0},w.prototype.eqn=function(e){return 0===this.cmpn(e)},w.prototype.eq=function(e){return 0===this.cmp(e)},w.red=function(e){return new $(e)},w.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},w.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(e){return this.red=e,this},w.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},w.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},w.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},w.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},w.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},w.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},w.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},w.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},w.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};v.prototype._tmp=function(){var e=new w(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(p,v),p.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},p.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(b,v),i(g,v),i(m,v),m.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},w._prime=function(e){if(E[e])return E[e];var t;if("k256"===e)t=new p;else if("p224"===e)t=new b;else if("p192"===e)t=new g;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new m}return E[e]=t,t},$.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},$.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},$.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},$.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},$.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},$.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},$.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},$.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},$.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},$.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},$.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},$.prototype.isqr=function(e){return this.imul(e,e.clone())},$.prototype.sqr=function(e){return this.mul(e,e)},$.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new w(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new w(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new w(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var l=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),h=a;0!==d.cmp(o);){for(var v=d,p=0;0!==v.cmp(o);p++)v=v.redSqr();n(p<h);var b=this.pow(l,new w(1).iushln(h-p-1));f=f.redMul(b),l=b.redSqr(),d=d.redMul(l),h=p}return f},$.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},$.prototype.pow=function(e,t){if(t.isZero())return new w(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new w(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++o||0===n&&0===c)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}s=26}return i},$.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},$.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},w.mont=function(e){return new y(e)},i(y,$),y.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},y.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},y.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},y.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new w(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},y.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),parcelRequire.register("gl2hH",(function(e,t){"use strict";var r=e.exports;r.version=parcelRequire("adrEo").version,r.utils=parcelRequire("8Zpzg"),r.rand=parcelRequire("396dW"),r.curve=parcelRequire("c9DaN"),r.curves=parcelRequire("9pNNr"),r.ec=parcelRequire("f7IWI"),r.eddsa=parcelRequire("1ILrY")})),parcelRequire.register("adrEo",(function(e,t){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')})),parcelRequire.register("8Zpzg",(function(e,t){"use strict";var r=e.exports,n=parcelRequire("iLctW"),i=parcelRequire("3mFMV"),a=parcelRequire("5oKXk");r.assert=i,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,c=t.andln(3)+a&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!==(n=t.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new n(e,"hex","le")}})),parcelRequire.register("iLctW",(function(e,t){!function(e,t){"use strict";var r,n=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},a=function(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15},o=function(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n},s=function(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i},u=function(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var v=c-h|0;l+=(o=(i=0|e.words[v])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()},c=function(e,t,r){return(new l).mulp(e,t,r)},l=function(e,t){this.x=e,this.y=t},f=function(e,t){this.name=e,this.p=new m(t,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()},d=function(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")},h=function(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")},v=function(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")},p=function(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")},b=function(e){if("string"==typeof e){var t=m._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null},g=function(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)};function m(e,t,r){if(m.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=m:t.BN=m,m.BN=m,m.wordSize=26;try{r="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:parcelRequire("7Epwj").Buffer}catch(e){}m.isBN=function(e){return e instanceof m||null!==e&&"object"==typeof e&&e.constructor.wordSize===m.wordSize&&Array.isArray(e.words)},m.max=function(e,t){return e.cmp(t)>0?e:t},m.min=function(e,t){return e.cmp(t)<0?e:t},m.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},m.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},m.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},m.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},m.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,u=Math.min(a,a-o)+r,c=0,l=r;l<u;l+=n)c=s(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=s(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},m.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},m.prototype.clone=function(){var e=new m(null);return this.copy(e),e},m.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},m.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var $=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];m.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);r=0!==(a=s>>>24-i&16777215)||o!==this.length-1?$[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=y[e],l=w[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(l).toString(e);r=(f=f.idivn(l)).isZero()?d+r:$[c-d.length]+d+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(e,t){return n(void 0!==r),this.toArrayLike(r,e,t)},m.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},m.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?m.prototype._countBits=function(e){return 32-Math.clz32(e)}:m.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},m.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},m.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},m.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return 0!==this.negative},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},m.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},m.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},m.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},m.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},m.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},m.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},m.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},m.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},m.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},m.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},m.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},m.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},m.prototype.notn=function(e){return this.clone().inotn(e)},m.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},m.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},m.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},m.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(e){return this.clone().isub(e)};var _=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],v=8191&h,p=h>>>13,b=0|o[2],g=8191&b,m=b>>>13,$=0|o[3],y=8191&$,w=$>>>13,_=0|o[4],S=8191&_,C=_>>>13,k=0|o[5],E=8191&k,R=k>>>13,x=0|o[6],M=8191&x,I=x>>>13,T=0|o[7],A=8191&T,O=T>>>13,D=0|o[8],P=8191&D,q=D>>>13,L=0|o[9],U=8191&L,N=L>>>13,B=0|s[0],F=8191&B,j=B>>>13,K=0|s[1],H=8191&K,W=K>>>13,V=0|s[2],z=8191&V,G=V>>>13,J=0|s[3],Y=8191&J,Z=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],ve=8191&he,pe=he>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,F)|0))<<13)|0;c=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(p,F)|0,a=Math.imul(p,j);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(m,F)|0,a=Math.imul(m,j),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(p,H)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,j))+Math.imul(w,F)|0,a=Math.imul(w,j),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,W)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,G)|0;var $e=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,j))+Math.imul(C,F)|0,a=Math.imul(C,j),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(p,Y)|0,a=a+Math.imul(p,Z)|0;var ye=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(R,F)|0,a=Math.imul(R,j),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,W)|0,n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(p,Q)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(I,F)|0,a=Math.imul(I,j),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var _e=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(O,F)|0,a=Math.imul(O,j),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(q,F)|0,a=Math.imul(q,j),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,W)|0,n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var Ce=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(N,F)|0,a=Math.imul(N,j),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,W)|0,n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(O,z)|0,a=a+Math.imul(O,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,de)|0;var ke=(c+(n=n+Math.imul(f,ve)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(d,ve)|0))<<13)|0;c=((a=a+Math.imul(d,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(N,H)|0,a=Math.imul(N,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(q,z)|0,a=a+Math.imul(q,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var Ee=(c+(n=n+Math.imul(v,ve)|0)|0)+((8191&(i=(i=i+Math.imul(v,pe)|0)+Math.imul(p,ve)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(N,z)|0,a=Math.imul(N,G),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(q,Y)|0,a=a+Math.imul(q,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Re=(c+(n=n+Math.imul(g,ve)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(m,ve)|0))<<13)|0;c=((a=a+Math.imul(m,pe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,Z))+Math.imul(N,Y)|0,a=Math.imul(N,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var xe=(c+(n=n+Math.imul(y,ve)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(w,ve)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(N,Q)|0,a=Math.imul(N,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(q,re)|0,a=a+Math.imul(q,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Me=(c+(n=n+Math.imul(S,ve)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ve)|0))<<13)|0;c=((a=a+Math.imul(C,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,a=Math.imul(N,ne),n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Ie=(c+(n=n+Math.imul(E,ve)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(R,ve)|0))<<13)|0;c=((a=a+Math.imul(R,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,ae),i=(i=Math.imul(U,oe))+Math.imul(N,ae)|0,a=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(M,ve)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(I,ve)|0))<<13)|0;c=((a=a+Math.imul(I,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(N,ue)|0,a=Math.imul(N,ce),n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(q,fe)|0,a=a+Math.imul(q,de)|0;var Ae=(c+(n=n+Math.imul(A,ve)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(O,ve)|0))<<13)|0;c=((a=a+Math.imul(O,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(N,fe)|0,a=Math.imul(N,de);var Oe=(c+(n=n+Math.imul(P,ve)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(q,ve)|0))<<13)|0;c=((a=a+Math.imul(q,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var De=(c+(n=Math.imul(U,ve))|0)+((8191&(i=(i=Math.imul(U,pe))+Math.imul(N,ve)|0))<<13)|0;return c=((a=Math.imul(N,pe))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=be,u[1]=ge,u[2]=me,u[3]=$e,u[4]=ye,u[5]=we,u[6]=_e,u[7]=Se,u[8]=Ce,u[9]=ke,u[10]=Ee,u[11]=Re,u[12]=xe,u[13]=Me,u[14]=Ie,u[15]=Te,u[16]=Ae,u[17]=Oe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};Math.imul||(_=u),m.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?_(this,e,t):n<63?u(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):c(this,e,t),r},l.prototype.makeRBT=function(e){for(var t=new Array(e),r=m.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},l.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},l.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},l.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var v=r[l+h],p=n[l+h],b=r[l+h+o],g=n[l+h+o],m=f*b-d*g;g=f*g+d*b,b=m,r[l+h]=v+b,n[l+h]=p+g,r[l+h+o]=v-b,n[l+h+o]=p-g,h!==s&&(m=u*f-c*d,d=u*d+c*f,f=m)}},l.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},l.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},l.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},l.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0==(-8192&a))},l.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},l.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var h=0;h<n;h++){var v=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=v}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},m.prototype.mul=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},m.prototype.mulf=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),c(this,e,t)},m.prototype.imul=function(e){return this.clone().mulTo(e,this)},m.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},m.prototype.muln=function(e){return this.clone().imuln(e)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new m(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},m.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},m.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},m.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},m.prototype.shln=function(e){return this.clone().ishln(e)},m.prototype.ushln=function(e){return this.clone().iushln(e)},m.prototype.shrn=function(e){return this.clone().ishrn(e)},m.prototype.ushrn=function(e){return this.clone().iushrn(e)},m.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},m.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},m.prototype.maskn=function(e){return this.clone().imaskn(e)},m.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},m.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},m.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},m.prototype.addn=function(e){return this.clone().iaddn(e)},m.prototype.subn=function(e){return this.clone().isubn(e)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},m.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,s=n.length-i.length;if("mod"!==t){(o=new m(null)).length=s+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,o&&(o.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);o&&(o.words[l]=f)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},m.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new m(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new m(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new m(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},m.prototype.div=function(e){return this.divmod(e,"div",!1).div},m.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},m.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},m.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},m.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},m.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},m.prototype.divn=function(e){return this.clone().idivn(e)},m.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new m(1),a=new m(0),o=new m(0),s=new m(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var h=0,v=1;0==(r.words[0]&v)&&h<26;++h,v<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(l)),o.iushrn(1),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(s)):(r.isub(t),o.isub(i),s.isub(a))}return{a:o,b:s,gcd:r.iushln(u)}},m.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new m(1),o=new m(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},m.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},m.prototype.invm=function(e){return this.egcd(e).a.umod(e)},m.prototype.isEven=function(){return 0==(1&this.words[0])},m.prototype.isOdd=function(){return 1==(1&this.words[0])},m.prototype.andln=function(e){return this.words[0]&e},m.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},m.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},m.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},m.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},m.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},m.prototype.gtn=function(e){return 1===this.cmpn(e)},m.prototype.gt=function(e){return 1===this.cmp(e)},m.prototype.gten=function(e){return this.cmpn(e)>=0},m.prototype.gte=function(e){return this.cmp(e)>=0},m.prototype.ltn=function(e){return-1===this.cmpn(e)},m.prototype.lt=function(e){return-1===this.cmp(e)},m.prototype.lten=function(e){return this.cmpn(e)<=0},m.prototype.lte=function(e){return this.cmp(e)<=0},m.prototype.eqn=function(e){return 0===this.cmpn(e)},m.prototype.eq=function(e){return 0===this.cmp(e)},m.red=function(e){return new b(e)},m.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},m.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(e){return this.red=e,this},m.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},m.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},m.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},m.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},m.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},m.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},m.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},m.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},m.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new m(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},i(d,f),d.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},d.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(h,f),i(v,f),i(p,f),p.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},m._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new h;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new p}return S[e]=t,t},b.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new m(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new m(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new m(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var l=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),h=a;0!==d.cmp(o);){for(var v=d,p=0;0!==v.cmp(o);p++)v=v.redSqr();n(p<h);var b=this.pow(l,new m(1).iushln(h-p-1));f=f.redMul(b),l=b.redSqr(),d=d.redMul(l),h=p}return f},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new m(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new m(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++o||0===n&&0===c)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}s=26}return i},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},m.mont=function(e){return new g(e)},i(g,b),g.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},g.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},g.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new m(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),parcelRequire.register("5oKXk",(function(e,t){"use strict";var r=e.exports;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),parcelRequire.register("c9DaN",(function(e,t){"use strict";var r=e.exports;r.base=parcelRequire("4UBk2"),r.short=parcelRequire("FzMsN"),r.mont=parcelRequire("dA9Hw"),r.edwards=parcelRequire("8wv9y")})),parcelRequire.register("4UBk2",(function(e,t){"use strict";var r=parcelRequire("iLctW"),n=parcelRequire("8Zpzg"),i=n.getNAF,a=n.getJSF,o=n.assert;function s(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(e,t){o(e.precomputed);var r=e._getDoubles(),n=i(t,1,this._bitLength),a=(1<<r.step+1)-(r.step%2==0?2:1);a/=3;var s,u,c=[];for(s=0;s<n.length;s+=r.step){u=0;for(var l=s+r.step-1;l>=s;l--)u=(u<<1)+n[l];c.push(u)}for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=a;h>0;h--){for(s=0;s<c.length;s++)(u=c[s])===h?d=d.mixedAdd(r.points[s]):u===-h&&(d=d.mixedAdd(r.points[s].neg()));f=f.add(d)}return f.toP()},s.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var a=n.points,s=i(t,r,this._bitLength),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var l=0;c>=0&&0===s[c];c--)l++;if(c>=0&&l++,u=u.dblp(l),c<0)break;var f=s[c];o(0!==f),u="affine"===e.type?f>0?u.mixedAdd(a[f-1>>1]):u.mixedAdd(a[-f-1>>1].neg()):f>0?u.add(a[f-1>>1]):u.add(a[-f-1>>1].neg())}return"affine"===e.type?u.toP():u},s.prototype._wnafMulAdd=function(e,t,r,n,o){var s,u,c,l=this._wnafT1,f=this._wnafT2,d=this._wnafT3,h=0;for(s=0;s<n;s++){var v=(c=t[s])._getNAFPoints(e);l[s]=v.wnd,f[s]=v.points}for(s=n-1;s>=1;s-=2){var p=s-1,b=s;if(1===l[p]&&1===l[b]){var g=[t[p],null,null,t[b]];0===t[p].y.cmp(t[b].y)?(g[1]=t[p].add(t[b]),g[2]=t[p].toJ().mixedAdd(t[b].neg())):0===t[p].y.cmp(t[b].y.redNeg())?(g[1]=t[p].toJ().mixedAdd(t[b]),g[2]=t[p].add(t[b].neg())):(g[1]=t[p].toJ().mixedAdd(t[b]),g[2]=t[p].toJ().mixedAdd(t[b].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],$=a(r[p],r[b]);for(h=Math.max($[0].length,h),d[p]=new Array(h),d[b]=new Array(h),u=0;u<h;u++){var y=0|$[0][u],w=0|$[1][u];d[p][u]=m[3*(y+1)+(w+1)],d[b][u]=0,f[p]=g}}else d[p]=i(r[p],l[p],this._bitLength),d[b]=i(r[b],l[b],this._bitLength),h=Math.max(d[p].length,h),h=Math.max(d[b].length,h)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(s=h;s>=0;s--){for(var C=0;s>=0;){var k=!0;for(u=0;u<n;u++)S[u]=0|d[u][s],0!==S[u]&&(k=!1);if(!k)break;C++,s--}if(s>=0&&C++,_=_.dblp(C),s<0)break;for(u=0;u<n;u++){var E=S[u];0!==E&&(E>0?c=f[u][E-1>>1]:E<0&&(c=f[u][-E-1>>1].neg()),_="affine"===c.type?_.mixedAdd(c):_.add(c))}}for(s=0;s<n;s++)f[s]=null;return o?_:_.toP()},s.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}})),parcelRequire.register("FzMsN",(function(e,t){"use strict";var r=parcelRequire("8Zpzg"),n=parcelRequire("iLctW"),i=parcelRequire("hUsYa"),a=parcelRequire("4UBk2"),o=r.assert;function s(e){a.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,i){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(e,t,r,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(s,a),e.exports=s,s.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?r=a[0]:(r=a[1],o(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(r)}}},s.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),a=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(a).fromRed(),i.redSub(a).fromRed()]},s.prototype._getEndoBasis=function(e){for(var t,r,i,a,o,s,u,c,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),v=new n(1),p=new n(0),b=new n(0),g=new n(1),m=0;0!==d.cmpn(0);){var $=h.div(d);c=h.sub($.mul(d)),l=b.sub($.mul(v));var y=g.sub($.mul(p));if(!i&&c.cmp(f)<0)t=u.neg(),r=v,i=c.neg(),a=l;else if(i&&2==++m)break;u=c,h=d,d=c,b=v,v=l,g=p,p=y}o=c.neg(),s=l;var w=i.sqr().add(a.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=t,s=r),i.negative&&(i=i.neg(),a=a.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:i,b:a},{a:o,b:s}]},s.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},s.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var a=i.fromRed().isOdd();return(t&&!a||!t&&a)&&(i=i.redNeg()),this.point(e,i)},s.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},s.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),l=0;l<2*a;l++)n[l]=null,i[l]=null;return c},i(u,a.BasePoint),s.prototype.point=function(e,t,r){return new u(this,e,t,r)},s.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){var n=function(t){return e.point(t[0],t[1],r)};"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(c,a.BasePoint),s.prototype.jpoint=function(e,t,r){return new c(this,e,t,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),d=u.redSqr().redIAdd(l).redISub(f).redISub(f),h=u.redMul(f.redISub(d)).redISub(a.redMul(l)),v=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,v)},c.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(c)),h=this.z.redMul(o);return this.curve.jpoint(f,d,h)},c.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=a.redSqr(),f=c.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),v=a.redMul(f),p=h.redSqr().redISub(v.redAdd(v)),b=v.redISub(p),g=h.redMul(b);g=g.redIAdd(g).redISub(d);var m=c.redMul(s);t+1<e&&(u=u.redMul(d)),a=p,s=m,c=g}return this.curve.jpoint(a,c.redMul(i),s)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var v=l.redAdd(l).redIAdd(l),p=v.redSqr(),b=d.redIAdd(d);b=(b=b.redIAdd(b)).redIAdd(b),e=p.redISub(h).redISub(h),t=v.redMul(h.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},c.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var v=d.redIAdd(d),p=(v=v.redIAdd(v)).redAdd(v);e=h.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var b=f.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=h.redMul(v.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},c.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),v=r.redAdd(r).redMul(n);return this.curve.jpoint(l,h,v)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,d,h)},c.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},c.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},c.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}})),parcelRequire.register("dA9Hw",(function(e,t){"use strict";var r=parcelRequire("iLctW"),n=parcelRequire("hUsYa"),i=parcelRequire("4UBk2"),a=parcelRequire("8Zpzg");function o(e){i.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function s(e,t,n){i.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(o,i),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},n(s,i.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},o.prototype.point=function(e,t){return new s(this,e,t)},o.prototype.pointFromJSON=function(e){return s.fromJSON(this,e)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(e,t){return new s(e,t[0],t[1]||e.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},s.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),o=i.redMul(n),s=t.z.redMul(a.redAdd(o).redSqr()),u=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(s,u)},s.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()}})),parcelRequire.register("8wv9y",(function(e,t){"use strict";var r=parcelRequire("8Zpzg"),n=parcelRequire("iLctW"),i=parcelRequire("hUsYa"),a=parcelRequire("4UBk2"),o=r.assert;function s(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,i,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=o&&new n(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(s,a),e.exports=s,s.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},s.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},s.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},s.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),a=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(a.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},s.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),a=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},s.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},i(u,a.BasePoint),s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},s.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),o=a.redSub(r),s=n.redSub(t),u=i.redMul(o),c=a.redMul(s),l=i.redMul(s),f=o.redMul(a);return this.curve.point(u,c,f,l)},u.prototype._projDbl=function(){var e,t,r,n,i,a,o=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(s)).redAdd(u);this.zOne?(e=o.redSub(s).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),a=c.redSub(i).redISub(i),e=o.redSub(s).redISub(u).redMul(a),t=c.redMul(n.redSub(u)),r=c.redMul(a))}else n=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),a=n.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(n)).redMul(a),t=this.curve._mulC(n).redMul(s.redISub(u)),r=n.redMul(a);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),o=i.redSub(n),s=i.redAdd(n),u=r.redAdd(t),c=a.redMul(o),l=s.redMul(u),f=a.redMul(u),d=o.redMul(s);return this.curve.point(c,l,d,f)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),f=n.redMul(u).redMul(l);return this.curve.twisted?(t=n.redMul(c).redMul(o.redSub(this.curve._mulA(a))),r=u.redMul(c)):(t=n.redMul(c).redMul(o.redSub(a)),r=this.curve._mulC(u).redMul(c)),this.curve.point(f,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add})),parcelRequire.register("9pNNr",(function(e,t){"use strict";var r,n=e.exports,i=parcelRequire("bfEcJ"),a=parcelRequire("c9DaN"),o=parcelRequire("8Zpzg").assert;function s(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=parcelRequire("3n6lm")}catch(e){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})})),parcelRequire.register("bfEcJ",(function(e,t){var r=e.exports;r.utils=parcelRequire("5co80"),r.common=parcelRequire("bJIu5"),r.sha=parcelRequire("hrr62"),r.ripemd=parcelRequire("1Lbj1"),r.hmac=parcelRequire("jjHcK"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),parcelRequire.register("5co80",(function(e,t){var r,n,i,a,o,s,u,c,l,f,d,h,v,p,b,g,m,$,y,w,_,S,C,k,E,R;$parcel$export(e.exports,"inherits",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"toArray",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"toHex",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"htonl",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"toHex32",(function(){return o}),(function(e){return o=e})),$parcel$export(e.exports,"zero2",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"zero8",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"join32",(function(){return c}),(function(e){return c=e})),$parcel$export(e.exports,"split32",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"rotr32",(function(){return f}),(function(e){return f=e})),$parcel$export(e.exports,"rotl32",(function(){return d}),(function(e){return d=e})),$parcel$export(e.exports,"sum32",(function(){return h}),(function(e){return h=e})),$parcel$export(e.exports,"sum32_3",(function(){return v}),(function(e){return v=e})),$parcel$export(e.exports,"sum32_4",(function(){return p}),(function(e){return p=e})),$parcel$export(e.exports,"sum32_5",(function(){return b}),(function(e){return b=e})),$parcel$export(e.exports,"sum64",(function(){return g}),(function(e){return g=e})),$parcel$export(e.exports,"sum64_hi",(function(){return m}),(function(e){return m=e})),$parcel$export(e.exports,"sum64_lo",(function(){return $}),(function(e){return $=e})),$parcel$export(e.exports,"sum64_4_hi",(function(){return y}),(function(e){return y=e})),$parcel$export(e.exports,"sum64_4_lo",(function(){return w}),(function(e){return w=e})),$parcel$export(e.exports,"sum64_5_hi",(function(){return _}),(function(e){return _=e})),$parcel$export(e.exports,"sum64_5_lo",(function(){return S}),(function(e){return S=e})),$parcel$export(e.exports,"rotr64_hi",(function(){return C}),(function(e){return C=e})),$parcel$export(e.exports,"rotr64_lo",(function(){return k}),(function(e){return k=e})),$parcel$export(e.exports,"shr64_hi",(function(){return E}),(function(e){return E=e})),$parcel$export(e.exports,"shr64_lo",(function(){return R}),(function(e){return R=e}));var x=parcelRequire("3mFMV"),M=parcelRequire("hUsYa");function I(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function T(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function A(e){return 1===e.length?"0"+e:e}function O(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r=M,n=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):I(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},i=function(e){for(var t="",r=0;r<e.length;r++)t+=A(e[r].toString(16));return t},a=T,o=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=T(i)),r+=O(i.toString(16))}return r},s=A,u=O,c=function(e,t,r,n){var i=r-t;x(i%4==0);for(var a=new Array(i/4),o=0,s=t;o<a.length;o++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[o]=u>>>0}return a},l=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},f=function(e,t){return e>>>t|e<<32-t},d=function(e,t){return e<<t|e>>>32-t},h=function(e,t){return e+t>>>0},v=function(e,t,r){return e+t+r>>>0},p=function(e,t,r,n){return e+t+r+n>>>0},b=function(e,t,r,n,i){return e+t+r+n+i>>>0},g=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a},m=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},$=function(e,t,r,n){return t+n>>>0},y=function(e,t,r,n,i,a,o,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+a>>>0)<a?1:0,e+r+i+o+(u+=(c=c+s>>>0)<s?1:0)>>>0},w=function(e,t,r,n,i,a,o,s){return t+n+a+s>>>0},_=function(e,t,r,n,i,a,o,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+a>>>0)<a?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+o+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},S=function(e,t,r,n,i,a,o,s,u,c){return t+n+a+s+c>>>0},C=function(e,t,r){return(t<<32-r|e>>>r)>>>0},k=function(e,t,r){return(e<<32-r|t>>>r)>>>0},E=function(e,t,r){return e>>>r},R=function(e,t,r){return(e<<32-r|t>>>r)>>>0}})),parcelRequire.register("bJIu5",(function(e,t){var r;$parcel$export(e.exports,"BlockHash",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("5co80"),i=parcelRequire("3mFMV");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r=a,a.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n}})),parcelRequire.register("hrr62",(function(e,t){var r,n,i,a,o;$parcel$export(e.exports,"sha1",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"sha224",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"sha256",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"sha384",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"sha512",(function(){return o}),(function(e){return o=e})),r=parcelRequire("9D6hH"),n=parcelRequire("2I4Am"),i=parcelRequire("hvgEG"),a=parcelRequire("bQpwf"),o=parcelRequire("dlIcE")})),parcelRequire.register("9D6hH",(function(e,t){"use strict";var r=parcelRequire("5co80"),n=parcelRequire("bJIu5"),i=parcelRequire("itFbj"),a=r.rotl32,o=r.sum32,s=r.sum32_5,u=i.ft_1,c=n.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],c=this.h[1],f=this.h[2],d=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var v=~~(n/20),p=s(a(i,5),u(v,c,f,d),h,r[n],l[v]);h=d,d=f,f=a(c,30),c=i,i=p}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],c),this.h[2]=o(this.h[2],f),this.h[3]=o(this.h[3],d),this.h[4]=o(this.h[4],h)},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}})),parcelRequire.register("itFbj",(function(e,t){var r,n,i,a,o,s,u;$parcel$export(e.exports,"ft_1",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"ch32",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"maj32",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"s0_256",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"s1_256",(function(){return o}),(function(e){return o=e})),$parcel$export(e.exports,"g0_256",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"g1_256",(function(){return u}),(function(e){return u=e}));var c=parcelRequire("5co80").rotr32;function l(e,t,r){return e&t^~e&r}function f(e,t,r){return e&t^e&r^t&r}function d(e,t,r){return e^t^r}r=function(e,t,r,n){return 0===e?l(t,r,n):1===e||3===e?d(t,r,n):2===e?f(t,r,n):void 0},n=l,i=f,a=function(e){return c(e,2)^c(e,13)^c(e,22)},o=function(e){return c(e,6)^c(e,11)^c(e,25)},s=function(e){return c(e,7)^c(e,18)^e>>>3},u=function(e){return c(e,17)^c(e,19)^e>>>10}})),parcelRequire.register("2I4Am",(function(e,t){"use strict";var r=parcelRequire("5co80"),n=parcelRequire("hvgEG");function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(i,n),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}})),parcelRequire.register("hvgEG",(function(e,t){"use strict";var r=parcelRequire("5co80"),n=parcelRequire("bJIu5"),i=parcelRequire("itFbj"),a=parcelRequire("3mFMV"),o=r.sum32,s=r.sum32_4,u=r.sum32_5,c=i.ch32,l=i.maj32,f=i.s0_256,d=i.s1_256,h=i.g0_256,v=i.g1_256,p=n.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}r.inherits(g,p),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(v(r[n-2]),r[n-7],h(r[n-15]),r[n-16]);var i=this.h[0],p=this.h[1],b=this.h[2],g=this.h[3],m=this.h[4],$=this.h[5],y=this.h[6],w=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var _=u(w,d(m),c(m,$,y),this.k[n],r[n]),S=o(f(i),l(i,p,b));w=y,y=$,$=m,m=o(g,_),g=b,b=p,p=i,i=o(_,S)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],p),this.h[2]=o(this.h[2],b),this.h[3]=o(this.h[3],g),this.h[4]=o(this.h[4],m),this.h[5]=o(this.h[5],$),this.h[6]=o(this.h[6],y),this.h[7]=o(this.h[7],w)},g.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}})),parcelRequire.register("bQpwf",(function(e,t){"use strict";var r=parcelRequire("5co80"),n=parcelRequire("dlIcE");function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(i,n),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}})),parcelRequire.register("dlIcE",(function(e,t){"use strict";var r=parcelRequire("5co80"),n=parcelRequire("bJIu5"),i=parcelRequire("3mFMV"),a=r.rotr64_hi,o=r.rotr64_lo,s=r.shr64_hi,u=r.shr64_lo,c=r.sum64,l=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,h=r.sum64_4_lo,v=r.sum64_5_hi,p=r.sum64_5_lo,b=n.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function $(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function y(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function _(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function S(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function R(e,t){var r=a(e,t,1)^a(e,t,8)^s(e,t,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=a(e,t,19)^a(t,e,29)^s(e,t,6);return r<0&&(r+=4294967296),r}function I(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}r.inherits(m,b),e.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=M(r[n-4],r[n-3]),a=I(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],u=R(r[n-30],r[n-29]),c=x(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=d(i,a,o,s,u,c,l,f),r[n+1]=h(i,a,o,s,u,c,l,f)}},m.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],d=this.h[5],h=this.h[6],b=this.h[7],g=this.h[8],m=this.h[9],R=this.h[10],x=this.h[11],M=this.h[12],I=this.h[13],T=this.h[14],A=this.h[15];i(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var D=T,P=A,q=k(g,m),L=E(g,m),U=$(g,m,R,x,M),N=y(g,m,R,x,M,I),B=this.k[O],F=this.k[O+1],j=r[O],K=r[O+1],H=v(D,P,q,L,U,N,B,F,j,K),W=p(D,P,q,L,U,N,B,F,j,K);D=S(n,a),P=C(n,a),q=w(n,a,o,s,u),L=_(n,a,o,s,u,d);var V=l(D,P,q,L),z=f(D,P,q,L);T=M,A=I,M=R,I=x,R=g,x=m,g=l(h,b,H,W),m=f(b,b,H,W),h=u,b=d,u=o,d=s,o=n,s=a,n=l(H,W,V,z),a=f(H,W,V,z)}c(this.h,0,n,a),c(this.h,2,o,s),c(this.h,4,u,d),c(this.h,6,h,b),c(this.h,8,g,m),c(this.h,10,R,x),c(this.h,12,M,I),c(this.h,14,T,A)},m.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}})),parcelRequire.register("1Lbj1",(function(e,t){var r;$parcel$export(e.exports,"ripemd160",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("5co80"),i=parcelRequire("bJIu5"),a=n.rotl32,o=n.sum32,s=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,c),r=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],m=r,$=n,y=i,w=c,_=l,S=0;S<80;S++){var C=o(a(u(r,f(S,n,i,c),e[v[S]+t],d(S)),b[S]),l);r=l,l=c,c=a(i,10),i=n,n=C,C=o(a(u(m,f(79-S,$,y,w),e[p[S]+t],h(S)),g[S]),_),m=_,_=w,w=a(y,10),y=$,$=C}C=s(this.h[1],i,w),this.h[1]=s(this.h[2],c,_),this.h[2]=s(this.h[3],l,m),this.h[3]=s(this.h[4],r,$),this.h[4]=s(this.h[0],n,y),this.h[0]=C},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]})),parcelRequire.register("jjHcK",(function(e,t){"use strict";var r=parcelRequire("5co80"),n=parcelRequire("3mFMV");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}})),parcelRequire.register("3n6lm",(function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}})),parcelRequire.register("f7IWI",(function(e,t){"use strict";var r=parcelRequire("iLctW"),n=parcelRequire("d4Nqk"),i=parcelRequire("8Zpzg"),a=parcelRequire("9pNNr"),o=parcelRequire("396dW"),s=i.assert,u=parcelRequire("apAp2"),c=parcelRequire("ecMxi");function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(s(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new u(this,e)},l.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),a=this.n.sub(new r(2));;){var s=new r(t.generate(i));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,i,a){"object"==typeof i&&(a=i,i=null),a||(a={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),u=e.toArray("be",o),l=new n({hash:this.hash,entropy:s,nonce:u,pers:a.pers,persEnc:a.persEnc||"utf8"}),f=this.n.sub(new r(1)),d=0;;d++){var h=a.k?a.k(d):new r(l.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var v=this.g.mul(h);if(!v.isInfinity()){var p=v.getX(),b=p.umod(this.n);if(0!==b.cmpn(0)){var g=h.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(v.getY().isOdd()?1:0)|(0!==p.cmp(b)?2:0);return a.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new c({r:b,s:g,recoveryParam:m})}}}}}},l.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var a=(t=new c(t,"hex")).r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,u=o.invm(this.n),l=u.mul(e).umod(this.n),f=u.mul(a).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),f)).isInfinity()&&s.eqXToP(a):!(s=this.g.mulAdd(l,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(a)},l.prototype.recoverPubKey=function(e,t,n,i){s((3&n)===n,"The recovery param is more than two bits"),t=new c(t,i);var a=this.n,o=new r(e),u=t.r,l=t.s,f=1&n,d=n>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");u=d?this.curve.pointFromX(u.add(this.curve.n),f):this.curve.pointFromX(u,f);var h=t.r.invm(a),v=a.sub(o).mul(h).umod(a),p=l.mul(h).umod(a);return this.g.mulAdd(v,u,p)},l.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new c(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}})),parcelRequire.register("d4Nqk",(function(e,t){"use strict";var r=parcelRequire("bfEcJ"),n=parcelRequire("5oKXk"),i=parcelRequire("3mFMV");function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),r=n.toArray(e.nonce,e.nonceEnc||"hex"),o=n.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,o)}e.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,a){"string"!=typeof t&&(a=r,r=t,t=null),e=n.toArray(e,t),r=n.toArray(r,a),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(r),this._reseed++,n.encode(o,t)}})),parcelRequire.register("apAp2",(function(e,t){"use strict";var r=parcelRequire("iLctW"),n=parcelRequire("8Zpzg").assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=i,i.fromPublic=function(e,t,r){return t instanceof i?t:new i(e,{pub:t,pubEnc:r})},i.fromPrivate=function(e,t,r){return t instanceof i?t:new i(e,{priv:t,privEnc:r})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},i.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}})),parcelRequire.register("ecMxi",(function(e,t){"use strict";var r=parcelRequire("iLctW"),n=parcelRequire("8Zpzg"),i=n.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(i(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function s(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function c(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=n.toArray(e,t);var i=new o;if(48!==e[i.place++])return!1;var a=s(e,i);if(!1===a)return!1;if(a+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var u=s(e,i);if(!1===u)return!1;var c=e.slice(i.place,u+i.place);if(i.place+=u,2!==e[i.place++])return!1;var l=s(e,i);if(!1===l)return!1;if(e.length!==l+i.place)return!1;var f=e.slice(i.place,l+i.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new r(c),this.s=new r(f),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];c(i,t.length),(i=i.concat(t)).push(2),c(i,r.length);var a=i.concat(r),o=[48];return c(o,a.length),o=o.concat(a),n.encode(o,e)}})),parcelRequire.register("1ILrY",(function(e,t){"use strict";var r=parcelRequire("bfEcJ"),n=parcelRequire("9pNNr"),i=parcelRequire("8Zpzg"),a=i.assert,o=i.parseBytes,s=parcelRequire("2sQyJ"),u=parcelRequire("6CQYC");function c(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=c,c.prototype.sign=function(e,t){e=o(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),s=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:a})},c.prototype.verify=function(e,t,r){e=o(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return i.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return s.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return s.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=i.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),a=i.intFromLE(r);return this.curve.pointFromY(a,n)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return i.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}})),parcelRequire.register("2sQyJ",(function(e,t){"use strict";var r=parcelRequire("8Zpzg"),n=r.assert,i=r.parseBytes,a=r.cachedProperty;function o(e,t){this.eddsa=e,this._secret=i(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},a(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},o.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=o})),parcelRequire.register("6CQYC",(function(e,t){"use strict";var r=parcelRequire("iLctW"),n=parcelRequire("8Zpzg"),i=n.assert,a=n.cachedProperty,o=n.parseBytes;function s(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(s,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(s,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(s,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(s,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=s})),parcelRequire.register("l9ByP",(function(e,t){var r=parcelRequire("7hz0U"),n=parcelRequire("jnHwK"),i=parcelRequire("byNWs"),a=parcelRequire("31RWk"),o=parcelRequire("k9uxf"),s=parcelRequire("dxLrO").Buffer;function u(e){var t;"object"!=typeof e||s.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=s.from(e));var u,c,l=i(e,t),f=l.tag,d=l.data;switch(f){case"CERTIFICATE":c=r.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=r.PublicKey.decode(d,"der")),u=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=r.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+u)}case"ENCRYPTED PRIVATE KEY":d=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),u=n[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(u.split("-")[1],10)/8,d=o.pbkdf2Sync(t,r,i,f,"sha1"),h=a.createDecipheriv(u,d,c),v=[];return v.push(h.update(l)),v.push(h.final()),s.concat(v)}(d=r.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(u=(c=r.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:r.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=r.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+u)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=r.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}e.exports=u,u.signature=r.signature})),parcelRequire.register("7hz0U",(function(e,t){var r,n,i,a,o,s,u,c,l,f;$parcel$export(e.exports,"certificate",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"RSAPrivateKey",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"RSAPublicKey",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"PublicKey",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"PrivateKey",(function(){return o}),(function(e){return o=e})),$parcel$export(e.exports,"EncryptedPrivateKey",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"DSAPrivateKey",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"DSAparam",(function(){return c}),(function(e){return c=e})),$parcel$export(e.exports,"ECPrivateKey",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"signature",(function(){return f}),(function(e){return f=e}));var d=parcelRequire("eSKpx");r=parcelRequire("3Z81T");var h=d.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));n=h;var v=d.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));i=v;var p=d.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(b),this.key("subjectPublicKey").bitstr())}));a=p;var b=d.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),g=d.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(b),this.key("subjectPrivateKey").octstr())}));o=g;var m=d.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s=m;var $=d.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));u=$,c=d.define("DSAparam",(function(){this.int()}));var y=d.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(w),this.key("publicKey").optional().explicit(1).bitstr())}));l=y;var w=d.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));f=d.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))})),parcelRequire.register("eSKpx",(function(e,t){"use strict";var r=e.exports;r.bignum=parcelRequire("4N71i"),r.define=parcelRequire("diXU2").define,r.base=parcelRequire("78iiY"),r.constants=parcelRequire("haZBs"),r.decoders=parcelRequire("dgkj7"),r.encoders=parcelRequire("iG2Su")})),parcelRequire.register("4N71i",(function(e,t){!function(e,t){"use strict";var r,n=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},a=function(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15},o=function(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n},s=function(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i},u=function(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var v=c-h|0;l+=(o=(i=0|e.words[v])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()},c=function(e,t,r){return(new l).mulp(e,t,r)},l=function(e,t){this.x=e,this.y=t},f=function(e,t){this.name=e,this.p=new m(t,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()},d=function(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")},h=function(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")},v=function(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")},p=function(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")},b=function(e){if("string"==typeof e){var t=m._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null},g=function(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)};function m(e,t,r){if(m.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=m:t.BN=m,m.BN=m,m.wordSize=26;try{r="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:parcelRequire("7Epwj").Buffer}catch(e){}m.isBN=function(e){return e instanceof m||null!==e&&"object"==typeof e&&e.constructor.wordSize===m.wordSize&&Array.isArray(e.words)},m.max=function(e,t){return e.cmp(t)>0?e:t},m.min=function(e,t){return e.cmp(t)<0?e:t},m.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},m.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},m.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},m.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},m.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,u=Math.min(a,a-o)+r,c=0,l=r;l<u;l+=n)c=s(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=s(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},m.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},m.prototype.clone=function(){var e=new m(null);return this.copy(e),e},m.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},m.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var $=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];m.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);r=0!==(a=s>>>24-i&16777215)||o!==this.length-1?$[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=y[e],l=w[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(l).toString(e);r=(f=f.idivn(l)).isZero()?d+r:$[c-d.length]+d+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(e,t){return n(void 0!==r),this.toArrayLike(r,e,t)},m.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},m.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?m.prototype._countBits=function(e){return 32-Math.clz32(e)}:m.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},m.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},m.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},m.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return 0!==this.negative},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},m.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},m.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},m.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},m.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},m.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},m.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},m.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},m.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},m.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},m.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},m.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},m.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},m.prototype.notn=function(e){return this.clone().inotn(e)},m.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},m.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},m.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},m.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(e){return this.clone().isub(e)};var _=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],v=8191&h,p=h>>>13,b=0|o[2],g=8191&b,m=b>>>13,$=0|o[3],y=8191&$,w=$>>>13,_=0|o[4],S=8191&_,C=_>>>13,k=0|o[5],E=8191&k,R=k>>>13,x=0|o[6],M=8191&x,I=x>>>13,T=0|o[7],A=8191&T,O=T>>>13,D=0|o[8],P=8191&D,q=D>>>13,L=0|o[9],U=8191&L,N=L>>>13,B=0|s[0],F=8191&B,j=B>>>13,K=0|s[1],H=8191&K,W=K>>>13,V=0|s[2],z=8191&V,G=V>>>13,J=0|s[3],Y=8191&J,Z=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],ve=8191&he,pe=he>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,F)|0))<<13)|0;c=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(p,F)|0,a=Math.imul(p,j);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(m,F)|0,a=Math.imul(m,j),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(p,H)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,j))+Math.imul(w,F)|0,a=Math.imul(w,j),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,W)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,G)|0;var $e=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,j))+Math.imul(C,F)|0,a=Math.imul(C,j),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(p,Y)|0,a=a+Math.imul(p,Z)|0;var ye=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(R,F)|0,a=Math.imul(R,j),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,W)|0,n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(p,Q)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(I,F)|0,a=Math.imul(I,j),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var _e=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(O,F)|0,a=Math.imul(O,j),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(q,F)|0,a=Math.imul(q,j),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,W)|0,n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var Ce=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(N,F)|0,a=Math.imul(N,j),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,W)|0,n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(O,z)|0,a=a+Math.imul(O,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,de)|0;var ke=(c+(n=n+Math.imul(f,ve)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(d,ve)|0))<<13)|0;c=((a=a+Math.imul(d,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(N,H)|0,a=Math.imul(N,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(q,z)|0,a=a+Math.imul(q,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var Ee=(c+(n=n+Math.imul(v,ve)|0)|0)+((8191&(i=(i=i+Math.imul(v,pe)|0)+Math.imul(p,ve)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(N,z)|0,a=Math.imul(N,G),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(q,Y)|0,a=a+Math.imul(q,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Re=(c+(n=n+Math.imul(g,ve)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(m,ve)|0))<<13)|0;c=((a=a+Math.imul(m,pe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,Z))+Math.imul(N,Y)|0,a=Math.imul(N,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var xe=(c+(n=n+Math.imul(y,ve)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(w,ve)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(N,Q)|0,a=Math.imul(N,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(q,re)|0,a=a+Math.imul(q,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Me=(c+(n=n+Math.imul(S,ve)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ve)|0))<<13)|0;c=((a=a+Math.imul(C,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,a=Math.imul(N,ne),n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Ie=(c+(n=n+Math.imul(E,ve)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(R,ve)|0))<<13)|0;c=((a=a+Math.imul(R,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,ae),i=(i=Math.imul(U,oe))+Math.imul(N,ae)|0,a=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(M,ve)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(I,ve)|0))<<13)|0;c=((a=a+Math.imul(I,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(N,ue)|0,a=Math.imul(N,ce),n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(q,fe)|0,a=a+Math.imul(q,de)|0;var Ae=(c+(n=n+Math.imul(A,ve)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(O,ve)|0))<<13)|0;c=((a=a+Math.imul(O,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(N,fe)|0,a=Math.imul(N,de);var Oe=(c+(n=n+Math.imul(P,ve)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(q,ve)|0))<<13)|0;c=((a=a+Math.imul(q,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var De=(c+(n=Math.imul(U,ve))|0)+((8191&(i=(i=Math.imul(U,pe))+Math.imul(N,ve)|0))<<13)|0;return c=((a=Math.imul(N,pe))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=be,u[1]=ge,u[2]=me,u[3]=$e,u[4]=ye,u[5]=we,u[6]=_e,u[7]=Se,u[8]=Ce,u[9]=ke,u[10]=Ee,u[11]=Re,u[12]=xe,u[13]=Me,u[14]=Ie,u[15]=Te,u[16]=Ae,u[17]=Oe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};Math.imul||(_=u),m.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?_(this,e,t):n<63?u(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):c(this,e,t),r},l.prototype.makeRBT=function(e){for(var t=new Array(e),r=m.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},l.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},l.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},l.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var v=r[l+h],p=n[l+h],b=r[l+h+o],g=n[l+h+o],m=f*b-d*g;g=f*g+d*b,b=m,r[l+h]=v+b,n[l+h]=p+g,r[l+h+o]=v-b,n[l+h+o]=p-g,h!==s&&(m=u*f-c*d,d=u*d+c*f,f=m)}},l.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},l.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},l.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},l.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0==(-8192&a))},l.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},l.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var h=0;h<n;h++){var v=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=v}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},m.prototype.mul=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},m.prototype.mulf=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),c(this,e,t)},m.prototype.imul=function(e){return this.clone().mulTo(e,this)},m.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},m.prototype.muln=function(e){return this.clone().imuln(e)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new m(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},m.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},m.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},m.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},m.prototype.shln=function(e){return this.clone().ishln(e)},m.prototype.ushln=function(e){return this.clone().iushln(e)},m.prototype.shrn=function(e){return this.clone().ishrn(e)},m.prototype.ushrn=function(e){return this.clone().iushrn(e)},m.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},m.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},m.prototype.maskn=function(e){return this.clone().imaskn(e)},m.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},m.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},m.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},m.prototype.addn=function(e){return this.clone().iaddn(e)},m.prototype.subn=function(e){return this.clone().isubn(e)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},m.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,s=n.length-i.length;if("mod"!==t){(o=new m(null)).length=s+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,o&&(o.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);o&&(o.words[l]=f)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},m.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new m(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new m(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new m(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},m.prototype.div=function(e){return this.divmod(e,"div",!1).div},m.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},m.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},m.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},m.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},m.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},m.prototype.divn=function(e){return this.clone().idivn(e)},m.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new m(1),a=new m(0),o=new m(0),s=new m(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var h=0,v=1;0==(r.words[0]&v)&&h<26;++h,v<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(l)),o.iushrn(1),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(s)):(r.isub(t),o.isub(i),s.isub(a))}return{a:o,b:s,gcd:r.iushln(u)}},m.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new m(1),o=new m(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},m.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},m.prototype.invm=function(e){return this.egcd(e).a.umod(e)},m.prototype.isEven=function(){return 0==(1&this.words[0])},m.prototype.isOdd=function(){return 1==(1&this.words[0])},m.prototype.andln=function(e){return this.words[0]&e},m.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},m.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},m.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},m.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},m.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},m.prototype.gtn=function(e){return 1===this.cmpn(e)},m.prototype.gt=function(e){return 1===this.cmp(e)},m.prototype.gten=function(e){return this.cmpn(e)>=0},m.prototype.gte=function(e){return this.cmp(e)>=0},m.prototype.ltn=function(e){return-1===this.cmpn(e)},m.prototype.lt=function(e){return-1===this.cmp(e)},m.prototype.lten=function(e){return this.cmpn(e)<=0},m.prototype.lte=function(e){return this.cmp(e)<=0},m.prototype.eqn=function(e){return 0===this.cmpn(e)},m.prototype.eq=function(e){return 0===this.cmp(e)},m.red=function(e){return new b(e)},m.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},m.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(e){return this.red=e,this},m.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},m.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},m.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},m.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},m.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},m.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},m.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},m.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},m.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new m(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},i(d,f),d.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},d.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(h,f),i(v,f),i(p,f),p.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},m._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new h;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new p}return S[e]=t,t},b.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new m(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new m(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new m(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var l=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),h=a;0!==d.cmp(o);){for(var v=d,p=0;0!==v.cmp(o);p++)v=v.redSqr();n(p<h);var b=this.pow(l,new m(1).iushln(h-p-1));f=f.redMul(b),l=b.redSqr(),d=d.redMul(l),h=p}return f},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new m(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new m(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++o||0===n&&0===c)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}s=26}return i},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},m.mont=function(e){return new g(e)},i(g,b),g.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},g.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},g.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new m(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),parcelRequire.register("diXU2",(function(e,t){"use strict";var r=parcelRequire("iG2Su"),n=parcelRequire("dgkj7"),i=parcelRequire("hUsYa");function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.exports.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t=function(e){this._initNamed(e,r)},r=this.name;return i(t,e),t.prototype._initNamed=function(t,r){e.call(this,t,r)},new t(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n[e])),this.decoders[e]},a.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},a.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}})),parcelRequire.register("iG2Su",(function(e,t){"use strict";var r=e.exports;r.der=parcelRequire("cIzNC"),r.pem=parcelRequire("5nZjM")})),parcelRequire.register("cIzNC",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("6OeqH").Buffer,i=parcelRequire("BN5wh"),a=parcelRequire("iPj1j");function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new s,this.tree._init(e.body)}function s(e){i.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=o,o.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(s,i),s.prototype._encodeComposite=function(e,t,r,i){var o=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(i.length<128){var s=n.alloc(2);return s[0]=o,s[1]=i.length,this._createEncoderBuffer([s,i])}for(var u=1,c=i.length;c>=256;c>>=8)u++;var l=n.alloc(2+u);l[0]=o,l[1]=128|u;for(var f=1+u,d=i.length;d>0;f--,d>>=8)l[f]=255&d;return this._createEncoderBuffer([l,i])},s.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=n.alloc(2*e.length),i=0;i<e.length;i++)r.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},s.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(var a=0;a<e.length;a++)e[a]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var o=0,s=0;s<e.length;s++){var u=e[s];for(o++;u>=128;u>>=7)o++}for(var c=n.alloc(o),l=c.length-1,f=e.length-1;f>=0;f--){var d=e[f];for(c[l--]=127&d;(d>>=7)>0;)c[l--]=128|127&d}return this._createEncoderBuffer(c)},s.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!n.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=n.from(r)}if(n.isBuffer(e)){var i=e.length;0===e.length&&i++;var a=n.alloc(i);return e.copy(a),0===e.length&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var o=1,s=e;s>=256;s>>=8)o++;for(var u=new Array(o),c=u.length-1;c>=0;c--)u[c]=255&e,e>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(n.from(u))},s.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},s.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},s.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var a=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),a.length!==i.defaultBuffer.length)return!1;for(n=0;n<a.length;n++)if(a[n]!==i.defaultBuffer[n])return!1;return!0}})),parcelRequire.register("6OeqH",(function(e,t){var r,n=parcelRequire("dCPLc"),i=parcelRequire("d2KzW"),a=parcelRequire("dwjmx"),o=a.Buffer,s={};for(r in a)a.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=a[r]);var u=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(u[r]=o[r]);if(s.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+(void 0===e?"undefined":(0,n.default)(e)));if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":(0,n.default)(e)));return o(e,t,r)}),u.alloc||(u.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+(void 0===e?"undefined":(0,n.default)(e)));if(e<0||e>=2147483648)throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=o(e);return t&&0!==t.length?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i}),!s.kStringMaxLength)try{s.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s})),parcelRequire.register("BN5wh",(function(e,t){"use strict";var r=parcelRequire("4zy3g").Reporter,n=parcelRequire("7EtsN").EncoderBuffer,i=parcelRequire("7EtsN").DecoderBuffer,a=parcelRequire("3mFMV"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function u(e,t,r){var n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=u;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};c.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;s.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),o.forEach((function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,a=r.default,o=!0,s=null;if(null!==r.key&&(s=e.enterKey(r.key)),r.optional){var u=null;if(null!==r.explicit?u=r.explicit:null!==r.implicit?u=r.implicit:null!==r.tag&&(u=r.tag),null!==u||r.any){if(o=this._peekTag(e,u,r.any),e.isError(o))return o}else{var c=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),o=!0}catch(e){o=!1}e.restore(c)}}if(r.obj&&o&&(n=e.enterObject()),o){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===r.use&&null===r.choice){var d;r.any&&(d=e.save());var h=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(h))return h;r.any?a=e.raw(d):e=h}if(t&&t.track&&null!==r.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(a=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(a))return a;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var v=new i(a);a=this._getUse(r.contains,e._reporterState.obj)._decode(v,t)}}return r.obj&&o&&(a=e.leaveObject(n)),null===r.key||null===a&&!0!==o?null!==s&&e.exitKey(s):e.leaveKey(s,r.key,a),a},u.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(a){var o=e.save(),s=r.choice[a];try{var u=s._decode(e,t);if(e.isError(u))return!1;n={type:a,value:u},i=!0}catch(t){return e.restore(o),!1}return!0}),this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},u.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},u.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var a=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var o=null,s=!1;if(i.any)a=this._createEncoderBuffer(e);else if(i.choice)a=this._encodeChoice(e,t);else if(i.contains)o=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)o=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),u))}else null!==i.use?a=this._getUse(i.use,n)._encode(e,t):(o=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(a=this._encodeComposite(c,s,l,o))}return null!==i.explicit&&(a=this._encodeComposite(i.explicit,!1,"context",a)),a},u.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}})),parcelRequire.register("4zy3g",(function(e,t){var r;$parcel$export(e.exports,"Reporter",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("hUsYa");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function a(e,t){this.path=e,this.rethrow(t)}r=i,i.prototype.isError=function(e){return e instanceof a},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof a;if(t=n?e:new a(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(a,Error),a.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}})),parcelRequire.register("7EtsN",(function(e,t){$parcel$export(e.exports,"DecoderBuffer",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"EncoderBuffer",(function(){return n}),(function(e){return n=e}));var r,n,i=parcelRequire("dCPLc"),a=parcelRequire("hUsYa"),o=parcelRequire("4zy3g").Reporter,s=parcelRequire("6OeqH").Buffer;function u(e,t){o.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function c(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return c.isEncoderBuffer(e)||(e=new c(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+(void 0===e?"undefined":(0,i.default)(e)));this.value=e,this.length=e.length}}a(u,o),r=u,u.isDecoderBuffer=function(e){return e instanceof u||"object"==typeof e&&s.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},u.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},u.prototype.restore=function(e){var t=new u(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,o.prototype.restore.call(this,e.reporter),t},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},u.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new u(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},u.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},n=c,c.isEncoderBuffer=function(e){return e instanceof c||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},c.prototype.join=function(e,t){return e||(e=s.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}})),parcelRequire.register("iPj1j",(function(e,t){var r,n,i,a;function o(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t}$parcel$export(e.exports,"tagClass",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"tagClassByName",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"tag",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"tagByName",(function(){return a}),(function(e){return a=e})),n=o(r={0:"universal",1:"application",2:"context",3:"private"}),a=o(i={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"})})),parcelRequire.register("5nZjM",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("cIzNC");function i(e){n.call(this,e),this.enc="pem"}r(i,n),e.exports=i,i.prototype.encode=function(e,t){for(var r=n.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"],a=0;a<r.length;a+=64)i.push(r.slice(a,a+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}})),parcelRequire.register("dgkj7",(function(e,t){"use strict";var r=e.exports;r.der=parcelRequire("8LFc0"),r.pem=parcelRequire("iIABH")})),parcelRequire.register("8LFc0",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("4N71i"),i=parcelRequire("7EtsN").DecoderBuffer,a=parcelRequire("BN5wh"),o=parcelRequire("iPj1j");function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.call(this,"der",e)}function c(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=o.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var a=r;for(r=0;128==(128&a);){if(a=e.readUInt8(t),e.isError(a))return a;r<<=7,r|=127&a}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:o.tag[r]}}function l(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var a=0;a<i;a++){n<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}e.exports=s,s.prototype.decode=function(e,t){return i.isDecoderBuffer(e)||(e=new i(e,t)),this.tree._decode(e,t)},r(u,a),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=c(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=l(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var a=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-a.offset,e.restore(a),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=c(e,t);if(e.isError(r))return r;var n=l(e,r.primitive,t);if(e.isError(n))return n;var i=void 0;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=r.decode(e,"der",n);if(e.isError(o)&&a)break;i.push(o)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",a=0;a<n.length/2;a++)i+=String.fromCharCode(n.readUInt16BE(2*a));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],a=0,o=0;!e.isEmpty();)a<<=7,a|=127&(o=e.readUInt8()),0==(128&o)&&(i.push(a),a=0);128&o&&i.push(a);var s=i[0]/40|0,u=i[0]%40;if(n=r?i:[s,u].concat(i.slice(1)),t){var c=t[n.join(" ")];void 0===c&&(c=t[n.join(".")]),void 0!==c&&(n=c)}return n},u.prototype._decodeTime=function(e,t){var r,n,i,a,o,s,u=e.raw().toString();if("gentime"===t)r=0|u.slice(0,4),n=0|u.slice(4,6),i=0|u.slice(6,8),a=0|u.slice(8,10),o=0|u.slice(10,12),s=0|u.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|u.slice(0,2),n=0|u.slice(2,4),i=0|u.slice(4,6),a=0|u.slice(6,8),o=0|u.slice(8,10),s=0|u.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,i,a,o,s,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),i=new n(r);return t&&(i=t[i.toString(10)]||i),i},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}})),parcelRequire.register("iIABH",(function(e,t){"use strict";var r=parcelRequire("hUsYa"),n=parcelRequire("6OeqH").Buffer,i=parcelRequire("8LFc0");function a(e){i.call(this,e),this.enc="pem"}r(a,i),e.exports=a,a.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),a=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,c=0;c<r.length;c++){var l=r[c].match(o);if(null!==l&&l[2]===a){if(-1!==s){if("END"!==l[1])break;u=c;break}if("BEGIN"!==l[1])break;s=c}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+a);var f=r.slice(s+1,u).join("");f.replace(/[^a-z0-9+/=]+/gi,"");var d=n.from(f,"base64");return i.prototype.decode.call(this,d,t)}})),parcelRequire.register("78iiY",(function(e,t){"use strict";var r=e.exports;r.Reporter=parcelRequire("4zy3g").Reporter,r.DecoderBuffer=parcelRequire("7EtsN").DecoderBuffer,r.EncoderBuffer=parcelRequire("7EtsN").EncoderBuffer,r.Node=parcelRequire("BN5wh")})),parcelRequire.register("haZBs",(function(e,t){"use strict";var r=e.exports;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},r.der=parcelRequire("iPj1j")})),parcelRequire.register("3Z81T",(function(e,t){"use strict";var r=parcelRequire("eSKpx"),n=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),i=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),s=r.define("RelativeDistinguishedName",(function(){this.setof(i)})),u=r.define("RDNSequence",(function(){this.seqof(s)})),c=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),l=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),f=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(l),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),h=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=h})),parcelRequire.register("jnHwK",(function(e,t){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')})),parcelRequire.register("byNWs",(function(e,t){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=parcelRequire("5tuxT"),o=parcelRequire("31RWk"),s=parcelRequire("dxLrO").Buffer;e.exports=function(e,t){var u,c=e.toString(),l=c.match(r);if(l){var f="aes"+l[1],d=s.from(l[2],"hex"),h=s.from(l[3].replace(/[\r\n]/g,""),"base64"),v=a(t,d.slice(0,8),parseInt(l[1],10)).key,p=[],b=o.createDecipheriv(f,v,d);p.push(b.update(h)),p.push(b.final()),u=s.concat(p)}else{var g=c.match(i);u=s.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(n)[1],data:u}}})),parcelRequire.register("iNaLc",(function(e,t){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')})),parcelRequire.register("ebfLa",(function(e,t){var r=parcelRequire("dxLrO").Buffer,n=parcelRequire("lfLZB"),i=parcelRequire("gl2hH").ec,a=parcelRequire("l9ByP"),o=parcelRequire("iNaLc");function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,u,c,l){var f=a(u);if("ec"===f.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,r){var n=o[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var a=new i(n),s=r.data.subjectPrivateKey.data;return a.verify(t,e,s)}(e,t,f)}if("dsa"===f.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,r){var i=r.data.p,o=r.data.q,u=r.data.g,c=r.data.pub_key,l=a.signature.decode(e,"der"),f=l.s,d=l.r;s(f,o),s(d,o);var h=n.mont(i),v=f.invm(o);return 0===u.toRed(h).redPow(new n(t).mul(v).mod(o)).fromRed().mul(c.toRed(h).redPow(d.mul(v).mod(o)).fromRed()).mod(i).mod(o).cmp(d)}(e,t,f)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");t=r.concat([l,t]);for(var d=f.modulus.byteLength(),h=[1],v=0;t.length+h.length+2<d;)h.push(255),v++;h.push(0);for(var p=-1;++p<t.length;)h.push(t[p]);h=r.from(h);var b=n.mont(f.modulus);e=(e=new n(e).toRed(b)).redPow(new n(f.publicExponent)),e=r.from(e.fromRed().toArray());var g=v<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(g=1),p=-1;++p<d;)g|=e[p]^h[p];return 0===g}})),parcelRequire.register("ad1c2",(function(e,t){var r=parcelRequire("dwjmx").Buffer,n=parcelRequire("gl2hH"),i=parcelRequire("2iUBc");e.exports=function(e){return new o(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function s(e,t,n){Array.isArray(e)||(e=e.toArray());var i=new r(e);if(n&&i.length<n){var a=new r(n-i.length);a.fill(0),i=r.concat([a,i])}return t?i.toString(t):i}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,t,n){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,e)},o.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var n=new i(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}})),parcelRequire.register("2iUBc",(function(e,t){!function(e,t){"use strict";var r,n=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},a=function(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15},o=function(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n},s=function(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i},u=function(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var v=c-h|0;l+=(o=(i=0|e.words[v])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()},c=function(e,t,r){return(new l).mulp(e,t,r)},l=function(e,t){this.x=e,this.y=t},f=function(e,t){this.name=e,this.p=new m(t,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()},d=function(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")},h=function(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")},v=function(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")},p=function(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")},b=function(e){if("string"==typeof e){var t=m._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null},g=function(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)};function m(e,t,r){if(m.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=m:t.BN=m,m.BN=m,m.wordSize=26;try{r="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:parcelRequire("7Epwj").Buffer}catch(e){}m.isBN=function(e){return e instanceof m||null!==e&&"object"==typeof e&&e.constructor.wordSize===m.wordSize&&Array.isArray(e.words)},m.max=function(e,t){return e.cmp(t)>0?e:t},m.min=function(e,t){return e.cmp(t)<0?e:t},m.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},m.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},m.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},m.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},m.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,u=Math.min(a,a-o)+r,c=0,l=r;l<u;l+=n)c=s(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=s(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},m.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},m.prototype.clone=function(){var e=new m(null);return this.copy(e),e},m.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},m.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var $=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];m.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);r=0!==(a=s>>>24-i&16777215)||o!==this.length-1?$[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=y[e],l=w[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(l).toString(e);r=(f=f.idivn(l)).isZero()?d+r:$[c-d.length]+d+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(e,t){return n(void 0!==r),this.toArrayLike(r,e,t)},m.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},m.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?m.prototype._countBits=function(e){return 32-Math.clz32(e)}:m.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},m.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},m.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},m.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return 0!==this.negative},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},m.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},m.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},m.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},m.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},m.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},m.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},m.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},m.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},m.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},m.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},m.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},m.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},m.prototype.notn=function(e){return this.clone().inotn(e)},m.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},m.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},m.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},m.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(e){return this.clone().isub(e)};var _=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],v=8191&h,p=h>>>13,b=0|o[2],g=8191&b,m=b>>>13,$=0|o[3],y=8191&$,w=$>>>13,_=0|o[4],S=8191&_,C=_>>>13,k=0|o[5],E=8191&k,R=k>>>13,x=0|o[6],M=8191&x,I=x>>>13,T=0|o[7],A=8191&T,O=T>>>13,D=0|o[8],P=8191&D,q=D>>>13,L=0|o[9],U=8191&L,N=L>>>13,B=0|s[0],F=8191&B,j=B>>>13,K=0|s[1],H=8191&K,W=K>>>13,V=0|s[2],z=8191&V,G=V>>>13,J=0|s[3],Y=8191&J,Z=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],ve=8191&he,pe=he>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,F)|0))<<13)|0;c=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(p,F)|0,a=Math.imul(p,j);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(m,F)|0,a=Math.imul(m,j),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(p,H)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,j))+Math.imul(w,F)|0,a=Math.imul(w,j),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,W)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,G)|0;var $e=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,j))+Math.imul(C,F)|0,a=Math.imul(C,j),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(p,Y)|0,a=a+Math.imul(p,Z)|0;var ye=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(R,F)|0,a=Math.imul(R,j),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,W)|0,n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(p,Q)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(I,F)|0,a=Math.imul(I,j),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var _e=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(O,F)|0,a=Math.imul(O,j),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(q,F)|0,a=Math.imul(q,j),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,W)|0,n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var Ce=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(N,F)|0,a=Math.imul(N,j),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,W)|0,n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(O,z)|0,a=a+Math.imul(O,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,de)|0;var ke=(c+(n=n+Math.imul(f,ve)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(d,ve)|0))<<13)|0;c=((a=a+Math.imul(d,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(N,H)|0,a=Math.imul(N,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(q,z)|0,a=a+Math.imul(q,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var Ee=(c+(n=n+Math.imul(v,ve)|0)|0)+((8191&(i=(i=i+Math.imul(v,pe)|0)+Math.imul(p,ve)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(N,z)|0,a=Math.imul(N,G),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(q,Y)|0,a=a+Math.imul(q,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Re=(c+(n=n+Math.imul(g,ve)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(m,ve)|0))<<13)|0;c=((a=a+Math.imul(m,pe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,Z))+Math.imul(N,Y)|0,a=Math.imul(N,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var xe=(c+(n=n+Math.imul(y,ve)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(w,ve)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(N,Q)|0,a=Math.imul(N,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(q,re)|0,a=a+Math.imul(q,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Me=(c+(n=n+Math.imul(S,ve)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ve)|0))<<13)|0;c=((a=a+Math.imul(C,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,a=Math.imul(N,ne),n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Ie=(c+(n=n+Math.imul(E,ve)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(R,ve)|0))<<13)|0;c=((a=a+Math.imul(R,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,ae),i=(i=Math.imul(U,oe))+Math.imul(N,ae)|0,a=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(M,ve)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(I,ve)|0))<<13)|0;c=((a=a+Math.imul(I,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(N,ue)|0,a=Math.imul(N,ce),n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(q,fe)|0,a=a+Math.imul(q,de)|0;var Ae=(c+(n=n+Math.imul(A,ve)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(O,ve)|0))<<13)|0;c=((a=a+Math.imul(O,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(N,fe)|0,a=Math.imul(N,de);var Oe=(c+(n=n+Math.imul(P,ve)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(q,ve)|0))<<13)|0;c=((a=a+Math.imul(q,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var De=(c+(n=Math.imul(U,ve))|0)+((8191&(i=(i=Math.imul(U,pe))+Math.imul(N,ve)|0))<<13)|0;return c=((a=Math.imul(N,pe))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=be,u[1]=ge,u[2]=me,u[3]=$e,u[4]=ye,u[5]=we,u[6]=_e,u[7]=Se,u[8]=Ce,u[9]=ke,u[10]=Ee,u[11]=Re,u[12]=xe,u[13]=Me,u[14]=Ie,u[15]=Te,u[16]=Ae,u[17]=Oe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};Math.imul||(_=u),m.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?_(this,e,t):n<63?u(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):c(this,e,t),r},l.prototype.makeRBT=function(e){for(var t=new Array(e),r=m.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},l.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},l.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},l.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var v=r[l+h],p=n[l+h],b=r[l+h+o],g=n[l+h+o],m=f*b-d*g;g=f*g+d*b,b=m,r[l+h]=v+b,n[l+h]=p+g,r[l+h+o]=v-b,n[l+h+o]=p-g,h!==s&&(m=u*f-c*d,d=u*d+c*f,f=m)}},l.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},l.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},l.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},l.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0==(-8192&a))},l.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},l.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var h=0;h<n;h++){var v=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=v}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},m.prototype.mul=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},m.prototype.mulf=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),c(this,e,t)},m.prototype.imul=function(e){return this.clone().mulTo(e,this)},m.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},m.prototype.muln=function(e){return this.clone().imuln(e)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new m(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},m.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},m.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},m.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},m.prototype.shln=function(e){return this.clone().ishln(e)},m.prototype.ushln=function(e){return this.clone().iushln(e)},m.prototype.shrn=function(e){return this.clone().ishrn(e)},m.prototype.ushrn=function(e){return this.clone().iushrn(e)},m.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},m.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},m.prototype.maskn=function(e){return this.clone().imaskn(e)},m.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},m.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},m.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},m.prototype.addn=function(e){return this.clone().iaddn(e)},m.prototype.subn=function(e){return this.clone().isubn(e)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},m.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,s=n.length-i.length;if("mod"!==t){(o=new m(null)).length=s+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,o&&(o.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);o&&(o.words[l]=f)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},m.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new m(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new m(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new m(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},m.prototype.div=function(e){return this.divmod(e,"div",!1).div},m.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},m.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},m.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},m.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},m.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},m.prototype.divn=function(e){return this.clone().idivn(e)},m.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new m(1),a=new m(0),o=new m(0),s=new m(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var h=0,v=1;0==(r.words[0]&v)&&h<26;++h,v<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(l)),o.iushrn(1),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(s)):(r.isub(t),o.isub(i),s.isub(a))}return{a:o,b:s,gcd:r.iushln(u)}},m.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new m(1),o=new m(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},m.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},m.prototype.invm=function(e){return this.egcd(e).a.umod(e)},m.prototype.isEven=function(){return 0==(1&this.words[0])},m.prototype.isOdd=function(){return 1==(1&this.words[0])},m.prototype.andln=function(e){return this.words[0]&e},m.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},m.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},m.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},m.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},m.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},m.prototype.gtn=function(e){return 1===this.cmpn(e)},m.prototype.gt=function(e){return 1===this.cmp(e)},m.prototype.gten=function(e){return this.cmpn(e)>=0},m.prototype.gte=function(e){return this.cmp(e)>=0},m.prototype.ltn=function(e){return-1===this.cmpn(e)},m.prototype.lt=function(e){return-1===this.cmp(e)},m.prototype.lten=function(e){return this.cmpn(e)<=0},m.prototype.lte=function(e){return this.cmp(e)<=0},m.prototype.eqn=function(e){return 0===this.cmpn(e)},m.prototype.eq=function(e){return 0===this.cmp(e)},m.red=function(e){return new b(e)},m.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},m.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(e){return this.red=e,this},m.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},m.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},m.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},m.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},m.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},m.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},m.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},m.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},m.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new m(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},i(d,f),d.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},d.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(h,f),i(v,f),i(p,f),p.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},m._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new h;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new p}return S[e]=t,t},b.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new m(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new m(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new m(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var l=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),h=a;0!==d.cmp(o);){for(var v=d,p=0;0!==v.cmp(o);p++)v=v.redSqr();n(p<h);var b=this.pow(l,new m(1).iushln(h-p-1));f=f.redMul(b),l=b.redSqr(),d=d.redMul(l),h=p}return f},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new m(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new m(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++o||0===n&&0===c)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}s=26}return i},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},m.mont=function(e){return new g(e)},i(g,b),g.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},g.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},g.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new m(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),parcelRequire.register("eTHco",(function(e,t){var r,n,i,a;$parcel$export(e.exports,"publicEncrypt",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"privateDecrypt",(function(){return n}),(function(e){return n=e})),$parcel$export(e.exports,"privateEncrypt",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"publicDecrypt",(function(){return a}),(function(e){return a=e})),r=parcelRequire("j1xW6"),n=parcelRequire("ftRbk"),i=function(e,t){return r(e,t,!0)},a=function(e,t){return n(e,t,!0)}})),parcelRequire.register("j1xW6",(function(e,t){var r=parcelRequire("l9ByP"),n=parcelRequire("5o49g"),i=parcelRequire("9Iv81"),a=parcelRequire("3fw5L"),o=parcelRequire("4nrDj"),s=parcelRequire("c0V8F"),u=parcelRequire("kaTge"),c=parcelRequire("51IJ3"),l=parcelRequire("dxLrO").Buffer;e.exports=function(e,t,f){var d;d=e.padding?e.padding:f?1:4;var h,v=r(e);if(4===d)h=function(e,t){var r=e.modulus.byteLength(),u=t.length,c=i("sha1").update(l.alloc(0)).digest(),f=c.length,d=2*f;if(u>r-d-2)throw new Error("message too long");var h=l.alloc(r-u-d-2),v=r-f-1,p=n(f),b=o(l.concat([c,h,l.alloc(1,1),t],v),a(p,v)),g=o(p,a(b,f));return new s(l.concat([l.alloc(1),g,b],r))}(v,t);else if(1===d)h=function(e,t,r){var i,a=t.length,o=e.modulus.byteLength();if(a>o-11)throw new Error("message too long");i=r?l.alloc(o-a-3,255):function(e){var t,r=l.allocUnsafe(e),i=0,a=n(2*e),o=0;for(;i<e;)o===a.length&&(a=n(2*e),o=0),(t=a[o++])&&(r[i++]=t);return r}(o-a-3);return new s(l.concat([l.from([0,r?1:2]),i,l.alloc(1),t],o))}(v,t,f);else{if(3!==d)throw new Error("unknown padding");if((h=new s(t)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return f?c(h,v):u(h,v)}})),parcelRequire.register("3fw5L",(function(e,t){var r=parcelRequire("9Iv81"),n=parcelRequire("dxLrO").Buffer;function i(e){var t=n.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var a,o=n.alloc(0),s=0;o.length<t;)a=i(s++),o=n.concat([o,r("sha1").update(e).update(a).digest()]);return o.slice(0,t)}})),parcelRequire.register("4nrDj",(function(e,t){e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}})),parcelRequire.register("c0V8F",(function(e,t){!function(e,t){"use strict";var r,n=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},a=function(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15},o=function(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n},s=function(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i},u=function(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var v=c-h|0;l+=(o=(i=0|e.words[v])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()},c=function(e,t,r){return(new l).mulp(e,t,r)},l=function(e,t){this.x=e,this.y=t},f=function(e,t){this.name=e,this.p=new m(t,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()},d=function(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")},h=function(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")},v=function(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")},p=function(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")},b=function(e){if("string"==typeof e){var t=m._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null},g=function(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)};function m(e,t,r){if(m.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=m:t.BN=m,m.BN=m,m.wordSize=26;try{r="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:parcelRequire("7Epwj").Buffer}catch(e){}m.isBN=function(e){return e instanceof m||null!==e&&"object"==typeof e&&e.constructor.wordSize===m.wordSize&&Array.isArray(e.words)},m.max=function(e,t){return e.cmp(t)>0?e:t},m.min=function(e,t){return e.cmp(t)<0?e:t},m.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},m.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},m.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},m.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},m.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,u=Math.min(a,a-o)+r,c=0,l=r;l<u;l+=n)c=s(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=s(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},m.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},m.prototype.clone=function(){var e=new m(null);return this.copy(e),e},m.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},m.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var $=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];m.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);r=0!==(a=s>>>24-i&16777215)||o!==this.length-1?$[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=y[e],l=w[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(l).toString(e);r=(f=f.idivn(l)).isZero()?d+r:$[c-d.length]+d+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(e,t){return n(void 0!==r),this.toArrayLike(r,e,t)},m.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},m.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?m.prototype._countBits=function(e){return 32-Math.clz32(e)}:m.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},m.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},m.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},m.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return 0!==this.negative},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},m.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},m.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},m.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},m.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},m.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},m.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},m.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},m.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},m.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},m.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},m.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},m.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},m.prototype.notn=function(e){return this.clone().inotn(e)},m.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},m.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},m.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},m.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(e){return this.clone().isub(e)};var _=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],v=8191&h,p=h>>>13,b=0|o[2],g=8191&b,m=b>>>13,$=0|o[3],y=8191&$,w=$>>>13,_=0|o[4],S=8191&_,C=_>>>13,k=0|o[5],E=8191&k,R=k>>>13,x=0|o[6],M=8191&x,I=x>>>13,T=0|o[7],A=8191&T,O=T>>>13,D=0|o[8],P=8191&D,q=D>>>13,L=0|o[9],U=8191&L,N=L>>>13,B=0|s[0],F=8191&B,j=B>>>13,K=0|s[1],H=8191&K,W=K>>>13,V=0|s[2],z=8191&V,G=V>>>13,J=0|s[3],Y=8191&J,Z=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],ve=8191&he,pe=he>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,F)|0))<<13)|0;c=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(p,F)|0,a=Math.imul(p,j);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(m,F)|0,a=Math.imul(m,j),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(p,H)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,j))+Math.imul(w,F)|0,a=Math.imul(w,j),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,W)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,G)|0;var $e=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,j))+Math.imul(C,F)|0,a=Math.imul(C,j),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(p,Y)|0,a=a+Math.imul(p,Z)|0;var ye=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(R,F)|0,a=Math.imul(R,j),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,W)|0,n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(p,Q)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(I,F)|0,a=Math.imul(I,j),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var _e=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(O,F)|0,a=Math.imul(O,j),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(q,F)|0,a=Math.imul(q,j),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,W)|0,n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var Ce=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(N,F)|0,a=Math.imul(N,j),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,W)|0,n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(O,z)|0,a=a+Math.imul(O,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,de)|0;var ke=(c+(n=n+Math.imul(f,ve)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(d,ve)|0))<<13)|0;c=((a=a+Math.imul(d,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(N,H)|0,a=Math.imul(N,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(q,z)|0,a=a+Math.imul(q,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var Ee=(c+(n=n+Math.imul(v,ve)|0)|0)+((8191&(i=(i=i+Math.imul(v,pe)|0)+Math.imul(p,ve)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(N,z)|0,a=Math.imul(N,G),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(q,Y)|0,a=a+Math.imul(q,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Re=(c+(n=n+Math.imul(g,ve)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(m,ve)|0))<<13)|0;c=((a=a+Math.imul(m,pe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,Z))+Math.imul(N,Y)|0,a=Math.imul(N,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var xe=(c+(n=n+Math.imul(y,ve)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(w,ve)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(N,Q)|0,a=Math.imul(N,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(q,re)|0,a=a+Math.imul(q,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Me=(c+(n=n+Math.imul(S,ve)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ve)|0))<<13)|0;c=((a=a+Math.imul(C,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,a=Math.imul(N,ne),n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Ie=(c+(n=n+Math.imul(E,ve)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(R,ve)|0))<<13)|0;c=((a=a+Math.imul(R,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,ae),i=(i=Math.imul(U,oe))+Math.imul(N,ae)|0,a=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(M,ve)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(I,ve)|0))<<13)|0;c=((a=a+Math.imul(I,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(N,ue)|0,a=Math.imul(N,ce),n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(q,fe)|0,a=a+Math.imul(q,de)|0;var Ae=(c+(n=n+Math.imul(A,ve)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(O,ve)|0))<<13)|0;c=((a=a+Math.imul(O,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(N,fe)|0,a=Math.imul(N,de);var Oe=(c+(n=n+Math.imul(P,ve)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(q,ve)|0))<<13)|0;c=((a=a+Math.imul(q,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var De=(c+(n=Math.imul(U,ve))|0)+((8191&(i=(i=Math.imul(U,pe))+Math.imul(N,ve)|0))<<13)|0;return c=((a=Math.imul(N,pe))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=be,u[1]=ge,u[2]=me,u[3]=$e,u[4]=ye,u[5]=we,u[6]=_e,u[7]=Se,u[8]=Ce,u[9]=ke,u[10]=Ee,u[11]=Re,u[12]=xe,u[13]=Me,u[14]=Ie,u[15]=Te,u[16]=Ae,u[17]=Oe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};Math.imul||(_=u),m.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?_(this,e,t):n<63?u(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):c(this,e,t),r},l.prototype.makeRBT=function(e){for(var t=new Array(e),r=m.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},l.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},l.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},l.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var v=r[l+h],p=n[l+h],b=r[l+h+o],g=n[l+h+o],m=f*b-d*g;g=f*g+d*b,b=m,r[l+h]=v+b,n[l+h]=p+g,r[l+h+o]=v-b,n[l+h+o]=p-g,h!==s&&(m=u*f-c*d,d=u*d+c*f,f=m)}},l.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},l.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},l.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},l.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0==(-8192&a))},l.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},l.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var h=0;h<n;h++){var v=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=v}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},m.prototype.mul=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},m.prototype.mulf=function(e){var t=new m(null);return t.words=new Array(this.length+e.length),c(this,e,t)},m.prototype.imul=function(e){return this.clone().mulTo(e,this)},m.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},m.prototype.muln=function(e){return this.clone().imuln(e)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new m(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},m.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},m.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},m.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},m.prototype.shln=function(e){return this.clone().ishln(e)},m.prototype.ushln=function(e){return this.clone().iushln(e)},m.prototype.shrn=function(e){return this.clone().ishrn(e)},m.prototype.ushrn=function(e){return this.clone().iushrn(e)},m.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},m.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},m.prototype.maskn=function(e){return this.clone().imaskn(e)},m.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},m.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},m.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},m.prototype.addn=function(e){return this.clone().iaddn(e)},m.prototype.subn=function(e){return this.clone().isubn(e)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},m.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,s=n.length-i.length;if("mod"!==t){(o=new m(null)).length=s+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,o&&(o.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);o&&(o.words[l]=f)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},m.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new m(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new m(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new m(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},m.prototype.div=function(e){return this.divmod(e,"div",!1).div},m.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},m.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},m.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},m.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},m.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},m.prototype.divn=function(e){return this.clone().idivn(e)},m.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new m(1),a=new m(0),o=new m(0),s=new m(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var h=0,v=1;0==(r.words[0]&v)&&h<26;++h,v<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(l)),o.iushrn(1),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(s)):(r.isub(t),o.isub(i),s.isub(a))}return{a:o,b:s,gcd:r.iushln(u)}},m.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new m(1),o=new m(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},m.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},m.prototype.invm=function(e){return this.egcd(e).a.umod(e)},m.prototype.isEven=function(){return 0==(1&this.words[0])},m.prototype.isOdd=function(){return 1==(1&this.words[0])},m.prototype.andln=function(e){return this.words[0]&e},m.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},m.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},m.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},m.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},m.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},m.prototype.gtn=function(e){return 1===this.cmpn(e)},m.prototype.gt=function(e){return 1===this.cmp(e)},m.prototype.gten=function(e){return this.cmpn(e)>=0},m.prototype.gte=function(e){return this.cmp(e)>=0},m.prototype.ltn=function(e){return-1===this.cmpn(e)},m.prototype.lt=function(e){return-1===this.cmp(e)},m.prototype.lten=function(e){return this.cmpn(e)<=0},m.prototype.lte=function(e){return this.cmp(e)<=0},m.prototype.eqn=function(e){return 0===this.cmpn(e)},m.prototype.eq=function(e){return 0===this.cmp(e)},m.red=function(e){return new b(e)},m.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},m.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(e){return this.red=e,this},m.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},m.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},m.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},m.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},m.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},m.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},m.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},m.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},m.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new m(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},i(d,f),d.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},d.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(h,f),i(v,f),i(p,f),p.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},m._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new h;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new p}return S[e]=t,t},b.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new m(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new m(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new m(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var l=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),h=a;0!==d.cmp(o);){for(var v=d,p=0;0!==v.cmp(o);p++)v=v.redSqr();n(p<h);var b=this.pow(l,new m(1).iushln(h-p-1));f=f.redMul(b),l=b.redSqr(),d=d.redMul(l),h=p}return f},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new m(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new m(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++o||0===n&&0===c)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}s=26}return i},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},m.mont=function(e){return new g(e)},i(g,b),g.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},g.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},g.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new m(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},g.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),parcelRequire.register("kaTge",(function(e,t){var r=parcelRequire("c0V8F"),n=parcelRequire("dxLrO").Buffer;e.exports=function(e,t){return n.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}})),parcelRequire.register("ftRbk",(function(e,t){var r=parcelRequire("l9ByP"),n=parcelRequire("3fw5L"),i=parcelRequire("4nrDj"),a=parcelRequire("c0V8F"),o=parcelRequire("51IJ3"),s=parcelRequire("9Iv81"),u=parcelRequire("kaTge"),c=parcelRequire("dxLrO").Buffer;e.exports=function(e,t,l){var f;f=e.padding?e.padding:l?1:4;var d,h=r(e),v=h.modulus.byteLength();if(t.length>v||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=l?u(new a(t),h):o(t,h);var p=c.alloc(v-d.length);if(d=c.concat([p,d],v),4===f)return function(e,t){var r=e.modulus.byteLength(),a=s("sha1").update(c.alloc(0)).digest(),o=a.length;if(0!==t[0])throw new Error("decryption error");var u=t.slice(1,o+1),l=t.slice(o+1),f=i(u,n(l,o)),d=i(l,n(f,r-o-1));if(function(e,t){e=c.from(e),t=c.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(a,d.slice(0,o)))throw new Error("decryption error");var h=o;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(e,t,r){var n=t.slice(0,2),i=2,a=0;for(;0!==t[i++];)if(i>=t.length){a++;break}var o=t.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&a++;o.length<8&&a++;if(a)throw new Error("decryption error");return t.slice(i)}(0,d,l);if(3===f)return d;throw new Error("unknown padding")}})),parcelRequire.register("5I2CL",(function(e,t){var r,n;$parcel$export(e.exports,"randomFill",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"randomFillSync",(function(){return n}),(function(e){return n=e}));var i=parcelRequire("d2KzW");function a(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=parcelRequire("dxLrO"),s=(parcelRequire("5o49g"),o.Buffer),u=o.kMaxLength,c=$parcel$global.crypto||$parcel$global.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function d(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>u)throw new RangeError("buffer too small")}function h(e,t,r,n){var a=e.buffer,o=new Uint8Array(a,t,r);if(c.getRandomValues(o),!n)return e;i.nextTick((function(){n(null,e)}))}c&&c.getRandomValues?(r=function(e,t,r,n){if(!(s.isBuffer(e)||e instanceof $parcel$global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)n=t,t=0,r=e.length;else if("function"==typeof r)n=r,r=e.length-t;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return f(t,e.length),d(r,t,e.length),h(e,t,r,n)},n=function(e,t,r){void 0===t&&(t=0);if(!(s.isBuffer(e)||e instanceof $parcel$global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(t,e.length),void 0===r&&(r=e.length-t);return d(r,t,e.length),h(e,t,r)}):(r=a,n=a)})),parcelRequire.register("drhEA",(function(e,t){var r=parcelRequire("dCPLc"),n=parcelRequire("d2KzW"),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;e.exports.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])b(s)||!w(s)?o+=" "+s:o+=" "+u(s);return o},e.exports.deprecate=function(t,r){if(void 0!==n&&!0===n.noDeprecation)return t;if(void 0===n)return function(){return e.exports.deprecate(t,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return t.apply(this,arguments)}};var o={},s=/^$/;function u(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&e.exports._extend(n,r),$(n.showHidden)&&(n.showHidden=!1),$(n.depth)&&(n.depth=2),$(n.colors)&&(n.colors=!1),$(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,t,n.depth)}function c(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function f(t,r,n){if(t.customInspect&&r&&C(r.inspect)&&r.inspect!==e.exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=f(t,i,n)),i}var a=function(e,t){if($(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(t,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),S(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(C(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(y(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return t.stylize(Date.prototype.toString.call(r),"date");if(S(r))return d(r)}var c,l="",w=!1,k=["{","}"];(v(r)&&(w=!0,k=["[","]"]),C(r))&&(l=" [Function"+(r.name?": "+r.name:"")+"]");return y(r)&&(l=" "+RegExp.prototype.toString.call(r)),_(r)&&(l=" "+Date.prototype.toUTCString.call(r)),S(r)&&(l=" "+d(r)),0!==o.length||w&&0!=r.length?n<0?y(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=w?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)M(t,String(o))?a.push(h(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(h(e,t,r,n,i,!0))})),a}(t,r,n,s,o):o.map((function(e){return h(t,r,n,s,e,w)})),t.seen.pop(),function(e,t,r){var n=0;return e.reduce((function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,k)):k[0]+l+k[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),M(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=b(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),$(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function v(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function b(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function $(e){return void 0===e}function y(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===k(e)}function S(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function C(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}e.exports.debuglog=function(t){if(t=t.toUpperCase(),!o[t])if(s.test(t)){var r=n.pid;o[t]=function(){var n=e.exports.format.apply(e.exports,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.exports.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.exports.types=parcelRequire("bq51g"),e.exports.isArray=v,e.exports.isBoolean=p,e.exports.isNull=b,e.exports.isNullOrUndefined=function(e){return null==e},e.exports.isNumber=g,e.exports.isString=m,e.exports.isSymbol=function(e){return"symbol"===(void 0===e?"undefined":(0,r.default)(e))},e.exports.isUndefined=$,e.exports.isRegExp=y,e.exports.types.isRegExp=y,e.exports.isObject=w,e.exports.isDate=_,e.exports.types.isDate=_,e.exports.isError=S,e.exports.types.isNativeError=S,e.exports.isFunction=C,e.exports.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":(0,r.default)(e))||void 0===e},e.exports.isBuffer=parcelRequire("fhoYn");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports.log=function(){console.log("%s - %s",x(),e.exports.format.apply(e.exports,arguments))},e.exports.inherits=parcelRequire("hUsYa"),e.exports._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.exports.promisify=function(e){var t=function(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n};if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(I&&e[I]){if("function"!=typeof(t=e[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),I&&Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},e.exports.promisify.custom=I,e.exports.callbackify=function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};e.apply(this,t).then((function(e){n.nextTick(o.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,o))}))};if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}})),parcelRequire.register("bq51g",(function(e,t){"use strict";var r=parcelRequire("e7FTp"),n=parcelRequire("f2gXy"),i=parcelRequire("koOmY"),a=parcelRequire("lPuUX");function o(e){return e.call.bind(e)}var s="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,c=o(Object.prototype.toString),l=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(s)var h=o(BigInt.prototype.valueOf);if(u)var v=o(Symbol.prototype.valueOf);function p(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===c(e)}function g(e){return"[object Set]"===c(e)}function m(e){return"[object WeakMap]"===c(e)}function $(e){return"[object WeakSet]"===c(e)}function y(e){return"[object ArrayBuffer]"===c(e)}function w(e){return"undefined"!=typeof ArrayBuffer&&(y.working?y(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===c(e)}function S(e){return"undefined"!=typeof DataView&&(_.working?_(e):e instanceof DataView)}e.exports.isArgumentsObject=r,e.exports.isGeneratorFunction=n,e.exports.isTypedArray=a,e.exports.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.exports.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||S(e)},e.exports.isUint8Array=function(e){return"Uint8Array"===i(e)},e.exports.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},e.exports.isUint16Array=function(e){return"Uint16Array"===i(e)},e.exports.isUint32Array=function(e){return"Uint32Array"===i(e)},e.exports.isInt8Array=function(e){return"Int8Array"===i(e)},e.exports.isInt16Array=function(e){return"Int16Array"===i(e)},e.exports.isInt32Array=function(e){return"Int32Array"===i(e)},e.exports.isFloat32Array=function(e){return"Float32Array"===i(e)},e.exports.isFloat64Array=function(e){return"Float64Array"===i(e)},e.exports.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},e.exports.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},b.working="undefined"!=typeof Map&&b(new Map),e.exports.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},g.working="undefined"!=typeof Set&&g(new Set),e.exports.isSet=function(e){return"undefined"!=typeof Set&&(g.working?g(e):e instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),e.exports.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(m.working?m(e):e instanceof WeakMap)},$.working="undefined"!=typeof WeakSet&&$(new WeakSet),e.exports.isWeakSet=function(e){return $(e)},y.working="undefined"!=typeof ArrayBuffer&&y(new ArrayBuffer),e.exports.isArrayBuffer=w,_.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&_(new DataView(new ArrayBuffer(1),0,1)),e.exports.isDataView=S;var C="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function k(e){return"[object SharedArrayBuffer]"===c(e)}function E(e){return void 0!==C&&(void 0===k.working&&(k.working=k(new C)),k.working?k(e):e instanceof C)}function R(e){return p(e,l)}function x(e){return p(e,f)}function M(e){return p(e,d)}function I(e){return s&&p(e,h)}function T(e){return u&&p(e,v)}e.exports.isSharedArrayBuffer=E,e.exports.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},e.exports.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},e.exports.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},e.exports.isGeneratorObject=function(e){return"[object Generator]"===c(e)},e.exports.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},e.exports.isNumberObject=R,e.exports.isStringObject=x,e.exports.isBooleanObject=M,e.exports.isBigIntObject=I,e.exports.isSymbolObject=T,e.exports.isBoxedPrimitive=function(e){return R(e)||x(e)||M(e)||I(e)||T(e)},e.exports.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(w(e)||E(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e.exports,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))})),parcelRequire.register("e7FTp",(function(e,t){"use strict";var r=parcelRequire("hYtMm")(),n=parcelRequire("2LnEP")("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===n(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n(e)&&"[object Function]"===n(e.callee)},o=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=o?i:a})),parcelRequire.register("hYtMm",(function(e,t){"use strict";var r=parcelRequire("a9pkh");e.exports=function(){return r()&&!!Symbol.toStringTag}})),parcelRequire.register("a9pkh",(function(e,t){var r=parcelRequire("dCPLc");e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===(0,r.default)(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}})),parcelRequire.register("2LnEP",(function(e,t){"use strict";var r=parcelRequire("8mnws"),n=parcelRequire("bMDJ3"),i=n(r("String.prototype.indexOf"));e.exports=function(e,t){var a=r(e,!!t);return"function"==typeof a&&i(e,".prototype.")>-1?n(a):a}})),parcelRequire.register("8mnws",(function(e,t){"use strict";var r,n=SyntaxError,i=Function,a=TypeError,o=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new a},c=s?function(){try{return u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,l=parcelRequire("eHWH0")(),f=Object.getPrototypeOf||function(e){return e.__proto__},d={},h="undefined"==typeof Uint8Array?r:f(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":l?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?f(""[Symbol.iterator]()):r,"%Symbol%":l?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},p=function e(t){var r;if("%AsyncFunction%"===t)r=o("async function () {}");else if("%GeneratorFunction%"===t)r=o("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=o("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=f(i.prototype))}return v[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=parcelRequire("dbayq"),m=parcelRequire("j96mo"),$=g.call(Function.call,Array.prototype.concat),y=g.call(Function.apply,Array.prototype.splice),w=g.call(Function.call,String.prototype.replace),_=g.call(Function.call,String.prototype.slice),S=g.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,E=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return w(e,C,(function(e,t,r,n){i[i.length]=r?w(n,k,"$1"):t||e})),i},R=function(e,t){var r,i=e;if(m(b,i)&&(i="%"+(r=b[i])[0]+"%"),m(v,i)){var o=v[i];if(o===d&&(o=p(i)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:o}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=E(e),i=r.length>0?r[0]:"",o=R("%"+i+"%",t),u=o.name,c=o.value,l=!1,f=o.alias;f&&(i=f[0],y(r,$([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],b=_(p,0,1),g=_(p,-1);if(('"'===b||"'"===b||"`"===b||'"'===g||"'"===g||"`"===g)&&b!==g)throw new n("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),m(v,u="%"+(i+="."+p)+"%"))c=v[u];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&d+1>=r.length){var w=s(c,p);c=(h=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:c[p]}else h=m(c,p),c=c[p];h&&!l&&(v[u]=c)}}return c}})),parcelRequire.register("eHWH0",(function(e,t){var r=parcelRequire("dCPLc"),n="undefined"!=typeof Symbol&&Symbol,i=parcelRequire("a9pkh");e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"===(0,r.default)(n("foo"))&&("symbol"===(0,r.default)(Symbol("bar"))&&i())))}})),parcelRequire.register("dbayq",(function(e,t){"use strict";var r=parcelRequire("lMBGf");e.exports=Function.prototype.bind||r})),parcelRequire.register("lMBGf",(function(e,t){"use strict";var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||i.call(t)!==a)throw new TypeError(r+t);for(var o,s=n.call(arguments,1),u=function(){if(this instanceof o){var r=t.apply(this,s.concat(n.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(n.call(arguments)))},c=Math.max(0,t.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var d=function(){};d.prototype=t.prototype,o.prototype=new d,d.prototype=null}return o}})),parcelRequire.register("j96mo",(function(e,t){"use strict";var r=parcelRequire("dbayq");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)})),parcelRequire.register("bMDJ3",(function(e,t){"use strict";var r=parcelRequire("dbayq"),n=parcelRequire("8mnws"),i=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||r.call(a,i),s=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=o(r,a,arguments);if(s&&u){var n=s(t,"length");n.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var l=function(){return o(r,i,arguments)};u?u(e.exports,"apply",{value:l}):e.exports.apply=l})),parcelRequire.register("f2gXy",(function(e,t){"use strict";var r,n=Object.prototype.toString,i=Function.prototype.toString,a=/^\s*(?:function)?\*/,o=parcelRequire("hYtMm")(),s=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(i.call(e)))return!0;if(!o)return"[object GeneratorFunction]"===n.call(e);if(!s)return!1;if(void 0===r){var t=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}();r=!!t&&s(t)}return s(e)===r}})),parcelRequire.register("koOmY",(function(e,t){"use strict";var r=parcelRequire("322Sm"),n=parcelRequire("b9ij8"),i=parcelRequire("2LnEP"),a=parcelRequire("lKyB5"),o=i("Object.prototype.toString"),s=parcelRequire("hYtMm")(),u="undefined"==typeof globalThis?$parcel$global:globalThis,c=n(),l=i("String.prototype.slice"),f={},d=Object.getPrototypeOf;s&&a&&d&&r(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=d(t),n=a(r,Symbol.toStringTag);if(!n){var i=d(r);n=a(i,Symbol.toStringTag)}f[e]=n.get}}}));var h=parcelRequire("lPuUX");e.exports=function(e){return!!h(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return r(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(o(e),8,-1))}})),parcelRequire.register("322Sm",(function(e,t){"use strict";var r=parcelRequire("g7oeb"),n=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(e,t,r){for(var n=0,a=e.length;n<a;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},o=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},s=function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};e.exports=function(e,t,i){if(!r(t))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===n.call(e)?a(e,t,u):"string"==typeof e?o(e,t,u):s(e,t,u)}})),parcelRequire.register("g7oeb",(function(e,t){"use strict";var r,n,i=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},a((function(){throw 42}),null,r)}catch(e){e!==n&&(a=null)}else a=null;var o=/^\s*class\b/,s=function(e){try{var t=i.call(e);return o.test(t)}catch(e){return!1}},u=function(e){try{return!s(e)&&(i.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(d=function(e){if((f||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=a?function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{a(e,null,r)}catch(e){if(e!==n)return!1}return!s(e)&&u(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(l)return u(e);if(s(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&u(e)}})),parcelRequire.register("b9ij8",(function(e,t){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?$parcel$global:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof n[r[t]]&&(e[e.length]=r[t]);return e}})),parcelRequire.register("lKyB5",(function(e,t){"use strict";var r=parcelRequire("8mnws")("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r})),parcelRequire.register("lPuUX",(function(e,t){"use strict";var r=parcelRequire("322Sm"),n=parcelRequire("b9ij8"),i=parcelRequire("2LnEP"),a=i("Object.prototype.toString"),o=parcelRequire("hYtMm")(),s=parcelRequire("lKyB5"),u="undefined"==typeof globalThis?$parcel$global:globalThis,c=n(),l=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=i("String.prototype.slice"),d={},h=Object.getPrototypeOf;o&&s&&h&&r(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=s(r,Symbol.toStringTag);if(!n){var i=h(r);n=s(i,Symbol.toStringTag)}d[e]=n.get}}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!o||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(c,t)>-1}return!!s&&function(e){var t=!1;return r(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}})),parcelRequire.register("fhoYn",(function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}})),parcelRequire.register("gJLdo",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("dVhHy"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq"),l=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EncryptionSetupOperation=e.exports.EncryptionSetupBuilder=void 0;var f=l(parcelRequire("abzte")),d=parcelRequire("fKX3v"),h=parcelRequire("dlOEf"),v=parcelRequire("eja6Y"),p=parcelRequire("g10a3"),b=parcelRequire("84XpH"),g=parcelRequire("67LLR"),m=parcelRequire("4Eh2q"),$=function(){function e(t,r){(0,i.default)(this,e),(0,f.default)(this,"accountDataClientAdapter",void 0),(0,f.default)(this,"crossSigningCallbacks",void 0),(0,f.default)(this,"ssssCryptoCallbacks",void 0),(0,f.default)(this,"crossSigningKeys",void 0),(0,f.default)(this,"keySignatures",void 0),(0,f.default)(this,"keyBackupInfo",void 0),(0,f.default)(this,"sessionBackupPrivateKey",void 0),this.accountDataClientAdapter=new w(t),this.crossSigningCallbacks=new _,this.ssssCryptoCallbacks=new S(r)}return(0,a.default)(e,[{key:"addCrossSigningKeys",value:function(e,t){this.crossSigningKeys={authUpload:e,keys:t}}},{key:"addSessionBackup",value:function(e){this.keyBackupInfo=e}},{key:"addSessionBackupPrivateKeyToCache",value:function(e){this.sessionBackupPrivateKey=e}},{key:"addKeySignature",value:function(e,t,r){this.keySignatures||(this.keySignatures={});var n=this.keySignatures[e]||{};this.keySignatures[e]=n,n[t]=r}},{key:"setAccountData",value:function(e,t){var r=this;return(0,n.default)((function(){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,r.accountDataClientAdapter.setAccountData(e,t)];case 1:return n.sent(),[2]}}))}))()}},{key:"buildOperation",value:function(){var e=this.accountDataClientAdapter.values;return new y(e,this.crossSigningKeys,this.keyBackupInfo,this.keySignatures)}},{key:"persist",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,s;return(0,c.__generator)(this,(function(u){switch(u.label){case 0:if(!t.crossSigningKeys)return[3,6];r=(0,v.createCryptoStoreCacheCallbacks)(e.cryptoStore,e.olmDevice),n=0,i=["master","self_signing","user_signing"],u.label=1;case 1:return n<i.length?(a=i[n],d.logger.log("Cache ".concat(a," cross-signing private key locally")),s=t.crossSigningCallbacks.privateKeys.get(a),[4,null===(o=r.storeCrossSigningKeyCache)||void 0===o?void 0:o.call(r,a,s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return n++,[3,1];case 4:return[4,e.cryptoStore.doTxn("readwrite",[p.IndexedDBCryptoStore.STORE_ACCOUNT],(function(r){e.cryptoStore.storeCrossSigningKeys(r,t.crossSigningKeys.keys)}))];case 5:u.sent(),u.label=6;case 6:return t.sessionBackupPrivateKey?[4,e.storeSessionBackupPrivateKey(t.sessionBackupPrivateKey)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[2]}}))}))()}}]),e}();e.exports.EncryptionSetupBuilder=$;var y=function(){function e(t,r,n,a){(0,i.default)(this,e),this.accountData=t,this.crossSigningKeys=r,this.keyBackupInfo=n,this.keySignatures=a}return(0,a.default)(e,[{key:"apply",value:function(e){var t=this;return(0,n.default)((function(){var r,n,i,a,o,u,l,f,d,h,v,p,g,m,$,y,w,_,S,C,k;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:if(r=e.baseApis,!t.crossSigningKeys)return[3,2];a={},o=!0,u=!1,l=void 0;try{for(f=Object.entries(t.crossSigningKeys.keys)[Symbol.iterator]();!(o=(d=f.next()).done);o=!0)h=(0,s.default)(d.value,2),v=h[0],p=h[1],a[v+"_key"]=p}catch(e){u=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(u)throw l}}return[4,null===(n=(i=t.crossSigningKeys).authUpload)||void 0===n?void 0:n.call(i,(function(e){return r.uploadDeviceSigningKeys(e,a)}))];case 1:c.sent(),e.crossSigningInfo.setKeys(t.crossSigningKeys.keys),c.label=2;case 2:if(g=!0,m=!1,$=void 0,!t.accountData)return[3,10];c.label=3;case 3:c.trys.push([3,8,9,10]),y=t.accountData[Symbol.iterator](),c.label=4;case 4:return(g=(w=y.next()).done)?[3,7]:(_=(0,s.default)(w.value,2),S=_[0],C=_[1],[4,r.setAccountData(S,C)]);case 5:c.sent(),c.label=6;case 6:return g=!0,[3,4];case 7:return[3,10];case 8:return k=c.sent(),m=!0,$=k,[3,10];case 9:try{g||null==y.return||y.return()}finally{if(m)throw $}return[7];case 10:return t.keySignatures?[4,r.uploadKeySignatures(t.keySignatures)]:[3,12];case 11:c.sent(),c.label=12;case 12:return t.keyBackupInfo?t.keyBackupInfo.version?[4,r.http.authedRequest(b.Method.Put,"/room_keys/version/"+t.keyBackupInfo.version,void 0,{algorithm:t.keyBackupInfo.algorithm,auth_data:t.keyBackupInfo.auth_data},{prefix:b.ClientPrefix.V3})]:[3,14]:[3,16];case 13:return c.sent(),[3,16];case 14:return[4,r.http.authedRequest(b.Method.Post,"/room_keys/version",void 0,t.keyBackupInfo,{prefix:b.ClientPrefix.V3})];case 15:c.sent(),c.label=16;case 16:return[2]}}))}))()}}]),e}();e.exports.EncryptionSetupOperation=y;var w=function(e){(0,o.default)(n,e);var t=(0,u.default)(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this)).existingValues=e,(0,f.default)((0,r.default)(a),"values",new Map),a}return(0,a.default)(n,[{key:"getAccountDataFromServer",value:function(e){return Promise.resolve(this.getAccountData(e))}},{key:"getAccountData",value:function(e){var t=this.values.get(e);if(t)return t;var r=this.existingValues[e];return r?r.getContent():null}},{key:"setAccountData",value:function(e,t){var r=this,n=this.values.get(e);return this.values.set(e,t),Promise.resolve().then((function(){var i=new h.MatrixEvent({type:e,content:t});return r.emit(g.ClientEvent.AccountData,i,n),{}}))}}]),n}(m.TypedEventEmitter),_=function(){function e(){(0,i.default)(this,e),(0,f.default)(this,"privateKeys",new Map)}return(0,a.default)(e,[{key:"getCrossSigningKeyCache",value:function(e,t){return this.getCrossSigningKey(e,t)}},{key:"storeCrossSigningKeyCache",value:function(e,t){return this.privateKeys.set(e,t),Promise.resolve()}},{key:"getCrossSigningKey",value:function(e,t){var r;return Promise.resolve(null!==(r=this.privateKeys.get(e))&&void 0!==r?r:null)}},{key:"saveCrossSigningKeys",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=Object.entries(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,s.default)(i.value,2),u=o[0],c=o[1];this.privateKeys.set(u,c)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}}]),e}(),S=function(){function e(t){(0,i.default)(this,e),this.delegateCryptoCallbacks=t,(0,f.default)(this,"privateKeys",new Map)}return(0,a.default)(e,[{key:"getSecretStorageKey",value:function(e,t){var r=e.keys,i=this;return(0,n.default)((function(){var e,n,a,o,u,l,f,d,h,v,p,b;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:n=!0,a=!1,o=void 0;try{for(u=Object.keys(r)[Symbol.iterator]();!(n=(l=u.next()).done);n=!0)if(f=l.value,d=i.privateKeys.get(f))return[2,[f,d]]}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return null!=i&&null!==(e=i.delegateCryptoCallbacks)&&void 0!==e&&e.getSecretStorageKey?[4,i.delegateCryptoCallbacks.getSecretStorageKey({keys:r},t)]:[3,2];case 1:return(h=c.sent())&&(v=(0,s.default)(h,2),p=v[0],b=v[1],i.privateKeys.set(p,b)),[2,h];case 2:return[2,null]}}))}))()}},{key:"addPrivateKey",value:function(e,t,r){var n,i;this.privateKeys.set(e,r),null===(n=this.delegateCryptoCallbacks)||void 0===n||null===(i=n.cacheSecretStorageKey)||void 0===i||i.call(n,e,t,r)}}]),e}()})),parcelRequire.register("eY9R3",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("dVhHy"),s=parcelRequire("cDTRq"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SecretStorage=e.exports.SECRET_STORAGE_ALGORITHM_V1_AES=void 0;var c=u(parcelRequire("abzte")),l=parcelRequire("1Pjj8"),f=parcelRequire("fKX3v"),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("gbtEr")),h=parcelRequire("hEw4R"),v=parcelRequire("7bFPP"),p=parcelRequire("67LLR"),b=parcelRequire("5HsbU"),g=parcelRequire("axSuM");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var $="m.secret_storage.v1.aes-hmac-sha2";e.exports.SECRET_STORAGE_ALGORITHM_V1_AES=$;var y=function(){function e(t,r,i){(0,n.default)(this,e),this.accountDataAdapter=t,this.cryptoCallbacks=r,this.baseApis=i,(0,c.default)(this,"requests",new Map)}return(0,i.default)(e,[{key:"getDefaultKeyId",value:function(){var e=this;return(0,r.default)((function(){var t;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.accountDataAdapter.getAccountDataFromServer("m.secret_storage.default_key")];case 1:return(t=r.sent())?[2,t.key]:[2,null]}}))}))()}},{key:"setDefaultKeyId",value:function(e){var t=this;return new Promise((function(r,n){var i=function(n){"m.secret_storage.default_key"===n.getType()&&n.getContent().key===e&&(t.accountDataAdapter.removeListener(p.ClientEvent.AccountData,i),r())};t.accountDataAdapter.on(p.ClientEvent.AccountData,i),t.accountDataAdapter.setAccountData("m.secret_storage.default_key",{key:e}).catch((function(e){t.accountDataAdapter.removeListener(p.ClientEvent.AccountData,i),n(e)}))}))}},{key:"addKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=this;return(0,r.default)((function(){var r,a,o,u;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return r={algorithm:e},t.name&&(r.name=t.name),e!==$?[3,3]:(t.passphrase&&(r.passphrase=t.passphrase),t.key?[4,(0,v.calculateKeyCheck)(t.key)]:[3,2]);case 1:a=s.sent(),o=a.iv,u=a.mac,r.iv=o,r.mac=u,s.label=2;case 2:return[3,4];case 3:throw new Error("Unknown key algorithm ".concat(e));case 4:if(n)return[3,8];s.label=5;case 5:n=(0,h.randomString)(32),s.label=6;case 6:return[4,i.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key.".concat(n))];case 7:if(s.sent())return[3,5];s.label=8;case 8:return[4,i.accountDataAdapter.setAccountData("m.secret_storage.key.".concat(n),r)];case 9:return s.sent(),[2,{keyId:n,keyInfo:r}]}}))}))()}},{key:"getKey",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return e?[3,2]:[4,t.getDefaultKeyId()];case 1:e=n.sent(),n.label=2;case 2:return e?[4,t.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+e)]:[2,null];case 3:return[2,(r=n.sent())?[e,r]:null]}}))}))()}},{key:"hasKey",value:function(e){var t=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getKey(e)];case 1:return[2,Boolean.apply(void 0,[r.sent()])]}}))}))()}},{key:"checkKey",value:function(e,t){return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return t.algorithm!==$?[3,4]:t.mac?[4,(0,v.calculateKeyCheck)(e,t.iv)]:[3,2];case 1:return r=n.sent().mac,[2,t.mac.replace(/=+$/g,"")===r.replace(/=+$/g,"")];case 2:return[2,!0];case 3:return[3,5];case 4:throw new Error("Unknown algorithm");case 5:return[2]}}))}))()}},{key:"store",value:function(e,t,n){var i=this;return(0,r.default)((function(){var r,u,c,l,d,h,v,p,b,g,m,y;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return r={},n?[3,2]:[4,i.getDefaultKeyId()];case 1:if(!(u=s.sent()))throw new Error("No keys specified and no default key present");n=[u],s.label=2;case 2:if(0===n.length)throw new Error("Zero keys given to encrypt with!");c=!0,l=!1,d=void 0,s.label=3;case 3:s.trys.push([3,11,12,13]),h=n[Symbol.iterator](),s.label=4;case 4:return(c=(v=h.next()).done)?[3,10]:(p=v.value,[4,i.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+p)]);case 5:if(!(b=s.sent()))throw new Error("Unknown key: "+p);return b.algorithm!==$?[3,8]:(g=(0,a.default)({},p,b),[4,i.getSecretStorageKey(g,e)]);case 6:return m=o.default.apply(void 0,[s.sent(),2]),[4,m[1].encrypt(t)];case 7:return r[p]=s.sent(),[3,9];case 8:f.logger.warn("unknown algorithm for secret storage key "+p+": "+b.algorithm),s.label=9;case 9:return c=!0,[3,4];case 10:return[3,13];case 11:return y=s.sent(),l=!0,d=y,[3,13];case 12:try{c||null==h.return||h.return()}finally{if(l)throw d}return[7];case 13:return[4,i.accountDataAdapter.setAccountData(e,{encrypted:r})];case 14:return s.sent(),[2]}}))}))()}},{key:"get",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,u,c,l,f,d,h,v,p,b,g,m;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,t.accountDataAdapter.getAccountDataFromServer(e)];case 1:if(!(r=s.sent()))return[2];if(!r.encrypted)throw new Error("Content is not encrypted!");n={},i=!0,a=!1,u=void 0,s.label=2;case 2:s.trys.push([2,7,8,9]),c=Object.keys(r.encrypted)[Symbol.iterator](),s.label=3;case 3:return(i=(l=c.next()).done)?[3,6]:(f=l.value,[4,t.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+f)]);case 4:d=s.sent(),h=r.encrypted[f],d.algorithm===$&&h.iv&&h.ciphertext&&h.mac&&(n[f]=d),s.label=5;case 5:return i=!0,[3,3];case 6:return[3,9];case 7:return v=s.sent(),a=!0,u=v,[3,9];case 8:try{i||null==c.return||c.return()}finally{if(a)throw u}return[7];case 9:if(0===Object.keys(n).length)throw new Error("Could not decrypt ".concat(e," because none of ")+"the keys it is encrypted with are for a supported algorithm");return[4,t.getSecretStorageKey(n,e)];case 10:return p=o.default.apply(void 0,[s.sent(),2]),b=p[0],g=p[1],m=r.encrypted[b],[2,g.decrypt(m)]}}))}))()}},{key:"isStored",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,o,u,c,l,f,d,h;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,t.accountDataAdapter.getAccountDataFromServer(e)];case 1:if(null==(r=s.sent())||!r.encrypted)return[2,null];n={},i=!0,a=!1,o=void 0,s.label=2;case 2:s.trys.push([2,7,8,9]),u=Object.keys(r.encrypted)[Symbol.iterator](),s.label=3;case 3:return(i=(c=u.next()).done)?[3,6]:(l=c.value,[4,t.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+l)]);case 4:if(!(f=s.sent()))return[3,5];d=r.encrypted[l],f.algorithm===$&&d.iv&&d.ciphertext&&d.mac&&(n[l]=f),s.label=5;case 5:return i=!0,[3,3];case 6:return[3,9];case 7:return h=s.sent(),a=!0,o=h,[3,9];case 8:try{i||null==u.return||u.return()}finally{if(a)throw o}return[7];case 9:return[2,Object.keys(n).length?n:null]}}))}))()}},{key:"request",value:function(e,t){var r=this,n=this.baseApis.makeTxnId(),i=(0,b.defer)();this.requests.set(n,{name:e,devices:t,deferred:i});var o=(0,a.default)({name:e,action:"request",requesting_device_id:this.baseApis.deviceId,request_id:n},g.ToDeviceMessageId,(0,l.default)()),s={},u=!0,c=!1,d=void 0;try{for(var h,v=t[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){s[h.value]=o}}catch(e){c=!0,d=e}finally{try{u||null==v.return||v.return()}finally{if(c)throw d}}return f.logger.info("Request secret ".concat(e," from ").concat(t,", id ").concat(n)),this.baseApis.sendToDevice("m.secret.request",(0,a.default)({},this.baseApis.getUserId(),s)),{requestId:n,promise:i.promise,cancel:function(e){var o={action:"request_cancellation",requesting_device_id:r.baseApis.deviceId,request_id:n},s={},u=!0,c=!1,l=void 0;try{for(var f,d=t[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){s[f.value]=o}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}r.baseApis.sendToDevice("m.secret.request",(0,a.default)({},r.baseApis.getUserId(),s)),i.reject(new Error(e||"Cancelled"))}}}},{key:"onRequestReceived",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o,u,c,h;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return r=e.getSender(),n=e.getContent(),r===t.baseApis.getUserId()&&n.name&&n.action&&n.requesting_device_id&&n.request_id?(i=n.requesting_device_id,"request_cancellation"!==n.action?[3,1]:[3,6]):[2];case 1:return"request"!==n.action?[3,6]:i===t.baseApis.deviceId?[2]:(f.logger.info("received request for secret ("+r+", "+i+", "+n.request_id+")"),t.cryptoCallbacks.onSecretRequested?[4,t.cryptoCallbacks.onSecretRequested(r,i,n.request_id,n.name,t.baseApis.checkDeviceTrust(r,i))]:[2]);case 2:return(o=s.sent())?(f.logger.info("Preparing ".concat(n.name," secret for ").concat(i)),u={type:"m.secret.send",content:{request_id:n.request_id,secret:o}},c=(0,a.default)({algorithm:d.OLM_ALGORITHM,sender_key:t.baseApis.crypto.olmDevice.deviceCurve25519Key,ciphertext:{}},g.ToDeviceMessageId,(0,l.default)()),[4,d.ensureOlmSessionsForDevices(t.baseApis.crypto.olmDevice,t.baseApis,(0,a.default)({},r,[t.baseApis.getStoredDevice(r,i)]))]):[3,5];case 3:return s.sent(),[4,d.encryptMessageForDevice(c.ciphertext,t.baseApis.getUserId(),t.baseApis.deviceId,t.baseApis.crypto.olmDevice,r,t.baseApis.getStoredDevice(r,i),u)];case 4:return s.sent(),h=(0,a.default)({},r,(0,a.default)({},i,c)),f.logger.info("Sending ".concat(n.name," secret for ").concat(i)),t.baseApis.sendToDevice("m.room.encrypted",h),[3,6];case 5:f.logger.info("Request denied for ".concat(n.name," secret for ").concat(i)),s.label=6;case 6:return[2]}}))}))()}},{key:"onSecretReceived",value:function(e){if(e.getSender()===this.baseApis.getUserId())if(d.isOlmEncrypted(e)){var t=e.getContent();if(this.baseApis.crypto.deviceList.getUserByIdentityKey(d.OLM_ALGORITHM,e.getSenderKey()||"")===e.getSender()){f.logger.log("got secret share for request",t.request_id);var r=this.requests.get(t.request_id);if(r){var n=this.baseApis.crypto.deviceList.getDeviceByIdentityKey(d.OLM_ALGORITHM,e.getSenderKey());if(!n)return void f.logger.log("secret share from unknown device with key",e.getSenderKey());if(!r.devices.includes(n.deviceId))return void f.logger.log("unsolicited secret share from device",n.deviceId);if(!this.baseApis.crypto.checkDeviceInfoTrust(e.getSender(),n).isVerified())return void f.logger.log("secret share from unverified device");f.logger.log("Successfully received secret ".concat(r.name," ")+"from ".concat(n.deviceId)),r.deferred.resolve(t.secret)}}else f.logger.error("sending device does not belong to the user it claims to be from")}else f.logger.error("secret event not properly encrypted")}},{key:"getSecretStorageKey",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,a,u;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(!n.cryptoCallbacks.getSecretStorageKey)throw new Error("No getSecretStorageKey callback supplied");return[4,n.cryptoCallbacks.getSecretStorageKey({keys:e},t)];case 1:if(!(r=s.sent()))throw new Error("getSecretStorageKey callback returned falsey");if(r.length<2)throw new Error("getSecretStorageKey callback returned invalid data");if(i=(0,o.default)(r,2),a=i[0],u=i[1],!e[a])throw new Error("App returned unknown key from getSecretStorageKey!");if(e[a].algorithm===$)return[2,[a,{encrypt:function(e){return(0,v.encryptAES)(e,u,t)},decrypt:function(e){return(0,v.decryptAES)(e,u,t)}}]];throw new Error("Unknown key type: "+e[a].algorithm)}}))}))()}}]),e}();e.exports.SecretStorage=y})),parcelRequire.register("5rvsD",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("caN7I"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq"),l=parcelRequire("dwjmx").Buffer,f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SHOW_QR_CODE_METHOD=e.exports.SCAN_QR_CODE_METHOD=e.exports.ReciprocateQRCode=e.exports.QrCodeEvent=e.exports.QRCodeData=void 0;var d=f(parcelRequire("abzte")),h=parcelRequire("kpbsj"),v=parcelRequire("dkCkW"),p=parcelRequire("gbtEr"),b=parcelRequire("fKX3v");e.exports.SHOW_QR_CODE_METHOD="m.qr_code.show.v1";var g;e.exports.SCAN_QR_CODE_METHOD="m.qr_code.scan.v1",e.exports.QrCodeEvent=g,(g||(e.exports.QrCodeEvent=g={})).ShowReciprocateQr="show_reciprocate_qr";var m=function(e){"use strict";(0,o.default)(l,e);var t=(0,u.default)(l);function l(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var u;(0,i.default)(this,l),u=t.call.apply(t,[this].concat((0,s.default)(a))),(0,d.default)((0,r.default)(u),"reciprocateQREvent",void 0);var f=(0,r.default)(u);return(0,d.default)((0,r.default)(u),"doVerification",(0,n.default)((function(){var e,t,r,n,i;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:if(!f.startEvent)throw new Error("It is not currently possible to start verificationwith this method yet.");if(e=f.request.qrCodeData,f.startEvent.getContent().secret!==(null==e?void 0:e.encodedSharedSecret))throw(0,v.newKeyMismatchError)();return[4,new Promise((function(e,t){f.reciprocateQREvent={confirm:e,cancel:function(){return t((0,v.newUserCancelledError)())}},f.emit(g.ShowReciprocateQr,f.reciprocateQREvent)}))];case 1:switch(a.sent(),t={},null==e?void 0:e.mode){case $.VerifyOtherUser:r=e.otherUserMasterKey,t["ed25519:".concat(r)]=r;break;case $.VerifySelfTrusted:n=f.request.targetDevice.deviceId,t["ed25519:".concat(n)]=e.otherDeviceKey;break;case $.VerifySelfUntrusted:i=e.myMasterKey,t["ed25519:".concat(i)]=i}return[4,f.verifyKeys(f.userId,t,(function(e,r,n){var i=t[e];if(!i)throw(0,v.newKeyMismatchError)();if(n!==i)throw b.logger.error("key ID from key info does not match"),(0,v.newKeyMismatchError)();for(var a in r.keys)if(a.startsWith("ed25519")){var o=t[a];if(!o)throw(0,v.newKeyMismatchError)();if(r.keys[a]!==o)throw b.logger.error("master key does not match"),(0,v.newKeyMismatchError)()}}))];case 2:return a.sent(),[2]}}))}))),u}return(0,a.default)(l,null,[{key:"factory",value:function(e,t,r,n,i,a){return new l(e,t,r,n,i,a)}},{key:"NAME",get:function(){return"m.reciprocate.v1"}}]),l}(h.VerificationBase);e.exports.ReciprocateQRCode=m;var $,y;(y=$||($={}))[y.VerifyOtherUser=0]="VerifyOtherUser",y[y.VerifySelfTrusted=1]="VerifySelfTrusted",y[y.VerifySelfUntrusted=2]="VerifySelfUntrusted";var w=function(){"use strict";function e(t,r,n,a,o,s){(0,i.default)(this,e),this.mode=t,this.sharedSecret=r,this.otherUserMasterKey=n,this.otherDeviceKey=a,this.myMasterKey=o,this.buffer=s}return(0,a.default)(e,[{key:"encodedSharedSecret",get:function(){return this.sharedSecret}},{key:"getBuffer",value:function(){return this.buffer}}],[{key:"create",value:function(t,r){return(0,n.default)((function(){var n,i,a,o,s,u,l,f,d,h;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=e.generateSharedSecret(),i=e.determineMode(t,r),a=null,o=null,s=null,i!==$.VerifyOtherUser?[3,1]:(u=r.getStoredCrossSigningForUser(t.otherUserId),a=u.getId("master"),[3,4]);case 1:return i!==$.VerifySelfTrusted?[3,3]:[4,e.getOtherDeviceKey(t,r)];case 2:return o=c.sent(),[3,4];case 3:i===$.VerifySelfUntrusted&&(l=r.getUserId(),f=r.getStoredCrossSigningForUser(l),s=f.getId("master")),c.label=4;case 4:return d=e.generateQrData(t,r,i,n,a,o,s),h=e.generateBuffer(d),[2,new e(i,n,a,o,s,h)]}}))}))()}},{key:"generateSharedSecret",value:function(){var e=new Uint8Array(11);return $parcel$global.crypto.getRandomValues(e),(0,p.encodeUnpaddedBase64)(e)}},{key:"getOtherDeviceKey",value:function(e,t){return(0,n.default)((function(){var r,n,i;return(0,c.__generator)(this,(function(a){if(r=t.getUserId(),n=e.targetDevice,!(i=n.deviceId?t.getStoredDevice(r,n.deviceId):void 0))throw new Error("could not find device "+(null==n?void 0:n.deviceId));return[2,i.getFingerprint()]}))}))()}},{key:"determineMode",value:function(e,t){var r=t.getUserId(),n=e.otherUserId,i=$.VerifyOtherUser;r===n&&(i=t.checkUserTrust(r).isCrossSigningVerified()?$.VerifySelfTrusted:$.VerifySelfUntrusted);return i}},{key:"generateQrData",value:function(e,t,r,n,i,a,o){var s=t.getUserId(),u={prefix:"MATRIX",version:2,mode:r,transactionId:e.channel.transactionId,firstKeyB64:"",secondKeyB64:"",secretB64:n},c=t.getStoredCrossSigningForUser(s);return r===$.VerifyOtherUser?(u.firstKeyB64=c.getId("master"),u.secondKeyB64=i):r===$.VerifySelfTrusted?(u.firstKeyB64=c.getId("master"),u.secondKeyB64=a):r===$.VerifySelfUntrusted&&(u.firstKeyB64=t.getDeviceEd25519Key(),u.secondKeyB64=o),u}},{key:"generateBuffer",value:function(e){var t=l.alloc(0),r=function(e){var r=l.from([e]);t=l.concat([t,r])},n=function(e){var r=l.alloc(2);r.writeInt16BE(e,0),t=l.concat([t,r])},i=function(e,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=l.from(e,r);i&&n(a.byteLength),t=l.concat([t,a])},a=function(e){var r=(0,p.decodeBase64)(e),n=l.from(r);t=l.concat([t,n])};return i(e.prefix,"ascii",!1),r(e.version),r(e.mode),i(e.transactionId,"utf-8"),a(e.firstKeyB64),a(e.secondKeyB64),a(e.secretB64),t}}]),e}();e.exports.QRCodeData=w})),parcelRequire.register("kpbsj",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("8WkQI"),s=parcelRequire("gNsil"),u=parcelRequire("dVhHy"),c=parcelRequire("caN7I"),l=parcelRequire("9PuT7"),f=parcelRequire("8rJSp"),d=parcelRequire("cDTRq"),h=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.VerificationEvent=e.exports.VerificationBase=e.exports.SwitchStartEventError=void 0;var v,p=h(parcelRequire("abzte")),b=parcelRequire("dlOEf"),g=parcelRequire("axSuM"),m=parcelRequire("fKX3v"),$=parcelRequire("3jE4D"),y=parcelRequire("dkCkW"),w=parcelRequire("eja6Y"),_=parcelRequire("4Eh2q"),S=new Error("Verification timed out"),C=function(e){(0,s.default)(r,e);var t=(0,f.default)(r);function r(e){var n;return(0,i.default)(this,r),(n=t.call(this)).startEvent=e,n}return r}((0,l.default)(Error));e.exports.SwitchStartEventError=C,e.exports.VerificationEvent=v,(v||(e.exports.VerificationEvent=v={})).Cancel="cancel";var k=function(e){(0,s.default)(l,e);var t=(0,f.default)(l);function l(e,n,a,o,s,u){var c;return(0,i.default)(this,l),(c=t.call(this)).channel=e,c.baseApis=n,c.userId=a,c.deviceId=o,c.startEvent=s,c.request=u,(0,p.default)((0,r.default)(c),"cancelled",!1),(0,p.default)((0,r.default)(c),"_done",!1),(0,p.default)((0,r.default)(c),"promise",null),(0,p.default)((0,r.default)(c),"transactionTimeoutTimer",null),(0,p.default)((0,r.default)(c),"expectedEvent",void 0),(0,p.default)((0,r.default)(c),"resolve",void 0),(0,p.default)((0,r.default)(c),"reject",void 0),(0,p.default)((0,r.default)(c),"resolveEvent",void 0),(0,p.default)((0,r.default)(c),"rejectEvent",void 0),(0,p.default)((0,r.default)(c),"started",void 0),(0,p.default)((0,r.default)(c),"doVerification",void 0),c}return(0,a.default)(l,[{key:"initiatedByMe",get:function(){if(!this.startEvent)return!0;var e=this.startEvent.getSender(),t=this.startEvent.getContent();return e===this.baseApis.getUserId()&&t.from_device===this.baseApis.getDeviceId()}},{key:"hasBeenCancelled",get:function(){return this.cancelled}},{key:"resetTimer",value:function(){var e=this;m.logger.info("Refreshing/starting the verification transaction timeout timer"),null!==this.transactionTimeoutTimer&&clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=setTimeout((function(){e._done||e.cancelled||(m.logger.info("Triggering verification timeout"),e.cancel(S))}),6e5)}},{key:"endTimer",value:function(){null!==this.transactionTimeoutTimer&&(clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=null)}},{key:"send",value:function(e,t){return this.channel.send(e,t)}},{key:"waitForEvent",value:function(e){var t=this;if(this._done)return Promise.reject(new Error("Verification is already done"));var r=this.request.getEventFromOtherParty(e);return r?Promise.resolve(r):(this.expectedEvent=e,new Promise((function(e,r){t.resolveEvent=e,t.rejectEvent=r})))}},{key:"canSwitchStartEvent",value:function(e){return!1}},{key:"switchStartEvent",value:function(e){if(this.canSwitchStartEvent(e))if(m.logger.log("Verification Base: switching verification start event",{restartingFlow:!!this.rejectEvent}),this.rejectEvent){var t=this.rejectEvent;this.rejectEvent=void 0,t(new C(e))}else this.startEvent=e}},{key:"handleEvent",value:function(e){var t;if(!this._done)if(e.getType()===this.expectedEvent)this.expectedEvent!==g.EventType.KeyVerificationDone&&(this.expectedEvent=void 0,this.rejectEvent=void 0,this.resetTimer(),null===(t=this.resolveEvent)||void 0===t||t.call(this,e));else if(e.getType()===g.EventType.KeyVerificationCancel){var r=this.reject;if(this.reject=void 0,r){var n=e.getContent(),i=n.reason,a=n.code;r(new Error("Other side cancelled verification "+"because ".concat(i," (").concat(a,")")))}}else if(this.expectedEvent){var o=new Error("Unexpected message: expecting "+this.expectedEvent+" but got "+e.getType());if(this.expectedEvent=void 0,this.rejectEvent){var s=this.rejectEvent;this.rejectEvent=void 0,s(o)}this.cancel(o)}}},{key:"done",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,d.__generator)(this,(function(r){return e.endTimer(),e._done?[2]:(e.request.onVerifierFinished(),null===(t=e.resolve)||void 0===t||t.call(e),[2,(0,w.requestKeysDuringVerification)(e.baseApis,e.userId,e.deviceId)])}))}))()}},{key:"cancel",value:function(e){if(this.endTimer(),!this._done){if(this.cancelled=!0,this.request.onVerifierCancelled(),this.userId&&this.deviceId)if(e===S){var t=(0,y.newTimeoutError)();this.send(t.getType(),t.getContent())}else if(e instanceof b.MatrixEvent){if(e.getSender()!==this.userId){var r=e.getContent();e.getType()===g.EventType.KeyVerificationCancel?(r.code=r.code||"m.unknown",r.reason=r.reason||r.body||"Unknown reason",this.send(g.EventType.KeyVerificationCancel,r)):this.send(g.EventType.KeyVerificationCancel,{code:"m.unknown",reason:r.body||"Unknown reason"})}}else this.send(g.EventType.KeyVerificationCancel,{code:"m.unknown",reason:e.toString()});null!==this.promise?this.reject&&this.reject(e):this.promise=Promise.reject(e),this.emit(v.Cancel,e)}}},{key:"verify",value:function(){var e=this;return this.promise||(this.promise=new Promise((function(t,r){e.resolve=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e._done=!0,e.endTimer(),t.apply(void 0,(0,c.default)(n))},e.reject=function(t){e._done=!0,e.endTimer(),r(t)}})),this.doVerification&&!this.started&&(this.started=!0,this.resetTimer(),new Promise((function(t,r){var n;(null===(n=e.baseApis.crypto.deviceList.getStoredCrossSigningForUser(e.userId))||void 0===n?void 0:n.getId())===e.deviceId&&r(new Error("Device ID is the same as the cross-signing ID")),t()})).then((function(){return e.doVerification()})).then(this.done.bind(this),this.cancel.bind(this)))),this.promise}},{key:"verifyKeys",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n,a,s,c,l,f,h,v,p,b,g,y,w,_,S,C,k,E,R,x,M,I;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:n=[],a=!0,s=!1,c=void 0;try{for(l=Object.entries(t)[Symbol.iterator]();!(a=(f=l.next()).done);a=!0)h=(0,u.default)(f.value,2),v=h[0],p=h[1],b=v.split(":",2)[1],(g=i.baseApis.getStoredDevice(e,b))?(r(v,g,p),n.push([b,v,g.keys[v]])):(y=i.baseApis.crypto.deviceList.getStoredCrossSigningForUser(e))&&y.getId()===b?(r(v,$.DeviceInfo.fromStorage({keys:(0,o.default)({},v,b)},b),p),n.push([b,v,b])):m.logger.warn("verification: Could not find device ".concat(b," to verify"))}catch(e){s=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw c}}if(!n.length)throw new Error("No devices could be verified");m.logger.info("Verification completed! Marking devices verified: ",n),w=!0,_=!1,S=void 0,d.label=1;case 1:d.trys.push([1,6,7,8]),C=n[Symbol.iterator](),d.label=2;case 2:return(w=(k=C.next()).done)?[3,5]:(E=(0,u.default)(k.value,3),R=E[0],x=E[1],M=E[2],[4,i.baseApis.crypto.setDeviceVerification(e,R,!0,null,null,(0,o.default)({},x,M))]);case 3:d.sent(),d.label=4;case 4:return w=!0,[3,2];case 5:return[3,8];case 6:return I=d.sent(),_=!0,S=I,[3,8];case 7:try{w||null==C.return||C.return()}finally{if(_)throw S}return[7];case 8:return e!=i.baseApis.credentials.userId?[3,10]:[4,i.baseApis.checkKeyBackup()];case 9:d.sent(),d.label=10;case 10:return[2]}}))}))()}},{key:"events",get:function(){}}]),l}(_.TypedEventEmitter);e.exports.VerificationBase=k})),parcelRequire.register("dkCkW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.errorFactory=a,e.exports.errorFromEvent=function(e){var t=e.getContent();if(t){var r=t.code,n=t.reason;return{code:r,reason:n}}return{code:"Unknown error",reason:"m.unknown"}},e.exports.newUserCancelledError=e.exports.newUnknownMethodError=e.exports.newUnexpectedMessageError=e.exports.newTimeoutError=e.exports.newKeyMismatchError=e.exports.newInvalidMessageError=void 0,e.exports.newVerificationError=i;var r=parcelRequire("dlOEf"),n=parcelRequire("axSuM");function i(e,t,i){var a=Object.assign({},{code:e,reason:t},i);return new r.MatrixEvent({type:n.EventType.KeyVerificationCancel,content:a})}function a(e,t){return function(r){return i(e,t,r)}}var o=a("m.user","Cancelled by user");e.exports.newUserCancelledError=o;var s=a("m.timeout","Timed out");e.exports.newTimeoutError=s;var u=a("m.unknown_method","Unknown method");e.exports.newUnknownMethodError=u;var c=a("m.unexpected_message","Unexpected message");e.exports.newUnexpectedMessageError=c;var l=a("m.key_mismatch","Key mismatch");e.exports.newKeyMismatchError=l;var f=a("m.invalid_message","Invalid message");e.exports.newInvalidMessageError=f})),parcelRequire.register("ecubV",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("dVhHy"),u=parcelRequire("caN7I"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SasEvent=e.exports.SAS=void 0;var d,h=f(parcelRequire("abzte")),v=f(parcelRequire("cBsbd")),p=parcelRequire("kpbsj"),b=parcelRequire("dkCkW"),g=parcelRequire("fKX3v"),m=parcelRequire("jw1z0"),$=parcelRequire("axSuM"),y=$.EventType.KeyVerificationStart,w=[$.EventType.KeyVerificationAccept,$.EventType.KeyVerificationKey,$.EventType.KeyVerificationMac],_=(0,b.errorFactory)("m.mismatched_sas","Mismatched short authentication string"),S=(0,b.errorFactory)("m.mismatched_commitment","Mismatched commitment"),C=[["🐶","dog"],["🐱","cat"],["🦁","lion"],["🐎","horse"],["🦄","unicorn"],["🐷","pig"],["🐘","elephant"],["🐰","rabbit"],["🐼","panda"],["🐓","rooster"],["🐧","penguin"],["🐢","turtle"],["🐟","fish"],["🐙","octopus"],["🦋","butterfly"],["🌷","flower"],["🌳","tree"],["🌵","cactus"],["🍄","mushroom"],["🌏","globe"],["🌙","moon"],["☁️","cloud"],["🔥","fire"],["🍌","banana"],["🍎","apple"],["🍓","strawberry"],["🌽","corn"],["🍕","pizza"],["🎂","cake"],["❤️","heart"],["🙂","smiley"],["🤖","robot"],["🎩","hat"],["👓","glasses"],["🔧","spanner"],["🎅","santa"],["👍","thumbs up"],["☂️","umbrella"],["⌛","hourglass"],["⏰","clock"],["🎁","gift"],["💡","light bulb"],["📕","book"],["✏️","pencil"],["📎","paperclip"],["✂️","scissors"],["🔒","lock"],["🔑","key"],["🔨","hammer"],["☎️","telephone"],["🏁","flag"],["🚂","train"],["🚲","bicycle"],["✈️","aeroplane"],["🚀","rocket"],["🏆","trophy"],["⚽","ball"],["🎸","guitar"],["🎺","trumpet"],["🔔","bell"],["⚓️","anchor"],["🎧","headphones"],["📁","folder"],["📌","pin"]];var k={decimal:m.generateDecimalSas,emoji:function(e){return[e[0]>>2,(3&e[0])<<4|e[1]>>4,(15&e[1])<<2|e[2]>>6,63&e[2],e[3]>>2,(3&e[3])<<4|e[4]>>4,(15&e[4])<<2|e[5]>>6].map((function(e){return C[e]}))}};function E(e,t){var r={},n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u in k&&(r[u]=k[u](Array.from(e)))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}var R={"hkdf-hmac-sha256":"calculate_mac","org.matrix.msc3783.hkdf-hmac-sha256":"calculate_mac_fixed_base64","hmac-sha256":"calculate_mac_long_kdf"};function x(e,t){return function(r,n){var i=e[R[t]](r,n);return g.logger.log("SAS calculateMAC:",t,[r,n],i),i}}var M,I={"curve25519-hkdf-sha256":function(e,t,r){var n="".concat(e.baseApis.getUserId(),"|").concat(e.baseApis.deviceId,"|")+"".concat(e.ourSASPubKey,"|"),i="".concat(e.userId,"|").concat(e.deviceId,"|").concat(e.theirSASPubKey,"|"),a="MATRIX_KEY_VERIFICATION_SAS|"+(e.initiatedByMe?n+i:i+n)+e.channel.transactionId;return t.generate_bytes(a,r)},curve25519:function(e,t,r){var n="".concat(e.baseApis.getUserId()).concat(e.baseApis.deviceId),i="".concat(e.userId).concat(e.deviceId),a="MATRIX_KEY_VERIFICATION_SAS"+(e.initiatedByMe?n+i:i+n)+e.channel.transactionId;return t.generate_bytes(a,r)}},T=["curve25519-hkdf-sha256","curve25519"],A=["sha256"],O=["org.matrix.msc3783.hkdf-hmac-sha256","hkdf-hmac-sha256","hmac-sha256"],D=Object.keys(k),P=new Set(T),q=new Set(A),L=new Set(O),U=new Set(D);function N(e,t){return Array.isArray(e)?e.filter((function(e){return t.has(e)})):[]}e.exports.SasEvent=M,(M||(e.exports.SasEvent=M={})).ShowSas="show_sas";var B=function(e){(0,o.default)(f,e);var t=(0,c.default)(f);function f(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var s;(0,i.default)(this,f),s=t.call.apply(t,[this].concat((0,u.default)(a))),(0,h.default)((0,r.default)(s),"waitingForAccept",void 0),(0,h.default)((0,r.default)(s),"ourSASPubKey",void 0),(0,h.default)((0,r.default)(s),"theirSASPubKey",void 0),(0,h.default)((0,r.default)(s),"sasEvent",void 0);var c=(0,r.default)(s);return(0,h.default)((0,r.default)(s),"doVerification",(0,n.default)((function(){var e,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,$parcel$global.Olm.init()];case 1:return r.sent(),d=d||new $parcel$global.Olm.Utility,[4,c.baseApis.downloadKeys([c.userId])];case 2:r.sent(),e=!1,r.label=3;case 3:return r.trys.push([3,8,,9]),c.initiatedByMe?[4,c.doSendVerification()]:[3,5];case 4:return[2,r.sent()];case 5:return[4,c.doRespondVerification()];case 6:return[2,r.sent()];case 7:return[3,9];case 8:if(!((t=r.sent())instanceof p.SwitchStartEventError))throw t;return c.startEvent=t.startEvent,e=!0,[3,9];case 9:if(e)return[3,3];r.label=10;case 10:return[2]}}))}))),s}return(0,a.default)(f,[{key:"events",get:function(){return w}},{key:"canSwitchStartEvent",value:function(e){if(e.getType()!==y)return!1;var t=e.getContent();return(null==t?void 0:t.method)===f.NAME&&!!this.waitingForAccept}},{key:"sendStart",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return t=e.channel.completeContent(y,{method:f.NAME,from_device:e.baseApis.deviceId,key_agreement_protocols:T,hashes:A,message_authentication_codes:O,short_authentication_string:D}),[4,e.channel.sendCompleted(y,t)];case 1:return r.sent(),[2,t]}}))}))()}},{key:"verifyAndCheckMAC",value:function(e,t,r,i){var a=this;return(0,n.default)((function(){var o,u,c,f,d;return(0,l.__generator)(this,(function(h){switch(h.label){case 0:return o=I[e](a,r,6),u=new Promise((function(e,s){a.sasEvent={sas:E(o,t),confirm:(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a.sendMAC(r,i)];case 1:return n.sent(),e(),[3,3];case 2:return t=n.sent(),s(t),[3,3];case 3:return[2]}}))})),cancel:function(){return s((0,b.newUserCancelledError)())},mismatch:function(){return s(_())}},a.emit(M.ShowSas,a.sasEvent)})),[4,Promise.all([a.waitForEvent($.EventType.KeyVerificationMac).then((function(e){return a.expectedEvent=$.EventType.KeyVerificationDone,e})),u])];case 1:return c=s.default.apply(void 0,[h.sent(),1]),f=c[0],d=f.getContent(),[4,a.checkMAC(r,d,i)];case 2:return h.sent(),[2]}}))}))()}},{key:"doSendVerification",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,u,c;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e.waitingForAccept=!0,e.startEvent?(t=e.channel.completedContentFromEvent(e.startEvent),[3,3]):[3,1];case 1:return[4,e.sendStart()];case 2:t=l.sent(),l.label=3;case 3:if(!e.initiatedByMe)throw new p.SwitchStartEventError(e.startEvent);l.label=4;case 4:return l.trys.push([4,,6,7]),[4,e.waitForEvent($.EventType.KeyVerificationAccept)];case 5:return r=l.sent(),[3,7];case 6:return e.waitingForAccept=!1,[7];case 7:if(n=r.getContent(),i=N(n.short_authentication_string,U),!(P.has(n.key_agreement_protocol)&&q.has(n.hash)&&L.has(n.message_authentication_code)&&i.length))throw(0,b.newUnknownMethodError)();if("string"!=typeof n.commitment)throw(0,b.newInvalidMessageError)();a=n.key_agreement_protocol,o=n.message_authentication_code,s=n.commitment,u=new $parcel$global.Olm.SAS,l.label=8;case 8:return l.trys.push([8,,12,13]),e.ourSASPubKey=u.get_pubkey(),[4,e.send($.EventType.KeyVerificationKey,{key:e.ourSASPubKey})];case 9:return l.sent(),[4,e.waitForEvent($.EventType.KeyVerificationKey)];case 10:if(r=l.sent(),n=r.getContent(),c=n.key+v.default.stringify(t),d.sha256(c)!==s)throw S();return e.theirSASPubKey=n.key,u.set_their_key(n.key),[4,e.verifyAndCheckMAC(a,i,u,o)];case 11:return l.sent(),[3,13];case 12:return u.free(),[7];case 13:return[2]}}))}))()}},{key:"doRespondVerification",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,u;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:if(t=e.channel.completedContentFromEvent(e.startEvent),r=N(T,new Set(t.key_agreement_protocols))[0],n=N(A,new Set(t.hashes))[0],i=N(O,new Set(t.message_authentication_codes))[0],a=N(t.short_authentication_string,U),void 0===r||void 0===n||void 0===i||!a.length)throw(0,b.newUnknownMethodError)();o=new $parcel$global.Olm.SAS,c.label=1;case 1:return c.trys.push([1,,6,7]),s=o.get_pubkey()+v.default.stringify(t),[4,e.send($.EventType.KeyVerificationAccept,{key_agreement_protocol:r,hash:n,message_authentication_code:i,short_authentication_string:a,commitment:d.sha256(s)})];case 2:return c.sent(),[4,e.waitForEvent($.EventType.KeyVerificationKey)];case 3:return u=c.sent(),t=u.getContent(),e.theirSASPubKey=t.key,o.set_their_key(t.key),e.ourSASPubKey=o.get_pubkey(),[4,e.send($.EventType.KeyVerificationKey,{key:e.ourSASPubKey})];case 4:return c.sent(),[4,e.verifyAndCheckMAC(r,a,o,i)];case 5:return c.sent(),[3,7];case 6:return o.free(),[7];case 7:return[2]}}))}))()}},{key:"sendMAC",value:function(e,t){var r={},n=[],i="MATRIX_KEY_VERIFICATION_MAC"+this.baseApis.getUserId()+this.baseApis.deviceId+this.userId+this.deviceId+this.channel.transactionId,a="ed25519:".concat(this.baseApis.deviceId);r[a]=x(e,t)(this.baseApis.getDeviceEd25519Key(),i+a),n.push(a);var o=this.baseApis.getCrossSigningId();if(o){var s="ed25519:".concat(o);r[s]=x(e,t)(o,i+s),n.push(s)}var u=x(e,t)(n.sort().join(","),i+"KEY_IDS");return this.send($.EventType.KeyVerificationMac,{mac:r,keys:u})}},{key:"checkMAC",value:function(e,t,r){var i=this;return(0,n.default)((function(){var n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:if(n="MATRIX_KEY_VERIFICATION_MAC"+i.userId+i.deviceId+i.baseApis.getUserId()+i.baseApis.deviceId+i.channel.transactionId,t.keys!==x(e,r)(Object.keys(t.mac).sort().join(","),n+"KEY_IDS"))throw(0,b.newKeyMismatchError)();return[4,i.verifyKeys(i.userId,t.mac,(function(t,i,a){if(a!==x(e,r)(i.keys[t],n+t))throw(0,b.newKeyMismatchError)()}))];case 1:return a.sent(),[2]}}))}))()}}],[{key:"NAME",get:function(){return"m.sas.v1"}}]),f}(p.VerificationBase);e.exports.SAS=B})),parcelRequire.register("jw1z0",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.generateDecimalSas=function(e){return[1e3+(e[0]<<5|e[1]>>3),1e3+((7&e[1])<<10|e[2]<<2|e[3]>>6),1e3+((63&e[3])<<7|e[4]>>1)]}})),parcelRequire.register("fI2p6",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("cDTRq");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.deriveKey=c,e.exports.keyFromAuthData=function(e,t){if(!$parcel$global.Olm)throw new Error("Olm is not available");if(!e.private_key_salt||!e.private_key_iterations)throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");return c(t,e.private_key_salt,e.private_key_iterations,e.private_key_bits||s)},e.exports.keyFromPassphrase=function(e){return u.apply(this,arguments)};var i=parcelRequire("hEw4R"),a=parcelRequire("dvi1R"),o=5e5,s=256;function u(){return(u=(0,r.default)((function(e){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:if(!$parcel$global.Olm)throw new Error("Olm is not available");return t=(0,i.randomString)(32),[4,c(e,t,o,s)];case 1:return[2,{key:r.sent(),salt:t,iterations:o}]}}))}))).apply(this,arguments)}function c(e,t,r){return l.apply(this,arguments)}function l(){return l=(0,r.default)((function(e,t,r){var i,o,u,c=arguments;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(i=c.length>3&&void 0!==c[3]?c[3]:s,!a.subtleCrypto||!a.TextEncoder)throw new Error("Password-based backup is not available on this platform");return[4,a.subtleCrypto.importKey("raw",(new a.TextEncoder).encode(e),{name:"PBKDF2"},!1,["deriveBits"])];case 1:return o=n.sent(),[4,a.subtleCrypto.deriveBits({name:"PBKDF2",salt:(new a.TextEncoder).encode(t),iterations:r,hash:"SHA-512"},o,i)];case 2:return u=n.sent(),[2,new Uint8Array(u)]}}))})),l.apply(this,arguments)}})),parcelRequire.register("fmKNB",(function(e,t){var r=parcelRequire("dwjmx").Buffer;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.decodeRecoveryKey=function(e){var t=n.decode(e.replace(/ /g,"")),r=0,i=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;r^=l}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}if(0!==r)throw new Error("Incorrect parity");for(var f=0;f<a.length;++f)if(t[f]!==a[f])throw new Error("Incorrect prefix");if(t.length!==a.length+$parcel$global.Olm.PRIVATE_KEY_LENGTH+1)throw new Error("Incorrect length");return Uint8Array.from(t.slice(a.length,a.length+$parcel$global.Olm.PRIVATE_KEY_LENGTH))},e.exports.encodeRecoveryKey=function(e){var t,i=r.alloc(a.length+e.length+1);i.set(a,0),i.set(e,a.length);for(var o=0,s=0;s<i.length-1;++s)o^=i[s];i[i.length-1]=o;var u=n.encode(i);return null===(t=u.match(/.{1,4}/g))||void 0===t?void 0:t.join(" ")};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("apPUb"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var a=[139,1]})),parcelRequire.register("apPUb",(function(e,t){var r=parcelRequire("aLU1e");e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")})),parcelRequire.register("aLU1e",(function(e,t){"use strict";e.exports=function(e){var t=function(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var t=0,n=0,i=0;e[t]===u;)n++,t++;for(var a=(e.length-t)*c+1>>>0,o=new Uint8Array(a);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=a-1;(0!==l||f<i)&&-1!==d;d--,f++)l+=s*o[d]>>>0,o[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}for(var h=a-i;h!==a&&0===o[h];)h++;for(var v=new Uint8Array(n+(a-h)),p=n;h!==a;)v[p++]=o[h++];return v};if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==r[o])throw new TypeError(a+" is ambiguous");r[o]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var o=(a-i)*l+1>>>0,c=new Uint8Array(o);i!==a;){for(var f=t[i],d=0,h=o-1;(0!==f||d<n)&&-1!==h;h--,d++)f+=256*c[h]>>>0,c[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=d,i++}for(var v=o-n;v!==o&&0===c[v];)v++;for(var p=u.repeat(r);v<o;++v)p+=e.charAt(c[v]);return p},decodeUnsafe:t,decode:function(e){var r=t(e);if(r)return r;throw new Error("Non-base"+s+" character")}}}})),parcelRequire.register("787If",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("dVhHy"),u=parcelRequire("caN7I"),c=parcelRequire("8rJSp"),l=parcelRequire("cDTRq"),f=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.VerificationRequestEvent=e.exports.VerificationRequest=e.exports.START_TYPE=e.exports.REQUEST_TYPE=e.exports.READY_TYPE=e.exports.Phase=e.exports.PHASE_UNSENT=e.exports.PHASE_STARTED=e.exports.PHASE_REQUESTED=e.exports.PHASE_READY=e.exports.PHASE_DONE=e.exports.PHASE_CANCELLED=e.exports.EVENT_PREFIX=e.exports.DONE_TYPE=e.exports.CANCEL_TYPE=void 0;var d=f(parcelRequire("abzte")),h=parcelRequire("fKX3v"),v=parcelRequire("dkCkW"),p=parcelRequire("5rvsD"),b=parcelRequire("axSuM"),g=parcelRequire("4Eh2q"),m="m.key.verification.";e.exports.EVENT_PREFIX=m;var $="m.key.verification.request";e.exports.REQUEST_TYPE=$;var y="m.key.verification.start";e.exports.START_TYPE=y;var w="m.key.verification.cancel";e.exports.CANCEL_TYPE=w;var _="m.key.verification.done";e.exports.DONE_TYPE=_;var S,C,k="m.key.verification.ready";e.exports.READY_TYPE=k,e.exports.Phase=S,(C=S||(e.exports.Phase=S={}))[C.Unsent=1]="Unsent",C[C.Requested=2]="Requested",C[C.Ready=3]="Ready",C[C.Started=4]="Started",C[C.Cancelled=5]="Cancelled",C[C.Done=6]="Done";var E=S.Unsent;e.exports.PHASE_UNSENT=E;var R=S.Requested;e.exports.PHASE_REQUESTED=R;var x=S.Ready;e.exports.PHASE_READY=x;var M=S.Started;e.exports.PHASE_STARTED=M;var I=S.Cancelled;e.exports.PHASE_CANCELLED=I;var T,A=S.Done;e.exports.PHASE_DONE=A,e.exports.VerificationRequestEvent=T,(T||(e.exports.VerificationRequestEvent=T={})).Change="change";var O=function(e){(0,o.default)(f,e);var t=(0,c.default)(f);function f(e,a,o){var s;(0,i.default)(this,f),(s=t.call(this)).channel=e,s.verificationMethods=a,s.client=o,(0,d.default)((0,r.default)(s),"eventsByUs",new Map),(0,d.default)((0,r.default)(s),"eventsByThem",new Map),(0,d.default)((0,r.default)(s),"_observeOnly",!1),(0,d.default)((0,r.default)(s),"timeoutTimer",null),(0,d.default)((0,r.default)(s),"_accepting",!1),(0,d.default)((0,r.default)(s),"_declining",!1),(0,d.default)((0,r.default)(s),"verifierHasFinished",!1),(0,d.default)((0,r.default)(s),"_cancelled",!1),(0,d.default)((0,r.default)(s),"_chosenMethod",null),(0,d.default)((0,r.default)(s),"_qrCodeData",null),(0,d.default)((0,r.default)(s),"requestReceivedAt",null),(0,d.default)((0,r.default)(s),"commonMethods",[]),(0,d.default)((0,r.default)(s),"_phase",void 0),(0,d.default)((0,r.default)(s),"_cancellingUserId",void 0),(0,d.default)((0,r.default)(s),"_verifier",void 0);var u=(0,r.default)(s);return(0,d.default)((0,r.default)(s),"cancelOnTimeout",(0,n.default)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),u.initiatedByMe?[4,u.cancel({reason:"Other party didn't accept in time",code:"m.timeout"})]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,u.cancel({reason:"User didn't accept in time",code:"m.timeout"})];case 3:t.sent(),t.label=4;case 4:return[3,6];case 5:return e=t.sent(),h.logger.error("Error while cancelling verification request",e),[3,6];case 6:return[2]}}))}))),s.channel.request=(0,r.default)(s),s.setPhase(E,!1),s}return(0,a.default)(f,[{key:"invalid",get:function(){return this.phase===E}},{key:"requested",get:function(){return this.phase===R}},{key:"cancelled",get:function(){return this.phase===I}},{key:"ready",get:function(){return this.phase===x}},{key:"started",get:function(){return this.phase===M}},{key:"done",get:function(){return this.phase===A}},{key:"methods",get:function(){return this.commonMethods}},{key:"chosenMethod",get:function(){return this._chosenMethod}},{key:"calculateEventTimeout",value:function(e){var t=this.channel.getTimestamp(e)+6e5;if(this.requestReceivedAt&&!this.initiatedByMe&&this.phase<=R){var r=this.requestReceivedAt+12e4;t=Math.min(t,r)}return Math.max(0,t-Date.now())}},{key:"timeout",get:function(){var e=this.getEventByEither($);return e?this.calculateEventTimeout(e):0}},{key:"requestEvent",get:function(){return this.getEventByEither($)}},{key:"phase",get:function(){return this._phase}},{key:"verifier",get:function(){return this._verifier}},{key:"canAccept",get:function(){return this.phase<x&&!this._accepting&&!this._declining}},{key:"accepting",get:function(){return this._accepting}},{key:"declining",get:function(){return this._declining}},{key:"pending",get:function(){return!this.observeOnly&&this._phase!==A&&this._phase!==I}},{key:"qrCodeData",get:function(){return this._qrCodeData}},{key:"otherPartySupportsMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&!this.ready&&!this.started)return!1;var r=this.eventsByThem.get($)||this.eventsByThem.get(k);if(!r){if(this.started&&this.initiatedByMe){var n=this.eventsByUs.get(y),i=n&&n.getContent(),a=i&&i.method;return e==a}return!1}var o=r.getContent();if(!o)return!1;var s=o.methods;return!!Array.isArray(s)&&s.includes(e)}},{key:"initiatedByMe",get:function(){var e=this.eventsByUs.size+this.eventsByThem.size===0;if(this._phase===E&&e)return!0;var t=this.eventsByUs.has($),r=this.eventsByThem.has($);if(t&&!r)return!0;if(!t&&r)return!1;var n=this.eventsByUs.has(y),i=this.eventsByThem.has(y);return!(!n||i)}},{key:"requestingUserId",get:function(){return this.initiatedByMe?this.client.getUserId():this.otherUserId}},{key:"receivingUserId",get:function(){return this.initiatedByMe?this.otherUserId:this.client.getUserId()}},{key:"otherUserId",get:function(){return this.channel.userId}},{key:"isSelfVerification",get:function(){return this.client.getUserId()===this.otherUserId}},{key:"cancellingUserId",get:function(){var e=this.eventsByUs.get(w),t=this.eventsByThem.get(w);return e&&(!t||e.getId()<t.getId())?e.getSender():t?t.getSender():void 0}},{key:"cancellationCode",get:function(){var e=this.getEventByEither(w);return e?e.getContent().code:null}},{key:"observeOnly",get:function(){return this._observeOnly}},{key:"targetDevice",get:function(){var e=this.eventsByThem.get($)||this.eventsByThem.get(k)||this.eventsByThem.get(y),t=null==e?void 0:e.getContent(),r=null==t?void 0:t.from_device;return{userId:this.otherUserId,deviceId:r}}},{key:"beginKeyVerification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.observeOnly&&!this._verifier){var r=this.phase===R||this.phase===x||this.phase===E&&this.channel.canCreateRequest(y);if(r){if(this.commonMethods.length&&!this.commonMethods.includes(e))throw(0,v.newUnknownMethodError)();if(this._verifier=this.createVerifier(e,null,t),!this._verifier)throw(0,v.newUnknownMethodError)();this._chosenMethod=e}}return this._verifier}},{key:"sendRequest",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e.observeOnly||e._phase!==E?[3,2]:(t=(0,u.default)(e.verificationMethods.keys()),[4,e.channel.send($,{methods:t})]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reason,r=void 0===t?"User declined":t,i=e.code,a=void 0===i?"m.user":i,o=this;return(0,n.default)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return o.observeOnly||o._phase===I?[3,3]:(o._declining=!0,o.emit(T.Change),o._verifier?[2,o._verifier.cancel((0,v.errorFactory)(a,r)())]:[3,1]);case 1:return o._cancellingUserId=o.client.getUserId(),[4,o.channel.send(w,{code:a,reason:r})];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))()}},{key:"accept",value:function(){var e=this;return(0,n.default)((function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e.observeOnly||e.phase!==R||e.initiatedByMe?[3,2]:(t=(0,u.default)(e.verificationMethods.keys()),e._accepting=!0,e.emit(T.Change),[4,e.channel.send(k,{methods:t})]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()}},{key:"waitFor",value:function(e){var t=this;return new Promise((function(r,n){var i=function(){var a=!1;return e(t)?(r(t),a=!0):t.cancelled&&(n(new Error("cancelled")),a=!0),a&&t.off(T.Change,i),a};i()||t.on(T.Change,i)}))}},{key:"setPhase",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._phase=e,t&&this.emit(T.Change)}},{key:"getEventByEither",value:function(e){return this.eventsByThem.get(e)||this.eventsByUs.get(e)}},{key:"getEventBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?this.eventsByThem.get(e):this.eventsByUs.get(e)}},{key:"calculatePhaseTransitions",value:function(){var e=[{phase:E}],t=function(){return e[e.length-1].phase},r=this.eventsByThem.has($),n=this.getEventBy($,r);n&&e.push({phase:R,event:n});var i,a=n&&this.getEventBy(k,!r);if(a&&t()===R&&e.push({phase:x,event:a}),a||!n){var o=this.eventsByThem.get(y),s=this.eventsByUs.get(y);i=o&&s?o.getSender()<s.getSender()?o:s:o||s}else i=this.getEventBy(y,!r);if(i){var u=t()===R&&(null==n?void 0:n.getSender())!==i.getSender(),c=t()===E&&this.channel.canCreateRequest(y);(u||t()===x||c)&&e.push({phase:M,event:i})}var l=this.eventsByUs.get(_);(this.verifierHasFinished||l&&t()===M)&&e.push({phase:A});var f=this.getEventByEither(w);return(this._cancelled||f)&&t()!==A?(e.push({phase:I,event:f}),e):e}},{key:"transitionToPhase",value:function(e){var t=this,r=e.phase,n=e.event;if((r===R||r===x)&&!this.wasSentByOwnDevice(n)){var i=n.getContent();this.commonMethods=i.methods.filter((function(e){return t.verificationMethods.has(e)}))}if(this.observeOnly||r!==R&&r!==M&&r!==x||this.channel.receiveStartFromOtherDevices&&this.wasSentByOwnUser(n)&&!this.wasSentByOwnDevice(n)&&(this._observeOnly=!0),r===M){var a=n.getContent().method;this._verifier||this.observeOnly||(this._verifier=this.createVerifier(a,n),this._verifier?this._chosenMethod=a:this.cancel({code:"m.unknown_method",reason:"Unknown method: ".concat(a)}))}}},{key:"applyPhaseTransitions",value:function(){var e=this,t=this.calculatePhaseTransitions(),r=t.findIndex((function(t){return t.phase===e.phase})),n=t.slice(r+1),i=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;this.transitionToPhase(c)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n}},{key:"isWinningStartRace",value:function(e){if(e.getType()!==y)return!1;var t,r,n=this._verifier.startEvent;if(this.isSelfVerification)if(n){var i=n.getContent();t=i&&i.from_device}else t=this.client.getDeviceId();else t=n?n.getSender():this.client.getUserId();if(this.isSelfVerification){var a=e.getContent();r=a&&a.from_device}else r=e.getSender();return r<t}},{key:"hasEventId",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.eventsByUs.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.getId()===e)return!0}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}var o=!0,s=!1,u=void 0;try{for(var c,l=this.eventsByThem.values()[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){if(c.value.getId()===e)return!0}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return!1}},{key:"handleEvent",value:function(e,t,r,i,a){var o=this;return(0,n.default)((function(){var n,s,u,c,f,d,v;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return o.done||o.cancelled?[2]:(n=o._observeOnly,o.adjustObserveOnly(t,r),o.observeOnly||i?[3,2]:[4,o.cancelOnError(e,t)]);case 1:if(l.sent())return[2];l.label=2;case 2:if(a?o.eventsByUs.has(e):o.eventsByThem.has(e))return[2];s=o.phase,o.addEvent(e,t,a),u=o.applyPhaseTransitions(),l.label=3;case 3:return l.trys.push([3,,8,9]),o._verifier&&!o.observeOnly&&(c=o.isWinningStartRace(t),o._verifier.canSwitchStartEvent(t)&&c?o._verifier.switchStartEvent(t):i||(e===w||null!==(f=o._verifier.events)&&void 0!==f&&f.includes(e))&&o._verifier.handleEvent(t)),u.length?r&&u.some((function(e){return e.phase===x}))&&o.otherPartySupportsMethod(p.SCAN_QR_CODE_METHOD,!0)?[4,p.QRCodeData.create(o,o.client)]:[3,5]:[3,6];case 4:o._qrCodeData=l.sent(),l.label=5;case 5:return d=u[u.length-1],v=d.phase,o.setupTimeout(v),o.setPhase(v),[3,7];case 6:o._observeOnly!==n&&o.emit(T.Change),l.label=7;case 7:return[3,9];case 8:return h.logger.log("Verification request ".concat(o.channel.transactionId,": ")+"".concat(e," event with id:").concat(t.getId(),", ")+"content:".concat(JSON.stringify(t.getContent())," ")+"deviceId:".concat(o.channel.deviceId,", ")+"sender:".concat(t.getSender(),", isSentByUs:").concat(a,", ")+"isLiveEvent:".concat(r,", isRemoteEcho:").concat(i,", ")+"phase:".concat(s,"=>").concat(o.phase,", ")+"observeOnly:".concat(n,"=>").concat(o._observeOnly)),[7];case 9:return[2]}}))}))()}},{key:"setupTimeout",value:function(e){(!this.timeoutTimer&&!this.observeOnly&&e===R&&(this.timeoutTimer=setTimeout(this.cancelOnTimeout,this.timeout)),this.timeoutTimer)&&((e===M||e===x||e===A||e===I)&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null))}},{key:"cancelOnError",value:function(e,t){var r=this;return(0,n.default)((function(){var n,i,a,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return e!==y?[3,2]:(n=t.getContent().method,r.verificationMethods.has(n)?[3,2]:[4,r.cancel((0,v.errorFromEvent)((0,v.newUnknownMethodError)()))]);case 1:case 3:return s.sent(),[2,!0];case 2:return i=e===$&&r.phase!==E,a=e===k&&r.phase!==R&&r.phase!==M,r.phase===E||!i&&!a?[3,4]:(h.logger.warn("Cancelling, unexpected ".concat(e," verification ")+"event from ".concat(t.getSender())),o="Unexpected ".concat(e," event in phase ").concat(r.phase),[4,r.cancel((0,v.errorFromEvent)((0,v.newUnexpectedMessageError)({reason:o})))]);case 4:return[2,!1]}}))}))()}},{key:"adjustObserveOnly",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||(this._observeOnly=!0),this.calculateEventTimeout(e)<3e3&&(this._observeOnly=!0)}},{key:"addEvent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r?this.eventsByUs.set(e,t):this.eventsByThem.set(e,t),e===$){var n=!0,i=!1,a=void 0;try{for(var o,u=this.eventsByThem.entries()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=(0,s.default)(o.value,2),l=c[0],f=c[1];f.getSender()!==this.otherUserId&&this.eventsByThem.delete(l)}}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}this.requestReceivedAt=Date.now()}}},{key:"createVerifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r||(r=this.targetDevice);var n=r.userId,i=r.deviceId,a=this.verificationMethods.get(e);if(a)return new a(this.channel,this.client,n,i,t,this);h.logger.warn("could not find verifier constructor for method",e)}},{key:"wasSentByOwnUser",value:function(e){return(null==e?void 0:e.getSender())===this.client.getUserId()}},{key:"wasSentByOwnDevice",value:function(e){if(!this.wasSentByOwnUser(e))return!1;var t=e.getContent();return!(!t||t.from_device!==this.client.getDeviceId())}},{key:"onVerifierCancelled",value:function(){this._cancelled=!0;var e=this.applyPhaseTransitions();e.length&&this.setPhase(e[e.length-1].phase)}},{key:"onVerifierFinished",value:function(){this.channel.send(b.EventType.KeyVerificationDone,{}),this.verifierHasFinished=!0;var e=this.applyPhaseTransitions();e.length&&this.setPhase(e[e.length-1].phase)}},{key:"getEventFromOtherParty",value:function(e){return this.eventsByThem.get(e)}}],[{key:"validateEvent",value:function(e,t,r){var n=t.getContent();return!(!e||!e.startsWith(m))&&(n?e!==$&&e!==k||Array.isArray(n.methods)?e!==$&&e!==k&&e!==y||"string"==typeof n.from_device&&0!==n.from_device.length||(h.logger.log("VerificationRequest: validateEvent: fail because from_device"),!1):(h.logger.log("VerificationRequest: validateEvent: fail because methods"),!1):(h.logger.log("VerificationRequest: validateEvent: no content"),!1))}}]),f}(g.TypedEventEmitter);e.exports.VerificationRequest=O})),parcelRequire.register("iILyU",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.InRoomRequests=e.exports.InRoomChannel=void 0;var s=o(parcelRequire("abzte")),u=parcelRequire("787If"),c=parcelRequire("fKX3v"),l=parcelRequire("axSuM").EventType.RoomMessage,f="m.reference",d=function(){function e(t,r,i){(0,n.default)(this,e),this.client=t,this.roomId=r,this.userId=i,(0,s.default)(this,"requestEventId",void 0)}return(0,i.default)(e,[{key:"receiveStartFromOtherDevices",get:function(){return!0}},{key:"transactionId",get:function(){return this.requestEventId}},{key:"getTimestamp",value:function(e){return e.getTs()}},{key:"canCreateRequest",value:function(t){return e.canCreateRequest(t)}},{key:"handleEvent",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this;return(0,r.default)((function(){var r,s,u,l,f,d;return(0,a.__generator)(this,(function(a){return n.hasEventId(t.getId())?[2]:(r=e.getEventType(t),t.getRoomId()!==o.roomId?[2]:(o.userId||(s=e.getOtherPartyUserId(t,o.client))&&(o.userId=s),u=o.client.getUserId(),l=t.getSender(),o.userId&&l!==u&&l!==o.userId?(c.logger.log("InRoomChannel: ignoring verification event from non-participating sender ".concat(l)),[2]):(o.requestEventId||(o.requestEventId=e.getTransactionId(t)),f=!!t.getUnsigned().transaction_id,d=t.getSender()===o.client.getUserId(),[2,n.handleEvent(r,t,i,f,d)])))}))}))()}},{key:"completedContentFromEvent",value:function(e){var t=Object.assign({},e.getContent());return t["m.relates_to"]=e.getRelation(),t}},{key:"completeContent",value:function(e,t){return t=Object.assign({},t),e!==u.REQUEST_TYPE&&e!==u.READY_TYPE&&e!==u.START_TYPE||(t.from_device=this.client.getDeviceId()),e===u.REQUEST_TYPE?t={body:this.client.getUserId()+" is requesting to verify your key, but your client does not support in-chat key verification.  You will need to use legacy key verification to verify keys.",msgtype:u.REQUEST_TYPE,to:this.userId,from_device:t.from_device,methods:t.methods}:t["m.relates_to"]={rel_type:f,event_id:this.transactionId},t}},{key:"send",value:function(e,t){var r=this.completeContent(e,t);return this.sendCompleted(e,r)}},{key:"sendCompleted",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return r=e,e===u.REQUEST_TYPE&&(r=l),[4,n.client.sendEvent(n.roomId,r,t)];case 1:return i=a.sent(),e===u.REQUEST_TYPE&&(n.requestEventId=i.event_id),[2]}}))}))()}}],[{key:"getOtherPartyUserId",value:function(t,r){if(e.getEventType(t)===u.REQUEST_TYPE){var n=r.getUserId(),i=t.getSender(),a=t.getContent().to;return i===n?a:a===n?i:void 0}}},{key:"canCreateRequest",value:function(e){return e===u.REQUEST_TYPE}},{key:"getTransactionId",value:function(t){if(e.getEventType(t)===u.REQUEST_TYPE)return t.getId();var r=t.getRelation();return(null==r?void 0:r.rel_type)===f?r.event_id:void 0}},{key:"validateEvent",value:function(t,r){var n=e.getTransactionId(t);if("string"!=typeof n||0===n.length)return!1;var i=e.getEventType(t),a=t.getContent();if(i===u.REQUEST_TYPE){if(!a||"string"!=typeof a.to||!a.to.length)return c.logger.log("InRoomChannel: validateEvent: no valid to "+(a&&a.to)),!1;if(!e.getOtherPartyUserId(t,r))return c.logger.log("InRoomChannel: validateEvent: "+"not directed to or sent by me: ".concat(t.getSender())+", ".concat(a&&a.to)),!1}return u.VerificationRequest.validateEvent(i,t,r)}},{key:"getEventType",value:function(e){var t=e.getType();if(t===l){var r=e.getContent();if(r)if(r.msgtype===u.REQUEST_TYPE)return u.REQUEST_TYPE}return t&&t!==u.REQUEST_TYPE?t:""}}]),e}();e.exports.InRoomChannel=d;var h=function(){function e(){(0,n.default)(this,e),(0,s.default)(this,"requestsByRoomId",new Map)}return(0,i.default)(e,[{key:"getRequest",value:function(e){var t=e.getRoomId(),r=d.getTransactionId(e);return this.getRequestByTxnId(t,r)}},{key:"getRequestByChannel",value:function(e){return this.getRequestByTxnId(e.roomId,e.transactionId)}},{key:"getRequestByTxnId",value:function(e,t){var r=this.requestsByRoomId.get(e);if(r)return r.get(t)}},{key:"setRequest",value:function(e,t){this.doSetRequest(e.getRoomId(),d.getTransactionId(e),t)}},{key:"setRequestByChannel",value:function(e,t){this.doSetRequest(e.roomId,e.transactionId,t)}},{key:"doSetRequest",value:function(e,t,r){var n=this.requestsByRoomId.get(e);n||(n=new Map,this.requestsByRoomId.set(e,n)),n.set(t,r)}},{key:"removeRequest",value:function(e){var t=e.getRoomId(),r=this.requestsByRoomId.get(t);r&&(r.delete(d.getTransactionId(e)),0===r.size&&this.requestsByRoomId.delete(t))}},{key:"findRequestInProgress",value:function(e){var t=this.requestsByRoomId.get(e),r=!0,n=!1,i=void 0;if(t)try{for(var a,o=t.values()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s.pending)return s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}]),e}();e.exports.InRoomRequests=h})),parcelRequire.register("2gMXJ",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("cDTRq"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ToDeviceRequests=e.exports.ToDeviceChannel=void 0;var u=s(parcelRequire("abzte")),c=parcelRequire("hEw4R"),l=parcelRequire("fKX3v"),f=parcelRequire("787If"),d=parcelRequire("dkCkW"),h=parcelRequire("dlOEf"),v=function(){function e(t,r,i,a,o){(0,n.default)(this,e),this.client=t,this.userId=r,this.devices=i,this.transactionId=a,this.deviceId=o,(0,u.default)(this,"request",void 0)}return(0,i.default)(e,[{key:"isToDevices",value:function(e){if(e.length===this.devices.length){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(!this.devices.includes(o))return!1}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return!0}return!1}},{key:"canCreateRequest",value:function(t){return e.canCreateRequest(t)}},{key:"getTimestamp",value:function(e){var t=e.getContent();return t&&t.timestamp}},{key:"handleEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;return(0,r.default)((function(){var r,a,s,u,c,l,h,v;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=e.getType(),a=e.getContent(),r!==f.REQUEST_TYPE&&r!==f.READY_TYPE&&r!==f.START_TYPE||(i.transactionId||(i.transactionId=a.transaction_id),s=a.from_device,!i.deviceId&&i.devices.includes(s)&&(i.deviceId=s),i.deviceId&&i.deviceId===s)?(c=t.phase===f.PHASE_STARTED||t.phase===f.PHASE_READY,[4,t.handleEvent(e.getType(),e,n,!1,!1)]):(u=i.completeContent(f.CANCEL_TYPE,(0,d.errorFromEvent)((0,d.newUnexpectedMessageError)())),[2,i.sendToDevices(f.CANCEL_TYPE,u,[s])]);case 1:return o.sent(),l=t.phase===f.PHASE_STARTED||t.phase===f.PHASE_READY,(r===f.START_TYPE||r===f.READY_TYPE)&&!c&&l&&i.deviceId?(h=i.devices.filter((function(e){return e!==i.deviceId&&e!==i.client.getDeviceId()}))).length?(v=i.completeContent(f.CANCEL_TYPE,{code:"m.accepted",reason:"Verification request accepted by another device"}),[4,i.sendToDevices(f.CANCEL_TYPE,v,h)]):[3,3]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))()}},{key:"completedContentFromEvent",value:function(e){return e.getContent()}},{key:"completeContent",value:function(e,t){return t=Object.assign({},t),this.transactionId&&(t.transaction_id=this.transactionId),e!==f.REQUEST_TYPE&&e!==f.READY_TYPE&&e!==f.START_TYPE||(t.from_device=this.client.getDeviceId()),e===f.REQUEST_TYPE&&(t.timestamp=Date.now()),t}},{key:"send",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t!==f.REQUEST_TYPE&&t!==f.START_TYPE||this.transactionId||(this.transactionId=e.makeTransactionId());var n=this.completeContent(t,r);return this.sendCompleted(t,n)}},{key:"sendCompleted",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return e===f.REQUEST_TYPE||e===f.CANCEL_TYPE&&!n.deviceId?[4,n.sendToDevices(e,t,n.devices)]:[3,2];case 1:return r=a.sent(),[3,4];case 2:return[4,n.sendToDevices(e,t,[n.deviceId])];case 3:r=a.sent(),a.label=4;case 4:return i=new h.MatrixEvent({sender:n.client.getUserId(),content:t,type:e}),[4,n.request.handleEvent(e,i,!0,!0,!0)];case 5:return a.sent(),[2,r]}}))}))()}},{key:"sendToDevices",value:function(e,t,n){var i=this;return(0,r.default)((function(){var r,s,u,c,l,f,d;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(!n.length)return[3,2];r={},s=!0,u=!1,c=void 0;try{for(l=n[Symbol.iterator]();!(s=(f=l.next()).done);s=!0)d=f.value,r[d]=t}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}return[4,i.client.sendToDevice(e,(0,a.default)({},i.userId,r))];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))()}}],[{key:"getEventType",value:function(e){return e.getType()}},{key:"getTransactionId",value:function(e){var t=e.getContent();return t&&t.transaction_id}},{key:"canCreateRequest",value:function(e){return e===f.REQUEST_TYPE||e===f.START_TYPE}},{key:"validateEvent",value:function(e,t){if(e.isCancelled())return l.logger.warn("Ignoring flagged verification request from "+e.getSender()),!1;var r=e.getContent();if(!r)return l.logger.warn("ToDeviceChannel.validateEvent: invalid: no content"),!1;if(!r.transaction_id)return l.logger.warn("ToDeviceChannel.validateEvent: invalid: no transaction_id"),!1;var n=e.getType();if(n===f.REQUEST_TYPE){if(!Number.isFinite(r.timestamp))return l.logger.warn("ToDeviceChannel.validateEvent: invalid: no timestamp"),!1;if(e.getSender()===t.getUserId()&&r.from_device==t.getDeviceId())return l.logger.warn("ToDeviceChannel.validateEvent: invalid: from own device"),!1}return f.VerificationRequest.validateEvent(n,e,t)}},{key:"makeTransactionId",value:function(){return(0,c.randomString)(32)}}]),e}();e.exports.ToDeviceChannel=v;var p=function(){function e(){(0,n.default)(this,e),(0,u.default)(this,"requestsByUserId",new Map)}return(0,i.default)(e,[{key:"getRequest",value:function(e){return this.getRequestBySenderAndTxnId(e.getSender(),v.getTransactionId(e))}},{key:"getRequestByChannel",value:function(e){return this.getRequestBySenderAndTxnId(e.userId,e.transactionId)}},{key:"getRequestBySenderAndTxnId",value:function(e,t){var r=this.requestsByUserId.get(e);if(r)return r.get(t)}},{key:"setRequest",value:function(e,t){this.setRequestBySenderAndTxnId(e.getSender(),v.getTransactionId(e),t)}},{key:"setRequestByChannel",value:function(e,t){this.setRequestBySenderAndTxnId(e.userId,e.transactionId,t)}},{key:"setRequestBySenderAndTxnId",value:function(e,t,r){var n=this.requestsByUserId.get(e);n||(n=new Map,this.requestsByUserId.set(e,n)),n.set(t,r)}},{key:"removeRequest",value:function(e){var t=e.getSender(),r=this.requestsByUserId.get(t);r&&(r.delete(v.getTransactionId(e)),0===r.size&&this.requestsByUserId.delete(t))}},{key:"findRequestInProgress",value:function(e,t){var r=this.requestsByUserId.get(e),n=!0,i=!1,a=void 0;if(r)try{for(var o,s=r.values()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(u.pending&&u.channel.isToDevices(t))return u}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}},{key:"getRequestsInProgress",value:function(e){var t=this.requestsByUserId.get(e);return t?Array.from(t.values()).filter((function(e){return e.pending})):[]}}]),e}();e.exports.ToDeviceRequests=p})),parcelRequire.register("hQW9t",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("caN7I"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq"),l=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IllegalMethod=void 0;var f=l(parcelRequire("abzte")),d=function(e){(0,o.default)(l,e);var t=(0,u.default)(l);function l(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var u;return(0,i.default)(this,l),u=t.call.apply(t,[this].concat((0,s.default)(a))),(0,f.default)((0,r.default)(u),"doVerification",(0,n.default)((function(){return(0,c.__generator)(this,(function(e){throw new Error("Verification is not possible with this method")}))}))),u}return(0,a.default)(l,null,[{key:"factory",value:function(e,t,r,n,i,a){return new l(e,t,r,n,i,a)}},{key:"NAME",get:function(){return"org.matrix.illegal_method"}}]),l}(parcelRequire("kpbsj").VerificationBase);e.exports.IllegalMethod=d})),parcelRequire.register("8kSRq",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("dVhHy"),s=parcelRequire("cDTRq"),u=parcelRequire("dwjmx").Buffer,c=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DehydrationManager=e.exports.DEHYDRATION_ALGORITHM=void 0;var l=c(parcelRequire("abzte")),f=c(parcelRequire("cBsbd")),d=parcelRequire("gbtEr"),h=parcelRequire("g10a3"),v=parcelRequire("7bFPP"),p=parcelRequire("fKX3v"),b=parcelRequire("84XpH"),g="org.matrix.msc2697.v1.olm.libolm_pickle";e.exports.DEHYDRATION_ALGORITHM=g;var m=6048e5,$=function(){"use strict";function e(t){(0,n.default)(this,e),this.crypto=t,(0,l.default)(this,"inProgress",!1),(0,l.default)(this,"timeoutId",void 0),(0,l.default)(this,"key",void 0),(0,l.default)(this,"keyInfo",void 0),(0,l.default)(this,"deviceDisplayName",void 0),this.getDehydrationKeyFromCache()}return(0,i.default)(e,[{key:"getDehydrationKeyFromCache",value:function(){var e=this;return this.crypto.cryptoStore.doTxn("readonly",[h.IndexedDBCryptoStore.STORE_ACCOUNT],(function(t){var n,i=e;e.crypto.cryptoStore.getSecretStorePrivateKey(t,(n=(0,r.default)((function(e){var t,r,n,a,o,c,l,f;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return e?(t=e.key,r=e.keyInfo,n=e.deviceDisplayName,a=e.time,o=u.from(i.crypto.olmDevice.pickleKey),[4,(0,v.decryptAES)(t,o,g)]):[3,2];case 1:c=s.sent(),i.key=(0,d.decodeBase64)(c),i.keyInfo=r,i.deviceDisplayName=n,l=Date.now(),f=Math.max(1,a+m-l),i.timeoutId=$parcel$global.setTimeout(i.dehydrateDevice.bind(i),f),s.label=2;case 2:return[2]}}))})),function(e){return n.apply(this,arguments)}),"dehydration")}))}},{key:"setKeyAndQueueDehydration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,i.setKey(e,t,n)];case 1:return r.sent()||i.dehydrateDevice(),[2]}}))}))()}},{key:"setKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=this;return(0,r.default)((function(){var r,a;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:return e?[3,2]:(i.timeoutId&&($parcel$global.clearTimeout(i.timeoutId),i.timeoutId=void 0),[4,i.crypto.cryptoStore.doTxn("readwrite",[h.IndexedDBCryptoStore.STORE_ACCOUNT],(function(e){i.crypto.cryptoStore.storeSecretStorePrivateKey(e,"dehydration",null)}))]);case 1:return o.sent(),i.key=void 0,i.keyInfo=void 0,[2];case 2:for(r=!!i.key&&e.length==i.key.length,a=0;r&&a<e.length;a++)e[a]!=i.key[a]&&(r=!1);return r||(i.key=e,i.keyInfo=t,i.deviceDisplayName=n),[2,r]}}))}))()}},{key:"dehydrateDevice",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i,c,l,$,y,w,_,S,C,k,E,R,x,M,I,T,A,O,D,P,q,L,U,N,B,F,j,K,H,W,V,z,G;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(e.inProgress)return p.logger.log("Dehydration already in progress -- not starting new dehydration"),[2];e.inProgress=!0,e.timeoutId&&($parcel$global.clearTimeout(e.timeoutId),e.timeoutId=void 0),s.label=1;case 1:return s.trys.push([1,,8,9]),t=u.from(e.crypto.olmDevice.pickleKey),[4,(0,v.encryptAES)((0,d.encodeBase64)(e.key),t,g)];case 2:return r=s.sent(),[4,e.crypto.cryptoStore.doTxn("readwrite",[h.IndexedDBCryptoStore.STORE_ACCOUNT],(function(t){e.crypto.cryptoStore.storeSecretStorePrivateKey(t,"dehydration",{keyInfo:e.keyInfo,key:r,deviceDisplayName:e.deviceDisplayName,time:Date.now()})}))];case 3:return s.sent(),p.logger.log("Attempting to dehydrate device"),p.logger.log("Creating account"),(n=new $parcel$global.Olm.Account).create(),i=JSON.parse(n.identity_keys()),c=n.max_number_of_one_time_keys(),n.generate_one_time_keys(c/2),n.generate_fallback_key(),l=JSON.parse(n.one_time_keys()),$=JSON.parse(n.fallback_key()),n.mark_keys_as_published(),y=n.pickle(new Uint8Array(e.key)),w={algorithm:g,account:y},e.keyInfo.passphrase&&(w.passphrase=e.keyInfo.passphrase),p.logger.log("Uploading account to server"),[4,e.crypto.baseApis.http.authedRequest(b.Method.Put,"/dehydrated_device",void 0,{device_data:w,initial_device_display_name:e.deviceDisplayName},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})];case 4:return _=s.sent(),S=_.device_id,p.logger.log("Preparing device keys",S),k={algorithms:e.crypto.supportedAlgorithms,device_id:S,user_id:e.crypto.userId,keys:(C={},(0,a.default)(C,"ed25519:".concat(S),i.ed25519),(0,a.default)(C,"curve25519:".concat(S),i.curve25519),C)},E=n.sign(f.default.stringify(k)),k.signatures=(0,a.default)({},e.crypto.userId,(0,a.default)({},"ed25519:".concat(S),E)),e.crypto.crossSigningInfo.getId("self_signing")?[4,e.crypto.crossSigningInfo.signObject(k,"self_signing")]:[3,6];case 5:s.sent(),s.label=6;case 6:p.logger.log("Preparing one-time keys"),R={},x=!0,M=!1,I=void 0;try{for(T=Object.entries(l.curve25519)[Symbol.iterator]();!(x=(A=T.next()).done);x=!0)O=(0,o.default)(A.value,2),D=O[0],P=O[1],q={key:P},L=n.sign(f.default.stringify(q)),q.signatures=(0,a.default)({},e.crypto.userId,(0,a.default)({},"ed25519:".concat(S),L)),R["signed_curve25519:".concat(D)]=q}catch(e){M=!0,I=e}finally{try{x||null==T.return||T.return()}finally{if(M)throw I}}p.logger.log("Preparing fallback keys"),U={},N=!0,B=!1,F=void 0;try{for(j=Object.entries($.curve25519)[Symbol.iterator]();!(N=(K=j.next()).done);N=!0)H=(0,o.default)(K.value,2),W=H[0],V=H[1],z={key:V,fallback:!0},G=n.sign(f.default.stringify(z)),z.signatures=(0,a.default)({},e.crypto.userId,(0,a.default)({},"ed25519:".concat(S),G)),U["signed_curve25519:".concat(W)]=z}catch(e){B=!0,F=e}finally{try{N||null==j.return||j.return()}finally{if(B)throw F}}return p.logger.log("Uploading keys to server"),[4,e.crypto.baseApis.http.authedRequest(b.Method.Post,"/keys/upload/"+encodeURI(S),void 0,{device_keys:k,one_time_keys:R,"org.matrix.msc2732.fallback_keys":U})];case 7:return s.sent(),p.logger.log("Done dehydrating"),e.timeoutId=$parcel$global.setTimeout(e.dehydrateDevice.bind(e),m),[2,S];case 8:return e.inProgress=!1,[7];case 9:return[2]}}))}))()}},{key:"stop",value:function(){this.timeoutId&&($parcel$global.clearTimeout(this.timeoutId),this.timeoutId=void 0)}}]),e}();e.exports.DehydrationManager=$})),parcelRequire.register("7pgeS",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("dVhHy"),s=parcelRequire("cDTRq"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.algorithmsByName=e.exports.DefaultAlgorithm=e.exports.Curve25519=e.exports.BackupManager=e.exports.Aes256=void 0;var c=u(parcelRequire("abzte")),l=parcelRequire("67LLR"),f=parcelRequire("fKX3v"),d=parcelRequire("gbtEr"),h=parcelRequire("fI2p6"),v=parcelRequire("5HsbU"),p=parcelRequire("g10a3"),b=parcelRequire("fmKNB"),g=parcelRequire("7bFPP"),m=parcelRequire("cQ59V"),$=parcelRequire("iKMAs"),y=parcelRequire("dvi1R"),w=parcelRequire("84XpH"),_=function(){function e(t,r){(0,n.default)(this,e),this.baseApis=t,this.getKey=r,(0,c.default)(this,"algorithm",void 0),(0,c.default)(this,"backupInfo",void 0),(0,c.default)(this,"checkedForBackup",void 0),(0,c.default)(this,"sendingBackups",void 0),(0,c.default)(this,"sessionLastCheckAttemptedTime",{}),this.checkedForBackup=!1,this.sendingBackups=!1}return(0,i.default)(e,[{key:"version",get:function(){return this.backupInfo&&this.backupInfo.version}},{key:"enableKeyBackup",value:function(t){var n=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return n.backupInfo=t,n.algorithm&&n.algorithm.free(),[4,e.makeAlgorithm(t,n.getKey)];case 1:return n.algorithm=r.sent(),n.baseApis.emit($.CryptoEvent.KeyBackupStatus,!0),n.scheduleKeyBackupSend(),[2]}}))}))()}},{key:"disableKeyBackup",value:function(){this.algorithm&&this.algorithm.free(),this.algorithm=void 0,this.backupInfo=void 0,this.baseApis.emit($.CryptoEvent.KeyBackupStatus,!1)}},{key:"getKeyBackupEnabled",value:function(){return this.checkedForBackup?Boolean(this.algorithm):null}},{key:"prepareKeyBackupVersion",value:function(e,t){return(0,r.default)((function(){var r,n,i,a,u;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(!(r=t?R[t]:x))throw new Error("Unknown backup algorithm");return[4,r.prepare(e)];case 1:return n=o.default.apply(void 0,[s.sent(),2]),i=n[0],a=n[1],u=(0,b.encodeRecoveryKey)(i),[2,{algorithm:r.algorithmName,auth_data:a,recovery_key:u,privateKey:i}]}}))}))()}},{key:"createKeyBackupVersion",value:function(t){var n=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.makeAlgorithm(t,n.getKey)];case 1:return n.algorithm=r.sent(),[2]}}))}))()}},{key:"checkAndStart",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:if(f.logger.log("Checking key backup status..."),e.baseApis.isGuest())return f.logger.log("Skipping key backup check since user is guest"),e.checkedForBackup=!0,[2,null];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.baseApis.getKeyBackupVersion()];case 2:return t=null!==(r=a.sent())&&void 0!==r?r:void 0,[3,4];case 3:return n=a.sent(),f.logger.log("Error checking for active key backup",n),404===n.httpStatus&&(e.checkedForBackup=!0),[2,null];case 4:return e.checkedForBackup=!0,[4,e.isKeyBackupTrusted(t)];case 5:return!(i=a.sent()).usable||e.backupInfo?[3,7]:(f.logger.log("Found usable key backup v".concat(t.version,": enabling key backups")),[4,e.enableKeyBackup(t)]);case 6:return a.sent(),[3,13];case 7:return i.usable||!e.backupInfo?[3,8]:(f.logger.log("No usable key backup: disabling key backup"),e.disableKeyBackup(),[3,13]);case 8:return i.usable||e.backupInfo?[3,9]:(f.logger.log("No usable key backup: not enabling key backup"),[3,13]);case 9:return i.usable&&e.backupInfo?t.version===e.backupInfo.version?[3,12]:(f.logger.log("On backup version ".concat(e.backupInfo.version," but ")+"found version ".concat(t.version,": switching.")),e.disableKeyBackup(),[4,e.enableKeyBackup(t)]):[3,13];case 10:return a.sent(),[4,e.scheduleAllGroupSessionsForBackup()];case 11:return a.sent(),[3,13];case 12:f.logger.log("Backup version ".concat(t.version," still current")),a.label=13;case 13:return[2,{backupInfo:t,trustInfo:i}]}}))}))()}},{key:"checkKeyBackup",value:function(){var e=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(t){return e.checkedForBackup=!1,[2,e.checkAndStart()]}))}))()}},{key:"queryKeyBackupRateLimited",value:function(e,t){var n=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return n.backupInfo?(r=(new Date).getTime(),!n.sessionLastCheckAttemptedTime[t]||r-n.sessionLastCheckAttemptedTime[t]>5e3?(n.sessionLastCheckAttemptedTime[t]=r,[4,n.baseApis.restoreKeyBackupWithCache(e,t,n.backupInfo,{})]):[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()}},{key:"isKeyBackupTrusted",value:function(t){var n=this;return(0,r.default)((function(){var i,a,o,u,c,l,h,v,p,b,g,m,$,y,w,_,S,C,k;return(0,s.__generator)(this,(function(E){switch(E.label){case 0:return i={usable:!1,trusted_locally:!1,sigs:[]},t&&t.algorithm&&t.auth_data&&t.auth_data.signatures?(a=n.baseApis.getUserId(),[4,n.baseApis.crypto.getSessionBackupPrivateKey()]):(f.logger.info("Key backup is absent or missing required data"),[2,i]);case 1:if(!(o=E.sent()))return[3,7];u=null,E.label=2;case 2:return E.trys.push([2,5,6,7]),[4,e.makeAlgorithm(t,(0,r.default)((function(){return(0,s.__generator)(this,(function(e){return[2,o]}))})))];case 3:return[4,(u=E.sent()).keyMatches(o)];case 4:return E.sent()&&(f.logger.info("Backup is trusted locally"),i.trusted_locally=!0),[3,7];case 5:return E.sent(),[3,7];case 6:return null===(c=u)||void 0===c||c.free(),[7];case 7:l=t.auth_data.signatures[a]||{},h=!0,v=!1,p=void 0,E.label=8;case 8:E.trys.push([8,23,24,25]),b=Object.keys(l)[Symbol.iterator](),E.label=9;case 9:if(h=(g=b.next()).done)return[3,22];if(m=g.value,"ed25519"!==($=m.split(":"))[0])return f.logger.log("Ignoring unknown signature type: "+$[0]),[3,21];if(y={deviceId:$[1]},(w=n.baseApis.crypto.crossSigningInfo.getId())!==y.deviceId)return[3,14];y.crossSigningId=!0,E.label=10;case 10:return E.trys.push([10,12,,13]),[4,(0,d.verifySignature)(n.baseApis.crypto.olmDevice,t.auth_data,a,y.deviceId,w)];case 11:return E.sent(),y.valid=!0,[3,13];case 12:return _=E.sent(),f.logger.warn("Bad signature from cross signing key "+w,_),y.valid=!1,[3,13];case 13:return i.sigs.push(y),[3,21];case 14:if(!(S=n.baseApis.crypto.deviceList.getStoredDevice(a,y.deviceId)))return[3,19];y.device=S,y.deviceTrust=n.baseApis.checkDeviceTrust(a,y.deviceId),E.label=15;case 15:return E.trys.push([15,17,,18]),[4,(0,d.verifySignature)(n.baseApis.crypto.olmDevice,t.auth_data,a,S.deviceId,S.getFingerprint())];case 16:return E.sent(),y.valid=!0,[3,18];case 17:return C=E.sent(),f.logger.info("Bad signature from key ID "+m+" userID "+n.baseApis.getUserId()+" device ID "+S.deviceId+" fingerprint: "+S.getFingerprint(),t.auth_data,C),y.valid=!1,[3,18];case 18:return[3,20];case 19:y.valid=null,f.logger.info("Ignoring signature from unknown key "+m),E.label=20;case 20:i.sigs.push(y),E.label=21;case 21:return h=!0,[3,9];case 22:return[3,25];case 23:return k=E.sent(),v=!0,p=k,[3,25];case 24:try{h||null==b.return||b.return()}finally{if(v)throw p}return[7];case 25:return i.usable=i.sigs.some((function(e){var t;return e.valid&&(e.device&&(null===(t=e.deviceTrust)||void 0===t?void 0:t.isVerified())||e.crossSigningId)})),[2,i]}}))}))()}},{key:"scheduleKeyBackupSend",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=this;return(0,r.default)((function(){var r,n,i;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:if(t.sendingBackups)return[2];t.sendingBackups=!0,a.label=1;case 1:return a.trys.push([1,,13,14]),r=Math.random()*e,[4,(0,v.sleep)(r)];case 2:a.sent(),n=0,a.label=3;case 3:if(!t.algorithm)return[2];a.label=4;case 4:return a.trys.push([4,6,,9]),[4,t.backupPendingKeys(200)];case 5:return 0===a.sent()?[2]:(n=0,[3,9]);case 6:return i=a.sent(),n++,f.logger.log("Key backup request failed",i),i.data?"M_NOT_FOUND"!=i.data.errcode&&"M_WRONG_ROOM_KEYS_VERSION"!=i.data.errcode?[3,8]:[4,t.checkKeyBackup()]:[3,8];case 7:throw a.sent(),t.baseApis.crypto.emit($.CryptoEvent.KeyBackupFailed,i.data.errcode),i;case 8:return[3,9];case 9:return n?[4,(0,v.sleep)(1e3*Math.pow(2,Math.min(n-1,4)))]:[3,11];case 10:a.sent(),a.label=11;case 11:return[3,3];case 12:return[3,14];case 13:return t.sendingBackups=!1,[7];case 14:return[2]}}))}))()}},{key:"backupPendingKeys",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,o,u,c,l,f,h,v,p,b,g,m,y,w,_,S,C;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,t.baseApis.crypto.cryptoStore.getSessionsNeedingBackup(e)];case 1:return(r=s.sent()).length?[4,t.baseApis.crypto.cryptoStore.countSessionsNeedingBackup()]:[2,0];case 2:n=s.sent(),t.baseApis.crypto.emit($.CryptoEvent.KeyBackupSessionsRemaining,n),i={},a=!0,o=!1,u=void 0,s.label=3;case 3:s.trys.push([3,8,9,10]),c=r[Symbol.iterator](),s.label=4;case 4:return(a=(l=c.next()).done)?[3,7]:(f=l.value,v=f.sessionData.room_id,void 0===i[v]&&(i[v]={sessions:{}}),(p=t.baseApis.crypto.olmDevice.exportInboundGroupSession(f.senderKey,f.sessionId,f.sessionData)).algorithm=d.MEGOLM_ALGORITHM,b=(p.forwarding_curve25519_key_chain||[]).length,g=t.baseApis.crypto.deviceList.getUserByIdentityKey(d.MEGOLM_ALGORITHM,f.senderKey),m=null!==(h=t.baseApis.crypto.deviceList.getDeviceByIdentityKey(d.MEGOLM_ALGORITHM,f.senderKey))&&void 0!==h?h:void 0,y=t.baseApis.crypto.checkDeviceInfoTrust(g,m).isVerified(),w=i[v].sessions,_=f.sessionId,S={first_message_index:p.first_known_index,forwarded_count:b,is_verified:y},[4,t.algorithm.encryptSession(p)]);case 5:w[_]=(S.session_data=s.sent(),S),s.label=6;case 6:return a=!0,[3,4];case 7:return[3,10];case 8:return C=s.sent(),o=!0,u=C,[3,10];case 9:try{a||null==c.return||c.return()}finally{if(o)throw u}return[7];case 10:return[4,t.baseApis.sendKeyBackup(void 0,void 0,t.backupInfo.version,{rooms:i})];case 11:return s.sent(),[4,t.baseApis.crypto.cryptoStore.unmarkSessionsNeedingBackup(r)];case 12:return s.sent(),[4,t.baseApis.crypto.cryptoStore.countSessionsNeedingBackup()];case 13:return n=s.sent(),t.baseApis.crypto.emit($.CryptoEvent.KeyBackupSessionsRemaining,n),[2,r.length]}}))}))()}},{key:"backupGroupSession",value:function(e,t){var n=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([{senderKey:e,sessionId:t}])];case 1:return r.sent(),n.backupInfo&&n.scheduleKeyBackupSend(),[2]}}))}))()}},{key:"scheduleAllGroupSessionsForBackup",value:function(){var e=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.flagAllGroupSessionsForBackup()];case 1:return t.sent(),e.scheduleKeyBackupSend(0),[2]}}))}))()}},{key:"flagAllGroupSessionsForBackup",value:function(){var e=this;return(0,r.default)((function(){var t;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.baseApis.crypto.cryptoStore.doTxn("readwrite",[p.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,p.IndexedDBCryptoStore.STORE_BACKUP],(function(t){e.baseApis.crypto.cryptoStore.getAllEndToEndInboundGroupSessions(t,(function(r){null!==r&&e.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([r],t)}))}))];case 1:return r.sent(),[4,e.baseApis.crypto.cryptoStore.countSessionsNeedingBackup()];case 2:return t=r.sent(),e.baseApis.emit($.CryptoEvent.KeyBackupSessionsRemaining,t),[2,t]}}))}))()}},{key:"countSessionsNeedingBackup",value:function(){return this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup()}}],[{key:"checkBackupVersion",value:function(e){var t=R[e.algorithm];if(!t)throw new Error("Unknown backup algorithm: "+e.algorithm);if("object"!=typeof e.auth_data)throw new Error("Invalid backup data returned");return t.checkBackupVersion(e)}},{key:"makeAlgorithm",value:function(e,t){var r=R[e.algorithm];if(!r)throw new Error("Unknown backup algorithm");return r.init(e.auth_data,t)}}]),e}();e.exports.BackupManager=_;var S=function(){function e(t,r,i){(0,n.default)(this,e),this.authData=t,this.publicKey=r,this.getKey=i}return(0,i.default)(e,[{key:"untrusted",get:function(){return!0}},{key:"encryptSession",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){return delete(r=Object.assign({},e)).session_id,delete r.room_id,delete r.first_known_index,[2,t.publicKey.encrypt(JSON.stringify(r))]}))}))()}},{key:"decryptSessions",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,u,c,d,h,v,p,b,g;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,t.getKey()];case 1:r=s.sent(),n=new $parcel$global.Olm.PkDecryption;try{if(n.init_with_private_key(r)!==t.authData.public_key)throw new w.MatrixError({errcode:l.MatrixClient.RESTORE_BACKUP_ERROR_BAD_KEY});i=[],a=!0,u=!1,c=void 0;try{for(d=Object.entries(e)[Symbol.iterator]();!(a=(h=d.next()).done);a=!0){v=(0,o.default)(h.value,2),p=v[0],b=v[1];try{(g=JSON.parse(n.decrypt(b.session_data.ephemeral,b.session_data.mac,b.session_data.ciphertext))).session_id=p,i.push(g)}catch(e){f.logger.log("Failed to decrypt megolm session from backup",e,b)}}}catch(e){u=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw c}}return[2,i]}finally{n.free()}return[2]}}))}))()}},{key:"keyMatches",value:function(e){var t=this;return(0,r.default)((function(){var r,n;return(0,s.__generator)(this,(function(i){r=new $parcel$global.Olm.PkDecryption;try{n=r.init_with_private_key(e)}finally{r.free()}return[2,n===t.authData.public_key]}))}))()}},{key:"free",value:function(){this.publicKey.free()}}],[{key:"init",value:function(t,n){return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(i){if(!t||!("public_key"in t))throw new Error("auth_data missing required information");return(r=new $parcel$global.Olm.PkEncryption).set_recipient_key(t.public_key),[2,new e(t,r,n)]}))}))()}},{key:"prepare",value:function(e){return(0,r.default)((function(){var t,r,n;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:t=new $parcel$global.Olm.PkDecryption,i.label=1;case 1:return i.trys.push([1,,6,7]),r={},e?[3,2]:(r.public_key=t.generate_key(),[3,5]);case 2:return e instanceof Uint8Array?(r.public_key=t.init_with_private_key(e),[3,5]):[3,3];case 3:return[4,(0,h.keyFromPassphrase)(e)];case 4:n=i.sent(),r.private_key_salt=n.salt,r.private_key_iterations=n.iterations,r.public_key=t.init_with_private_key(n.key),i.label=5;case 5:return(new $parcel$global.Olm.PkEncryption).set_recipient_key(r.public_key),[2,[t.get_private_key(),r]];case 6:return t.free(),[7];case 7:return[2]}}))}))()}},{key:"checkBackupVersion",value:function(e){if(!("public_key"in e.auth_data))throw new Error("Invalid backup data returned")}}]),e}();e.exports.Curve25519=S,(0,c.default)(S,"algorithmName","m.megolm_backup.v1.curve25519-aes-sha2");var C,k=new m.UnstableValue("m.megolm_backup.v1.aes-hmac-sha2","org.matrix.msc3270.v1.aes-hmac-sha2"),E=function(){function e(t,r){(0,n.default)(this,e),this.authData=t,this.key=r}return(0,i.default)(e,[{key:"untrusted",get:function(){return!1}},{key:"encryptSession",value:function(e){var t=Object.assign({},e);return delete t.session_id,delete t.room_id,delete t.first_known_index,(0,g.encryptAES)(JSON.stringify(t),this.key,e.session_id)}},{key:"decryptSessions",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,u,c,l,d,h,v,p,b,m;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:r=[],n=!0,i=!1,a=void 0,s.label=1;case 1:s.trys.push([1,8,9,10]),u=Object.entries(e)[Symbol.iterator](),s.label=2;case 2:if(n=(c=u.next()).done)return[3,7];l=(0,o.default)(c.value,2),d=l[0],h=l[1],s.label=3;case 3:return s.trys.push([3,5,,6]),p=JSON.parse,[4,(0,g.decryptAES)(h.session_data,t.key,d)];case 4:return(v=p.apply(JSON,[s.sent()])).session_id=d,r.push(v),[3,6];case 5:return b=s.sent(),f.logger.log("Failed to decrypt megolm session from backup",b,h),[3,6];case 6:return n=!0,[3,2];case 7:return[3,10];case 8:return m=s.sent(),i=!0,a=m,[3,10];case 9:try{n||null==u.return||u.return()}finally{if(i)throw a}return[7];case 10:return[2,r]}}))}))()}},{key:"keyMatches",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return t.authData.mac?[4,(0,g.calculateKeyCheck)(e,t.authData.iv)]:[3,2];case 1:return r=n.sent().mac,[2,t.authData.mac.replace(/=+$/g,"")===r.replace(/=+/g,"")];case 2:return[2,!0];case 3:return[2]}}))}))()}},{key:"free",value:function(){this.key.fill(0)}}],[{key:"init",value:function(t,n){return(0,r.default)((function(){var r,i;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:if(!t)throw new Error("auth_data missing");return[4,n()];case 1:return r=a.sent(),t.mac?[4,(0,g.calculateKeyCheck)(r,t.iv)]:[3,3];case 2:if(i=a.sent().mac,t.mac.replace(/=+$/g,"")!==i.replace(/=+/g,""))throw new Error("Key does not match");a.label=3;case 3:return[2,new e(t,r)]}}))}))()}},{key:"prepare",value:function(e){return(0,r.default)((function(){var t,r,n,i,a,o;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return r={},e?[3,1]:(u=new Uint8Array(32),y.crypto.getRandomValues(u),t=u,[3,4]);case 1:return e instanceof Uint8Array?(t=new Uint8Array(e),[3,4]):[3,2];case 2:return[4,(0,h.keyFromPassphrase)(e)];case 3:n=s.sent(),r.private_key_salt=n.salt,r.private_key_iterations=n.iterations,t=n.key,s.label=4;case 4:return[4,(0,g.calculateKeyCheck)(t)];case 5:return i=s.sent(),a=i.iv,o=i.mac,r.iv=a,r.mac=o,[2,[t,r]]}var u}))}))()}},{key:"checkBackupVersion",value:function(e){if(!("iv"in e.auth_data)||!("mac"in e.auth_data))throw new Error("Invalid backup data returned")}}]),e}();e.exports.Aes256=E,(0,c.default)(E,"algorithmName",k.name);var R=(C={},(0,a.default)(C,S.algorithmName,S),(0,a.default)(C,E.algorithmName,E),C);e.exports.algorithmsByName=R;var x=S;e.exports.DefaultAlgorithm=x})),parcelRequire.register("bvVOO",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SearchResult=void 0;var i=parcelRequire("2Eokd"),a=function(){function e(t,n){(0,r.default)(this,e),this.rank=t,this.context=n}return(0,n.default)(e,null,[{key:"fromJson",value:function(t,r){var n=t.context||{},a=(n.events_before||[]).map(r),o=(n.events_after||[]).map(r),s=new i.EventContext(r(t.result)),u=s.ourEvent.threadRootId;return a=a.filter((function(e){return e.threadRootId===u})),o=o.filter((function(e){return e.threadRootId===u})),s.setPaginateToken(n.start,!0),s.addEvents(a,!0),s.addEvents(o,!1),s.setPaginateToken(n.end,!1),new e(t.rank,s)}}]),e}();e.exports.SearchResult=a})),parcelRequire.register("2Eokd",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("8WkQI"),a=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EventContext=void 0;var o=a(parcelRequire("abzte")),s=parcelRequire("gFIkm"),u=function(){function e(t){var n;(0,r.default)(this,e),this.ourEvent=t,(0,o.default)(this,"timeline",void 0),(0,o.default)(this,"ourEventIndex",0),(0,o.default)(this,"paginateTokens",(n={},(0,i.default)(n,s.Direction.Backward,null),(0,i.default)(n,s.Direction.Forward,null),n)),this.timeline=[t]}return(0,n.default)(e,[{key:"getEvent",value:function(){return this.timeline[this.ourEventIndex]}},{key:"getTimeline",value:function(){return this.timeline}},{key:"getOurEventIndex",value:function(){return this.ourEventIndex}},{key:"getPaginateToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.paginateTokens[e?s.Direction.Backward:s.Direction.Forward]}},{key:"setPaginateToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.paginateTokens[t?s.Direction.Backward:s.Direction.Forward]=null!=e?e:null}},{key:"addEvents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.timeline=e.concat(this.timeline),this.ourEventIndex+=e.length):this.timeline=this.timeline.concat(e)}}]),e}();e.exports.EventContext=u})),parcelRequire.register("hosVf",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.CrossSigningKey=void 0,e.exports.CrossSigningKey=r,(n=r||(e.exports.CrossSigningKey=r={})).Master="master",n.SelfSigning="self_signing",n.UserSigning="user_signing"})),parcelRequire.register("fOPpl",(function(e,t){"use strict";var r,n,i,a,o,s,u,c,l,f,d;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Visibility=e.exports.RestrictedAllowType=e.exports.Preset=e.exports.JoinRule=e.exports.HistoryVisibility=e.exports.GuestAccess=void 0,e.exports.Visibility=r,(n=r||(e.exports.Visibility=r={})).Public="public",n.Private="private",e.exports.Preset=i,(a=i||(e.exports.Preset=i={})).PrivateChat="private_chat",a.TrustedPrivateChat="trusted_private_chat",a.PublicChat="public_chat",e.exports.JoinRule=o,(s=o||(e.exports.JoinRule=o={})).Public="public",s.Invite="invite",s.Private="private",s.Knock="knock",s.Restricted="restricted",e.exports.RestrictedAllowType=u,(u||(e.exports.RestrictedAllowType=u={})).RoomMembership="m.room_membership",e.exports.GuestAccess=c,(l=c||(e.exports.GuestAccess=c={})).CanJoin="can_join",l.Forbidden="forbidden",e.exports.HistoryVisibility=f,(d=f||(e.exports.HistoryVisibility=f={})).Invited="invited",d.Joined="joined",d.Shared="shared",d.WorldReadable="world_readable"})),parcelRequire.register("4LJOO",(function(e,t){"use strict";var r=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.eventMapperFor=function(e,t){var r=Boolean(t.preventReEmit),n=!1!==t.decrypt;return function(a){t.toDevice&&delete a.room_id;var s,u=e.getRoom(a.room_id);u&&void 0===a.state_key&&(s=u.findEventById(a.event_id)),!s||s.status?s=new i.MatrixEvent(a):(s.setUnsigned(o(o({},s.getUnsigned()),a.unsigned)),r=!0);var c=null==u?void 0:u.findThreadForEvent(s);return c&&s.setThread(c),s.isEncrypted()&&(r||e.reEmitter.reEmit(s,[i.MatrixEventEvent.Decrypted]),n&&e.decryptEventIfNeeded(s)),r||(e.reEmitter.reEmit(s,[i.MatrixEventEvent.Replaced,i.MatrixEventEvent.VisibilityChange]),null==u||u.reEmitter.reEmit(s,[i.MatrixEventEvent.BeforeRedaction])),s}};var n=r(parcelRequire("abzte")),i=parcelRequire("dlOEf");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}})),parcelRequire.register("8ieTF",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("8WkQI"),o=parcelRequire("caN7I"),s=parcelRequire("cDTRq"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TreePermissions=e.exports.MSC3089TreeSpace=e.exports.DEFAULT_TREE_POWER_LEVELS_TEMPLATE=void 0;var c,l=u(parcelRequire("abzte")),f=u(parcelRequire("d6Ohb")),d=parcelRequire("axSuM"),h=parcelRequire("fKX3v"),v=parcelRequire("5HsbU"),p=parcelRequire("ktSUq"),b=parcelRequire("2UqYF");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $,y,w={invite:100,kick:100,ban:100,redact:50,state_default:50,events_default:50,users_default:0,events:(c={},(0,a.default)(c,d.EventType.RoomPowerLevels,100),(0,a.default)(c,d.EventType.RoomHistoryVisibility,100),(0,a.default)(c,d.EventType.RoomTombstone,100),(0,a.default)(c,d.EventType.RoomEncryption,100),(0,a.default)(c,d.EventType.RoomName,50),(0,a.default)(c,d.EventType.RoomMessage,50),(0,a.default)(c,d.EventType.RoomMessageEncrypted,50),(0,a.default)(c,d.EventType.Sticker,50),c),users:{}};e.exports.DEFAULT_TREE_POWER_LEVELS_TEMPLATE=w,e.exports.TreePermissions=$,(y=$||(e.exports.TreePermissions=$={})).Viewer="viewer",y.Editor="editor",y.Owner="owner";var _=function(){function e(t,r){if((0,n.default)(this,e),this.client=t,this.roomId=r,(0,l.default)(this,"room",void 0),this.room=this.client.getRoom(this.roomId),!this.room)throw new Error("Unknown room")}return(0,i.default)(e,[{key:"id",get:function(){return this.roomId}},{key:"isTopLevel",get:function(){var e=this.room.currentState.getStateEvents(d.EventType.SpaceParent);return null==e||!e.length||e.every((function(e){var t;return!(null!==(t=e.getContent())&&void 0!==t&&t.via)}))}},{key:"setName",value:function(e){var t=this;return(0,r.default)((function(){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.client.sendStateEvent(t.roomId,d.EventType.RoomName,{name:e},"")];case 1:return r.sent(),[2]}}))}))()}},{key:"invite",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;return(0,r.default)((function(){var r,a;return(0,s.__generator)(this,(function(s){return a=[i.retryInvite(e)],t&&(r=a).push.apply(r,(0,o.default)(i.getDirectories().map((function(r){return r.invite(e,t,n)})))),[2,Promise.all(a).then((function(){n&&(0,b.isRoomSharedHistory)(i.room)&&i.client.sendSharedHistoryKeys(i.roomId,[e])}))]}))}))()}},{key:"retryInvite",value:function(e){var t=this;return(0,v.simpleRetryOperation)((0,r.default)((function(){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.client.invite(t.roomId,e).catch((function(e){if("M_FORBIDDEN"===(null==e?void 0:e.errcode))throw new f.default.AbortError(e);throw e}))];case 1:return r.sent(),[2]}}))})))}},{key:"setPermissions",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,a,o,u,c,l;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(i=n.room.currentState.getStateEvents(d.EventType.RoomPowerLevels,""),Array.isArray(i))throw new Error("Unexpected return type for power levels");switch(a=(null==i?void 0:i.getContent())||{},o=a.users_default||0,u=a.events_default||50,c=(null===(r=a.events)||void 0===r?void 0:r[d.EventType.RoomPowerLevels])||100,l=a.users||{},t){case $.Viewer:l[e]=o;break;case $.Editor:l[e]=u;break;case $.Owner:l[e]=c;break;default:throw new Error("Invalid role: "+t)}return a.users=l,[4,n.client.sendStateEvent(n.roomId,d.EventType.RoomPowerLevels,a,"")];case 1:return s.sent(),[2]}}))}))()}},{key:"getPermissions",value:function(e){var t,r,n=this.room.currentState.getStateEvents(d.EventType.RoomPowerLevels,"");if(Array.isArray(n))throw new Error("Unexpected return type for power levels");var i=(null==n?void 0:n.getContent())||{},a=i.users_default||0,o=i.events_default||50,s=(null===(t=i.events)||void 0===t?void 0:t[d.EventType.RoomPowerLevels])||100,u=(null===(r=i.users)||void 0===r?void 0:r[e])||a;return u>=s?$.Owner:u>=o?$.Editor:$.Viewer}},{key:"createDirectory",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.client.unstableCreateFileTree(e)];case 1:return r=n.sent(),[4,t.client.sendStateEvent(t.roomId,d.EventType.SpaceChild,{via:[t.client.getDomain()]},r.roomId)];case 2:return n.sent(),[4,t.client.sendStateEvent(r.roomId,d.EventType.SpaceParent,{via:[t.client.getDomain()]},t.roomId)];case 3:return n.sent(),[2,r]}}))}))()}},{key:"getDirectories",value:function(){var e=[],t=this.room.currentState.getStateEvents(d.EventType.SpaceChild),r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;try{var u=s.getStateKey();if(u){var c=this.client.unstableGetFileTreeSpace(u);c&&e.push(c)}}catch(e){h.logger.warn("Unable to create tree space instance for listing. Are we joined?",e)}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}},{key:"getDirectory",value:function(e){return this.getDirectories().find((function(t){return t.roomId===e}))}},{key:"delete",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i,a,o,u,c,l,f,h,v,p,b,g,m;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:t=e.getDirectories(),r=!0,n=!1,i=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),a=t[Symbol.iterator](),s.label=2;case 2:return(r=(o=a.next()).done)?[3,5]:[4,o.value.delete()];case 3:s.sent(),s.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return m=s.sent(),n=!0,i=m,[3,8];case 7:try{r||null==a.return||a.return()}finally{if(n)throw i}return[7];case 8:u=["invite","knock","join"],c=e.room.currentState.getStateEvents(d.EventType.RoomMember),l=!0,f=!1,h=void 0,s.label=9;case 9:s.trys.push([9,14,15,16]),v=c[Symbol.iterator](),s.label=10;case 10:if(l=(p=v.next()).done)return[3,13];if(b=p.value,!(b.getStateKey()!==e.client.getUserId())||!u.includes(b.getContent().membership))return[3,12];if(!(g=b.getStateKey()))throw new Error("State key not found for branch");return[4,e.client.kick(e.roomId,g,"Room deleted")];case 11:s.sent(),s.label=12;case 12:return l=!0,[3,10];case 13:return[3,16];case 14:return m=s.sent(),f=!0,h=m,[3,16];case 15:try{l||null==v.return||v.return()}finally{if(f)throw h}return[7];case 16:return[4,e.client.leave(e.roomId)];case 17:return s.sent(),[2]}}))}))()}},{key:"getOrderedChildren",value:function(e){var t=this,r=e.map((function(e){return{roomId:e.getStateKey(),order:e.getContent().order}})).filter((function(e){return e.roomId}));return r.sort((function(e,r){if(e.order&&!r.order)return-1;if(!e.order&&r.order)return 1;if(e.order||r.order)return(0,v.lexicographicCompare)(e.order,r.order);var n,i,a,o,s=t.client.getRoom(e.roomId),u=t.client.getRoom(r.roomId);if(!s||!u)return(0,v.lexicographicCompare)(e.roomId,r.roomId);var c=null!==(n=null===(i=s.currentState.getStateEvents(d.EventType.RoomCreate,""))||void 0===i?void 0:i.getTs())&&void 0!==n?n:0,l=null!==(a=null===(o=u.currentState.getStateEvents(d.EventType.RoomCreate,""))||void 0===o?void 0:o.getTs())&&void 0!==a?a:0;return c===l?(0,v.lexicographicCompare)(e.roomId,r.roomId):c-l})),r}},{key:"getParentRoom",value:function(){var e=this.room.currentState.getStateEvents(d.EventType.SpaceParent)[0];if(!e)throw new Error("Expected to have a parent in a non-top level space");var t=e.getStateKey();if(!t)throw new Error("No state key found for parent");var r=this.client.getRoom(t);if(!r)throw new Error("Unable to locate room for parent");return r}},{key:"getOrder",value:function(){var e=this;if(this.isTopLevel)return-1;var t=this.getParentRoom().currentState.getStateEvents(d.EventType.SpaceChild);return this.getOrderedChildren(t).findIndex((function(t){return t.roomId===e.roomId}))}},{key:"setOrder",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,o,u,c,l,f,h,p,b,g,$,y,w,_,S,C,k;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(t.isTopLevel)throw new Error("Cannot set order of top level spaces currently");if(n=t.getParentRoom(),i=n.currentState.getStateEvents(d.EventType.SpaceChild),a=t.getOrderedChildren(i),e=Math.max(Math.min(e,a.length-1),0),o=t.getOrder(),(u=o<e)&&e===a.length-1?e--:u||0!==e||e++,c=a[u?e:e-1],l=a[u?e+1:e],f=v.DEFAULT_ALPHABET[0],h=!1,c?e===a.length-1?null!=l&&l.order&&(f=(0,v.nextString)(l.order)):(p=null==c?void 0:c.order,b=null==l?void 0:l.order,p&&b?f=p===b?(0,v.nextString)(p):(0,v.averageBetweenStrings)(p,b):p?f=(0,v.nextString)(p):b?f=(0,v.prevString)(b):h=!0):null!=l&&l.order&&(f=(0,v.prevString)(l.order)),!h)return[3,6];$=0,s.label=1;case 1:return $<=e?(y=a[$],0===$&&(g=y.order),y.order?[3,3]:(g=g?(0,v.nextString)(g):v.DEFAULT_ALPHABET[0],_=n.currentState.getStateEvents(d.EventType.SpaceChild,y.roomId),S=null!==(w=null==_?void 0:_.getContent())&&void 0!==w?w:{via:[t.client.getDomain()]},[4,t.client.sendStateEvent(n.roomId,d.EventType.SpaceChild,m(m({},S),{},{order:g}),y.roomId)])):[3,5];case 2:return s.sent(),[3,4];case 3:g=y.order,s.label=4;case 4:return $++,[3,1];case 5:g&&(f=(0,v.nextString)(g)),s.label=6;case 6:return C=n.currentState.getStateEvents(d.EventType.SpaceChild,t.roomId),k=null!==(r=null==C?void 0:C.getContent())&&void 0!==r?r:{via:[t.client.getDomain()]},[4,t.client.sendStateEvent(n.roomId,d.EventType.SpaceChild,m(m({},k),{},{order:f}),t.roomId)];case 7:return s.sent(),[2]}}))}))()}},{key:"createFile",value:function(e,t,n,i){var o=this;return(0,r.default)((function(){var r,u,c,l,f;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,o.client.uploadContent(t,{includeFilename:!1})];case 1:return u=s.sent(),c=u.content_uri,n.url=c,l={msgtype:d.MsgType.File,body:e,url:c,file:n},(i=null!==(r=i)&&void 0!==r?r:{})["m.new_content"]&&(i["m.new_content"]=l),[4,o.client.sendMessage(o.roomId,m(m(m({},i),l),{},(0,a.default)({},d.UNSTABLE_MSC3089_LEAF.name,{})))];case 2:return f=s.sent(),[4,o.client.sendStateEvent(o.roomId,d.UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:e},f.event_id)];case 3:return s.sent(),[2,f]}}))}))()}},{key:"getFile",value:function(e){var t=this.room.currentState.getStateEvents(d.UNSTABLE_MSC3089_BRANCH.name,e);return t?new p.MSC3089Branch(this.client,t,this):null}},{key:"listFiles",value:function(){return this.listAllFiles().filter((function(e){return e.isActive}))}},{key:"listAllFiles",value:function(){var e,t=this;return(null!==(e=this.room.currentState.getStateEvents(d.UNSTABLE_MSC3089_BRANCH.name))&&void 0!==e?e:[]).map((function(e){return new p.MSC3089Branch(t.client,e,t)}))}}]),e}();e.exports.MSC3089TreeSpace=_})),parcelRequire.register("ktSUq",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("caN7I"),o=parcelRequire("cDTRq"),s=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MSC3089Branch=void 0;var u=s(parcelRequire("abzte")),c=parcelRequire("axSuM"),l=parcelRequire("gFIkm");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){function e(t,r,i){(0,n.default)(this,e),this.client=t,this.indexEvent=r,this.directory=i}return(0,i.default)(e,[{key:"id",get:function(){var e=this.indexEvent.getStateKey();if(!e)throw new Error("State key not found for branch");return e}},{key:"isActive",get:function(){return!0===this.indexEvent.getContent().active}},{key:"version",get:function(){var e;return null!==(e=this.indexEvent.getContent().version)&&void 0!==e?e:1}},{key:"roomId",get:function(){return this.indexEvent.getRoomId()}},{key:"delete",value:function(){var e=this;return(0,r.default)((function(){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.client.sendStateEvent(e.roomId,c.UNSTABLE_MSC3089_BRANCH.name,{},e.id)];case 1:return r.sent(),[4,e.client.redactEvent(e.roomId,e.id)];case 2:return r.sent(),[4,e.getVersionHistory()];case 3:return(t=r.sent()[1])?[4,t.delete()]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()}},{key:"getName",value:function(){return this.indexEvent.getContent().name||"Unnamed File"}},{key:"setName",value:function(e){var t=this;return(0,r.default)((function(){return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.client.sendStateEvent(t.roomId,c.UNSTABLE_MSC3089_BRANCH.name,d(d({},t.indexEvent.getContent()),{},{name:e}),t.id)];case 1:return r.sent(),[2]}}))}))()}},{key:"isLocked",value:function(){return this.indexEvent.getContent().locked||!1}},{key:"setLocked",value:function(e){var t=this;return(0,r.default)((function(){return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.client.sendStateEvent(t.roomId,c.UNSTABLE_MSC3089_BRANCH.name,d(d({},t.indexEvent.getContent()),{},{locked:e}),t.id)];case 1:return r.sent(),[2]}}))}))()}},{key:"getFileInfo",value:function(){var e=this;return(0,r.default)((function(){var t,r,n;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getFileEvent()];case 1:if(t=i.sent(),r=t.getOriginalContent().file,!(n=e.client.mxcUrlToHttp(r.url)))throw new Error("No HTTP URL available for ".concat(r.url));return[2,{info:r,httpUrl:n}]}}))}))()}},{key:"getFileEvent",value:function(){var e=this;return(0,r.default)((function(){var t,r;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:if(!(t=e.client.getRoom(e.roomId)))throw new Error("Unknown room");r=t.getUnfilteredTimelineSet().findEventById(e.id),n.label=1;case 1:return r||!t.getLiveTimeline().getState(l.EventTimeline.BACKWARDS).paginationToken?[3,3]:[4,e.client.scrollback(t,100)];case 2:return n.sent(),r=t.getUnfilteredTimelineSet().findEventById(e.id),[3,1];case 3:if(!r)throw new Error("Failed to find event");return[4,e.client.decryptEventIfNeeded(r,{emit:!0,isRetry:!0})];case 4:return n.sent(),[2,r]}}))}))()}},{key:"createNewVersion",value:function(e,t,n,i){var a=this;return(0,r.default)((function(){var r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,a.directory.createFile(e,t,n,d(d({},null!=i?i:{}),{},{"m.new_content":!0,"m.relates_to":{rel_type:c.RelationType.Replace,event_id:a.id}}))];case 1:return r=o.sent(),[4,a.client.sendStateEvent(a.roomId,c.UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:e,version:a.version+1},r.event_id)];case 2:return o.sent(),[4,a.client.sendStateEvent(a.roomId,c.UNSTABLE_MSC3089_BRANCH.name,d(d({},a.indexEvent.getContent()),{},{active:!1}),a.id)];case 3:return o.sent(),[2,r]}}))}))()}},{key:"getVersionHistory",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if((t=[]).push(e),!(r=e.client.getRoom(e.roomId)))throw new Error("Invalid or unknown room");return n=(0,a.default)(r.getLiveTimeline().getEvents()).reverse(),[4,e.getFileEvent()];case 1:s=o.sent();do{if(i=n.find((function(e){return e.replacingEventId()===s.getId()}))){if(!(u=e.directory.getFile(i.getId())))break;t.push(u),s=i}}while(i);return[2,t]}}))}))()}}]),e}();e.exports.MSC3089Branch=h})),parcelRequire.register("kTCCE",(function(e,t){"use strict";var r,n,i,a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SearchOrderBy=void 0,(n=r||(r={})).RoomId="room_id",n.Sender="sender",e.exports.SearchOrderBy=i,(a=i||(e.exports.SearchOrderBy=i={})).Recent="recent",a.Rank="rank"})),parcelRequire.register("eOnrc",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("8rJSp"),u=parcelRequire("cDTRq"),c=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MediaHandlerEvent=e.exports.MediaHandler=void 0;var l,f=c(parcelRequire("abzte")),d=parcelRequire("4Eh2q"),h=parcelRequire("473pQ"),v=parcelRequire("fKX3v");e.exports.MediaHandlerEvent=l,(l||(e.exports.MediaHandlerEvent=l={})).LocalStreamsChanged="local_streams_changed";var p=function(e){(0,o.default)(c,e);var t=(0,s.default)(c);function c(e){var n;return(0,i.default)(this,c),(n=t.call(this)).client=e,(0,f.default)((0,r.default)(n),"audioInput",void 0),(0,f.default)((0,r.default)(n),"audioSettings",void 0),(0,f.default)((0,r.default)(n),"videoInput",void 0),(0,f.default)((0,r.default)(n),"localUserMediaStream",void 0),(0,f.default)((0,r.default)(n),"userMediaStreams",[]),(0,f.default)((0,r.default)(n),"screensharingStreams",[]),n}return(0,a.default)(c,[{key:"restoreMediaSettings",value:function(e,t){this.audioInput=e,this.videoInput=t}},{key:"setAudioInput",value:function(e){var t=this;return(0,n.default)((function(){return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return v.logger.info("Setting audio input to",e),t.audioInput===e?[2]:(t.audioInput=e,[4,t.updateLocalUsermediaStreams()]);case 1:return r.sent(),[2]}}))}))()}},{key:"setAudioSettings",value:function(e){var t=this;return(0,n.default)((function(){return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return v.logger.info("Setting audio settings to",e),t.audioSettings=Object.assign({},e),[4,t.updateLocalUsermediaStreams()];case 1:return r.sent(),[2]}}))}))()}},{key:"setVideoInput",value:function(e){var t=this;return(0,n.default)((function(){return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return v.logger.info("Setting video input to",e),t.videoInput===e?[2]:(t.videoInput=e,[4,t.updateLocalUsermediaStreams()]);case 1:return r.sent(),[2]}}))}))()}},{key:"setMediaInputs",value:function(e,t){var r=this;return(0,n.default)((function(){return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return v.logger.log("mediaHandler setMediaInputs audioInput: ".concat(e," videoInput: ").concat(t)),r.audioInput=e,r.videoInput=t,[4,r.updateLocalUsermediaStreams()];case 1:return n.sent(),[2]}}))}))()}},{key:"updateLocalUsermediaStreams",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,c,f,d,p,b,g,m,$,y,w,_,S,C,k,E,R,x,M,I,T,A,O,D,P,q,L,U,N,B;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:if(0===e.userMediaStreams.length)return[2];t=new Map,r=!0,n=!1,i=void 0;try{for(a=e.client.callEventHandler.calls.values()[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)s=o.value,t.set(s.callId,{audio:s.hasLocalUserMediaAudioTrack,video:s.hasLocalUserMediaVideoTrack})}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}c=!0,f=!1,d=void 0;try{for(p=e.userMediaStreams[Symbol.iterator]();!(c=(b=p.next()).done);c=!0){g=b.value,v.logger.log("mediaHandler stopping all tracks for stream ".concat(g.id)),m=!0,$=!1,y=void 0;try{for(w=g.getTracks()[Symbol.iterator]();!(m=(_=w.next()).done);m=!0)_.value.stop()}catch(e){$=!0,y=e}finally{try{m||null==w.return||w.return()}finally{if($)throw y}}}}catch(e){f=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(f)throw d}}e.userMediaStreams=[],e.localUserMediaStream=void 0,S=!0,C=!1,k=void 0,u.label=1;case 1:u.trys.push([1,7,8,9]),E=e.client.callEventHandler.calls.values()[Symbol.iterator](),u.label=2;case 2:return(S=(R=E.next()).done)?[3,6]:(x=R.value).callHasEnded()||!t.has(x.callId)?[3,5]:(M=t.get(x.callId),I=M.audio,T=M.video,v.logger.log("mediaHandler updateLocalUsermediaStreams getUserMediaStream call ".concat(x.callId)),[4,e.getUserMediaStream(I,T)]);case 3:return A=u.sent(),x.callHasEnded()?[3,5]:[4,x.updateLocalUsermediaStream(A)];case 4:u.sent(),u.label=5;case 5:return S=!0,[3,2];case 6:return[3,9];case 7:return B=u.sent(),C=!0,k=B,[3,9];case 8:try{S||null==E.return||E.return()}finally{if(C)throw k}return[7];case 9:O=!0,D=!1,P=void 0,u.label=10;case 10:u.trys.push([10,16,17,18]),q=e.client.groupCallEventHandler.groupCalls.values()[Symbol.iterator](),u.label=11;case 11:return(O=(L=q.next()).done)?[3,15]:(U=L.value).localCallFeed?(v.logger.log("mediaHandler updateLocalUsermediaStreams getUserMediaStream groupCall ".concat(U.groupCallId)),[4,e.getUserMediaStream(!0,U.type===h.GroupCallType.Video)]):[3,14];case 12:return N=u.sent(),U.state===h.GroupCallState.Ended?[3,14]:[4,U.updateLocalUsermediaStream(N)];case 13:u.sent(),u.label=14;case 14:return O=!0,[3,11];case 15:return[3,18];case 16:return B=u.sent(),D=!0,P=B,[3,18];case 17:try{O||null==q.return||q.return()}finally{if(D)throw P}return[7];case 18:return e.emit(l.LocalStreamsChanged),[2]}}))}))()}},{key:"hasAudioDevice",value:function(){return(0,n.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return[2,e.sent().filter((function(e){return"audioinput"===e.kind})).length>0]}}))}))()}},{key:"hasVideoDevice",value:function(){return(0,n.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return[2,e.sent().filter((function(e){return"videoinput"===e.kind})).length>0]}}))}))()}},{key:"getUserMediaStream",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;return(0,n.default)((function(){var n,a,o,s,c,f,d,h,p,b,g,m,$,y,w,_,S,C,k,E,R,x,M,I,T,A,O,D,P,q,L;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return(a=e)?[4,i.hasAudioDevice()]:[3,2];case 1:a=u.sent(),u.label=2;case 2:return n=a,(s=t)?[4,i.hasVideoDevice()]:[3,4];case 3:s=u.sent(),u.label=4;case 4:return o=s,f=!0,i.localUserMediaStream?(n!==i.localUserMediaStream.getAudioTracks().length>0&&(f=!1),o!==i.localUserMediaStream.getVideoTracks().length>0&&(f=!1),n&&(null===(d=i.localUserMediaStream.getAudioTracks()[0])||void 0===d||null===(h=d.getSettings())||void 0===h?void 0:h.deviceId)!==i.audioInput&&(f=!1),o&&(null===(p=i.localUserMediaStream.getVideoTracks()[0])||void 0===p||null===(b=p.getSettings())||void 0===b?void 0:b.deviceId)!==i.videoInput&&(f=!1)):f=!1,f?[3,6]:(g=i.getUserMediaContraints(n,o),[4,navigator.mediaDevices.getUserMedia(g)]);case 5:c=u.sent(),v.logger.log("mediaHandler getUserMediaStream streamId ".concat(c.id," shouldRequestAudio ").concat(n," shouldRequestVideo ").concat(o),g),m=!0,$=!1,y=void 0;try{for(w=c.getTracks()[Symbol.iterator]();!(m=(_=w.next()).done);m=!0)S=_.value,C=S.getSettings(),"audio"===S.kind?i.audioInput=C.deviceId:"video"===S.kind&&(i.videoInput=C.deviceId)}catch(e){$=!0,y=e}finally{try{m||null==w.return||w.return()}finally{if($)throw y}}return r&&(i.localUserMediaStream=c),[3,7];case 6:if(c=i.localUserMediaStream.clone(),v.logger.log("mediaHandler clone userMediaStream ".concat(null===(k=i.localUserMediaStream)||void 0===k?void 0:k.id," new stream ").concat(c.id," shouldRequestAudio ").concat(n," shouldRequestVideo ").concat(o)),E=!0,R=!1,x=void 0,!n)try{for(M=c.getAudioTracks()[Symbol.iterator]();!(E=(I=M.next()).done);E=!0)T=I.value,c.removeTrack(T)}catch(e){R=!0,x=e}finally{try{E||null==M.return||M.return()}finally{if(R)throw x}}if(A=!0,O=!1,D=void 0,!o)try{for(P=c.getVideoTracks()[Symbol.iterator]();!(A=(q=P.next()).done);A=!0)L=q.value,c.removeTrack(L)}catch(e){O=!0,D=e}finally{try{A||null==P.return||P.return()}finally{if(O)throw D}}u.label=7;case 7:return r&&i.userMediaStreams.push(c),i.emit(l.LocalStreamsChanged),[2,c]}}))}))()}},{key:"stopUserMediaStream",value:function(e){v.logger.log("mediaHandler stopUserMediaStream stopping stream ".concat(e.id));var t=!0,r=!1,n=void 0;try{for(var i,a=e.getTracks()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.stop()}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}var o=this.userMediaStreams.indexOf(e);-1!==o&&(v.logger.debug("Splicing usermedia stream out stream array",e.id),this.userMediaStreams.splice(o,1)),this.emit(l.LocalStreamsChanged),this.localUserMediaStream===e&&(this.localUserMediaStream=void 0)}},{key:"getScreensharingStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return(0,n.default)((function(){var n,i,a;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return 0!==r.screensharingStreams.length?[3,5]:(i=r.getScreenshareContraints(e),e.desktopCapturerSourceId?(v.logger.debug("Getting screensharing stream using getUserMedia()",e),[4,navigator.mediaDevices.getUserMedia(i)]):[3,2]);case 1:return n=o.sent(),[3,4];case 2:return v.logger.debug("Getting screensharing stream using getDisplayMedia()",e),[4,navigator.mediaDevices.getDisplayMedia(i)];case 3:n=o.sent(),o.label=4;case 4:return[3,6];case 5:a=r.screensharingStreams[r.screensharingStreams.length-1],v.logger.log("Cloning screensharing stream",a.id),n=a.clone(),o.label=6;case 6:return t&&r.screensharingStreams.push(n),r.emit(l.LocalStreamsChanged),[2,n]}}))}))()}},{key:"stopScreensharingStream",value:function(e){v.logger.debug("Stopping screensharing stream",e.id);var t=!0,r=!1,n=void 0;try{for(var i,a=e.getTracks()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.stop()}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}var o=this.screensharingStreams.indexOf(e);-1!==o&&(v.logger.debug("Splicing screensharing stream out stream array",e.id),this.screensharingStreams.splice(o,1)),this.emit(l.LocalStreamsChanged)}},{key:"stopAllStreams",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.userMediaStreams[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;v.logger.log("mediaHandler stopAllStreams stopping stream ".concat(a.id));var o=!0,s=!1,u=void 0;try{for(var c,f=a.getTracks()[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){c.value.stop()}}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}var d=!0,h=!1,p=void 0,b=!0,g=!1,m=void 0;try{for(var $,y=this.screensharingStreams[Symbol.iterator]();!(b=($=y.next()).done);b=!0){var w=$.value;try{for(var _,S=w.getTracks()[Symbol.iterator]();!(d=(_=S.next()).done);d=!0){_.value.stop()}}catch(e){h=!0,p=e}finally{try{d||null==S.return||S.return()}finally{if(h)throw p}}}}catch(e){g=!0,m=e}finally{try{b||null==y.return||y.return()}finally{if(g)throw m}}this.userMediaStreams=[],this.screensharingStreams=[],this.localUserMediaStream=void 0,this.emit(l.LocalStreamsChanged)}},{key:"getUserMediaContraints",value:function(e,t){var r=!!navigator.webkitGetUserMedia;return{audio:!!e&&{deviceId:this.audioInput?{ideal:this.audioInput}:void 0,autoGainControl:this.audioSettings?{ideal:this.audioSettings.autoGainControl}:void 0,echoCancellation:this.audioSettings?{ideal:this.audioSettings.echoCancellation}:void 0,noiseSuppression:this.audioSettings?{ideal:this.audioSettings.noiseSuppression}:void 0},video:!!t&&{deviceId:this.videoInput?{ideal:this.videoInput}:void 0,width:r?{exact:640}:{ideal:640},height:r?{exact:360}:{ideal:360}}}}},{key:"getScreenshareContraints",value:function(e){var t=e.desktopCapturerSourceId,r=e.audio;return t?(v.logger.debug("Using desktop capturer source",t),{audio:null!=r&&r,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t}}}):(v.logger.debug("Not using desktop capturer source"),{audio:null!=r&&r,video:!0})}}]),c}(d.TypedEventEmitter);e.exports.MediaHandler=p})),parcelRequire.register("8zIud",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SlidingSyncSdk=void 0;var s=o(parcelRequire("abzte")),u=parcelRequire("6pgXP"),c=parcelRequire("fKX3v"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),f=parcelRequire("gFIkm"),d=parcelRequire("67LLR"),h=parcelRequire("7NsvV"),v=parcelRequire("84XpH"),p=parcelRequire("kEqoy"),b=parcelRequire("axSuM"),g=parcelRequire("cldfj"),m=parcelRequire("kDAFF"),$=parcelRequire("iUBUo");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var w=function(){function e(t){(0,n.default)(this,e),this.crypto=t}return(0,i.default)(e,[{key:"name",value:function(){return"e2ee"}},{key:"when",value:function(){return p.ExtensionState.PreProcess}},{key:"onRequest",value:function(e){if(e)return{enabled:!0}}},{key:"onResponse",value:function(e){var t=this;return(0,r.default)((function(){var r,n;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return e.device_lists?[4,t.crypto.handleDeviceListChanges({oldSyncToken:"yep"},e.device_lists)]:[3,2];case 1:i.sent(),i.label=2;case 2:return e.device_one_time_keys_count&&(r=e.device_one_time_keys_count.signed_curve25519||0,t.crypto.updateOneTimeKeyCount(r)),(e.device_unused_fallback_key_types||e["org.matrix.msc2732.device_unused_fallback_key_types"])&&(n=e.device_unused_fallback_key_types||e["org.matrix.msc2732.device_unused_fallback_key_types"],t.crypto.setNeedsNewFallback(Array.isArray(n)&&!n.includes("signed_curve25519"))),t.crypto.onSyncCompleted({}),[2]}}))}))()}}]),e}(),_=function(){function e(t,r){(0,n.default)(this,e),this.client=t,this.cryptoCallbacks=r,(0,s.default)(this,"nextBatch",null)}return(0,i.default)(e,[{key:"name",value:function(){return"to_device"}},{key:"when",value:function(){return p.ExtensionState.PreProcess}},{key:"onRequest",value:function(e){var t={since:null!==this.nextBatch?this.nextBatch:void 0};return e&&(t.limit=100,t.enabled=!0),t}},{key:"onResponse",value:function(e){var t=this;return(0,r.default)((function(){var r,n;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return r=[],(n=e.events||[]).length>0&&t.cryptoCallbacks?[4,t.cryptoCallbacks.preprocessToDeviceMessages(n)]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return n.map(t.client.getEventMapper()).map((function(e){if("m.key.verification.cancel"===e.getType()){var t=e.getContent().transaction_id;t&&r.push(t)}return e})).forEach((function(e){var n=e.getContent();if("m.room.message"!=e.getType()||"m.bad.encrypted"!=n.msgtype){if("m.key.verification.start"===e.getType()||"m.key.verification.request"===e.getType()){var i=n.transaction_id;r.includes(i)&&e.flagCancelled()}t.client.emit(d.ClientEvent.ToDeviceEvent,e)}else c.logger.log("Ignoring undecryptable to-device event from "+e.getSender())})),t.nextBatch=e.next_batch,[2]}}))}))()}}]),e}(),S=function(){function e(t){(0,n.default)(this,e),this.client=t}return(0,i.default)(e,[{key:"name",value:function(){return"account_data"}},{key:"when",value:function(){return p.ExtensionState.PostProcess}},{key:"onRequest",value:function(e){if(e)return{enabled:!0}}},{key:"onResponse",value:function(e){var t=this;for(var r in e.global&&e.global.length>0&&this.processGlobalAccountData(e.global),e.rooms){var n=R(this.client,r,e.rooms[r]),i=this.client.getRoom(r);i?(i.addAccountData(n),n.forEach((function(e){t.client.emit(d.ClientEvent.Event,e)}))):c.logger.warn("got account data for room but room doesn't exist on client:",r)}}},{key:"processGlobalAccountData",value:function(e){var t=this,r=R(this.client,void 0,e),n=r.reduce((function(e,r){return e[r.getType()]=t.client.store.getAccountData(r.getType()),e}),{});this.client.store.storeAccountDataEvents(r),r.forEach((function(e){if(e.getType()===b.EventType.PushRules){var r=e.getContent();t.client.pushRules=g.PushProcessor.rewriteDefaultRules(r)}var i=n[e.getType()];return t.client.emit(d.ClientEvent.AccountData,e,i),e}))}}]),e}(),C=function(){function e(t){(0,n.default)(this,e),this.client=t}return(0,i.default)(e,[{key:"name",value:function(){return"typing"}},{key:"when",value:function(){return p.ExtensionState.PostProcess}},{key:"onRequest",value:function(e){if(e)return{enabled:!0}}},{key:"onResponse",value:function(e){if(null!=e&&e.rooms)for(var t in e.rooms)x(this.client,t,[e.rooms[t]])}}]),e}(),k=function(){function e(t){(0,n.default)(this,e),this.client=t}return(0,i.default)(e,[{key:"name",value:function(){return"receipts"}},{key:"when",value:function(){return p.ExtensionState.PostProcess}},{key:"onRequest",value:function(e){if(e)return{enabled:!0}}},{key:"onResponse",value:function(e){if(null!=e&&e.rooms)for(var t in e.rooms)x(this.client,t,[e.rooms[t]])}}]),e}(),E=function(){function e(t,r,i,a){var o=this;(0,n.default)(this,e),this.slidingSync=t,this.client=r,(0,s.default)(this,"opts",void 0),(0,s.default)(this,"syncOpts",void 0),(0,s.default)(this,"syncState",null),(0,s.default)(this,"syncStateData",void 0),(0,s.default)(this,"lastPos",null),(0,s.default)(this,"failCount",0),(0,s.default)(this,"notifEvents",[]),this.opts=(0,h.defaultClientOpts)(i),this.syncOpts=(0,h.defaultSyncApiOpts)(a),r.getNotifTimelineSet()&&r.reEmitter.reEmit(r.getNotifTimelineSet(),[u.RoomEvent.Timeline,u.RoomEvent.TimelineReset]),this.slidingSync.on(p.SlidingSyncEvent.Lifecycle,this.onLifecycle.bind(this)),this.slidingSync.on(p.SlidingSyncEvent.RoomData,this.onRoomData.bind(this));var c=[new _(this.client,this.syncOpts.cryptoCallbacks),new S(this.client),new C(this.client),new k(this.client)];this.syncOpts.crypto&&c.push(new w(this.syncOpts.crypto)),c.forEach((function(e){o.slidingSync.registerExtension(e)}))}return(0,i.default)(e,[{key:"onRoomData",value:function(e,t){var r=this.client.store.getRoom(e);if(!r){if(!t.initial)return void c.logger.debug("initial flag not set but no stored room exists for room ",e,t);r=(0,h._createAndReEmitRoom)(this.client,e,this.opts)}this.processRoomData(this.client,r,t)}},{key:"onLifecycle",value:function(e,t,r){switch(r&&c.logger.debug("onLifecycle",e,r),e){case p.SlidingSyncState.Complete:if(this.purgeNotifications(),!t)break;this.lastPos||this.updateSyncState(h.SyncState.Prepared,{oldSyncToken:void 0,nextSyncToken:t.pos,catchingUp:!1,fromCache:!1}),this.updateSyncState(h.SyncState.Syncing,{oldSyncToken:this.lastPos,nextSyncToken:t.pos,catchingUp:!1,fromCache:!1}),this.lastPos=t.pos;break;case p.SlidingSyncState.RequestFinished:if(r){if(this.failCount+=1,this.updateSyncState(this.failCount>3?h.SyncState.Error:h.SyncState.Reconnecting,{error:new v.MatrixError(r)}),this.shouldAbortSync(new v.MatrixError(r)))return}else this.failCount=0}}},{key:"syncLeftRooms",value:function(){return(0,r.default)((function(){return(0,a.__generator)(this,(function(e){return[2,[]]}))}))()}},{key:"peek",value:function(e){return(0,r.default)((function(){return(0,a.__generator)(this,(function(e){return[2,null]}))}))()}},{key:"stopPeeking",value:function(){}},{key:"getSyncState",value:function(){return this.syncState}},{key:"getSyncStateData",value:function(){var e;return null!==(e=this.syncStateData)&&void 0!==e?e:null}},{key:"createRoom",value:function(e){var t=this.client.timelineSupport,r=new u.Room(e,this.client,this.client.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:t});return this.client.reEmitter.reEmit(r,[u.RoomEvent.Name,u.RoomEvent.Redaction,u.RoomEvent.RedactionCancelled,u.RoomEvent.Receipt,u.RoomEvent.Tags,u.RoomEvent.LocalEchoUpdated,u.RoomEvent.AccountData,u.RoomEvent.MyMembership,u.RoomEvent.Timeline,u.RoomEvent.TimelineReset]),this.registerStateListeners(r),r}},{key:"registerStateListeners",value:function(e){var t=this;this.client.reEmitter.reEmit(e.currentState,[m.RoomStateEvent.Events,m.RoomStateEvent.Members,m.RoomStateEvent.NewMember,m.RoomStateEvent.Update]),e.currentState.on(m.RoomStateEvent.NewMember,(function(e,r,n){var i;n.user=null!==(i=t.client.getUser(n.userId))&&void 0!==i?i:void 0,t.client.reEmitter.reEmit(n,[$.RoomMemberEvent.Name,$.RoomMemberEvent.Typing,$.RoomMemberEvent.PowerLevel,$.RoomMemberEvent.Membership])}))}},{key:"shouldAbortSync",value:function(e){return"M_UNKNOWN_TOKEN"===e.errcode&&(c.logger.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(h.SyncState.Error,{error:e}),!0)}},{key:"processRoomData",value:function(e,t,n){var i=this;return(0,r.default)((function(){var o,s,c,h,v,p,g,m,$,y,w,_,S;return(0,a.__generator)(this,(function(C){switch(C.label){case 0:if(n=function(e,t,r){if(!r.name)return r;var n=!0,i=!1,a=void 0;try{for(var o,s=r.required_state[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(u.type===b.EventType.RoomName&&""===u.state_key)return u.content={name:r.name},r}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r.required_state.push({event_id:"$fake-sliding-sync-name-event-"+t,state_key:"",type:b.EventType.RoomName,content:{name:r.name},sender:e.getUserId(),origin_server_ts:(new Date).getTime()}),r}(e,t.roomId,n),o=R(i.client,t.roomId,n.required_state),s=R(i.client,t.roomId,n.timeline,!1),c=[],n.initial){for(h=new Set,t.getLiveTimeline().getEvents().forEach((function(e){h.add(e.getId())})),v=[],p=[],g=!1,m=s.length-1;m>=0;m--)$=s[m],h.has($.getId())?g=!0:g?v.push($):p.unshift($);s=p,v.length>0&&t.addEventsToTimeline(v,!0,t.getLiveTimeline(),n.prev_batch)}return y=i.client.isRoomEncrypted(t.roomId),null!=n.notification_count&&t.setUnreadNotificationCount(u.NotificationCountType.Total,n.notification_count),null!=n.highlight_count&&(!y||y&&t.getUnreadNotificationCount(u.NotificationCountType.Highlight)<=0)&&t.setUnreadNotificationCount(u.NotificationCountType.Highlight,n.highlight_count),Number.isInteger(n.invited_count)&&t.currentState.setInvitedMemberCount(n.invited_count),Number.isInteger(n.joined_count)&&t.currentState.setJoinedMemberCount(n.joined_count),n.invite_state?(w=R(i.client,t.roomId,n.invite_state),i.injectRoomEvents(t,w),n.initial&&(t.recalculate(),i.client.store.storeRoom(t),i.client.emit(d.ClientEvent.Room,t)),w.forEach((function(e){i.client.emit(d.ClientEvent.Event,e)})),t.updateMyMembership("invite"),[2]):(n.initial&&t.getLiveTimeline().setPaginationToken(null!==(_=n.prev_batch)&&void 0!==_?_:null,f.EventTimeline.BACKWARDS),i.injectRoomEvents(t,o,s,n.num_live),t.addEphemeralEvents(c),t.updateMyMembership("join"),t.recalculate(),n.initial&&(e.store.storeRoom(t),e.emit(d.ClientEvent.Room,t)),i.addNotifications(s),k=(0,r.default)((function(r){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return e.emit(d.ClientEvent.Event,r),r.isState()&&r.getType()==b.EventType.RoomEncryption&&i.syncOpts.crypto?[4,i.syncOpts.crypto.onCryptoEvent(t,r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),S=function(e){return k.apply(this,arguments)},[4,l.promiseMapSeries(o,S)]);case 1:return C.sent(),[4,l.promiseMapSeries(s,S)];case 2:return C.sent(),c.forEach((function(t){e.emit(d.ClientEvent.Event,t)})),t.decryptCriticalEvents(),[2]}var k}))}))()}},{key:"injectRoomEvents",value:function(e,t,r,n){r=r||[],t=t||[],n=n||0;var i=e.getLiveTimeline(),a=0==i.getEvents().length;if(a){var o=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;this.client.getPushActionsForEvent(f)}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}i.initialiseState(t)}a||(e.oldState.setStateEvents(t),e.currentState.setStateEvents(t));var d=[];n>0&&(d=r.slice(-1*n),r=r.slice(0,-1*d.length)),e.addLiveEvents(r,{fromCache:!0}),d.length>0&&e.addLiveEvents(d,{fromCache:!1}),e.recalculate(),this.resolveInvites(e)}},{key:"resolveInvites",value:function(e){if(e&&this.opts.resolveInvitesToProfiles){var t=this.client;e.getMembersWithMembership("invite").forEach((function(r){if(!r.requestedProfileInfo){r.requestedProfileInfo=!0;var n=t.getUser(r.userId);(n?Promise.resolve({avatar_url:n.avatarUrl,displayname:n.displayName}):t.getProfileInfo(r.userId)).then((function(t){var n=r.events.member;"invite"===n.getContent().membership&&(n.getContent().avatar_url=t.avatar_url,n.getContent().displayname=t.displayname,r.setMembershipEvent(n,e.currentState))}),(function(e){}))}}))}}},{key:"retryImmediately",value:function(){return!0}},{key:"sync",value:function(){var e=this;return(0,r.default)((function(){var t,r;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:c.logger.debug("Sliding sync init loop"),n.label=1;case 1:if(e.client.isGuest())return[3,6];n.label=2;case 2:return n.trys.push([2,4,,5]),c.logger.debug("Getting push rules..."),[4,e.client.getPushRules()];case 3:return t=n.sent(),c.logger.debug("Got push rules"),e.client.pushRules=t,[3,6];case 4:return r=n.sent(),c.logger.error("Getting push rules failed",r),e.shouldAbortSync(r)?[2]:[3,5];case 5:return[3,1];case 6:return[4,e.slidingSync.start()];case 7:return n.sent(),[2]}}))}))()}},{key:"stop",value:function(){c.logger.debug("SyncApi.stop"),this.slidingSync.stop()}},{key:"updateSyncState",value:function(e,t){var r=this.syncState;this.syncState=e,this.syncStateData=t,this.client.emit(d.ClientEvent.Sync,this.syncState,r,t)}},{key:"addNotifications",value:function(e){if(this.client.getNotifTimelineSet()){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=this.client.getPushActionsForEvent(o);s&&s.notify&&s.tweaks&&s.tweaks.highlight&&this.notifEvents.push(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}}},{key:"purgeNotifications",value:function(){var e=this;this.notifEvents.sort((function(e,t){return e.getTs()-t.getTs()})),this.notifEvents.forEach((function(t){var r;null===(r=e.client.getNotifTimelineSet())||void 0===r||r.addLiveEvent(t)})),this.notifEvents=[]}}]),e}();function R(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.getEventMapper({decrypt:n});return r.map((function(e){return e.room_id=t,i(e)}))}function x(e,t,r){var n=R(e,t,r),i=e.getRoom(t);i?(i.addEphemeralEvents(n),n.forEach((function(t){e.emit(d.ClientEvent.Event,t)}))):c.logger.warn("got ephemeral events for room but room doesn't exist on client:",t)}e.exports.SlidingSyncSdk=E})),parcelRequire.register("kEqoy",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("8rJSp"),u=parcelRequire("cDTRq"),c=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SlidingSyncState=e.exports.SlidingSyncEvent=e.exports.SlidingSync=e.exports.MSC3575_WILDCARD=e.exports.MSC3575_STATE_KEY_ME=e.exports.MSC3575_STATE_KEY_LAZY=e.exports.ExtensionState=void 0;var l=c(parcelRequire("abzte")),f=parcelRequire("fKX3v"),d=parcelRequire("4Eh2q"),h=parcelRequire("5HsbU");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.exports.MSC3575_WILDCARD="*";e.exports.MSC3575_STATE_KEY_ME="$ME";var b,g;e.exports.MSC3575_STATE_KEY_LAZY="$LAZY",e.exports.SlidingSyncState=b,(g=b||(e.exports.SlidingSyncState=b={})).RequestFinished="FINISHED",g.Complete="COMPLETE";var m,$,y,w,_=function(){function e(t){(0,i.default)(this,e),(0,l.default)(this,"list",void 0),(0,l.default)(this,"isModified",void 0),(0,l.default)(this,"roomIndexToRoomId",{}),(0,l.default)(this,"joinedCount",0),this.replaceList(t)}return(0,a.default)(e,[{key:"setModified",value:function(e){this.isModified=e}},{key:"updateListRange",value:function(e){this.list.ranges=JSON.parse(JSON.stringify(e))}},{key:"replaceList",value:function(e){e.filters=e.filters||{},e.ranges=e.ranges||[],this.list=JSON.parse(JSON.stringify(e)),this.isModified=!0,this.roomIndexToRoomId={},this.joinedCount=0}},{key:"getList",value:function(e){var t={ranges:JSON.parse(JSON.stringify(this.list.ranges))};return(this.isModified||e)&&(t=JSON.parse(JSON.stringify(this.list))),t}},{key:"isIndexInRange",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.list.ranges[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o[0]<=e&&e<=o[1])return!0}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return!1}}]),e}();e.exports.ExtensionState=m,($=m||(e.exports.ExtensionState=m={})).PreProcess="ExtState.PreProcess",$.PostProcess="ExtState.PostProcess",e.exports.SlidingSyncEvent=y,(w=y||(e.exports.SlidingSyncEvent=y={})).RoomData="SlidingSync.RoomData",w.Lifecycle="SlidingSync.Lifecycle",w.List="SlidingSync.List";var S=function(e){(0,o.default)(c,e);var t=(0,s.default)(c);function c(e,n,a,o,s){var u;return(0,i.default)(this,c),(u=t.call(this)).proxyBaseUrl=e,u.roomSubscriptionInfo=a,u.client=o,u.timeoutMS=s,(0,l.default)((0,r.default)(u),"lists",void 0),(0,l.default)((0,r.default)(u),"listModifiedCount",0),(0,l.default)((0,r.default)(u),"terminated",!1),(0,l.default)((0,r.default)(u),"needsResend",!1),(0,l.default)((0,r.default)(u),"txnId",null),(0,l.default)((0,r.default)(u),"txnIdDefers",[]),(0,l.default)((0,r.default)(u),"extensions",{}),(0,l.default)((0,r.default)(u),"desiredRoomSubscriptions",new Set),(0,l.default)((0,r.default)(u),"confirmedRoomSubscriptions",new Set),(0,l.default)((0,r.default)(u),"customSubscriptions",new Map),(0,l.default)((0,r.default)(u),"roomIdToCustomSubscription",new Map),(0,l.default)((0,r.default)(u),"pendingReq",void 0),(0,l.default)((0,r.default)(u),"abortController",void 0),u.lists=n.map((function(e){return new _(e)})),u}return(0,a.default)(c,[{key:"addCustomSubscription",value:function(e,t){this.customSubscriptions.has(e)?f.logger.warn("addCustomSubscription: ".concat(e," already exists as a custom subscription, ignoring.")):this.customSubscriptions.set(e,t)}},{key:"useCustomSubscription",value:function(e,t){this.roomIdToCustomSubscription.get(e)!==t&&(this.roomIdToCustomSubscription.set(e,t),this.confirmedRoomSubscriptions.delete(e))}},{key:"listLength",value:function(){return this.lists.length}},{key:"getListData",value:function(e){return this.lists[e]?{joinedCount:this.lists[e].joinedCount,roomIndexToRoomId:Object.assign({},this.lists[e].roomIndexToRoomId)}:null}},{key:"getList",value:function(e){return this.lists[e]?this.lists[e].getList(!0):null}},{key:"setListRanges",value:function(e,t){return this.lists[e].updateListRange(t),this.resend()}},{key:"setList",value:function(e,t){return this.lists[e]?this.lists[e].replaceList(t):this.lists[e]=new _(t),this.listModifiedCount+=1,this.resend()}},{key:"getRoomSubscriptions",value:function(){return new Set(Array.from(this.desiredRoomSubscriptions))}},{key:"modifyRoomSubscriptions",value:function(e){return this.desiredRoomSubscriptions=e,this.resend()}},{key:"modifyRoomSubscriptionInfo",value:function(e){return this.roomSubscriptionInfo=e,this.confirmedRoomSubscriptions=new Set,this.resend()}},{key:"registerExtension",value:function(e){if(this.extensions[e.name()])throw new Error("registerExtension: ".concat(e.name()," already exists as an extension"));this.extensions[e.name()]=e}},{key:"getExtensionRequest",value:function(e){var t=this,r={};return Object.keys(this.extensions).forEach((function(n){r[n]=t.extensions[n].onRequest(e)})),r}},{key:"onPreExtensionsResponse",value:function(e){var t=this;Object.keys(e).forEach((function(r){t.extensions[r].when()==m.PreProcess&&t.extensions[r].onResponse(e[r])}))}},{key:"onPostExtensionsResponse",value:function(e){var t=this;Object.keys(e).forEach((function(r){t.extensions[r].when()==m.PostProcess&&t.extensions[r].onResponse(e[r])}))}},{key:"invokeRoomDataListeners",value:function(e,t){t.required_state||(t.required_state=[]),t.timeline||(t.timeline=[]),this.emit(y.RoomData,e,t)}},{key:"invokeLifecycleListeners",value:function(e,t,r){this.emit(y.Lifecycle,e,t,r)}},{key:"shiftRight",value:function(e,t,r){for(var n=t;n>r;n--)this.lists[e].isIndexInRange(n)&&(this.lists[e].roomIndexToRoomId[n]=this.lists[e].roomIndexToRoomId[n-1])}},{key:"shiftLeft",value:function(e,t,r){for(var n=r;n<t;n++)this.lists[e].isIndexInRange(n)&&(this.lists[e].roomIndexToRoomId[n]=this.lists[e].roomIndexToRoomId[n+1])}},{key:"removeEntry",value:function(e,t){var r=-1;for(var n in this.lists[e].roomIndexToRoomId)Number(n)>r&&(r=Number(n));r<0||t>r||(this.shiftLeft(e,r,t),delete this.lists[e].roomIndexToRoomId[r])}},{key:"addEntry",value:function(e,t){var r=-1;for(var n in this.lists[e].roomIndexToRoomId)Number(n)>r&&(r=Number(n));r<0||t>r||this.shiftRight(e,r+1,t)}},{key:"processListOps",value:function(e,t){var r=this,n=-1;e.ops.forEach((function(e){switch(e.op){case"DELETE":f.logger.debug("DELETE",t,e.index,";"),delete r.lists[t].roomIndexToRoomId[e.index],-1!==n&&r.removeEntry(t,n),n=e.index;break;case"INSERT":f.logger.debug("INSERT",t,e.index,e.room_id,";"),r.lists[t].roomIndexToRoomId[e.index]&&(n<0?r.addEntry(t,e.index):n>e.index?r.shiftRight(t,n,e.index):n<e.index&&r.shiftLeft(t,e.index,n)),n=-1,r.lists[t].roomIndexToRoomId[e.index]=e.room_id;break;case"INVALIDATE":for(var i=e.range[0];i<=e.range[1];i++)delete r.lists[t].roomIndexToRoomId[i];f.logger.debug("INVALIDATE",t,e.range[0],e.range[1],";");break;case"SYNC":for(var a=e.range[0],o=a;o<=e.range[1];o++){var s=e.room_ids[o-a];if(!s)break;r.lists[t].roomIndexToRoomId[o]=s}f.logger.debug("SYNC",t,e.range[0],e.range[1],(e.room_ids||[]).join(" "),";")}})),-1!==n&&this.removeEntry(t,n)}},{key:"resend",value:function(){var e;if(this.needsResend&&this.txnIdDefers.length>0)return this.txnIdDefers[this.txnIdDefers.length-1].promise;this.needsResend=!0,this.txnId=this.client.makeTxnId();var t=(0,h.defer)();return this.txnIdDefers.push(p(p({},t),{},{txnId:this.txnId})),null===(e=this.abortController)||void 0===e||e.abort(),this.abortController=new AbortController,t.promise}},{key:"resolveTransactionDefers",value:function(e){if(e){for(var t=-1,r=0;r<this.txnIdDefers.length;r++)if(this.txnIdDefers[r].txnId===e){t=r;break}if(-1!==t){for(var n=0;n<t;n++)this.txnIdDefers[n].reject(this.txnIdDefers[n].txnId);this.txnIdDefers[t].resolve(e),this.txnIdDefers=this.txnIdDefers.slice(t+1)}else f.logger.warn("resolveTransactionDefers: seen ".concat(e," but it isn't a pending txn, ignoring."))}}},{key:"stop",value:function(){var e;this.terminated=!0,null===(e=this.abortController)||void 0===e||e.abort(),this.removeAllListeners(y.Lifecycle),this.removeAllListeners(y.List),this.removeAllListeners(y.RoomData)}},{key:"resetup",value:function(){var e;f.logger.warn("SlidingSync: resetting connection info"),this.txnIdDefers.forEach((function(e){e.reject(e.txnId)})),this.txnIdDefers=[],this.lists.forEach((function(e){e.setModified(!0)})),this.confirmedRoomSubscriptions=new Set,this.needsResend=!0,null===(e=this.abortController)||void 0===e||e.abort(),this.abortController=new AbortController}},{key:"start",value:function(){var e=this;return(0,n.default)((function(){var t,r,n,i,a,o,s,c,l,d,v,p,g,m,$,w,_,S,k,E,R,x,M,I,T,A,O,D,P;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:e.abortController=new AbortController,u.label=1;case 1:if(e.terminated)return[3,11];e.needsResend=!1,r=!1,u.label=2;case 2:if(u.trys.push([2,4,,10]),i=e.listModifiedCount,a={lists:e.lists.map((function(e){return e.getList(!1)})),pos:t,timeout:e.timeoutMS,clientTimeout:e.timeoutMS+1e4,extensions:e.getExtensionRequest(void 0===t)},o=C(e.desiredRoomSubscriptions,e.confirmedRoomSubscriptions),(s=C(e.confirmedRoomSubscriptions,e.desiredRoomSubscriptions)).size>0&&(a.unsubscribe_rooms=Array.from(s)),o.size>0){a.room_subscriptions={},c=!0,l=!1,d=void 0;try{for(v=o[Symbol.iterator]();!(c=(p=v.next()).done);c=!0)g=p.value,m=e.roomIdToCustomSubscription.get(g),$=e.roomSubscriptionInfo,m&&e.customSubscriptions.has(m)&&($=e.customSubscriptions.get(m)),a.room_subscriptions[g]=$}catch(e){l=!0,d=e}finally{try{c||null==v.return||v.return()}finally{if(l)throw d}}}return e.txnId&&(a.txn_id=e.txnId,e.txnId=null),e.pendingReq=e.client.slidingSync(a,e.proxyBaseUrl,e.abortController.signal),[4,e.pendingReq];case 3:n=u.sent(),t=n.pos,w=!0,_=!1,S=void 0;try{for(k=o[Symbol.iterator]();!(w=(E=k.next()).done);w=!0)R=E.value,e.confirmedRoomSubscriptions.add(R)}catch(e){_=!0,S=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw S}}x=!0,M=!1,I=void 0;try{for(T=s[Symbol.iterator]();!(x=(A=T.next()).done);x=!0)O=A.value,e.confirmedRoomSubscriptions.delete(O)}catch(e){M=!0,I=e}finally{try{x||null==T.return||T.return()}finally{if(M)throw I}}return i!==e.listModifiedCount&&(f.logger.debug("list modified during await call, not updating list"),r=!0),e.lists.forEach((function(e){e.setModified(!1)})),n.lists=n.lists||[],n.rooms=n.rooms||{},n.extensions=n.extensions||{},n.lists.forEach((function(t,r){e.lists[r].joinedCount=t.count})),e.invokeLifecycleListeners(b.RequestFinished,n),[3,10];case 4:return(D=u.sent()).httpStatus?(e.invokeLifecycleListeners(b.RequestFinished,null,D),400!==D.httpStatus?[3,6]:(e.resetup(),t=void 0,[4,(0,h.sleep)(50)])):[3,7];case 5:return u.sent(),[3,1];case 6:return[3,8];case 7:if(e.needsResend||"AbortError"===D.name)return[3,1];u.label=8;case 8:return f.logger.error(D),[4,(0,h.sleep)(5e3)];case 9:return u.sent(),[3,10];case 10:return n?(e.onPreExtensionsResponse(n.extensions),Object.keys(n.rooms).forEach((function(t){e.invokeRoomDataListeners(t,n.rooms[t])})),P=new Set,r||n.lists.forEach((function(t,r){t.ops=t.ops||[],t.ops.length>0&&P.add(r),e.processListOps(t,r)})),e.invokeLifecycleListeners(b.Complete,n),e.onPostExtensionsResponse(n.extensions),P.forEach((function(t){e.emit(y.List,t,e.lists[t].joinedCount,Object.assign({},e.lists[t].roomIndexToRoomId))})),e.resolveTransactionDefers(n.txn_id),[3,1]):[3,1];case 11:return[2]}}))}))()}}]),c}(d.TypedEventEmitter);e.exports.SlidingSync=S;var C=function(e,t){var r=new Set(e),n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;r.delete(u)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}})),parcelRequire.register("hR3AI",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.M_BEACON_INFO=e.exports.M_BEACON=void 0;var r=parcelRequire("cQ59V"),n=new r.UnstableValue("m.beacon_info","org.matrix.msc3672.beacon_info");e.exports.M_BEACON_INFO=n;var i=new r.UnstableValue("m.beacon","org.matrix.msc3672.beacon");e.exports.M_BEACON=i})),parcelRequire.register("hLNV7",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ToDeviceMessageQueue=void 0;var s=o(parcelRequire("abzte")),u=parcelRequire("axSuM"),c=parcelRequire("fKX3v"),l=parcelRequire("67LLR"),f=parcelRequire("bHBjb"),d=parcelRequire("7NsvV"),h=function(){function e(t){var i=this;(0,n.default)(this,e),this.client=t,(0,s.default)(this,"sending",!1),(0,s.default)(this,"running",!0),(0,s.default)(this,"retryTimeout",null),(0,s.default)(this,"retryAttempts",0);var o=this;(0,s.default)(this,"sendQueue",(0,r.default)((function(){var e,t,r;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:if(null!==o.retryTimeout&&clearTimeout(o.retryTimeout),o.retryTimeout=null,o.sending||!o.running)return[2];c.logger.debug("Attempting to send queued to-device messages"),o.sending=!0,n.label=1;case 1:return n.trys.push([1,6,11,12]),o.running?[4,o.client.store.getOldestToDeviceBatch()]:[3,5];case 2:return null===(e=n.sent())?[3,5]:[4,o.sendBatch(e)];case 3:return n.sent(),[4,o.client.store.removeToDeviceBatch(e.id)];case 4:return n.sent(),o.retryAttempts=0,[3,1];case 5:return o.running?(c.logger.debug("All queued to-device messages sent"),[3,12]):[2];case 6:return t=n.sent(),++o.retryAttempts,-1!==(r=f.MatrixScheduler.RETRY_BACKOFF_RATELIMIT(null,o.retryAttempts,t))?[3,10]:4!==Math.floor(t.httpStatus/100)?[3,8]:(c.logger.error("Fatal error when sending to-device message - dropping to-device batch!",t),[4,o.client.store.removeToDeviceBatch(e.id)]);case 7:return n.sent(),[3,9];case 8:c.logger.info("Automatic retry limit reached for to-device messages."),n.label=9;case 9:return[2];case 10:return c.logger.info("Failed to send batch of to-device messages. Will retry in ".concat(r,"ms"),t),o.retryTimeout=setTimeout(o.sendQueue,r),[3,12];case 11:return o.sending=!1,[7];case 12:return[2]}}))}))),(0,s.default)(this,"onResumedSync",(function(e,t){e===d.SyncState.Syncing&&t!==d.SyncState.Syncing&&(c.logger.info("Resuming queue after resumed sync"),i.sendQueue())}))}return(0,i.default)(e,[{key:"start",value:function(){this.running=!0,this.sendQueue(),this.client.on(l.ClientEvent.Sync,this.onResumedSync)}},{key:"stop",value:function(){this.running=!1,null!==this.retryTimeout&&clearTimeout(this.retryTimeout),this.retryTimeout=null,this.client.removeListener(l.ClientEvent.Sync,this.onResumedSync)}},{key:"queueBatch",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:for(r=[],n=0;n<e.batch.length;n+=20)i={eventType:e.eventType,batch:e.batch.slice(n,n+20),txnId:t.client.makeTxnId()},r.push(i),o=i.batch.map((function(e){return"".concat(e.userId,"/").concat(e.deviceId," (msgid ").concat(e.payload[u.ToDeviceMessageId],")")})),c.logger.info("Enqueuing batch of to-device messages. type=".concat(e.eventType," txnid=").concat(i.txnId),o);return[4,t.client.store.saveToDeviceBatches(r)];case 1:return a.sent(),t.sendQueue(),[2]}}))}))()}},{key:"sendBatch",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o,s,u,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:r={},n=!0,i=!1,o=void 0;try{for(s=e.batch[Symbol.iterator]();!(n=(u=s.next()).done);n=!0)l=u.value,r[l.userId]||(r[l.userId]={}),r[l.userId][l.deviceId]=l.payload}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return c.logger.info("Sending batch of ".concat(e.batch.length," to-device messages with ID ").concat(e.id," and txnId ").concat(e.txnId)),[4,t.client.sendToDevice(e.eventType,r,e.txnId)];case 1:return a.sent(),[2]}}))}))()}}]),e}();e.exports.ToDeviceMessageQueue=h})),parcelRequire.register("bHBjb",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=(parcelRequire("caN7I"),parcelRequire("hKgVN"));Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MatrixScheduler=void 0;var a=i(parcelRequire("abzte")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(parcelRequire("5HsbU")),s=(parcelRequire("fKX3v"),parcelRequire("axSuM")),u=parcelRequire("84XpH");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.RETRY_BACKOFF_RATELIMIT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.QUEUE_MESSAGES,i=this;(0,r.default)(this,e),this.retryAlgorithm=t,this.queueAlgorithm=n,(0,a.default)(this,"queues",{}),(0,a.default)(this,"activeQueues",[]),(0,a.default)(this,"procFn",null),(0,a.default)(this,"processQueue",(function(e){var t=i.peekNextEvent(e);if(!t){var r=i.activeQueues.indexOf(e);return r>=0&&i.activeQueues.splice(r,1),void f("Stopping queue '%s' as it is now empty",e)}f("Queue '%s' has %s pending events",e,i.queues[e].length),Promise.resolve().then((function(){return i.procFn(t.event)})).then((function(r){i.removeNextEvent(e),f("Queue '%s' sent event %s",e,t.event.getId()),t.defer.resolve(r),i.processQueue(e)}),(function(r){t.attempts+=1;var n=i.retryAlgorithm(t.event,t.attempts,r);f("retry(%s) err=%s event_id=%s waitTime=%s",t.attempts,r,t.event.getId(),n),-1===n?(f("Queue '%s' giving up on event %s",e,t.event.getId()),i.removeNextEvent(e),t.defer.reject(r),i.processQueue(e)):setTimeout(i.processQueue,n,e)}))}))}return(0,n.default)(e,[{key:"getQueueForEvent",value:function(e){var t=this.queueAlgorithm(e);return t&&this.queues[t]?this.queues[t].map((function(e){return e.event})):null}},{key:"removeEventFromQueue",value:function(e){var t=this.queueAlgorithm(e);if(!t||!this.queues[t])return!1;var r=!1;return o.removeElement(this.queues[t],(function(t){return t.event.getId()===e.getId()&&(r=!0,!0)})),r}},{key:"setProcessFunction",value:function(e){this.procFn=e,this.startProcessingQueues()}},{key:"queueEvent",value:function(e){var t=this.queueAlgorithm(e);if(!t)return null;this.queues[t]||(this.queues[t]=[]);var r=o.defer();return this.queues[t].push({event:e,defer:r,attempts:0}),f("Queue algorithm dumped event %s into queue '%s'",e.getId(),t),this.startProcessingQueues(),r.promise}},{key:"startProcessingQueues",value:function(){var e=this;this.procFn&&Object.keys(this.queues).filter((function(t){return-1===e.activeQueues.indexOf(t)&&e.queues[t].length>0})).forEach((function(t){e.activeQueues.push(t),f("Spinning up queue: '%s'",t),e.processQueue(t)}))}},{key:"peekNextEvent",value:function(e){var t=this.queues[e];if(Array.isArray(t))return t[0]}},{key:"removeNextEvent",value:function(e){var t=this.queues[e];if(Array.isArray(t))return t.shift()}}],[{key:"RETRY_BACKOFF_RATELIMIT",value:function(e,t,r){if(400===r.httpStatus||403===r.httpStatus||401===r.httpStatus)return-1;if(r instanceof u.ConnectionError)return-1;if("M_TOO_LARGE"===r.name)return-1;if("M_LIMIT_EXCEEDED"===r.name){var n=r.data.retry_after_ms;if(n>0)return n}return t>4?-1:1e3*Math.pow(2,t)}},{key:"QUEUE_MESSAGES",value:function(e){return e.getType()===s.EventType.RoomMessage||e.hasAssociation()?"message":null}}]),e}();function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r]}e.exports.MatrixScheduler=l})),parcelRequire.register("9bVbm",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.PolicyScope=e.exports.POLICIES_ACCOUNT_EVENT_TYPE=e.exports.IgnoredInvites=e.exports.IGNORE_INVITES_ACCOUNT_EVENT_KEY=void 0;var o=parcelRequire("1EmlW"),s=parcelRequire("gFIkm"),u=parcelRequire("fOPpl"),c=parcelRequire("5HsbU"),l=new o.UnstableValue("m.policies","org.matrix.msc3847.policies");e.exports.POLICIES_ACCOUNT_EVENT_TYPE=l;var f,d,h,v=new o.UnstableValue("m.ignore.invites","org.matrix.msc3847.ignore.invites");e.exports.IGNORE_INVITES_ACCOUNT_EVENT_KEY=v,(f||(f={})).Ban="m.ban",e.exports.PolicyScope=d,(h=d||(e.exports.PolicyScope=d={})).User="m.policy.user",h.Room="m.policy.room",h.Server="m.policy.server";var p=function(){function e(t){(0,n.default)(this,e),this.client=t}return(0,i.default)(e,[{key:"addRule",value:function(e,t,n){var i=this;return(0,r.default)((function(){var r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,i.getOrCreateTargetRoom()];case 1:return r=a.sent(),[4,i.client.sendStateEvent(r.roomId,e,{entity:t,reason:n,recommendation:f.Ban})];case 2:return[2,a.sent().event_id]}}))}))()}},{key:"removeRule",value:function(e){var t=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.client.redactEvent(e.getRoomId(),e.getId())];case 1:return r.sent(),[2]}}))}))()}},{key:"addSource",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.client.joinRoom(e)];case 1:return n.sent(),[4,t.getOrCreateSourceRooms()];case 2:return(r=n.sent().map((function(e){return e.roomId}))).includes(e)?[2,!1]:(r.push(e),[4,t.withIgnoreInvitesPolicies((function(e){e.sources=r}))]);case 3:return n.sent(),[2,!0]}}))}))()}},{key:"getRuleForInvite",value:function(e){var t=e.sender,n=e.roomId,i=this;return(0,r.default)((function(){var e,r,o,u,l,h,v,p,b,g,m,$,y,w,_,S,C,k,E,R,x,M,I,T,A,O,D,P,q,L,U;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,i.getOrCreateSourceRooms()];case 1:e=a.sent(),r=t.split(":")[1],o=n.split(":")[1],u=!0,l=!1,h=void 0;try{for(v=e[Symbol.iterator]();!(u=(p=v.next()).done);u=!0)for(b=p.value,g=b.getUnfilteredTimelineSet().getLiveTimeline().getState(s.EventTimeline.FORWARDS),m=0,$=[{scope:d.Room,entities:[n]},{scope:d.User,entities:[t]},{scope:d.Server,entities:[r,o]}];m<$.length;m++){w=(y=$[m]).scope,_=y.entities,S=g.getStateEvents(w),C=!0,k=!1,E=void 0;try{for(R=S[Symbol.iterator]();!(C=(x=R.next()).done);C=!0)if(M=x.value,(null==(I=M.getContent())?void 0:I.recommendation)==f.Ban&&(T=null==I?void 0:I.entity)){try{A=new RegExp((0,c.globToRegexp)(T,!1))}catch(e){continue}O=!0,D=!1,P=void 0;try{for(q=_[Symbol.iterator]();!(O=(L=q.next()).done);O=!0)if((U=L.value)&&A.test(U))return[2,M]}catch(e){D=!0,P=e}finally{try{O||null==q.return||q.return()}finally{if(D)throw P}}}}catch(e){k=!0,E=e}finally{try{C||null==R.return||R.return()}finally{if(k)throw E}}}}catch(e){l=!0,h=e}finally{try{u||null==v.return||v.return()}finally{if(l)throw h}}return[2,null]}}))}))()}},{key:"getOrCreateTargetRoom",value:function(){var e=this;return(0,r.default)((function(){var t,r,n;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:if(t=e.getIgnoreInvitesPolicies(),"string"!=typeof(r=t.target)&&(r=null),r){if(n=e.client.getRoom(r))return[2,n];r=null}return[4,e.client.createRoom({name:"Individual Policy Room",preset:u.Preset.PrivateChat})];case 1:return r=i.sent().room_id,[4,e.withIgnoreInvitesPolicies((function(e){e.target=r}))];case 2:return i.sent(),[2,e.client.getRoom(r)]}}))}))()}},{key:"getOrCreateSourceRooms",value:function(){var e=this;return(0,r.default)((function(){var t,r,n,i,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=e.getIgnoreInvitesPolicies(),r=t.sources,n=!1,Array.isArray(r)||(n=!0,r=[]),(i=r.filter((function(e){return"string"==typeof e})).map((function(t){return e.client.getRoom(t)})).filter((function(e){return!!e}))).length!=r.length&&(n=!0),0!=i.length?[3,2]:[4,e.getOrCreateTargetRoom()];case 1:o=a.sent(),n=!0,i=[o],a.label=2;case 2:return n?[4,e.withIgnoreInvitesPolicies((function(e){e.sources=r}))]:[3,4];case 3:a.sent(),a.label=4;case 4:return[2,i]}}))}))()}},{key:"getIgnoreInvitesPolicies",value:function(){return this.getPoliciesAndIgnoreInvitesPolicies().ignoreInvitesPolicies}},{key:"withIgnoreInvitesPolicies",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return r=t.getPoliciesAndIgnoreInvitesPolicies(),n=r.policies,i=r.ignoreInvitesPolicies,e(i),n[v.name]=i,[4,t.client.setAccountData(l.name,n)];case 1:return a.sent(),[2]}}))}))()}},{key:"getPoliciesAndIgnoreInvitesPolicies",value:function(){for(var e={},t=0,r=[l.name,l.altName];t<r.length;t++){var n,i=r[t];if(i){var a=null===(n=this.client.getAccountData(i))||void 0===n?void 0:n.getContent();if(a){e=a;break}}}for(var o={},s=!1,u=0,c=[v.name,v.altName];u<c.length;u++){var f=c[u];if(f){var d=e[f];if(d&&"object"==typeof d){o=d,s=!0;break}}}return s||(e[v.name]=o),{policies:e,ignoreInvitesPolicies:o}}}]),e}();e.exports.IgnoredInvites=p})),parcelRequire.register("6beUl",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RUST_SDK_STORE_PREFIX=void 0;e.exports.RUST_SDK_STORE_PREFIX="matrix-js-sdk"})),parcelRequire.register("6XW5c",(function(e,t){e.exports=parcelRequire("bVs8P")(parcelRequire("g8aXv").getBundleURL("i2rEC")+parcelRequire("2XGuX").resolve("ck4bI")).then((function(){return parcelRequire("1R9L3")}))})),parcelRequire.register("bVs8P",(function(e,t){"use strict";var r=parcelRequire("glOrQ");e.exports=r((function(e){return new Promise((function(t,r){var n=document.getElementsByTagName("script");if([].concat(n).some((function(t){return t.src===e})))t();else{var i=document.createElement("link");i.href=e,i.rel="preload",i.as="script",document.head.appendChild(i);var a=document.createElement("script");a.async=!0,a.type="text/javascript",a.src=e,a.onerror=function(t){var n=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));a.onerror=a.onload=null,a.remove(),r(n)},a.onload=function(){a.onerror=a.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(a)}}))}))})),parcelRequire.register("glOrQ",(function(e,t){"use strict";var r={},n={},i={};function a(e){switch(e){case"preload":return n;case"prefetch":return i;default:return r}}e.exports=function(e,t){return function(r){var n=a(t);return n[r]?n[r]:n[r]=e.apply(null,arguments).catch((function(e){throw delete n[r],e}))}}})),parcelRequire.register("g8aXv",(function(e,t){var r;$parcel$export(e.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var n={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=n[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),n[e]=t),t}})),parcelRequire.register("7IDQL",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("eGLTZ"),i=parcelRequire("3mpD3"),a=parcelRequire("4JAgF"),o=parcelRequire("9HoHC"),s=parcelRequire("aPvD2"),u=parcelRequire("aBvOn"),c=parcelRequire("gNsil"),l=parcelRequire("8rJSp"),f=parcelRequire("cDTRq"),d=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RoomWidgetClient=void 0;var h=d(parcelRequire("abzte")),v=parcelRequire("jsWsG"),p=parcelRequire("dlOEf"),b=parcelRequire("axSuM"),g=parcelRequire("fKX3v"),m=parcelRequire("67LLR"),$=parcelRequire("7NsvV"),y=parcelRequire("8zIud"),w=parcelRequire("5Ewnj"),_=function(e){(0,c.default)(d,e);var t=(0,l.default)(d);function d(e,n,o,s){var u,c,l,y,w,_,S,C,k,E,R;(0,a.default)(this,d),(u=t.call(this,s)).widgetApi=e,u.capabilities=n,u.roomId=o,(0,h.default)((0,r.default)(u),"room",void 0),(0,h.default)((0,r.default)(u),"widgetApiReady",new Promise((function(e){return u.widgetApi.once("ready",e)}))),(0,h.default)((0,r.default)(u),"lifecycle",void 0),(0,h.default)((0,r.default)(u),"syncState",null);var x,M=(0,r.default)(u);(0,h.default)((0,r.default)(u),"onEvent",(x=(0,i.default)((function(e){var t,r,n,i;return(0,f.__generator)(this,(function(a){switch(a.label){case 0:return e.preventDefault(),e.detail.data.room_id!==M.roomId?[3,2]:(t=new p.MatrixEvent(e.detail.data),[4,M.syncApi.injectRoomEvents(M.room,[],[t])]);case 1:return a.sent(),M.emit(m.ClientEvent.Event,t),M.setSyncState($.SyncState.Syncing),g.logger.info("Received event ".concat(t.getId()," ").concat(t.getType()," ").concat(t.getStateKey())),[3,3];case 2:r=e.detail.data,n=r.event_id,i=r.room_id,g.logger.info("Received event ".concat(n," for a different room ").concat(i,"; discarding")),a.label=3;case 3:return[4,M.ack(e)];case 4:return a.sent(),[2]}}))})),function(e){return x.apply(this,arguments)}));var I=(0,r.default)(u);return(0,h.default)((0,r.default)(u),"onToDevice",function(){var e=(0,i.default)((function(e){var t;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),t=new p.MatrixEvent({type:e.detail.data.type,sender:e.detail.data.sender,content:e.detail.data.content}),e.detail.data.encrypted&&t.makeEncrypted(b.EventType.RoomMessageEncrypted,{},"",""),I.emit(m.ClientEvent.ToDeviceEvent,t),I.setSyncState($.SyncState.Syncing),[4,I.ack(e)];case 1:return r.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),(null!==(c=n.sendEvent)&&void 0!==c&&c.length||null!==(l=n.receiveEvent)&&void 0!==l&&l.length||!0===n.sendMessage||Array.isArray(n.sendMessage)&&n.sendMessage.length||!0===n.receiveMessage||Array.isArray(n.receiveMessage)&&n.receiveMessage.length||null!==(y=n.sendState)&&void 0!==y&&y.length||null!==(w=n.receiveState)&&void 0!==w&&w.length)&&e.requestCapabilityForRoomTimeline(o),null===(_=n.sendEvent)||void 0===_||_.forEach((function(t){return e.requestCapabilityToSendEvent(t)})),null===(S=n.receiveEvent)||void 0===S||S.forEach((function(t){return e.requestCapabilityToReceiveEvent(t)})),!0===n.sendMessage?e.requestCapabilityToSendMessage():Array.isArray(n.sendMessage)&&n.sendMessage.forEach((function(t){return e.requestCapabilityToSendMessage(t)})),!0===n.receiveMessage?e.requestCapabilityToReceiveMessage():Array.isArray(n.receiveMessage)&&n.receiveMessage.forEach((function(t){return e.requestCapabilityToReceiveMessage(t)})),null===(C=n.sendState)||void 0===C||C.forEach((function(t){var r=t.eventType,n=t.stateKey;return e.requestCapabilityToSendState(r,n)})),null===(k=n.receiveState)||void 0===k||k.forEach((function(t){var r=t.eventType,n=t.stateKey;return e.requestCapabilityToReceiveState(r,n)})),null===(E=n.sendToDevice)||void 0===E||E.forEach((function(t){return e.requestCapabilityToSendToDevice(t)})),null===(R=n.receiveToDevice)||void 0===R||R.forEach((function(t){return e.requestCapabilityToReceiveToDevice(t)})),n.turnServers&&e.requestCapability(v.MatrixCapabilities.MSC3846TurnServers),e.on("action:".concat(v.WidgetApiToWidgetAction.SendEvent),u.onEvent),e.on("action:".concat(v.WidgetApiToWidgetAction.SendToDevice),u.onToDevice),e.start(),u}return(0,o.default)(d,[{key:"startClient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return(0,i.default)((function(){var r,n,a;return(0,f.__generator)(this,(function(o){switch(o.label){case 0:return t.lifecycle=new AbortController,(a=t.getUserId())&&t.store.storeUser(new w.User(a)),e.slidingSync?t.syncApi=new y.SlidingSyncSdk(e.slidingSync,t,e,t.buildSyncApiOptions()):t.syncApi=new $.SyncApi(t,e,t.buildSyncApiOptions()),t.room=t.syncApi.createRoom(t.roomId),t.store.storeRoom(t.room),[4,t.widgetApiReady];case 1:return o.sent(),[4,Promise.all(null!==(r=null===(n=t.capabilities.receiveState)||void 0===n?void 0:n.map((s=(0,i.default)((function(e){var r,n,i,a;return(0,f.__generator)(this,(function(o){switch(o.label){case 0:return r=e.eventType,n=e.stateKey,[4,t.widgetApi.readStateEvents(r,void 0,n,[t.roomId])];case 1:return i=o.sent(),a=i.map((function(e){return new p.MatrixEvent(e)})),[4,t.syncApi.injectRoomEvents(t.room,[],a)];case 2:return o.sent(),a.forEach((function(e){t.emit(m.ClientEvent.Event,e),g.logger.info("Backfilled event ".concat(e.getId()," ").concat(e.getType()," ").concat(e.getStateKey()))})),[2]}}))})),function(e){return s.apply(this,arguments)})))&&void 0!==r?r:[])];case 2:return o.sent(),t.setSyncState($.SyncState.Syncing),g.logger.info("Finished backfilling events"),t.capabilities.turnServers&&t.watchTurnServers(),[2]}var s}))}))()}},{key:"stopClient",value:function(){this.widgetApi.off("action:".concat(v.WidgetApiToWidgetAction.SendEvent),this.onEvent),this.widgetApi.off("action:".concat(v.WidgetApiToWidgetAction.SendToDevice),this.onToDevice),(0,s.default)((0,u.default)(d.prototype),"stopClient",this).call(this),this.lifecycle.abort()}},{key:"joinRoom",value:function(e){var t=this;return(0,i.default)((function(){return(0,f.__generator)(this,(function(r){if(e===t.roomId)return[2,t.room];throw new Error("Unknown room: ".concat(e))}))}))()}},{key:"encryptAndSendEvent",value:function(e,t){var r=this;return(0,i.default)((function(){var n,i;return(0,f.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,r.widgetApi.sendRoomEvent(t.getType(),t.getContent(),e.roomId)];case 1:return n=a.sent(),[3,3];case 2:throw i=a.sent(),r.updatePendingEventStatus(e,t,p.EventStatus.NOT_SENT),i;case 3:return e.updatePendingEvent(t,p.EventStatus.SENT,n.event_id),[2,{event_id:n.event_id}]}}))}))()}},{key:"sendStateEvent",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=this;return(0,i.default)((function(){return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return[4,a.widgetApi.sendStateEvent(t,n,r,e)];case 1:return[2,i.sent()]}}))}))()}},{key:"sendToDevice",value:function(e,t){var r=this;return(0,i.default)((function(){return(0,f.__generator)(this,(function(n){switch(n.label){case 0:return[4,r.widgetApi.sendToDevice(e,!1,t)];case 1:return n.sent(),[2,{}]}}))}))()}},{key:"queueToDevice",value:function(e){var t=e.eventType,r=e.batch,n=this;return(0,i.default)((function(){var e,i,a,o,s,u,c,l,d,h;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:e={},i=!0,a=!1,o=void 0;try{for(s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c=u.value,l=c.userId,d=c.deviceId,h=c.payload,e[l]||(e[l]={}),e[l][d]=h}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return[4,n.widgetApi.sendToDevice(t,!1,e)];case 1:return f.sent(),[2]}}))}))()}},{key:"encryptAndSendToDevices",value:function(e,t){var r=this;return(0,i.default)((function(){var n,i,a,o,s,u,c,l,d;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:n={},i=!0,a=!1,o=void 0;try{for(s=e[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c=u.value,l=c.userId,d=c.deviceInfo.deviceId,n[l]||(n[l]={}),n[l][d]=t}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return[4,r.widgetApi.sendToDevice(t.type,!0,n)];case 1:return f.sent(),[2]}}))}))()}},{key:"checkTurnServers",value:function(){var e=this;return(0,i.default)((function(){return(0,f.__generator)(this,(function(t){return[2,e.turnServers.length>0]}))}))()}},{key:"getSyncState",value:function(){return this.syncState}},{key:"setSyncState",value:function(e){var t=this.syncState;this.syncState=e,this.emit(m.ClientEvent.Sync,e,t)}},{key:"ack",value:function(e){var t=this;return(0,i.default)((function(){return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.widgetApi.transport.reply(e.detail,{})];case 1:return r.sent(),[2]}}))}))()}},{key:"watchTurnServers",value:function(){var e=this;return(0,i.default)((function(){var t,r,i,a,o,s,u,c,l,d,h;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:t=e.widgetApi.getTurnServers(),r=function(){t.return(void 0)},e.lifecycle.signal.addEventListener("abort",r),f.label=1;case 1:f.trys.push([1,14,15,16]),i=!1,a=!1,f.label=2;case 2:f.trys.push([2,7,8,13]),s=(0,n.default)(t),f.label=3;case 3:return[4,s.next()];case 4:if(!(i=!(u=f.sent()).done))return[3,6];c=u.value,l=c,e.turnServers=[{urls:l.uris,username:l.username,credential:l.password}],e.emit(m.ClientEvent.TurnServers,e.turnServers),g.logger.log("Received TURN server: ".concat(l.uris)),f.label=5;case 5:return i=!1,[3,3];case 6:return[3,13];case 7:return d=f.sent(),a=!0,o=d,[3,13];case 8:return f.trys.push([8,,11,12]),i&&null!=s.return?[4,s.return()]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,12];case 11:if(a)throw o;return[7];case 12:return[7];case 13:return[3,16];case 14:return h=f.sent(),g.logger.warn("Error watching TURN servers",h),[3,16];case 15:return e.lifecycle.signal.removeEventListener("abort",r),[7];case 16:return[2]}}))}))()}}]),d}(m.MatrixClient);e.exports.RoomWidgetClient=_})),parcelRequire.register("eGLTZ",(function(e,t){function r(e){var t,r,i,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(i&&null!=(t=e[i]))return new n(t.call(e));r="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function n(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return n=function(e){this.s=e,this.n=e.next},n.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new n(e)}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("jsWsG",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=parcelRequire("5AtoG");Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))}));var n=parcelRequire("hzedQ");Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===n[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return n[t]}}))}));var i=parcelRequire("asZJK");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===i[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return i[t]}}))}));var a=parcelRequire("8D8ar");Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===a[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return a[t]}}))}));var o=parcelRequire("aMy8v");Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===o[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=parcelRequire("bb7aM");Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=parcelRequire("5arhl");Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===u[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return u[t]}}))}));var c=parcelRequire("7C7zm");Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===c[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return c[t]}}))}));var l=parcelRequire("eAxdw");Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===l[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return l[t]}}))}));var f=parcelRequire("icxU7");Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===f[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return f[t]}}))}));var d=parcelRequire("fgB8t");Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===d[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return d[t]}}))}));var h=parcelRequire("100zY");Object.keys(h).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===h[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return h[t]}}))}));var v=parcelRequire("kOMQR");Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===v[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return v[t]}}))}));var p=parcelRequire("iKueK");Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===p[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return p[t]}}))}));var b=parcelRequire("842lO");Object.keys(b).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===b[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return b[t]}}))}));var g=parcelRequire("c0lEq");Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===g[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return g[t]}}))}));var m=parcelRequire("eRXd2");Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===m[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return m[t]}}))}));var $=parcelRequire("gHQXf");Object.keys($).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===$[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return $[t]}}))}));var y=parcelRequire("eshxw");Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===y[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return y[t]}}))}));var w=parcelRequire("lDPXE");Object.keys(w).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===w[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return w[t]}}))}));var _=parcelRequire("1KauC");Object.keys(_).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===_[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return _[t]}}))}));var S=parcelRequire("lQBAN");Object.keys(S).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===S[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return S[t]}}))}));var C=parcelRequire("kAPzL");Object.keys(C).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===C[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return C[t]}}))}));var k=parcelRequire("ieZvr");Object.keys(k).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===k[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return k[t]}}))}));var E=parcelRequire("llEfh");Object.keys(E).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===E[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return E[t]}}))}));var R=parcelRequire("7UMvf");Object.keys(R).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===R[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return R[t]}}))}));var x=parcelRequire("COaAM");Object.keys(x).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===x[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return x[t]}}))}));var M=parcelRequire("7bKcg");Object.keys(M).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===M[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return M[t]}}))}));var I=parcelRequire("lKpYj");Object.keys(I).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===I[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return I[t]}}))}));var T=parcelRequire("4g5gH");Object.keys(T).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===T[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return T[t]}}))}));var A=parcelRequire("2fkRB");Object.keys(A).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===A[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return A[t]}}))}));var O=parcelRequire("ek1x6");Object.keys(O).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===O[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return O[t]}}))}));var D=parcelRequire("6zhie");Object.keys(D).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===D[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return D[t]}}))}));var P=parcelRequire("7eIQx");Object.keys(P).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===P[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return P[t]}}))}));var q=parcelRequire("eXMyz");Object.keys(q).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===q[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return q[t]}}))}));var L=parcelRequire("lthh6");Object.keys(L).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===L[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return L[t]}}))}));var U=parcelRequire("ifIzW");Object.keys(U).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===U[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return U[t]}}))}));var N=parcelRequire("4a0Yd");Object.keys(N).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===N[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return N[t]}}))}));var B=parcelRequire("iPjEe");Object.keys(B).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===B[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return B[t]}}))}));var F=parcelRequire("68WyS");Object.keys(F).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===F[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return F[t]}}))}));var j=parcelRequire("jhnSC");Object.keys(j).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===j[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return j[t]}}))}));var K=parcelRequire("i4STi");Object.keys(K).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===K[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return K[t]}}))}));var H=parcelRequire("icFWY");Object.keys(H).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===H[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return H[t]}}))}));var W=parcelRequire("8iiht");Object.keys(W).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===W[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return W[t]}}))}));var V=parcelRequire("ezxpq");Object.keys(V).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===V[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return V[t]}}))}));var z=parcelRequire("60AOo");Object.keys(z).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===z[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return z[t]}}))}))})),parcelRequire.register("5AtoG",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WidgetApi=void 0;var n=parcelRequire("ftI7v"),i=parcelRequire("842lO"),a=parcelRequire("c0lEq"),o=parcelRequire("aMy8v"),s=parcelRequire("iKueK"),u=parcelRequire("llEfh"),c=parcelRequire("icxU7"),l=parcelRequire("lKpYj"),f=parcelRequire("iPjEe"),d=parcelRequire("asZJK");function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
var e=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]},t=function(e,t,r,a){var o=t&&t.prototype instanceof i?t:i,s=Object.create(o.prototype),u=new f(a||[]);return s._invoke=function(e,t,r){var i="suspendedStart";return function(a,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw o;return v()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=R(s,r);if(u){if(u===_)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var c=n(e,t,r);if("normal"===c.type){if(i=r.done?"completed":"suspendedYield",c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i="completed",r.method="throw",r.arg=c.arg)}}}(e,r,u),s},n=function(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}},i=function(){},a=function(){},o=function(){},s=function(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))},u=function(e,t){function i(a,o,s,u){var c=n(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&g.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;this._invoke=function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}},c=function(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)},l=function(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t},f=function(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)},d=function(e){if(e){var t=e[$];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(g.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:v}},v=function(){return{value:void 0,done:!0}};h=function(){return p};var p={},b=Object.prototype,g=b.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},$=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(t){e=function(e,t,r){return e[t]=r}}p.wrap=t;var _={},S={};e(S,$,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(d([])));k&&k!==b&&g.call(k,$)&&(S=k);var E=o.prototype=i.prototype=Object.create(S);function R(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=n(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,_;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,_):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}return a.prototype=o,e(E,"constructor",o),e(o,"constructor",a),a.displayName=e(o,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,e(t,w,"GeneratorFunction")),t.prototype=Object.create(E),t},p.awrap=function(e){return{__await:e}},s(u.prototype),e(u.prototype,y,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new u(t(e,r,n,i),a);return p.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},s(E),e(E,w,"Generator"),e(E,$,(function(){return this})),e(E,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){var t=function(t,n){return a.type="throw",a.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n};if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;l(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),_}},p}function v(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){v(a,n,i,o,s,"next",e)}function s(e){v(a,n,i,o,s,"throw",e)}o(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){return new E(e)}function k(e){var t,r,n=function(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null};function i(t,r){try{var a=e[t](r),o=a.value,s=o instanceof E;Promise.resolve(s?o.wrapped:o).then((function(e){s?i("return"===t?"return":"next",e):n(a.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){n("throw",e)}}this._invoke=function(e,n){return new Promise((function(a,o){var s={key:e,arg:n,resolve:a,reject:o,next:null};r?r=r.next=s:(t=r=s,i(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}function E(e){this.wrapped=e}k.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},k.prototype.next=function(e){return this._invoke("next",e)},k.prototype.throw=function(e){return this._invoke("throw",e)},k.prototype.return=function(e){return this._invoke("return",e)};var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(_,e);var t,r,n,v,y=$(_);function _(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(b(this,_),(e=y.call(this)).clientOrigin=r,S(w(e),"transport",void 0),S(w(e),"capabilitiesFinished",!1),S(w(e),"supportsMSC2974Renegotiate",!1),S(w(e),"requestedCapabilities",[]),S(w(e),"approvedCapabilities",void 0),S(w(e),"cachedClientVersions",void 0),S(w(e),"turnServerWatchers",0),!window.parent)throw new Error("No parent window. This widget doesn't appear to be embedded properly.");return e.transport=new o.PostmessageTransport(i.WidgetApiDirection.FromWidget,t,window.parent,window),e.transport.targetOrigin=r,e.transport.on("message",e.handleMessage.bind(w(e))),e}return t=_,r=[{key:"hasCapability",value:function(e){return Array.isArray(this.approvedCapabilities)?this.approvedCapabilities.includes(e):this.requestedCapabilities.includes(e)}},{key:"requestCapability",value:function(e){if(this.capabilitiesFinished&&!this.supportsMSC2974Renegotiate)throw new Error("Capabilities have already been negotiated");this.requestedCapabilities.push(e)}},{key:"requestCapabilities",value:function(e){var t=this;e.forEach((function(e){return t.requestCapability(e)}))}},{key:"requestCapabilityForRoomTimeline",value:function(e){this.requestCapability("org.matrix.msc2762.timeline:".concat(e))}},{key:"requestCapabilityToSendState",value:function(e,t){this.requestCapability(f.WidgetEventCapability.forStateEvent(f.EventDirection.Send,e,t).raw)}},{key:"requestCapabilityToReceiveState",value:function(e,t){this.requestCapability(f.WidgetEventCapability.forStateEvent(f.EventDirection.Receive,e,t).raw)}},{key:"requestCapabilityToSendToDevice",value:function(e){this.requestCapability(f.WidgetEventCapability.forToDeviceEvent(f.EventDirection.Send,e).raw)}},{key:"requestCapabilityToReceiveToDevice",value:function(e){this.requestCapability(f.WidgetEventCapability.forToDeviceEvent(f.EventDirection.Receive,e).raw)}},{key:"requestCapabilityToSendEvent",value:function(e){this.requestCapability(f.WidgetEventCapability.forRoomEvent(f.EventDirection.Send,e).raw)}},{key:"requestCapabilityToReceiveEvent",value:function(e){this.requestCapability(f.WidgetEventCapability.forRoomEvent(f.EventDirection.Receive,e).raw)}},{key:"requestCapabilityToSendMessage",value:function(e){this.requestCapability(f.WidgetEventCapability.forRoomMessageEvent(f.EventDirection.Send,e).raw)}},{key:"requestCapabilityToReceiveMessage",value:function(e){this.requestCapability(f.WidgetEventCapability.forRoomMessageEvent(f.EventDirection.Receive,e).raw)}},{key:"requestOpenIDConnectToken",value:function(){var e=this;return new Promise((function(t,r){e.transport.sendComplete(s.WidgetApiFromWidgetAction.GetOpenIDCredentials,{}).then((function(n){var i=n.response;i.state===u.OpenIDRequestState.Allowed?t(i):i.state===u.OpenIDRequestState.Blocked?r(new Error("User declined to verify their identity")):i.state===u.OpenIDRequestState.PendingUserConfirmation?e.on("action:".concat(s.WidgetApiToWidgetAction.OpenIDCredentials),(function a(o){o.preventDefault();var c=o.detail;c.data.original_request_id===n.requestId&&(c.data.state===u.OpenIDRequestState.Allowed?(t(c.data),e.transport.reply(c,{})):c.data.state===u.OpenIDRequestState.Blocked?(r(new Error("User declined to verify their identity")),e.transport.reply(c,{})):(r(new Error("Invalid state on reply: "+i.state)),e.transport.reply(c,{error:{message:"Invalid state"}})),e.off("action:".concat(s.WidgetApiToWidgetAction.OpenIDCredentials),a))})):r(new Error("Invalid state: "+i.state))})).catch(r)}))}},{key:"updateRequestedCapabilities",value:function(){return this.transport.send(s.WidgetApiFromWidgetAction.MSC2974RenegotiateCapabilities,{capabilities:this.requestedCapabilities}).then()}},{key:"sendContentLoaded",value:function(){return this.transport.send(s.WidgetApiFromWidgetAction.ContentLoaded,{}).then()}},{key:"sendSticker",value:function(e){return this.transport.send(s.WidgetApiFromWidgetAction.SendSticker,e).then()}},{key:"setAlwaysOnScreen",value:function(e){return this.transport.send(s.WidgetApiFromWidgetAction.UpdateAlwaysOnScreen,{value:e}).then((function(e){return e.success}))}},{key:"openModalWidget",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c.MatrixWidgetType.Custom;return this.transport.send(s.WidgetApiFromWidgetAction.OpenModalWidget,{type:i,url:e,name:t,buttons:r,data:n}).then()}},{key:"closeModalWidget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transport.send(s.WidgetApiFromWidgetAction.CloseModalWidget,e).then()}},{key:"sendRoomEvent",value:function(e,t,r){return this.transport.send(s.WidgetApiFromWidgetAction.SendEvent,{type:e,content:t,room_id:r})}},{key:"sendStateEvent",value:function(e,t,r,n){return this.transport.send(s.WidgetApiFromWidgetAction.SendEvent,{type:e,content:r,state_key:t,room_id:n})}},{key:"sendToDevice",value:function(e,t,r){return this.transport.send(s.WidgetApiFromWidgetAction.SendToDevice,{type:e,encrypted:t,messages:r})}},{key:"readRoomEvents",value:function(e,t,r,n){var i={type:e,msgtype:r};return void 0!==t&&(i.limit=t),n&&(n.includes(d.Symbols.AnyRoom)?i.room_ids=d.Symbols.AnyRoom:i.room_ids=n),this.transport.send(s.WidgetApiFromWidgetAction.MSC2876ReadEvents,i).then((function(e){return e.events}))}},{key:"readEventRelations",value:(v=p(h().mark((function e(t,r,n,i,o,u,c,l){var f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClientVersions();case 2:if(e.sent.includes(a.UnstableApiVersion.MSC3869)){e.next=5;break}throw new Error("The read_relations action is not supported by the client.");case 5:return f={event_id:t,rel_type:n,event_type:i,room_id:r,to:c,from:u,limit:o,direction:l},e.abrupt("return",this.transport.send(s.WidgetApiFromWidgetAction.MSC3869ReadRelations,f));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,i,a,o,s){return v.apply(this,arguments)})},{key:"readStateEvents",value:function(e,t,r,n){var i={type:e,state_key:void 0===r||r};return void 0!==t&&(i.limit=t),n&&(n.includes(d.Symbols.AnyRoom)?i.room_ids=d.Symbols.AnyRoom:i.room_ids=n),this.transport.send(s.WidgetApiFromWidgetAction.MSC2876ReadEvents,i).then((function(e){return e.events}))}},{key:"setModalButtonEnabled",value:function(e,t){if(e===l.BuiltInModalButtonID.Close)throw new Error("The close button cannot be disabled");return this.transport.send(s.WidgetApiFromWidgetAction.SetModalButtonEnabled,{button:e,enabled:t}).then()}},{key:"navigateTo",value:function(e){if(!e||!e.startsWith("https://matrix.to/#"))throw new Error("Invalid matrix.to URI");return this.transport.send(s.WidgetApiFromWidgetAction.MSC2931Navigate,{uri:e}).then()}},{key:"getTurnServers",value:function(){var e,t=this;return(e=h().mark((function e(){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){var e=p(h().mark((function e(n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r(n.detail.data),e.next=4,t.transport.reply(n.detail,{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.on("action:".concat(s.WidgetApiToWidgetAction.UpdateTurnServers),n),0!==t.turnServerWatchers){e.next=12;break}return e.prev=3,e.next=6,C(t.transport.send(s.WidgetApiFromWidgetAction.WatchTurnServers,{}));case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(3),t.off("action:".concat(s.WidgetApiToWidgetAction.UpdateTurnServers),n),e.t0;case 12:t.turnServerWatchers++,e.prev=13;case 14:return e.next=17,C(new Promise((function(e){return r=e})));case 17:return e.next=19,e.sent;case 19:e.next=14;break;case 21:if(e.prev=21,t.off("action:".concat(s.WidgetApiToWidgetAction.UpdateTurnServers),n),t.turnServerWatchers--,0!==t.turnServerWatchers){e.next=27;break}return e.next=27,C(t.transport.send(s.WidgetApiFromWidgetAction.UnwatchTurnServers,{}));case 27:return e.finish(21);case 28:case"end":return e.stop()}}),e,null,[[3,8],[13,,21,28]])})),function(){return new k(e.apply(this,arguments))})()}},{key:"start",value:function(){var e=this;this.transport.start(),this.getClientVersions().then((function(t){t.includes(a.UnstableApiVersion.MSC2974)&&(e.supportsMSC2974Renegotiate=!0)}))}},{key:"handleMessage",value:function(e){var t=new CustomEvent("action:".concat(e.detail.action),{detail:e.detail,cancelable:!0});if(this.emit("action:".concat(e.detail.action),t),!t.defaultPrevented)switch(e.detail.action){case s.WidgetApiToWidgetAction.SupportedApiVersions:return this.replyVersions(e.detail);case s.WidgetApiToWidgetAction.Capabilities:return this.handleCapabilities(e.detail);case s.WidgetApiToWidgetAction.UpdateVisibility:case s.WidgetApiToWidgetAction.NotifyCapabilities:return this.transport.reply(e.detail,{});default:return this.transport.reply(e.detail,{error:{message:"Unknown or unsupported action: "+e.detail.action}})}}},{key:"replyVersions",value:function(e){this.transport.reply(e,{supported_versions:a.CurrentApiVersions})}},{key:"getClientVersions",value:function(){var e=this;return Array.isArray(this.cachedClientVersions)?Promise.resolve(this.cachedClientVersions):this.transport.send(s.WidgetApiFromWidgetAction.SupportedApiVersions,{}).then((function(t){return e.cachedClientVersions=t.supported_versions,t.supported_versions})).catch((function(e){return console.warn("non-fatal error getting supported client versions: ",e),[]}))}},{key:"handleCapabilities",value:function(e){var t=this;return this.capabilitiesFinished?this.transport.reply(e,{error:{message:"Capability negotiation already completed"}}):this.getClientVersions().then((function(r){return r.includes(a.UnstableApiVersion.MSC2871)?t.once("action:".concat(s.WidgetApiToWidgetAction.NotifyCapabilities),(function(e){t.approvedCapabilities=e.detail.data.approved,t.emit("ready")})):t.emit("ready"),t.capabilitiesFinished=!0,t.transport.reply(e,{capabilities:t.requestedCapabilities})}))}}],r&&g(t.prototype,r),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),_}(n.EventEmitter);e.exports.WidgetApi=R})),parcelRequire.register("842lO",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WidgetApiDirection=void 0,e.exports.invertedDirection=function(e){if(e===r.ToWidget)return r.FromWidget;if(e===r.FromWidget)return r.ToWidget;throw new Error("Invalid direction")},e.exports.WidgetApiDirection=r,(n=r||(e.exports.WidgetApiDirection=r={})).ToWidget="toWidget",n.FromWidget="fromWidget"})),parcelRequire.register("c0lEq",(function(e,t){"use strict";var r,n,i,a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UnstableApiVersion=e.exports.MatrixApiVersion=e.exports.CurrentApiVersions=void 0,e.exports.MatrixApiVersion=r,(n=r||(e.exports.MatrixApiVersion=r={})).Prerelease1="0.0.1",n.Prerelease2="0.0.2",e.exports.UnstableApiVersion=i,(a=i||(e.exports.UnstableApiVersion=i={})).MSC2762="org.matrix.msc2762",a.MSC2871="org.matrix.msc2871",a.MSC2931="org.matrix.msc2931",a.MSC2974="org.matrix.msc2974",a.MSC2876="org.matrix.msc2876",a.MSC3819="org.matrix.msc3819",a.MSC3846="town.robin.msc3846",a.MSC3869="org.matrix.msc3869";var o=[r.Prerelease1,r.Prerelease2,i.MSC2762,i.MSC2871,i.MSC2931,i.MSC2974,i.MSC2876,i.MSC3819,i.MSC3846,i.MSC3869];e.exports.CurrentApiVersions=o})),parcelRequire.register("aMy8v",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.PostmessageTransport=void 0;var n=parcelRequire("ftI7v"),i=parcelRequire("jsWsG");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,r,n,a=c(l);function l(e,t,r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(i=a.call(this)).sendDirection=e,i.initialWidgetId=t,i.transportWindow=r,i.inboundWindow=n,h(f(i),"strictOriginCheck",void 0),h(f(i),"targetOrigin",void 0),h(f(i),"timeoutSeconds",10),h(f(i),"_ready",!1),h(f(i),"_widgetId",null),h(f(i),"outboundRequests",new Map),h(f(i),"stopController",new AbortController),i._widgetId=t,i}return t=l,(r=[{key:"ready",get:function(){return this._ready}},{key:"widgetId",get:function(){return this._widgetId||null}},{key:"nextRequestId",get:function(){for(var e="widgetapi-".concat(Date.now()),t=0,r=e;this.outboundRequests.has(r);)r="".concat(e,"-").concat(t++);return this.outboundRequests.set(r,null),r}},{key:"sendInternal",value:function(e){var t=this.targetOrigin||"*";console.log("[PostmessageTransport] Sending object to ".concat(t,": "),e),this.transportWindow.postMessage(e,t)}},{key:"reply",value:function(e,t){return this.sendInternal(o(o({},e),{},{response:t}))}},{key:"send",value:function(e,t){return this.sendComplete(e,t).then((function(e){return e.response}))}},{key:"sendComplete",value:function(e,t){var r=this;if(!this.ready||!this.widgetId)return Promise.reject(new Error("Not ready or unknown widget ID"));var n={api:this.sendDirection,widgetId:this.widgetId,requestId:this.nextRequestId,action:e,data:t};return e===i.WidgetApiToWidgetAction.UpdateVisibility&&(n.visible=t.visible),new Promise((function(e,t){var i=function(e){s(),t(e)},a=setTimeout((function(){return i(new Error("Request timed out"))}),1e3*(r.timeoutSeconds||1)),o=function(){return i(new Error("Transport stopped"))};r.stopController.signal.addEventListener("abort",o);var s=function(){r.outboundRequests.delete(n.requestId),clearTimeout(a),r.stopController.signal.removeEventListener("abort",o)};r.outboundRequests.set(n.requestId,{request:n,resolve:function(t){s(),e(t)},reject:i}),r.sendInternal(n)}))}},{key:"start",value:function(){var e=this;this.inboundWindow.addEventListener("message",(function(t){e.handleMessage(t)})),this._ready=!0}},{key:"stop",value:function(){this._ready=!1,this.stopController.abort()}},{key:"handleMessage",value:function(e){if(!this.stopController.signal.aborted&&e.data&&(!this.strictOriginCheck||e.origin===window.origin)){var t=e.data;if(t.action&&t.requestId&&t.widgetId)if(t.response){if(t.api!==this.sendDirection)return;this.handleResponse(t)}else{var r=t;if(r.api!==(0,i.invertedDirection)(this.sendDirection))return;this.handleRequest(r)}}}},{key:"handleRequest",value:function(e){if(this.widgetId){if(this.widgetId!==e.widgetId)return}else this._widgetId=e.widgetId;this.emit("message",new CustomEvent("message",{detail:e}))}},{key:"handleResponse",value:function(e){if(e.widgetId===this.widgetId){var t=this.outboundRequests.get(e.requestId);if(t)if((0,i.isErrorResponse)(e.response)){var r=e.response;t.reject(new Error(r.error.message))}else t.resolve(e)}}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.EventEmitter);e.exports.PostmessageTransport=v})),parcelRequire.register("iKueK",(function(e,t){"use strict";var r,n,i,a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WidgetApiToWidgetAction=e.exports.WidgetApiFromWidgetAction=void 0,e.exports.WidgetApiToWidgetAction=r,(n=r||(e.exports.WidgetApiToWidgetAction=r={})).SupportedApiVersions="supported_api_versions",n.Capabilities="capabilities",n.NotifyCapabilities="notify_capabilities",n.TakeScreenshot="screenshot",n.UpdateVisibility="visibility",n.OpenIDCredentials="openid_credentials",n.WidgetConfig="widget_config",n.CloseModalWidget="close_modal",n.ButtonClicked="button_clicked",n.SendEvent="send_event",n.SendToDevice="send_to_device",n.UpdateTurnServers="update_turn_servers",e.exports.WidgetApiFromWidgetAction=i,(a=i||(e.exports.WidgetApiFromWidgetAction=i={})).SupportedApiVersions="supported_api_versions",a.ContentLoaded="content_loaded",a.SendSticker="m.sticker",a.UpdateAlwaysOnScreen="set_always_on_screen",a.GetOpenIDCredentials="get_openid",a.CloseModalWidget="close_modal",a.OpenModalWidget="open_modal",a.SetModalButtonEnabled="set_button_enabled",a.SendEvent="send_event",a.SendToDevice="send_to_device",a.WatchTurnServers="watch_turn_servers",a.UnwatchTurnServers="unwatch_turn_servers",a.MSC2876ReadEvents="org.matrix.msc2876.read_events",a.MSC2931Navigate="org.matrix.msc2931.navigate",a.MSC2974RenegotiateCapabilities="org.matrix.msc2974.request_capabilities",a.MSC3869ReadRelations="org.matrix.msc3869.read_relations"})),parcelRequire.register("llEfh",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.OpenIDRequestState=void 0,e.exports.OpenIDRequestState=r,(n=r||(e.exports.OpenIDRequestState=r={})).Allowed="allowed",n.Blocked="blocked",n.PendingUserConfirmation="request"})),parcelRequire.register("icxU7",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MatrixWidgetType=void 0,e.exports.MatrixWidgetType=r,(n=r||(e.exports.MatrixWidgetType=r={})).Custom="m.custom",n.JitsiMeet="m.jitsi",n.Stickerpicker="m.stickerpicker"})),parcelRequire.register("lKpYj",(function(e,t){"use strict";var r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BuiltInModalButtonID=void 0,e.exports.BuiltInModalButtonID=r,(r||(e.exports.BuiltInModalButtonID=r={})).Close="m.close"})),parcelRequire.register("iPjEe",(function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,o,s,u;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WidgetEventCapability=e.exports.EventKind=e.exports.EventDirection=void 0,e.exports.EventKind=a,(o=a||(e.exports.EventKind=a={})).Event="event",o.State="state_event",o.ToDevice="to_device",e.exports.EventDirection=s,(u=s||(e.exports.EventDirection=s={})).Send="send",u.Receive="receive";var c=function(){function e(t,r,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.direction=t,this.eventType=r,this.kind=n,this.keyStr=i,this.raw=a}var t,n,o;return t=e,n=[{key:"matchesAsStateEvent",value:function(e,t,r){return this.kind===a.State&&this.direction===e&&this.eventType===t&&(null===this.keyStr||this.keyStr===r)}},{key:"matchesAsToDeviceEvent",value:function(e,t){return this.kind===a.ToDevice&&this.direction===e&&this.eventType===t}},{key:"matchesAsRoomEvent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.kind===a.Event&&this.direction===e&&this.eventType===t&&("m.room.message"!==this.eventType||null===this.keyStr||this.keyStr===r)}}],o=[{key:"forStateEvent",value:function(t,r,n){r=r.replace(/#/g,"\\#"),n=null!=n?"#".concat(n):"";var i="org.matrix.msc2762.".concat(t,".state_event:").concat(r).concat(n);return e.findEventCapabilities([i])[0]}},{key:"forToDeviceEvent",value:function(t,r){var n="org.matrix.msc3819.".concat(t,".to_device:").concat(r);return e.findEventCapabilities([n])[0]}},{key:"forRoomEvent",value:function(t,r){var n="org.matrix.msc2762.".concat(t,".event:").concat(r);return e.findEventCapabilities([n])[0]}},{key:"forRoomMessageEvent",value:function(t,r){r=null==r?"":r;var n="org.matrix.msc2762.".concat(t,".event:m.room.message#").concat(r);return e.findEventCapabilities([n])[0]}},{key:"findEventCapabilities",value:function(t){var n,i=[],o=r(t);try{for(o.s();!(n=o.n()).done;){var u=n.value,c=null,l=void 0,f=null;if(u.startsWith("org.matrix.msc2762.send.event:")?(c=s.Send,f=a.Event,l=u.substring(30)):u.startsWith("org.matrix.msc2762.send.state_event:")?(c=s.Send,f=a.State,l=u.substring(36)):u.startsWith("org.matrix.msc3819.send.to_device:")?(c=s.Send,f=a.ToDevice,l=u.substring(34)):u.startsWith("org.matrix.msc2762.receive.event:")?(c=s.Receive,f=a.Event,l=u.substring(33)):u.startsWith("org.matrix.msc2762.receive.state_event:")?(c=s.Receive,f=a.State,l=u.substring(39)):u.startsWith("org.matrix.msc3819.receive.to_device:")&&(c=s.Receive,f=a.ToDevice,l=u.substring(37)),null!==c&&null!==f){var d=l.startsWith("m.room.message#")||f===a.State,h=null;if(l.includes("#")&&d){var v=l.split("#"),p=v.findIndex((function(e){return!e.endsWith("\\")}));l=v.slice(0,p+1).map((function(e){return e.endsWith("\\")?e.substring(0,e.length-1):e})).join("#"),h=v.slice(p+1).join("#")}i.push(new e(c,l,f,h,u))}}}catch(e){o.e(e)}finally{o.f()}return i}}],n&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.WidgetEventCapability=c})),parcelRequire.register("asZJK",(function(e,t){"use strict";var r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Symbols=void 0,e.exports.Symbols=r,(r||(e.exports.Symbols=r={})).AnyRoom="*"})),parcelRequire.register("hzedQ",(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ClientWidgetApi=void 0;var n=parcelRequire("ftI7v"),i=parcelRequire("aMy8v"),a=parcelRequire("842lO"),o=parcelRequire("iKueK"),s=parcelRequire("eRXd2"),u=parcelRequire("c0lEq"),c=parcelRequire("iPjEe"),l=parcelRequire("llEfh"),f=parcelRequire("ezxpq"),d=parcelRequire("asZJK");function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
var e=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]},t=function(e,t,r,a){var o=t&&t.prototype instanceof i?t:i,s=Object.create(o.prototype),u=new f(a||[]);return s._invoke=function(e,t,r){var i="suspendedStart";return function(a,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw o;return v()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=R(s,r);if(u){if(u===_)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var c=n(e,t,r);if("normal"===c.type){if(i=r.done?"completed":"suspendedYield",c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i="completed",r.method="throw",r.arg=c.arg)}}}(e,r,u),s},n=function(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}},i=function(){},a=function(){},o=function(){},s=function(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))},u=function(e,t){function i(a,o,s,u){var c=n(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&g.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;this._invoke=function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}},c=function(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)},l=function(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t},f=function(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)},d=function(e){if(e){var t=e[$];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(g.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:v}},v=function(){return{value:void 0,done:!0}};h=function(){return p};var p={},b=Object.prototype,g=b.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},$=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(t){e=function(e,t,r){return e[t]=r}}p.wrap=t;var _={},S={};e(S,$,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(d([])));k&&k!==b&&g.call(k,$)&&(S=k);var E=o.prototype=i.prototype=Object.create(S);function R(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=n(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,_;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,_):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}return a.prototype=o,e(E,"constructor",o),e(o,"constructor",a),a.displayName=e(o,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,e(t,w,"GeneratorFunction")),t.prototype=Object.create(E),t},p.awrap=function(e){return{__await:e}},s(u.prototype),e(u.prototype,y,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new u(t(e,r,n,i),a);return p.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},s(E),e(E,w,"Generator"),e(E,$,(function(){return this})),e(E,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){var t=function(t,n){return a.type="throw",a.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n};if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;l(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),_}},p}function v(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){v(a,n,i,o,s,"next",e)}function s(e){v(a,n,i,o,s,"throw",e)}o(void 0)}))}}function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var i=k(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new x(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function x(e){var t=function(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))};return x=function(e){this.s=e,this.n=e.next},x.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new x(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(T,e);var t,r,n,v,g,m,S,k,x,M,I=_(T);function T(e,t,r){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T),(n=I.call(this)).widget=e,n.iframe=t,n.driver=r,E(C(n),"transport",void 0),E(C(n),"contentLoadedActionSent",!1),E(C(n),"allowedCapabilities",new Set),E(C(n),"allowedEvents",[]),E(C(n),"isStopped",!1),E(C(n),"turnServers",null),null==t||!t.contentWindow)throw new Error("No iframe supplied");if(!e)throw new Error("Invalid widget");if(!r)throw new Error("Invalid driver");return n.transport=new i.PostmessageTransport(a.WidgetApiDirection.ToWidget,e.id,t.contentWindow,window),n.transport.targetOrigin=e.origin,n.transport.on("message",n.handleMessage.bind(C(n))),t.addEventListener("load",n.onIframeLoad.bind(C(n))),n.transport.start(),n}return t=T,r=[{key:"hasCapability",value:function(e){return this.allowedCapabilities.has(e)}},{key:"canUseRoomTimeline",value:function(e){return this.hasCapability("org.matrix.msc2762.timeline:".concat(d.Symbols.AnyRoom))||this.hasCapability("org.matrix.msc2762.timeline:".concat(e))}},{key:"canSendRoomEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.allowedEvents.some((function(r){return r.matchesAsRoomEvent(c.EventDirection.Send,e,t)}))}},{key:"canSendStateEvent",value:function(e,t){return this.allowedEvents.some((function(r){return r.matchesAsStateEvent(c.EventDirection.Send,e,t)}))}},{key:"canSendToDeviceEvent",value:function(e){return this.allowedEvents.some((function(t){return t.matchesAsToDeviceEvent(c.EventDirection.Send,e)}))}},{key:"canReceiveRoomEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.allowedEvents.some((function(r){return r.matchesAsRoomEvent(c.EventDirection.Receive,e,t)}))}},{key:"canReceiveStateEvent",value:function(e,t){return this.allowedEvents.some((function(r){return r.matchesAsStateEvent(c.EventDirection.Receive,e,t)}))}},{key:"canReceiveToDeviceEvent",value:function(e){return this.allowedEvents.some((function(t){return t.matchesAsToDeviceEvent(c.EventDirection.Receive,e)}))}},{key:"stop",value:function(){this.isStopped=!0,this.transport.stop()}},{key:"beginCapabilities",value:function(){var e,t=this;this.emit("preparing"),this.transport.send(o.WidgetApiToWidgetAction.Capabilities,{}).then((function(r){return e=r.capabilities,t.driver.validateCapabilities(new Set(r.capabilities))})).then((function(r){console.log("Widget ".concat(t.widget.id," is allowed capabilities:"),Array.from(r)),t.allowedCapabilities=r,t.allowedEvents=c.WidgetEventCapability.findEventCapabilities(r),t.notifyCapabilities(e),t.emit("ready")}))}},{key:"notifyCapabilities",value:function(e){var t=this;this.transport.send(o.WidgetApiToWidgetAction.NotifyCapabilities,{requested:e,approved:Array.from(this.allowedCapabilities)}).catch((function(e){console.warn("non-fatal error notifying widget of approved capabilities:",e)})).then((function(){t.emit("capabilitiesNotified")}))}},{key:"onIframeLoad",value:function(e){this.widget.waitForIframeLoad?this.beginCapabilities():this.contentLoadedActionSent=!1}},{key:"handleContentLoadedAction",value:function(e){if(this.contentLoadedActionSent)throw new Error("Improper sequence: ContentLoaded Action can only be send once after the widget loaded and should only be used if waitForIframeLoad is false (default=true)");this.widget.waitForIframeLoad?this.transport.reply(e,{error:{message:"Improper sequence: not expecting ContentLoaded event if waitForIframLoad is true (default=true)"}}):(this.transport.reply(e,{}),this.beginCapabilities()),this.contentLoadedActionSent=!0}},{key:"replyVersions",value:function(e){this.transport.reply(e,{supported_versions:u.CurrentApiVersions})}},{key:"handleCapabilitiesRenegotiate",value:function(e){var t,r=this;this.transport.reply(e,{});var n=(null===(t=e.data)||void 0===t?void 0:t.capabilities)||[],i=new Set(n.filter((function(e){return!r.hasCapability(e)})));if(0===i.size)return this.notifyCapabilities([]);this.driver.validateCapabilities(i).then((function(e){return e.forEach((function(e){return r.allowedCapabilities.add(e)})),c.WidgetEventCapability.findEventCapabilities(e).forEach((function(e){return r.allowedEvents.push(e)})),r.notifyCapabilities(Array.from(i))}))}},{key:"handleNavigate",value:function(e){var t,r,n=this;if(!this.hasCapability(s.MatrixCapabilities.MSC2931Navigate))return this.transport.reply(e,{error:{message:"Missing capability"}});if(null===(t=e.data)||void 0===t||!t.uri||null===(r=e.data)||void 0===r||!r.uri.toString().startsWith("https://matrix.to/#"))return this.transport.reply(e,{error:{message:"Invalid matrix.to URI"}});var i=function(t){return console.error("[ClientWidgetApi] Failed to handle navigation: ",t),n.transport.reply(e,{error:{message:"Error handling navigation"}})};try{this.driver.navigate(e.data.uri.toString()).catch((function(e){return i(e)})).then((function(){return n.transport.reply(e,{})}))}catch(e){return i(e)}}},{key:"handleOIDC",value:function(e){var t=this,r=1,n=function(n,i){return i=i||{},r>1?t.transport.send(o.WidgetApiToWidgetAction.OpenIDCredentials,$({state:n,original_request_id:e.requestId},i)):t.transport.reply(e,$({state:n},i))},i=function(i){return console.error("[ClientWidgetApi] Failed to handle OIDC: ",i),r>1?n(l.OpenIDRequestState.Blocked):t.transport.reply(e,{error:{message:i}})},a=new f.SimpleObservable((function(e){return e.state===l.OpenIDRequestState.PendingUserConfirmation&&r>1?(a.close(),i("client provided out-of-phase response to OIDC flow")):e.state===l.OpenIDRequestState.PendingUserConfirmation?(n(e.state),void r++):e.state!==l.OpenIDRequestState.Allowed||e.token?(e.state===l.OpenIDRequestState.Blocked&&(e.token=null),a.close(),n(e.state,e.token)):i("client provided invalid OIDC token for an allowed request")}));this.driver.askOpenID(a)}},{key:"handleReadEvents",value:function(e){var t=this;if(!e.data.type)return this.transport.reply(e,{error:{message:"Invalid request - missing event type"}});if(void 0!==e.data.limit&&(!e.data.limit||e.data.limit<0))return this.transport.reply(e,{error:{message:"Invalid request - limit out of range"}});var r=null;if(e.data.room_ids){r=e.data.room_ids,Array.isArray(r)||(r=[r]);var n,i=b(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!this.canUseRoomTimeline(a))return this.transport.reply(e,{error:{message:"Unable to access room timeline: ".concat(a)}})}}catch(e){i.e(e)}finally{i.f()}}var o=e.data.limit||0,s=Promise.resolve([]);if(void 0!==e.data.state_key){var u=!0===e.data.state_key?void 0:e.data.state_key.toString();if(!this.canReceiveStateEvent(e.data.type,u))return this.transport.reply(e,{error:{message:"Cannot read state events of this type"}});s=this.driver.readStateEvents(e.data.type,u,o,r)}else{if(!this.canReceiveRoomEvent(e.data.type,e.data.msgtype))return this.transport.reply(e,{error:{message:"Cannot read room events of this type"}});s=this.driver.readRoomEvents(e.data.type,e.data.msgtype,o,r)}return s.then((function(r){return t.transport.reply(e,{events:r})}))}},{key:"handleSendEvent",value:function(e){var t,r=this;if(!e.data.type)return this.transport.reply(e,{error:{message:"Invalid request - missing event type"}});if(e.data.room_id&&!this.canUseRoomTimeline(e.data.room_id))return this.transport.reply(e,{error:{message:"Unable to access room timeline: ".concat(e.data.room_id)}});if(null!==e.data.state_key&&void 0!==e.data.state_key){if(!this.canSendStateEvent(e.data.type,e.data.state_key))return this.transport.reply(e,{error:{message:"Cannot send state events of this type"}});t=this.driver.sendEvent(e.data.type,e.data.content||{},e.data.state_key,e.data.room_id)}else{var n=e.data.content||{},i=n.msgtype;if(!this.canSendRoomEvent(e.data.type,i))return this.transport.reply(e,{error:{message:"Cannot send room events of this type"}});t=this.driver.sendEvent(e.data.type,n,null,e.data.room_id)}t.then((function(t){return r.transport.reply(e,{room_id:t.roomId,event_id:t.eventId})})).catch((function(t){return console.error("error sending event: ",t),r.transport.reply(e,{error:{message:"Error sending event"}})}))}},{key:"handleSendToDevice",value:(M=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.type){e.next=5;break}return e.next=3,this.transport.reply(t,{error:{message:"Invalid request - missing event type"}});case 3:case 8:case 13:case 18:case 25:e.next=32;break;case 5:if(t.data.messages){e.next=10;break}return e.next=8,this.transport.reply(t,{error:{message:"Invalid request - missing event contents"}});case 10:if("boolean"==typeof t.data.encrypted){e.next=15;break}return e.next=13,this.transport.reply(t,{error:{message:"Invalid request - missing encryption flag"}});case 15:if(this.canSendToDeviceEvent(t.data.type)){e.next=20;break}return e.next=18,this.transport.reply(t,{error:{message:"Cannot send to-device events of this type"}});case 20:return e.prev=20,e.next=23,this.driver.sendToDevice(t.data.type,t.data.encrypted,t.data.messages);case 23:return e.next=25,this.transport.reply(t,{});case 27:return e.prev=27,e.t0=e.catch(20),console.error("error sending to-device event",e.t0),e.next=32,this.transport.reply(t,{error:{message:"Error sending event"}});case 32:case"end":return e.stop()}}),e,this,[[20,27]])}))),function(e){return M.apply(this,arguments)})},{key:"pollTurnServers",value:(x=p(h().mark((function e(t,r){var n,i,a,s,u,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.transport.send(o.WidgetApiToWidgetAction.UpdateTurnServers,r);case 3:n=!1,i=!1,e.prev=5,s=R(t);case 7:return e.next=9,s.next();case 9:if(!(n=!(u=e.sent).done)){e.next=16;break}return c=u.value,e.next=13,this.transport.send(o.WidgetApiToWidgetAction.UpdateTurnServers,c);case 13:n=!1,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),i=!0,a=e.t0;case 22:if(e.prev=22,e.prev=23,!n||null==s.return){e.next=27;break}return e.next=27,s.return();case 27:if(e.prev=27,!i){e.next=30;break}throw a;case 30:return e.finish(27);case 31:return e.finish(22);case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),console.error("error polling for TURN servers",e.t1);case 37:case"end":return e.stop()}}),e,this,[[0,34],[5,18,22,32],[23,,27,31]])}))),function(e,t){return x.apply(this,arguments)})},{key:"handleWatchTurnServers",value:(k=p(h().mark((function e(t){var r,n,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(s.MatrixCapabilities.MSC3846TurnServers)){e.next=5;break}return e.next=3,this.transport.reply(t,{error:{message:"Missing capability"}});case 3:case 8:e.next=30;break;case 5:if(!this.turnServers){e.next=10;break}return e.next=8,this.transport.reply(t,{});case 10:return e.prev=10,r=this.driver.getTurnServers(),e.next=14,r.next();case 14:if(n=e.sent,i=n.done,a=n.value,!i){e.next=19;break}throw new Error("Client refuses to provide any TURN servers");case 19:return e.next=21,this.transport.reply(t,{});case 21:this.pollTurnServers(r,a),this.turnServers=r,e.next=30;break;case 25:return e.prev=25,e.t0=e.catch(10),console.error("error getting first TURN server results",e.t0),e.next=30,this.transport.reply(t,{error:{message:"TURN servers not available"}});case 30:case"end":return e.stop()}}),e,this,[[10,25]])}))),function(e){return k.apply(this,arguments)})},{key:"handleUnwatchTurnServers",value:(S=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(s.MatrixCapabilities.MSC3846TurnServers)){e.next=5;break}return e.next=3,this.transport.reply(t,{error:{message:"Missing capability"}});case 3:case 8:e.next=15;break;case 5:if(this.turnServers){e.next=10;break}return e.next=8,this.transport.reply(t,{});case 10:return e.next=12,this.turnServers.return(void 0);case 12:return this.turnServers=null,e.next=15,this.transport.reply(t,{});case 15:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"handleReadRelations",value:(m=p(h().mark((function e(t){var r,n,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.event_id){e.next=2;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - missing event ID"}}));case 2:if(!(void 0!==t.data.limit&&t.data.limit<0)){e.next=4;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - limit out of range"}}));case 4:if(void 0===t.data.room_id||this.canUseRoomTimeline(t.data.room_id)){e.next=6;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Unable to access room timeline: ".concat(t.data.room_id)}}));case 6:return e.prev=6,e.next=9,this.driver.readEventRelations(t.data.event_id,t.data.room_id,t.data.rel_type,t.data.event_type,t.data.from,t.data.to,t.data.limit,t.data.direction);case 9:if(!(r=e.sent).originalEvent){e.next=18;break}if(void 0===r.originalEvent.state_key){e.next=16;break}if(this.canReceiveStateEvent(r.originalEvent.type,r.originalEvent.state_key)){e.next=14;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Cannot read state events of this type"}}));case 14:e.next=18;break;case 16:if(this.canReceiveRoomEvent(r.originalEvent.type,r.originalEvent.content.msgtype)){e.next=18;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Cannot read room events of this type"}}));case 18:return n=r.chunk.filter((function(e){return void 0!==e.state_key?i.canReceiveStateEvent(e.type,e.state_key):i.canReceiveRoomEvent(e.type,e.content.msgtype)})),e.abrupt("return",this.transport.reply(t,{original_event:r.originalEvent,chunk:n,prev_batch:r.prevBatch,next_batch:r.nextBatch}));case 22:return e.prev=22,e.t0=e.catch(6),console.error("error getting the relations",e.t0),e.next=27,this.transport.reply(t,{error:{message:"Unexpected error while reading relations"}});case 27:case"end":return e.stop()}}),e,this,[[6,22]])}))),function(e){return m.apply(this,arguments)})},{key:"handleMessage",value:function(e){if(!this.isStopped){var t=new CustomEvent("action:".concat(e.detail.action),{detail:e.detail,cancelable:!0});if(this.emit("action:".concat(e.detail.action),t),!t.defaultPrevented)switch(e.detail.action){case o.WidgetApiFromWidgetAction.ContentLoaded:return this.handleContentLoadedAction(e.detail);case o.WidgetApiFromWidgetAction.SupportedApiVersions:return this.replyVersions(e.detail);case o.WidgetApiFromWidgetAction.SendEvent:return this.handleSendEvent(e.detail);case o.WidgetApiFromWidgetAction.SendToDevice:return this.handleSendToDevice(e.detail);case o.WidgetApiFromWidgetAction.GetOpenIDCredentials:return this.handleOIDC(e.detail);case o.WidgetApiFromWidgetAction.MSC2931Navigate:return this.handleNavigate(e.detail);case o.WidgetApiFromWidgetAction.MSC2974RenegotiateCapabilities:return this.handleCapabilitiesRenegotiate(e.detail);case o.WidgetApiFromWidgetAction.MSC2876ReadEvents:return this.handleReadEvents(e.detail);case o.WidgetApiFromWidgetAction.WatchTurnServers:return this.handleWatchTurnServers(e.detail);case o.WidgetApiFromWidgetAction.UnwatchTurnServers:return this.handleUnwatchTurnServers(e.detail);case o.WidgetApiFromWidgetAction.MSC3869ReadRelations:return this.handleReadRelations(e.detail);default:return this.transport.reply(e.detail,{error:{message:"Unknown or unsupported action: "+e.detail.action}})}}}},{key:"takeScreenshot",value:function(){return this.transport.send(o.WidgetApiToWidgetAction.TakeScreenshot,{})}},{key:"updateVisibility",value:function(e){return this.transport.send(o.WidgetApiToWidgetAction.UpdateVisibility,{visible:e})}},{key:"sendWidgetConfig",value:function(e){return this.transport.send(o.WidgetApiToWidgetAction.WidgetConfig,e).then()}},{key:"notifyModalWidgetButtonClicked",value:function(e){return this.transport.send(o.WidgetApiToWidgetAction.ButtonClicked,{id:e}).then()}},{key:"notifyModalWidgetClose",value:function(e){return this.transport.send(o.WidgetApiToWidgetAction.CloseModalWidget,e).then()}},{key:"feedEvent",value:(g=p(h().mark((function e(t,r){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.room_id===r||this.canUseRoomTimeline(t.room_id)){e.next=2;break}return e.abrupt("return");case 2:if(void 0===t.state_key||null===t.state_key){e.next=7;break}if(this.canReceiveStateEvent(t.type,t.state_key)){e.next=5;break}return e.abrupt("return");case 5:e.next=9;break;case 7:if(this.canReceiveRoomEvent(t.type,null===(n=t.content)||void 0===n?void 0:n.msgtype)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.transport.send(o.WidgetApiToWidgetAction.SendEvent,t);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"feedToDevice",value:(v=p(h().mark((function e(t,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canReceiveToDeviceEvent(t.type)){e.next=3;break}return e.next=3,this.transport.send(o.WidgetApiToWidgetAction.SendToDevice,$($({},t),{},{encrypted:r}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})}],r&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),T}(n.EventEmitter);e.exports.ClientWidgetApi=M})),parcelRequire.register("eRXd2",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.VideoConferenceCapabilities=e.exports.StickerpickerCapabilities=e.exports.MatrixCapabilities=void 0,e.exports.getTimelineRoomIDFromCapability=function(e){return e.substring(e.indexOf(":")+1)},e.exports.isTimelineCapability=function(e){return null==e?void 0:e.startsWith("org.matrix.msc2762.timeline:")},e.exports.isTimelineCapabilityFor=function(e,t){return e==="org.matrix.msc2762.timeline:".concat(t)},e.exports.MatrixCapabilities=r,(n=r||(e.exports.MatrixCapabilities=r={})).Screenshots="m.capability.screenshot",n.StickerSending="m.sticker",n.AlwaysOnScreen="m.always_on_screen",n.RequiresClient="io.element.requires_client",n.MSC2931Navigate="org.matrix.msc2931.navigate",n.MSC3846TurnServers="town.robin.msc3846.turn_servers";var i=[r.StickerSending];e.exports.StickerpickerCapabilities=i;var a=[r.AlwaysOnScreen];e.exports.VideoConferenceCapabilities=a})),parcelRequire.register("ezxpq",(function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SimpleObservable=void 0;var a=function(){function e(t){var r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=[],(n="listeners")in(r=this)?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,t&&this.listeners.push(t)}var t,n,a;return t=e,(n=[{key:"onUpdate",value:function(e){this.listeners.push(e)}},{key:"update",value:function(e){var t,n=r(this.listeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)(e)}catch(e){n.e(e)}finally{n.f()}}},{key:"close",value:function(){this.listeners=[]}}])&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.SimpleObservable=a})),parcelRequire.register("8D8ar",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("bb7aM",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("5arhl",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("7C7zm",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("eAxdw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("fgB8t",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isErrorResponse=function(e){if("error"in e){return!!e.error.message}return!1}})),parcelRequire.register("100zY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("kOMQR",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("gHQXf",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("eshxw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("lDPXE",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("1KauC",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("lQBAN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("kAPzL",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("ieZvr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("7UMvf",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("COaAM",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WidgetKind=void 0,e.exports.WidgetKind=r,(n=r||(e.exports.WidgetKind=r={})).Room="room",n.Account="account",n.Modal="modal"})),parcelRequire.register("7bKcg",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ModalButtonKind=void 0,e.exports.ModalButtonKind=r,(n=r||(e.exports.ModalButtonKind=r={})).Primary="m.primary",n.Secondary="m.secondary",n.Warning="m.warning",n.Danger="m.danger",n.Link="m.link"})),parcelRequire.register("4g5gH",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("2fkRB",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("ek1x6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("6zhie",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("7eIQx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("eXMyz",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("lthh6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("ifIzW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("4a0Yd",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("68WyS",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isValidUrl=function(e){if(!e)return!1;try{var t=new URL(e);return"http"===t.protocol||"https"===t.protocol}catch(e){if(e instanceof TypeError)return!1;throw e}}})),parcelRequire.register("jhnSC",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.assertPresent=function(e,t){if(!e[t])throw new Error("".concat(t," is required"))}})),parcelRequire.register("i4STi",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Widget=void 0;var r=parcelRequire("jhnSC"),n=parcelRequire("jsWsG");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definition=t,!this.definition)throw new Error("Definition is required");(0,r.assertPresent)(t,"id"),(0,r.assertPresent)(t,"creatorUserId"),(0,r.assertPresent)(t,"type"),(0,r.assertPresent)(t,"url")}var t,a,o;return t=e,(a=[{key:"creatorUserId",get:function(){return this.definition.creatorUserId}},{key:"type",get:function(){return this.definition.type}},{key:"id",get:function(){return this.definition.id}},{key:"name",get:function(){return this.definition.name||null}},{key:"title",get:function(){return this.rawData.title||null}},{key:"templateUrl",get:function(){return this.definition.url}},{key:"origin",get:function(){return new URL(this.templateUrl).origin}},{key:"waitForIframeLoad",get:function(){return!1!==this.definition.waitForIframeLoad&&(this.definition.waitForIframeLoad,!0)}},{key:"rawData",get:function(){return this.definition.data||{}}},{key:"getCompleteUrl",value:function(e){return(0,n.runTemplate)(this.templateUrl,this.definition,e)}}])&&i(t.prototype,a),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.Widget=a})),parcelRequire.register("icFWY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WidgetParser=void 0;var r=parcelRequire("i4STi"),n=parcelRequire("68WyS");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,s=[{key:"parseAccountData",value:function(t){if(!t)return[];for(var r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n],o=t[a];if(o&&("m.widget"===o.type||"im.vector.modular.widgets"===o.type)&&o.sender&&(o.state_key||o.id)===a){var s={content:o.content,sender:o.sender,type:"m.widget",state_key:a,event_id:"$example",room_id:"!example",origin_server_ts:1},u=e.parseRoomWidget(s);u&&r.push(u)}}return r}},{key:"parseWidgetsFromRoomState",value:function(t){if(!t)return[];var r,n=[],a=i(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=e.parseRoomWidget(o);s&&n.push(s)}}catch(e){a.e(e)}finally{a.f()}return n}},{key:"parseRoomWidget",value:function(t){if(!t)return null;if("m.widget"!==t.type&&"im.vector.modular.widgets"!==t.type)return null;var r=t.content||{},n={id:t.state_key,creatorUserId:r.creatorUserId||t.sender,name:r.name,type:r.type,url:r.url,waitForIframeLoad:r.waitForIframeLoad,data:r.data};return e.processEstimatedWidget(n)}},{key:"processEstimatedWidget",value:function(e){return e.id&&e.creatorUserId&&e.type&&(0,n.isValidUrl)(e.url)?new r.Widget(e):null}}],(a=null)&&o(t.prototype,a),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.WidgetParser=s})),parcelRequire.register("8iiht",(function(e,t){"use strict";function r(e){return null==e?"".concat(e):e.toString()}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.runTemplate=function(e,t,n){for(var i=Object.assign({},t.data,{matrix_room_id:n.widgetRoomId||"",matrix_user_id:n.currentUserId,matrix_display_name:n.userDisplayName||n.currentUserId,matrix_avatar_url:n.userHttpAvatarUrl||"",matrix_widget_id:t.id,"org.matrix.msc2873.client_id":n.clientId||"","org.matrix.msc2873.client_theme":n.clientTheme||"","org.matrix.msc2873.client_language":n.clientLanguage||""}),a=e,o=0,s=Object.keys(i);o<s.length;o++){var u=s[o],c="$".concat(u).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=new RegExp(c,"g");a=a.replace(l,encodeURIComponent(r(i[u])))}return a},e.exports.toString=r})),parcelRequire.register("60AOo",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WidgetDriver=void 0;var r=parcelRequire("jsWsG");function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,a;return t=e,(i=[{key:"validateCapabilities",value:function(e){return Promise.resolve(new Set)}},{key:"sendEvent",value:function(e,t){return Promise.reject(new Error("Failed to override function"))}},{key:"sendToDevice",value:function(e,t,r){return Promise.reject(new Error("Failed to override function"))}},{key:"readRoomEvents",value:function(e,t,r){return Promise.resolve([])}},{key:"readStateEvents",value:function(e,t,r){return Promise.resolve([])}},{key:"readEventRelations",value:function(e,t,r,n,i,a,o,s){return Promise.resolve({chunk:[]})}},{key:"askOpenID",value:function(e){e.update({state:r.OpenIDRequestState.Blocked})}},{key:"navigate",value:function(e){throw new Error("Navigation is not implemented")}},{key:"getTurnServers",value:function(){throw new Error("TURN server support is not implemented")}}])&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports.WidgetDriver=i})),parcelRequire.register("3tFxP",(function(e,t){var r=parcelRequire("4JAgF"),n=parcelRequire("9HoHC"),i=parcelRequire("8WkQI"),a=parcelRequire("dVhHy"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SyncAccumulator=e.exports.Category=void 0;var s,u,c=o(parcelRequire("abzte")),l=parcelRequire("fKX3v"),f=parcelRequire("5HsbU"),d=parcelRequire("axSuM"),h=parcelRequire("kFcT2"),v=parcelRequire("isqDr");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){return"_localTs"in e&&void 0!==e._localTs}e.exports.Category=s,(u=s||(e.exports.Category=s={})).Invite="invite",u.Leave="leave",u.Join="join";var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e),this.opts=t,(0,c.default)(this,"accountData",{}),(0,c.default)(this,"inviteRooms",{}),(0,c.default)(this,"joinRooms",{}),(0,c.default)(this,"nextBatch",null),this.opts.maxTimelineEntries=this.opts.maxTimelineEntries||50}return(0,n.default)(e,[{key:"accumulate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.accumulateRooms(e,t),this.accumulateAccountData(e),this.nextBatch=e.next_batch}},{key:"accumulateAccountData",value:function(e){var t=this;e.account_data&&e.account_data.events&&e.account_data.events.forEach((function(e){t.accountData[e.type]=e}))}},{key:"accumulateRooms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;e.rooms&&(e.rooms.invite&&Object.keys(e.rooms.invite).forEach((function(n){r.accumulateRoom(n,s.Invite,e.rooms.invite[n],t)})),e.rooms.join&&Object.keys(e.rooms.join).forEach((function(n){r.accumulateRoom(n,s.Join,e.rooms.join[n],t)})),e.rooms.leave&&Object.keys(e.rooms.leave).forEach((function(n){r.accumulateRoom(n,s.Leave,e.rooms.leave[n],t)})))}},{key:"accumulateRoom",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(t){case s.Invite:this.accumulateInviteState(e,r);break;case s.Join:this.inviteRooms[e]&&delete this.inviteRooms[e],this.accumulateJoinState(e,r,n);break;case s.Leave:this.inviteRooms[e]?delete this.inviteRooms[e]:delete this.joinRooms[e];break;default:l.logger.error("Unknown cateogory: ",t)}}},{key:"accumulateInviteState",value:function(e,t){if(t.invite_state&&t.invite_state.events)if(this.inviteRooms[e]){var r=this.inviteRooms[e];t.invite_state.events.forEach((function(e){for(var t=!1,n=0;n<r.invite_state.events.length;n++){var i=r.invite_state.events[n];i.type===e.type&&i.state_key==e.state_key&&(r.invite_state.events[n]=e,t=!0)}t||r.invite_state.events.push(e)}))}else this.inviteRooms[e]={invite_state:t.invite_state}}},{key:"accumulateJoinState",value:function(e,t){var r,n,o,s,u,c,l,p,g=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.joinRooms[e]||(this.joinRooms[e]={_currentState:Object.create(null),_timeline:[],_accountData:Object.create(null),_unreadNotifications:{},_unreadThreadNotifications:{},_summary:{},_readReceipts:{},_threadReadReceipts:{}});var m=this.joinRooms[e];if(t.account_data&&t.account_data.events&&t.account_data.events.forEach((function(e){m._accountData[e.type]=e})),t.unread_notifications&&(m._unreadNotifications=t.unread_notifications),m._unreadThreadNotifications=null!==(r=null!==(n=t[v.UNREAD_THREAD_NOTIFICATIONS.stable])&&void 0!==n?n:t[v.UNREAD_THREAD_NOTIFICATIONS.unstable])&&void 0!==r?r:void 0,t.summary){var y="m.heroes",w="m.invited_member_count",_="m.joined_member_count",S=m._summary,C=t.summary;S[y]=C[y]||S[y],S[_]=C[_]||S[_],S[w]=C[w]||S[w]}if(null===(o=t.ephemeral)||void 0===o||null===(s=o.events)||void 0===s||s.forEach((function(e){e.type===d.EventType.Receipt&&e.content&&Object.keys(e.content).forEach((function(t){Object.entries(e.content[t]).forEach((function(r){var n=(0,a.default)(r,2),o=n[0],s=n[1];if((0,f.isSupportedReceiptType)(o)){var u=!0,c=!1,l=void 0;try{for(var d,v=Object.keys(s)[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var p,g=d.value,$=e.content[t][o][g],y={data:e.content[t][o][g],type:o,eventId:t};if($.thread_id&&$.thread_id!==h.MAIN_ROOM_TIMELINE)m._threadReadReceipts=b(b({},m._threadReadReceipts),{},(0,i.default)({},$.thread_id,b(b({},null!==(p=m._threadReadReceipts[$.thread_id])&&void 0!==p?p:{}),{},(0,i.default)({},g,y))));else m._readReceipts[g]=y}}catch(e){c=!0,l=e}finally{try{u||null==v.return||v.return()}finally{if(c)throw l}}}}))}))})),t.timeline&&t.timeline.limited&&(m._timeline=[]),null===(u=t.state)||void 0===u||null===(c=u.events)||void 0===c||c.forEach((function(e){$(m._currentState,e)})),null===(l=t.timeline)||void 0===l||null===(p=l.events)||void 0===p||p.forEach((function(e,r){var n,i;if($(m._currentState,e),g)i=e;else{void 0!==(i=Object.assign({},e)).unsigned&&(i.unsigned=Object.assign({},i.unsigned));var a=e.unsigned?e.unsigned.age:e.age;void 0!==a&&(i._localTs=Date.now()-a)}m._timeline.push({event:i,token:0===r&&null!==(n=t.timeline.prev_batch)&&void 0!==n?n:null})})),m._timeline.length>this.opts.maxTimelineEntries)for(var k=m._timeline.length-this.opts.maxTimelineEntries,E=k;E<m._timeline.length;E++)if(m._timeline[E].token){m._timeline=m._timeline.slice(E,m._timeline.length);break}}},{key:"getJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,r={join:{},invite:{},leave:{}};Object.keys(this.inviteRooms).forEach((function(e){r.invite[e]=t.inviteRooms[e]})),Object.keys(this.joinRooms).forEach((function(n){var i=t.joinRooms[n],o={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:i._unreadNotifications,unread_thread_notifications:i._unreadThreadNotifications,summary:i._summary};Object.keys(i._accountData).forEach((function(e){o.account_data.events.push(i._accountData[e])}));var s={type:d.EventType.Receipt,room_id:n,content:{}},u=!0,c=!1,l=void 0;try{for(var h,v=Object.entries(i._readReceipts)[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var p=(0,a.default)(h.value,2),b=p[0],m=p[1];s.content[m.eventId]||(s.content[m.eventId]={}),s.content[m.eventId][m.type]||(s.content[m.eventId][m.type]={}),s.content[m.eventId][m.type][b]=m.data}}catch(e){c=!0,l=e}finally{try{u||null==v.return||v.return()}finally{if(c)throw l}}var y=!0,w=!1,_=void 0,S=!0,C=!1,k=void 0;try{for(var E,R=Object.values(i._threadReadReceipts)[Symbol.iterator]();!(S=(E=R.next()).done);S=!0){var x=E.value;try{for(var M,I=Object.entries(x)[Symbol.iterator]();!(y=(M=I.next()).done);y=!0){var T=(0,a.default)(M.value,2),A=T[0],O=T[1];s.content[O.eventId]||(s.content[O.eventId]={}),s.content[O.eventId][O.type]||(s.content[O.eventId][O.type]={}),s.content[O.eventId][O.type][A]=O.data}}catch(e){w=!0,_=e}finally{try{y||null==I.return||I.return()}finally{if(w)throw _}}}}catch(e){C=!0,k=e}finally{try{S||null==R.return||R.return()}finally{if(C)throw k}}Object.keys(s.content).length>0&&o.ephemeral.events.push(s),i._timeline.forEach((function(t){if(!o.timeline.prev_batch){if(!t.token)return;o.timeline.prev_batch=t.token}var r;!e&&g(t.event)?(void 0!==(r=Object.assign({},t.event)).unsigned&&(r.unsigned=Object.assign({},r.unsigned)),delete r._localTs,r.unsigned=r.unsigned||{},r.unsigned.age=Date.now()-t.event._localTs):r=t.event,o.timeline.events.push(r)}));for(var D=Object.create(null),P=o.timeline.events.length-1;P>=0;P--){var q=o.timeline.events[P];if(null!==q.state_key&&void 0!==q.state_key){var L=(0,f.deepCopy)(q);L.unsigned&&(L.unsigned.prev_content&&(L.content=L.unsigned.prev_content),L.unsigned.prev_sender&&(L.sender=L.unsigned.prev_sender)),$(D,L)}}Object.keys(i._currentState).forEach((function(e){Object.keys(i._currentState[e]).forEach((function(t){var r=i._currentState[e][t];D[e]&&D[e][t]&&(r=D[e][t]),o.state.events.push(r)}))})),r.join[n]=o}));var n=[];return Object.keys(this.accountData).forEach((function(e){n.push(t.accountData[e])})),{nextBatch:this.nextBatch,roomsData:r,accountData:n}}},{key:"getNextBatchToken",value:function(){return this.nextBatch}}]),e}();function $(e,t){null!==t.state_key&&void 0!==t.state_key&&t.type&&(e[t.type]||(e[t.type]=Object.create(null)),e[t.type][t.state_key]=t)}e.exports.SyncAccumulator=m})),parcelRequire.register("fwup2",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TimelineWindow=e.exports.TimelineIndex=void 0;var s=o(parcelRequire("abzte")),u=parcelRequire("gFIkm"),c=(parcelRequire("fKX3v"),function(){}),l=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,n.default)(this,e),this.client=t,this.timelineSet=r,(0,s.default)(this,"windowLimit",void 0),(0,s.default)(this,"start",void 0),(0,s.default)(this,"end",void 0),(0,s.default)(this,"eventCount",0),this.windowLimit=i.windowLimit||1e3}return(0,i.default)(e,[{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=this,n=function(n){if(!n)throw new Error("No timeline given to initFields");var i,a=n.getEvents();if(e){if((i=a.findIndex((function(t){return t.getId()===e})))<0)throw new Error("getEventTimeline result didn't include requested event")}else i=a.length;var o=Math.min(a.length,i+Math.ceil(t/2)),s=Math.max(0,o-t);r.start=new f(n,s-n.getBaseIndex()),r.end=new f(n,o-n.getBaseIndex()),r.eventCount=o-s};return this.timelineSet.getTimelineForEvent(e)?(n(this.timelineSet.getTimelineForEvent(e)),Promise.resolve()):e?this.client.getEventTimeline(this.timelineSet,e).then(n):(n(this.timelineSet.getLiveTimeline()),Promise.resolve())}},{key:"getTimelineIndex",value:function(e){var t,r;if(e==u.EventTimeline.BACKWARDS)return null!==(t=this.start)&&void 0!==t?t:null;if(e==u.EventTimeline.FORWARDS)return null!==(r=this.end)&&void 0!==r?r:null;throw new Error("Invalid direction '"+e+"'")}},{key:"extend",value:function(e,t){var r=this.getTimelineIndex(e);if(!r)return c("TimelineWindow: no timeline yet"),!1;var n=e==u.EventTimeline.BACKWARDS?r.retreat(t):r.advance(t);if(n){this.eventCount+=n,c("TimelineWindow: increased cap by "+n+" (now "+this.eventCount+")");var i=this.eventCount-this.windowLimit;return i>0&&this.unpaginate(i,e!=u.EventTimeline.BACKWARDS),!0}return!1}},{key:"canPaginate",value:function(e){var t=this.getTimelineIndex(e);if(!t)return c("TimelineWindow: no timeline yet"),!1;if(e==u.EventTimeline.BACKWARDS){if(t.index>t.minIndex())return!0}else if(t.index<t.maxIndex())return!0;var r=t.timeline.getNeighbouringTimeline(e),n=t.timeline.getPaginationToken(e);return Boolean(r)||Boolean(n)}},{key:"paginate",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=this;return(0,r.default)((function(){var r,s;return(0,a.__generator)(this,(function(a){return(r=o.getTimelineIndex(e))?r.pendingPaginate?[2,r.pendingPaginate]:o.extend(e,t)?[2,!0]:n&&0!==i?r.timeline.getPaginationToken(e)?(c("TimelineWindow: starting request"),s=o.client.paginateEventTimeline(r.timeline,{backwards:e==u.EventTimeline.BACKWARDS,limit:t}).finally((function(){r.pendingPaginate=void 0})).then((function(r){return c("TimelineWindow: request completed with result "+r),r?o.paginate(e,t,!0,i-1):o.paginate(e,t,!1,0)})),r.pendingPaginate=s,[2,s]):(c("TimelineWindow: no token"),[2,!1]):[2,!1]:(c("TimelineWindow: no timeline yet"),[2,!1])}))}))()}},{key:"unpaginate",value:function(e,t){var r=t?this.start:this.end;if(!r)throw new Error("Attempting to unpaginate startOfTimeline=".concat(t," but don't have this direction"));if(e>this.eventCount||e<0)throw new Error("Attemting to unpaginate ".concat(e," events, but only have ").concat(this.eventCount," in the timeline"));for(;e>0;){var n=t?r.advance(e):r.retreat(e);if(n<=0)throw new Error("Unable to unpaginate any further, but still have "+this.eventCount+" events");e-=n,this.eventCount-=n,c("TimelineWindow.unpaginate: dropped "+n+" (now "+this.eventCount+")")}}},{key:"getEvents",value:function(){if(!this.start)return[];for(var e=[],t=this.start.timeline;;){var r,n,i=t.getEvents(),a=0,o=i.length;t===this.start.timeline&&(a=this.start.index+t.getBaseIndex()),t===(null===(r=this.end)||void 0===r?void 0:r.timeline)&&(o=this.end.index+t.getBaseIndex());for(var s=a;s<o;s++)e.push(i[s]);if(t===(null===(n=this.end)||void 0===n?void 0:n.timeline))break;t=t.getNeighbouringTimeline(u.EventTimeline.FORWARDS)}return e}}]),e}();e.exports.TimelineWindow=l;var f=function(){function e(t,r){(0,n.default)(this,e),this.timeline=t,this.index=r,(0,s.default)(this,"pendingPaginate",void 0)}return(0,i.default)(e,[{key:"minIndex",value:function(){return-1*this.timeline.getBaseIndex()}},{key:"maxIndex",value:function(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()}},{key:"advance",value:function(e){if(!e)return 0;var t;if(e<0){if((t=Math.max(e,this.minIndex()-this.index))<0)return this.index+=t,t}else if((t=Math.min(e,this.maxIndex()-this.index))>0)return this.index+=t,t;var r=this.timeline.getNeighbouringTimeline(e<0?u.EventTimeline.BACKWARDS:u.EventTimeline.FORWARDS);return r?(this.timeline=r,this.index=e<0?this.maxIndex():this.minIndex(),c("paginate: switched to new neighbour"),this.advance(e)):0}},{key:"retreat",value:function(e){return-1*this.advance(-1*e)}}]),e}();e.exports.TimelineIndex=f})),parcelRequire.register("4TWlS",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("gNsil"),s=parcelRequire("9PuT7"),u=parcelRequire("8rJSp"),c=parcelRequire("cDTRq"),l=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.InteractiveAuth=e.exports.AuthType=void 0;var f,d,h=l(parcelRequire("abzte")),v=parcelRequire("fKX3v"),p=parcelRequire("5HsbU"),b="m.login.email.identity",g="m.login.msisdn";e.exports.AuthType=f,(d=f||(e.exports.AuthType=f={})).Password="m.login.password",d.Recaptcha="m.login.recaptcha",d.Terms="m.login.terms",d.Email="m.login.email.identity",d.Msisdn="m.login.msisdn",d.Sso="m.login.sso",d.SsoUnstable="org.matrix.login.sso",d.Dummy="m.login.dummy",d.RegistrationToken="m.login.registration_token",d.UnstableRegistrationToken="org.matrix.msc3231.login.registration_token";var m=function(e){(0,o.default)(n,e);var t=(0,u.default)(n);function n(e,a,o){var s;return(0,i.default)(this,n),(s=t.call(this,e)).required_stages=a,s.flows=o,(0,h.default)((0,r.default)(s),"name","NoAuthFlowFoundError"),s}return n}((0,s.default)(Error)),$=function(){function e(t){(0,i.default)(this,e),(0,h.default)(this,"matrixClient",void 0),(0,h.default)(this,"inputs",void 0),(0,h.default)(this,"clientSecret",void 0),(0,h.default)(this,"requestCallback",void 0),(0,h.default)(this,"busyChangedCallback",void 0),(0,h.default)(this,"stateUpdatedCallback",void 0),(0,h.default)(this,"requestEmailTokenCallback",void 0),(0,h.default)(this,"data",void 0),(0,h.default)(this,"emailSid",void 0),(0,h.default)(this,"requestingEmailToken",!1),(0,h.default)(this,"attemptAuthDeferred",null),(0,h.default)(this,"chosenFlow",null),(0,h.default)(this,"currentStage",null),(0,h.default)(this,"emailAttempt",1),(0,h.default)(this,"submitPromise",null);var r=this;(0,h.default)(this,"requestEmailToken",(0,n.default)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:if(r.requestingEmailToken)return[3,5];v.logger.trace("Requesting email token. Attempt: "+r.emailAttempt),r.requestingEmailToken=!0,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,r.requestEmailTokenCallback(r.inputs.emailAddress,r.clientSecret,r.emailAttempt++,r.data.session)];case 2:return e=t.sent(),r.emailSid=e.sid,v.logger.trace("Email token request succeeded"),[3,4];case 3:return r.requestingEmailToken=!1,[7];case 4:return[3,6];case 5:v.logger.warn("Could not request email token: Already requesting"),t.label=6;case 6:return[2]}}))}))),this.matrixClient=t.matrixClient,this.data=t.authData||{},this.requestCallback=t.doRequest,this.busyChangedCallback=t.busyChanged,this.stateUpdatedCallback=t.stateUpdated||t.startAuthStage,this.requestEmailTokenCallback=t.requestEmailToken,this.inputs=t.inputs||{},t.sessionId&&(this.data.session=t.sessionId),this.clientSecret=t.clientSecret||this.matrixClient.generateClientSecret(),this.emailSid=t.emailSid}return(0,a.default)(e,[{key:"attemptAuth",value:function(){var e,t=this;this.attemptAuthDeferred=(0,p.defer)();var r=this.attemptAuthDeferred.promise;if(null!==(e=this.data)&&void 0!==e&&e.flows)this.startNextAuthStage();else{var n;null===(n=this.busyChangedCallback)||void 0===n||n.call(this,!0);var i=this.data.session?{session:this.data.session}:null;this.doRequest(i).finally((function(){var e;null===(e=t.busyChangedCallback)||void 0===e||e.call(t,!1)}))}return r}},{key:"poll",value:function(){var e=this;return(0,n.default)((function(){var t,r,n;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return e.data.session&&e.attemptAuthDeferred?e.submitPromise?[2]:(t={},e.currentStage!=b?[3,2]:e.emailSid?(r={sid:e.emailSid,client_secret:e.clientSecret},[4,e.matrixClient.doesServerRequireIdServerParam()]):[3,2]):[2];case 1:i.sent()&&(n=new URL(e.matrixClient.getIdentityServerUrl()),r.id_server=n.host),t={type:b,threepid_creds:r,threepidCreds:r},i.label=2;case 2:return e.submitAuthDict(t,!0),[2]}}))}))()}},{key:"getSessionId",value:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.session}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getStageParams",value:function(e){var t;return null===(t=this.data.params)||void 0===t?void 0:t[e]}},{key:"getChosenFlow",value:function(){return this.chosenFlow}},{key:"submitAuthDict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return(0,n.default)((function(){var n,i,a;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:if(!r.attemptAuthDeferred)throw new Error("submitAuthDict() called before attemptAuth()");t||null===(n=r.busyChangedCallback)||void 0===n||n.call(r,!0),o.label=1;case 1:if(!r.submitPromise)return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,r.submitPromise];case 3:return o.sent(),[3,5];case 4:return o.sent(),[3,5];case 5:return[3,1];case 6:r.data.session?(i={session:r.data.session},Object.assign(i,e)):i=e,o.label=7;case 7:return o.trys.push([7,,9,10]),r.submitPromise=r.doRequest(i,t),[4,r.submitPromise];case 8:return o.sent(),[3,10];case 9:return r.submitPromise=null,t||null===(a=r.busyChangedCallback)||void 0===a||a.call(r,!1),[7];case 10:return[2]}}))}))()}},{key:"getEmailSid",value:function(){return this.emailSid}},{key:"setEmailSid",value:function(e){this.emailSid=e}},{key:"doRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return(0,n.default)((function(){var n,i,a,o,s,u,l,d,h;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,7]),[4,r.requestCallback(e,t)];case 1:return n=c.sent(),r.attemptAuthDeferred.resolve(n),r.attemptAuthDeferred=null,[3,7];case 2:i=c.sent(),u=null!==(a=null===(o=i.data)||void 0===o?void 0:o.flows)&&void 0!==a?a:null,l=r.data.flows||Boolean(u),401===i.httpStatus&&i.data&&l||(t?v.logger.log("Background poll request failed doing UI auth: ignoring",i):null===(d=r.attemptAuthDeferred)||void 0===d||d.reject(i)),i.data||(i.data={}),i.data.flows||i.data.completed||i.data.session||(i.data.flows=r.data.flows,i.data.completed=r.data.completed,i.data.session=r.data.session),r.data=i.data;try{r.startNextAuthStage()}catch(e){return r.attemptAuthDeferred.reject(e),r.attemptAuthDeferred=null,[2]}if(r.emailSid||null===(s=r.chosenFlow)||void 0===s||!s.stages.includes(f.Email))return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,r.requestEmailToken()];case 4:return c.sent(),[3,6];case 5:return h=c.sent(),r.attemptAuthDeferred.reject(h),r.attemptAuthDeferred=null,[3,6];case 6:return[3,7];case 7:return[2]}}))}))()}},{key:"startNextAuthStage",value:function(){var e,t,r,n,i=this.chooseStage();if(!i)throw new Error("No incomplete flows from the server");(this.currentStage=i,i!==f.Dummy)?null!==(e=this.data)&&void 0!==e&&e.errcode||null!==(t=this.data)&&void 0!==t&&t.error?this.stateUpdatedCallback(i,{errcode:(null===(r=this.data)||void 0===r?void 0:r.errcode)||"",error:(null===(n=this.data)||void 0===n?void 0:n.error)||""}):this.stateUpdatedCallback(i,i===b?{emailSid:this.emailSid}:{}):this.submitAuthDict({type:"m.login.dummy"})}},{key:"chooseStage",value:function(){null===this.chosenFlow&&(this.chosenFlow=this.chooseFlow()),v.logger.log("Active flow => %s",JSON.stringify(this.chosenFlow));var e=this.firstUncompletedStage(this.chosenFlow);return v.logger.log("Next stage: %s",e),e}},{key:"chooseFlow",value:function(){var e=this.data.flows||[],t=Boolean(this.inputs.emailAddress)||Boolean(this.emailSid),r=Boolean(this.inputs.phoneCountry)&&Boolean(this.inputs.phoneNumber),n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=!1,l=!1,f=!0,d=!1,h=void 0;try{for(var v,p=u.stages[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var $=v.value;$===b?c=!0:$==g&&(l=!0)}}catch(e){d=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(d)throw h}}if(c==t&&l==r)return u}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var y=[];throw t&&y.push(b),r&&y.push(g),new m("No appropriate authentication flow found",y,e)}},{key:"firstUncompletedStage",value:function(e){var t=this.data.completed||[];return e.stages.find((function(e){return!t.includes(e)}))}}]),e}();e.exports.InteractiveAuth=$})),parcelRequire.register("5a8KD",(function(e,t){var r=parcelRequire("aPYZr"),n=parcelRequire("3mpD3"),i=parcelRequire("4JAgF"),a=parcelRequire("9HoHC"),o=parcelRequire("aPvD2"),s=parcelRequire("aBvOn"),u=parcelRequire("gNsil"),c=parcelRequire("dVhHy"),l=parcelRequire("caN7I"),f=parcelRequire("8rJSp"),d=parcelRequire("cDTRq"),h=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IndexedDBStore=void 0;var v=h(parcelRequire("abzte")),p=parcelRequire("gFRa7"),b=parcelRequire("b9HO4"),g=parcelRequire("agxcZ"),m=parcelRequire("5Ewnj"),$=parcelRequire("dlOEf"),y=parcelRequire("fKX3v"),w=parcelRequire("4Eh2q"),_=function(e){(0,u.default)(h,e);var t=(0,f.default)(h);function h(e){var n;if((0,i.default)(this,h),n=t.call(this,e),(0,v.default)((0,r.default)(n),"backend",void 0),(0,v.default)((0,r.default)(n),"startedUp",!1),(0,v.default)((0,r.default)(n),"syncTs",0),(0,v.default)((0,r.default)(n),"userModifiedMap",{}),(0,v.default)((0,r.default)(n),"emitter",new w.TypedEventEmitter),(0,v.default)((0,r.default)(n),"on",n.emitter.on.bind(n.emitter)),(0,v.default)((0,r.default)(n),"getSavedSync",n.degradable((function(){return n.backend.getSavedSync()}),"getSavedSync")),(0,v.default)((0,r.default)(n),"isNewlyCreated",n.degradable((function(){return n.backend.isNewlyCreated()}),"isNewlyCreated")),(0,v.default)((0,r.default)(n),"getSavedSyncToken",n.degradable((function(){return n.backend.getNextBatchToken()}),"getSavedSyncToken")),(0,v.default)((0,r.default)(n),"deleteAllData",n.degradable((function(){return(0,o.default)(((0,r.default)(n),(0,s.default)(h.prototype)),"deleteAllData",n).call(n),n.backend.clearDatabase().then((function(){y.logger.log("Deleted indexeddb data.")}),(function(e){throw y.logger.error("Failed to delete indexeddb data: ".concat(e)),e}))}))),(0,v.default)((0,r.default)(n),"reallySave",n.degradable((function(){n.syncTs=Date.now();var e=[],t=!0,r=!1,i=void 0;try{for(var a,o=n.getUsers()[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;n.userModifiedMap[s.userId]!==s.getLastModifiedTime()&&(s.events.presence&&(e.push([s.userId,s.events.presence.event]),n.userModifiedMap[s.userId]=s.getLastModifiedTime()))}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n.backend.syncToDatabase(e)}))),(0,v.default)((0,r.default)(n),"setSyncData",n.degradable((function(e){return n.backend.setSyncData(e)}),"setSyncData")),(0,v.default)((0,r.default)(n),"getOutOfBandMembers",n.degradable((function(e){return n.backend.getOutOfBandMembers(e)}),"getOutOfBandMembers")),(0,v.default)((0,r.default)(n),"setOutOfBandMembers",n.degradable((function(e,t){return(0,o.default)(((0,r.default)(n),(0,s.default)(h.prototype)),"setOutOfBandMembers",n).call(n,e,t),n.backend.setOutOfBandMembers(e,t)}),"setOutOfBandMembers")),(0,v.default)((0,r.default)(n),"clearOutOfBandMembers",n.degradable((function(e){return(0,o.default)(((0,r.default)(n),(0,s.default)(h.prototype)),"clearOutOfBandMembers",n).call(n,e),n.backend.clearOutOfBandMembers(e)}),"clearOutOfBandMembers")),(0,v.default)((0,r.default)(n),"getClientOptions",n.degradable((function(){return n.backend.getClientOptions()}),"getClientOptions")),(0,v.default)((0,r.default)(n),"storeClientOptions",n.degradable((function(e){return(0,o.default)(((0,r.default)(n),(0,s.default)(h.prototype)),"storeClientOptions",n).call(n,e),n.backend.storeClientOptions(e)}),"storeClientOptions")),!e.indexedDB)throw new Error("Missing required option: indexedDB");return e.workerFactory?n.backend=new g.RemoteIndexedDBStoreBackend(e.workerFactory,e.dbName):n.backend=new b.LocalIndexedDBStoreBackend(e.indexedDB,e.dbName),n}return(0,a.default)(h,[{key:"startup",value:function(){var e=this;return this.startedUp?(y.logger.log("IndexedDBStore.startup: already started"),Promise.resolve()):(y.logger.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect().then((function(){return y.logger.log("IndexedDBStore.startup: loading presence events"),e.backend.getUserPresenceEvents()})).then((function(t){y.logger.log("IndexedDBStore.startup: processing presence events"),t.forEach((function(t){var r=(0,c.default)(t,2),n=r[0],i=r[1],a=new m.User(n);i&&a.setPresenceEvent(new $.MatrixEvent(i)),e.userModifiedMap[a.userId]=a.getLastModifiedTime(),e.storeUser(a)}))})))}},{key:"wantsSave",value:function(){return Date.now()-this.syncTs>3e5}},{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||this.wantsSave()?this.reallySave():Promise.resolve()}},{key:"degradable",value:function(e,t){var r=t?(0,o.default)((0,s.default)(h.prototype),t,this):null,i=this;return(0,n.default)((function(){var t,n,a,o,s,u,c,f=arguments;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:for(t=f.length,n=new Array(t),a=0;a<t;a++)n[a]=f[a];d.label=1;case 1:return d.trys.push([1,3,,8]),[4,(o=e).call.apply(o,[i].concat((0,l.default)(n)))];case 2:return[2,d.sent()];case 3:s=d.sent(),y.logger.error("IndexedDBStore failure, degrading to MemoryStore",s),i.emitter.emit("degraded",s),d.label=4;case 4:return d.trys.push([4,6,,7]),y.logger.log("IndexedDBStore trying to delete degraded data"),[4,i.backend.clearDatabase()];case 5:return d.sent(),y.logger.log("IndexedDBStore delete after degrading succeeded"),[3,7];case 6:return c=d.sent(),y.logger.warn("IndexedDBStore delete after degrading failed",c),[3,7];case 7:return r?[2,(u=r).call.apply(u,[i].concat((0,l.default)(n)))]:[3,8];case 8:return[2]}}))}))}},{key:"getPendingEvents",value:function(e){var t=this,r=this;return(0,n.default)((function(){var n;return(0,d.__generator)(this,(function(i){if(!r.localStorage)return[2,(0,o.default)((0,s.default)(h.prototype),"getPendingEvents",t).call(r,e)];if(n=r.localStorage.getItem(S(e)))try{return[2,JSON.parse(n)]}catch(e){y.logger.error("Could not parse persisted pending events",e)}return[2,[]]}))}))()}},{key:"setPendingEvents",value:function(e,t){var r=this,i=this;return(0,n.default)((function(){return(0,d.__generator)(this,(function(n){return i.localStorage?(t.length>0?i.localStorage.setItem(S(e),JSON.stringify(t)):i.localStorage.removeItem(S(e)),[2]):[2,(0,o.default)((0,s.default)(h.prototype),"setPendingEvents",r).call(i,e,t)]}))}))()}},{key:"saveToDeviceBatches",value:function(e){return this.backend.saveToDeviceBatches(e)}},{key:"getOldestToDeviceBatch",value:function(){return this.backend.getOldestToDeviceBatch()}},{key:"removeToDeviceBatch",value:function(e){return this.backend.removeToDeviceBatch(e)}}],[{key:"exists",value:function(e,t){return b.LocalIndexedDBStoreBackend.exists(e,t)}}]),h}(p.MemoryStore);function S(e){return"mx_pending_events_".concat(e)}e.exports.IndexedDBStore=_})),parcelRequire.register("b9HO4",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("dVhHy"),o=parcelRequire("caN7I"),s=parcelRequire("cDTRq"),u=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LocalIndexedDBStoreBackend=void 0;var c=u(parcelRequire("abzte")),l=parcelRequire("3tFxP"),f=p(parcelRequire("5HsbU")),d=p(parcelRequire("gX6cs")),h=parcelRequire("fKX3v");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var b=[function(e){e.createObjectStore("users",{keyPath:["userId"]}),e.createObjectStore("accountData",{keyPath:["type"]}),e.createObjectStore("sync",{keyPath:["clobber"]})},function(e){e.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]}).createIndex("room","room_id")},function(e){e.createObjectStore("client_options",{keyPath:["clobber"]})},function(e){e.createObjectStore("to_device_queue",{autoIncrement:!0})}],g=b.length;function m(e,t,r){var n=e.openCursor(t);return new Promise((function(e,t){var i=[];n.onerror=function(){t(new Error("Query failed: "+n.error))},n.onsuccess=function(){var t=n.result;t?(i.push(r(t)),t.continue()):e(i)}}))}function $(e){return new Promise((function(t,r){e.oncomplete=function(e){t(e)},e.onerror=function(){r(e.error)}}))}function y(e){return new Promise((function(t,r){e.onsuccess=function(e){t(e)},e.onerror=function(){r(e.error)}}))}function w(e){return y(e).then((function(t){return e.result}))}var _=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";(0,n.default)(this,e),this.indexedDB=t,(0,c.default)(this,"dbName",void 0),(0,c.default)(this,"syncAccumulator",void 0),(0,c.default)(this,"db",void 0),(0,c.default)(this,"disconnected",!0),(0,c.default)(this,"_isNewlyCreated",!1),(0,c.default)(this,"isPersisting",!1),(0,c.default)(this,"pendingUserPresenceData",[]),this.dbName="matrix-js-sdk:"+r,this.syncAccumulator=new l.SyncAccumulator}return(0,i.default)(e,[{key:"connect",value:function(){var e=this;if(!this.disconnected)return h.logger.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),Promise.resolve();this.disconnected=!1,h.logger.log("LocalIndexedDBStoreBackend.connect: connecting...");var t=this.indexedDB.open(this.dbName,g);t.onupgradeneeded=function(r){var n=t.result,i=r.oldVersion;h.logger.log("LocalIndexedDBStoreBackend.connect: upgrading from ".concat(i)),i<1&&(e._isNewlyCreated=!0),b.forEach((function(e,t){i<=t&&e(n)}))},t.onblocked=function(){h.logger.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},h.logger.log("LocalIndexedDBStoreBackend.connect: awaiting connection...");var n=this;return y(t).then((0,r.default)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return h.logger.log("LocalIndexedDBStoreBackend.connect: connected"),n.db=t.result,n.db.onversionchange=function(){var e;null===(e=n.db)||void 0===e||e.close()},[4,n.init()];case 1:return e.sent(),[2]}}))})))}},{key:"isNewlyCreated",value:function(){return Promise.resolve(this._isNewlyCreated)}},{key:"init",value:function(){var e=this;return Promise.all([this.loadAccountData(),this.loadSyncData()]).then((function(t){var r=(0,a.default)(t,2),n=r[0],i=r[1];h.logger.log("LocalIndexedDBStoreBackend: loaded initial data"),e.syncAccumulator.accumulate({next_batch:i.nextBatch,rooms:i.roomsData,account_data:{events:n}},!0)}))}},{key:"getOutOfBandMembers",value:function(e){var t=this;return new Promise((function(r,n){var i=t.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),a=IDBKeyRange.only(e),o=i.openCursor(a),s=[],u=!1;o.onsuccess=function(){var e=o.result;if(!e)return s.length||u?r(s):r(null);var t=e.value;t.oob_written?u=!0:s.push(t),e.continue()},o.onerror=function(e){n(e)}})).then((function(t){return h.logger.log("LL: got ".concat(null==t?void 0:t.length," membershipEvents from storage for room ").concat(e," ...")),t}))}},{key:"setOutOfBandMembers",value:function(e,t){var n=this;return(0,r.default)((function(){var r,i,a;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:return h.logger.log("LL: backend about to store ".concat(t.length)+" members for ".concat(e)),r=n.db.transaction(["oob_membership_events"],"readwrite"),i=r.objectStore("oob_membership_events"),t.forEach((function(e){i.put(e)})),a={room_id:e,oob_written:!0,state_key:0},i.put(a),[4,$(r)];case 1:return o.sent(),h.logger.log("LL: backend done storing for ".concat(e,"!")),[2]}}))}))()}},{key:"clearOutOfBandMembers",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,o,u,c,l,f,d,v,p,b;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return r=t.db.transaction(["oob_membership_events"],"readonly"),n=r.objectStore("oob_membership_events"),i=n.index("room"),o=IDBKeyRange.only(e),u=w(i.openKeyCursor(o,"next")).then((function(e){return(null==e?void 0:e.primaryKey)[1]})),c=w(i.openKeyCursor(o,"prev")).then((function(e){return(null==e?void 0:e.primaryKey)[1]})),[4,Promise.all([u,c])];case 1:return l=a.default.apply(void 0,[s.sent(),2]),f=l[0],d=l[1],v=t.db.transaction(["oob_membership_events"],"readwrite"),p=v.objectStore("oob_membership_events"),b=IDBKeyRange.bound([e,f],[e,d]),h.logger.log("LL: Deleting all users + marker in storage for room ".concat(e,", with key range:"),[e,f],[e,d]),[4,(g=p.delete(b),new Promise((function(e,t){g.onsuccess=function(){return e(g)},g.onerror=function(e){return t(e)}})))];case 2:return s.sent(),[2]}var g}))}))()}},{key:"clearDatabase",value:function(){var e=this;return new Promise((function(t){h.logger.log("Removing indexeddb instance: ".concat(e.dbName));var r=e.indexedDB.deleteDatabase(e.dbName);r.onblocked=function(){h.logger.log("can't yet delete indexeddb ".concat(e.dbName," because it is open elsewhere"))},r.onerror=function(){h.logger.warn("unable to delete js-sdk store indexeddb: ".concat(r.error)),t()},r.onsuccess=function(){h.logger.log("Removed indexeddb instance: ".concat(e.dbName)),t()}}))}},{key:"getSavedSync",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.syncAccumulator.getJSON();return t.nextBatch?e?Promise.resolve(f.deepCopy(t)):Promise.resolve(t):Promise.resolve(null)}},{key:"getNextBatchToken",value:function(){return Promise.resolve(this.syncAccumulator.getNextBatchToken())}},{key:"setSyncData",value:function(e){var t=this;return Promise.resolve().then((function(){t.syncAccumulator.accumulate(e)}))}},{key:"syncToDatabase",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:if(t.isPersisting)return h.logger.warn("Skipping syncToDatabase() as persist already in flight"),(r=t.pendingUserPresenceData).push.apply(r,(0,o.default)(e)),[2];(n=e).unshift.apply(n,(0,o.default)(t.pendingUserPresenceData)),t.isPersisting=!0,a.label=1;case 1:return a.trys.push([1,,3,4]),i=t.syncAccumulator.getJSON(!0),[4,Promise.all([t.persistUserPresenceEvents(e),t.persistAccountData(i.accountData),t.persistSyncData(i.nextBatch,i.roomsData)])];case 2:return a.sent(),[3,4];case 3:return t.isPersisting=!1,[7];case 4:return[2]}}))}))()}},{key:"persistSyncData",value:function(e,t){var r=this;return h.logger.log("Persisting sync data up to",e),f.promiseTry((function(){var n=r.db.transaction(["sync"],"readwrite");return n.objectStore("sync").put({clobber:"-",nextBatch:e,roomsData:t}),$(n).then((function(){h.logger.log("Persisted sync data up to",e)}))}))}},{key:"persistAccountData",value:function(e){var t=this;return f.promiseTry((function(){var r=t.db.transaction(["accountData"],"readwrite"),n=r.objectStore("accountData"),i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n.put(c)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return $(r).then()}))}},{key:"persistUserPresenceEvents",value:function(e){var t=this;return f.promiseTry((function(){var r=t.db.transaction(["users"],"readwrite"),n=r.objectStore("users"),i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n.put({userId:c[0],event:c[1]})}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return $(r).then()}))}},{key:"getUserPresenceEvents",value:function(){var e=this;return f.promiseTry((function(){return m(e.db.transaction(["users"],"readonly").objectStore("users"),void 0,(function(e){return[e.value.userId,e.value.event]}))}))}},{key:"loadAccountData",value:function(){var e=this;return h.logger.log("LocalIndexedDBStoreBackend: loading account data..."),f.promiseTry((function(){return m(e.db.transaction(["accountData"],"readonly").objectStore("accountData"),void 0,(function(e){return e.value})).then((function(e){return h.logger.log("LocalIndexedDBStoreBackend: loaded account data"),e}))}))}},{key:"loadSyncData",value:function(){var e=this;return h.logger.log("LocalIndexedDBStoreBackend: loading sync data..."),f.promiseTry((function(){return m(e.db.transaction(["sync"],"readonly").objectStore("sync"),void 0,(function(e){return e.value})).then((function(e){return h.logger.log("LocalIndexedDBStoreBackend: loaded sync data"),e.length>1&&h.logger.warn("loadSyncData: More than 1 sync row found."),e.length>0?e[0]:{}}))}))}},{key:"getClientOptions",value:function(){var e=this;return Promise.resolve().then((function(){return m(e.db.transaction(["client_options"],"readonly").objectStore("client_options"),void 0,(function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.options})).then((function(e){return e[0]}))}))}},{key:"storeClientOptions",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return r=t.db.transaction(["client_options"],"readwrite"),r.objectStore("client_options").put({clobber:"-",options:e}),[4,$(r)];case 1:return n.sent(),[2]}}))}))()}},{key:"saveToDeviceBatches",value:function(e){var t=this;return(0,r.default)((function(){var r,n,i,a,o,u,c,l;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:r=t.db.transaction(["to_device_queue"],"readwrite"),n=r.objectStore("to_device_queue"),i=!0,a=!1,o=void 0;try{for(u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)l=c.value,n.add(l)}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return[4,$(r)];case 1:return s.sent(),[2]}}))}))()}},{key:"getOldestToDeviceBatch",value:function(){var e=this;return(0,r.default)((function(){var t,r,n;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return t=e.db.transaction(["to_device_queue"],"readonly"),[4,w(t.objectStore("to_device_queue").openCursor())];case 1:return(r=i.sent())?(n=r.value,[2,{id:r.key,txnId:n.txnId,eventType:n.eventType,batch:n.batch}]):[2,null]}}))}))()}},{key:"removeToDeviceBatch",value:function(e){var t=this;return(0,r.default)((function(){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return r=t.db.transaction(["to_device_queue"],"readwrite"),r.objectStore("to_device_queue").delete(e),[4,$(r)];case 1:return n.sent(),[2]}}))}))()}}],[{key:"exists",value:function(e,t){return t="matrix-js-sdk:"+(t||"default"),d.exists(e,t)}}]),e}();e.exports.LocalIndexedDBStoreBackend=_})),parcelRequire.register("agxcZ",(function(e,t){var r=parcelRequire("3mpD3"),n=parcelRequire("4JAgF"),i=parcelRequire("9HoHC"),a=parcelRequire("cDTRq"),o=parcelRequire("hKgVN");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RemoteIndexedDBStoreBackend=void 0;var s=o(parcelRequire("abzte")),u=parcelRequire("fKX3v"),c=parcelRequire("5HsbU"),l=function(){function e(t,r){var i=this;(0,n.default)(this,e),this.workerFactory=t,this.dbName=r,(0,s.default)(this,"worker",void 0),(0,s.default)(this,"nextSeq",0),(0,s.default)(this,"inFlight",{}),(0,s.default)(this,"startPromise",void 0),(0,s.default)(this,"onWorkerMessage",(function(e){var t=e.data;if("cmd_success"==t.command||"cmd_fail"==t.command){if(void 0===t.seq)return void u.logger.error("Got reply from worker with no seq");var r=i.inFlight[t.seq];if(void 0===r)return void u.logger.error("Got reply for unknown seq "+t.seq);if(delete i.inFlight[t.seq],"cmd_success"==t.command)r.resolve(t.result);else{var n=new Error(t.error.message);n.name=t.error.name,r.reject(n)}}else u.logger.warn("Unrecognised message from worker: ",t)}))}return(0,i.default)(e,[{key:"connect",value:function(){var e=this;return this.ensureStarted().then((function(){return e.doCmd("connect")}))}},{key:"clearDatabase",value:function(){var e=this;return this.ensureStarted().then((function(){return e.doCmd("clearDatabase")}))}},{key:"isNewlyCreated",value:function(){return this.doCmd("isNewlyCreated")}},{key:"getSavedSync",value:function(){return this.doCmd("getSavedSync")}},{key:"getNextBatchToken",value:function(){return this.doCmd("getNextBatchToken")}},{key:"setSyncData",value:function(e){return this.doCmd("setSyncData",[e])}},{key:"syncToDatabase",value:function(e){return this.doCmd("syncToDatabase",[e])}},{key:"getOutOfBandMembers",value:function(e){return this.doCmd("getOutOfBandMembers",[e])}},{key:"setOutOfBandMembers",value:function(e,t){return this.doCmd("setOutOfBandMembers",[e,t])}},{key:"clearOutOfBandMembers",value:function(e){return this.doCmd("clearOutOfBandMembers",[e])}},{key:"getClientOptions",value:function(){return this.doCmd("getClientOptions")}},{key:"storeClientOptions",value:function(e){return this.doCmd("storeClientOptions",[e])}},{key:"getUserPresenceEvents",value:function(){return this.doCmd("getUserPresenceEvents")}},{key:"saveToDeviceBatches",value:function(e){var t=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(r){return[2,t.doCmd("saveToDeviceBatches",[e])]}))}))()}},{key:"getOldestToDeviceBatch",value:function(){var e=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(t){return[2,e.doCmd("getOldestToDeviceBatch")]}))}))()}},{key:"removeToDeviceBatch",value:function(e){var t=this;return(0,r.default)((function(){return(0,a.__generator)(this,(function(r){return[2,t.doCmd("removeToDeviceBatch",[e])]}))}))()}},{key:"ensureStarted",value:function(){return this.startPromise||(this.worker=this.workerFactory(),this.worker.onmessage=this.onWorkerMessage,this.startPromise=this.doCmd("setupWorker",[this.dbName]).then((function(){u.logger.log("IndexedDB worker is ready")}))),this.startPromise}},{key:"doCmd",value:function(e,t){var r=this;return Promise.resolve().then((function(){var n,i=r.nextSeq++,a=(0,c.defer)();return r.inFlight[i]=a,null===(n=r.worker)||void 0===n||n.postMessage({command:e,seq:i,args:t}),a.promise}))}}]),e}();e.exports.RemoteIndexedDBStoreBackend=l})),parcelRequire.register("f5ChU",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),parcelRequire.register("498FS",(function(e,t){var r,n=parcelRequire("d2KzW");e.exports.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},e.exports.save=function(t){try{t?e.exports.storage.setItem("debug",t):e.exports.storage.removeItem("debug")}catch(e){}},e.exports.load=function(){var t;try{t=e.exports.storage.getItem("debug")}catch(e){}!t&&void 0!==n&&"env"in n&&(t=void 0);return t},e.exports.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.exports.storage=function(){try{return localStorage}catch(e){}}(),e.exports.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),e.exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports.log=console.debug||console.log||function(){},e.exports=parcelRequire("j1Kxb")(e.exports),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),parcelRequire.register("j1Kxb",(function(e,t){var r=parcelRequire("caN7I");e.exports=function(e){var t=function(e,t){var r=i(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r},n=function(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")};function i(e){var r,n,a,o=null;function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(s.enabled){var a=s,o=Number(new Date),u=o-(r||o);a.diff=u,a.prev=r,a.curr=o,r=o,t[0]=i.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";c++;var n=i.formatters[r];if("function"==typeof n){var o=t[c];e=n.call(a,o),t.splice(c,1),c--}return e})),i.formatArgs.call(a,t);var l=a.log||i.log;l.apply(a,t)}}return s.namespace=e,s.useColors=i.useColors(),s.color=i.selectColor(e),s.extend=t,s.destroy=i.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(n!==i.namespaces&&(n=i.namespaces,a=i.enabled(e)),a)},set:function(e){o=e}}),"function"==typeof i.init&&i.init(s),s}return i.debug=i,i.default=i,i.coerce=function(e){return e instanceof Error?e.stack||e.message:e},i.disable=function(){var e=(0,r.default)(i.names.map(n)).concat((0,r.default)(i.skips.map(n).map((function(e){return"-"+e})))).join(",");return i.enable(""),e},i.enable=function(e){var t;i.save(e),i.namespaces=e,i.names=[],i.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$")))},i.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=i.skips.length;t<r;t++)if(i.skips[t].test(e))return!1;for(t=0,r=i.names.length;t<r;t++)if(i.names[t].test(e))return!0;return!1},i.humanize=parcelRequire("7ecjI"),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(t){i[t]=e[t]})),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return i.colors[Math.abs(t)%i.colors.length]},i.enable(i.load()),i}})),parcelRequire.register("7ecjI",(function(e,t){var r=parcelRequire("dCPLc"),n=1e3,i=6e4,a=36e5,o=864e5,s=6048e5,u=315576e5;function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var l,f,d=void 0===e?"undefined":(0,r.default)(e);if("string"===d&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*u;case"weeks":case"week":case"w":return r*s;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*a;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===d&&isFinite(e))return t.long?(l=e,(f=Math.abs(l))>=o?c(l,f,o,"day"):f>=a?c(l,f,a,"hour"):f>=i?c(l,f,i,"minute"):f>=n?c(l,f,n,"second"):l+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=a?Math.round(e/a)+"h":t>=i?Math.round(e/i)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),parcelRequire.register("azd2b",(function(e,t){var r=parcelRequire("dCPLc");(function(){var n,i=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},a=function(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n},o=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},s=function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e},u=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0},c=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a},l=function(e,t){return!!(null==e?0:e.length)&&$(e,t,0)>-1},f=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1},d=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},h=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},v=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r},p=function(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r},b=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},g=function(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n},m=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1},$=function(e,t,r){return t==t?F(e,t,r):m(e,w,r)},y=function(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1},w=function(e){return e!=e},_=function(e,t){var r=null==e?0:e.length;return r?E(e,t)/r:ne},S=function(e){return function(t){return null==t?n:t[e]}},C=function(e){return function(t){return null==e?n:e[t]}},k=function(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r},E=function(e,t){for(var r,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r},R=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},x=function(e){return e?e.slice(0,H(e)+1).replace(Ge,""):e},M=function(e){return function(t){return e(t)}},I=function(e,t){return d(t,(function(t){return e[t]}))},T=function(e,t){return e.has(t)},A=function(e,t){for(var r=-1,n=e.length;++r<n&&$(t,e[r],0)>-1;);return r},O=function(e,t){for(var r=e.length;r--&&$(t,e[r],0)>-1;);return r},D=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n},P=function(e){return"\\"+Jt[e]},q=function(e){return Kt.test(e)},L=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},U=function(e,t){return function(r){return e(t(r))}},N=function(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==J||(e[r]=J,a[i++]=r)}return a},B=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},F=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1},j=function(e){return q(e)?W(e):dr(e)},K=function(e){return q(e)?V(e):function(e){return e.split("")}(e)},H=function(e){for(var t=e.length;t--&&Je.test(e.charAt(t)););return t},W=function(e){for(var t=Ft.lastIndex=0;Ft.test(e);)++t;return t},V=function(e){return e.match(Ft)||[]},z="Expected a function",G="__lodash_hash_undefined__",J="__lodash_placeholder__",Y=16,Z=32,X=64,Q=128,ee=256,te=1/0,re=9007199254740991,ne=NaN,ie=4294967295,ae=[["ary",Q],["bind",1],["bindKey",2],["curry",8],["curryRight",Y],["flip",512],["partial",Z],["partialRight",X],["rearg",ee]],oe="[object Arguments]",se="[object Array]",ue="[object Boolean]",ce="[object Date]",le="[object Error]",fe="[object Function]",de="[object GeneratorFunction]",he="[object Map]",ve="[object Number]",pe="[object Object]",be="[object Promise]",ge="[object RegExp]",me="[object Set]",$e="[object String]",ye="[object Symbol]",we="[object WeakMap]",_e="[object ArrayBuffer]",Se="[object DataView]",Ce="[object Float32Array]",ke="[object Float64Array]",Ee="[object Int8Array]",Re="[object Int16Array]",xe="[object Int32Array]",Me="[object Uint8Array]",Ie="[object Uint8ClampedArray]",Te="[object Uint16Array]",Ae="[object Uint32Array]",Oe=/\b__p \+= '';/g,De=/\b(__p \+=) '' \+/g,Pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qe=/&(?:amp|lt|gt|quot|#39);/g,Le=/[&<>"']/g,Ue=RegExp(qe.source),Ne=RegExp(Le.source),Be=/<%-([\s\S]+?)%>/g,Fe=/<%([\s\S]+?)%>/g,je=/<%=([\s\S]+?)%>/g,Ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,He=/^\w*$/,We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ve=/[\\^$.*+?()[\]{}|]/g,ze=RegExp(Ve.source),Ge=/^\s+/,Je=/\s/,Ye=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ze=/\{\n\/\* \[wrapped with (.+)\] \*/,Xe=/,? & /,Qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ht="\\u2700-\\u27bf",vt="a-z\\xdf-\\xf6\\xf8-\\xff",pt="A-Z\\xc0-\\xd6\\xd8-\\xde",bt="\\ufe0e\\ufe0f",gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mt="['’]",$t="[\ud800-\udfff]",yt="["+gt+"]",wt="["+dt+"]",_t="\\d+",St="[\\u2700-\\u27bf]",Ct="["+vt+"]",kt="[^\ud800-\udfff"+gt+_t+ht+vt+pt+"]",Et="[^\ud800-\udfff]",Rt="(?:\ud83c[\udde6-\uddff]){2}",xt="[\ud800-\udbff][\udc00-\udfff]",Mt="["+pt+"]",It="(?:"+Ct+"|"+kt+")",Tt="(?:"+Mt+"|"+kt+")",At="(?:['’](?:d|ll|m|re|s|t|ve))?",Ot="(?:['’](?:D|LL|M|RE|S|T|VE))?",Dt="(?:"+wt+"|"+"\ud83c[\udffb-\udfff])"+"?",Pt="[\\ufe0e\\ufe0f]?",qt=Pt+Dt+("(?:\\u200d(?:"+[Et,Rt,xt].join("|")+")"+Pt+Dt+")*"),Lt="(?:"+[St,Rt,xt].join("|")+")"+qt,Ut="(?:"+[Et+wt+"?",wt,Rt,xt,$t].join("|")+")",Nt=RegExp(mt,"g"),Bt=RegExp(wt,"g"),Ft=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+Ut+qt,"g"),jt=RegExp([Mt+"?"+Ct+"+"+At+"(?="+[yt,Mt,"$"].join("|")+")",Tt+"+"+Ot+"(?="+[yt,Mt+It,"$"].join("|")+")",Mt+"?"+It+"+"+At,Mt+"+"+Ot,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_t,Lt].join("|"),"g"),Kt=RegExp("[\\u200d\ud800-\udfff"+dt+bt+"]"),Ht=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,zt={};zt[Ce]=zt[ke]=zt[Ee]=zt[Re]=zt[xe]=zt[Me]=zt[Ie]=zt[Te]=zt[Ae]=!0,zt[oe]=zt[se]=zt[_e]=zt[ue]=zt[Se]=zt[ce]=zt[le]=zt[fe]=zt[he]=zt[ve]=zt[pe]=zt[ge]=zt[me]=zt[$e]=zt[we]=!1;var Gt={};Gt[oe]=Gt[se]=Gt[_e]=Gt[Se]=Gt[ue]=Gt[ce]=Gt[Ce]=Gt[ke]=Gt[Ee]=Gt[Re]=Gt[xe]=Gt[he]=Gt[ve]=Gt[pe]=Gt[ge]=Gt[me]=Gt[$e]=Gt[ye]=Gt[Me]=Gt[Ie]=Gt[Te]=Gt[Ae]=!0,Gt[le]=Gt[fe]=Gt[we]=!1;var Jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Zt=parseInt,Xt="object"==typeof $parcel$global&&$parcel$global&&$parcel$global.Object===Object&&$parcel$global,Qt="object"==typeof self&&self&&self.Object===Object&&self,er=Xt||Qt||Function("return this")(),tr=t&&!t.nodeType&&t,rr=tr&&e&&!e.nodeType&&e,nr=rr&&rr.exports===tr,ir=nr&&Xt.process,ar=function(){try{var e=rr&&rr.require&&rr.require("util").types;return e||ir&&ir.binding&&ir.binding("util")}catch(e){}}(),or=ar&&ar.isArrayBuffer,sr=ar&&ar.isDate,ur=ar&&ar.isMap,cr=ar&&ar.isRegExp,lr=ar&&ar.isSet,fr=ar&&ar.isTypedArray,dr=S("length"),hr=C({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),vr=C({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),pr=C({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),br=function e(t){var C,F,W=function(e){if(Ki(e)&&!js(e)&&!(e instanceof dt)){if(e instanceof Je)return e;if(Aa.call(e,"__wrapped__"))return bi(e)}return new Je(e)},V=function(){},Je=function(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n},dt=function(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]},ht=function(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}},vt=function(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}},pt=function(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}},bt=function(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new pt;++t<r;)this.add(e[t])},gt=function(e){var t=this.__data__=new vt(e);this.size=t.size},mt=function(e,t){var r=js(e),n=!r&&Fs(e),i=!r&&!n&&Hs(e),a=!r&&!n&&!i&&Js(e),o=r||n||i||a,s=o?R(e.length,ka):[],u=s.length;for(var c in e)!t&&!Aa.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Gn(c,u))||s.push(c);return s},$t=function(e){var t=e.length;return t?e[Mr(0,t-1)]:n},yt=function(e,t){return di(sn(e),Mt(t,0,e.length))},wt=function(e){return di(sn(e))},_t=function(e,t,r){(r!==n&&!Pi(e[t],r)||r===n&&!(t in e))&&Rt(e,t,r)},St=function(e,t,r){var i=e[t];Aa.call(e,t)&&Pi(i,r)&&(r!==n||t in e)||Rt(e,t,r)},Ct=function(e,t){for(var r=e.length;r--;)if(Pi(e[r][0],t))return r;return-1},kt=function(e,t,r,n){return Ao(e,(function(e,i,a){t(n,e,r(e),a)})),n},Et=function(e,t){return e&&un(t,na(t),e)},Rt=function(e,t,r){"__proto__"==t&&Ya?Ya(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},xt=function(e,t){for(var r=-1,i=t.length,a=ma(i),o=null==e;++r<i;)a[r]=o?n:ta(e,t[r]);return a},Mt=function(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e},It=function(e,t,r){var i=r.length;if(null==e)return!i;for(e=Sa(e);i--;){var a=r[i],o=t[a],s=e[a];if(s===n&&!(a in e)||!o(s))return!1}return!0},Tt=function(e,t,r){if("function"!=typeof e)throw new Ea(z);return Qo((function(){e.apply(n,r)}),t)},At=function(e,t,r,n){var i=-1,a=l,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=d(t,M(r))),n?(a=f,o=!1):t.length>=200&&(a=T,o=!1,t=new bt(t));e:for(;++i<s;){var h=e[i],v=null==r?h:r(h);if(h=n||0!==h?h:0,o&&v==v){for(var p=c;p--;)if(t[p]===v)continue e;u.push(h)}else a(t,v,n)||u.push(h)}return u},Ot=function(e,t){var r=!0;return Ao(e,(function(e,n,i){return r=!!t(e,n,i)})),r},Dt=function(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(u===n?s==s&&!zi(s):r(s,u)))var u=s,c=o}return c},Pt=function(e,t){var r=[];return Ao(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},qt=function(e,t){return e&&Po(e,t,na)},Lt=function(e,t){return e&&qo(e,t,na)},Ut=function(e,t){return c(t,(function(t){return Ni(e[t])}))},Ft=function(e,t){for(var r=0,i=(t=Zr(t,e)).length;null!=e&&r<i;)e=e[hi(t[r++])];return r&&r==i?e:n},Kt=function(e,t,r){var n=t(e);return js(e)?n:h(n,r(e))},Jt=function(e){return null==e?e===n?"[object Undefined]":"[object Null]":Ja&&Ja in Sa(e)?jn(e):ai(e)},Xt=function(e,t){return e>t},Qt=function(e,t){return null!=e&&Aa.call(e,t)},tr=function(e,t){return null!=e&&t in Sa(e)},rr=function(e,t,r){for(var i=r?f:l,a=e[0].length,o=e.length,s=o,u=ma(o),c=1/0,h=[];s--;){var v=e[s];s&&t&&(v=d(v,M(t))),c=uo(v.length,c),u[s]=!r&&(t||a>=120&&v.length>=120)?new bt(s&&v):n}v=e[0];var p=-1,b=u[0];e:for(;++p<a&&h.length<c;){var g=v[p],m=t?t(g):g;if(g=r||0!==g?g:0,!(b?T(b,m):i(h,m,r))){for(s=o;--s;){var $=u[s];if(!($?T($,m):i(e[s],m,r)))continue e}b&&b.push(m),h.push(g)}}return h},ir=function(e,t,r){t=Zr(t,e);var a=null==(e=si(e,t))?e:e[hi(wi(t))];return null==a?n:i(a,e,r)},ar=function(e){return Ki(e)&&Jt(e)==oe},dr=function(e,t,r,i){var a=r.length,o=a,s=!i;if(null==e)return!o;for(e=Sa(e);a--;){var u=r[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var c=(u=r[a])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===n&&!(c in e))return!1}else{var d=new gt;if(i)var h=i(l,f,c,e,t,d);if(!(h===n?Lo(f,l,3,i,d):h))return!1}}return!0},gr=function(e){return!(!ji(e)||Qn(e))&&(Ni(e)?Ua:ot).test(vi(e))},mr=function(e){return"function"==typeof e?e:null==e?fa:"object"==typeof e?js(e)?Sr(e[0],e[1]):_r(e):pa(e)},$r=function(e){if(!ei(e))return oo(e);var t=[];for(var r in Sa(e))Aa.call(e,r)&&"constructor"!=r&&t.push(r);return t},yr=function(e,t){return e<t},wr=function(e,t){var r=-1,n=qi(e)?ma(e.length):[];return Ao(e,(function(e,i,a){n[++r]=t(e,i,a)})),n},_r=function(e){var t=Bn(e);return 1==t.length&&t[0][2]?ri(t[0][0],t[0][1]):function(r){return r===e||dr(r,e,t)}},Sr=function(e,t){return Yn(e)&&ti(t)?ri(hi(e),t):function(r){var i=ta(r,e);return i===n&&i===t?ra(r,e):Lo(t,i,3)}},Cr=function(e,t){var r=e.length;if(r)return Gn(t+=t<0?r:0,r)?e[t]:n},kr=function(e,t,r){t=t.length?d(t,(function(e){return js(e)?function(t){return Ft(t,1===e.length?e[0]:e)}:e})):[fa];var n=-1;t=d(t,M(Un()));var i=wr(e,(function(e,r,i){var a=d(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return nn(e,t,r)}))},Er=function(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Ft(e,o);r(s,o)&&Dr(a,Zr(o,e),s)}return a},Rr=function(e,t,r,n){var i=n?y:$,a=-1,o=t.length,s=e;for(e===t&&(t=sn(t)),r&&(s=d(e,M(r)));++a<o;)for(var u=0,c=t[a],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&Va.call(s,u,1),Va.call(e,u,1);return e},xr=function(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;Gn(i)?Va.call(e,i,1):Kr(e,i)}}return e},Mr=function(e,t){return e+to(fo()*(t-e+1))},Ir=function(e,t){var r="";if(!e||t<1||t>re)return r;do{t%2&&(r+=e),(t=to(t/2))&&(e+=e)}while(t);return r},Tr=function(e,t){return es(oi(e,t,fa),e+"")},Ar=function(e){return $t(oa(e))},Or=function(e,t){var r=oa(e);return di(r,Mt(t,0,r.length))},Dr=function(e,t,r,i){if(!ji(e))return e;for(var a=-1,o=(t=Zr(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var c=hi(t[a]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var f=u[c];(l=i?i(f,c,u):n)===n&&(l=ji(f)?f:Gn(t[a+1])?[]:{})}St(u,c,l),u=u[c]}return e},Pr=function(e){return di(oa(e))},qr=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=ma(i);++n<i;)a[n]=e[n+t];return a},Lr=function(e,t){var r;return Ao(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r},Ur=function(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!zi(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return Nr(e,t,fa,r)},Nr=function(e,t,r,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=r(t))!=t,u=null===t,c=zi(t),l=t===n;a<o;){var f=to((a+o)/2),d=r(e[f]),h=d!==n,v=null===d,p=d==d,b=zi(d);if(s)var g=i||p;else g=l?p&&(i||h):u?p&&h&&(i||!v):c?p&&h&&!v&&(i||!b):!v&&!b&&(i?d<=t:d<t);g?a=f+1:o=f}return uo(o,4294967294)},Br=function(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!Pi(s,u)){var u=s;a[i++]=0===o?0:o}}return a},Fr=function(e){return"number"==typeof e?e:zi(e)?ne:+e},jr=function(e,t,r){var n=-1,i=l,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=f;else if(a>=200){var c=t?null:Wo(e);if(c)return B(c);o=!1,i=T,u=new bt}else u=t?[]:s;e:for(;++n<a;){var d=e[n],h=t?t(d):d;if(d=r||0!==d?d:0,o&&h==h){for(var v=u.length;v--;)if(u[v]===h)continue e;t&&u.push(h),s.push(d)}else i(u,h,r)||(u!==s&&u.push(h),s.push(d))}return s},Kr=function(e,t){return t=Zr(t,e),null==(e=si(e,t))||delete e[hi(wi(t))]},Hr=function(e,t,r,n){return Dr(e,t,r(Ft(e,t)),n)},Wr=function(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?qr(e,n?0:a,n?a+1:i):qr(e,n?a+1:0,n?i:a)},Vr=function(e,t){var r=e;return r instanceof dt&&(r=r.value()),v(t,(function(e,t){return t.func.apply(t.thisArg,h([e],t.args))}),r)},zr=function(e,t,r){var n=e.length;if(n<2)return n?jr(e[0]):[];for(var i=-1,a=ma(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=At(a[i]||o,e[s],t,r));return jr(Do(a,1),t,r)},Gr=function(e,t,r){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var u=i<o?t[i]:n;r(s,e[i],u)}return s},Jr=function(e){return Li(e)?e:[]},Yr=function(e){return"function"==typeof e?e:fa},Zr=function(e,t){return js(e)?e:Yn(e,t)?[e]:ts(ea(e))},Xr=function(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:qr(e,t,r)},Qr=function(e,t){if(t)return e.slice();var r=e.length,n=ja?ja(r):new e.constructor(r);return e.copy(n),n},en=function(e){var t=new e.constructor(e.byteLength);return new Fa(t).set(new Fa(e)),t},tn=function(e,t){var r=t?en(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},rn=function(e,t){if(e!==t){var r=e!==n,i=null===e,a=e==e,o=zi(e),s=t!==n,u=null===t,c=t==t,l=zi(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||i&&s&&c||!r&&c||!a)return 1;if(!i&&!o&&!l&&e<t||l&&r&&a&&!i&&!o||u&&r&&a||!s&&a||!c)return-1}return 0},nn=function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var u=rn(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index},an=function(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,u=t.length,c=so(a-o,0),l=ma(u+c),f=!n;++s<u;)l[s]=t[s];for(;++i<o;)(f||i<a)&&(l[r[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l},on=function(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,u=-1,c=t.length,l=so(a-s,0),f=ma(l+c),d=!n;++i<l;)f[i]=e[i];for(var h=i;++u<c;)f[h+u]=t[u];for(;++o<s;)(d||i<a)&&(f[h+r[o]]=e[i++]);return f},sn=function(e,t){var r=-1,n=e.length;for(t||(t=ma(n));++r<n;)t[r]=e[r];return t},un=function(e,t,r,i){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=i?i(r[u],e[u],u,r,e):n;c===n&&(c=e[u]),a?Rt(r,u,c):St(r,u,c)}return r},cn=function(e,t){return function(r,n){var i=js(r)?a:kt,o=t?t():{};return i(r,e,Un(n,2),o)}},ln=function(e){return Tr((function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:n,s=a>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(a--,o):n,s&&Jn(r[0],r[1],s)&&(o=a<3?n:o,a=1),t=Sa(t);++i<a;){var u=r[i];u&&e(t,u,i,o)}return t}))},fn=function(e,t){return function(r,n){if(null==r)return r;if(!qi(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Sa(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}},dn=function(e){return function(t,r,n){for(var i=-1,a=Sa(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}},hn=function(e){return function(t){t=ea(t);var r=q(t)?K(t):n,i=r?r[0]:t.charAt(0),a=r?Xr(r,1).join(""):t.slice(1);return i[e]()+a}},vn=function(e){return function(t){return v(ca(ua(t).replace(Nt,"")),e,"")}},pn=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Io(e.prototype),n=e.apply(r,t);return ji(n)?n:r}},bn=function(e){return function(t,r,i){var a=Sa(t);if(!qi(t)){var o=Un(r,3);t=na(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,i);return s>-1?a[o?t[s]:s]:n}},gn=function(e){return On((function(t){var r=t.length,i=r,a=Je.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new Ea(z);if(a&&!s&&"wrapper"==qn(o))var s=new Je([],!0)}for(i=s?i:r;++i<r;){o=t[i];var u=qn(o),c="wrapper"==u?zo(o):n;s=c&&Xn(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[qn(c[0])].apply(s,c[3]):1==o.length&&Xn(o)?s[u]():s.thru(o)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&js(n))return s.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))},mn=function(e,t){return function(r,n){return function(e,t,r,n){return qt(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}},$n=function(e,t){return function(r,i){var a;if(r===n&&i===n)return t;if(r!==n&&(a=r),i!==n){if(a===n)return i;"string"==typeof r||"string"==typeof i?(r=Fo(r),i=Fo(i)):(r=Fr(r),i=Fr(i)),a=e(r,i)}return a}},yn=function(e){return On((function(t){return t=d(t,M(Un())),Tr((function(r){var n=this;return e(t,(function(e){return i(e,n,r)}))}))}))},wn=function(e,t){var r=(t=t===n?" ":Fo(t)).length;if(r<2)return r?Ir(t,e):t;var i=Ir(t,eo(e/j(t)));return q(t)?Xr(K(i),0,e).join(""):i.slice(0,e)},_n=function(e){return function(t,r,i){return i&&"number"!=typeof i&&Jn(t,r,i)&&(r=i=n),t=Ji(t),r===n?(r=t,t=0):r=Ji(r),function(e,t,r,n){for(var i=-1,a=so(eo((t-e)/(r||1)),0),o=ma(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,r,i=i===n?t<r?1:-1:Ji(i),e)}},Sn=function(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Xi(t),r=Xi(r)),e(t,r)}},Cn=function(e,t,r,i,a,o,s,u,c,l){var f=8&t;t|=f?Z:X,4&(t&=~(f?X:Z))||(t&=-4);var d=[e,t,a,f?o:n,f?s:n,f?n:o,f?n:s,u,c,l],h=r.apply(n,d);return Xn(e)&&Xo(h,d),h.placeholder=i,li(h,e,t)},kn=function(e){var t=_a[e];return function(e,r){if(e=Xi(e),(r=null==r?0:uo(Yi(r),292))&&io(e)){var n=(ea(e)+"e").split("e"),i=t(n[0]+"e"+(+n[1]+r));return+((n=(ea(i)+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}},En=function(e){return function(t){var r=Yo(t);return r==he?L(t):r==me?function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}(t):function(e,t){return d(t,(function(t){return[t,e[t]]}))}(t,e(t))}},Rn=function(e,t,r,a,o,s,u,c){var l=2&t;if(!l&&"function"!=typeof e)throw new Ea(z);var f=a?a.length:0;if(f||(t&=-97,a=o=n),u=u===n?u:so(Yi(u),0),c=c===n?c:Yi(c),f-=o?o.length:0,t&X){var d=a,h=o;a=o=n}var v=l?n:zo(e),p=[e,t,r,a,o,d,h,s,u,c];if(v&&ni(p,v),e=p[0],t=p[1],r=p[2],a=p[3],o=p[4],!(c=p[9]=p[9]===n?l?0:e.length:so(p[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||t==Y?function(e,t,r){var a=pn(e);return function o(){for(var s=arguments.length,u=ma(s),c=s,l=Ln(o);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:N(u,l);return(s-=f.length)<r?Cn(e,t,Ho,o.placeholder,n,u,f,n,n,r-s):i(this&&this!==er&&this instanceof o?a:e,this,u)}}(e,t,c):t!=Z&&33!=t||o.length?Ho.apply(n,p):function(e,t,r,n){var a=1&t,o=pn(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=n.length,f=ma(l+u),d=this&&this!==er&&this instanceof t?o:e;++c<l;)f[c]=n[c];for(;u--;)f[c++]=arguments[++s];return i(d,a?r:this,f)}}(e,t,r,a);else var b=function(e,t,r){var n=1&t,i=pn(e);return function t(){return(this&&this!==er&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return li((v?No:Xo)(b,p),e,t)},xn=function(e,t,r,i){return e===n||Pi(e,Ma[r])&&!Aa.call(i,r)?t:e},Mn=function(e){return Wi(e)?n:e},In=function(e,t,r,i,a,o){var s=1&r,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,v=2&r?new bt:n;for(o.set(e,t),o.set(t,e);++d<u;){var p=e[d],g=t[d];if(i)var m=s?i(g,p,d,t,e,o):i(p,g,d,e,t,o);if(m!==n){if(m)continue;h=!1;break}if(v){if(!b(t,(function(e,t){if(!T(v,t)&&(p===e||a(p,e,r,i,o)))return v.push(t)}))){h=!1;break}}else if(p!==g&&!a(p,g,r,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Tn=function(e,t,r,n,i,a,o){switch(r){case Se:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _e:return!(e.byteLength!=t.byteLength||!a(new Fa(e),new Fa(t)));case ue:case ce:case ve:return Pi(+e,+t);case le:return e.name==t.name&&e.message==t.message;case ge:case $e:return e==t+"";case he:var s=L;case me:var u=1&n;if(s||(s=B),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var l=In(s(e),s(t),n,i,a,o);return o.delete(e),l;case ye:if(xo)return xo.call(e)==xo.call(t)}return!1},An=function(e,t,r,i,a,o){var s=1&r,u=Dn(e),c=u.length;if(c!=Dn(t).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in t:Aa.call(t,f)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var v=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var b=e[f=u[l]],g=t[f];if(i)var m=s?i(g,b,f,t,e,o):i(b,g,f,e,t,o);if(!(m===n?b===g||a(b,g,r,i,o):m)){v=!1;break}p||(p="constructor"==f)}if(v&&!p){var $=e.constructor,y=t.constructor;$==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof $&&$ instanceof $&&"function"==typeof y&&y instanceof y||(v=!1)}return o.delete(e),o.delete(t),v},On=function(e){return es(oi(e,n,$i),e+"")},Dn=function(e){return Kt(e,na,Go)},Pn=function(e){return Kt(e,ia,Jo)},qn=function(e){for(var t=e.name+"",r=wo[t],n=Aa.call(wo,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t},Ln=function(e){return(Aa.call(W,"placeholder")?W:e).placeholder},Un=function(){var e=W.iteratee||da;return e=e===da?mr:e,arguments.length?e(arguments[0],arguments[1]):e},Nn=function(e,t){var r=e.__data__;return Zn(t)?r["string"==typeof t?"string":"hash"]:r.map},Bn=function(e){for(var t=na(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ti(i)]}return t},Fn=function(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return gr(r)?r:n},jn=function(e){var t=Aa.call(e,Ja),r=e[Ja];try{e[Ja]=n;var i=!0}catch(e){}var a=Pa.call(e);return i&&(t?e[Ja]=r:delete e[Ja]),a},Kn=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=uo(t,e+o);break;case"takeRight":e=so(e,t-o)}}return{start:e,end:t}},Hn=function(e,t,r){for(var n=-1,i=(t=Zr(t,e)).length,a=!1;++n<i;){var o=hi(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Fi(i)&&Gn(o,i)&&(js(e)||Fs(e))},Wn=function(e){return"function"!=typeof e.constructor||ei(e)?{}:Io(Ka(e))},Vn=function(e,t,r){var n,i=e.constructor;switch(t){case _e:return en(e);case ue:case ce:return new i(+e);case Se:return function(e,t){var r=t?en(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case Ce:case ke:case Ee:case Re:case xe:case Me:case Ie:case Te:case Ae:return tn(e,r);case he:return new i;case ve:case $e:return new i(e);case ge:return function(e){var t=new e.constructor(e.source,nt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case me:return new i;case ye:return n=e,xo?Sa(xo.call(n)):{}}},zn=function(e){return js(e)||Fs(e)||!!(za&&e&&e[za])},Gn=function(e,t){var n=void 0===e?"undefined":(0,r.default)(e);return!!(t=null==t?re:t)&&("number"==n||"symbol"!=n&&ut.test(e))&&e>-1&&e%1==0&&e<t},Jn=function(e,t,n){if(!ji(n))return!1;var i=void 0===t?"undefined":(0,r.default)(t);return!!("number"==i?qi(n)&&Gn(t,n.length):"string"==i&&t in n)&&Pi(n[t],e)},Yn=function(e,t){if(js(e))return!1;var n=void 0===e?"undefined":(0,r.default)(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!zi(e))||(He.test(e)||!Ke.test(e)||null!=t&&e in Sa(t))},Zn=function(e){var t=void 0===e?"undefined":(0,r.default)(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Xn=function(e){var t=qn(e),r=W[t];if("function"!=typeof r||!(t in dt.prototype))return!1;if(e===r)return!0;var n=zo(r);return!!n&&e===n[0]},Qn=function(e){return!!Da&&Da in e},ei=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ma)},ti=function(e){return e==e&&!ji(e)},ri=function(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Sa(r)))}},ni=function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,o=n==Q&&8==r||n==Q&&r==ee&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!o)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?an(u,s,t[4]):s,e[4]=u?N(e[3],J):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?on(u,s,t[6]):s,e[6]=u?N(e[5],J):t[6]),(s=t[7])&&(e[7]=s),n&Q&&(e[8]=null==e[8]?t[8]:uo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},ii=function(e){var t=[];if(null!=e)for(var r in Sa(e))t.push(r);return t},ai=function(e){return Pa.call(e)},oi=function(e,t,r){return t=so(t===n?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=so(n.length-t,0),s=ma(o);++a<o;)s[a]=n[t+a];a=-1;for(var u=ma(t+1);++a<t;)u[a]=n[a];return u[t]=r(s),i(e,this,u)}},si=function(e,t){return t.length<2?e:Ft(e,qr(t,0,-1))},ui=function(e,t){for(var r=e.length,i=uo(t.length,r),a=sn(e);i--;){var o=t[i];e[i]=Gn(o,r)?a[o]:n}return e},ci=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},li=function(e,t,r){var n=t+"";return es(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Ye,"{\n/* [wrapped with "+t+"] */\n")}(n,pi(function(e){var t=e.match(Ze);return t?t[1].split(Xe):[]}(n),r)))},fi=function(e){var t=0,r=0;return function(){var i=co(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}},di=function(e,t){var r=-1,i=e.length,a=i-1;for(t=t===n?i:t;++r<t;){var o=Mr(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e},hi=function(e){if("string"==typeof e||zi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},vi=function(e){if(null!=e){try{return Ta.call(e)}catch(e){}try{return e+""}catch(e){}}return""},pi=function(e,t){return o(ae,(function(r){var n="_."+r[0];t&r[1]&&!l(e,n)&&e.push(n)})),e.sort()},bi=function(e){if(e instanceof dt)return e.clone();var t=new Je(e.__wrapped__,e.__chain__);return t.__actions__=sn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},gi=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Yi(r);return i<0&&(i=so(n+i,0)),m(e,Un(t,3),i)},mi=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return r!==n&&(a=Yi(r),a=r<0?so(i+a,0):uo(a,i-1)),m(e,Un(t,3),a,!0)},$i=function(e){return(null==e?0:e.length)?Do(e,1):[]},yi=function(e){return e&&e.length?e[0]:n},wi=function(e){var t=null==e?0:e.length;return t?e[t-1]:n},_i=function(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e},Si=function(e){return null==e?e:ho.call(e)},Ci=function(e){if(!e||!e.length)return[];var t=0;return e=c(e,(function(e){if(Li(e))return t=so(e.length,t),!0})),R(t,(function(t){return d(e,S(t))}))},ki=function(e,t){if(!e||!e.length)return[];var r=Ci(e);return null==t?r:d(r,(function(e){return i(t,n,e)}))},Ei=function(e){var t=W(e);return t.__chain__=!0,t},Ri=function(e,t){return t(e)},xi=function(e,t){return(js(e)?o:Ao)(e,Un(t,3))},Mi=function(e,t){return(js(e)?s:Oo)(e,Un(t,3))},Ii=function(e,t){return(js(e)?d:wr)(e,Un(t,3))},Ti=function(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Rn(e,Q,n,n,n,n,t)},Ai=function(e,t){var r;if("function"!=typeof t)throw new Ea(z);return e=Yi(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}},Oi=function(e,t,r){var i,a,o,s,u,c,l=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new Ea(z);function v(t){var r=i,o=a;return i=a=n,l=t,s=e.apply(o,r)}function p(e){return l=e,u=Qo(g,t),f?v(e):s}function b(e){var r=e-c;return c===n||r>=t||r<0||d&&e-l>=o}function g(){var e=xs();if(b(e))return m(e);u=Qo(g,function(e){var r=t-(e-c);return d?uo(r,o-(e-l)):r}(e))}function m(e){return u=n,h&&i?v(e):(i=a=n,s)}function $(){var e=xs(),r=b(e);if(i=arguments,a=this,c=e,r){if(u===n)return p(c);if(d)return Ko(u),u=Qo(g,t),v(c)}return u===n&&(u=Qo(g,t)),s}return t=Xi(t)||0,ji(r)&&(f=!!r.leading,o=(d="maxWait"in r)?so(Xi(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h),$.cancel=function(){u!==n&&Ko(u),l=0,i=c=a=u=n},$.flush=function(){return u===n?s:m(xs())},$},Di=function(e){if("function"!=typeof e)throw new Ea(z);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}},Pi=function(e,t){return e===t||e!=e&&t!=t},qi=function(e){return null!=e&&Fi(e.length)&&!Ni(e)},Li=function(e){return Ki(e)&&qi(e)},Ui=function(e){if(!Ki(e))return!1;var t=Jt(e);return t==le||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wi(e)},Ni=function(e){if(!ji(e))return!1;var t=Jt(e);return t==fe||t==de||"[object AsyncFunction]"==t||"[object Proxy]"==t},Bi=function(e){return"number"==typeof e&&e==Yi(e)},Fi=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=re},ji=function(e){var t=void 0===e?"undefined":(0,r.default)(e);return null!=e&&("object"==t||"function"==t)},Ki=function(e){return null!=e&&"object"==typeof e},Hi=function(e){return"number"==typeof e||Ki(e)&&Jt(e)==ve},Wi=function(e){if(!Ki(e)||Jt(e)!=pe)return!1;var t=Ka(e);if(null===t)return!0;var r=Aa.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ta.call(r)==qa},Vi=function(e){return"string"==typeof e||!js(e)&&Ki(e)&&Jt(e)==$e},zi=function(e){return"symbol"==(void 0===e?"undefined":(0,r.default)(e))||Ki(e)&&Jt(e)==ye},Gi=function(e){if(!e)return[];if(qi(e))return Vi(e)?K(e):sn(e);if(Ga&&e[Ga])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ga]());var t=Yo(e);return(t==he?L:t==me?B:oa)(e)},Ji=function(e){return e?(e=Xi(e))===te||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Yi=function(e){var t=Ji(e),r=t%1;return t==t?r?t-r:t:0},Zi=function(e){return e?Mt(Yi(e),0,ie):0},Xi=function(e){if("number"==typeof e)return e;if(zi(e))return ne;if(ji(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ji(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=x(e);var r=at.test(e);return r||st.test(e)?Zt(e.slice(2),r?2:8):it.test(e)?ne:+e},Qi=function(e){return un(e,ia(e))},ea=function(e){return null==e?"":Fo(e)},ta=function(e,t,r){var i=null==e?n:Ft(e,t);return i===n?r:i},ra=function(e,t){return null!=e&&Hn(e,t,tr)},na=function(e){return qi(e)?mt(e):$r(e)},ia=function(e){return qi(e)?mt(e,!0):function(e){if(!ji(e))return ii(e);var t=ei(e),r=[];for(var n in e)("constructor"!=n||!t&&Aa.call(e,n))&&r.push(n);return r}(e)},aa=function(e,t){if(null==e)return{};var r=d(Pn(e),(function(e){return[e]}));return t=Un(t),Er(e,r,(function(e,r){return t(e,r[0])}))},oa=function(e){return null==e?[]:I(e,na(e))},sa=function(e){return wu(ea(e).toLowerCase())},ua=function(e){return(e=ea(e))&&e.replace(ct,hr).replace(Bt,"")},ca=function(e,t,r){return e=ea(e),(t=r?n:t)===n?function(e){return Ht.test(e)}(e)?function(e){return e.match(jt)||[]}(e):function(e){return e.match(Qe)||[]}(e):e.match(t)||[]},la=function(e){return function(){return e}},fa=function(e){return e},da=function(e){return mr("function"==typeof e?e:To(e,1))},ha=function(e,t,r){var n=na(t),i=Ut(t,n);null!=r||ji(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Ut(t,na(t)));var a=!(ji(r)&&"chain"in r&&!r.chain),s=Ni(e);return o(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=sn(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,h([this.value()],arguments))})})),e},va=function(){},pa=function(e){return Yn(e)?S(hi(e)):function(e){return function(t){return Ft(t,e)}}(e)},ba=function(){return[]},ga=function(){return!1},ma=(t=null==t?er:br.defaults(er.Object(),t,br.pick(er,Wt))).Array,$a=t.Date,ya=t.Error,wa=t.Function,_a=t.Math,Sa=t.Object,Ca=t.RegExp,ka=t.String,Ea=t.TypeError,Ra=ma.prototype,xa=wa.prototype,Ma=Sa.prototype,Ia=t["__core-js_shared__"],Ta=xa.toString,Aa=Ma.hasOwnProperty,Oa=0,Da=(C=/[^.]+$/.exec(Ia&&Ia.keys&&Ia.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",Pa=Ma.toString,qa=Ta.call(Sa),La=er._,Ua=Ca("^"+Ta.call(Aa).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Na=nr?t.Buffer:n,Ba=t.Symbol,Fa=t.Uint8Array,ja=Na?Na.allocUnsafe:n,Ka=U(Sa.getPrototypeOf,Sa),Ha=Sa.create,Wa=Ma.propertyIsEnumerable,Va=Ra.splice,za=Ba?Ba.isConcatSpreadable:n,Ga=Ba?Ba.iterator:n,Ja=Ba?Ba.toStringTag:n,Ya=function(){try{var e=Fn(Sa,"defineProperty");return e({},"",{}),e}catch(e){}}(),Za=t.clearTimeout!==er.clearTimeout&&t.clearTimeout,Xa=$a&&$a.now!==er.Date.now&&$a.now,Qa=t.setTimeout!==er.setTimeout&&t.setTimeout,eo=_a.ceil,to=_a.floor,ro=Sa.getOwnPropertySymbols,no=Na?Na.isBuffer:n,io=t.isFinite,ao=Ra.join,oo=U(Sa.keys,Sa),so=_a.max,uo=_a.min,co=$a.now,lo=t.parseInt,fo=_a.random,ho=Ra.reverse,vo=Fn(t,"DataView"),po=Fn(t,"Map"),bo=Fn(t,"Promise"),go=Fn(t,"Set"),mo=Fn(t,"WeakMap"),$o=Fn(Sa,"create"),yo=mo&&new mo,wo={},_o=vi(vo),So=vi(po),Co=vi(bo),ko=vi(go),Eo=vi(mo),Ro=Ba?Ba.prototype:n,xo=Ro?Ro.valueOf:n,Mo=Ro?Ro.toString:n,Io=(F=function(){},function(e){if(!ji(e))return{};if(Ha)return Ha(e);F.prototype=e;var t=new F;return F.prototype=n,t});function To(e,t,r,i,a,s){var u,c=1&t,l=2&t,f=4&t;if(r&&(u=a?r(e,i,a,s):r(e)),u!==n)return u;if(!ji(e))return e;var d=js(e);if(d){if(u=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Aa.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return sn(e,u)}else{var h=Yo(e),v=h==fe||h==de;if(Hs(e))return Qr(e,c);if(h==pe||h==oe||v&&!a){if(u=l||v?{}:Wn(e),!c)return l?function(e,t){return un(e,Jo(e),t)}(e,function(e,t){return e&&un(t,ia(t),e)}(u,e)):function(e,t){return un(e,Go(e),t)}(e,Et(u,e))}else{if(!Gt[h])return a?e:{};u=Vn(e,h,c)}}s||(s=new gt);var p=s.get(e);if(p)return p;s.set(e,u),Gs(e)?e.forEach((function(n){u.add(To(n,t,r,n,e,s))})):Vs(e)&&e.forEach((function(n,i){u.set(i,To(n,t,r,i,e,s))}));var b=d?n:(f?l?Pn:Dn:l?ia:na)(e);return o(b||e,(function(n,i){b&&(n=e[i=n]),St(u,i,To(n,t,r,i,e,s))})),u}W.templateSettings={escape:Be,evaluate:Fe,interpolate:je,variable:"",imports:{_:W}},(W.prototype=V.prototype).constructor=W,Je.prototype=Io(V.prototype),Je.prototype.constructor=Je,dt.prototype=Io(V.prototype),dt.prototype.constructor=dt,ht.prototype.clear=function(){this.__data__=$o?$o(null):{},this.size=0},ht.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ht.prototype.get=function(e){var t=this.__data__;if($o){var r=t[e];return r===G?n:r}return Aa.call(t,e)?t[e]:n},ht.prototype.has=function(e){var t=this.__data__;return $o?t[e]!==n:Aa.call(t,e)},ht.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$o&&t===n?G:t,this},vt.prototype.clear=function(){this.__data__=[],this.size=0},vt.prototype.delete=function(e){var t=this.__data__,r=Ct(t,e);return!(r<0)&&(r==t.length-1?t.pop():Va.call(t,r,1),--this.size,!0)},vt.prototype.get=function(e){var t=this.__data__,r=Ct(t,e);return r<0?n:t[r][1]},vt.prototype.has=function(e){return Ct(this.__data__,e)>-1},vt.prototype.set=function(e,t){var r=this.__data__,n=Ct(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},pt.prototype.clear=function(){this.size=0,this.__data__={hash:new ht,map:new(po||vt),string:new ht}},pt.prototype.delete=function(e){var t=Nn(this,e).delete(e);return this.size-=t?1:0,t},pt.prototype.get=function(e){return Nn(this,e).get(e)},pt.prototype.has=function(e){return Nn(this,e).has(e)},pt.prototype.set=function(e,t){var r=Nn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},bt.prototype.add=bt.prototype.push=function(e){return this.__data__.set(e,G),this},bt.prototype.has=function(e){return this.__data__.has(e)},gt.prototype.clear=function(){this.__data__=new vt,this.size=0},gt.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},gt.prototype.get=function(e){return this.__data__.get(e)},gt.prototype.has=function(e){return this.__data__.has(e)},gt.prototype.set=function(e,t){var r=this.__data__;if(r instanceof vt){var n=r.__data__;if(!po||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pt(n)}return r.set(e,t),this.size=r.size,this};var Ao=fn(qt),Oo=fn(Lt,!0);function Do(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=zn),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?Do(s,t-1,r,n,i):h(i,s):n||(i[i.length]=s)}return i}var Po=dn(),qo=dn(!0);function Lo(e,t,r,n,i){return e===t||(null==e||null==t||!Ki(e)&&!Ki(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var o=js(e),s=js(t),u=o?se:Yo(e),c=s?se:Yo(t),l=(u=u==oe?pe:u)==pe,f=(c=c==oe?pe:c)==pe,d=u==c;if(d&&Hs(e)){if(!Hs(t))return!1;o=!0,l=!1}if(d&&!l)return a||(a=new gt),o||Js(e)?In(e,t,r,n,i,a):Tn(e,t,u,r,n,i,a);if(!(1&r)){var h=l&&Aa.call(e,"__wrapped__"),v=f&&Aa.call(t,"__wrapped__");if(h||v){var p=h?e.value():e,b=v?t.value():t;return a||(a=new gt),i(p,b,r,n,a)}}return!!d&&(a||(a=new gt),An(e,t,r,n,i,a))}(e,t,r,n,Lo,i))}function Uo(e,t,r,i,a){e!==t&&Po(t,(function(o,s){if(a||(a=new gt),ji(o))!function(e,t,r,i,a,o,s){var u=ci(e,r),c=ci(t,r),l=s.get(c);if(l)_t(e,r,l);else{var f=o?o(u,c,r+"",e,t,s):n,d=f===n;if(d){var h=js(c),v=!h&&Hs(c),p=!h&&!v&&Js(c);f=c,h||v||p?js(u)?f=u:Li(u)?f=sn(u):v?(d=!1,f=Qr(c,!0)):p?(d=!1,f=tn(c,!0)):f=[]:Wi(c)||Fs(c)?(f=u,Fs(u)?f=Qi(u):ji(u)&&!Ni(u)||(f=Wn(c))):d=!1}d&&(s.set(c,f),a(f,c,i,o,s),s.delete(c)),_t(e,r,f)}}(e,t,s,r,Uo,i,a);else{var u=i?i(ci(e,s),o,s+"",e,t,a):n;u===n&&(u=o),_t(e,s,u)}}),ia)}var No=yo?function(e,t){return yo.set(e,t),e}:fa,Bo=Ya?function(e,t){return Ya(e,"toString",{configurable:!0,enumerable:!1,value:la(t),writable:!0})}:fa;function Fo(e){if("string"==typeof e)return e;if(js(e))return d(e,Fo)+"";if(zi(e))return Mo?Mo.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var jo=Tr,Ko=Za||function(e){return er.clearTimeout(e)};function Ho(e,t,r,i,a,o,s,u,c,l){var f=t&Q,d=1&t,h=2&t,v=24&t,p=512&t,b=h?n:pn(e);return function n(){for(var g=arguments.length,m=ma(g),$=g;$--;)m[$]=arguments[$];if(v)var y=Ln(n),w=D(m,y);if(i&&(m=an(m,i,a,v)),o&&(m=on(m,o,s,v)),g-=w,v&&g<l){var _=N(m,y);return Cn(e,t,Ho,n.placeholder,r,m,_,u,c,l-g)}var S=d?r:this,C=h?S[e]:e;return g=m.length,u?m=ui(m,u):p&&g>1&&m.reverse(),f&&c<g&&(m.length=c),this&&this!==er&&this instanceof n&&(C=b||pn(C)),C.apply(S,m)}}var Wo=go&&1/B(new go([,-0]))[1]==te?function(e){return new go(e)}:va;function Vo(e,t,r,i,a,o){return ji(e)&&ji(t)&&(o.set(t,e),Uo(e,t,n,Vo,o),o.delete(t)),e}var zo=yo?function(e){return yo.get(e)}:va,Go=ro?function(e){return null==e?[]:(e=Sa(e),c(ro(e),(function(t){return Wa.call(e,t)})))}:ba,Jo=ro?function(e){for(var t=[];e;)h(t,Go(e)),e=Ka(e);return t}:ba,Yo=Jt;(vo&&Yo(new vo(new ArrayBuffer(1)))!=Se||po&&Yo(new po)!=he||bo&&Yo(bo.resolve())!=be||go&&Yo(new go)!=me||mo&&Yo(new mo)!=we)&&(Yo=function(e){var t=Jt(e),r=t==pe?e.constructor:n,i=r?vi(r):"";if(i)switch(i){case _o:return Se;case So:return he;case Co:return be;case ko:return me;case Eo:return we}return t});var Zo=Ia?Ni:ga,Xo=fi(No),Qo=Qa||function(e,t){return er.setTimeout(e,t)},es=fi(Bo),ts=function(e){var t=Os(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(We,(function(e,r,n,i){t.push(n?i.replace(tt,"$1"):r||e)})),t})),rs=Tr((function(e,t){return Li(e)?At(e,Do(t,1,Li,!0)):[]})),ns=Tr((function(e,t){var r=wi(t);return Li(r)&&(r=n),Li(e)?At(e,Do(t,1,Li,!0),Un(r,2)):[]})),is=Tr((function(e,t){var r=wi(t);return Li(r)&&(r=n),Li(e)?At(e,Do(t,1,Li,!0),n,r):[]})),as=Tr((function(e){var t=d(e,Jr);return t.length&&t[0]===e[0]?rr(t):[]})),os=Tr((function(e){var t=wi(e),r=d(e,Jr);return t===wi(r)?t=n:r.pop(),r.length&&r[0]===e[0]?rr(r,Un(t,2)):[]})),ss=Tr((function(e){var t=wi(e),r=d(e,Jr);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?rr(r,n,t):[]})),us=Tr(_i),cs=On((function(e,t){var r=null==e?0:e.length,n=xt(e,t);return xr(e,d(t,(function(e){return Gn(e,r)?+e:e})).sort(rn)),n})),ls=Tr((function(e){return jr(Do(e,1,Li,!0))})),fs=Tr((function(e){var t=wi(e);return Li(t)&&(t=n),jr(Do(e,1,Li,!0),Un(t,2))})),ds=Tr((function(e){var t=wi(e);return t="function"==typeof t?t:n,jr(Do(e,1,Li,!0),n,t)})),hs=Tr((function(e,t){return Li(e)?At(e,t):[]})),vs=Tr((function(e){return zr(c(e,Li))})),ps=Tr((function(e){var t=wi(e);return Li(t)&&(t=n),zr(c(e,Li),Un(t,2))})),bs=Tr((function(e){var t=wi(e);return t="function"==typeof t?t:n,zr(c(e,Li),n,t)})),gs=Tr(Ci),ms=Tr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ki(e,r)})),$s=On((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,a=function(t){return xt(t,e)};return!(t>1||this.__actions__.length)&&i instanceof dt&&Gn(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:Ri,args:[a],thisArg:n}),new Je(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(a)})),ys=cn((function(e,t,r){Aa.call(e,r)?++e[r]:Rt(e,r,1)})),ws=bn(gi),_s=bn(mi),Ss=cn((function(e,t,r){Aa.call(e,r)?e[r].push(t):Rt(e,r,[t])})),Cs=Tr((function(e,t,r){var n=-1,a="function"==typeof t,o=qi(e)?ma(e.length):[];return Ao(e,(function(e){o[++n]=a?i(t,e,r):ir(e,t,r)})),o})),ks=cn((function(e,t,r){Rt(e,r,t)})),Es=cn((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),Rs=Tr((function(e,t){if(null==e)return[];var r=t.length;return r>1&&Jn(e,t[0],t[1])?t=[]:r>2&&Jn(t[0],t[1],t[2])&&(t=[t[0]]),kr(e,Do(t,1),[])})),xs=Xa||function(){return er.Date.now()},Ms=Tr((function(e,t,r){var n=1;if(r.length){var i=N(r,Ln(Ms));n|=Z}return Rn(e,n,t,r,i)})),Is=Tr((function(e,t,r){var n=3;if(r.length){var i=N(r,Ln(Is));n|=Z}return Rn(t,n,e,r,i)}));var Ts=Tr((function(e,t){return Tt(e,1,t)})),As=Tr((function(e,t,r){return Tt(e,Xi(t)||0,r)}));function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ea(z);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Os.Cache||pt),r}Os.Cache=pt;var Ds,Ps=jo((function(e,t){var r=(t=1==t.length&&js(t[0])?d(t[0],M(Un())):d(Do(t,1),M(Un()))).length;return Tr((function(n){for(var a=-1,o=uo(n.length,r);++a<o;)n[a]=t[a].call(this,n[a]);return i(e,this,n)}))})),qs=Tr((function(e,t){var r=N(t,Ln(qs));return Rn(e,Z,n,t,r)})),Ls=Tr((function(e,t){var r=N(t,Ln(Ls));return Rn(e,X,n,t,r)})),Us=On((function(e,t){return Rn(e,ee,n,n,n,t)})),Ns=Sn(Xt),Bs=Sn((function(e,t){return e>=t})),Fs=ar(function(){return arguments}())?ar:function(e){return Ki(e)&&Aa.call(e,"callee")&&!Wa.call(e,"callee")},js=ma.isArray,Ks=or?M(or):function(e){return Ki(e)&&Jt(e)==_e},Hs=no||ga,Ws=sr?M(sr):function(e){return Ki(e)&&Jt(e)==ce},Vs=ur?M(ur):function(e){return Ki(e)&&Yo(e)==he},zs=cr?M(cr):function(e){return Ki(e)&&Jt(e)==ge},Gs=lr?M(lr):function(e){return Ki(e)&&Yo(e)==me},Js=fr?M(fr):function(e){return Ki(e)&&Fi(e.length)&&!!zt[Jt(e)]},Ys=Sn(yr),Zs=Sn((function(e,t){return e<=t})),Xs=ln((function(e,t){if(ei(t)||qi(t))un(t,na(t),e);else for(var r in t)Aa.call(t,r)&&St(e,r,t[r])})),Qs=ln((function(e,t){un(t,ia(t),e)})),eu=ln((function(e,t,r,n){un(t,ia(t),e,n)})),tu=ln((function(e,t,r,n){un(t,na(t),e,n)})),ru=On(xt),nu=Tr((function(e,t){e=Sa(e);var r=-1,i=t.length,a=i>2?t[2]:n;for(a&&Jn(t[0],t[1],a)&&(i=1);++r<i;)for(var o=t[r],s=ia(o),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===n||Pi(f,Ma[l])&&!Aa.call(e,l))&&(e[l]=o[l])}return e})),iu=Tr((function(e){return e.push(n,Vo),i(cu,n,e)})),au=mn((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Pa.call(t)),e[t]=r}),la(fa)),ou=mn((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Pa.call(t)),Aa.call(e,t)?e[t].push(r):e[t]=[r]}),Un),su=Tr(ir),uu=ln((function(e,t,r){Uo(e,t,r)})),cu=ln((function(e,t,r,n){Uo(e,t,r,n)})),lu=On((function(e,t){var r={};if(null==e)return r;var n=!1;t=d(t,(function(t){return t=Zr(t,e),n||(n=t.length>1),t})),un(e,Pn(e),r),n&&(r=To(r,7,Mn));for(var i=t.length;i--;)Kr(r,t[i]);return r})),fu=On((function(e,t){return null==e?{}:function(e,t){return Er(e,t,(function(t,r){return ra(e,r)}))}(e,t)})),du=En(na),hu=En(ia),vu=vn((function(e,t,r){return t=t.toLowerCase(),e+(r?sa(t):t)})),pu=vn((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),bu=vn((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),gu=hn("toLowerCase"),mu=vn((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),$u=vn((function(e,t,r){return e+(r?" ":"")+wu(t)})),yu=vn((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),wu=hn("toUpperCase"),_u=Tr((function(e,t){try{return i(e,n,t)}catch(e){return Ui(e)?e:new ya(e)}})),Su=On((function(e,t){return o(t,(function(t){t=hi(t),Rt(e,t,Ms(e[t],e))})),e})),Cu=gn(),ku=gn(!0),Eu=Tr((function(e,t){return function(r){return ir(r,e,t)}})),Ru=Tr((function(e,t){return function(r){return ir(e,r,t)}})),xu=yn(d),Mu=yn(u),Iu=yn(b),Tu=_n(),Au=_n(!0),Ou=$n((function(e,t){return e+t}),0),Du=kn("ceil"),Pu=$n((function(e,t){return e/t}),1),qu=kn("floor"),Lu=$n((function(e,t){return e*t}),1),Uu=kn("round"),Nu=$n((function(e,t){return e-t}),0);return W.after=function(e,t){if("function"!=typeof t)throw new Ea(z);return e=Yi(e),function(){if(--e<1)return t.apply(this,arguments)}},W.ary=Ti,W.assign=Xs,W.assignIn=Qs,W.assignInWith=eu,W.assignWith=tu,W.at=ru,W.before=Ai,W.bind=Ms,W.bindAll=Su,W.bindKey=Is,W.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return js(e)?e:[e]},W.chain=Ei,W.chunk=function(e,t,r){t=(r?Jn(e,t,r):t===n)?1:so(Yi(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=ma(eo(i/t));a<i;)s[o++]=qr(e,a,a+=t);return s},W.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},W.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ma(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return h(js(r)?sn(r):[r],Do(t,1))},W.cond=function(e){var t=null==e?0:e.length,r=Un();return e=t?d(e,(function(e){if("function"!=typeof e[1])throw new Ea(z);return[r(e[0]),e[1]]})):[],Tr((function(r){for(var n=-1;++n<t;){var a=e[n];if(i(a[0],this,r))return i(a[1],this,r)}}))},W.conforms=function(e){return function(e){var t=na(e);return function(r){return It(r,e,t)}}(To(e,1))},W.constant=la,W.countBy=ys,W.create=function(e,t){var r=Io(e);return null==t?r:Et(r,t)},W.curry=function e(t,r,i){var a=Rn(t,8,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},W.curryRight=function e(t,r,i){var a=Rn(t,Y,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},W.debounce=Oi,W.defaults=nu,W.defaultsDeep=iu,W.defer=Ts,W.delay=As,W.difference=rs,W.differenceBy=ns,W.differenceWith=is,W.drop=function(e,t,r){var i=null==e?0:e.length;return i?(t=r||t===n?1:Yi(t),qr(e,t<0?0:t,i)):[]},W.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?(t=r||t===n?1:Yi(t),qr(e,0,(t=i-t)<0?0:t)):[]},W.dropRightWhile=function(e,t){return e&&e.length?Wr(e,Un(t,3),!0,!0):[]},W.dropWhile=function(e,t){return e&&e.length?Wr(e,Un(t,3),!0):[]},W.fill=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&Jn(e,t,r)&&(r=0,i=a),function(e,t,r,i){var a=e.length;for((r=Yi(r))<0&&(r=-r>a?0:a+r),(i=i===n||i>a?a:Yi(i))<0&&(i+=a),i=r>i?0:Zi(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},W.filter=function(e,t){return(js(e)?c:Pt)(e,Un(t,3))},W.flatMap=function(e,t){return Do(Ii(e,t),1)},W.flatMapDeep=function(e,t){return Do(Ii(e,t),te)},W.flatMapDepth=function(e,t,r){return r=r===n?1:Yi(r),Do(Ii(e,t),r)},W.flatten=$i,W.flattenDeep=function(e){return(null==e?0:e.length)?Do(e,te):[]},W.flattenDepth=function(e,t){return(null==e?0:e.length)?Do(e,t=t===n?1:Yi(t)):[]},W.flip=function(e){return Rn(e,512)},W.flow=Cu,W.flowRight=ku,W.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},W.functions=function(e){return null==e?[]:Ut(e,na(e))},W.functionsIn=function(e){return null==e?[]:Ut(e,ia(e))},W.groupBy=Ss,W.initial=function(e){return(null==e?0:e.length)?qr(e,0,-1):[]},W.intersection=as,W.intersectionBy=os,W.intersectionWith=ss,W.invert=au,W.invertBy=ou,W.invokeMap=Cs,W.iteratee=da,W.keyBy=ks,W.keys=na,W.keysIn=ia,W.map=Ii,W.mapKeys=function(e,t){var r={};return t=Un(t,3),qt(e,(function(e,n,i){Rt(r,t(e,n,i),e)})),r},W.mapValues=function(e,t){var r={};return t=Un(t,3),qt(e,(function(e,n,i){Rt(r,n,t(e,n,i))})),r},W.matches=function(e){return _r(To(e,1))},W.matchesProperty=function(e,t){return Sr(e,To(t,1))},W.memoize=Os,W.merge=uu,W.mergeWith=cu,W.method=Eu,W.methodOf=Ru,W.mixin=ha,W.negate=Di,W.nthArg=function(e){return e=Yi(e),Tr((function(t){return Cr(t,e)}))},W.omit=lu,W.omitBy=function(e,t){return aa(e,Di(Un(t)))},W.once=function(e){return Ai(2,e)},W.orderBy=function(e,t,r,i){return null==e?[]:(js(t)||(t=null==t?[]:[t]),js(r=i?n:r)||(r=null==r?[]:[r]),kr(e,t,r))},W.over=xu,W.overArgs=Ps,W.overEvery=Mu,W.overSome=Iu,W.partial=qs,W.partialRight=Ls,W.partition=Es,W.pick=fu,W.pickBy=aa,W.property=pa,W.propertyOf=function(e){return function(t){return null==e?n:Ft(e,t)}},W.pull=us,W.pullAll=_i,W.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Rr(e,t,Un(r,2)):e},W.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Rr(e,t,n,r):e},W.pullAt=cs,W.range=Tu,W.rangeRight=Au,W.rearg=Us,W.reject=function(e,t){return(js(e)?c:Pt)(e,Di(Un(t,3)))},W.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=Un(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return xr(e,i),r},W.rest=function(e,t){if("function"!=typeof e)throw new Ea(z);return t=t===n?t:Yi(t),Tr(e,t)},W.reverse=Si,W.sampleSize=function(e,t,r){return t=(r?Jn(e,t,r):t===n)?1:Yi(t),(js(e)?yt:Or)(e,t)},W.set=function(e,t,r){return null==e?e:Dr(e,t,r)},W.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Dr(e,t,r,i)},W.shuffle=function(e){return(js(e)?wt:Pr)(e)},W.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Jn(e,t,r)?(t=0,r=i):(t=null==t?0:Yi(t),r=r===n?i:Yi(r)),qr(e,t,r)):[]},W.sortBy=Rs,W.sortedUniq=function(e){return e&&e.length?Br(e):[]},W.sortedUniqBy=function(e,t){return e&&e.length?Br(e,Un(t,2)):[]},W.split=function(e,t,r){return r&&"number"!=typeof r&&Jn(e,t,r)&&(t=r=n),(r=r===n?ie:r>>>0)?(e=ea(e))&&("string"==typeof t||null!=t&&!zs(t))&&!(t=Fo(t))&&q(e)?Xr(K(e),0,r):e.split(t,r):[]},W.spread=function(e,t){if("function"!=typeof e)throw new Ea(z);return t=null==t?0:so(Yi(t),0),Tr((function(r){var n=r[t],a=Xr(r,0,t);return n&&h(a,n),i(e,this,a)}))},W.tail=function(e){var t=null==e?0:e.length;return t?qr(e,1,t):[]},W.take=function(e,t,r){return e&&e.length?(t=r||t===n?1:Yi(t),qr(e,0,t<0?0:t)):[]},W.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?(t=r||t===n?1:Yi(t),qr(e,(t=i-t)<0?0:t,i)):[]},W.takeRightWhile=function(e,t){return e&&e.length?Wr(e,Un(t,3),!1,!0):[]},W.takeWhile=function(e,t){return e&&e.length?Wr(e,Un(t,3)):[]},W.tap=function(e,t){return t(e),e},W.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ea(z);return ji(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Oi(e,t,{leading:n,maxWait:t,trailing:i})},W.thru=Ri,W.toArray=Gi,W.toPairs=du,W.toPairsIn=hu,W.toPath=function(e){return js(e)?d(e,hi):zi(e)?[e]:sn(ts(ea(e)))},W.toPlainObject=Qi,W.transform=function(e,t,r){var n=js(e),i=n||Hs(e)||Js(e);if(t=Un(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:ji(e)&&Ni(a)?Io(Ka(e)):{}}return(i?o:qt)(e,(function(e,n,i){return t(r,e,n,i)})),r},W.unary=function(e){return Ti(e,1)},W.union=ls,W.unionBy=fs,W.unionWith=ds,W.uniq=function(e){return e&&e.length?jr(e):[]},W.uniqBy=function(e,t){return e&&e.length?jr(e,Un(t,2)):[]},W.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?jr(e,n,t):[]},W.unset=function(e,t){return null==e||Kr(e,t)},W.unzip=Ci,W.unzipWith=ki,W.update=function(e,t,r){return null==e?e:Hr(e,t,Yr(r))},W.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Hr(e,t,Yr(r),i)},W.values=oa,W.valuesIn=function(e){return null==e?[]:I(e,ia(e))},W.without=hs,W.words=ca,W.wrap=function(e,t){return qs(Yr(t),e)},W.xor=vs,W.xorBy=ps,W.xorWith=bs,W.zip=gs,W.zipObject=function(e,t){return Gr(e||[],t||[],St)},W.zipObjectDeep=function(e,t){return Gr(e||[],t||[],Dr)},W.zipWith=ms,W.entries=du,W.entriesIn=hu,W.extend=Qs,W.extendWith=eu,ha(W,W),W.add=Ou,W.attempt=_u,W.camelCase=vu,W.capitalize=sa,W.ceil=Du,W.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=Xi(r))==r?r:0),t!==n&&(t=(t=Xi(t))==t?t:0),Mt(Xi(e),t,r)},W.clone=function(e){return To(e,4)},W.cloneDeep=function(e){return To(e,5)},W.cloneDeepWith=function(e,t){return To(e,5,t="function"==typeof t?t:n)},W.cloneWith=function(e,t){return To(e,4,t="function"==typeof t?t:n)},W.conformsTo=function(e,t){return null==t||It(e,t,na(t))},W.deburr=ua,W.defaultTo=function(e,t){return null==e||e!=e?t:e},W.divide=Pu,W.endsWith=function(e,t,r){e=ea(e),t=Fo(t);var i=e.length,a=r=r===n?i:Mt(Yi(r),0,i);return(r-=t.length)>=0&&e.slice(r,a)==t},W.eq=Pi,W.escape=function(e){return(e=ea(e))&&Ne.test(e)?e.replace(Le,vr):e},W.escapeRegExp=function(e){return(e=ea(e))&&ze.test(e)?e.replace(Ve,"\\$&"):e},W.every=function(e,t,r){var i=js(e)?u:Ot;return r&&Jn(e,t,r)&&(t=n),i(e,Un(t,3))},W.find=ws,W.findIndex=gi,W.findKey=function(e,t){return g(e,Un(t,3),qt)},W.findLast=_s,W.findLastIndex=mi,W.findLastKey=function(e,t){return g(e,Un(t,3),Lt)},W.floor=qu,W.forEach=xi,W.forEachRight=Mi,W.forIn=function(e,t){return null==e?e:Po(e,Un(t,3),ia)},W.forInRight=function(e,t){return null==e?e:qo(e,Un(t,3),ia)},W.forOwn=function(e,t){return e&&qt(e,Un(t,3))},W.forOwnRight=function(e,t){return e&&Lt(e,Un(t,3))},W.get=ta,W.gt=Ns,W.gte=Bs,W.has=function(e,t){return null!=e&&Hn(e,t,Qt)},W.hasIn=ra,W.head=yi,W.identity=fa,W.includes=function(e,t,r,n){e=qi(e)?e:oa(e),r=r&&!n?Yi(r):0;var i=e.length;return r<0&&(r=so(i+r,0)),Vi(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&$(e,t,r)>-1},W.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Yi(r);return i<0&&(i=so(n+i,0)),$(e,t,i)},W.inRange=function(e,t,r){return t=Ji(t),r===n?(r=t,t=0):r=Ji(r),function(e,t,r){return e>=uo(t,r)&&e<so(t,r)}(e=Xi(e),t,r)},W.invoke=su,W.isArguments=Fs,W.isArray=js,W.isArrayBuffer=Ks,W.isArrayLike=qi,W.isArrayLikeObject=Li,W.isBoolean=function(e){return!0===e||!1===e||Ki(e)&&Jt(e)==ue},W.isBuffer=Hs,W.isDate=Ws,W.isElement=function(e){return Ki(e)&&1===e.nodeType&&!Wi(e)},W.isEmpty=function(e){if(null==e)return!0;if(qi(e)&&(js(e)||"string"==typeof e||"function"==typeof e.splice||Hs(e)||Js(e)||Fs(e)))return!e.length;var t=Yo(e);if(t==he||t==me)return!e.size;if(ei(e))return!$r(e).length;for(var r in e)if(Aa.call(e,r))return!1;return!0},W.isEqual=function(e,t){return Lo(e,t)},W.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Lo(e,t,n,r):!!i},W.isError=Ui,W.isFinite=function(e){return"number"==typeof e&&io(e)},W.isFunction=Ni,W.isInteger=Bi,W.isLength=Fi,W.isMap=Vs,W.isMatch=function(e,t){return e===t||dr(e,t,Bn(t))},W.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,dr(e,t,Bn(t),r)},W.isNaN=function(e){return Hi(e)&&e!=+e},W.isNative=function(e){if(Zo(e))throw new ya("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return gr(e)},W.isNil=function(e){return null==e},W.isNull=function(e){return null===e},W.isNumber=Hi,W.isObject=ji,W.isObjectLike=Ki,W.isPlainObject=Wi,W.isRegExp=zs,W.isSafeInteger=function(e){return Bi(e)&&e>=-9007199254740991&&e<=re},W.isSet=Gs,W.isString=Vi,W.isSymbol=zi,W.isTypedArray=Js,W.isUndefined=function(e){return e===n},W.isWeakMap=function(e){return Ki(e)&&Yo(e)==we},W.isWeakSet=function(e){return Ki(e)&&"[object WeakSet]"==Jt(e)},W.join=function(e,t){return null==e?"":ao.call(e,t)},W.kebabCase=pu,W.last=wi,W.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i;return r!==n&&(a=(a=Yi(r))<0?so(i+a,0):uo(a,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):m(e,w,a,!0)},W.lowerCase=bu,W.lowerFirst=gu,W.lt=Ys,W.lte=Zs,W.max=function(e){return e&&e.length?Dt(e,fa,Xt):n},W.maxBy=function(e,t){return e&&e.length?Dt(e,Un(t,2),Xt):n},W.mean=function(e){return _(e,fa)},W.meanBy=function(e,t){return _(e,Un(t,2))},W.min=function(e){return e&&e.length?Dt(e,fa,yr):n},W.minBy=function(e,t){return e&&e.length?Dt(e,Un(t,2),yr):n},W.stubArray=ba,W.stubFalse=ga,W.stubObject=function(){return{}},W.stubString=function(){return""},W.stubTrue=function(){return!0},W.multiply=Lu,W.nth=function(e,t){return e&&e.length?Cr(e,Yi(t)):n},W.noConflict=function(){return er._===this&&(er._=La),this},W.noop=va,W.now=xs,W.pad=function(e,t,r){e=ea(e);var n=(t=Yi(t))?j(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return wn(to(i),r)+e+wn(eo(i),r)},W.padEnd=function(e,t,r){e=ea(e);var n=(t=Yi(t))?j(e):0;return t&&n<t?e+wn(t-n,r):e},W.padStart=function(e,t,r){e=ea(e);var n=(t=Yi(t))?j(e):0;return t&&n<t?wn(t-n,r)+e:e},W.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),lo(ea(e).replace(Ge,""),t||0)},W.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Jn(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=Ji(e),t===n?(t=e,e=0):t=Ji(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=fo();return uo(e+a*(t-e+Yt("1e-"+((a+"").length-1))),t)}return Mr(e,t)},W.reduce=function(e,t,r){var n=js(e)?v:k,i=arguments.length<3;return n(e,Un(t,4),r,i,Ao)},W.reduceRight=function(e,t,r){var n=js(e)?p:k,i=arguments.length<3;return n(e,Un(t,4),r,i,Oo)},W.repeat=function(e,t,r){return t=(r?Jn(e,t,r):t===n)?1:Yi(t),Ir(ea(e),t)},W.replace=function(){var e=arguments,t=ea(e[0]);return e.length<3?t:t.replace(e[1],e[2])},W.result=function(e,t,r){var i=-1,a=(t=Zr(t,e)).length;for(a||(a=1,e=n);++i<a;){var o=null==e?n:e[hi(t[i])];o===n&&(i=a,o=r),e=Ni(o)?o.call(e):o}return e},W.round=Uu,W.runInContext=e,W.sample=function(e){return(js(e)?$t:Ar)(e)},W.size=function(e){if(null==e)return 0;if(qi(e))return Vi(e)?j(e):e.length;var t=Yo(e);return t==he||t==me?e.size:$r(e).length},W.snakeCase=mu,W.some=function(e,t,r){var i=js(e)?b:Lr;return r&&Jn(e,t,r)&&(t=n),i(e,Un(t,3))},W.sortedIndex=function(e,t){return Ur(e,t)},W.sortedIndexBy=function(e,t,r){return Nr(e,t,Un(r,2))},W.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Ur(e,t);if(n<r&&Pi(e[n],t))return n}return-1},W.sortedLastIndex=function(e,t){return Ur(e,t,!0)},W.sortedLastIndexBy=function(e,t,r){return Nr(e,t,Un(r,2),!0)},W.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Ur(e,t,!0)-1;if(Pi(e[r],t))return r}return-1},W.startCase=$u,W.startsWith=function(e,t,r){return e=ea(e),r=null==r?0:Mt(Yi(r),0,e.length),t=Fo(t),e.slice(r,r+t.length)==t},W.subtract=Nu,W.sum=function(e){return e&&e.length?E(e,fa):0},W.sumBy=function(e,t){return e&&e.length?E(e,Un(t,2)):0},W.template=function(e,t,r){var i=W.templateSettings;r&&Jn(e,t,r)&&(t=n),e=ea(e),t=eu({},t,i,xn);var a,o,s=eu({},t.imports,i.imports,xn),u=na(s),c=I(s,u),l=0,f=t.interpolate||lt,d="__p += '",h=Ca((t.escape||lt).source+"|"+f.source+"|"+(f===je?rt:lt).source+"|"+(t.evaluate||lt).source+"|$","g"),v="//# sourceURL="+(Aa.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";e.replace(h,(function(t,r,n,i,s,u){return n||(n=i),d+=e.slice(l,u).replace(ft,P),r&&(a=!0,d+="' +\n__e("+r+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var p=Aa.call(t,"variable")&&t.variable;if(p){if(et.test(p))throw new ya("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(Oe,""):d).replace(De,"$1").replace(Pe,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var b=_u((function(){return wa(u,v+"return "+d).apply(n,c)}));if(b.source=d,Ui(b))throw b;return b},W.times=function(e,t){if((e=Yi(e))<1||e>re)return[];var r=ie,n=uo(e,ie);t=Un(t),e-=ie;for(var i=R(n,t);++r<e;)t(r);return i},W.toFinite=Ji,W.toInteger=Yi,W.toLength=Zi,W.toLower=function(e){return ea(e).toLowerCase()},W.toNumber=Xi,W.toSafeInteger=function(e){return e?Mt(Yi(e),-9007199254740991,re):0===e?e:0},W.toString=ea,W.toUpper=function(e){return ea(e).toUpperCase()},W.trim=function(e,t,r){if((e=ea(e))&&(r||t===n))return x(e);if(!e||!(t=Fo(t)))return e;var i=K(e),a=K(t),o=A(i,a),s=O(i,a)+1;return Xr(i,o,s).join("")},W.trimEnd=function(e,t,r){if((e=ea(e))&&(r||t===n))return e.slice(0,H(e)+1);if(!e||!(t=Fo(t)))return e;var i=K(e),a=O(i,K(t))+1;return Xr(i,0,a).join("")},W.trimStart=function(e,t,r){if((e=ea(e))&&(r||t===n))return e.replace(Ge,"");if(!e||!(t=Fo(t)))return e;var i=K(e),a=A(i,K(t));return Xr(i,a).join("")},W.truncate=function(e,t){var r=30,i="...";if(ji(t)){var a="separator"in t?t.separator:a;r="length"in t?Yi(t.length):r,i="omission"in t?Fo(t.omission):i}var o=(e=ea(e)).length;if(q(e)){var s=K(e);o=s.length}if(r>=o)return e;var u=r-j(i);if(u<1)return i;var c=s?Xr(s,0,u).join(""):e.slice(0,u);if(a===n)return c+i;if(s&&(u+=c.length-u),zs(a)){if(e.slice(u).search(a)){var l,f=c;for(a.global||(a=Ca(a.source,ea(nt.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var d=l.index;c=c.slice(0,d===n?u:d)}}else if(e.indexOf(Fo(a),u)!=u){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+i},W.unescape=function(e){return(e=ea(e))&&Ue.test(e)?e.replace(qe,pr):e},W.uniqueId=function(e){var t=++Oa;return ea(e)+t},W.upperCase=yu,W.upperFirst=wu,W.each=xi,W.eachRight=Mi,W.first=yi,ha(W,(Ds={},qt(W,(function(e,t){Aa.call(W.prototype,t)||(Ds[t]=e)})),Ds),{chain:!1}),W.VERSION="4.17.21",o(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){W[e].placeholder=W})),o(["drop","take"],(function(e,t){dt.prototype[e]=function(r){r=r===n?1:so(Yi(r),0);var i=this.__filtered__&&!t?new dt(this):this.clone();return i.__filtered__?i.__takeCount__=uo(r,i.__takeCount__):i.__views__.push({size:uo(r,ie),type:e+(i.__dir__<0?"Right":"")}),i},dt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),o(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;dt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Un(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),o(["head","last"],(function(e,t){var r="take"+(t?"Right":"");dt.prototype[e]=function(){return this[r](1).value()[0]}})),o(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");dt.prototype[e]=function(){return this.__filtered__?new dt(this):this[r](1)}})),dt.prototype.compact=function(){return this.filter(fa)},dt.prototype.find=function(e){return this.filter(e).head()},dt.prototype.findLast=function(e){return this.reverse().find(e)},dt.prototype.invokeMap=Tr((function(e,t){return"function"==typeof e?new dt(this):this.map((function(r){return ir(r,e,t)}))})),dt.prototype.reject=function(e){return this.filter(Di(Un(e)))},dt.prototype.slice=function(e,t){e=Yi(e);var r=this;return r.__filtered__&&(e>0||t<0)?new dt(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=Yi(t))<0?r.dropRight(-t):r.take(t-e)),r)},dt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},dt.prototype.toArray=function(){return this.take(ie)},qt(dt.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=W[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(W.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof dt,c=s[0],l=u||js(t),f=function(e){var t=a.apply(W,h([e],s));return i&&d?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,v=!!this.__actions__.length,p=o&&!d,b=u&&!v;if(!o&&l){t=b?t:new dt(this);var g=e.apply(t,s);return g.__actions__.push({func:Ri,args:[f],thisArg:n}),new Je(g,d)}return p&&b?e.apply(this,s):(g=this.thru(f),p?i?g.value()[0]:g.value():g)})})),o(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ra[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);W.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(js(i)?i:[],e)}return this[r]((function(r){return t.apply(js(r)?r:[],e)}))}})),qt(dt.prototype,(function(e,t){var r=W[t];if(r){var n=r.name+"";Aa.call(wo,n)||(wo[n]=[]),wo[n].push({name:t,func:r})}})),wo[Ho(n,2).name]=[{name:"wrapper",func:n}],dt.prototype.clone=function(){var e=new dt(this.__wrapped__);return e.__actions__=sn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=sn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=sn(this.__views__),e},dt.prototype.reverse=function(){if(this.__filtered__){var e=new dt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},dt.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=js(e),n=t<0,i=r?e.length:0,a=Kn(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,f=l.length,d=0,h=uo(u,this.__takeCount__);if(!r||!n&&i==u&&h==u)return Vr(e,this.__actions__);var v=[];e:for(;u--&&d<h;){for(var p=-1,b=e[c+=t];++p<f;){var g=l[p],m=g.iteratee,$=g.type,y=m(b);if(2==$)b=y;else if(!y){if(1==$)continue e;break e}}v[d++]=b}return v},W.prototype.at=$s,W.prototype.chain=function(){return Ei(this)},W.prototype.commit=function(){return new Je(this.value(),this.__chain__)},W.prototype.next=function(){this.__values__===n&&(this.__values__=Gi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},W.prototype.plant=function(e){for(var t,r=this;r instanceof V;){var i=bi(r);i.__index__=0,i.__values__=n,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t},W.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof dt){var t=e;return this.__actions__.length&&(t=new dt(this)),(t=t.reverse()).__actions__.push({func:Ri,args:[Si],thisArg:n}),new Je(t,this.__chain__)}return this.thru(Si)},W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=function(){return Vr(this.__wrapped__,this.__actions__)},W.prototype.first=W.prototype.head,Ga&&(W.prototype[Ga]=function(){return this}),W}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(er._=br,define((function(){return br}))):rr?((rr.exports=br)._=br,tr._=br):er._=br}).call(void 0)})),parcelRequire.register("fbBEx",(function(e,t){e.exports=parcelRequire("bVs8P")(parcelRequire("g8aXv").getBundleURL("i2rEC")+parcelRequire("2XGuX").resolve("gTrIf")).then((function(){return parcelRequire("d7rei")}))}));var $97333414cff84618$exports={};parcelRequire("2XGuX").register(JSON.parse('{"i2rEC":"index.c4ed069e.js","ck4bI":"rust-crypto.cee58ef4.js","gTrIf":"Browser.45df2760.js"}'));var $4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$308c98e140179bd1$exports={};!function(e){"use strict";var t=function(e,t,r){this.cZ=e,this.bY=t,this.bN=r},r=function(e,t,r,n,i){this.bW=e,this.fu=t,this.d6=r,this.b3=n,this.gG=i},n=function(e,t,r,n){this.d9=e,this.ea=t,this.g0=r,this.fl=n},i=function(e,t){this.g0=e,this.fl=t},a=function(e,t,r,n){this.d4=e,this.gz=t,this.gA=r,this.fk=n},o=function(e,t){this.gq=e,this.gu=t},s=function(e,t){this.gf=e,this.gu=t},u=function(e,t,r,n,i,a){this.aC=e,this.cD=t,this.de=r,this.dh=n,this.dl=i,this.ag=a},c=function(e,t,r,n,i,a,o,s){this.eB=e,this.by=t,this.cI=r,this.bF=n,this.gb=i,this.bb=a,this.gu=o,this.gy=s},l=function(e,t,r,n){this.bE=e,this.dC=t,this.gs=r,this.d4=n},f=function(e,t,r,n){this.cZ=e,this.bR=t,this.gr=r,this.gT=n},d=function(e,t,r){this.b9=e,this.ci=t,this.a9=r},h=function(e,t,r,n){this.cI=e,this.a4=t,this.f2=r,this.gE=n},v=function(e,t,r){this.eG=e,this.fv=t,this.fx=r},p=function(e,t,r,n,i,a,o,s,u,c,l,f,d,h,v,p,b,g,m,$){this.en=e,this.eo=t,this.eq=r,this.cf=n,this.eL=i,this.eM=a,this.e$=o,this.a0=s,this.fB=u,this.fH=c,this.fL=l,this.cU=f,this.fS=d,this.fW=h,this.f5=v,this.gj=p,this.dE=b,this.gU=g,this.d1=m,this.bd=$},b=function(e,t,r){this.cM=e,this.cN=t,this.di=r},g=function(e,t,r,n,i,a,o,s,u,c,l,f,d,h,v,p,b,g,m){this.b5=e,this.eI=t,this.cp=r,this.cv=n,this.cC=i,this.fv=a,this.fA=o,this.fG=s,this.fS=u,this.dH=c,this.dL=l,this.dM=f,this.dS=d,this.R=h,this.gJ=v,this.am=p,this.dZ=b,this.d$=g,this.b2=m},m=function(e,t,r){this.ee=e,this.er=t,this.gX=r},$=function(e,t){this.gc=e,this.gD=t},y=function(e,t,r){this.c9=e,this.bV=t,this.dR=r},w=function(e,t,r,n,i,a){this.e2=e,this.dd=t,this.a7=r,this.a9=n,this.gy=i,this.R=a},_=function(e,t,r,n,i,a,o,s,u,c,l,f,d,h,v,p,b,g,m,$,y,w){this.b7=e,this.eR=t,this.e2=r,this.cJ=n,this.cP=i,this.cQ=a,this.fP=o,this.c$=s,this.f7=u,this.df=c,this.ge=l,this.$7=f,this.ds=d,this.dD=h,this.gp=v,this.bU=p,this.dF=b,this.R=g,this.gS=m,this.dY=$,this.gU=y,this.d4=w},S=function(e,t,r){this.eD=e,this.fI=t,this.gx=r},C=function(e,t){this.cs=e,this.bA=t},k=function(e,t,r,n,i){this.aB=e,this.cq=t,this.fy=r,this.dM=n,this.d8=i},E=function(e,t,r,n,i,a,o,s,u,c,l,f,d,h,v){this.ap=e,this.cm=t,this.eQ=r,this.bo=n,this.eZ=i,this.aY=a,this.cw=o,this.bw=s,this.ft=u,this.cH=c,this.bO=l,this.dD=f,this.b_=d,this.b$=h,this.b1=v},R=function(e,t,r){this.em=e,this.cg=t,this.d8=r},x=function(e,t){this.cg=e,this.fW=t},M=function(e,t,r){this.eJ=e,this.fx=t,this.N=r},I=function(e,t,r,n,i,a){this.eg=e,this.bg=t,this.eP=r,this.aL=n,this.d2=i,this.gY=a},T=function(e,t,r,n,i,a,o,s,u,c,l,f,d,h,v){this.bi=e,this.ch=t,this.co=r,this.bo=n,this.fx=i,this.a1=a,this.cL=o,this.c0=s,this.bM=u,this.dt=c,this.dw=l,this.dx=f,this.bT=d,this.b3=h,this.d3=v},A=function(e,t,r,n,i,a){this.es=e,this.cg=t,this.e1=r,this.fr=n,this.ga=i,this.g$=a},O=function(e,t,r,n,i,a,o,s){this.ej=e,this.eu=t,this.e7=r,this.fk=n,this.fQ=i,this.gR=a,this.d_=o,this.d4=s},D=function(e,t,r,n,i,a,o){this.eu=e,this.e7=t,this.fk=r,this.fQ=n,this.gR=i,this.d_=a,this.d4=o},P=function(e,t){this.e7=e,this.d4=t},q=function(e,t,r){this.eB=e,this.ft=t,this.gS=r},L=function(e,t,r){this.eB=e,this.gd=t,this.gH=r},U=function(e,t,r,n,i,a,o,s,u,c,l,f,d,h,v,p,b,g,m,$){this.eu=e,this.eB=t,this.ap=r,this.eR=n,this.eZ=i,this.e2=a,this.bu=o,this.cw=s,this.bw=u,this.fr=c,this.ft=l,this.f8=f,this.df=d,this.bO=h,this.b_=v,this.R=p,this.b$=b,this.b1=g,this.gS=m,this.d8=$},N=function(e,t,r,n){this.em=e,this.bt=t,this.fw=r,this.dN=n},B=function(e,t){this.d9=e,this.ea=t},F=function(e,t,r,n){this.a2=e,this.dt=t,this._=r,this.d9=n},j=function(e,t,r,n){this.ce=e,this.fK=t,this.du=r,this.dF=n},K=function(e,t,r,n,i){this.ce=e,this.cx=t,this.du=r,this.dF=n,this.dT=i},H=function(e,t){this.cV=e,this.c_=t},W=function(e,t,r,n,i,a,o){this.eT=e,this.fE=t,this.gS=r,this.g4=n,this.g5=i,this.g8=a,this.g9=o},V=function(e,t,r,n){this.em=e,this.eB=t,this.fA=r,this.c4=n},z=function(e,t,r){this.aX=e,this.aF=t,this.dt=r},G=function(e,t,r,n){this.aX=e,this.aw=t,this.K=r,this.aF=n},J=function(e,t,r,n,i){this.eB=e,this.fg=t,this.fA=r,this.c4=n,this.d8=i},Y=function(e,t,r,n,i,a,o,s,u,c,l,f){this.em=e,this.e5=t,this.aZ=r,this.cu=n,this.bG=i,this.cT=a,this.gi=o,this.dx=s,this.gI=u,this.dV=c,this.bd=l,this.be=f},Z=function(e,t){this.fr=e,this.fP=t},X=function(e,t,r){this.fq=e,this.fr=t,this.gd=r},Q=function(e,t,r,n,i,a){this.e4=e,this.fp=t,this.gn=r,this.gw=n,this.gy=i,this.gW=a},ee=function(e,t,r,n){this.e3=e,this.gn=t,this.gy=r,this.gF=n},te=function(e,t){this.fr=e,this.gH=t},re=function(e,t,r,n,i){this.eu=e,this.eA=t,this.fe=r,this.fj=n,this.fr=i},ne=function(e,t,r){this.eD=e,this.eS=t,this.eV=r},ie=function(e,t){this.fr=e,this.gM=t},ae=function(e,t){this.gn=e,this.gy=t},oe=function(e,t){this.aZ=e,this.bG=t},se=function(e,t,r,n){this.eE=e,this.e6=t,this.bc=r,this.gY=n},ue=function(e,t){this.aA=e,this.fr=t},ce=function(e,t,r){this.as=e,this.U=t,this.fx=r},le=function(e,t,r,n){this.eu=e,this.eZ=t,this.e2=r,this.fr=n},fe=function(e,t,r,n,i,a,o,s,u,c,l,f){this.eu=e,this.ap=t,this.eZ=r,this.e2=n,this.bu=i,this.cw=a,this.bw=o,this.fr=s,this.bO=u,this.b_=c,this.b$=l,this.b1=f},de=function(e,t,r){this.cA=e,this.fi=t,this.b3=r},he=function(e,t,r,n){this.b9=e,this.ci=t,this.dd=r,this.a9=n},ve=function(e,t,r){this.gN=e,this.gS=t,this.d4=r},pe=function(e,t,r){this.cf=e,this.eY=t,this.gS=r},be=function(e,t){this.d4=e,this.bd=t},ge=function(e,t){this.fl=e,this.g0=t},me=function(e,t,r,n){this.eg=e,this.fr=t,this.fC=r,this.g_=n},$e=function(e,t){this.eR=e,this.gS=t},ye=function(e,t){this.eq=e,this.fT=t},we=function(e,t,r,n,i,a,o,s,u,c,l,f,d){this.fA=e,this.fG=t,this.fP=r,this.c7=n,this.go=i,this.gv=a,this.dM=o,this.R=s,this.am=u,this.dZ=c,this.gV=l,this.d6=f,this.d8=d},_e=function(e,t,r,n,i){this.H=e,this.Q=t,this.aD=r,this.bS=n,this.gu=i},Se=function(e,t,r,n,i){this.aS=e,this.eX=t,this.cB=r,this.fN=n,this.bd=i},Ce=function(e,t,r,n,i){this.bh=e,this.cn=t,this.fh=r,this.bD=n,this.fS=i},ke=function(e,t){this.aE=e,this.bd=t},Ee=function(e,t,r,n){this.eP=e,this.br=t,this.fA=r,this.bH=n},Re=function(e,t,r){this.fA=e,this.c4=t,this.d0=r},xe=function(e,t,r){this.fA=e,this.gN=t,this.g$=r},Me=function(e,t){this.ai=e,this.g0=t},Ie=function(e,t,r,n){this.a$=e,this.ae=t,this.ak=r,this.gS=n},Te=function(e,t,r,n,i,a,o,s,u,c,l,f){this.fA=e,this.fG=t,this.fP=r,this.fS=n,this.go=i,this.gv=a,this.dM=o,this.R=s,this.am=u,this.dZ=c,this.gV=l,this.d8=f},Ae=function(e,t,r){this.ae=e,this.ak=t,this.gS=r},Oe=function(e,t,r,n,i,a){this.eg=e,this.V=t,this.ae=r,this.X=n,this.aL=i,this.gY=a},De=function(e,t,r,n,i,a,o){this.ef=e,this.fG=t,this.fM=r,this.fS=n,this.dC=i,this.dE=a,this.d6=o},Pe=function(e,t,r,n,i,a,o,s,u){this.em=e,this.ar=t,this.aZ=r,this.at=n,this.bB=i,this.au=a,this.av=o,this.R=s,this.am=u},qe=function(e,t,r,n,i,a,o){this.ar=e,this.at=t,this.au=r,this.av=n,this.fA=i,this.R=a,this.am=o},Le=function(e,t,r,n,i,a,o){this.fr=e,this.fA=t,this.dx=r,this.R=n,this.dV=i,this.be=a,this.d5=o},Ue=function(e,t,r){this.em=e,this.fA=t,this.fG=r},Ne=function(e,t,r){this.ed=e,this.gh=t,this.gY=r},Be=function(e,t){this.gB=e,this.g0=t},Fe=function(e,t,r,n,i){this.fM=e,this.d9=t,this.g5=r,this.ea=n,this.g9=i},je=function(e,t){this.cV=e,this.c4=t},Ke=function(e,t,r,n,i){this.eB=e,this.fA=t,this.fT=r,this.R=n,this.am=i},He=function(e,t,r,n){this.fA=e,this.dG=t,this.dX=r,this.b2=n},We=function(e,t){this.eu=e,this.gS=t},Ve=function(e,t,r,n,i,a){this.fu=e,this.f3=t,this.f4=r,this.gG=n,this.b3=i,this.d6=a},ze=function(e,t,r,n,i,a,o){this.bk=e,this.by=t,this.P=r,this.dC=n,this.bT=i,this.dF=a,this.R=o},Ge=function(e,t){var r=e.$c();return r.aC=t,r},Je=function(e,t){var r=e.$c();return r.di=t,r},Ye=function(e,t){var r=e.$c();return r.gT=t,r},Ze=function(e,t,r){var n=e.$c();return n.N=t,n.fx=r,n},Xe=function(e,t){var r=e.$c();return r.cU=t,r},Qe=function(e,t){var r=e.$c();return r.cg=t,r},et=function(e,t){var r=e.$c();return r.aB=t,r},tt=function(e,t){var r=e.$c();return r.eZ=t,r},rt=function(e,t){var r=e.$c();return r.fx=t,r},nt=function(e,t){var r=e.$c();return r.cm=t,r},it=function(e,t){var r=e.$c();return r.fy=t,r},at=function(e,t,r){var n=e.$c();return n.cg=t,n.fr=r,n},ot=function(e,t){var r=e.$c();return r.en=t,r},st=function(e,t){var r=e.$c();return r.fS=t,r},ut=function(e,t){var r=e.$c();return r.e2=t,r},ct=function(e,t){var r=e.$c();return r.e6=t,r},lt=function(e,t){var r=e.$c();return r.R=t,r},ft=function(e,t){var r=e.$c();return r.eE=t,r},dt=function(e,t,r){var n=e.$c();return n.cH=t,n.ft=r,n},ht=function(e,t){var r=e.$c();return r._=t,r},vt=function(e,t){var r=e.$c();return r.dt=t,r},pt=function(e,t){var r=e.$c();return r.cs=t,r},bt=function(e,t){var r=e.$c();return r.ap=t,r},gt=function(e,t){var r=e.$c();return r.bA=t,r},mt=function(e,t){var r=e.$c();return r.bw=t,r},$t=function(e,t){var r=e.$c();return r.bO=t,r},yt=function(e,t){var r=e.$c();return r.b_=t,r},wt=function(e,t){var r=e.$c();return r.b$=t,r},_t=function(e,t){var r=e.$c();return r.bU=t,r},St=function(e,t){var r=e.$c();return r.d8=t,r},Ct=function(e,t,r){var n=e.$c();return n.bG=t,n.bd=r,n},kt=function(e,t){var r=e.$c();return r.eB=t,r},Et=function(e,t){var r=e.$c();return r.dx=t,r},Rt=function(e,t){var r=e.$c();return r.aZ=t,r},xt=function(e,t,r){var n=e.$c();return n.dV=t,n.dx=r,n},Mt=function(e,t,r){var n=e.$c();return n.U=t,n.fx=r,n},It=function(e,t){var r=e.$c();return r.dV=t,r},Tt=function(e,t){var r=e.$c();return r.fg=t,r},At=function(e,t){var r=e.$c();return r.bG=t,r},Ot=function(e,t){var r=e.$c();return r.gI=t,r},Dt=function(e,t){var r=e.$c();return r.eg=t,r},Pt=function(e,t){var r=e.$c();return r.gY=t,r},qt=function(e,t){var r=e.$c();return r.b3=t,r},Lt=function(e,t,r){var n=e.$c();return n.d3=t,n.fx=r,n},Ut=function(e,t){var r=e.$c();return r.dM=t,r},Nt=function(e,t,r,n){var i=e.$c();return i.e4=t,i.gW=r,i.gw=n,i},Bt=function(e,t){var r=e.$c();return r.gy=t,r},Ft=function(e,t){var r=e.$c();return r.gF=t,r},jt=function(e,t){var r=e.$c();return r.e3=t,r},Kt=function(e,t){var r=e.$c();return r.b1=t,r},Ht=function(e,t,r){var n=e.$c();return n.R=t,n.ap=r,n},Wt=function(e,t){var r=e.$c();return r.bu=t,r},Vt=function(e,t){var r=e.$c();return r.c9=t,r},zt=function(e,t){var r=e.$c();return r.ag=t,r},Gt=function(e,t){var r=e.$c();return r.d4=t,r},Jt=function(e,t,r){var n=e.$c();return n.R=t,n.bU=r,n},Yt=function(e,t){var r=e.$c();return r.bV=t,r},Zt=function(e,t,r,n){var i=e.$c();return i.a7=t,i.e2=r,i.gy=n,i},Xt=function(e,t){var r=e.$c();return r.a9=t,r},Qt=function(e,t){var r=e.$c();return r.b2=t,r},er=function(e,t){var r=e.$c();return r.gJ=t,r},tr=function(e,t,r){var n=e.$c();return n.dF=t,n.gp=r,n},rr=function(e,t){var r=e.$c();return r.dF=t,r},nr=function(e,t,r){var n=e.$c();return n.bF=t,n.bb=r,n},ir=function(e,t){var r=e.$c();return r.bb=t,r},ar=function(e,t){var r=e.$c();return r.bF=t,r},or=function(e,t){var r=e.$c();return r.eG=t,r},sr=function(e,t){var r=e.$c();return r.gb=t,r},ur=function(e,t,r){var n=e.$c();return n.H=t,n.Q=r,n},cr=function(e,t,r,n){var i=e.$c();return i.H=t,i.Q=r,i.bS=n,i},lr=function(e,t,r,n,i){var a=e.$c();return a.H=t,a.Q=r,a.aD=n,a.bS=i,a},fr=function(e,t){var r=e.$c();return r.g0=t,r},dr=function(e,t){var r=e.$c();return r.d6=t,r},hr=function(e,t){var r=e.$c();return r.ea=t,r},vr=function(e,t){var r=e.$c();return r.d9=t,r},pr=function(e,t){var r=e.$c();return r.c7=t,r},br=function(e,t){var r=e.$c();return r.go=t,r},gr=function(e){var t=function(t){return function(r){return e(t,r)}};return t.a2=e,t},mr=function(e){var t=function(t){return function(r){return function(n){return e(t,r,n)}}};return t.a3=e,t},$r=function(e){var t=function(t){return function(r){return function(n){return function(i){return e(t,r,n,i)}}}};return t.a4=e,t},yr=function(e){var t=function(t){return function(r){return function(n){return function(i){return function(a){return e(t,r,n,i,a)}}}}};return t.a5=e,t},wr=function(e){var t=function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return e(t,r,n,i,a,o)}}}}}};return t.a6=e,t},_r=function(e){var t=function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return e(t,r,n,i,a,o,s)}}}}}}};return t.a7=e,t},Sr=function(e){var t=function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return e(t,r,n,i,a,o,s,u)}}}}}}}};return t.a8=e,t},Cr=function(e){var t=function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return function(c){return e(t,r,n,i,a,o,s,u,c)}}}}}}}}};return t.a9=e,t},kr=function(e,t,r){return e.a2?e.a2(t,r):e(t)(r)},Er=function(e,t,r,n){return e.a3?e.a3(t,r,n):e(t)(r)(n)},Rr=function(e,t,r,n,i){return e.a4?e.a4(t,r,n,i):e(t)(r)(n)(i)},xr=function(e,t,r,n,i,a){return e.a5?e.a5(t,r,n,i,a):e(t)(r)(n)(i)(a)},Mr=function(e,t,r,n,i,a,o){return e.a6?e.a6(t,r,n,i,a,o):e(t)(r)(n)(i)(a)(o)},Ir=function(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")},Tr=function(e,t){for(var r,n=[],i=Hi(e,t,0,n);i&&(r=n.pop());i=Hi(r.a,r.b,0,n));return i},Ar=function(e,t){return{a:e,b:t}},Or=function(e,t,r){return{a:e,b:t,c:r}},Dr=function(e,t){if("string"==typeof e)return e+t;if(!e.b)return t;var r=Pr(e.a,t);e=e.b;for(var n=r;e.b;e=e.b)n=n.b=Pr(e.a,t);return r},Pr=function(e,t){return{$:1,a:e,b:t}},qr=function(e){for(var t=Xi,r=e.length;r--;)t=Pr(e[r],t);return t},Lr=function(e){for(var t=[];e.b;e=e.b)t.push(e.a);return t},Ur=function(e){return e+""},Nr=function(e){return{$:2,b:e}},Br=function(e,t){return{$:9,f:e,g:t}},Fr=function(e,t,r){for(var n=t.length,i=new Array(n),a=0;a<n;a++){var o=Za(e,t[a]);if(!Ju(o))return Hs(zs(a,o.a));i[a]=o.a}return Gs(r(i))},jr=function(e){return Array.isArray(e)||"undefined"!=typeof FileList&&e instanceof FileList},Kr=function(e){return Gu(e.length,(function(t){return e[t]}))},Hr=function(e,t){return Hs(Ws("Expecting "+e,Vr(t)))},Wr=function(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(!Xa(e[n],t[n]))return!1;return!0},Vr=function(e){return e},zr=function(e){return gr((function(t,r){return r.push(e(t)),r}))},Gr=function(e){return{$:0,a:e}},Jr=function(e){return{$:2,b:e,c:null}},Yr=function(e){var t={$:0,e:ao++,f:e,g:null,h:[]};return Qr(t),t},Zr=function(e){return Jr((function(t){t(Gr(Yr(e)))}))},Xr=function(e,t){e.h.push(t),Qr(e)},Qr=function(e){if(uo.push(e),!so){for(so=!0;e=uo.shift();)en(e);so=!1}},en=function(e){for(;e.f;){var t=e.f.$;if(0===t||1===t){for(;e.g&&e.g.$!==t;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else{if(2===t)return void(e.f.c=e.f.b((function(t){e.f=t,Qr(e)})));if(5===t){if(0===e.h.length)return;e.f=e.f.b(e.h.shift())}else e.g={$:3===t?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}},tn=function(e){return Jr((function(t){var r=setTimeout((function(){t(Gr(Yi))}),e);return function(){clearTimeout(r)}}))},rn=function(e,t,r,n,i,a){var o=Ja(e,Vr(t?t.flags:void 0));Ju(o)||Ir(2);var s={},u=r(o.a),c=u.a,l=a(d,c),f=nn(s,d);function d(e,t){var r=kr(n,e,c);l(c=r.a,t),cn(s,r.b,i(c))}return cn(s,u.b,i(c)),f?{ports:f}:{}},nn=function(e,t){var r;for(var n in co){var i=co[n];i.a&&((r=r||{})[n]=i.a(n,t)),e[n]=on(i,t)}return r},an=function(e,t,r,n,i){return{b:e,c:t,d:r,e:n,f:i}},on=function(e,t){var r={g:t,h:void 0},n=e.c,i=e.d,a=e.e,o=e.f;return r.h=Yr(no((function e(t){return no(e,{$:5,b:function(e){var s=e.a;return 0===e.$?Er(i,r,s,t):a&&o?Rr(n,r,s.i,s.j,t):Er(n,r,a?s.i:s.j,t)}})}),e.b))},sn=function(e){return function(t){return{$:1,k:e,l:t}}},un=function(e){return{$:2,m:e}},cn=function(e,t,r){if(po.push({p:e,q:t,r:r}),!bo){bo=!0;for(var n;n=po.shift();)ln(n.p,n.q,n.r);bo=!1}},ln=function(e,t,r){var n={};for(var i in go(!0,t,n,null),go(!1,r,n,null),e)Xr(e[i],{$:"fx",a:n[i]||{i:Xi,j:Xi}})},fn=function(e){co[e]&&Ir(3,e)},dn=function(e){var t=[],r=co[e].u,n=tn(0);return co[e].b=n,co[e].c=mr((function(e,i,a){for(;i.b;i=i.b)for(var o=t,s=r(i.a),u=0;u<o.length;u++)o[u](s);return n})),{subscribe:function(e){t.push(e)},unsubscribe:function(e){var r=(t=t.slice()).indexOf(e);r>=0&&t.splice(r,1)}}},hn=function(e,t){return fn(e),co[e]={f:yo,u:t,a:vn},sn(e)},vn=function(e,t){var r=Xi,n=co[e].u,i=Gr(null);return co[e].b=i,co[e].c=mr((function(e,t,n){return r=t,i})),{send:function(i){var a=Ja(n,Vr(i));Ju(a)||Ir(4,e,a.a);for(var o=a.a,s=r;s.b;s=s.b)t(s.a(o))}}},pn=function(e,t){e.appendChild(t)},bn=function(e){return{$:0,a:e}},gn=function(e,t){return{$:5,l:e,m:t,k:void 0}},mn=function(e){return"script"==e?"p":e},$n=function(e){return/^\s*(javascript:|data:text\/html)/i.test(e)?"":e},yn=function(e){for(var t={};e.b;e=e.b){var r=e.a,n=r.$,i=r.n,a=r.o;if("a2"!==n){var o=t[n]||(t[n]={});"a3"===n&&"class"===i?wn(o,i,a):o[i]=a}else"className"===i?wn(t,i,a):t[i]=a}return t},wn=function(e,t,r){var n=e[t];e[t]=n?n+" "+r:r},_n=function(e,t,r){for(var n in r){var i=r[n];"a1"===n?Sn(e,i):"a0"===n?En(e,t,i):"a3"===n?Cn(e,i):"a4"===n?kn(e,i):("value"!==n&&"checked"!==n||e[n]!==i)&&(e[n]=i)}},Sn=function(e,t){var r=e.style;for(var n in t)r[n]=t[n]},Cn=function(e,t){for(var r in t){var n=t[r];void 0!==n?e.setAttribute(r,n):e.removeAttribute(r)}},kn=function(e,t){for(var r in t){var n=t[r],i=n.f,a=n.o;void 0!==a?e.setAttributeNS(i,r,a):e.removeAttributeNS(i,r)}},En=function(e,t,r){var n=e.elmFs||(e.elmFs={});for(var i in r){var a=r[i],o=n[i];if(a){if(o){if(o.q.$===a.$){o.q=a;continue}e.removeEventListener(i,o)}o=Rn(t,a),e.addEventListener(i,o,_o&&{passive:Xu(a)<2}),n[i]=o}else e.removeEventListener(i,o),n[i]=void 0}},Rn=function(e,t){function r(t){var n=r.q,i=Za(n.a,t);if(Ju(i)){for(var a,o=Xu(n),s=i.a,u=o?o<3?s.a:s.cZ:s,c=1==o?s.b:3==o&&s.bY,l=(c&&t.stopPropagation(),(2==o?s.b:3==o&&s.bN)&&t.preventDefault(),e);a=l.j;){if("function"==typeof a)u=a(u);else for(var f=a.length;f--;)u=a[f](u);l=l.p}l(u,c)}}return r.q=t,r},xn=function(e,t){return e.$==t.$&&Xa(e.a,t.a)},Mn=function(e,t){var r=[];return Ho(e,t,r,0),r},In=function(e,t,r,n){var i={$:t,r:r,s:n,t:void 0,u:void 0};return e.push(i),i},Tn=function(e,t,r,n,i){if(e.c===t.c&&e.f===t.f){var a=Wo(e.d,t.d);a&&In(r,4,n,a),i(e,t,r,n)}else In(r,0,n,t)},An=function(e,t,r,n){var i=e.e,a=t.e,o=i.length,s=a.length;o>s?In(r,6,n,{v:s,i:o-s}):o<s&&In(r,7,n,{v:o,e:a});for(var u=o<s?o:s,c=0;c<u;c++){var l=i[c];Ho(l,a[c],r,++n),n+=l.b||0}},On=function(e,t,r,n){for(var i=[],a={},o=[],s=e.e,u=t.e,c=s.length,l=u.length,f=0,d=0,h=n;f<c&&d<l;){var v=s[f],p=u[d],b=v.a,g=p.a,m=v.b,$=p.b,y=void 0,w=void 0;if(b!==g){var _=s[f+1],S=u[d+1];if(_){var C=_.a,k=_.b;w=g===C}if(S){var E=S.a,R=S.b;y=b===E}if(y&&w)Ho(m,R,i,++h),zo(a,i,b,$,d,o),h+=m.b||0,Go(a,i,b,k,++h),h+=k.b||0,f+=2,d+=2;else if(y)h++,zo(a,i,g,$,d,o),Ho(m,R,i,h),h+=m.b||0,f+=1,d+=2;else if(w)Go(a,i,b,m,++h),h+=m.b||0,Ho(k,$,i,++h),h+=k.b||0,f+=2,d+=1;else{if(!_||C!==E)break;Go(a,i,b,m,++h),zo(a,i,g,$,d,o),h+=m.b||0,Ho(k,R,i,++h),h+=k.b||0,f+=2,d+=2}}else Ho(m,$,i,++h),h+=m.b||0,f++,d++}for(;f<c;){h++;m=(v=s[f]).b;Go(a,i,v.a,m,h),h+=m.b||0,f++}for(;d<l;){var x=x||[];zo(a,i,(p=u[d]).a,p.b,void 0,x),d++}(i.length>0||o.length>0||x)&&In(r,8,n,{w:i,x:o,y:x})},Dn=function(e,t,r,n){Jo(e,t,r,0,0,t.b,n)},Pn=function(e,t,r,n){return 0===r.length?e:(Dn(e,t,r,n),qn(e,r))},qn=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.t,a=Ln(i,n);i===e&&(e=a)}return e},Ln=function(e,t){switch(t.$){case 0:return Un(e,t.s,t.u);case 4:return _n(e,t.u,t.s),e;case 3:return e.replaceData(0,e.length,t.s),e;case 1:return qn(e,t.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=t.s:e.elm_event_node_ref={j:t.s,p:t.u},e;case 6:var r=t.s;if(e.childNodes.length!==r.i+r.v){console.log("INFO 0: using another logic");for(var n=0,i=e.childNodes.length-1;n<r.i;){var a=e.childNodes[i];a.created_by_elm&&(e.removeChild(a),n++),i--}return e}for(var o=0;o<r.i;o++)e.removeChild(e.childNodes[r.v]);return e;case 7:for(var s=(r=t.s).e,u=(o=r.v,e.childNodes[o]);o<s.length;o++)e.insertBefore(Ko(s[o],t.u),u);return e;case 9:if(!(r=t.s))return e.parentNode.removeChild(e),e;var c=r.A;return void 0!==c.r&&e.parentNode.removeChild(e),c.s=qn(e,r.w),e;case 8:return Nn(e,t);case 5:return t.s(e);default:Ir(10)}},Un=function(e,t,r){var n=e.parentNode,i=Ko(t,r);return i.elm_event_node_ref||(i.elm_event_node_ref=e.elm_event_node_ref),n&&i!==e&&n.replaceChild(i,e),i},Nn=function(e,t){var r=t.s,n=Bn(r.y,t);e=qn(e,r.w);for(var i=r.x,a=0;a<i.length;a++){var o=i[a],s=o.A,u=2===s.c?s.s:Ko(s.z,t.u);e.insertBefore(u,e.childNodes[o.r])}return n&&pn(e,n),e},Bn=function(e,t){if(e){for(var r=So.createDocumentFragment(),n=0;n<e.length;n++){var i=e[n].A;pn(r,2===i.c?i.s:Ko(i.z,t.u))}return r}},Fn=function(e,t){t(e);var r=0;function n(){r=1===r?0:(Xo(n),t(e),1)}return function(i,a){e=i,a?(t(e),2===r&&(r=1)):(0===r&&Xo(n),r=2)}},jn=function(){return bc(So.location.href).a||Ir(1)},Kn=function(e,t){return Jr((function(r){Xo((function(){var n=document.getElementById(e);r(n?Gr(t(n)):{$:1,a:rc(e)})}))}))},Hn=function(e){return Jr((function(t){Xo((function(){t(Gr(e()))}))}))},Wn=function(){var e=rs.body,t=rs.documentElement;return new i(Math.max(e.scrollWidth,e.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth),Math.max(e.scrollHeight,e.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight))},Vn=function(e){return new a(e.responseURL,e.status,e.statusText,zn(e.getAllResponseHeaders()))},zn=function(e){if(!e)return rf;for(var t=rf,r=e.split("\r\n"),n=r.length;n--;){var i=r[n],a=i.indexOf(": ");if(a>0){var o=i.substring(0,a),s=i.substring(a+2);t=y$(o,(function(e){return Ts(d$(e)?s+", "+e.a:s)}),t)}}return t},Gn=function(e){for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);t+=n<128?1:n<2048?2:n<55296||56319<n?3:(r++,4)}return t},Jn=function(){return rv(Dh(lp(Oh(qr([rh(Pp,Op),rh(Pp,Tp),rh(Pp,xp),Yn()])))))},Yn=function(){return rh((function(e){return rh((function(t){return rh((function(t){return Pp(Ar(e,t))}),sh(gd(t),np))}),fh(Wc(xh,Mh,"[\t ]*\\n"),Sp))}),$h(Ep,$h(Wc(xh,Mh,"[\t ]*[a-zA-Z0-9_]*[\t ]*"),Qv)))},Zn=function(){return sh(Av,bm("~~"))},Xn=function(){return sh(Tv,bm("^"))},Qn=function(){return sh(Iv,bm("~"))},ei=function(){return sh($v,yh(bm("*"),bm("_")))},ti=function(){return sh(vv,yh(bm("**"),bm("__")))},ri=function(){return sh(Rv,Oh(qr([hi(),ni(),ai(),di(),li(),ui(),si(),fi()])))},ni=function(){return $h(ii(),Ch("!?"))},ii=function(){return fh(Ch(")"),ch(ci(),ch(sh(Hg,om),fh(Ch("("),sh(Sv,vi())))))},ai=function(){return $h(oi(),Ch("?"))},oi=function(){return fh(Ch(")"),ch(ci(),ch(sh(vb,om),fh(Ch("("),sh(hv,vi())))))},si=function(){return fh(Ch(")"),ch(ci(),ch(am,fh(Ch("("),kr(tv,Ev,Er($b,!0,!1,"\\[\\w*qr-code\\w*]"))))))},ui=function(){return fh(Ch(")"),fh(ci(),ch(am,fh(Ch("("),fh(Wc(xh,Mh,"\\w*]"),$h(Oh(qr([kr(tv,Cv,Er($b,!0,!1,"lia")),kr(tv,kv,Er($b,!0,!1,"link"))])),Er($b,!0,!1,"\\[\\w*preview-")))))))},ci=function(){return Dh(sh(mb,fh(ob,$h(_h($m(),Ch('"')),fh(Ch('"'),ob)))))},li=function(){return mm(_v,vi(),mg)},fi=function(){return mm(wv,vi(),am)},di=function(){return $h(mm(mv,vi(),om),Ch("!"))},hi=function(){return $h(mm(bv,vi(),am),Ch("??"))},vi=function(){return sh(mb,$h(_h($m(),Ch("]")),Ch("[")))},pi=function(){return sh(mb,lp($m()))},bi=function(){return Ng((function(e){return Oh(qr([Ug,um,lb,sm,fm,ti(),ei(),Zn(),Qn(),Xn(),dm,sh(gv,nm($m())),lm,cm]))}))},gi=function(){return Oh(qr([ch(IS(ki()),sh(mw,kS)),rh(uR,ch(g_(PS),sh(Uh,kS))),ch(XS,sh(bw,kS)),ch(Fv(kr(Vc,(function(e){return e.eZ}),kr(Vc,(function(e){return e.fy}),Bv))),ch(VE,sh(gr((function(e,t){return kr(Vc,kr(p_,e,t),Rw(e))})),kS))),Ei(),sh(gw,uk(kS)),ch(aR,sh(_w,kS)),ES,ch(TE,sh(Ew,kS)),ch($i(),ch(iE,sh(Cw,kS))),ch(ZE,sh(xw,kS)),wi(),ch(_i(),sh(Sw,kS)),ch(mi(),sh(pw,kS)),fh(Wc(xh,Mh,"[ \t]*\n"),ch(nm(ki()),sh(ww,kS))),ch(hk,sh($w,kS)),ch(PS,sh(Aw,kS)),xS]))},mi=function(){return wp(fh(tp,cp(OS)),fh(XE,$h($h(_p(cp(OS),ki()),Wc(xh,Mh,"[ \t]*[*+-][ \t]+")),Mw("  "))))},$i=function(){var e=mr((function(e,t,r){return Ar(t,r-e)}));return Dh(ch(Fv((function(e){return Bv(e.eZ.cq)})),ch(_h(fh(b_,ki()),Wc(xh,Mh,"[\t ]*\\*{3,}[\t ]*")),sh(e,$h(Fv((function(e){return Bv(e.eZ.cq)})),Wc(xh,Mh,"[\t ]*\\*{3,}[\t ]*\\n+"))))))},yi=function(){return fh(Si(),cp(fh(b_,$h(yh(ki(),eR),Si()))))},wi=function(){return fh(XE,ch(_p(OS,ki()),fh(RS,fh(Mw("> ?"),fh(Wc(xh,Mh,"> ?"),sh(kw,kS))))))},_i=function(){return wp(fh(tp,cp(OS)),fh(XE,$h(ch(_p(cp(OS),ki()),fh(Wc(xh,Mh,"\\.[ \t]*"),sh(Uh,Wc(xh,Mh,"[ \t]*-?\\d+")))),Mw("   "))))},Si=function(){return rv(cp(fh(b_,Iw(Ci()))))},Ci=function(){return fh(XE,lp(fh(Wc(xh,Mh,"\n?"),ki())))},ki=function(){return Ng((function(e){return fh(Dh($h(Hp,Ih)),$h(gi(),$h(Lp,tp)))}))},Ei=function(){return ch(rh(cR,rh(oR,Qv)),sh(vw,kS))},Ri=function(){return yx(KP())},xi=function(){return Va(qP,qa("EInline",LP((function(e){return Ri()}))),qa("playback",Lc),qa("begin",Lf),qa("end",Nf(Lf)),qa("voice",jl),qa("id",Lf))},Mi=function(){return Uf(qr([jP(wv,"Link"),jP(_v,"Mail"),jP(mv,"Image"),jP(bv,"Embed"),FP(hv,"Audio"),FP(Sv,"Movie")]))},Ii=function(){return qa("title",LP((function(e){return Nf(Ri())})))},Ti=function(){return BK},Ai=function(){return Yc(i0)};t.prototype.$c=function(){return new t(this.cZ,this.bY,this.bN)},r.prototype.$c=function(){return new r(this.bW,this.fu,this.d6,this.b3,this.gG)},n.prototype.$c=function(){return new n(this.d9,this.ea,this.g0,this.fl)},i.prototype.$c=function(){return new i(this.g0,this.fl)},a.prototype.$c=function(){return new a(this.d4,this.gz,this.gA,this.fk)},o.prototype.$c=function(){return new o(this.gq,this.gu)},s.prototype.$c=function(){return new s(this.gf,this.gu)},u.prototype.$c=function(){return new u(this.aC,this.cD,this.de,this.dh,this.dl,this.ag)},c.prototype.$c=function(){return new c(this.eB,this.by,this.cI,this.bF,this.gb,this.bb,this.gu,this.gy)},l.prototype.$c=function(){return new l(this.bE,this.dC,this.gs,this.d4)},f.prototype.$c=function(){return new f(this.cZ,this.bR,this.gr,this.gT)},d.prototype.$c=function(){return new d(this.b9,this.ci,this.a9)},h.prototype.$c=function(){return new h(this.cI,this.a4,this.f2,this.gE)},v.prototype.$c=function(){return new v(this.eG,this.fv,this.fx)},p.prototype.$c=function(){return new p(this.en,this.eo,this.eq,this.cf,this.eL,this.eM,this.e$,this.a0,this.fB,this.fH,this.fL,this.cU,this.fS,this.fW,this.f5,this.gj,this.dE,this.gU,this.d1,this.bd)},b.prototype.$c=function(){return new b(this.cM,this.cN,this.di)},g.prototype.$c=function(){return new g(this.b5,this.eI,this.cp,this.cv,this.cC,this.fv,this.fA,this.fG,this.fS,this.dH,this.dL,this.dM,this.dS,this.R,this.gJ,this.am,this.dZ,this.d$,this.b2)},m.prototype.$c=function(){return new m(this.ee,this.er,this.gX)},$.prototype.$c=function(){return new $(this.gc,this.gD)},y.prototype.$c=function(){return new y(this.c9,this.bV,this.dR)},w.prototype.$c=function(){return new w(this.e2,this.dd,this.a7,this.a9,this.gy,this.R)},_.prototype.$c=function(){return new _(this.b7,this.eR,this.e2,this.cJ,this.cP,this.cQ,this.fP,this.c$,this.f7,this.df,this.ge,this.$7,this.ds,this.dD,this.gp,this.bU,this.dF,this.R,this.gS,this.dY,this.gU,this.d4)},S.prototype.$c=function(){return new S(this.eD,this.fI,this.gx)},C.prototype.$c=function(){return new C(this.cs,this.bA)},k.prototype.$c=function(){return new k(this.aB,this.cq,this.fy,this.dM,this.d8)},E.prototype.$c=function(){return new E(this.ap,this.cm,this.eQ,this.bo,this.eZ,this.aY,this.cw,this.bw,this.ft,this.cH,this.bO,this.dD,this.b_,this.b$,this.b1)},R.prototype.$c=function(){return new R(this.em,this.cg,this.d8)},x.prototype.$c=function(){return new x(this.cg,this.fW)},M.prototype.$c=function(){return new M(this.eJ,this.fx,this.N)},I.prototype.$c=function(){return new I(this.eg,this.bg,this.eP,this.aL,this.d2,this.gY)},T.prototype.$c=function(){return new T(this.bi,this.ch,this.co,this.bo,this.fx,this.a1,this.cL,this.c0,this.bM,this.dt,this.dw,this.dx,this.bT,this.b3,this.d3)},A.prototype.$c=function(){return new A(this.es,this.cg,this.e1,this.fr,this.ga,this.g$)},O.prototype.$c=function(){return new O(this.ej,this.eu,this.e7,this.fk,this.fQ,this.gR,this.d_,this.d4)},D.prototype.$c=function(){return new D(this.eu,this.e7,this.fk,this.fQ,this.gR,this.d_,this.d4)},P.prototype.$c=function(){return new P(this.e7,this.d4)},q.prototype.$c=function(){return new q(this.eB,this.ft,this.gS)},L.prototype.$c=function(){return new L(this.eB,this.gd,this.gH)},U.prototype.$c=function(){return new U(this.eu,this.eB,this.ap,this.eR,this.eZ,this.e2,this.bu,this.cw,this.bw,this.fr,this.ft,this.f8,this.df,this.bO,this.b_,this.R,this.b$,this.b1,this.gS,this.d8)},N.prototype.$c=function(){return new N(this.em,this.bt,this.fw,this.dN)},B.prototype.$c=function(){return new B(this.d9,this.ea)},F.prototype.$c=function(){return new F(this.a2,this.dt,this._,this.d9)},j.prototype.$c=function(){return new j(this.ce,this.fK,this.du,this.dF)},K.prototype.$c=function(){return new K(this.ce,this.cx,this.du,this.dF,this.dT)},H.prototype.$c=function(){return new H(this.cV,this.c_)},W.prototype.$c=function(){return new W(this.eT,this.fE,this.gS,this.g4,this.g5,this.g8,this.g9)},V.prototype.$c=function(){return new V(this.em,this.eB,this.fA,this.c4)},z.prototype.$c=function(){return new z(this.aX,this.aF,this.dt)},G.prototype.$c=function(){return new G(this.aX,this.aw,this.K,this.aF)},J.prototype.$c=function(){return new J(this.eB,this.fg,this.fA,this.c4,this.d8)},Y.prototype.$c=function(){return new Y(this.em,this.e5,this.aZ,this.cu,this.bG,this.cT,this.gi,this.dx,this.gI,this.dV,this.bd,this.be)},Z.prototype.$c=function(){return new Z(this.fr,this.fP)},X.prototype.$c=function(){return new X(this.fq,this.fr,this.gd)},Q.prototype.$c=function(){return new Q(this.e4,this.fp,this.gn,this.gw,this.gy,this.gW)},ee.prototype.$c=function(){return new ee(this.e3,this.gn,this.gy,this.gF)},te.prototype.$c=function(){return new te(this.fr,this.gH)},re.prototype.$c=function(){return new re(this.eu,this.eA,this.fe,this.fj,this.fr)},ne.prototype.$c=function(){return new ne(this.eD,this.eS,this.eV)},ie.prototype.$c=function(){return new ie(this.fr,this.gM)},ae.prototype.$c=function(){return new ae(this.gn,this.gy)},oe.prototype.$c=function(){return new oe(this.aZ,this.bG)},se.prototype.$c=function(){return new se(this.eE,this.e6,this.bc,this.gY)},ue.prototype.$c=function(){return new ue(this.aA,this.fr)},ce.prototype.$c=function(){return new ce(this.as,this.U,this.fx)},le.prototype.$c=function(){return new le(this.eu,this.eZ,this.e2,this.fr)},fe.prototype.$c=function(){return new fe(this.eu,this.ap,this.eZ,this.e2,this.bu,this.cw,this.bw,this.fr,this.bO,this.b_,this.b$,this.b1)},de.prototype.$c=function(){return new de(this.cA,this.fi,this.b3)},he.prototype.$c=function(){return new he(this.b9,this.ci,this.dd,this.a9)},ve.prototype.$c=function(){return new ve(this.gN,this.gS,this.d4)},pe.prototype.$c=function(){return new pe(this.cf,this.eY,this.gS)},be.prototype.$c=function(){return new be(this.d4,this.bd)},ge.prototype.$c=function(){return new ge(this.fl,this.g0)},me.prototype.$c=function(){return new me(this.eg,this.fr,this.fC,this.g_)},$e.prototype.$c=function(){return new $e(this.eR,this.gS)},ye.prototype.$c=function(){return new ye(this.eq,this.fT)},we.prototype.$c=function(){return new we(this.fA,this.fG,this.fP,this.c7,this.go,this.gv,this.dM,this.R,this.am,this.dZ,this.gV,this.d6,this.d8)},_e.prototype.$c=function(){return new _e(this.H,this.Q,this.aD,this.bS,this.gu)},Se.prototype.$c=function(){return new Se(this.aS,this.eX,this.cB,this.fN,this.bd)},Ce.prototype.$c=function(){return new Ce(this.bh,this.cn,this.fh,this.bD,this.fS)},ke.prototype.$c=function(){return new ke(this.aE,this.bd)},Ee.prototype.$c=function(){return new Ee(this.eP,this.br,this.fA,this.bH)},Re.prototype.$c=function(){return new Re(this.fA,this.c4,this.d0)},xe.prototype.$c=function(){return new xe(this.fA,this.gN,this.g$)},Me.prototype.$c=function(){return new Me(this.ai,this.g0)},Ie.prototype.$c=function(){return new Ie(this.a$,this.ae,this.ak,this.gS)},Te.prototype.$c=function(){return new Te(this.fA,this.fG,this.fP,this.fS,this.go,this.gv,this.dM,this.R,this.am,this.dZ,this.gV,this.d8)},Ae.prototype.$c=function(){return new Ae(this.ae,this.ak,this.gS)},Oe.prototype.$c=function(){return new Oe(this.eg,this.V,this.ae,this.X,this.aL,this.gY)},De.prototype.$c=function(){return new De(this.ef,this.fG,this.fM,this.fS,this.dC,this.dE,this.d6)},Pe.prototype.$c=function(){return new Pe(this.em,this.ar,this.aZ,this.at,this.bB,this.au,this.av,this.R,this.am)},qe.prototype.$c=function(){return new qe(this.ar,this.at,this.au,this.av,this.fA,this.R,this.am)},Le.prototype.$c=function(){return new Le(this.fr,this.fA,this.dx,this.R,this.dV,this.be,this.d5)},Ue.prototype.$c=function(){return new Ue(this.em,this.fA,this.fG)},Ne.prototype.$c=function(){return new Ne(this.ed,this.gh,this.gY)},Be.prototype.$c=function(){return new Be(this.gB,this.g0)},Fe.prototype.$c=function(){return new Fe(this.fM,this.d9,this.g5,this.ea,this.g9)},je.prototype.$c=function(){return new je(this.cV,this.c4)},Ke.prototype.$c=function(){return new Ke(this.eB,this.fA,this.fT,this.R,this.am)},He.prototype.$c=function(){return new He(this.fA,this.dG,this.dX,this.b2)},We.prototype.$c=function(){return new We(this.eu,this.gS)},Ve.prototype.$c=function(){return new Ve(this.fu,this.f3,this.f4,this.gG,this.b3,this.d6)},ze.prototype.$c=function(){return new ze(this.bk,this.by,this.P,this.dC,this.bT,this.dF,this.R)};var Oi=function(e,t,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r(t+i);return n},Di=(mr(Oi),function(e,t){for(var r=new Array(e),n=0;n<e&&t.b;n++)r[n]=t.a,t=t.b;return r.length=n,Ar(r,t)}),Pi=(gr(Di),function(e,t){return t[e]}),qi=(gr(Pi),function(e,t,r){for(var n=r.length,i=new Array(n),a=0;a<n;a++)i[a]=r[a];return i[e]=t,i}),Li=(mr(qi),function(e,t){for(var r=t.length,n=new Array(r+1),i=0;i<r;i++)n[i]=t[i];return n[r]=e,n}),Ui=(gr(Li),function(e,t,r){for(var n=r.length,i=0;i<n;i++)t=kr(e,r[i],t);return t}),Ni=(mr(Ui),function(e,t,r){for(var n=r.length-1;n>=0;n--)t=kr(e,r[n],t);return t}),Bi=(mr(Ni),function(e,t){for(var r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=e(t[i]);return n}),Fi=(gr(Bi),function(e,t,r){for(var n=r.length,i=new Array(n),a=0;a<n;a++)i[a]=kr(e,t+a,r[a]);return i}),ji=(mr(Fi),function(e,t,r){return r.slice(e,t)}),Ki=(mr(ji),function(e,t,r){var n=t.length,i=e-n;i>r.length&&(i=r.length);for(var a=new Array(n+i),o=0;o<n;o++)a[o]=t[o];for(o=0;o<i;o++)a[o+n]=r[o];return a});mr(Ki),gr((function(e,t){return t})),gr((function(e,t){return console.log(e+": <internals>"),t}));function Hi(e,t,r,n){if(e===t)return!0;if("object"!=typeof e||null===e||null===t)return"function"==typeof e&&Ir(5),!1;if(r>100)return n.push(Ar(e,t)),!0;for(var i in e.$<0&&(e=Us(e),t=Us(t)),e)if(!Hi(e[i],t[i],r+1,n))return!1;return!0}var Wi=gr(Tr),Vi=gr((function(e,t){return!Tr(e,t)}));function zi(e,t,r){if("object"!=typeof e)return e===t?0:e<t?-1:1;if(void 0===e.$)return(r=zi(e.a,t.a))||(r=zi(e.b,t.b))?r:zi(e.c,t.c);for(;e.b&&t.b&&!(r=zi(e.a,t.a));e=e.b,t=t.b);return r||(e.b?1:t.b?-1:0)}gr((function(e,t){return zi(e,t)<0}));var Gi=gr((function(e,t){return zi(e,t)<1})),Ji=(gr((function(e,t){return zi(e,t)>0})),gr((function(e,t){return zi(e,t)>=0})),function(e,t){var r=zi(e,t);return r<0?Ks:r?js:Fs}),Yi=(gr(Ji),0),Zi=gr(Dr),Xi={$:0,a:null,b:null},Qi=gr(Pr),ea=function(e,t,r){for(var n=[];t.b&&r.b;t=t.b,r=r.b)n.push(kr(e,t.a,r.a));return qr(n)},ta=function(e,t,r){for(var n=[];t.b&&r.b;t=t.b,r=r.b)n.push(e(t.a,r.a));return qr(n)},ra=mr(ea),na=($r((function(e,t,r,n){for(var i=[];t.b&&r.b&&n.b;t=t.b,r=r.b,n=n.b)i.push(Er(e,t.a,r.a,n.a));return qr(i)})),yr((function(e,t,r,n,i){for(var a=[];t.b&&r.b&&n.b&&i.b;t=t.b,r=r.b,n=n.b,i=i.b)a.push(Rr(e,t.a,r.a,n.a,i.a));return qr(a)})),wr((function(e,t,r,n,i,a){for(var o=[];t.b&&r.b&&n.b&&i.b&&a.b;t=t.b,r=r.b,n=n.b,i=i.b,a=a.b)o.push(xr(e,t.a,r.a,n.a,i.a,a.a));return qr(o)})),function(e,t){return qr(Lr(t).sort((function(t,r){return zi(e(t),e(r))})))}),ia=gr(na),aa=(gr((function(e,t){return qr(Lr(t).sort((function(t,r){var n=kr(e,t,r);return n===Fs?0:n===Ks?-1:1})))})),gr((function(e,t){return e+t}))),oa=gr((function(e,t){return e-t})),sa=(gr((function(e,t){return e*t})),gr((function(e,t){return e/t})),gr((function(e,t){return e/t|0})),Math.pow),ua=(gr(sa),gr((function(e,t){return t%e})),function(e,t){var r=t%e;return 0===e?Ir(11):r>0&&e<0||r<0&&e>0?r+e:r}),ca=(gr(ua),Math.PI),la=(Math.E,Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2),fa=(gr(la),Math.ceil),da=Math.floor,ha=Math.round,va=Math.sqrt,pa=Math.log,ba=(isNaN,gr((function(e,t){return e&&t})),gr((function(e,t){return e||t})),gr((function(e,t){return e!==t})),function(e,t){return e+t}),ga=(gr(ba),gr((function(e,t){return e+t}))),ma=(gr((function(e,t){for(var r=t.length,n=new Array(r),i=0;i<r;){var a=t.charCodeAt(i);55296<=a&&a<=56319?(n[i]=e(t[i]+t[i+1]),i+=2):(n[i]=e(t[i]),i++)}return n.join("")})),gr((function(e,t){for(var r=[],n=t.length,i=0;i<n;){var a=t[i],o=t.charCodeAt(i);i++,55296<=o&&o<=56319&&(a+=t[i],i++),e(a)&&r.push(a)}return r.join("")})),function(e,t,r){for(var n=r.length,i=0;i<n;){var a=r[i],o=r.charCodeAt(i);i++,55296<=o&&o<=56319&&(a+=r[i],i++),t=kr(e,a,t)}return t}),$a=mr(ma),ya=function(e,t,r){for(var n=r.length;n--;){var i=r[n],a=r.charCodeAt(n);56320<=a&&a<=57343&&(i=r[--n]+i),t=kr(e,i,t)}return t},wa=(mr(ya),function(e,t){return t.split(e)}),_a=(gr(wa),function(e,t){return t.join(e)}),Sa=(gr(_a),function(e,t,r){return r.slice(e,t)}),Ca=mr(Sa),ka=(gr((function(e,t){for(var r=t.length;r--;){var n=t[r],i=t.charCodeAt(r);if(56320<=i&&i<=57343&&(n=t[--r]+n),e(n))return!0}return!1})),function(e,t){for(var r=t.length;r--;){var n=t[r],i=t.charCodeAt(r);if(56320<=i&&i<=57343&&(n=t[--r]+n),!e(n))return!1}return!0}),Ea=(gr(ka),function(e,t){return t.indexOf(e)>-1}),Ra=(gr(Ea),function(e,t){return 0===t.indexOf(e)}),xa=gr(Ra),Ma=function(e,t){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length},Ia=(gr(Ma),function(e,t){var r=e.length;if(r<1)return Xi;for(var n=0,i=[];(n=t.indexOf(e,n))>-1;)i.push(n),n+=r;return qr(i)}),Ta=gr(Ia),Aa=Nr((function(e){return"number"!=typeof e?Hr("an INT",e):-2147483647<e&&e<2147483647&&(0|e)===e?Gs(e):!isFinite(e)||e%1?Hr("an INT",e):Gs(e)})),Oa=Nr((function(e){return"boolean"==typeof e?Gs(e):Hr("a BOOL",e)})),Da=(Nr((function(e){return"number"==typeof e?Gs(e):Hr("a FLOAT",e)})),Nr((function(e){return Gs(Vr(e))}))),Pa=Nr((function(e){return"string"==typeof e?Gs(e):e instanceof String?Gs(e+""):Hr("a STRING",e)})),qa=function(e,t){return{$:6,d:e,b:t}},La=gr(qa),Ua=function(e,t){return{$:7,e:e,b:t}},Na=(gr(Ua),function(e,t){return{$:10,b:t,h:e}}),Ba=(gr(Na),function(e,t){return Br(e,[t])}),Fa=(gr(Ba),function(e,t,r){return Br(e,[t,r])}),ja=mr(Fa),Ka=function(e,t,r,n){return Br(e,[t,r,n])},Ha=($r(Ka),function(e,t,r,n,i){return Br(e,[t,r,n,i])}),Wa=(yr(Ha),function(e,t,r,n,i,a){return Br(e,[t,r,n,i,a])}),Va=(wr(Wa),function(e,t,r,n,i,a,o){return Br(e,[t,r,n,i,a,o])}),za=(_r(Va),Sr((function(e,t,r,n,i,a,o,s){return Br(e,[t,r,n,i,a,o,s])})),function(e,t,r,n,i,a,o,s,u){return Br(e,[t,r,n,i,a,o,s,u])}),Ga=(Cr(za),gr((function(e,t){try{return Za(e,JSON.parse(t))}catch(e){return Hs(Ws("This is not valid JSON! "+e.message,Vr(t)))}}))),Ja=function(e,t){return Za(e,t)},Ya=gr(Ja);function Za(e,t){switch(e.$){case 2:return e.b(t);case 5:return null===t?Gs(e.c):Hr("null",t);case 3:return jr(t)?Fr(e.b,t,qr):Hr("a LIST",t);case 4:return jr(t)?Fr(e.b,t,Kr):Hr("an ARRAY",t);case 6:var r=e.d;if("object"!=typeof t||null===t||!(r in t))return Hr("an OBJECT with a field named `"+r+"`",t);var n=Za(e.b,t[r]);return Ju(n)?n:Hs(Vs(r,n.a));case 7:var i=e.e;if(!jr(t))return Hr("an ARRAY",t);if(i>=t.length)return Hr("a LONGER array. Need index "+i+" but only see "+t.length+" entries",t);n=Za(e.b,t[i]);return Ju(n)?n:Hs(zs(i,n.a));case 8:if("object"!=typeof t||null===t||jr(t))return Hr("an OBJECT",t);var a=Xi;for(var o in t)if(t.hasOwnProperty(o)){n=Za(e.b,t[o]);if(!Ju(n))return Hs(Vs(o,n.a));a=Pr(Ar(o,n.a),a)}return Gs(_u(a));case 9:for(var s=e.f,u=e.g,c=0;c<u.length;c++){n=Za(u[c],t);if(!Ju(n))return n;s=s(n.a)}return Gs(s);case 10:n=Za(e.b,t);return Ju(n)?Za(e.h(n.a),t):n;case 11:for(var l=Xi,f=e.g;f.b;f=f.b){n=Za(f.a,t);if(Ju(n))return n;l=Pr(n.a,l)}return Hs(Js(_u(l)));case 1:return Hs(Ws(e.a,Vr(t)));case 0:return Gs(e.a)}}function Xa(e,t){if(e===t)return!0;if(e.$!==t.$)return!1;switch(e.$){case 0:case 1:return e.a===t.a;case 2:return e.b===t.b;case 5:return e.c===t.c;case 3:case 4:case 8:return Xa(e.b,t.b);case 6:return e.d===t.d&&Xa(e.b,t.b);case 7:return e.e===t.e&&Xa(e.b,t.b);case 9:return e.f===t.f&&Wr(e.g,t.g);case 10:return e.h===t.h&&Xa(e.b,t.b);case 11:return Wr(e.g,t.g)}}var Qa=function(e,t){return JSON.stringify(t,null,e)+""},eo=gr(Qa),to=function(e,t,r){return r[e]=t,r},ro=(mr(to),Vr(null)),no=function(e,t){return{$:3,b:e,d:t}},io=(gr(no),function(e,t){return{$:4,b:e,d:t}}),ao=(gr(io),0),oo=function(e,t){return Jr((function(r){Xr(e,t),r(Gr(Yi))}))},so=(gr(oo),!1),uo=[],co=($r((function(e,t,r,n){return rn(t,n,e.fu,e.b3,e.gG,(function(){return function(){}}))})),{}),lo=function(e,t){return Jr((function(r){e.g(t),r(Gr(Yi))}))},fo=gr(lo),ho=function(e,t){return oo(e.h,{$:0,a:t})},vo=(gr(ho),function(e,t){return{$:3,n:e,o:t}}),po=(gr(vo),[]),bo=!1;function go(e,t,r,n){switch(t.$){case 1:var i=t.k,a=function(e,t,r,n){var i=e?co[t].e:co[t].f;return kr(i,(function(e){for(var t=r;t;t=t.t)e=t.s(e);return e}),n)}(e,i,n,t.l);return void(r[i]=function(e,t,r){return r=r||{i:Xi,j:Xi},e?r.i=Pr(t,r.i):r.j=Pr(t,r.j),r}(e,a,r[i]));case 2:for(var o=t.m;o.b;o=o.b)go(e,o.a,r,n);return;case 3:return void go(e,t.o,r,{s:t.n,t:n})}}var mo,$o=gr((function(e,t){return t})),yo=gr((function(e,t){return function(r){return e(t(r))}}));function wo(e,t){for(var r in t)r in e?"init"==r?Ir(6):wo(e[r],t[r]):e[r]=t[r]}var _o,So="undefined"!=typeof document?document:{},Co=($r((function(e,t,r,n){var i=n.node;return i.parentNode.replaceChild(Ko(e,(function(){})),i),{}})),function(e,t){return gr((function(r,n){for(var i=[],a=0;n.b;n=n.b){var o=n.a;a+=o.b||0,i.push(o)}return a+=i.length,{$:1,c:t,d:yn(r),e:i,f:e,b:a}}))}),ko=gr(Co),Eo=void 0,Ro=ko(Eo),xo=function(e,t){return gr((function(r,n){for(var i=[],a=0;n.b;n=n.b){var o=n.a;a+=o.b.b||0,i.push(o)}return a+=i.length,{$:2,c:t,d:yn(r),e:i,f:e,b:a}}))},Mo=gr(xo),Io=void 0,To=(Mo(Io),function(e,t){return{$:4,j:e,k:t,b:1+(t.b||0)}}),Ao=gr(To),Oo=(gr((function(e,t){return gn([e,t],(function(){return e(t)}))})),function(e,t,r){return gn([e,t,r],(function(){return kr(e,t,r)}))}),Do=mr(Oo),Po=($r((function(e,t,r,n){return gn([e,t,r,n],(function(){return Er(e,t,r,n)}))})),yr((function(e,t,r,n,i){return gn([e,t,r,n,i],(function(){return Rr(e,t,r,n,i)}))})),wr((function(e,t,r,n,i,a){return gn([e,t,r,n,i,a],(function(){return xr(e,t,r,n,i,a)}))})),_r((function(e,t,r,n,i,a,o){return gn([e,t,r,n,i,a,o],(function(){return Mr(e,t,r,n,i,a,o)}))})),Sr((function(e,t,r,n,i,a,o,s){return gn([e,t,r,n,i,a,o,s],(function(){return function(e,t,r,n,i,a,o,s){return e.a7?e.a7(t,r,n,i,a,o,s):e(t)(r)(n)(i)(a)(o)(s)}(e,t,r,n,i,a,o,s)}))})),function(e,t,r,n,i,a,o,s,u){return gn([e,t,r,n,i,a,o,s,u],(function(){return function(e,t,r,n,i,a,o,s,u){return e.a8?e.a8(t,r,n,i,a,o,s,u):e(t)(r)(n)(i)(a)(o)(s)(u)}(e,t,r,n,i,a,o,s,u)}))}),qo=(Cr(Po),function(e,t){return{$:"a0",n:e,o:t}}),Lo=(gr(qo),function(e,t){return{$:"a1",n:e,o:t}}),Uo=(gr(Lo),function(e,t){return{$:"a2",n:e,o:t}}),No=(gr(Uo),function(e,t){return{$:"a3",n:e,o:t}}),Bo=gr(No),Fo=(mr((function(e,t,r){return{$:"a4",n:t,o:{f:e,o:r}}})),gr((function(e,t){return"a0"===t.$?qo(t.n,function(e,t){var r=Xu(t);return{$:t.$,a:r?Fa(r<3?Fo:jo,Zu(e),t.a):Ba(e,t.a)}}(e,t.o)):t})),gr((function(e,t){return Ar(e(t.a),t.b)}))),jo=gr((function(e,r){return new t(e(r.cZ),r.bY,r.bN)}));function Ko(e,t){var r=e.$;if(5===r)return Ko(e.k||(e.k=e.m()),t);if(0===r){var n=So.createTextNode(e.a);return n.created_by_elm=!0,n}if(4===r){for(var i=e.k,a=e.j;4===i.$;)"object"!=typeof a?a=[a,i.j]:a.push(i.j),i=i.k;var o={j:a,p:t};return(s=Ko(i,o)).elm_event_node_ref=o,s}if(3===r){var s=e.h(e.g);return _n(s,t,e.d),s}(s=e.f?So.createElementNS(e.f,e.c):So.createElement(e.c)).created_by_elm=!0,mo&&"a"==e.c&&s.addEventListener("click",mo(s)),_n(s,t,e.d);for(var u=e.e,c=0;c<u.length;c++)pn(s,Ko(1===r?u[c]:u[c].b,t));return s}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){_o=!0}}))}catch(e){}function Ho(e,t,r,n){if(e!==t){var i=e.$,a=t.$;if(i!==a){if(1!==i||2!==a)return void In(r,0,n,t);t=function(e){for(var t=e.e,r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=t[i].b;return{$:1,c:e.c,d:e.d,e:n,f:e.f,b:e.b}}(t),a=1}switch(a){case 5:for(var o=e.l,s=t.l,u=o.length,c=u===s.length;c&&u--;)c=o[u]===s[u];if(c)return void(t.k=e.k);t.k=t.m();var l=[];return Ho(e.k,t.k,l,0),void(l.length>0&&In(r,1,n,l));case 4:for(var f=e.j,d=t.j,h=!1,v=e.k;4===v.$;)h=!0,"object"!=typeof f?f=[f,v.j]:f.push(v.j),v=v.k;for(var p=t.k;4===p.$;)h=!0,"object"!=typeof d?d=[d,p.j]:d.push(p.j),p=p.k;return h&&f.length!==d.length?void In(r,0,n,t):((h?function(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(f,d):f===d)||In(r,2,n,d),void Ho(v,p,r,n+1));case 0:return void(e.a!==t.a&&In(r,3,n,t.a));case 1:return void Tn(e,t,r,n,An);case 2:return void Tn(e,t,r,n,On);case 3:if(e.h!==t.h)return void In(r,0,n,t);var b=Wo(e.d,t.d);b&&In(r,4,n,b);var g=t.i(e.g,t.g);return void(g&&In(r,5,n,g))}}}function Wo(e,t,r){var n;for(var i in e)if("a1"!==i&&"a0"!==i&&"a3"!==i&&"a4"!==i)if(i in t){var a=e[i],o=t[i];a===o&&"value"!==i&&"checked"!==i||"a0"===r&&xn(a,o)||((n=n||{})[i]=o)}else(n=n||{})[i]=r?"a1"===r?"":"a0"===r||"a3"===r?void 0:{f:e[i].f,o:void 0}:"string"==typeof e[i]?"":null;else{var s=Wo(e[i],t[i]||{},i);s&&((n=n||{})[i]=s)}for(var u in t)u in e||((n=n||{})[u]=t[u]);return n}var Vo="_elmW6BL";function zo(e,t,r,n,i,a){var o=e[r];if(!o)return o={c:0,z:n,r:i,s:void 0},a.push({r:i,A:o}),void(e[r]=o);if(1===o.c){a.push({r:i,A:o}),o.c=2;var s=[];return Ho(o.z,n,s,o.r),o.r=i,void(o.s.s={w:s,A:o})}zo(e,t,r+Vo,n,i,a)}function Go(e,t,r,n,i){var a=e[r];if(a){if(0===a.c){a.c=2;var o=[];return Ho(n,a.z,o,i),void In(t,9,i,{w:o,A:a})}Go(e,t,r+Vo,n,i)}else{var s=In(t,9,i,void 0);e[r]={c:1,z:n,r:i,s:s}}}function Jo(e,t,r,n,i,a,o){for(var s=r[n],u=s.r;u===i;){var c=s.$;if(1===c)Dn(e,t.k,s.s,o);else if(8===c){s.t=e,s.u=o,(l=s.s.w).length>0&&Jo(e,t,l,0,i,a,o)}else if(9===c){s.t=e,s.u=o;var l,f=s.s;if(f)f.A.s=e,(l=f.w).length>0&&Jo(e,t,l,0,i,a,o)}else s.t=e,s.u=o;if(!(s=r[++n])||(u=s.r)>a)return n}var d=t.$;if(4===d){for(var h=t.k;4===h.$;)h=h.k;return Jo(e,h,r,n,i+1,a,e.elm_event_node_ref)}for(var v=t.e,p=e.childNodes,b=0,g=0;b<Math.max(v.length,p.length);b++,g++){i++;var m=1===d?v[b]:v[b].b,$=i+(m.b||0);if(p.length>v.length)for(;!p[g].created_by_elm;)console.log("INFO 1: skipping DOM"),g++;if(p.length<v.length&&(p[g]?(console.log("WARN 1: redrawing DOM"),Un(p[g],v[b],o)):(console.log("WARN 2: redrawing DOM"),e.appendChild(Ko(v[b],o)))),p.length===v.length&&(p[g].created_by_elm||(console.log("WARN 3: redrawing DOM"),Un(p[g],v[b],o))),1===v[b].$&&(p[g].tagName||"").toLowerCase()!==v[b].c&&(console.log("WARN 4: redrawing DOM"),Un(p[g],v[b],o)),i<=u&&u<=$&&(!(s=r[n=Jo(p[g],m,r,n,i,$,o)])||(u=s.r)>a))return n;i=$}return n}function Yo(e){if(e.created_by_elm=!0,3===e.nodeType)return bn(e.textContent);if(1!==e.nodeType)return bn("");for(var t=Xi,r=e.attributes,n=r.length;n--;){var i=r[n],a=i.name,o=i.value;t=Pr(No(a,o),t)}var s=e.tagName.toLowerCase(),u=Xi,c=e.childNodes;for(n=c.length;n--;)u=Pr(Yo(c[n]),u);return Er(Ro,s,t,u)}$r((function(e,t,r,n){return rn(t,n,e.fu,e.b3,e.gG,(function(t,r){var i=e.d6,a=n.node,o=Yo(a);return Fn(r,(function(e){var r=i(e),n=Mn(o,r);a=Pn(a,o,n,t),o=r}))}))}));var Zo=$r((function(e,t,r,n){return rn(t,n,e.fu,e.b3,e.gG,(function(t,r){var n=e.bW&&e.bW(t),i=e.d6,a=So.title,o=So.body,s=Yo(o);return Fn(r,(function(e){mo=n;var r=i(e),u=Co(Eo,"body")(Xi)(r.eu),c=Mn(s,u);o=Pn(o,s,c,t),s=u,mo=0,a!==r.gS&&(So.title=a=r.gS)}))}))})),Xo=("undefined"!=typeof cancelAnimationFrame&&cancelAnimationFrame,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)}),Qo=(gr((function(e,t){return Pc(gc,Jr((function(){t&&history.go(t),e()})))})),gr((function(e,t){return Pc(gc,Jr((function(){history.pushState({},"",t),e()})))}))),es=function(e,t){return Pc(gc,Jr((function(){history.replaceState({},"",t),e()})))},ts=(gr(es),{addEventListener:function(){},removeEventListener:function(){}}),rs="undefined"!=typeof document?document:ts,ns="undefined"!=typeof window?window:ts,is=function(e,t,r){return Zr(Jr((function(n){var i=function(e){Yr(r(e))};return e.addEventListener(t,i,_o&&{passive:!0}),function(){e.removeEventListener(t,i)}})))},as=(mr(is),function(e,t){var r=Za(e,t);return Ju(r)?Ts(r.a):As}),os=(gr(as),gr((function(e,t){return Kn(t,(function(t){return t[e](),Yi}))}))),ss=(gr((function(e,t){return Hn((function(){return ns.scroll(e,t),Yi}))})),mr((function(e,t,r){return Kn(e,(function(e){return e.scrollLeft=t,e.scrollTop=r,Yi}))})),gr((function(e,t){return e&t})),gr((function(e,t){return e|t})),gr((function(e,t){return e^t}))),us=(gr((function(e,t){return t<<e})),gr((function(e,t){return t>>e})),gr((function(e,t){return t>>>e})),function(e,t){var r="g";e.c3&&(r+="m"),e.cc&&(r+="i");try{return Ts(new RegExp(t,r))}catch(e){return As}}),cs=gr(us),ls=function(e,t){return null!==t.match(e)},fs=(gr(ls),function(e,t,r){for(var n,i=[],a=0,o=r,s=t.lastIndex,u=-1;a++<e&&(n=t.exec(o))&&u!=t.lastIndex;){for(var c=n.length-1,l=new Array(c);c>0;){var f=n[c];l[--c]=f?Ts(f):As}i.push(Ml(n[0],n.index,a,qr(l))),u=t.lastIndex}return t.lastIndex=s,qr(i)}),ds=mr(fs),hs=function(e,t,r,n){var i=0;return n.replace(t,(function(t){if(i++>=e)return t;for(var n=arguments.length-3,a=new Array(n);n>0;){var o=arguments[n];a[--n]=o?Ts(o):As}return r(Ml(t,arguments[arguments.length-2],i,qr(a)))}))},vs=$r(hs),ps=(mr((function(e,t,r){for(var n=r,i=[],a=t.lastIndex,o=t.lastIndex;e--;){var s=t.exec(n);if(!s)break;i.push(n.slice(a,s.index)),a=t.lastIndex}return i.push(n.slice(a)),t.lastIndex=o,qr(i)})),1/0),bs=function(e,t,r){return Jr((function(n){var i=function(e){n(t(r.e7.a(e)))},a=new XMLHttpRequest;a.addEventListener("error",(function(){i(u$)})),a.addEventListener("timeout",(function(){i(f$)})),a.addEventListener("load",(function(){i(function(e,t){return kr(200<=t.status&&t.status<300?s$:a$,Vn(t),e(t.response))}(r.e7.b,a))})),d$(r.d_)&&function(e,t,r){t.upload.addEventListener("progress",(function(n){t.c||Yr(ho(e,Ar(r,l$(new o(n.loaded,n.total)))))})),t.addEventListener("progress",(function(n){t.c||Yr(ho(e,Ar(r,c$(new s(n.loaded,n.lengthComputable?Ts(n.total):As)))))}))}(e,a,r.d_.a);try{a.open(r.fQ,r.d4,!0)}catch(e){return i(o$(r.d4))}return function(e,t){for(var r=t.fk;r.b;r=r.b)e.setRequestHeader(r.a.a,r.a.b);e.timeout=t.gR.a||0,e.responseType=t.e7.d,e.withCredentials=t.ej}(a,r),r.eu.a&&a.setRequestHeader("Content-Type",r.eu.a),a.send(r.eu.b),function(){a.c=!0,a.abort()}}))},gs=(mr(bs),function(e,t,r){return{$:0,d:e,b:t,a:r}}),ms=(mr(gs),function(e,t){return{$:0,d:t.d,b:t.b,a:function(r){return e(t.a(r))}}}),$s=(gr(ms),gr((function(e,t){return{$:0,a:e,b:t}})),gr((function(e,t){return new Blob([t],{type:e})})),gr((function(e,t){return Jr((function(r){var n=setInterval((function(){Yr(t)}),e);return function(){clearInterval(n)}}))})),gr((function(e,t){return Jr((function(r){r(Gr(1===new Uint8Array(new Uint32Array([1]))[0]?e:t))}))})),function(e,t,r){return e.setInt8(t,r),t+1}),ys=(mr($s),function(e,t,r,n){return e.setInt16(t,r,n),t+2}),ws=($r(ys),function(e,t,r,n){return e.setInt32(t,r,n),t+4}),_s=($r(ws),function(e,t,r){return e.setUint8(t,r),t+1}),Ss=(mr(_s),function(e,t,r,n){return e.setUint16(t,r,n),t+2}),Cs=($r(Ss),function(e,t,r,n){return e.setUint32(t,r,n),t+4}),ks=($r(Cs),function(e,t,r,n){return e.setFloat32(t,r,n),t+4}),Es=($r(ks),function(e,t,r,n){return e.setFloat64(t,r,n),t+8}),Rs=($r(Es),function(e,t,r){for(var n=0,i=r.byteLength,a=i-4;n<=a;n+=4)e.setUint32(t+n,r.getUint32(n));for(;n<i;n++)e.setUint8(t+n,r.getUint8(n));return t+i}),xs=(mr(Rs),function(e,t,r){for(var n=0;n<r.length;n++){var i=r.charCodeAt(n);t+=i<128?(e.setUint8(t,i),1):i<2048?(e.setUint16(t,49280|(i>>>6&31)<<8|63&i),2):i<55296||56319<i?(e.setUint16(t,57472|(i>>>12&15)<<8|i>>>6&63),e.setUint8(t+2,128|63&i),3):(i=1024*(i-55296)+r.charCodeAt(++n)-56320+65536,e.setUint32(t,4034953344|(i>>>18&7)<<24|(i>>>12&63)<<16|(i>>>6&63)<<8|63&i),4)}return t}),Ms=(mr(xs),function(e,t){try{return Ts(kr(e,t,0).b)}catch(e){return As}}),Is=(gr(Ms),gr((function(e,t){return Ar(t+1,e.getInt8(t))})),mr((function(e,t,r){return Ar(r+2,t.getInt16(r,e))})),mr((function(e,t,r){return Ar(r+4,t.getInt32(r,e))})),gr((function(e,t){return Ar(t+1,e.getUint8(t))}))),Ts=(mr((function(e,t,r){return Ar(r+2,t.getUint16(r,e))})),mr((function(e,t,r){return Ar(r+4,t.getUint32(r,e))})),mr((function(e,t,r){return Ar(r+4,t.getFloat32(r,e))})),mr((function(e,t,r){return Ar(r+8,t.getFloat64(r,e))})),mr((function(e,t,r){return Ar(r+e,new DataView(t.buffer,t.byteOffset+r,e))})),mr((function(e,t,r){for(var n="",i=r+e;r<i;){var a=t.getUint8(r++);n+=a<128?String.fromCharCode(a):192==(224&a)?String.fromCharCode((31&a)<<6|63&t.getUint8(r++)):224==(240&a)?String.fromCharCode((15&a)<<12|(63&t.getUint8(r++))<<6|63&t.getUint8(r++)):(a=((7&a)<<18|(63&t.getUint8(r++))<<12|(63&t.getUint8(r++))<<6|63&t.getUint8(r++))-65536,String.fromCharCode(Math.floor(a/1024)+55296,a%1024+56320))}return Ar(r,n)})),gr((function(){throw 0})),function(e){return{$:0,a:e}}),As={$:1,a:null},Os=Qi,Ds=function(e,t,r){var n=r.c,i=r.d,a=gr((function(t,r){if(t.$){var n=t.a;return Ni(e,r,n)}var i=t.a;return Ni(a,r,i)}));return Ni(a,Ni(e,t,i),n)},Ps=(mr(Ds),function(e){return Ds(Os,Xi,e)}),qs=function(e,t,r){for(;;){if(-2===r.$)return t;var n=r.b,i=r.c,a=r.d,o=r.e,s=e,u=Er(e,n,i,qs(e,t,o));e=s,t=u,r=a}},Ls=function(e,t,r){for(;;){if(-2===r.$)return t;var n=r.b,i=r.c,a=r.d,o=r.e,s=e,u=e(n,i,Ls(e,t,o));e=s,t=u,r=a}},Us=(mr(qs),function(e){return Ls((function(e,t,r){return Pr(Ar(e,t),r)}),Xi,e)}),Ns=function(e){return Ls((function(e,t,r){return Pr(e,r)}),Xi,e)},Bs=function(e){return Ns(e)},Fs=1,js=2,Ks=0,Hs=function(e){return{$:1,a:e}},Ws=function(e,t){return{$:3,a:e,b:t}},Vs=(gr(Ws),function(e,t){return{$:0,a:e,b:t}}),zs=(gr(Vs),function(e,t){return{$:1,a:e,b:t}}),Gs=(gr(zs),function(e){return{$:0,a:e}}),Js=function(e){return{$:2,a:e}},Ys=aa,Zs=Zi,Xs=eo,Qs=Ur,eu=function(e,t){return _a(e,Lr(t))},tu=gr(eu),ru=function(e,t){return qr(wa(e,t))},nu=gr(ru),iu=function(e){return eu("\n    ",ru("\n",e))},au=function(e,t,r){for(;;){if(!r.b)return t;var n=r.a,i=r.b,a=e,o=kr(e,n,t);e=a,t=o,r=i}},ou=function(e,t,r){for(;;){if(!r.b)return t;var n=r.a,i=r.b,a=e,o=e(n,t);e=a,t=o,r=i}},su=mr(au),uu=function(e){return ou((function(e,t){return t+1}),0,e)},cu=ra,lu=Gi,fu=oa,du=function(e,t,r){for(;;){if(!(zi(e,t)<1))return r;var n=e,i=t-1,a=Pr(t,r);e=n,t=i,r=a}},hu=(mr(du),function(e,t){return du(e,t,Xi)}),vu=(gr(hu),function(e,t){for(var r=Pr(void 0,Xi),n=r,i=0;t.b;i++,t=t.b){var a=Pr(kr(e,i,t.a),Xi);n.b=a,n=a}return r.b}),pu=function(e,t){for(var r=Pr(void 0,Xi),n=r,i=0;t.b;i++,t=t.b){var a=Pr(e(i,t.a),Xi);n.b=a,n=a}return r.b},bu=gr(vu),gu=function(e){var t=e.charCodeAt(0);return 55296<=t&&t<=56319?1024*(t-55296)+e.charCodeAt(1)-56320+65536:t},mu=function(e){var t=gu(e);return 97<=t&&t<=122},$u=function(e){var t=gu(e);return t<=90&&65<=t},yu=function(e){return mu(e)||$u(e)},wu=function(e){return mu(e)||$u(e)||function(e){var t=gu(e);return t<=57&&48<=t}(e)},_u=function(e){return au(Os,Xi,e)},Su=function(e){var t=e.charCodeAt(0);return isNaN(t)?As:Ts(55296<=t&&t<=56319?Ar(e[0]+e[1],e.slice(2)):Ar(e[0],e.slice(1)))},Cu=gr((function(e,t){return"\n\n("+Qs(e+1)+") "+iu(ku(t))})),ku=function(e){return Eu(e,Xi)},Eu=function(e,t){e:for(;;)switch(e.$){case 0:var r=e.a,n=e.b,i=function(){var e=Su(r);if(1===e.$)return!1;var t=e.a,n=t.a,i=t.b;return yu(n)&&ka(wu,i)}(),a=n,o=Pr(i?"."+r:"['"+r+"']",t);e=a,t=o;continue e;case 1:var s=e.a,u=(n=e.b,"["+Qs(s)+"]");a=n,o=Pr(u,t);e=a,t=o;continue e;case 2:var c=e.a;if(c.b){if(c.b.b){var l=(t.b?"The Json.Decode.oneOf at json"+eu("",_u(t)):"Json.Decode.oneOf")+" failed in the following "+Qs(uu(c))+" ways:";return eu("\n\n",Pr(l,vu(Cu,c)))}e=a=n=c.a,t=o=t;continue e}return"Ran into a Json.Decode.oneOf with no possibilities"+(t.b?" at json"+eu("",_u(t)):"!");default:var f=e.a,d=e.b;return(l=t.b?"Problem with the value at json"+eu("",_u(t))+":\n\n    ":"Problem with the given value:\n\n")+(iu(Qa(4,d))+"\n\n")+f}},Ru=(gr(Eu),32),xu=function(e,t,r,n){return{$:0,a:e,b:t,c:r,d:n}},Mu=($r(xu),[]),Iu=fa,Tu=function(e,t){return pa(t)/pa(e)},Au=(gr(Tu),function(e){return e}),Ou=Iu(Tu(2,Ru)),Du=xu(0,Ou,Mu,Mu),Pu=function(e){return{$:1,a:e}},qu=(gr((function(e,t){return e(t)})),gr((function(e,t){return t(e)}))),Lu=Wi,Uu=da,Nu=function(e){return e.length},Bu=function(e,t){return zi(e,t)>0?e:t},Fu=gr(Bu),ju=function(e){return{$:0,a:e}},Ku=function(e,t){for(;;){var r=Di(Ru,e),n=r.a,i=r.b,a=Pr(ju(n),t);if(!i.b)return _u(a);e=i,t=a}},Hu=(gr(Ku),function(e){return e.a}),Wu=function(e,t){for(;;){var r=Iu(t/Ru);if(1===r)return Di(Ru,e).a;e=Ku(e,Xi),t=r}},Vu=(gr(Wu),function(e,t){if(t.h){var r=t.h*Ru,n=Uu(Tu(Ru,r-1)),i=e?_u(t.k):t.k,a=Wu(i,t.h);return xu(Nu(t.j)+r,Bu(5,n*Ou),a,t.j)}return xu(Nu(t.j),Ou,Mu,t.j)}),zu=(gr(Vu),function(e,t,r,n,i){for(;;){if(t<0)return Vu(!1,{k:n,h:r/Ru|0,j:i});var a=Pu(Oi(Ru,t,e));e=e,t=t-Ru,r=r,n=Pr(a,n),i=i}}),Gu=(yr(zu),function(e,t){if(e<=0)return Du;var r=e%Ru,n=Oi(r,e-r,t);return zu(t,e-r-Ru,e,Xi,n)}),Ju=(gr(Gu),function(e){return!e.$}),Yu=ja,Zu=function(e){return{$:0,a:e}},Xu=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},Qu=function(e){return{$:1,a:e}},ec=function(e){return{$:0,a:e}},tc=function(e){return e},rc=tc,nc=function(e,t,r,n,i,a){return new u(a,t,n,r,e,i)},ic=(wr(nc),function(e){return e.length}),ac=Ca,oc=function(e,t){return e<1?t:Sa(e,ic(t),t)},sc=(gr(oc),Ta),uc=function(e){return""===e},cc=function(e,t){return e<1?"":Sa(0,e,t)},lc=(gr(cc),function(e){for(var t=0,r=e.charCodeAt(0),n=43==r||45==r?1:0,i=n;i<e.length;++i){var a=e.charCodeAt(i);if(a<48||57<a)return As;t=10*t+a-48}return i==n?As:Ts(45==r?-t:t)}),fc=function(e,t,r,n,i){if(uc(i)||Ea("@",i))return As;var a=Ia(":",i);if(a.b){if(a.b.b){if(a.b.b.b)return As;s=a.b.a;var o=lc(oc(s+1,i));if(1===o.$)return Ts(nc(e,i,As,t,r,n));c=o;return Ts(nc(e,cc(s,i),c,t,r,n))}var s=a.a,u=lc(oc(s+1,i));if(1===u.$)return Ts(nc(e,i,As,t,r,n));var c=u;return Ts(nc(e,cc(s,i),c,t,r,n))}return Ts(nc(e,i,As,t,r,n))},dc=(yr(fc),function(e,t,r,n){if(uc(n))return As;var i=Ia("/",n);if(i.b){var a=i.a;return fc(e,oc(a,n),t,r,cc(a,n))}return fc(e,"/",t,r,n)}),hc=($r(dc),function(e,t,r){if(uc(r))return As;var n=Ia("?",r);if(n.b){var i=n.a;return dc(e,Ts(oc(i+1,r)),t,cc(i,r))}return dc(e,As,t,r)}),vc=(mr(hc),function(e,t){if(uc(t))return As;var r=Ia("#",t);if(r.b){var n=r.a;return hc(e,Ts(oc(n+1,t)),cc(n,t))}return hc(e,As,t)}),pc=(gr(vc),xa),bc=function(e){return Ra("http://",e)?vc(0,oc(7,e)):Ra("https://",e)?vc(1,oc(8,e)):Ra("file:///",e)?vc(3,oc(8,e)):Ra("file://",e)?vc(2,oc(7,e)):Ra("ipfs://",e)?vc(4,oc(7,e)):Ra("ipns://",e)?vc(5,oc(7,e)):Ra("dat://",e)?vc(6,oc(6,e)):Ra("ftp://",e)?vc(7,oc(6,e)):Ra("hyper://",e)?vc(8,oc(8,e)):As},gc=function(e){for(;;){e=e}},mc=Gr,$c=mc(0),yc=function(e,t,r,n){if(n.b){var i=n.a,a=n.b;if(a.b){var o=a.a,s=a.b;if(s.b){var u=s.a,c=s.b;if(c.b){var l=c.a,f=c.b,d=r>500?au(e,t,_u(f)):yc(e,t,r+1,f);return kr(e,i,kr(e,o,kr(e,u,kr(e,l,d))))}return kr(e,i,kr(e,o,kr(e,u,t)))}return kr(e,i,kr(e,o,t))}return kr(e,i,t)}return t},wc=($r(yc),function(e,t,r){return yc(e,t,0,r)}),_c=(mr(wc),function(e,t){for(var r=Pr(void 0,Xi),n=r;t.b;t=t.b){var i=Pr(e(t.a),Xi);n.b=i,n=i}return r.b}),Sc=gr(_c),Cc=function(e,t){return no((function(t){return mc(e(t))}),t)},kc=(gr(Cc),mr((function(e,t,r){return no((function(t){return no((function(r){return mc(kr(e,t,r))}),r)}),t)}))),Ec=function(e){return wc(kc(Os),mc(Xi),e)},Rc=fo,xc=gr((function(e,t){var r=t;return Zr(no(Rc(e),r))})),Mc=mr((function(e,t,r){return Cc((function(e){return 0}),Ec(_c(xc(e),t)))})),Ic=mr((function(e,t,r){return mc(0)})),Tc=gr((function(e,t){return Cc(e,t)}));co.Task=an($c,Mc,Ic,Tc);var Ac,Oc,Dc=sn("Task"),Pc=function(e,t){return Dc(Cc(e,t))},qc=(gr(Pc),function(e){var t=e.f3,n=e.f4,i=function(){i.a(t(jn()))};return Zo(new r((function(e){return i.a=e,ns.addEventListener("popstate",i),ns.navigator.userAgent.indexOf("Trident")<0||ns.addEventListener("hashchange",i),gr((function(t,r){if(!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&r.button<1&&!t.target&&!t.hasAttribute("download")){r.preventDefault();var i=t.href,a=jn(),o=bc(i).a;e(n(o&&a.dl===o.dl&&a.cD===o.cD&&a.dh.a===o.dh.a?ec(o):Qu(i)))}}))}),(function(t){return Er(e.fu,t,jn(),i)}),e.d6,e.b3,e.gG))}),Lc=Oa,Uc=La,Nc={$:0},Bc={$:1},Fc=Sr((function(e,t,r,n,i,a,o,s){return new c(r,t,n,s,i,a,e,o)})),jc=$r((function(e,t,r,n){return new l(t,r,e,n)})),Kc=function(e,t){return t.$?As:e(t.a)},Hc=gr(Kc),Wc=function(e,t,r){return t(e(r))},Vc=mr(Wc),zc=Vr,Gc=Vr,Jc=function(e,t){return Vr(au(zr(e),[],t))},Yc=gr(Jc),Zc=function(e){return Vr(ou((function(e,t){var r=e.a,n=e.b;return to(r,n,t)}),{},e))},Xc=Vr,Qc=(Ac="event2js",Oc=function(e){return Zc(qr([Ar("message",function(e){return Zc(qr([Ar("cmd",Xc(e.aA)),Ar("param",e.dc)]))}(e.cZ)),Ar("reply",zc(e.bR)),Ar("service",Xc(e.gr)),Ar("track",Yc((function(e){var t=e.a,r=e.b;return Jc(tc,qr([Xc(t),Gc(r)]))}))(e.gT))]))},fn(Ac),co[Ac]={e:$o,u:Oc,a:dn},sn(Ac)),el=function(e,t,r,n){return new f(n,e,r,t)},tl=$r(el),rl=!0,nl=Xi,il=(kr(tl,rl,nl),function(e,t){return el(rl,nl,"db",{aA:e,dc:t})}),al=gr(il),ol=function(e){return al("index_"+e)},sl=Xc,ul=ol("get"),cl=(kr(Vc,sl,ul),function(e,t){return Ar(t,Qc(Wc(sl,ul,e)))}),ll=(gr(cl),function(e,t){return{$:2,a:e,b:t}}),fl=(gr(ll),function(e,t){return{$:1,a:e,b:t}}),dl=(gr(fl),{$:0}),hl=mr((function(e,t,r){return new d(e,t,r)})),vl=function(e,t){if(t.$){var r=t.a;return Hs(r)}return e(t.a)},pl=(gr(vl),function(e){return ba(e,"")}),bl=function(e){return e<0||1114111<e?"�":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320))},gl=bl,ml=pl,$l=(kr(Vc,gl,ml),function(e,t){var r=t.a,n=t.b,i=t.c,a=function(e){return 63&e|r<<6};return n?1===n?Or(0,0,Dr(i,Wc(gl,ml,a(e)))):Or(a(e),n-1,i):128&e?192==(224&e)?Or(31&e,1,i):224==(240&e)?Or(15&e,2,i):Or(7&e,3,i):Or(0,0,Dr(i,Wc(gl,ml,e)))}),yl=(gr($l),function(e,t){return Or(0,0,$l(255&e>>>0,$l(255&e>>>8,$l(255&e>>>16,t))))}),wl=(gr(yl),gr((function(e,t){var r=t.a,n=t.b,i=t.c,a=function(e){switch(e){case"A":default:return 0;case"B":return 1;case"C":return 2;case"D":return 3;case"E":return 4;case"F":return 5;case"G":return 6;case"H":return 7;case"I":return 8;case"J":return 9;case"K":return 10;case"L":return 11;case"M":return 12;case"N":return 13;case"O":return 14;case"P":return 15;case"Q":return 16;case"R":return 17;case"S":return 18;case"T":return 19;case"U":return 20;case"V":return 21;case"W":return 22;case"X":return 23;case"Y":return 24;case"Z":return 25;case"a":return 26;case"b":return 27;case"c":return 28;case"d":return 29;case"e":return 30;case"f":return 31;case"g":return 32;case"h":return 33;case"i":return 34;case"j":return 35;case"k":return 36;case"l":return 37;case"m":return 38;case"n":return 39;case"o":return 40;case"p":return 41;case"q":return 42;case"r":return 43;case"s":return 44;case"t":return 45;case"u":return 46;case"v":return 47;case"w":return 48;case"x":return 49;case"y":return 50;case"z":return 51;case"0":return 52;case"1":return 53;case"2":return 54;case"3":return 55;case"4":return 56;case"5":return 57;case"6":return 58;case"7":return 59;case"8":return 60;case"9":return 61;case"+":return 62;case"/":return 63}}(e);return 3===n?yl(r|a,i):Or(a<<6*(3-n)|r,n+1,i)}))),_l=$a,Sl=Or(0,0,Or(0,0,"")),Cl=function(e,t){if(t.$){var r=t.a;return Hs(r)}var n=t.a;return Gs(e(n))},kl=(gr(Cl),function(e){return-e}),El=function(e,t){return e<1?t:Sa(0,-e,t)},Rl=gr(El),xl=gr((function(e,t){return Ma("==",e)?El(2,t):Ma("=",e)?El(1,t):t})),Ml=function(e,t,r,n){return new h(t,e,r,n)},Il=($r(Ml),cs),Tl=function(e){return us({cc:!1,c3:!1},e)},Al=/.^/,Ol=function(e,t){return t.$?e:t.a},Dl=gr(Ol),Pl=Ol(Al,Tl("^([A-Za-z0-9\\/+]{4})*([A-Za-z0-9\\/+]{2}[A-Za-z0-9\\/+=]{2})?$")),ql=function(e){var t=e.c,r=t.b,n=t.c;return r>0?Hs("Invalid UTF-16"):Gs(n)},Ll=function(e){switch(ic(e)%4){case 3:return e+"=";case 2:return e+"==";default:return e}},Ul=function(e){return Cl(xl(e),vl(kr(Vc,kr(_l,wl,Sl),ql),function(e){return ls(Pl,e)?Gs(e):Hs("Invalid base64")}(e)))},Nl=kr(Vc,Ll,Ul),Bl=Nl,Fl=Ga,jl=Pa,Kl=function(e){if(e.$)return As;var t=e.a;return Ts(t)},Hl=Bl,Wl=kr(Vc,Kl,Hc(kr(Vc,Fl(Ka(hl,qa("backend",jl),qa("course",jl),qa("room",jl))),Kl))),Vl=(kr(Vc,Hl,Wl),function(e){var t=e.ag;if(t.$)return dl;var r=t.a,n=Wc(Hl,Wl,r);if(n.$)return fl(r,e.aC);var i=n.a;return ll(i,e.aC)}),zl=function(e,t){if(1===e.$)return t;var r=e.a;return t+":"+Qs(r)},Gl=(gr(zl),function(e,t,r){if(1===t.$)return r;var n=t.a;return Dr(r,Dr(e,n))}),Jl=(mr(Gl),function(e){var t=function(){switch(e.dl){case 0:return"http://";case 1:return"https://";case 2:return"file://";case 3:return"file:///";case 4:return"ipfs://";case 5:return"ipns://";case 6:return"dat://";case 7:return"ftp://";default:return"hyper://"}}();return Gl("#",e.aC,Gl("?",e.ag,Dr(zl(e.dh,Dr(t,e.cD)),e.de)))}),Yl=function(e){return Jl(Ge(e,As))},Zl=1024,Xl=768,Ql=function(e,t,r){return new v(t,r,e)},ef=(mr(Ql),Ql("",Xi,!1)),tf={$:-2},rf=tf,nf=function(e){return new p(Xi,"",e,Xi,"",!1,"",Xi,"en",As,"",rf,As,"US English Male","",Xi,-1,rf,-1,"0.0.1")},af=function(e,t){return new g(As,As,"dreamweaver",100,Ts(e),!1,"default",!0,t,!1,!0,!1,!1,Ts(!1),!0,"default",!1,Ts(!1),new b(!1,!1,!1))},of=(gr(af),{$:0}),sf={$:2},uf={$:1},cf=function(e){return{$:2,a:e}},lf=function(e){return{$:3,a:e}},ff=function(e){return{$:4,a:e}},df=function(e){return{$:5,a:e}},hf=rf,vf=mr((function(e,t,r){var n=e(t);if(n.$)return r;var i=n.a;return Pr(i,r)})),pf=function(e,t){return wc(vf(e),Xi,t)},bf=gr(pf),gf=function(e,t){if(t.b){var r=t.a,n=t.b;return Pr(e(r),n)}return t},mf=(gr(gf),function(e){return e.toLowerCase()}),$f=function(e){var t=gf(mf,ru("|",e));e:for(;t.b;)if(t.b.b)if(t.b.b.b){if(t.b.b.b.b){if("matrix"!==t.a||t.b.b.b.b.b)break e;var r=t.b,n=(d=r.a,r.b),i=n.a,a=n.b.a;return Ts(ff(new m(a,d,i)))}switch(t.a){case"matrix":var o=t.b;d=o.a,i=o.b.a;return Ts(ff(new m("",d,i)));case"pubnub":var s=t.b,u=s.a,c=s.b.a;return Ts(df(new $(u,c)));default:break e}}else switch(t.a){case"gun":var l=t.b.a;return Ts(cf(l));case"jitsi":var f=t.b.a;return Ts(lf(f));case"matrix":var d=t.b.a;return Ts(ff(new m("",d,"")));default:break e}else switch(t.a){case"beaker":return Ts(of);case"edrys":return Ts(uf);case"gun":return Ts(cf(""));case"jitsi":return Ts(lf(""));case"matrix":return Ts(ff(new m("","","")));case"pubnub":return Ts(df(new $("","")));default:break e}return As},yf="https://peer.wallie.io/gun",wf=gr((function(e,t){for(;;){var r=Ar(e,t);e:for(;;){if(!r.a.b)return Ar(!1,t);switch(r.a.a.$){case 2:if(2===r.b.$){r.a;return Ar(!0,t)}break e;case 4:if(4===r.b.$){r.a;return Ar(!0,t)}break e;case 5:if(5===r.b.$){r.a;return Ar(!0,t)}break e;case 3:if(3===r.b.$){r.a;return Ar(!0,t)}break e;default:break e}}var n=r.a,i=n.a,a=n.b;if(Tr(i,t))return Ar(!0,t);e=a,t=t}})),_f=function(e){return!e.b},Sf=function(e){if(e.b){var t=e.a;e.b;return Ts(t)}return As},Cf=Tl,kf=Dl(Al),Ef=(kr(Vc,Cf,kf),function(e,t){var r=Sf(fs(1,Wc(Cf,kf,e),t));if(r.$)return As;var n=r.a;return Ol(As,Sf(n.gE))}),Rf=(gr(Ef),gr((function(e,t){e:for(;;){if(e.b){var r=e.a,n=e.b,i=Ef(r.W,t);if(i.$){e=n,t=t;continue e}var a=i.a;return Ar(!0,kr(r.T,t,a))}return Ar(!1,t)}}))),xf=function(e,t,r){return eu(t,ru(e,r))},Mf=mr(xf),If="(?:http(?:s)?://)?(?:www\\.)?",Tf=(Zs(If),"https://api.allorigins.win/raw?url="),Af=xf("?","\\?",xf(".","\\.",Tf)),Of=Rf(qr([{T:gr((function(e,t){return"https://github.com/"+function(){var e=ru("/",t);if(e.b&&e.b.b&&e.b.b.b){if("blob"===e.b.b.a&&e.b.b.b.b){var r=e.a,n=e.b;return r+"/"+n.a+"/tree/"+n.b.b.a}r=e.a;var i=e.b;return r+"/"+i.a+"/tree/"+i.b.a}return t}()})),W:Dr(If,"raw.githubusercontent\\.com/(.*)")},{T:gr((function(e,t){return"https://gitlab.com/"+xf("-/raw/","-/tree/",t)})),W:Dr(If,Af+"https://gitlab\\.com/(.*)")},{T:gr((function(e,t){var r=_c(nu("."),ru("/",t));if(r.b&&r.a.b&&r.a.b.b&&"gitlab"===r.a.b.a&&r.a.b.b.b&&"io"===r.a.b.b.a&&!r.a.b.b.b.b&&r.b.b&&r.b.a.b&&!r.b.a.b.b){var n=r.a,i=n.a;n.b.b;return"https://gitlab.com/"+i+"/"+r.b.a.a}return"https://"+t})),W:Dr(If,"(.*\\.gitlab\\.io/.*)")},{T:gr((function(e,t){return"https://dropbox.com/s/"+t})),W:Dr(If,"dl\\.dropbox\\.com/s/(.*)")}])),Df=function(e){var t=e.a,r=e.b;return t?Ts(xf(Tf,"",r)):As},Pf=kr(Vc,Of,Df),qf=Ya,Lf=Aa,Uf=function(e){return{$:11,g:e}},Nf=function(e){return Uf(qr([Ba(Ts,e),Zu(As)]))},Bf=function(e){return{$:1,a:e}},Ff=function(e){switch(e){case"Textbook":return Zu(2);case"Presentation":return Zu(1);case"Slides":return Zu(0);default:return Bf("unknown presentation mode")}},jf=function(e){return qf(Fa(qu,Ba(Dl(!0),Nf(qa("browserTTS",Lc))),Fa(qu,Ba(Dl(!1),Nf(qa("tooltips",Lc))),za(function(e){return function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return function(c){return function(l){var f,d=e.b2;return(f=e.$c()).am=n,f.b2=Je(d,l),f.cp=a,f.cv=o,f.dL=s,f.dZ=c,f.fA=u,f.fG=i,f.fS=r,f.gJ=t,f}}}}}}}}}}}(e),qa("table_of_contents",Lc),Na(Ff,qa("mode",jl)),qa("theme",jl),qa("light",Lc),qa("editor",jl),qa("font_size",Lf),qa("sound",Lc),qa("lang",jl)))))},Kf=function(e,t){return t.$?e:t.a},Hf=gr(Kf),Wf=function(e,t,r,n,i,a,o,s){var u,c,l,f,d=af(e,1);return new _(s,nf(i),As,"","en","en",rf,As,o,!1,a,Wc(Of,Df,a),Xi,tc,0,Du,(l=Kf(d,kr(jf,d,r)),(f=l.$c()).R=_f(n.dR)?As:l.R,f.gJ=t,f),(u=n.dR,c=pf($f,u),new w(As,"",hf,"",sf,new y(!1,As,_c(wf(c),qr([of,uf,cf(yf),lf("meet.jit.si"),ff(new m("","","")),df(new $("",""))]))))),"Lia",Xi,12,i)},Vf=(Sr(Wf),ro),zf=kr(ol,"list",Vf),Gf=function(e,t){return Ye(t,Pr(Ar(e,-1),t.gT))},Jf=(gr(Gf),function(e){return Ar(e,Qc(Gf("index",zf)))}),Yf=function(e){return e.b},Zf=Rf(qr([{T:gr((function(e,t){return"https://raw.githubusercontent.com/"+function(){var e=ru("/",t);e:for(;;){if(e.b&&e.b.b){if(e.b.b.b){if("tree"===e.b.b.a){e.b.b;return xf("/tree/","/",t)+"/README.md"}break e}e.b;return t+"/master/README.md"}break e}return xf("/blob/","/",t)}()})),W:Dr(If,"github\\.com/(.*)")},{T:gr((function(e,t){return"https://dl.dropbox.com/s/"+t})),W:Dr(If,"dropbox\\.com/s/(.*)")}])),Xf=Yf,Qf=kr(Vc,Zf,Xf),ed=function(e){var t=_c(lc,ru(".",e));return t.b&&!t.a.$?t.a.a:0},td=function(e,t){if(t.$)return As;var r=t.a;return Ts(e(r))},rd=gr(td),nd=ia,id=function(e){var t=_c(lc,ru(".",e));if(t.b&&!t.a.$){if(t.b.b&&!t.b.a.$){if(t.b.b.b&&!t.b.b.a.$){var r=t.a.a,n=t.b;return 1e4*r+100*n.a.a+n.b.a.a}return 1e4*(r=t.a.a)+100*t.b.a.a}return 1e4*(r=t.a.a)}return 0},ad=id,od=nd(ad),sd=od,ud=kr(Vc,_u,Sf),cd=kr(Vc,sd,ud),ld=Vi,fd=function(e){return Ls((function(e,t,r){return Pr(t,r)}),Xi,e)},dd=gr((function(e,t){return!!ed(e)&&Tr(id(e),Ol(-1,td(id,Wc(sd,ud,_c(kr(Vc,(function(e){return e.eR}),(function(e){return e.bd})),fd(t.g_))))))})),hd=function(e){var t=e.bd,r=e.d4;return Zc(qr([Ar("version",Gc(ed(t))),Ar("url",Xc(r))]))},vd=hd,pd=ol("restore"),bd=(kr(Vc,vd,pd),function(e,t){for(var r=Pr(void 0,Xi),n=r;e.b;e=e.b){var i=Pr(e.a,Xi);n.b=i,n=i}return n.b=t,r.b}),gd=gr(bd),md=function(e){return e.trim()},$d=function(e,t,r){for(;;){if(-2===r.$)return t;var n=r.b,i=r.c,a=r.d,o=r.e,s=e,u=Er(e,n,i,$d(e,t,a));e=s,t=u,r=o}},yd=function(e,t,r){for(;;){if(-2===r.$)return t;var n=r.b,i=r.c,a=r.d,o=r.e,s=e,u=e(n,i,yd(e,t,a));e=s,t=u,r=o}},wd=(mr($d),function(e,t,r,n,i){return{$:-1,a:e,b:t,c:r,d:n,e:i}}),_d=(yr(wd),function(e,t,r,n,i){if(-1!==i.$||i.a){if(-1!==n.$||n.a||-1!==n.d.$||n.d.a)return wd(e,t,r,n,i);n.a,v=n.b,p=n.c;var a=n.d,o=(a.a,a.b),s=a.c,u=a.d,c=a.e;g=n.e;return wd(0,v,p,wd(1,o,s,u,c),wd(1,t,r,g,i))}i.a;var l=i.b,f=i.c,d=i.d,h=i.e;if(-1!==n.$||n.a)return wd(e,l,f,wd(0,t,r,n,d),h);n.a;var v=n.b,p=n.c,b=n.d,g=n.e;return wd(0,t,r,wd(1,v,p,b,g),wd(1,l,f,d,h))}),Sd=(yr(_d),function(e,t,r){if(-2===r.$)return wd(0,e,t,tf,tf);var n=r.a,i=r.b,a=r.c,o=r.d,s=r.e;switch(Ji(e,i)){case 0:return _d(n,i,a,Sd(e,t,o),s);case 1:return wd(n,i,t,o,s);default:return _d(n,i,a,o,Sd(e,t,s))}}),Cd=(mr(Sd),function(e,t,r){var n=Sd(e,t,r);if(-1!==n.$||n.a)return n;n.a;var i=n.b,a=n.c,o=n.d,s=n.e;return wd(1,i,a,o,s)}),kd=mr(Cd),Ed=function(e,t){return $d(kd,t,e)},Rd=(gr(Ed),function(e,t){return(r=e.$c()).cU=Ed(e.cU,t.cU),r.en=bd(e.en,t.en),r.f5=md(Dr(e.f5,Tr(e.f5,t.f5)?"":"\n"+t.f5)),r.gj=bd(e.gj,t.gj),r;var r}),xd=(gr(Rd),function(e,t){for(var r=Pr(void 0,Xi),n=r;t.b;t=t.b)if(e(t.a)){var i=Pr(t.a,Xi);n.b=i,n=i}return r.b}),Md=gr(xd),Id=function(e){return(t=e.$c()).bR=!1,t;var t},Td=function(e,t){return Id(el(rl,nl,"resource",{aA:e,dc:Xc(t)}))},Ad=(gr(Td),function(e,t){for(;;){if(!t.b)return!1;var r=t.a,n=t.b;if(e(r))return!0;e=e,t=n}}),Od=gr(Ad),Dd=function(e,t){return Ad((function(t){return Tr(t,e)}),t)},Pd=(gr(Dd),function(e){return!e}),qd=function(e,t){var r=xd((function(t){return!Dd(t,e)}),t);return Ar(bd(e,r),_c((function(e){return 1===e.$?function(e){return Td("script",e)}(e.a):function(e){return Td("link",e)}(e.a)}),r))},Ld=(gr(qd),function(e,t){var r,n=qd(t.ds,e.gj),i=n.a,a=n.b;return(r=t.$c()).dY=bd(t.dY,_u(a)),r.ds=i,r.eR=Rd(t.eR,e),r}),Ud=(gr(Ld),function(e){return ya(Os,Xi,e)}),Nd=function(e){var t=Ud(mf(md(e)));e:for(;t.b;){if(!t.b.b){if("0"===t.a)return!1;break e}if(!t.b.b.b)break e;switch(t.a){case"f":if("a"===t.b.a&&"l"===t.b.b.a&&t.b.b.b.b&&"s"===t.b.b.b.a&&t.b.b.b.b.b&&"e"===t.b.b.b.b.a){t.b.b.b.b;return!1}break e;case"o":if("f"===t.b.a&&"f"===t.b.b.a){t.b.b;return!1}break e;case"d":if("i"===t.b.a&&"s"===t.b.b.a&&t.b.b.b.b&&"a"===t.b.b.b.a&&t.b.b.b.b.b&&"b"===t.b.b.b.b.a&&t.b.b.b.b.b.b&&"l"===t.b.b.b.b.b.a&&t.b.b.b.b.b.b.b&&"e"===t.b.b.b.b.b.b.a){t.b.b.b.b.b.b;return!1}break e;default:break e}}return!0},Bd=function(e,t){e:for(;;){if(-2===t.$)return As;var r=t.b,n=t.c,i=t.d,a=t.e;switch(Ji(e,r)){case 0:e=e,t=i;continue e;case 1:return Ts(n);default:e=e,t=a;continue e}}},Fd=gr(Bd),jd=Fd("persistent"),Kd=kr(Vc,rd(Nd),Dl(!1)),Hd=kr(Vc,jd,Kd),Wd=function(e){switch(mf(e)){case"ar":return Ts(0);case"bg":return Ts(1);case"de":return Ts(2);case"es":return Ts(3);case"fa":return Ts(4);case"hy":return Ts(5);case"ko":return Ts(6);case"nl":return Ts(7);case"ru":return Ts(8);case"tw":return Ts(9);case"uk":return Ts(10);case"zh":return Ts(11);case"en":return Ts(12);default:return As}},Vd="https://LiaScript.github.io",zd="https://LiaScript.github.io/course/?",Gd=function(e,t,r){return new S(r,t,e)},Jd=(mr(Gd),function(e){var t=mr((function(e,t,r){e:for(;;){if(r.b){var n=r.a,i=r.b,a=ic(n),o=a+1;if(Tr(e,a))return Gd(n,t,e);if(zi(e,a)>0){e=e-o,t=t+1,r=i;continue e}return Gd(n,t,e)}return Gd("",t,e)}}));return Er(t,e.N,0,ru("\n",e.eJ))}),Yd=function(e,t,r){return e<=0?r:Yd(e>>1,Dr(t,t),1&e?Dr(r,t):r)},Zd=(mr(Yd),function(e,t){return Yd(e,t,"")}),Xd=(gr(Zd),function(e,t,r){return Dr(Zd(e-ic(r),pl(t)),r)}),Qd=(mr(Xd),function(e,t){var r=ic("\n "),n=Jd(t),i=n.eD+r+2,a="\n  * ";return"Parse error around line: "+Qs(n.fI)+"\n "+n.gx+"\n"+Xd(i," ","^")+"\nI expected one of the following:\n"+(a+eu(a,e))}),eh=(gr(Qd),gr((function(e,t){return e}))),th=function(e){return e},rh=function(e,t){return gr((function(r,n){var i=Er(th,t,r,n);if(i.c.$){var a=i.a,o=i.b,s=i.c.a;return Or(a,o,Hs(s))}var u=i.a,c=i.b,l=i.c.a;return Er(th,e(l),u,c)}))},nh=gr(rh),ih=mr((function(e,t,r){return kr(e,r,t)})),ah=function(e,t,r){return gr((function(n,i){var a=Er(th,r,n,i);if(a.c.$){var o=a.a,s=a.b,u=a.c.a;return Or(o,s,Hs(t(u)))}var c=a.a,l=a.b,f=a.c.a;return Or(c,l,Gs(e(f)))}))},oh=mr(ah),sh=function(e,t){return ah(e,tc,t)},uh=gr(sh),ch=function(e,t){return rh(kr(ih,uh,e),t)},lh=gr(ch),fh=function(e,t){return ch(e,sh(eh,t))},dh=gr(fh),hh=function(e,t){return new C(e,t)},vh=(gr(hh),hh(Du,Du)),ph=function(e,t,r,n,i){return new k(r,t,n,i,e)},bh=(yr(ph),ph(0,0,rf,Du,As)),gh=rf,mh=function(e,t){return new E(vh,t,!1,0,bh,qr([0]),gh,Du,Xi,!1,Du,Ol(tc,e),Du,Du,Du)},$h=(gr(mh),function(e,t){return ch(e,sh(ih(eh),t))}),yh=(gr($h),function(e,t){return gr((function(r,n){var i=Er(th,e,r,n);if(i.c.$){var a=i.c.a,o=Er(th,t,r,n);if(o.c.$){var s=o.c.a;return Or(r,n,Hs(Dr(a,s)))}return o}return i}))}),wh=gr(yh),_h=function(e,t){return mr((function(r,n,i){for(;;){var a=Er(th,t,n,i);if(!a.c.$){var o=a.a,s=a.b;return Or(o,s,Gs(_u(r)))}var u=a.a,c=a.b,l=a.c.a,f=Er(th,e,n,i);if(f.c.$)return Or(u,c,Hs(l));o=f.a,s=f.b;var d=f.c.a;r=Pr(d,r),n=o,i=s}}))(Xi)},Sh=gr(_h),Ch=function(e){return gr((function(t,r){if(Ra(e,r.fx)){var n=ic(e),i=r.N+n,a=oc(n,r.fx);return Or(t,Ze(r,i,a),Gs(e))}return Or(t,r,Hs(qr(['expected "'+e+'"'])))}))},kh=tc,Eh=(oh(kh),function(e,t){return ah(kh,eh(qr([e])),t)}),Rh=(gr(Eh),yr((function(e,t,r,n,i){var a=Ra("^",r)?r:"^"+r,o=fs(1,Ol(Al,e(a)),i.fx);if(o.b&&!o.b.b){var s=o.a,u=ic(s.a4),c=i.N+u,l=oc(u,i.fx);return Or(n,Ze(i,c,l),Gs(t(s)))}return Or(n,i,Hs(qr(["expected input matching Regexp /"+a+"/"])))}))),xh=kr(Rh,Tl,(function(e){return e.a4})),Mh=tc,Ih=(kr(Vc,xh,Mh),Eh("optional whitespace",Wc(xh,Mh,"\\s*"))),Th=function(e){return $h(_h(e,Ch("--\x3e")),fh(Ih,Ch("\x3c!--")))},Ah=gr((function(e,t){return Or(e,t,Hs(Xi))})),Oh=function(e){return wc(wh,Ah,e)},Dh=function(e){return gr((function(t,r){var n=Er(th,e,t,r);if(n.c.$)return Or(t,r,Gs(As));var i=n.a,a=n.b,o=n.c.a;return Or(i,a,Gs(Ts(o)))}))},Ph=Dh(Ch("@")),qh=(Ph.f,$h(Wc(xh,Mh,"\\w+[\\w\\-.\\d]*"),Ph)),Lh=function(e,t){return Ar(e,t)},Uh=gr(Lh),Nh=function(e){return eu("",e)},Bh=function(e,t){if(!t.b)return t;var r=Pr(void 0,Xi),n=r;for(n.b=Pr(t.a,Xi),n=n.b,t=t.b;t.b;t=t.b){var i=Pr(t.a,Xi),a=Pr(e,i);n.b=a,n=i}return r.b},Fh=gr(Bh),jh=function(e){return qr(e.trim().split(/\s+/g))},Kh=jh,Hh=kr(Vc,Fh(" "),Nh),Wh=kr(Vc,Kh,Hh),Vh=sh(Wh,Wc(xh,Mh,"([ \\t].*|[ \\t]*\\n)+")),zh=tc,Gh=function(e){return zh(gr((function(t,r){var n="could not satisfy predicate",i=Su(r.fx);if(i.$)return Or(t,r,Hs(qr([n])));var a=i.a,o=a.a,s=a.b;return e(o)?Or(t,Ze(r,r.N+1,s),Gs(o)):Or(t,r,Hs(qr([n])))})))},Jh=Eh("expected any character",Gh(eh(!0))),Yh=function(e){return Lr(e).join("")},Zh=function(e){return sh(Yh,_h(Jh,e))},Xh=sh((function(e){return Ra("\n",e)?" "+e:e}),Zh(Ch("\n@end"))),Qh=yh($h(Vh,Wc(xh,Mh,"[\\t ]*:")),$h(Xh,Wc(xh,Mh,"[\t ]*\\n"))),ev=(Qh.f,ch(Qh,sh(Uh,qh))),tv=function(e){return uh(eh(e))},rv=function(e){return kr(tv,0,e)},nv=function(e){return{$:0,a:e}},iv=function(e){return{$:1,a:e}},av=function(e,t){var r=e.a,n=e.b;return Xe(t,Cd(r,n,t.cU))},ov=gr(av),sv=function(e,t){return function(e){switch(mf(Ol("",Sf(ru(":",e))))){case"https":case"http":case"file":case"hyper":case"dat":case"ipfs":case"ipns":case"blob":return!0;default:return!1}}(t)||Ra("#",t)?t:Dr(e,t)},uv=gr(sv),cv=function(e,t,r,n){return bd(n,_c(kr(Vc,uv(t),e),jh(r)))},lv=($r(cv),mr((function(e,t,r){return(n=r.$c()).gj=cv(e,r.eq,t,r.gj),n;var n}))),fv=gr((function(e,t){return(r=t.$c()).a0=cv(Qf,t.eq,e,t.a0),r;var r})),dv=gr((function(e,t){var r,n=jh(e);if(n.b&&n.b.b&&!n.b.b.b){var i=n.a,a=n.b.a;return(r=t.$c()).gU=Cd(i,sv(t.eq,a),t.gU),r}return t})),hv=mr((function(e,t,r){return{$:3,a:e,b:t,c:r}})),vv=gr((function(e,t){return{$:2,a:e,b:t}})),pv=gr((function(e,t){return{$:11,a:e,b:t}})),bv=mr((function(e,t,r){return{$:5,a:e,b:t,c:r}})),gv=gr((function(e,t){return{$:13,a:e,b:t}})),mv=mr((function(e,t,r){return{$:2,a:e,b:t,c:r}})),$v=gr((function(e,t){return{$:3,a:e,b:t}})),yv=function(e,t,r){return{$:0,a:e,b:t,c:r}},wv=mr(yv),_v=mr((function(e,t,r){return{$:1,a:e,b:t,c:r}})),Sv=mr((function(e,t,r){return{$:4,a:e,b:t,c:r}})),Cv=function(e){return{$:6,a:e}},kv=function(e){return{$:7,a:e}},Ev=gr((function(e,t){return{$:8,a:e,b:t}})),Rv=gr((function(e,t){return{$:9,a:e,b:t}})),xv=function(e,t){return{$:12,a:e,b:t}},Mv=gr(xv),Iv=gr((function(e,t){return{$:4,a:e,b:t}})),Tv=gr((function(e,t){return{$:6,a:e,b:t}})),Av=gr((function(e,t){return{$:5,a:e,b:t}})),Ov=function(e,t){return{$:0,a:e,b:t}},Dv=gr(Ov),Pv=function(e,t,r){return new R(t,r,e)},qv=(mr(Pv),function(e,t){return new x(t,e)}),Lv=(gr(qv),function(e,t,r){for(;;){var n=Di(Ru,e),i=n.a,a=n.b;if(zi(Nu(i),Ru)<0)return Vu(!0,{k:t,h:r,j:i});e=a,t=Pr(Pu(i),t),r=r+1}}),Uv=(mr(Lv),function(e){return e.b?Lv(e,Xi,0):Du}),Nv=function(e){return e.a},Bv=function(e){return gr((function(t,r){return Or(t,r,Gs(e))}))},Fv=function(e){return gr((function(t,r){return Er(th,e(t),t,r)}))},jv=function(e){return gr((function(t,r){return Er(th,Bv(0),e(t),r)}))},Kv=4294967295>>>32-Ou,Hv=function(e){return[e]},Wv=function(e,t,r,n){var i=Kv&t>>>e;if(zi(i,Nu(n))>-1){if(5===e)return Li(Pu(r),n);var a=ju(Wv(e-Ou,t,r,Mu));return Li(a,n)}var o=Pi(i,n);if(o.$){a=ju(Wv(e-Ou,t,r,Hv(o)));return qi(i,a,n)}var s=o.a,a=ju(Wv(e-Ou,t,r,s));return qi(i,a,n)},Vv=($r(Wv),function(e,t){var r=t.a,n=t.b,i=t.c,a=t.d,o=Nu(a),s=Nu(e),u=r+(s-o);if(Tr(s,Ru)){if(zi(u>>>Ou,1<<n)>0){var c=n+Ou,l=Wv(c,r,e,Hv(ju(i)));return xu(u,c,l,Mu)}return xu(u,n,Wv(n,r,e,i),Mu)}return xu(u,n,i,e)}),zv=(gr(Vv),function(e,t){var r=t.d;return Vv(Li(e,r),t)}),Gv=(gr(zv),gr((function(e,t){var r=t.a,n=t.b,i=t.c;return rh((function(e){return Bv(Ar(r,e))}),$h(function(e){return Fv((function(t){return Bv(function(){var r=Bd(e,t.eZ.aB);if(r.$)return 0;var n=r.a;return Nv(n.cg)-1}())}))}(r),jv((function(t){var a,o=Ol(t.cm.fW,td(md,n));return tt(t,(a=t.eZ,et(a,function(){var t=Bd(r,a.aB);if(t.$)return Cd(r,qv(o,Uv(qr([Pv(e,Xi,i)]))),a.aB);var n=t.a;return Cd(r,Qe(n,zv(Pv(e,Xi,i),n.cg)),a.aB)}())))}))))}))),Jv=function(e){return gr((function(t,r){return Or(t,r,Hs(qr([e])))}))},Yv=function(e){if(e.$)return Jv("impossible state in Combine.Num.unwrap");var t=e.a;return Bv(t)},Zv=Eh("expected an int",rh(Yv,sh(lc,Wc(xh,Mh,"-?(?:0|[1-9]\\d*)")))),Xv=rh((function(e){return $h(Bv(e),jv((function(t){return(r=t.$c()).aY=Pr(e,t.aY),r.eZ=function(){if(zi(e,t.eZ.cq)>0){var r=t.eZ;return function(){var t=r.$c();return t.cq=e,t}()}return t.eZ}(),r;var r})))}),Zv),Qv=sh(ic,Wc(xh,Mh,"(`){3,}")),ep=gr((function(e,t){return(r=t.$c()).cH=e,r;var r})),tp=fh(jv(ep(!1)),Fv((function(e){return Tr(e.ft,Xi)?Bv(0):e.cH?rv(Bv(0)):rv(Wc(xh,Mh,Nh(e.ft)))}))),rp=function(e){return qr([e])},np=sh(kr(Vc,Nh,rp),_h($h(Wc(xh,Mh,"(.(?!```))*\\n?"),Dh(tp)),$h(Qv,Dh(tp)))),ip=gr((function(e,t){return e?"<lia-keep><pre id='ls'><code style='background: #CCCCCC; white-space: pre;'>"+t+"</code></pre></lia-keep>":t})),ap=ps,op=(vs(ap),mr((function(e,t,r){var n=Tl(e);if(n.$)return r;var i=n.a;return hs(ap,i,t,r)}))),sp=function(e,t){var r=Ra("@@",e)?Or(!0,!0,oc(2,e)):Ra("@-@",e)?Or(!0,!1,oc(3,e)):Or(!1,!1,oc(1,e)),n=r.a,i=r.b,a=r.c;return td((function(e){return Or(n,i,e)}),function(){switch(a){case"author":return Ts(t.eo);case"date":return Ts(t.eL);case"email":return Ts(t.e$);case"version":return Ts(t.bd);case"section":return Ts(Qs(t.dE));case"uid":return Ts(Qs(t.dE)+"_"+Qs(t.d1));default:return Bd(a,t.cU)}}())},up=(gr(sp),function(e){return qr(e.split(/\r\n|\r|\n/g))}),cp=function(e){var t=mr((function(t,r,n){for(;;){var i=Er(th,e,r,n);if(i.c.$)return Or(r,n,_u(t));var a=i.a,o=i.b,s=i.c.a;if(Tr(n,o))return Or(a,o,_u(t));t=Pr(s,t),r=a,n=o}}));return gr((function(e,r){var n=Er(t,Xi,e,r),i=n.a,a=n.b,o=n.c;return Or(i,a,Gs(o))}))},lp=function(e){return ch(cp(e),sh(Os,e))},fp=function(e,t){return yh(t,Bv(e))},dp=(gr(fp),nu("\\")),hp=tu("\\\\"),vp=kr(Vc,dp,hp),pp=sh(vp,Oh(qr([fh(Qv,$h(Wc(xh,Mh,"(([^`]+|(`[^`]+)|(``[^`]+))|\\n)+"),Qv)),fh(Ch("`"),$h(Wc(xh,Mh,"[^`\n]+"),Ch("`"))),Wc(xh,Mh,"[^),]+")]))),bp=function(e,t,r){return fh(t,$h(r,e))},gp=mr(bp),mp=Ch("("),$p=Ch(")"),yp=kr(gp,mp,$p),wp=function(e,t){return ch(cp($h(t,e)),sh(Os,t))},_p=(gr(wp),function(e,t){return yh(wp(e,t),Bv(Xi))}),Sp=(gr(_p),fp(Xi,bp(mp,$p,_p(Ch(","),pp)))),Cp=Wc(xh,Mh,"\\w[\\w\\d._]+"),kp=ch(fp(!1,kr(tv,!0,Ch("'"))),sh(mr((function(e,t,r){return Ar(Dr(e,r),t)})),Wc(xh,Mh,"@-?@?"))),Ep=ch(Cp,kp),Rp=function(e){return gr((function(t,r){return Er(th,Bv(0),e,r)}))},xp=ch(ch(Fv(kr(Vc,(function(e){return e.cm}),kr(Vc,(function(e){return e.eq}),Bv))),fh(Wc(xh,Mh,"(\\)|[^)]*\\))"),ch(Wc(xh,Mh,"[^) ]*"),sh(mr((function(e,t,r){return bd(e,qr([sv(r,t)]))})),fh(Ch("]("),Sp))))),sh(Uh,ch(Cp,fh(Ch("["),kp)))),Mp=function(e,t,r){return new M(e,t,r)},Ip=(mr(Mp),function(e,t,r){var n=Er(th,e,t,function(e){return Mp(e,e,0)}(r));if(n.c.$){a=n.a,o=n.b;var i=n.c.a;return Hs(Or(a,o,i))}var a=n.a,o=n.b,s=n.c.a;return Gs(Or(a,o,s))}),Tp=(mr(Ip),ch(Sp,sh(Uh,Ep))),Ap=function(e){return xf("\n","\\n",xf("`","\\`",xf("'","\\'",xf('"','\\"',e))))},Op=kr(tv,Ar(Ar("@uid",!1),Xi),$h(jv((function(e){var t,r=e.cm;return nt(e,((t=r.$c()).d1=r.d1+1,t))})),Ch("@uid"))),Dp=gr((function(e,t){var r=t.a,n=t.b,i=t.c,a=qp(r,e),o=a.a,s=a.b;return Or(o,n+1,xf("@"+Qs(n),s,xf("@'"+Qs(n),Ap(s),i)))})),Pp=function(e){var t=e.a,r=t.a,n=t.b,i=e.b;return Fv((function(e){var t=sp(r,e.cm);if(t.$)return Jv("macro definition not found");var a,o,s=t.a,u=s.a,c=s.b,l=s.c,f=Tr(e.ft,Xi)?l:eu("\n"+xf("*","",xf("?","",Nh(e.ft))),up(l)),d=au(Dp,Or(e,0,f),i),h=d.a,v=d.c;return $h(Bv(0),$h(Rp(h),(a=Zs((u?(o=c,kr(Vc,kr(op,"[*+`{}#^|$\\[\\]]",kr(Vc,(function(e){return e.a4}),Zs("\\"))),kr(Vc,kr(Mf,"<","\\<"),kr(Vc,kr(Mf,">","\\>"),kr(Vc,kr(Mf,"\\\\`","`"),kr(Vc,kr(Mf,"\n","<br id='ls'>"),kr(Vc,kr(op,"@[a-zA-Z]+[\\w\\d._\\-]*",(function(e){return"@input"!==e.a4?"@-"+e.a4:e.a4})),kr(Vc,kr(Mf,"\\<br id='ls'\\>","<br id='ls'>"),ip(o))))))))):tc)(n?Ap(v):v)),gr((function(e,t){return Er(th,Bv(0),e,rt(t,a(t.fx)))})))))}))},qp=function(e,t){var r=Ip(sh(Nh,lp(yh(Wc(xh,Mh,"@input[^@]+"),$h(Wc(xh,Mh,"[^@]+"),Jn())))),e,t);if(r.$)return Ar(e,t);var n=r.a,i=n.a,a=n.c;return Ar(i,a)},Lp=(gr(qp),Jn());Jn=function(){return Lp};var Up=Yn();Yn=function(){return Up};var Np,Bp,Fp=function(e,t){for(;;){if(e<=0)return t;if(!t.b)return t;t.a;e=e-1,t=t.b}},jp=(gr(Fp),jv((function(e){return(t=e.$c()).aY=Fp(1,e.aY),t;var t}))),Kp=(jp.f,Wc(xh,Mh,"[\t ]+")),Hp=rv(rh(Gv(!1),fh(jp,ch(_h(Jh,Ch("--\x3e")),fh(Wc(xh,Mh,"}}--[\t ]*"),ch(Dh($h(Wc(xh,Mh,"[A-Za-z0-9 ]+"),$h(Lp,Kp))),sh(mr((function(e,t,r){return Or(e,t,qr([Ov(md(Yh(r)),Xi)]))})),$h(Xv,Wc(xh,Mh,"\x3c!--[\t ]*--{{"))))))))),Wp=rv(cp(yh(rv(Th(Jh)),Hp))),Vp=gr((function(e,t){var r=t.a,n=t.b;return Ar(r,"src"===r||"href"===r||"data"===r||"data-src"===r||"formaction"===r||"poster"===r?sv(e,n):n)})),zp=function(e){return ou((function(e,t){var r=e.a,n=e.b;return Cd(r,n,t)}),rf,e)},Gp=zp(qr([Ar("Aacute","Á"),Ar("aacute","á"),Ar("Abreve","Ă"),Ar("abreve","ă"),Ar("ac","∾"),Ar("acd","∿"),Ar("acE","∾̳"),Ar("Acirc","Â"),Ar("acirc","â"),Ar("acute","´"),Ar("Acy","А"),Ar("acy","а"),Ar("AElig","Æ"),Ar("aelig","æ"),Ar("af","⁡"),Ar("Afr","𝔄"),Ar("afr","𝔞"),Ar("Agrave","À"),Ar("agrave","à"),Ar("alefsym","ℵ"),Ar("aleph","ℵ"),Ar("Alpha","Α"),Ar("alpha","α"),Ar("Amacr","Ā"),Ar("amacr","ā"),Ar("amalg","⨿"),Ar("amp","&"),Ar("AMP","&"),Ar("andand","⩕"),Ar("And","⩓"),Ar("and","∧"),Ar("andd","⩜"),Ar("andslope","⩘"),Ar("andv","⩚"),Ar("ang","∠"),Ar("ange","⦤"),Ar("angle","∠"),Ar("angmsdaa","⦨"),Ar("angmsdab","⦩"),Ar("angmsdac","⦪"),Ar("angmsdad","⦫"),Ar("angmsdae","⦬"),Ar("angmsdaf","⦭"),Ar("angmsdag","⦮"),Ar("angmsdah","⦯"),Ar("angmsd","∡"),Ar("angrt","∟"),Ar("angrtvb","⊾"),Ar("angrtvbd","⦝"),Ar("angsph","∢"),Ar("angst","Å"),Ar("angzarr","⍼"),Ar("Aogon","Ą"),Ar("aogon","ą"),Ar("Aopf","𝔸"),Ar("aopf","𝕒"),Ar("apacir","⩯"),Ar("ap","≈"),Ar("apE","⩰"),Ar("ape","≊"),Ar("apid","≋"),Ar("apos","'"),Ar("ApplyFunction","⁡"),Ar("approx","≈"),Ar("approxeq","≊"),Ar("Aring","Å"),Ar("aring","å"),Ar("Ascr","𝒜"),Ar("ascr","𝒶"),Ar("Assign","≔"),Ar("ast","*"),Ar("asymp","≈"),Ar("asympeq","≍"),Ar("Atilde","Ã"),Ar("atilde","ã"),Ar("Auml","Ä"),Ar("auml","ä"),Ar("awconint","∳"),Ar("awint","⨑"),Ar("backcong","≌"),Ar("backepsilon","϶"),Ar("backprime","‵"),Ar("backsim","∽"),Ar("backsimeq","⋍"),Ar("Backslash","∖"),Ar("Barv","⫧"),Ar("barvee","⊽"),Ar("barwed","⌅"),Ar("Barwed","⌆"),Ar("barwedge","⌅"),Ar("bbrk","⎵"),Ar("bbrktbrk","⎶"),Ar("bcong","≌"),Ar("Bcy","Б"),Ar("bcy","б"),Ar("bdquo","„"),Ar("becaus","∵"),Ar("because","∵"),Ar("Because","∵"),Ar("bemptyv","⦰"),Ar("bepsi","϶"),Ar("bernou","ℬ"),Ar("Bernoullis","ℬ"),Ar("Beta","Β"),Ar("beta","β"),Ar("beth","ℶ"),Ar("between","≬"),Ar("Bfr","𝔅"),Ar("bfr","𝔟"),Ar("bigcap","⋂"),Ar("bigcirc","◯"),Ar("bigcup","⋃"),Ar("bigodot","⨀"),Ar("bigoplus","⨁"),Ar("bigotimes","⨂"),Ar("bigsqcup","⨆"),Ar("bigstar","★"),Ar("bigtriangledown","▽"),Ar("bigtriangleup","△"),Ar("biguplus","⨄"),Ar("bigvee","⋁"),Ar("bigwedge","⋀"),Ar("bkarow","⤍"),Ar("blacklozenge","⧫"),Ar("blacksquare","▪"),Ar("blacktriangle","▴"),Ar("blacktriangledown","▾"),Ar("blacktriangleleft","◂"),Ar("blacktriangleright","▸"),Ar("blank","␣"),Ar("blk12","▒"),Ar("blk14","░"),Ar("blk34","▓"),Ar("block","█"),Ar("bne","=⃥"),Ar("bnequiv","≡⃥"),Ar("bNot","⫭"),Ar("bnot","⌐"),Ar("Bopf","𝔹"),Ar("bopf","𝕓"),Ar("bot","⊥"),Ar("bottom","⊥"),Ar("bowtie","⋈"),Ar("boxbox","⧉"),Ar("boxdl","┐"),Ar("boxdL","╕"),Ar("boxDl","╖"),Ar("boxDL","╗"),Ar("boxdr","┌"),Ar("boxdR","╒"),Ar("boxDr","╓"),Ar("boxDR","╔"),Ar("boxh","─"),Ar("boxH","═"),Ar("boxhd","┬"),Ar("boxHd","╤"),Ar("boxhD","╥"),Ar("boxHD","╦"),Ar("boxhu","┴"),Ar("boxHu","╧"),Ar("boxhU","╨"),Ar("boxHU","╩"),Ar("boxminus","⊟"),Ar("boxplus","⊞"),Ar("boxtimes","⊠"),Ar("boxul","┘"),Ar("boxuL","╛"),Ar("boxUl","╜"),Ar("boxUL","╝"),Ar("boxur","└"),Ar("boxuR","╘"),Ar("boxUr","╙"),Ar("boxUR","╚"),Ar("boxv","│"),Ar("boxV","║"),Ar("boxvh","┼"),Ar("boxvH","╪"),Ar("boxVh","╫"),Ar("boxVH","╬"),Ar("boxvl","┤"),Ar("boxvL","╡"),Ar("boxVl","╢"),Ar("boxVL","╣"),Ar("boxvr","├"),Ar("boxvR","╞"),Ar("boxVr","╟"),Ar("boxVR","╠"),Ar("bprime","‵"),Ar("breve","˘"),Ar("Breve","˘"),Ar("brvbar","¦"),Ar("bscr","𝒷"),Ar("Bscr","ℬ"),Ar("bsemi","⁏"),Ar("bsim","∽"),Ar("bsime","⋍"),Ar("bsolb","⧅"),Ar("bsol","\\"),Ar("bsolhsub","⟈"),Ar("bull","•"),Ar("bullet","•"),Ar("bump","≎"),Ar("bumpE","⪮"),Ar("bumpe","≏"),Ar("Bumpeq","≎"),Ar("bumpeq","≏"),Ar("Cacute","Ć"),Ar("cacute","ć"),Ar("capand","⩄"),Ar("capbrcup","⩉"),Ar("capcap","⩋"),Ar("cap","∩"),Ar("Cap","⋒"),Ar("capcup","⩇"),Ar("capdot","⩀"),Ar("CapitalDifferentialD","ⅅ"),Ar("caps","∩︀"),Ar("caret","⁁"),Ar("caron","ˇ"),Ar("Cayleys","ℭ"),Ar("ccaps","⩍"),Ar("Ccaron","Č"),Ar("ccaron","č"),Ar("Ccedil","Ç"),Ar("ccedil","ç"),Ar("Ccirc","Ĉ"),Ar("ccirc","ĉ"),Ar("Cconint","∰"),Ar("ccups","⩌"),Ar("ccupssm","⩐"),Ar("Cdot","Ċ"),Ar("cdot","ċ"),Ar("cedil","¸"),Ar("Cedilla","¸"),Ar("cemptyv","⦲"),Ar("cent","¢"),Ar("centerdot","·"),Ar("CenterDot","·"),Ar("cfr","𝔠"),Ar("Cfr","ℭ"),Ar("CHcy","Ч"),Ar("chcy","ч"),Ar("check","✓"),Ar("checkmark","✓"),Ar("Chi","Χ"),Ar("chi","χ"),Ar("circ","ˆ"),Ar("circeq","≗"),Ar("circlearrowleft","↺"),Ar("circlearrowright","↻"),Ar("circledast","⊛"),Ar("circledcirc","⊚"),Ar("circleddash","⊝"),Ar("CircleDot","⊙"),Ar("circledR","®"),Ar("circledS","Ⓢ"),Ar("CircleMinus","⊖"),Ar("CirclePlus","⊕"),Ar("CircleTimes","⊗"),Ar("cir","○"),Ar("cirE","⧃"),Ar("cire","≗"),Ar("cirfnint","⨐"),Ar("cirmid","⫯"),Ar("cirscir","⧂"),Ar("ClockwiseContourIntegral","∲"),Ar("CloseCurlyDoubleQuote","”"),Ar("CloseCurlyQuote","’"),Ar("clubs","♣"),Ar("clubsuit","♣"),Ar("colon",":"),Ar("Colon","∷"),Ar("Colone","⩴"),Ar("colone","≔"),Ar("coloneq","≔"),Ar("comma",","),Ar("commat","@"),Ar("comp","∁"),Ar("compfn","∘"),Ar("complement","∁"),Ar("complexes","ℂ"),Ar("cong","≅"),Ar("congdot","⩭"),Ar("Congruent","≡"),Ar("conint","∮"),Ar("Conint","∯"),Ar("ContourIntegral","∮"),Ar("copf","𝕔"),Ar("Copf","ℂ"),Ar("coprod","∐"),Ar("Coproduct","∐"),Ar("copy","©"),Ar("COPY","©"),Ar("copysr","℗"),Ar("CounterClockwiseContourIntegral","∳"),Ar("crarr","↵"),Ar("cross","✗"),Ar("Cross","⨯"),Ar("Cscr","𝒞"),Ar("cscr","𝒸"),Ar("csub","⫏"),Ar("csube","⫑"),Ar("csup","⫐"),Ar("csupe","⫒"),Ar("ctdot","⋯"),Ar("cudarrl","⤸"),Ar("cudarrr","⤵"),Ar("cuepr","⋞"),Ar("cuesc","⋟"),Ar("cularr","↶"),Ar("cularrp","⤽"),Ar("cupbrcap","⩈"),Ar("cupcap","⩆"),Ar("CupCap","≍"),Ar("cup","∪"),Ar("Cup","⋓"),Ar("cupcup","⩊"),Ar("cupdot","⊍"),Ar("cupor","⩅"),Ar("cups","∪︀"),Ar("curarr","↷"),Ar("curarrm","⤼"),Ar("curlyeqprec","⋞"),Ar("curlyeqsucc","⋟"),Ar("curlyvee","⋎"),Ar("curlywedge","⋏"),Ar("curren","¤"),Ar("curvearrowleft","↶"),Ar("curvearrowright","↷"),Ar("cuvee","⋎"),Ar("cuwed","⋏"),Ar("cwconint","∲"),Ar("cwint","∱"),Ar("cylcty","⌭"),Ar("dagger","†"),Ar("Dagger","‡"),Ar("daleth","ℸ"),Ar("darr","↓"),Ar("Darr","↡"),Ar("dArr","⇓"),Ar("dash","‐"),Ar("Dashv","⫤"),Ar("dashv","⊣"),Ar("dbkarow","⤏"),Ar("dblac","˝"),Ar("Dcaron","Ď"),Ar("dcaron","ď"),Ar("Dcy","Д"),Ar("dcy","д"),Ar("ddagger","‡"),Ar("ddarr","⇊"),Ar("DD","ⅅ"),Ar("dd","ⅆ"),Ar("DDotrahd","⤑"),Ar("ddotseq","⩷"),Ar("deg","°"),Ar("Del","∇"),Ar("Delta","Δ"),Ar("delta","δ"),Ar("demptyv","⦱"),Ar("dfisht","⥿"),Ar("Dfr","𝔇"),Ar("dfr","𝔡"),Ar("dHar","⥥"),Ar("dharl","⇃"),Ar("dharr","⇂"),Ar("DiacriticalAcute","´"),Ar("DiacriticalDot","˙"),Ar("DiacriticalDoubleAcute","˝"),Ar("DiacriticalGrave","`"),Ar("DiacriticalTilde","˜"),Ar("diam","⋄"),Ar("diamond","⋄"),Ar("Diamond","⋄"),Ar("diamondsuit","♦"),Ar("diams","♦"),Ar("die","¨"),Ar("DifferentialD","ⅆ"),Ar("digamma","ϝ"),Ar("disin","⋲"),Ar("div","÷"),Ar("divide","÷"),Ar("divideontimes","⋇"),Ar("divonx","⋇"),Ar("DJcy","Ђ"),Ar("djcy","ђ"),Ar("dlcorn","⌞"),Ar("dlcrop","⌍"),Ar("dollar","$"),Ar("Dopf","𝔻"),Ar("dopf","𝕕"),Ar("Dot","¨"),Ar("dot","˙"),Ar("DotDot","⃜"),Ar("doteq","≐"),Ar("doteqdot","≑"),Ar("DotEqual","≐"),Ar("dotminus","∸"),Ar("dotplus","∔"),Ar("dotsquare","⊡"),Ar("doublebarwedge","⌆"),Ar("DoubleContourIntegral","∯"),Ar("DoubleDot","¨"),Ar("DoubleDownArrow","⇓"),Ar("DoubleLeftArrow","⇐"),Ar("DoubleLeftRightArrow","⇔"),Ar("DoubleLeftTee","⫤"),Ar("DoubleLongLeftArrow","⟸"),Ar("DoubleLongLeftRightArrow","⟺"),Ar("DoubleLongRightArrow","⟹"),Ar("DoubleRightArrow","⇒"),Ar("DoubleRightTee","⊨"),Ar("DoubleUpArrow","⇑"),Ar("DoubleUpDownArrow","⇕"),Ar("DoubleVerticalBar","∥"),Ar("DownArrowBar","⤓"),Ar("downarrow","↓"),Ar("DownArrow","↓"),Ar("Downarrow","⇓"),Ar("DownArrowUpArrow","⇵"),Ar("DownBreve","̑"),Ar("downdownarrows","⇊"),Ar("downharpoonleft","⇃"),Ar("downharpoonright","⇂"),Ar("DownLeftRightVector","⥐"),Ar("DownLeftTeeVector","⥞"),Ar("DownLeftVectorBar","⥖"),Ar("DownLeftVector","↽"),Ar("DownRightTeeVector","⥟"),Ar("DownRightVectorBar","⥗"),Ar("DownRightVector","⇁"),Ar("DownTeeArrow","↧"),Ar("DownTee","⊤"),Ar("drbkarow","⤐"),Ar("drcorn","⌟"),Ar("drcrop","⌌"),Ar("Dscr","𝒟"),Ar("dscr","𝒹"),Ar("DScy","Ѕ"),Ar("dscy","ѕ"),Ar("dsol","⧶"),Ar("Dstrok","Đ"),Ar("dstrok","đ"),Ar("dtdot","⋱"),Ar("dtri","▿"),Ar("dtrif","▾"),Ar("duarr","⇵"),Ar("duhar","⥯"),Ar("dwangle","⦦"),Ar("DZcy","Џ"),Ar("dzcy","џ"),Ar("dzigrarr","⟿"),Ar("Eacute","É"),Ar("eacute","é"),Ar("easter","⩮"),Ar("Ecaron","Ě"),Ar("ecaron","ě"),Ar("Ecirc","Ê"),Ar("ecirc","ê"),Ar("ecir","≖"),Ar("ecolon","≕"),Ar("Ecy","Э"),Ar("ecy","э"),Ar("eDDot","⩷"),Ar("Edot","Ė"),Ar("edot","ė"),Ar("eDot","≑"),Ar("ee","ⅇ"),Ar("efDot","≒"),Ar("Efr","𝔈"),Ar("efr","𝔢"),Ar("eg","⪚"),Ar("Egrave","È"),Ar("egrave","è"),Ar("egs","⪖"),Ar("egsdot","⪘"),Ar("el","⪙"),Ar("Element","∈"),Ar("elinters","⏧"),Ar("ell","ℓ"),Ar("els","⪕"),Ar("elsdot","⪗"),Ar("Emacr","Ē"),Ar("emacr","ē"),Ar("empty","∅"),Ar("emptyset","∅"),Ar("EmptySmallSquare","◻"),Ar("emptyv","∅"),Ar("EmptyVerySmallSquare","▫"),Ar("emsp13"," "),Ar("emsp14"," "),Ar("emsp"," "),Ar("ENG","Ŋ"),Ar("eng","ŋ"),Ar("ensp"," "),Ar("Eogon","Ę"),Ar("eogon","ę"),Ar("Eopf","𝔼"),Ar("eopf","𝕖"),Ar("epar","⋕"),Ar("eparsl","⧣"),Ar("eplus","⩱"),Ar("epsi","ε"),Ar("Epsilon","Ε"),Ar("epsilon","ε"),Ar("epsiv","ϵ"),Ar("eqcirc","≖"),Ar("eqcolon","≕"),Ar("eqsim","≂"),Ar("eqslantgtr","⪖"),Ar("eqslantless","⪕"),Ar("Equal","⩵"),Ar("equals","="),Ar("EqualTilde","≂"),Ar("equest","≟"),Ar("Equilibrium","⇌"),Ar("equiv","≡"),Ar("equivDD","⩸"),Ar("eqvparsl","⧥"),Ar("erarr","⥱"),Ar("erDot","≓"),Ar("escr","ℯ"),Ar("Escr","ℰ"),Ar("esdot","≐"),Ar("Esim","⩳"),Ar("esim","≂"),Ar("Eta","Η"),Ar("eta","η"),Ar("ETH","Ð"),Ar("eth","ð"),Ar("Euml","Ë"),Ar("euml","ë"),Ar("euro","€"),Ar("excl","!"),Ar("exist","∃"),Ar("Exists","∃"),Ar("expectation","ℰ"),Ar("exponentiale","ⅇ"),Ar("ExponentialE","ⅇ"),Ar("fallingdotseq","≒"),Ar("Fcy","Ф"),Ar("fcy","ф"),Ar("female","♀"),Ar("ffilig","ﬃ"),Ar("fflig","ﬀ"),Ar("ffllig","ﬄ"),Ar("Ffr","𝔉"),Ar("ffr","𝔣"),Ar("filig","ﬁ"),Ar("FilledSmallSquare","◼"),Ar("FilledVerySmallSquare","▪"),Ar("fjlig","fj"),Ar("flat","♭"),Ar("fllig","ﬂ"),Ar("fltns","▱"),Ar("fnof","ƒ"),Ar("Fopf","𝔽"),Ar("fopf","𝕗"),Ar("forall","∀"),Ar("ForAll","∀"),Ar("fork","⋔"),Ar("forkv","⫙"),Ar("Fouriertrf","ℱ"),Ar("fpartint","⨍"),Ar("frac12","½"),Ar("frac13","⅓"),Ar("frac14","¼"),Ar("frac15","⅕"),Ar("frac16","⅙"),Ar("frac18","⅛"),Ar("frac23","⅔"),Ar("frac25","⅖"),Ar("frac34","¾"),Ar("frac35","⅗"),Ar("frac38","⅜"),Ar("frac45","⅘"),Ar("frac56","⅚"),Ar("frac58","⅝"),Ar("frac78","⅞"),Ar("frasl","⁄"),Ar("frown","⌢"),Ar("fscr","𝒻"),Ar("Fscr","ℱ"),Ar("gacute","ǵ"),Ar("Gamma","Γ"),Ar("gamma","γ"),Ar("Gammad","Ϝ"),Ar("gammad","ϝ"),Ar("gap","⪆"),Ar("Gbreve","Ğ"),Ar("gbreve","ğ"),Ar("Gcedil","Ģ"),Ar("Gcirc","Ĝ"),Ar("gcirc","ĝ"),Ar("Gcy","Г"),Ar("gcy","г"),Ar("Gdot","Ġ"),Ar("gdot","ġ"),Ar("ge","≥"),Ar("gE","≧"),Ar("gEl","⪌"),Ar("gel","⋛"),Ar("geq","≥"),Ar("geqq","≧"),Ar("geqslant","⩾"),Ar("gescc","⪩"),Ar("ges","⩾"),Ar("gesdot","⪀"),Ar("gesdoto","⪂"),Ar("gesdotol","⪄"),Ar("gesl","⋛︀"),Ar("gesles","⪔"),Ar("Gfr","𝔊"),Ar("gfr","𝔤"),Ar("gg","≫"),Ar("Gg","⋙"),Ar("ggg","⋙"),Ar("gimel","ℷ"),Ar("GJcy","Ѓ"),Ar("gjcy","ѓ"),Ar("gla","⪥"),Ar("gl","≷"),Ar("glE","⪒"),Ar("glj","⪤"),Ar("gnap","⪊"),Ar("gnapprox","⪊"),Ar("gne","⪈"),Ar("gnE","≩"),Ar("gneq","⪈"),Ar("gneqq","≩"),Ar("gnsim","⋧"),Ar("Gopf","𝔾"),Ar("gopf","𝕘"),Ar("grave","`"),Ar("GreaterEqual","≥"),Ar("GreaterEqualLess","⋛"),Ar("GreaterFullEqual","≧"),Ar("GreaterGreater","⪢"),Ar("GreaterLess","≷"),Ar("GreaterSlantEqual","⩾"),Ar("GreaterTilde","≳"),Ar("Gscr","𝒢"),Ar("gscr","ℊ"),Ar("gsim","≳"),Ar("gsime","⪎"),Ar("gsiml","⪐"),Ar("gtcc","⪧"),Ar("gtcir","⩺"),Ar("gt",">"),Ar("GT",">"),Ar("Gt","≫"),Ar("gtdot","⋗"),Ar("gtlPar","⦕"),Ar("gtquest","⩼"),Ar("gtrapprox","⪆"),Ar("gtrarr","⥸"),Ar("gtrdot","⋗"),Ar("gtreqless","⋛"),Ar("gtreqqless","⪌"),Ar("gtrless","≷"),Ar("gtrsim","≳"),Ar("gvertneqq","≩︀"),Ar("gvnE","≩︀"),Ar("Hacek","ˇ"),Ar("hairsp"," "),Ar("half","½"),Ar("hamilt","ℋ"),Ar("HARDcy","Ъ"),Ar("hardcy","ъ"),Ar("harrcir","⥈"),Ar("harr","↔"),Ar("hArr","⇔"),Ar("harrw","↭"),Ar("Hat","^"),Ar("hbar","ℏ"),Ar("Hcirc","Ĥ"),Ar("hcirc","ĥ"),Ar("hearts","♥"),Ar("heartsuit","♥"),Ar("hellip","…"),Ar("hercon","⊹"),Ar("hfr","𝔥"),Ar("Hfr","ℌ"),Ar("HilbertSpace","ℋ"),Ar("hksearow","⤥"),Ar("hkswarow","⤦"),Ar("hoarr","⇿"),Ar("homtht","∻"),Ar("hookleftarrow","↩"),Ar("hookrightarrow","↪"),Ar("hopf","𝕙"),Ar("Hopf","ℍ"),Ar("horbar","―"),Ar("HorizontalLine","─"),Ar("hscr","𝒽"),Ar("Hscr","ℋ"),Ar("hslash","ℏ"),Ar("Hstrok","Ħ"),Ar("hstrok","ħ"),Ar("HumpDownHump","≎"),Ar("HumpEqual","≏"),Ar("hybull","⁃"),Ar("hyphen","‐"),Ar("Iacute","Í"),Ar("iacute","í"),Ar("ic","⁣"),Ar("Icirc","Î"),Ar("icirc","î"),Ar("Icy","И"),Ar("icy","и"),Ar("Idot","İ"),Ar("IEcy","Е"),Ar("iecy","е"),Ar("iexcl","¡"),Ar("iff","⇔"),Ar("ifr","𝔦"),Ar("Ifr","ℑ"),Ar("Igrave","Ì"),Ar("igrave","ì"),Ar("ii","ⅈ"),Ar("iiiint","⨌"),Ar("iiint","∭"),Ar("iinfin","⧜"),Ar("iiota","℩"),Ar("IJlig","Ĳ"),Ar("ijlig","ĳ"),Ar("Imacr","Ī"),Ar("imacr","ī"),Ar("image","ℑ"),Ar("ImaginaryI","ⅈ"),Ar("imagline","ℐ"),Ar("imagpart","ℑ"),Ar("imath","ı"),Ar("Im","ℑ"),Ar("imof","⊷"),Ar("imped","Ƶ"),Ar("Implies","⇒"),Ar("incare","℅"),Ar("in","∈"),Ar("infin","∞"),Ar("infintie","⧝"),Ar("inodot","ı"),Ar("intcal","⊺"),Ar("int","∫"),Ar("Int","∬"),Ar("integers","ℤ"),Ar("Integral","∫"),Ar("intercal","⊺"),Ar("Intersection","⋂"),Ar("intlarhk","⨗"),Ar("intprod","⨼"),Ar("InvisibleComma","⁣"),Ar("InvisibleTimes","⁢"),Ar("IOcy","Ё"),Ar("iocy","ё"),Ar("Iogon","Į"),Ar("iogon","į"),Ar("Iopf","𝕀"),Ar("iopf","𝕚"),Ar("Iota","Ι"),Ar("iota","ι"),Ar("iprod","⨼"),Ar("iquest","¿"),Ar("iscr","𝒾"),Ar("Iscr","ℐ"),Ar("isin","∈"),Ar("isindot","⋵"),Ar("isinE","⋹"),Ar("isins","⋴"),Ar("isinsv","⋳"),Ar("isinv","∈"),Ar("it","⁢"),Ar("Itilde","Ĩ"),Ar("itilde","ĩ"),Ar("Iukcy","І"),Ar("iukcy","і"),Ar("Iuml","Ï"),Ar("iuml","ï"),Ar("Jcirc","Ĵ"),Ar("jcirc","ĵ"),Ar("Jcy","Й"),Ar("jcy","й"),Ar("Jfr","𝔍"),Ar("jfr","𝔧"),Ar("jmath","ȷ"),Ar("Jopf","𝕁"),Ar("jopf","𝕛"),Ar("Jscr","𝒥"),Ar("jscr","𝒿"),Ar("Jsercy","Ј"),Ar("jsercy","ј"),Ar("Jukcy","Є"),Ar("jukcy","є"),Ar("Kappa","Κ"),Ar("kappa","κ"),Ar("kappav","ϰ"),Ar("Kcedil","Ķ"),Ar("kcedil","ķ"),Ar("Kcy","К"),Ar("kcy","к"),Ar("Kfr","𝔎"),Ar("kfr","𝔨"),Ar("kgreen","ĸ"),Ar("KHcy","Х"),Ar("khcy","х"),Ar("KJcy","Ќ"),Ar("kjcy","ќ"),Ar("Kopf","𝕂"),Ar("kopf","𝕜"),Ar("Kscr","𝒦"),Ar("kscr","𝓀"),Ar("lAarr","⇚"),Ar("Lacute","Ĺ"),Ar("lacute","ĺ"),Ar("laemptyv","⦴"),Ar("lagran","ℒ"),Ar("Lambda","Λ"),Ar("lambda","λ"),Ar("lang","⟨"),Ar("Lang","⟪"),Ar("langd","⦑"),Ar("langle","⟨"),Ar("lap","⪅"),Ar("Laplacetrf","ℒ"),Ar("laquo","«"),Ar("larrb","⇤"),Ar("larrbfs","⤟"),Ar("larr","←"),Ar("Larr","↞"),Ar("lArr","⇐"),Ar("larrfs","⤝"),Ar("larrhk","↩"),Ar("larrlp","↫"),Ar("larrpl","⤹"),Ar("larrsim","⥳"),Ar("larrtl","↢"),Ar("latail","⤙"),Ar("lAtail","⤛"),Ar("lat","⪫"),Ar("late","⪭"),Ar("lates","⪭︀"),Ar("lbarr","⤌"),Ar("lBarr","⤎"),Ar("lbbrk","❲"),Ar("lbrace","{"),Ar("lbrack","["),Ar("lbrke","⦋"),Ar("lbrksld","⦏"),Ar("lbrkslu","⦍"),Ar("Lcaron","Ľ"),Ar("lcaron","ľ"),Ar("Lcedil","Ļ"),Ar("lcedil","ļ"),Ar("lceil","⌈"),Ar("lcub","{"),Ar("Lcy","Л"),Ar("lcy","л"),Ar("ldca","⤶"),Ar("ldquo","“"),Ar("ldquor","„"),Ar("ldrdhar","⥧"),Ar("ldrushar","⥋"),Ar("ldsh","↲"),Ar("le","≤"),Ar("lE","≦"),Ar("LeftAngleBracket","⟨"),Ar("LeftArrowBar","⇤"),Ar("leftarrow","←"),Ar("LeftArrow","←"),Ar("Leftarrow","⇐"),Ar("LeftArrowRightArrow","⇆"),Ar("leftarrowtail","↢"),Ar("LeftCeiling","⌈"),Ar("LeftDoubleBracket","⟦"),Ar("LeftDownTeeVector","⥡"),Ar("LeftDownVectorBar","⥙"),Ar("LeftDownVector","⇃"),Ar("LeftFloor","⌊"),Ar("leftharpoondown","↽"),Ar("leftharpoonup","↼"),Ar("leftleftarrows","⇇"),Ar("leftrightarrow","↔"),Ar("LeftRightArrow","↔"),Ar("Leftrightarrow","⇔"),Ar("leftrightarrows","⇆"),Ar("leftrightharpoons","⇋"),Ar("leftrightsquigarrow","↭"),Ar("LeftRightVector","⥎"),Ar("LeftTeeArrow","↤"),Ar("LeftTee","⊣"),Ar("LeftTeeVector","⥚"),Ar("leftthreetimes","⋋"),Ar("LeftTriangleBar","⧏"),Ar("LeftTriangle","⊲"),Ar("LeftTriangleEqual","⊴"),Ar("LeftUpDownVector","⥑"),Ar("LeftUpTeeVector","⥠"),Ar("LeftUpVectorBar","⥘"),Ar("LeftUpVector","↿"),Ar("LeftVectorBar","⥒"),Ar("LeftVector","↼"),Ar("lEg","⪋"),Ar("leg","⋚"),Ar("leq","≤"),Ar("leqq","≦"),Ar("leqslant","⩽"),Ar("lescc","⪨"),Ar("les","⩽"),Ar("lesdot","⩿"),Ar("lesdoto","⪁"),Ar("lesdotor","⪃"),Ar("lesg","⋚︀"),Ar("lesges","⪓"),Ar("lessapprox","⪅"),Ar("lessdot","⋖"),Ar("lesseqgtr","⋚"),Ar("lesseqqgtr","⪋"),Ar("LessEqualGreater","⋚"),Ar("LessFullEqual","≦"),Ar("LessGreater","≶"),Ar("lessgtr","≶"),Ar("LessLess","⪡"),Ar("lesssim","≲"),Ar("LessSlantEqual","⩽"),Ar("LessTilde","≲"),Ar("lfisht","⥼"),Ar("lfloor","⌊"),Ar("Lfr","𝔏"),Ar("lfr","𝔩"),Ar("lg","≶"),Ar("lgE","⪑"),Ar("lHar","⥢"),Ar("lhard","↽"),Ar("lharu","↼"),Ar("lharul","⥪"),Ar("lhblk","▄"),Ar("LJcy","Љ"),Ar("ljcy","љ"),Ar("llarr","⇇"),Ar("ll","≪"),Ar("Ll","⋘"),Ar("llcorner","⌞"),Ar("Lleftarrow","⇚"),Ar("llhard","⥫"),Ar("lltri","◺"),Ar("Lmidot","Ŀ"),Ar("lmidot","ŀ"),Ar("lmoustache","⎰"),Ar("lmoust","⎰"),Ar("lnap","⪉"),Ar("lnapprox","⪉"),Ar("lne","⪇"),Ar("lnE","≨"),Ar("lneq","⪇"),Ar("lneqq","≨"),Ar("lnsim","⋦"),Ar("loang","⟬"),Ar("loarr","⇽"),Ar("lobrk","⟦"),Ar("longleftarrow","⟵"),Ar("LongLeftArrow","⟵"),Ar("Longleftarrow","⟸"),Ar("longleftrightarrow","⟷"),Ar("LongLeftRightArrow","⟷"),Ar("Longleftrightarrow","⟺"),Ar("longmapsto","⟼"),Ar("longrightarrow","⟶"),Ar("LongRightArrow","⟶"),Ar("Longrightarrow","⟹"),Ar("looparrowleft","↫"),Ar("looparrowright","↬"),Ar("lopar","⦅"),Ar("Lopf","𝕃"),Ar("lopf","𝕝"),Ar("loplus","⨭"),Ar("lotimes","⨴"),Ar("lowast","∗"),Ar("lowbar","_"),Ar("LowerLeftArrow","↙"),Ar("LowerRightArrow","↘"),Ar("loz","◊"),Ar("lozenge","◊"),Ar("lozf","⧫"),Ar("lpar","("),Ar("lparlt","⦓"),Ar("lrarr","⇆"),Ar("lrcorner","⌟"),Ar("lrhar","⇋"),Ar("lrhard","⥭"),Ar("lrm","‎"),Ar("lrtri","⊿"),Ar("lsaquo","‹"),Ar("lscr","𝓁"),Ar("Lscr","ℒ"),Ar("lsh","↰"),Ar("Lsh","↰"),Ar("lsim","≲"),Ar("lsime","⪍"),Ar("lsimg","⪏"),Ar("lsqb","["),Ar("lsquo","‘"),Ar("lsquor","‚"),Ar("Lstrok","Ł"),Ar("lstrok","ł"),Ar("ltcc","⪦"),Ar("ltcir","⩹"),Ar("lt","<"),Ar("LT","<"),Ar("Lt","≪"),Ar("ltdot","⋖"),Ar("lthree","⋋"),Ar("ltimes","⋉"),Ar("ltlarr","⥶"),Ar("ltquest","⩻"),Ar("ltri","◃"),Ar("ltrie","⊴"),Ar("ltrif","◂"),Ar("ltrPar","⦖"),Ar("lurdshar","⥊"),Ar("luruhar","⥦"),Ar("lvertneqq","≨︀"),Ar("lvnE","≨︀"),Ar("macr","¯"),Ar("male","♂"),Ar("malt","✠"),Ar("maltese","✠"),Ar("Map","⤅"),Ar("map","↦"),Ar("mapsto","↦"),Ar("mapstodown","↧"),Ar("mapstoleft","↤"),Ar("mapstoup","↥"),Ar("marker","▮"),Ar("mcomma","⨩"),Ar("Mcy","М"),Ar("mcy","м"),Ar("mdash","—"),Ar("mDDot","∺"),Ar("measuredangle","∡"),Ar("MediumSpace"," "),Ar("Mellintrf","ℳ"),Ar("Mfr","𝔐"),Ar("mfr","𝔪"),Ar("mho","℧"),Ar("micro","µ"),Ar("midast","*"),Ar("midcir","⫰"),Ar("mid","∣"),Ar("middot","·"),Ar("minusb","⊟"),Ar("minus","−"),Ar("minusd","∸"),Ar("minusdu","⨪"),Ar("MinusPlus","∓"),Ar("mlcp","⫛"),Ar("mldr","…"),Ar("mnplus","∓"),Ar("models","⊧"),Ar("Mopf","𝕄"),Ar("mopf","𝕞"),Ar("mp","∓"),Ar("mscr","𝓂"),Ar("Mscr","ℳ"),Ar("mstpos","∾"),Ar("Mu","Μ"),Ar("mu","μ"),Ar("multimap","⊸"),Ar("mumap","⊸"),Ar("nabla","∇"),Ar("Nacute","Ń"),Ar("nacute","ń"),Ar("nang","∠⃒"),Ar("nap","≉"),Ar("napE","⩰̸"),Ar("napid","≋̸"),Ar("napos","ŉ"),Ar("napprox","≉"),Ar("natural","♮"),Ar("naturals","ℕ"),Ar("natur","♮"),Ar("nbsp"," "),Ar("nbump","≎̸"),Ar("nbumpe","≏̸"),Ar("ncap","⩃"),Ar("Ncaron","Ň"),Ar("ncaron","ň"),Ar("Ncedil","Ņ"),Ar("ncedil","ņ"),Ar("ncong","≇"),Ar("ncongdot","⩭̸"),Ar("ncup","⩂"),Ar("Ncy","Н"),Ar("ncy","н"),Ar("ndash","–"),Ar("nearhk","⤤"),Ar("nearr","↗"),Ar("neArr","⇗"),Ar("nearrow","↗"),Ar("ne","≠"),Ar("nedot","≐̸"),Ar("NegativeMediumSpace","​"),Ar("NegativeThickSpace","​"),Ar("NegativeThinSpace","​"),Ar("NegativeVeryThinSpace","​"),Ar("nequiv","≢"),Ar("nesear","⤨"),Ar("nesim","≂̸"),Ar("NestedGreaterGreater","≫"),Ar("NestedLessLess","≪"),Ar("NewLine","\n"),Ar("nexist","∄"),Ar("nexists","∄"),Ar("Nfr","𝔑"),Ar("nfr","𝔫"),Ar("ngE","≧̸"),Ar("nge","≱"),Ar("ngeq","≱"),Ar("ngeqq","≧̸"),Ar("ngeqslant","⩾̸"),Ar("nges","⩾̸"),Ar("nGg","⋙̸"),Ar("ngsim","≵"),Ar("nGt","≫⃒"),Ar("ngt","≯"),Ar("ngtr","≯"),Ar("nGtv","≫̸"),Ar("nharr","↮"),Ar("nhArr","⇎"),Ar("nhpar","⫲"),Ar("ni","∋"),Ar("nis","⋼"),Ar("nisd","⋺"),Ar("niv","∋"),Ar("NJcy","Њ"),Ar("njcy","њ"),Ar("nlarr","↚"),Ar("nlArr","⇍"),Ar("nldr","‥"),Ar("nlE","≦̸"),Ar("nle","≰"),Ar("nleftarrow","↚"),Ar("nLeftarrow","⇍"),Ar("nleftrightarrow","↮"),Ar("nLeftrightarrow","⇎"),Ar("nleq","≰"),Ar("nleqq","≦̸"),Ar("nleqslant","⩽̸"),Ar("nles","⩽̸"),Ar("nless","≮"),Ar("nLl","⋘̸"),Ar("nlsim","≴"),Ar("nLt","≪⃒"),Ar("nlt","≮"),Ar("nltri","⋪"),Ar("nltrie","⋬"),Ar("nLtv","≪̸"),Ar("nmid","∤"),Ar("NoBreak","⁠"),Ar("NonBreakingSpace"," "),Ar("nopf","𝕟"),Ar("Nopf","ℕ"),Ar("Not","⫬"),Ar("not","¬"),Ar("NotCongruent","≢"),Ar("NotCupCap","≭"),Ar("NotDoubleVerticalBar","∦"),Ar("NotElement","∉"),Ar("NotEqual","≠"),Ar("NotEqualTilde","≂̸"),Ar("NotExists","∄"),Ar("NotGreater","≯"),Ar("NotGreaterEqual","≱"),Ar("NotGreaterFullEqual","≧̸"),Ar("NotGreaterGreater","≫̸"),Ar("NotGreaterLess","≹"),Ar("NotGreaterSlantEqual","⩾̸"),Ar("NotGreaterTilde","≵"),Ar("NotHumpDownHump","≎̸"),Ar("NotHumpEqual","≏̸"),Ar("notin","∉"),Ar("notindot","⋵̸"),Ar("notinE","⋹̸"),Ar("notinva","∉"),Ar("notinvb","⋷"),Ar("notinvc","⋶"),Ar("NotLeftTriangleBar","⧏̸"),Ar("NotLeftTriangle","⋪"),Ar("NotLeftTriangleEqual","⋬"),Ar("NotLess","≮"),Ar("NotLessEqual","≰"),Ar("NotLessGreater","≸"),Ar("NotLessLess","≪̸"),Ar("NotLessSlantEqual","⩽̸"),Ar("NotLessTilde","≴"),Ar("NotNestedGreaterGreater","⪢̸"),Ar("NotNestedLessLess","⪡̸"),Ar("notni","∌"),Ar("notniva","∌"),Ar("notnivb","⋾"),Ar("notnivc","⋽"),Ar("NotPrecedes","⊀"),Ar("NotPrecedesEqual","⪯̸"),Ar("NotPrecedesSlantEqual","⋠"),Ar("NotReverseElement","∌"),Ar("NotRightTriangleBar","⧐̸"),Ar("NotRightTriangle","⋫"),Ar("NotRightTriangleEqual","⋭"),Ar("NotSquareSubset","⊏̸"),Ar("NotSquareSubsetEqual","⋢"),Ar("NotSquareSuperset","⊐̸"),Ar("NotSquareSupersetEqual","⋣"),Ar("NotSubset","⊂⃒"),Ar("NotSubsetEqual","⊈"),Ar("NotSucceeds","⊁"),Ar("NotSucceedsEqual","⪰̸"),Ar("NotSucceedsSlantEqual","⋡"),Ar("NotSucceedsTilde","≿̸"),Ar("NotSuperset","⊃⃒"),Ar("NotSupersetEqual","⊉"),Ar("NotTilde","≁"),Ar("NotTildeEqual","≄"),Ar("NotTildeFullEqual","≇"),Ar("NotTildeTilde","≉"),Ar("NotVerticalBar","∤"),Ar("nparallel","∦"),Ar("npar","∦"),Ar("nparsl","⫽⃥"),Ar("npart","∂̸"),Ar("npolint","⨔"),Ar("npr","⊀"),Ar("nprcue","⋠"),Ar("nprec","⊀"),Ar("npreceq","⪯̸"),Ar("npre","⪯̸"),Ar("nrarrc","⤳̸"),Ar("nrarr","↛"),Ar("nrArr","⇏"),Ar("nrarrw","↝̸"),Ar("nrightarrow","↛"),Ar("nRightarrow","⇏"),Ar("nrtri","⋫"),Ar("nrtrie","⋭"),Ar("nsc","⊁"),Ar("nsccue","⋡"),Ar("nsce","⪰̸"),Ar("Nscr","𝒩"),Ar("nscr","𝓃"),Ar("nshortmid","∤"),Ar("nshortparallel","∦"),Ar("nsim","≁"),Ar("nsime","≄"),Ar("nsimeq","≄"),Ar("nsmid","∤"),Ar("nspar","∦"),Ar("nsqsube","⋢"),Ar("nsqsupe","⋣"),Ar("nsub","⊄"),Ar("nsubE","⫅̸"),Ar("nsube","⊈"),Ar("nsubset","⊂⃒"),Ar("nsubseteq","⊈"),Ar("nsubseteqq","⫅̸"),Ar("nsucc","⊁"),Ar("nsucceq","⪰̸"),Ar("nsup","⊅"),Ar("nsupE","⫆̸"),Ar("nsupe","⊉"),Ar("nsupset","⊃⃒"),Ar("nsupseteq","⊉"),Ar("nsupseteqq","⫆̸"),Ar("ntgl","≹"),Ar("Ntilde","Ñ"),Ar("ntilde","ñ"),Ar("ntlg","≸"),Ar("ntriangleleft","⋪"),Ar("ntrianglelefteq","⋬"),Ar("ntriangleright","⋫"),Ar("ntrianglerighteq","⋭"),Ar("Nu","Ν"),Ar("nu","ν"),Ar("num","#"),Ar("numero","№"),Ar("numsp"," "),Ar("nvap","≍⃒"),Ar("nvdash","⊬"),Ar("nvDash","⊭"),Ar("nVdash","⊮"),Ar("nVDash","⊯"),Ar("nvge","≥⃒"),Ar("nvgt",">⃒"),Ar("nvHarr","⤄"),Ar("nvinfin","⧞"),Ar("nvlArr","⤂"),Ar("nvle","≤⃒"),Ar("nvlt","<⃒"),Ar("nvltrie","⊴⃒"),Ar("nvrArr","⤃"),Ar("nvrtrie","⊵⃒"),Ar("nvsim","∼⃒"),Ar("nwarhk","⤣"),Ar("nwarr","↖"),Ar("nwArr","⇖"),Ar("nwarrow","↖"),Ar("nwnear","⤧"),Ar("Oacute","Ó"),Ar("oacute","ó"),Ar("oast","⊛"),Ar("Ocirc","Ô"),Ar("ocirc","ô"),Ar("ocir","⊚"),Ar("Ocy","О"),Ar("ocy","о"),Ar("odash","⊝"),Ar("Odblac","Ő"),Ar("odblac","ő"),Ar("odiv","⨸"),Ar("odot","⊙"),Ar("odsold","⦼"),Ar("OElig","Œ"),Ar("oelig","œ"),Ar("ofcir","⦿"),Ar("Ofr","𝔒"),Ar("ofr","𝔬"),Ar("ogon","˛"),Ar("Ograve","Ò"),Ar("ograve","ò"),Ar("ogt","⧁"),Ar("ohbar","⦵"),Ar("ohm","Ω"),Ar("oint","∮"),Ar("olarr","↺"),Ar("olcir","⦾"),Ar("olcross","⦻"),Ar("oline","‾"),Ar("olt","⧀"),Ar("Omacr","Ō"),Ar("omacr","ō"),Ar("Omega","Ω"),Ar("omega","ω"),Ar("Omicron","Ο"),Ar("omicron","ο"),Ar("omid","⦶"),Ar("ominus","⊖"),Ar("Oopf","𝕆"),Ar("oopf","𝕠"),Ar("opar","⦷"),Ar("OpenCurlyDoubleQuote","“"),Ar("OpenCurlyQuote","‘"),Ar("operp","⦹"),Ar("oplus","⊕"),Ar("orarr","↻"),Ar("Or","⩔"),Ar("or","∨"),Ar("ord","⩝"),Ar("order","ℴ"),Ar("orderof","ℴ"),Ar("ordf","ª"),Ar("ordm","º"),Ar("origof","⊶"),Ar("oror","⩖"),Ar("orslope","⩗"),Ar("orv","⩛"),Ar("oS","Ⓢ"),Ar("Oscr","𝒪"),Ar("oscr","ℴ"),Ar("Oslash","Ø"),Ar("oslash","ø"),Ar("osol","⊘"),Ar("Otilde","Õ"),Ar("otilde","õ"),Ar("otimesas","⨶"),Ar("Otimes","⨷"),Ar("otimes","⊗"),Ar("Ouml","Ö"),Ar("ouml","ö"),Ar("ovbar","⌽"),Ar("OverBar","‾"),Ar("OverBrace","⏞"),Ar("OverBracket","⎴"),Ar("OverParenthesis","⏜"),Ar("para","¶"),Ar("parallel","∥"),Ar("par","∥"),Ar("parsim","⫳"),Ar("parsl","⫽"),Ar("part","∂"),Ar("PartialD","∂"),Ar("Pcy","П"),Ar("pcy","п"),Ar("percnt","%"),Ar("period","."),Ar("permil","‰"),Ar("perp","⊥"),Ar("pertenk","‱"),Ar("Pfr","𝔓"),Ar("pfr","𝔭"),Ar("Phi","Φ"),Ar("phi","φ"),Ar("phiv","ϕ"),Ar("phmmat","ℳ"),Ar("phone","☎"),Ar("Pi","Π"),Ar("pi","π"),Ar("pitchfork","⋔"),Ar("piv","ϖ"),Ar("planck","ℏ"),Ar("planckh","ℎ"),Ar("plankv","ℏ"),Ar("plusacir","⨣"),Ar("plusb","⊞"),Ar("pluscir","⨢"),Ar("plus","+"),Ar("plusdo","∔"),Ar("plusdu","⨥"),Ar("pluse","⩲"),Ar("PlusMinus","±"),Ar("plusmn","±"),Ar("plussim","⨦"),Ar("plustwo","⨧"),Ar("pm","±"),Ar("Poincareplane","ℌ"),Ar("pointint","⨕"),Ar("popf","𝕡"),Ar("Popf","ℙ"),Ar("pound","£"),Ar("prap","⪷"),Ar("Pr","⪻"),Ar("pr","≺"),Ar("prcue","≼"),Ar("precapprox","⪷"),Ar("prec","≺"),Ar("preccurlyeq","≼"),Ar("Precedes","≺"),Ar("PrecedesEqual","⪯"),Ar("PrecedesSlantEqual","≼"),Ar("PrecedesTilde","≾"),Ar("preceq","⪯"),Ar("precnapprox","⪹"),Ar("precneqq","⪵"),Ar("precnsim","⋨"),Ar("pre","⪯"),Ar("prE","⪳"),Ar("precsim","≾"),Ar("prime","′"),Ar("Prime","″"),Ar("primes","ℙ"),Ar("prnap","⪹"),Ar("prnE","⪵"),Ar("prnsim","⋨"),Ar("prod","∏"),Ar("Product","∏"),Ar("profalar","⌮"),Ar("profline","⌒"),Ar("profsurf","⌓"),Ar("prop","∝"),Ar("Proportional","∝"),Ar("Proportion","∷"),Ar("propto","∝"),Ar("prsim","≾"),Ar("prurel","⊰"),Ar("Pscr","𝒫"),Ar("pscr","𝓅"),Ar("Psi","Ψ"),Ar("psi","ψ"),Ar("puncsp"," "),Ar("Qfr","𝔔"),Ar("qfr","𝔮"),Ar("qint","⨌"),Ar("qopf","𝕢"),Ar("Qopf","ℚ"),Ar("qprime","⁗"),Ar("Qscr","𝒬"),Ar("qscr","𝓆"),Ar("quaternions","ℍ"),Ar("quatint","⨖"),Ar("quest","?"),Ar("questeq","≟"),Ar("quot",'"'),Ar("QUOT",'"'),Ar("rAarr","⇛"),Ar("race","∽̱"),Ar("Racute","Ŕ"),Ar("racute","ŕ"),Ar("radic","√"),Ar("raemptyv","⦳"),Ar("rang","⟩"),Ar("Rang","⟫"),Ar("rangd","⦒"),Ar("range","⦥"),Ar("rangle","⟩"),Ar("raquo","»"),Ar("rarrap","⥵"),Ar("rarrb","⇥"),Ar("rarrbfs","⤠"),Ar("rarrc","⤳"),Ar("rarr","→"),Ar("Rarr","↠"),Ar("rArr","⇒"),Ar("rarrfs","⤞"),Ar("rarrhk","↪"),Ar("rarrlp","↬"),Ar("rarrpl","⥅"),Ar("rarrsim","⥴"),Ar("Rarrtl","⤖"),Ar("rarrtl","↣"),Ar("rarrw","↝"),Ar("ratail","⤚"),Ar("rAtail","⤜"),Ar("ratio","∶"),Ar("rationals","ℚ"),Ar("rbarr","⤍"),Ar("rBarr","⤏"),Ar("RBarr","⤐"),Ar("rbbrk","❳"),Ar("rbrace","}"),Ar("rbrack","]"),Ar("rbrke","⦌"),Ar("rbrksld","⦎"),Ar("rbrkslu","⦐"),Ar("Rcaron","Ř"),Ar("rcaron","ř"),Ar("Rcedil","Ŗ"),Ar("rcedil","ŗ"),Ar("rceil","⌉"),Ar("rcub","}"),Ar("Rcy","Р"),Ar("rcy","р"),Ar("rdca","⤷"),Ar("rdldhar","⥩"),Ar("rdquo","”"),Ar("rdquor","”"),Ar("rdsh","↳"),Ar("real","ℜ"),Ar("realine","ℛ"),Ar("realpart","ℜ"),Ar("reals","ℝ"),Ar("Re","ℜ"),Ar("rect","▭"),Ar("reg","®"),Ar("REG","®"),Ar("ReverseElement","∋"),Ar("ReverseEquilibrium","⇋"),Ar("ReverseUpEquilibrium","⥯"),Ar("rfisht","⥽"),Ar("rfloor","⌋"),Ar("rfr","𝔯"),Ar("Rfr","ℜ"),Ar("rHar","⥤"),Ar("rhard","⇁"),Ar("rharu","⇀"),Ar("rharul","⥬"),Ar("Rho","Ρ"),Ar("rho","ρ"),Ar("rhov","ϱ"),Ar("RightAngleBracket","⟩"),Ar("RightArrowBar","⇥"),Ar("rightarrow","→"),Ar("RightArrow","→"),Ar("Rightarrow","⇒"),Ar("RightArrowLeftArrow","⇄"),Ar("rightarrowtail","↣"),Ar("RightCeiling","⌉"),Ar("RightDoubleBracket","⟧"),Ar("RightDownTeeVector","⥝"),Ar("RightDownVectorBar","⥕"),Ar("RightDownVector","⇂"),Ar("RightFloor","⌋"),Ar("rightharpoondown","⇁"),Ar("rightharpoonup","⇀"),Ar("rightleftarrows","⇄"),Ar("rightleftharpoons","⇌"),Ar("rightrightarrows","⇉"),Ar("rightsquigarrow","↝"),Ar("RightTeeArrow","↦"),Ar("RightTee","⊢"),Ar("RightTeeVector","⥛"),Ar("rightthreetimes","⋌"),Ar("RightTriangleBar","⧐"),Ar("RightTriangle","⊳"),Ar("RightTriangleEqual","⊵"),Ar("RightUpDownVector","⥏"),Ar("RightUpTeeVector","⥜"),Ar("RightUpVectorBar","⥔"),Ar("RightUpVector","↾"),Ar("RightVectorBar","⥓"),Ar("RightVector","⇀"),Ar("ring","˚"),Ar("risingdotseq","≓"),Ar("rlarr","⇄"),Ar("rlhar","⇌"),Ar("rlm","‏"),Ar("rmoustache","⎱"),Ar("rmoust","⎱"),Ar("rnmid","⫮"),Ar("roang","⟭"),Ar("roarr","⇾"),Ar("robrk","⟧"),Ar("ropar","⦆"),Ar("ropf","𝕣"),Ar("Ropf","ℝ"),Ar("roplus","⨮"),Ar("rotimes","⨵"),Ar("RoundImplies","⥰"),Ar("rpar",")"),Ar("rpargt","⦔"),Ar("rppolint","⨒"),Ar("rrarr","⇉"),Ar("Rrightarrow","⇛"),Ar("rsaquo","›"),Ar("rscr","𝓇"),Ar("Rscr","ℛ"),Ar("rsh","↱"),Ar("Rsh","↱"),Ar("rsqb","]"),Ar("rsquo","’"),Ar("rsquor","’"),Ar("rthree","⋌"),Ar("rtimes","⋊"),Ar("rtri","▹"),Ar("rtrie","⊵"),Ar("rtrif","▸"),Ar("rtriltri","⧎"),Ar("RuleDelayed","⧴"),Ar("ruluhar","⥨"),Ar("rx","℞"),Ar("Sacute","Ś"),Ar("sacute","ś"),Ar("sbquo","‚"),Ar("scap","⪸"),Ar("Scaron","Š"),Ar("scaron","š"),Ar("Sc","⪼"),Ar("sc","≻"),Ar("sccue","≽"),Ar("sce","⪰"),Ar("scE","⪴"),Ar("Scedil","Ş"),Ar("scedil","ş"),Ar("Scirc","Ŝ"),Ar("scirc","ŝ"),Ar("scnap","⪺"),Ar("scnE","⪶"),Ar("scnsim","⋩"),Ar("scpolint","⨓"),Ar("scsim","≿"),Ar("Scy","С"),Ar("scy","с"),Ar("sdotb","⊡"),Ar("sdot","⋅"),Ar("sdote","⩦"),Ar("searhk","⤥"),Ar("searr","↘"),Ar("seArr","⇘"),Ar("searrow","↘"),Ar("sect","§"),Ar("semi",";"),Ar("seswar","⤩"),Ar("setminus","∖"),Ar("setmn","∖"),Ar("sext","✶"),Ar("Sfr","𝔖"),Ar("sfr","𝔰"),Ar("sfrown","⌢"),Ar("sharp","♯"),Ar("SHCHcy","Щ"),Ar("shchcy","щ"),Ar("SHcy","Ш"),Ar("shcy","ш"),Ar("ShortDownArrow","↓"),Ar("ShortLeftArrow","←"),Ar("shortmid","∣"),Ar("shortparallel","∥"),Ar("ShortRightArrow","→"),Ar("ShortUpArrow","↑"),Ar("shy","­"),Ar("Sigma","Σ"),Ar("sigma","σ"),Ar("sigmaf","ς"),Ar("sigmav","ς"),Ar("sim","∼"),Ar("simdot","⩪"),Ar("sime","≃"),Ar("simeq","≃"),Ar("simg","⪞"),Ar("simgE","⪠"),Ar("siml","⪝"),Ar("simlE","⪟"),Ar("simne","≆"),Ar("simplus","⨤"),Ar("simrarr","⥲"),Ar("slarr","←"),Ar("SmallCircle","∘"),Ar("smallsetminus","∖"),Ar("smashp","⨳"),Ar("smeparsl","⧤"),Ar("smid","∣"),Ar("smile","⌣"),Ar("smt","⪪"),Ar("smte","⪬"),Ar("smtes","⪬︀"),Ar("SOFTcy","Ь"),Ar("softcy","ь"),Ar("solbar","⌿"),Ar("solb","⧄"),Ar("sol","/"),Ar("Sopf","𝕊"),Ar("sopf","𝕤"),Ar("spades","♠"),Ar("spadesuit","♠"),Ar("spar","∥"),Ar("sqcap","⊓"),Ar("sqcaps","⊓︀"),Ar("sqcup","⊔"),Ar("sqcups","⊔︀"),Ar("Sqrt","√"),Ar("sqsub","⊏"),Ar("sqsube","⊑"),Ar("sqsubset","⊏"),Ar("sqsubseteq","⊑"),Ar("sqsup","⊐"),Ar("sqsupe","⊒"),Ar("sqsupset","⊐"),Ar("sqsupseteq","⊒"),Ar("square","□"),Ar("Square","□"),Ar("SquareIntersection","⊓"),Ar("SquareSubset","⊏"),Ar("SquareSubsetEqual","⊑"),Ar("SquareSuperset","⊐"),Ar("SquareSupersetEqual","⊒"),Ar("SquareUnion","⊔"),Ar("squarf","▪"),Ar("squ","□"),Ar("squf","▪"),Ar("srarr","→"),Ar("Sscr","𝒮"),Ar("sscr","𝓈"),Ar("ssetmn","∖"),Ar("ssmile","⌣"),Ar("sstarf","⋆"),Ar("Star","⋆"),Ar("star","☆"),Ar("starf","★"),Ar("straightepsilon","ϵ"),Ar("straightphi","ϕ"),Ar("strns","¯"),Ar("sub","⊂"),Ar("Sub","⋐"),Ar("subdot","⪽"),Ar("subE","⫅"),Ar("sube","⊆"),Ar("subedot","⫃"),Ar("submult","⫁"),Ar("subnE","⫋"),Ar("subne","⊊"),Ar("subplus","⪿"),Ar("subrarr","⥹"),Ar("subset","⊂"),Ar("Subset","⋐"),Ar("subseteq","⊆"),Ar("subseteqq","⫅"),Ar("SubsetEqual","⊆"),Ar("subsetneq","⊊"),Ar("subsetneqq","⫋"),Ar("subsim","⫇"),Ar("subsub","⫕"),Ar("subsup","⫓"),Ar("succapprox","⪸"),Ar("succ","≻"),Ar("succcurlyeq","≽"),Ar("Succeeds","≻"),Ar("SucceedsEqual","⪰"),Ar("SucceedsSlantEqual","≽"),Ar("SucceedsTilde","≿"),Ar("succeq","⪰"),Ar("succnapprox","⪺"),Ar("succneqq","⪶"),Ar("succnsim","⋩"),Ar("succsim","≿"),Ar("SuchThat","∋"),Ar("sum","∑"),Ar("Sum","∑"),Ar("sung","♪"),Ar("sup1","¹"),Ar("sup2","²"),Ar("sup3","³"),Ar("sup","⊃"),Ar("Sup","⋑"),Ar("supdot","⪾"),Ar("supdsub","⫘"),Ar("supE","⫆"),Ar("supe","⊇"),Ar("supedot","⫄"),Ar("Superset","⊃"),Ar("SupersetEqual","⊇"),Ar("suphsol","⟉"),Ar("suphsub","⫗"),Ar("suplarr","⥻"),Ar("supmult","⫂"),Ar("supnE","⫌"),Ar("supne","⊋"),Ar("supplus","⫀"),Ar("supset","⊃"),Ar("Supset","⋑"),Ar("supseteq","⊇"),Ar("supseteqq","⫆"),Ar("supsetneq","⊋"),Ar("supsetneqq","⫌"),Ar("supsim","⫈"),Ar("supsub","⫔"),Ar("supsup","⫖"),Ar("swarhk","⤦"),Ar("swarr","↙"),Ar("swArr","⇙"),Ar("swarrow","↙"),Ar("swnwar","⤪"),Ar("szlig","ß"),Ar("Tab","\t"),Ar("target","⌖"),Ar("Tau","Τ"),Ar("tau","τ"),Ar("tbrk","⎴"),Ar("Tcaron","Ť"),Ar("tcaron","ť"),Ar("Tcedil","Ţ"),Ar("tcedil","ţ"),Ar("Tcy","Т"),Ar("tcy","т"),Ar("tdot","⃛"),Ar("telrec","⌕"),Ar("Tfr","𝔗"),Ar("tfr","𝔱"),Ar("there4","∴"),Ar("therefore","∴"),Ar("Therefore","∴"),Ar("Theta","Θ"),Ar("theta","θ"),Ar("thetasym","ϑ"),Ar("thetav","ϑ"),Ar("thickapprox","≈"),Ar("thicksim","∼"),Ar("ThickSpace","  "),Ar("ThinSpace"," "),Ar("thinsp"," "),Ar("thkap","≈"),Ar("thksim","∼"),Ar("THORN","Þ"),Ar("thorn","þ"),Ar("tilde","˜"),Ar("Tilde","∼"),Ar("TildeEqual","≃"),Ar("TildeFullEqual","≅"),Ar("TildeTilde","≈"),Ar("timesbar","⨱"),Ar("timesb","⊠"),Ar("times","×"),Ar("timesd","⨰"),Ar("tint","∭"),Ar("toea","⤨"),Ar("topbot","⌶"),Ar("topcir","⫱"),Ar("top","⊤"),Ar("Topf","𝕋"),Ar("topf","𝕥"),Ar("topfork","⫚"),Ar("tosa","⤩"),Ar("tprime","‴"),Ar("trade","™"),Ar("TRADE","™"),Ar("triangle","▵"),Ar("triangledown","▿"),Ar("triangleleft","◃"),Ar("trianglelefteq","⊴"),Ar("triangleq","≜"),Ar("triangleright","▹"),Ar("trianglerighteq","⊵"),Ar("tridot","◬"),Ar("trie","≜"),Ar("triminus","⨺"),Ar("TripleDot","⃛"),Ar("triplus","⨹"),Ar("trisb","⧍"),Ar("tritime","⨻"),Ar("trpezium","⏢"),Ar("Tscr","𝒯"),Ar("tscr","𝓉"),Ar("TScy","Ц"),Ar("tscy","ц"),Ar("TSHcy","Ћ"),Ar("tshcy","ћ"),Ar("Tstrok","Ŧ"),Ar("tstrok","ŧ"),Ar("twixt","≬"),Ar("twoheadleftarrow","↞"),Ar("twoheadrightarrow","↠"),Ar("Uacute","Ú"),Ar("uacute","ú"),Ar("uarr","↑"),Ar("Uarr","↟"),Ar("uArr","⇑"),Ar("Uarrocir","⥉"),Ar("Ubrcy","Ў"),Ar("ubrcy","ў"),Ar("Ubreve","Ŭ"),Ar("ubreve","ŭ"),Ar("Ucirc","Û"),Ar("ucirc","û"),Ar("Ucy","У"),Ar("ucy","у"),Ar("udarr","⇅"),Ar("Udblac","Ű"),Ar("udblac","ű"),Ar("udhar","⥮"),Ar("ufisht","⥾"),Ar("Ufr","𝔘"),Ar("ufr","𝔲"),Ar("Ugrave","Ù"),Ar("ugrave","ù"),Ar("uHar","⥣"),Ar("uharl","↿"),Ar("uharr","↾"),Ar("uhblk","▀"),Ar("ulcorn","⌜"),Ar("ulcorner","⌜"),Ar("ulcrop","⌏"),Ar("ultri","◸"),Ar("Umacr","Ū"),Ar("umacr","ū"),Ar("uml","¨"),Ar("UnderBar","_"),Ar("UnderBrace","⏟"),Ar("UnderBracket","⎵"),Ar("UnderParenthesis","⏝"),Ar("Union","⋃"),Ar("UnionPlus","⊎"),Ar("Uogon","Ų"),Ar("uogon","ų"),Ar("Uopf","𝕌"),Ar("uopf","𝕦"),Ar("UpArrowBar","⤒"),Ar("uparrow","↑"),Ar("UpArrow","↑"),Ar("Uparrow","⇑"),Ar("UpArrowDownArrow","⇅"),Ar("updownarrow","↕"),Ar("UpDownArrow","↕"),Ar("Updownarrow","⇕"),Ar("UpEquilibrium","⥮"),Ar("upharpoonleft","↿"),Ar("upharpoonright","↾"),Ar("uplus","⊎"),Ar("UpperLeftArrow","↖"),Ar("UpperRightArrow","↗"),Ar("upsi","υ"),Ar("Upsi","ϒ"),Ar("upsih","ϒ"),Ar("Upsilon","Υ"),Ar("upsilon","υ"),Ar("UpTeeArrow","↥"),Ar("UpTee","⊥"),Ar("upuparrows","⇈"),Ar("urcorn","⌝"),Ar("urcorner","⌝"),Ar("urcrop","⌎"),Ar("Uring","Ů"),Ar("uring","ů"),Ar("urtri","◹"),Ar("Uscr","𝒰"),Ar("uscr","𝓊"),Ar("utdot","⋰"),Ar("Utilde","Ũ"),Ar("utilde","ũ"),Ar("utri","▵"),Ar("utrif","▴"),Ar("uuarr","⇈"),Ar("Uuml","Ü"),Ar("uuml","ü"),Ar("uwangle","⦧"),Ar("vangrt","⦜"),Ar("varepsilon","ϵ"),Ar("varkappa","ϰ"),Ar("varnothing","∅"),Ar("varphi","ϕ"),Ar("varpi","ϖ"),Ar("varpropto","∝"),Ar("varr","↕"),Ar("vArr","⇕"),Ar("varrho","ϱ"),Ar("varsigma","ς"),Ar("varsubsetneq","⊊︀"),Ar("varsubsetneqq","⫋︀"),Ar("varsupsetneq","⊋︀"),Ar("varsupsetneqq","⫌︀"),Ar("vartheta","ϑ"),Ar("vartriangleleft","⊲"),Ar("vartriangleright","⊳"),Ar("vBar","⫨"),Ar("Vbar","⫫"),Ar("vBarv","⫩"),Ar("Vcy","В"),Ar("vcy","в"),Ar("vdash","⊢"),Ar("vDash","⊨"),Ar("Vdash","⊩"),Ar("VDash","⊫"),Ar("Vdashl","⫦"),Ar("veebar","⊻"),Ar("vee","∨"),Ar("Vee","⋁"),Ar("veeeq","≚"),Ar("vellip","⋮"),Ar("verbar","|"),Ar("Verbar","‖"),Ar("vert","|"),Ar("Vert","‖"),Ar("VerticalBar","∣"),Ar("VerticalLine","|"),Ar("VerticalSeparator","❘"),Ar("VerticalTilde","≀"),Ar("VeryThinSpace"," "),Ar("Vfr","𝔙"),Ar("vfr","𝔳"),Ar("vltri","⊲"),Ar("vnsub","⊂⃒"),Ar("vnsup","⊃⃒"),Ar("Vopf","𝕍"),Ar("vopf","𝕧"),Ar("vprop","∝"),Ar("vrtri","⊳"),Ar("Vscr","𝒱"),Ar("vscr","𝓋"),Ar("vsubnE","⫋︀"),Ar("vsubne","⊊︀"),Ar("vsupnE","⫌︀"),Ar("vsupne","⊋︀"),Ar("Vvdash","⊪"),Ar("vzigzag","⦚"),Ar("Wcirc","Ŵ"),Ar("wcirc","ŵ"),Ar("wedbar","⩟"),Ar("wedge","∧"),Ar("Wedge","⋀"),Ar("wedgeq","≙"),Ar("weierp","℘"),Ar("Wfr","𝔚"),Ar("wfr","𝔴"),Ar("Wopf","𝕎"),Ar("wopf","𝕨"),Ar("wp","℘"),Ar("wr","≀"),Ar("wreath","≀"),Ar("Wscr","𝒲"),Ar("wscr","𝓌"),Ar("xcap","⋂"),Ar("xcirc","◯"),Ar("xcup","⋃"),Ar("xdtri","▽"),Ar("Xfr","𝔛"),Ar("xfr","𝔵"),Ar("xharr","⟷"),Ar("xhArr","⟺"),Ar("Xi","Ξ"),Ar("xi","ξ"),Ar("xlarr","⟵"),Ar("xlArr","⟸"),Ar("xmap","⟼"),Ar("xnis","⋻"),Ar("xodot","⨀"),Ar("Xopf","𝕏"),Ar("xopf","𝕩"),Ar("xoplus","⨁"),Ar("xotime","⨂"),Ar("xrarr","⟶"),Ar("xrArr","⟹"),Ar("Xscr","𝒳"),Ar("xscr","𝓍"),Ar("xsqcup","⨆"),Ar("xuplus","⨄"),Ar("xutri","△"),Ar("xvee","⋁"),Ar("xwedge","⋀"),Ar("Yacute","Ý"),Ar("yacute","ý"),Ar("YAcy","Я"),Ar("yacy","я"),Ar("Ycirc","Ŷ"),Ar("ycirc","ŷ"),Ar("Ycy","Ы"),Ar("ycy","ы"),Ar("yen","¥"),Ar("Yfr","𝔜"),Ar("yfr","𝔶"),Ar("YIcy","Ї"),Ar("yicy","ї"),Ar("Yopf","𝕐"),Ar("yopf","𝕪"),Ar("Yscr","𝒴"),Ar("yscr","𝓎"),Ar("YUcy","Ю"),Ar("yucy","ю"),Ar("yuml","ÿ"),Ar("Yuml","Ÿ"),Ar("Zacute","Ź"),Ar("zacute","ź"),Ar("Zcaron","Ž"),Ar("zcaron","ž"),Ar("Zcy","З"),Ar("zcy","з"),Ar("Zdot","Ż"),Ar("zdot","ż"),Ar("zeetrf","ℨ"),Ar("ZeroWidthSpace","​"),Ar("Zeta","Ζ"),Ar("zeta","ζ"),Ar("zfr","𝔷"),Ar("Zfr","ℨ"),Ar("ZHcy","Ж"),Ar("zhcy","ж"),Ar("zigrarr","⇝"),Ar("zopf","𝕫"),Ar("Zopf","ℤ"),Ar("Zscr","𝒵"),Ar("zscr","𝓏"),Ar("zwj","‍"),Ar("zwnj","‌")])),Jp=sh((function(e){return Ol("&"+e+";",Bd(e,Gp))}),Wc(xh,Mh,"[a-zA-Z]+")),Yp=function(e,t,r){e:for(;;){if(!t.b)return Gs(r);var n=t.a,i=t.b;switch(n){case"0":e=a=e-1,t=o=i,r=s=r;continue e;case"1":var a=e-1,o=i,s=r+sa(16,e);e=a,t=o,r=s;continue e;case"2":a=e-1,o=i,s=r+2*sa(16,e);e=a,t=o,r=s;continue e;case"3":a=e-1,o=i,s=r+3*sa(16,e);e=a,t=o,r=s;continue e;case"4":a=e-1,o=i,s=r+4*sa(16,e);e=a,t=o,r=s;continue e;case"5":a=e-1,o=i,s=r+5*sa(16,e);e=a,t=o,r=s;continue e;case"6":a=e-1,o=i,s=r+6*sa(16,e);e=a,t=o,r=s;continue e;case"7":a=e-1,o=i,s=r+7*sa(16,e);e=a,t=o,r=s;continue e;case"8":a=e-1,o=i,s=r+8*sa(16,e);e=a,t=o,r=s;continue e;case"9":a=e-1,o=i,s=r+9*sa(16,e);e=a,t=o,r=s;continue e;case"a":a=e-1,o=i,s=r+10*sa(16,e);e=a,t=o,r=s;continue e;case"b":a=e-1,o=i,s=r+11*sa(16,e);e=a,t=o,r=s;continue e;case"c":a=e-1,o=i,s=r+12*sa(16,e);e=a,t=o,r=s;continue e;case"d":a=e-1,o=i,s=r+13*sa(16,e);e=a,t=o,r=s;continue e;case"e":a=e-1,o=i,s=r+14*sa(16,e);e=a,t=o,r=s;continue e;case"f":a=e-1,o=i,s=r+15*sa(16,e);e=a,t=o,r=s;continue e;default:return Hs(pl(n)+" is not a valid hexadecimal character.")}}},Zp=(mr(Yp),function(e,t){if(t.$){var r=t.a;return Hs(e(r))}var n=t.a;return Gs(n)}),Xp=(gr(Zp),function(e){if(e.b){e.a;var t=e.b;return Ts(t)}return As}),Qp=rh((function(e){var t=function(e){if(uc(e))return Hs("Empty strings are not valid hexadecimal strings.");var t=function(){if(Ra("-",e)){var t=Ol(Xi,Xp(Ud(e)));return Cl(kl,Yp(uu(t)-1,t,0))}return Yp(ic(e)-1,Ud(e),0)}();return Zp((function(t){return eu(" ",qr(['"'+e+'"',"is not a valid hexadecimal string because",t]))}),t)}(mf(e));if(t.$){var r=t.a;return Jv(r)}var n=t.a;return Bv(n)}),Wc(xh,Mh,"[0-9a-fA-F]+")),eb=(Qp.f,Np=Oh(qr([$h(Qp,Wc(xh,Mh,"(x|X)")),$h(Zv,Wc(xh,Mh,"0*"))])),$h(sh(kr(Vc,bl,pl),Np),Ch("#"))),tb=$h(Oh(qr([fh(Ch(";"),Jp),fh(Ch(";"),eb),Bv("&")])),Ch("&")),rb=function(e){return fh(Ch(e),$h(sh(Nh,cp(Oh(qr([sh(kr(Mf,"\\"+e,e),Wc(xh,Mh,"([^"+e+"]*|\\\\"+e+"|\\\\)*")),tb])))),Ch(e)))},nb=sh(Nh,lp(Oh(qr([Wc(xh,Mh,"[^\\s\"'=<>`&]+"),tb])))),ib=yh($h(Oh(qr([nb,rb('"'),rb("'")])),fh(Ih,Ch("="))),Bv("")),ab=(ib.f,function(e){return sh(Vp(e),fh(Ih,ch(ib,fh(Ih,sh(kr(Vc,mf,Uh),Wc(xh,Mh,"[A-Za-z0-9_\\-:]+"))))))}),ob=Wc(xh,Mh,"[\t ]*"),sb=(Bp=rh(ab,Fv(kr(Vc,(function(e){return e.cm}),kr(Vc,(function(e){return e.eq}),Bv)))),fh(Wp,sh(Dl(Xi),Dh($h(Th(Bp),ob))))),ub=function(e,t){return{$:1,a:e,b:t}},cb=gr(ub),lb=sh(cb,Oh(qr([kr(tv,"⟷",Ch("<--\x3e")),kr(tv,"⟵",Ch("<--")),kr(tv,"⟶",Ch("--\x3e")),kr(tv,"↞",Ch("<<-")),kr(tv,"↠",Ch("->>")),kr(tv,"↔",Ch("<->")),kr(tv,"↣",Ch(">->")),kr(tv,"↢",Ch("<-<")),kr(tv,"→",Ch("->")),kr(tv,"←",Ch("<-")),kr(tv,"↜",Ch("<~")),kr(tv,"↝",Ch("~>")),kr(tv,"⟺",Ch("<==>")),kr(tv,"⟹",Ch("==>")),kr(tv,"⟸",Ch("<==")),kr(tv,"⇔",Ch("<=>")),kr(tv,"⇒",Ch("=>")),kr(tv,"⇐",Ch("<="))]))),fb=gr((function(e,t){return Dr(t,Ol("",td(Zs("#"),Kc(Sf,Xp(ru("#",e))))))})),db=function(e){var t=Ol(Xi,td(nu("&"),Kc(Sf,td(nu("#"),Kc(Sf,Xp(ru("?",e)))))));return kr(Vc,bf((function(e){var r=xd(pc(e),t);if(r.b){var n=r.a;return Ts(n)}return As})),kr(Vc,Fh("&"),kr(Vc,Nh,kr(Vc,Zs("?"),kr(Vc,fb(e),(function(e){return"?"===e?"":e}))))))},hb=qr(["autoplay","cc_lang_pref","color","disablekb","enablejsapi","end","fs","hl","iv_load_policy","list","listType","loop","modestbranding","mute","origin","playlist","playsinline","rel","start","widget_referrer"]),vb=Rf(qr([{T:gr((function(e,t){return"https://w.soundcloud.com/player/?url=https://soundcloud.com/"+t})),W:"https?:\\/\\/(?:w\\.|www\\.|)(?:soundcloud\\.com\\/)(?:(?:player\\/\\?url=https\\%3A\\/\\/api.soundcloud.com\\/tracks\\/)|)(((\\w|-)[^A-z]{7})|([A-Za-z0-9]+(?:[-_][A-Za-z0-9]+)*(?!\\/sets(?:\\/|$))(?:\\/[A-Za-z0-9]+(?:[-_][A-Za-z0-9]+)*){1,2}))"},{T:gr((function(e,t){return"https://www.youtube.com/embed/"+(t+kr(db,e,hb))})),W:Dr(If,"music\\.(?:youtu\\.be/|youtube\\.com/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:v|vi|user)/))([^\\?&\"'<> #]+)")}])),pb=gr((function(e,t){return{$:7,a:e,b:t}})),bb=sh(kr(Vc,kr(Mf,"\\`","`"),pb),fh(Ch("`"),$h(Wc(xh,Mh,"([^`\n\\\\]*|\\\\`|\\\\)+"),Ch("`")))),gb=function(e,t){for(;;){var r=Ar(e,t);if(!r.a.b)return _u(t);if(r.a.a.$||r.a.a.b.b||!r.b.b||r.b.a.$||r.b.a.b.b){var n=r.a,i=n.a;e=s=n.b,t=Pr(i,t)}else{var a=r.a,o=a.a.a,s=a.b,u=r.b,c=u.a.a,l=u.b;e=s,t=Pr(Ov(Dr(c,o),Xi),l)}}},mb=(gr(gb),function(e){return gb(e,Xi)}),$b=gr((function(e,t){return kr(Vc,kr(Rh,Il({cc:e,c3:t}),(function(e){return e.a4})),tc)})),yb=sh(Nh,_h(Oh(qr([Wc(xh,Mh,"[^@\"'`</]+"),Wc(xh,Mh,"[ \t\n]+"),Ch("@'"),Ch("@"),Wc(xh,Mh,'"([^"]*|\\\\"|\\\\)*"'),Wc(xh,Mh,"'([^']*|\\\\'|\\\\)*'"),Wc(xh,Mh,"`([^`]*|\n|\\\\`|\\\\)*`"),Wc(xh,Mh,"<(?!/)"),Wc(xh,Mh,"//[^\n]*"),Ch("/")])),Er($b,!0,!1,"<\/script>"))),wb=function(){var e=rh(ab,Fv(kr(Vc,(function(e){return e.cm}),kr(Vc,(function(e){return e.eq}),Bv))));return ch(yb,sh(Uh,fh(Ch(">"),$h(cp($h(e,Ih)),Er($b,!0,!1,"<script")))))}(),_b=gr((function(e,t){var r=t.a,n=t.b;return Ar(e(r),n)})),Sb=function(e){return{$:1,a:e}},Cb=function(e){if(!e.b)return Xi;for(var t=Pr(void 0,Xi),r=t;e.b.b;e=e.b)for(var n=e.a;n.b;n=n.b){var i=Pr(n.a,Xi);r.b=i,r=i}return r.b=e.a,t.b},kb=function(e,t){if(!t.b)return Xi;for(var r=Pr(void 0,Xi),n=r;t.b.b;t=t.b)for(var i=e(t.a);i.b;i=i.b){var a=Pr(i.a,Xi);n.b=a,n=a}return n.b=e(t.a),r.b},Eb=(gr(kb),ps),Rb=(ds(Eb),function(e,t){for(;;){if(!t.b)return As;var r=t.a,n=r.a,i=r.b,a=t.b;if(Tr(n,e))return Ts(i);e=e,t=a}}),xb=gr(Rb),Mb=function(e){return""===e||"1"===e||"true"===e},Ib=function(e){return kr(Vc,xb(e),rd(kr(Vc,md,kr(Vc,mf,Mb))))},Tb=function(e){return kr(Vc,Ib(e),Dl(!1))},Ab={$:0},Ob={$:2},Db={$:3},Pb={$:4},qb={$:5},Lb={$:6},Ub={$:7},Nb={$:8},Bb={$:9},Fb={$:10},jb={$:11},Kb={$:13},Hb={$:14},Wb={$:16},Vb={$:17},zb={$:18},Gb={$:19},Jb={$:20},Yb={$:21},Zb=xb("options"),Xb=kr(Vc,rd(nu("|")),kr(Vc,Dl(Xi),kr(Vc,Sc(md),Md(kr(Vc,uc,Pd))))),Qb=(kr(Vc,Zb,Xb),gr((function(e,t){switch(t){case"button":case"submit":return Ab;case"checkbox":return{$:1,a:Wc(Zb,Xb,e)};case"color":return Ob;case"date":return Db;case"datetime-local":return Pb;case"email":return qb;case"file":return Lb;case"hidden":return Ub;case"image":return Nb;case"month":return Bb;case"number":return Fb;case"password":return jb;case"radio":return function(e){return{$:12,a:e}}(Wc(Zb,Xb,e));case"range":return Kb;case"search":return Hb;case"select":return function(e){return{$:15,a:e}}(Wc(Zb,Xb,e));case"tel":return Wb;case"textarea":return zb;case"time":return Gb;case"url":return Jb;case"week":return Yb;default:return Vb}}))),eg=function(e,t){var r=Ar(t,e);if(!r.a.$)return r.a.a;if(1===r.b.$){r.a,r.b;return!1}r.a;switch(r.b.a.$){case 5:case 11:case 14:case 16:case 18:case 20:return!1;default:return!0}},tg=(gr(eg),qr(["calendar","datestyle","day","dayperiod","era","formatmatcher","fractionalseconddigits","hour","hour12","hourcycle","localematcher","minute","month","numberingsystem","second","timestyle","timezone","timezonename","weekday","year"])),rg=qr(["localematcher","type","localestyle"]),ng=function(e){return kr(Vc,xb("locale"),kr(Vc,Dl(e),Uh("locale")))},ig=qr(["compactdisplay","currency","currencydisplay","currencysign","localematcher","maximumfractiondigits","maximumsignificantdigits","minimumfractiondigits","minimumintegerdigits","minimumsignificantdigits","notation","numberingsystem","signdisplay","localestyle","unit","unitdisplay","usegrouping"]),ag=qr(["localematcher","type","minimumintegerdigits","minimumfractiondigits","maximumfractiondigits","minimumsignificantdigits","maximumsignificantdigits"]),og=qr(["unit","localematcher","numeric","localestyle"]),sg=gr((function(e,t){var r=t.a;return Dd(r,e)})),ug=gr((function(e,t){return kr(Vc,function(e){return Md(sg(e))}(t),kr(Vc,Os(Ar("format",e)),Ts))})),cg=function(e,t){return td(Os(kr(ng,e,t)),function(){var e=td(mf,Rb("format",t));e:for(;!e.$;)switch(e.a){case"number":return Er(ug,"number",ig,t);case"datetime":return Er(ug,"datetime",tg,t);case"relativetime":return Er(ug,"relativetime",og,t);case"list":return Er(ug,"list",rg,t);case"pluralrules":return Er(ug,"pluralrules",ag,t);default:break e}return As}())},lg=(gr(cg),Ol(Al,Tl("@input\\(`([^`]+)`\\)"))),fg=function(e){return kr(Vc,Ib(e),Dl(!0))},dg=function(e,t,r,n,i){return zv(new T(kr(Tb,"block",r),0,!1,t,function(e){var t=Ol("",Rb("value",e)),r=td(Qb(e),Rb("input",e)),n=kr(Tb,"input-always-active",e);return new I(!!n||kr(Tb,"input-active",e),n,t,r,eg(r,kr(Ib,"update-on-change",e)),t)}(r),pf(tc,kb((function(e){return e.gE}),fs(Eb,lg,n))),cg(e,r),kr(fg,"modify",r),Rb("output",r),td(Sb,Rb("default",r)),kr(Tb,"run-once",r),!1,n,!1,!1),i)},hg=(yr(dg),Nv),vg=Ys(-1),pg=kr(Vc,hg,vg),bg=Fv(kr(Vc,(function(e){return e.eZ}),kr(Vc,(function(e){return e.fy}),kr(Vc,pg,Bv)))),gg=(bg.f,function(e){return ch(bg,sh(Uh,rh((function(e){var t=e.a,r=e.b;return $h(Bv(t),jv((function(e){var n=e.eZ;return tt(e,it(n,dg(e.cm.fB,Ol(0,Sf(e.aY)),t,md(r),n.fy)))})))}),sh(_b((function(t){return bd(t,e)})),wb))))}),mg=sh(Zs("mailto:"),$h(Wc(xh,Mh,"[a-zA-Z0-9_.\\-]+@[a-zA-Z0-9_.\\-]+"),Dh(Ch("mailto:")))),$g=function(e,t,r){return{$:8,a:e,b:t,c:r}},yg=mr($g),wg=sh(yg("true"),$h(Zh(Ch("$$")),Ch("$$"))),_g=sh(yg("false"),fh(Ch("$"),$h(Wc(xh,Mh,"[^\\n$]+"),Ch("$")))),Sg=yh(wg,_g),Cg=(Sg.f,function(e){return sh((function(t){return(r=e.$c()).es=t,r;var r}),Xv)}),kg=function(e){return sh((function(t){return(r=e.$c()).e1=Ts(t),r;var r}),$h(Zv,Wc(xh,Mh,"-[\t ]*")))},Eg=function(e){return $h(Bv(((t=e.$c()).ga=!0,t)),yh(Ch("!>"),Ch("|>")));var t},Rg=function(e){return sh((function(t){return(r=e.$c()).g$=md(t),r;var r}),$h(Wc(xh,Mh,"([A-Za-z][A-Za-z0-9]+[ \t]*)+"),Lp))},xg=function(e){return fp(e,$h(Oh(qr([kg(e),Cg(e),Eg(e),Rg(e)])),Ih))},Mg=rh((function(e){return function(e){return!e.ga&&e.es<0}(e)?Jv("no effect definition"):Bv(e)}),rh(xg,rh(xg,rh(xg,rh(xg,sh((function(e){return new A(-1,Xi,As,-1,!1,e)}),Fv(kr(Vc,(function(e){return e.cm}),kr(Vc,(function(e){return e.fW}),Bv))))))))),Ig=(Mg.f,fh(jv((function(e){return(t=e.$c()).bo=e.bo+1,t;var t})),Fv(kr(Vc,(function(e){return e.bo}),Bv)))),Tg=gr((function(e,t){return{$:10,a:e,b:t}})),Ag=function(e,t){return{$:2,a:e,b:t}},Og=(gr(Ag),function(e,t,r){return Cd(e,t,r)}),Dg=(mr(Og),function(e){var t=e.a,r=e.b;return jv((function(e){return(n=e.$c()).cw=Og(t,r,e.cw),n;var n}))}),Pg=function(e){var t=e.a,r=e.b;if(r.$)return Bv(Tg(t));var n=r.a;return $h(Bv(Tg(t)),Dg(Ar(t,qr([Ag(Xi,n)]))))},qg=function(e){return sh((function(t){return sv(t,e)}),Fv(kr(Vc,(function(e){return e.cm}),kr(Vc,(function(e){return e.eq}),Bv))))},Lg=rh(qg,Wc(xh,Mh,"[a-zA-Z]+://(/)?[a-zA-Z0-9\\.\\-\\_]+\\.([a-z\\.]{2,6})[^ \\]\\)\t\n]*")),Ug=(Lg.f,sh((function(e){return Rv(yv(qr([Ov(e,Xi)]),e,As))}),Lg)),Ng=function(e){return rh(e,Bv(0))},Bg=function(e){return kr(Vc,Sh(e),nh((function(e){return e.b?Bv(e):Jv("not enough results")})))},Fg=qr(["key","width","height","autoplay","autolightsoff","loop","chapters","related","responsive","t"]),jg=qr(["autopause","autoplay","background","byline","color","controls","dnt","keyboard","loop","muted","pip","playsinline","portrait","quality","speed","texttrack","title","transparent"]),Kg="https://www.youtube.com/embed/",Hg=Rf(qr([{T:gr((function(e,t){return Dr(Kg,Dr(t,kr(db,e,hb)))})),W:Dr(If,"(?:youtu\\.be/|youtube\\.com/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:v|vi|user)/))([^\\?&\"'<> #]+)")},{T:gr((function(e,t){return"https://player.vimeo.com/video/"+(t+kr(db,e,jg))})),W:Dr(If,"(?:player.)?(?:vimeo\\.com).*?(\\d+)")},{T:gr((function(e,t){return"https://www.dailymotion.com/embed/video/"+t})),W:Dr(If,"(?:dailymotion\\.com(?:/embed)?/video/)(.+)")},{T:gr((function(e,t){return"https://peertube.tv/videos/embed/"+t})),W:Dr(If,"(?:peertube\\.tv/videos/watch/)(.+)")},{T:gr((function(e,t){return"https://www.teachertube.com/embed/video/"+t})),W:Dr(If,"(?:teachertube\\.com).*?(\\d+.*)")},{T:gr((function(e,t){return"https://video.tu-freiberg.de/media/embed?key="+(t+kr(db,e,Fg))})),W:Dr(If,"(?:video\\.tu\\-freiberg\\.de/video/[^/]+/)(.+)")}])),Wg=$r((function(e,t,r,n){return Er(e,t,r,n)})),Vg=rh(ab,Fv(kr(Vc,(function(e){return e.cm}),kr(Vc,(function(e){return e.eq}),Bv)))),zg=(Vg.f,function(e){return{$:1,a:e}}),Gg=function(e,t,r){return{$:0,a:e,b:t,c:r}},Jg=mr(Gg),Yg=function(e){var t=rh((function(t){return Tr(mf(t),e)?Bv(0):Jv("closing tag does not match opening tag: "+e)}),Wc(xh,Mh,"\\w+(\\-\\w+)*"));return fh(Wc(xh,Mh,"[ \\t\\n]*>"),$h(t,Wc(xh,Mh,"[ \\t\\n]*</[ \\t]*")))},Zg=mr((function(e,t,r){return"<"+e+" "+eu(" ",_c((function(e){return e.a+'="'+e.b+'"'}),t))+">"+r+"</"+e+">"})),Xg=gr((function(e,t){var r=t.a,n=t.b;switch(r.$){case 1:var i=r.a;return ch(_h(fh(Wc(xh,Mh,"[\\n]*"),e),Yg(i)),fh(Wc(xh,Mh,"[ \\t]*>[ \\t]*\\n*"),Bv(kr(Jg,i,n))));case 2:i=r.a;return fh(Ch(">"),fh(Ih,fh(Dh(Ch("/")),fh(Ih,Bv(Gg(i,n,Xi))))));case 0:i=r.a;return sh(zg,sh(kr(Zg,i,n),Zh(Yg(i))));default:return sh(zg,$h(Zh(Yg("lia-keep")),fh(Ch(">"),Ih)))}})),Qg={$:3},em=function(e){return{$:0,a:e}},tm=qr(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),rm=rh((function(e){switch(e){case"script":return Jv("");case"lia-keep":return Bv(Qg);case"svg":return Bv(em(e));default:return Bv(Ea("-",e)?em(e):function(e){return Dd(e,tm)}(e)?{$:2,a:e}:function(e){return{$:1,a:e}}(e))}}),sh(mf,Wc(xh,Mh,"\\w+(\\-\\w+)*"))),nm=(rm.f,function(e){return rh(Xg(e),ch(cp(Vg),fh(Ih,sh(Uh,$h(rm,Wc(xh,Mh,"[ \\t]*<[ \\t]*"))))))}),im=Fv(kr(Vc,(function(e){return e.dD}),Bv)),am=(im.f,Oh(qr([Lg,ch(Wc(xh,Mh,"#[^ \t\\)]+"),im),rh(qg,Wc(xh,Mh,'[^\\)\n "]*'))]))),om=yh(Lg,ch(Wc(xh,Mh,'[^\\)\n "]*'),sh(Zs,Fv((function(e){return Bv(e.cm.eq)}))))),sm=(om.f,sh(cb,Oh(qr([kr(tv,"🙂",Ch(":-)")),kr(tv,"😉",Ch(";-)")),kr(tv,"😀",Ch(":-D")),kr(tv,"😮",Ch(":-O")),kr(tv,"🙁",Ch(":-(")),kr(tv,"😐",Ch(":-|")),kr(tv,"😕",Ch(":-/")),kr(tv,"😕",Ch(":-\\")),kr(tv,"😛",Ch(":-P")),kr(tv,"😛",Ch(":-p")),kr(tv,"😜",Ch(";-P")),kr(tv,"😜",Ch(";-p")),kr(tv,"😗",Ch(":-*")),kr(tv,"😘",Ch(";-*")),kr(tv,"😂",Ch(":')")),kr(tv,"😢",Ch(":'(")),kr(tv,"😭",Ch(":'[")),kr(tv,"😠",Ch(":-[")),kr(tv,"😷",Ch(":-#")),kr(tv,"😷",Ch(":-X")),kr(tv,"😖",Ch(":-§"))])))),um=sh(Dv,Wc(xh,Mh,'[^\\[\\]\\(\\)@*+_~:;`\\^|{}\\\\\\n<>=$ "\\-]+')),cm=sh(Dv,Wc(xh,Mh,"[^\n*|+\\-]+")),lm=sh(Dv,Wc(xh,Mh,'[\\[\\]\\(\\)~:_;=${}\\-+"*<>]')),fm=sh(Dv,$h(Wc(xh,Mh,"[@\\^*_+~`\\\\${}\\[\\]|#\\-<>]"),Ch("\\"))),dm=sh(Dv,Wc(xh,Mh,"[ \t]+")),hm=function(e,t){return{$:14,a:e,b:t}},vm=gr(hm),pm=function(e){var t=mb(e);return t.b&&!t.b.b?t.a:hm(t,Xi)},bm=function(e){return sh(kr(Vc,mb,pm),$h(kr(Bg,$m(),Ch(e)),Ch(e)))},gm=gr((function(e,t){var r=Ip(pi(),e,xf("\n"," ",t));return r.$?Xi:r.a.c})),mm=function(e,t,r){return fh(Ch(")"),ch(ci(),ch(r,fh(Ch("("),sh(Wg(e),t)))))};mr(mm);function $m(){return Ng((function(e){return $h(yh(sh((function(e){var t=e.a,r=e.b;return xv(r,t)}),gg(Xi)),ch($h(sb,Lp),Oh(qr([bb,(r=gm,rh(Pg,ch(Dh(ch(Fv(Bv),sh(gr((function(e,t){return kr(r,t,e)})),$h(Zh(Ch(")")),Ch("("))))),sh(Uh,$h(Zh(Ch("]")),Ch("[^")))))),ri(),Sg,sh(pv,(t=$m(),ch(Ig,fh(jp,ch(_h(t,Ch("}")),fh(Ch("}{"),sh(mr((function(e,t,r){return at(e,t,r)})),$h(Mg,Ch("{"))))))))),bi()])))),Lp);var t,r}))}var ym=Zn();Zn=function(){return ym};var wm=Xn();Xn=function(){return wm};var _m=Qn();Qn=function(){return _m};var Sm=ei();ei=function(){return Sm};var Cm=ti();ti=function(){return Cm};var km=ri();ri=function(){return km};var Em=ni();ni=function(){return Em};var Rm=ii();ii=function(){return Rm};var xm=ai();ai=function(){return xm};var Mm=oi();oi=function(){return Mm};var Im=si();si=function(){return Im};var Tm=ui();ui=function(){return Tm};var Am=ci();ci=function(){return Am};var Om=li();li=function(){return Om};var Dm=fi();fi=function(){return Dm};var Pm=di();di=function(){return Pm};var qm=hi();hi=function(){return qm};var Lm=vi();vi=function(){return Lm};var Um=pi();pi=function(){return Um};var Nm=$m();$m=function(){return Nm};var Bm=bi();bi=function(){return Bm};var Fm=function(e,t){var r=Ip(Um,mh(As,e),xf("\n"," ",t));return r.$?Xi:r.a.c},jm=(gr(Fm),function(e){return jv((function(t){return nt(t,e(t.cm))}))}),Km=Oh(qr([rv(fh(Xh,Wc(xh,Mh,"@@@.*\n"))),rv(fh(Vh,Wc(xh,Mh,"@@.*\n"))),rh((function(e){var t=e.a,r=e.b;switch(t){case"attribute":return jm((function(e){return ot(e,bd(e.en,qr([Fm(e,r)])))}));case"author":return jm((function(e){return(t=e.$c()).eo=r,t;var t}));case"base":return jm((function(e){return(t=e.$c()).eq=r,t;var t}));case"comment":return jm((function(e){var t,n=Wc(Kh,Hh,r);return av(Ar("comment",n),((t=e.$c()).cf=Fm(e,n),t))}));case"dark":return jm((function(e){return(t=e.$c()).fH=function(){switch(mf(r)){case"true":return Ts(!1);case"false":return Ts(!0);default:return As}}(),t;var t}));case"date":return jm((function(e){return(t=e.$c()).eL=r,t;var t}));case"email":return jm((function(e){return(t=e.$c()).e$=r,t;var t}));case"import":return jm(fv(r));case"language":return jm((function(e){return(t=e.$c()).fB=r,t;var t}));case"link":return jm(kr(lv,nv,r));case"logo":return jm((function(e){return(t=e.$c()).fL=sv(e.eq,r),t;var t}));case"narrator":return jm((function(e){return(t=e.$c()).fW=r,t;var t}));case"script":return jm(kr(lv,iv,r));case"translation":return jm(dv(r));case"version":return jm((function(e){return(t=e.$c()).bd=r,t;var t}));case"mode":return jm((function(e){return st(e,function(){switch(mf(r)){case"textbook":return Ts(2);case"presentation":return Ts(1);case"slides":return Ts(0);default:return As}}())}));case"debug":return jm((function(e){return(t=e.$c()).eM="true"===r,t;var t}));case"onload":return jm((function(e){return(t=e.$c()).f5=r,t;var t}));case"icon":return jm((function(e){return Xe(e,Cd("icon",sv(e.eq,r),e.cU))}));default:return jm(ov(Ar(t,r)))}}),ev)])),Hm=Ng((function(e){return rv(Th(fh(Ih,lp($h(Km,Ih)))))})),Wm=rv(fh(Ih,Dh($h(jv((function(e){return(t=e.$c()).eQ=!0,t;var t})),Hm)))),Vm=function(e,t,r){for(;;){if(e<=0)return r;if(!t.b)return r;var n=t.a;e=e-1,t=t.b,r=Pr(n,r)}},zm=(mr(Vm),function(e,t){return _u(Vm(e,t,Xi))}),Gm=(gr(zm),function(e,t,r){if(t<=0)return Xi;var n=Ar(t,r);e:for(;;){t:for(;;){if(!n.b.b)return r;if(!n.b.b.b){if(1===n.a)break e;break t}switch(n.a){case 1:break e;case 2:var i=n.b,a=i.a,o=i.b.a;return qr([a,o]);case 3:if(n.b.b.b.b){var s=n.b,u=(a=s.a,s.b),c=(o=u.a,u.b.a);return qr([a,o,c])}break t;default:if(n.b.b.b.b&&n.b.b.b.b.b){var l=n.b,f=(a=l.a,l.b),d=(o=f.a,f.b),h=(c=d.a,d.b),v=h.a,p=h.b;return Pr(a,Pr(o,Pr(c,Pr(v,e>1e3?zm(t-4,p):Gm(e+1,t-4,p)))))}break t}}return r}a=n.b.a;return qr([a])}),Jm=(mr(Gm),function(e,t){for(var r=Pr(void 0,Xi),n=r,i=0;i<e&&t.b;t=t.b,i++){var a=Pr(t.a,Xi);n.b=a,n=a}return r.b}),Ym=(gr(Jm),function(e,t){return"\n> I was trying to parse the **first** part of the course, which is either an\n> HTML-comment or something else, until I reach the header (which is marked by\n> an `#`). But, everything I got was the following:\n\n```\n"+Nh(Bh("\n",Jm(15,up(e))))+"\n...\n```\n\n> I might be wrong, but in most cases this refers to a falsely loaded HTML page!\n>\n> Please make sure, that the course you try to load is a Markdown file, which\n> is served as a plain text file...\n\n---\n\n**Error Message:**\n\n```\n"+t+"\n```\n\n---\n\nIf it should work, and you think you have detected bug, please contact us. For\nmore information see the [last Section](#get-help?).\n"}),Zm=(gr(Ym),function(e,t){var r=Ip(fh(yh(Ch("#"),Zh(Wc(xh,Mh,"\n#"))),$h(Wm,Wc(xh,Mh,"[\n\t ]*"))),mh(As,nf(e)),t+"\n");if(r.$){var n=r.a,i=n.b,a=n.c;return Hs(""===md(t)?'> The file you want me to load does not contain any content. Everything I see is only an empty string...\n    \nIf you see this in message in an editor, try to copy and paste the following code:\n\n```` md\n\x3c!--\nauthor:   Your Name\n\nemail:    your@mail.org\n\nversion:  0.0.1\n\nlanguage: en\n\nnarrator: US English Female\n\ncomment:  Try to write a short comment about\n          your course, multiline is also okay.\n--\x3e\n\n# Course Main Title\n\nThis is your **course** initialization stub.\n\nPlease see the [Docs](https://LiaScript.github.io/course/?https://raw.githubusercontent.com/liaScript/docs/master/README.md)\nto find out what is possible in [LiaScript](https://LiaScript.github.io).\n\nIf you want to use instant help in your Atom IDE, please type **lia** to see all available shortcuts.\n\n## Markdown\n\nYou can use common [Markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet) syntax to create your course, such as:\n\n1. Lists\n2. ordered or\n\n   * unordered\n   * ones ...\n\n\n| Header 1   | Header 2   |\n| :--------- | :--------- |\n| Item 1     | Item 2     |\n\n\nImages:\n\n![images](https://farm2.static.flickr.com/1618/26701766821_7bea494826.jpg)\n\n\n### Extensions\n\n     --{{0}}--\nBut you can also include other features such as spoken text.\n\n      --{{1}}--\nInsert any kind of audio file:\n\n       {{1}}\n?[audio](https://bigsoundbank.com/UPLOAD/mp3/1068.mp3)\n\n\n     --{{2}}--\nEven videos or change the language completely.\n\n       {{2-3}}\n!?[video](https://www.youtube.com/watch?v=bICfKRyKTwE)\n\n\n      --{{3 Russian Female}}--\nПервоначально создан в 2004 году Джоном Грубером (англ. John Gruber) и Аароном\nШварцем. Многие идеи языка были позаимствованы из существующих соглашений по\nразметке текста в электронных письмах...\n\n\n    {{3}}\nType "voice" to see a list of all available languages.\n\n\n### Styling\n\n\x3c!-- class = "animated rollIn" style = "animation-delay: 2s; color: purple" --\x3e\nThe whole text-block should appear in purple color and with a wobbling effect.\nWhich is a **bad** example, please use it with caution ...\n~~ only this is red ;-) ~~ \x3c!-- class = "animated infinite bounce" style = "color: red;" --\x3e\n\n## Charts\n\nUse ASCII-Art to draw diagrams:\n\n                                    Multiline\n    1.9 |    DOTS\n        |                 ***\n      y |               *     *\n      - | r r r r r r r*r r r r*r r r r r r r\n      a |             *         *\n      x |            *           *\n      i | B B B B B * B B B B B B * B B B B B\n      s |         *                 *\n        | *  * *                       * *  *\n     -1 +------------------------------------\n        0              x-axis               1\n\n## Quizzes\n\n### A Textquiz\n\nWhat did the **fish** say when he hit a **concrete wall**?\n\n    [[dam]]\n\n### Multiple Choice\n\nJust add as many points as you wish:\n\n    [[X]] Only the **X** marks the correct point.\n    [[ ]] Empty ones are wrong.\n    [[X]] ...\n\n### Single Choice\n\nJust add as many points as you wish:\n\n    [( )] ...\n    [(X)] <-- Only the **X** is allowed.\n    [( )] ...\n\n\n## Executable Code\n\nYou can make your code executable and define projects:\n\n``` js     -EvalScript.js\nlet who = data.first_name + " " + data.last_name;\n\nif(data.online) {\n  who + " is online"; }\nelse {\n  who + " is NOT online"; }\n```\n``` json    +Data.json\n{\n  "first_name" :  "Sammy",\n  "last_name"  :  "Shark",\n  "online"     :  true\n}\n```\n<script>\n  // insert the JSON dataset into the local variable data\n  let data = @input(1);\n\n  // eval the script that uses this dataset\n  eval(`@input(0)`);\n<\/script>\n\n\n## More\n\nFind out what you also can do ...\n\nhttps://LiaScript.github.io/course/?https://raw.githubusercontent.com/liaScript/docs/master/README.md\n````\n':Ym(t,Qd(a,i)))}var o=r.a,s=o.a,u=o.b;return Gs(Ar(s.cm,"#"+u.fx))}),Xm=(gr(Zm),function(e,t){var r=Zm(e.f7,t);if(r.$){var n=r.a;return Or(ut(e,Ts(n)),As,Xi)}var i,a=r.a,o=a.a,s=a.b,u=e.dF;return Or(Ld(o,((i=e.$c()).cP=o.fB,i.cQ=o.fB,i.dF=function(){var e,t,r,n=u.$c();return n.R=(e=td(Nd,Bd("classroom",o.cU))).$||e.a?u.R:As,n.cC=(t=td(Nd,Bd("sharing",o.cU))).$||t.a?u.cC:As,n.d$=(r=td(Nd,Bd("translateWithGoogle",o.cU))).$||r.a?u.d$:As,n.eI=Bd("custom",o.cU),n.fG=Ol(u.fG,o.fH),n.fS=Ol(u.fS,o.fS),n}(),i.df=Wc(jd,Kd,o.cU),i.eR=ot(o,Xi),i.gU=Ol(12,Wd(o.fB)),i)),Ts(s),o.a0)}),Qm=(gr(Xm),{$:4}),e$=gr((function(e,t){return{$:8,a:e,b:t}})),t$=function(e,t){return{$:2,a:e,b:t}},r$=(gr(t$),function(e){return{$:4,a:e}}),n$=function(e,t){if(4===e.$){var r=e.a;return r$(bd(r,qr([t])))}return r$(qr([t]))},i$=(gr(n$),un),a$=gr((function(e,t){return{$:3,a:e,b:t}})),o$=function(e){return{$:0,a:e}},s$=gr((function(e,t){return{$:4,a:e,b:t}})),u$={$:2},c$=function(e){return{$:1,a:e}},l$=function(e){return{$:0,a:e}},f$={$:1},d$=function(e){return!e.$},h$=function(e){if(-1===e.$&&-1===e.d.$&&-1===e.e.$){if(-1!==e.e.d.$||e.e.d.a){e.a,i=e.b,a=e.c;var t=e.d,r=(t.a,s=t.b,u=t.c,c=t.d,l=t.e,e.e);r.a,d=r.b,h=r.c,n=r.d,m=r.e;return wd(1,i,a,wd(0,s,u,c,l),wd(0,d,h,n,m))}e.a;var n,i=e.b,a=e.c,o=e.d,s=(o.a,o.b),u=o.c,c=o.d,l=o.e,f=e.e,d=(f.a,f.b),h=f.c,v=((n=f.d).a,n.b),p=n.c,b=n.d,g=n.e,m=f.e;return wd(0,v,p,wd(1,i,a,wd(0,s,u,c,l),b),wd(1,d,h,g,m))}return e},v$=function(e){if(-1===e.$&&-1===e.d.$&&-1===e.e.$){if(-1!==e.d.d.$||e.d.d.a){e.a,i=e.b,a=e.c;var t=e.d,r=(t.a,s=t.b,u=t.c,t.d),n=(v=t.e,e.e);n.a,b=n.b,g=n.c,m=n.d,$=n.e;return wd(1,i,a,wd(0,s,u,r,v),wd(0,b,g,m,$))}e.a;var i=e.b,a=e.c,o=e.d,s=(o.a,o.b),u=o.c,c=o.d,l=(c.a,c.b),f=c.c,d=c.d,h=c.e,v=o.e,p=e.e,b=(p.a,p.b),g=p.c,m=p.d,$=p.e;return wd(0,s,u,wd(1,l,f,d,h),wd(1,i,a,v,wd(0,b,g,m,$)))}return e},p$=function(e,t,r,n,i,a,o){if(-1!==a.$||a.a){e:for(;;){if(-1===o.$&&1===o.a){if(-1===o.d.$){if(1===o.d.a){o.a,o.d.a;return v$(t)}break e}o.a,o.d;return v$(t)}break e}return t}a.a;var s=a.b,u=a.c,c=a.d,l=a.e;return wd(r,s,u,c,wd(0,n,i,l,o))},b$=(_r(p$),function(e){if(-1===e.$&&-1===e.d.$){var t=e.a,r=e.b,n=e.c,i=e.d,a=i.a,o=i.d,s=e.e;if(1===a){if(-1!==o.$||o.a){var u=h$(e);if(-1===u.$){var c=u.a,l=u.b,f=u.c,d=u.d,h=u.e;return _d(c,l,f,b$(d),h)}return tf}o.a;return wd(t,r,n,b$(i),s)}return wd(t,r,n,b$(i),s)}return tf}),g$=function(e,t){if(-2===t.$)return tf;var r=t.a,n=t.b,i=t.c,a=t.d,o=t.e;if(zi(e,n)<0){if(-1===a.$&&1===a.a){a.a;var s=a.d;if(-1!==s.$||s.a){var u=h$(t);if(-1===u.$){var c=u.a,l=u.b,f=u.c,d=u.d,h=u.e;return _d(c,l,f,g$(e,d),h)}return tf}s.a;return wd(r,n,i,g$(e,a),o)}return wd(r,n,i,g$(e,a),o)}return m$(e,p$(0,t,r,n,i,a,o))},m$=(gr(g$),function(e,t){if(-1===t.$){var r=t.a,n=t.b,i=t.c,a=t.d,o=t.e;if(Tr(e,n)){var s=function(e){for(;;){if(-1!==e.$||-1!==e.d.$)return e;e=e.d}}(o);if(-1===s.$){var u=s.b,c=s.c;return _d(r,u,c,a,b$(o))}return tf}return _d(r,n,i,a,g$(e,o))}return tf}),$$=(gr(m$),function(e,t){var r=g$(e,t);if(-1!==r.$||r.a)return r;r.a;var n=r.b,i=r.c,a=r.d,o=r.e;return wd(1,n,i,a,o)}),y$=(gr($$),function(e,t,r){var n=t(Bd(e,r));if(n.$)return $$(e,r);var i=n.a;return Cd(e,i,r)}),w$=(mr(y$),function(e,t){return gs("",tc,kr(Vc,t,e))}),_$=(gr(w$),function(e){return{$:4,a:e}}),S$={$:2},C$={$:1},k$=gr((function(e,t){switch(t.$){case 0:var r=t.a;return Hs({$:0,a:r});case 1:return Hs(C$);case 2:return Hs(S$);case 3:var n=t.a;return Hs(function(e){return{$:3,a:e}}(n.gz));default:var i=t.b;return Zp(_$,e(i))}})),E$={$:0},R$=function(e){return{$:1,a:e}},x$=function(e,t){return{dp:e,dQ:t}},M$=(gr(x$),mc(x$(rf,Xi))),I$=function(e){return Jr((function(t){var r=e.f;2===r.$&&r.c&&r.c(),e.f=null,t(Gr(Yi))}))},T$=Zr,A$=function(e,t,r){e:for(;;){if(t.b){var n=t.a,i=t.b;if(n.$){var a=n.a;return no((function(t){var n=a.d_;if(1===n.$)return A$(e,i,r);var o=n.a;return A$(e,i,Cd(o,t,r))}),T$(bs(e,Rc(e),a)))}var o=n.a,s=Bd(o,r);if(1===s.$){e=e,t=i,r=r;continue e}var u=s.a;return no((function(t){return A$(e,i,$$(o,r))}),I$(u))}return mc(r)}},O$=(mr(A$),$r((function(e,t,r,n){return no((function(e){return mc(x$(e,r))}),A$(e,t,n.dp))}))),D$=$r((function(e,t,r,n){var i=n.a,a=n.b;return Tr(t,i)?Ts(lo(e,a(r))):As})),P$=mr((function(e,t,r){var n=t.a,i=t.b;return no((function(e){return mc(r)}),Ec(pf(Er(D$,e,n,i),r.dQ)))})),q$=gr((function(e,t){if(t.$){var r=t.a;return R$(new O(r.ej,r.eu,ms(e,r.e7),r.fk,r.fQ,r.gR,r.d_,r.d4))}var n=t.a;return{$:0,a:n}})),L$=function(e,t){return{$:0,a:e,b:t}},U$=(gr(L$),gr((function(e,t){var r=t.a,n=t.b;return L$(r,kr(Vc,n,e))})));co.Http=an(M$,O$,P$,q$,U$);var N$,B$,F$,j$=sn("Http"),K$=(sn("Http"),function(e){return function(e){return j$(R$(new O(!1,e.eu,e.e7,e.fk,e.fQ,e.gR,e.d_,e.d4)))}(new D(E$,e.e7,Xi,"GET",As,As,e.d4))}),H$=function(e,t){return K$(new P((r=e(t),w$(r,k$(Gs))),t));var r},W$=gr(H$),V$=tn,z$=function(e){return Pc(tc,no(eh(mc(e)),V$(0)))},G$=function(e){return{$:0,a:e}},J$=function(e,t){return i$(Pr(vo(e,t.eE),_c(Qc,t.e6)))},Y$=(gr(J$),"It seems that an error has occurred, but I do not know for\nsure what actually happened. There seems to be not enough information."),Z$=function(e,t,r){return new q((""===r?Y$:r)+"\n",t,qr([Ov(e,Xi)]))},X$=(mr(Z$),Du),Q$=function(e,t){return new U(Xi,t.eB,vh,As,bh,As,As,gh,Du,e,t.ft,!1,As,Du,Du,new L(Du,X$,X$),Du,Du,t.gS,!0)},ey=gr(Q$),ty="🙈 Ups, something went wrong",ry=function(e){return t=function(){if(4===e.$){if(e.a.b){if(e.a.b.b){var t=e.a;return Pr(Z$(ty,1,"> There seem to be a couple of errors, I hope nothing really bad that cannot be fixed.\n> However, I tried to list these errors within the following sub-subsections.\n>\n> If you have found a bug, contact us. See section [Get Help?](#get-help?)\n\n"),pu((function(e,t){return Z$("Error "+Qs(e+1),3,t)}),t))}var r=e.a.a;return qr([Z$(ty,1,r)])}return qr([Z$(ty,1,Y$)])}return qr([Z$(ty,1,Y$)])}(),Uv(vu(ey,bd(t,qr([Z$("What is LiaScript?",2,"LiaScript is a domain specific language for educational content that is based on Markdown.\nFor more information visit some of the following sources:\n\n* Project-website: https://LiaScript.github.io\n* Documentation: https://github.com/liascript/docs\n* YouTube: https://www.youtube.com/channel/UCyiTe2GkW_u05HSdvUblGYg\n"),Z$("Get Help?",2,"Feel free to contact us, if you need help, found a bug, or if you have some ideas for improvements.\nYou can reach us via:\n\n* mail: LiaScript@web.de\n* chat: https://gitter.im/LiaScript/community\n* twitter: https://twitter.com/liascript\n\nHave nice one \n")]))));var t},ny=function(e,t){return il("settings",Zc(qr([Ar("custom",Ol(Vf,td(Xc,e))),Ar("config",t)])))},iy=(gr(ny),function(e){return ny("custom"===e.am?e.eI:As,Zc(qr([Ar("table_of_contents",zc((t=e).gJ)),Ar("mode",(r=t.fS,Xc(function(){switch(r){case 2:return"Textbook";case 1:return"Presentation";default:return"Slides"}}()))),Ar("theme",Xc(t.am)),Ar("light",zc(t.fG)),Ar("editor",Xc(t.cp)),Ar("font_size",Gc(t.cv)),Ar("sound",zc(t.dL)),Ar("lang",Xc(t.fA)),Ar("tooltips",zc(t.dZ)),Ar("PreferBrowserTTS",zc(t.b2.di))])));var t,r}),ay=gr((function(e,t){return Ar("#"+Nh(Bh("-",xd(kr(Vc,uc,Pd),ru(" ",xf("-"," ",mf(t)))))),"#"+Qs(e+1))})),oy=gr((function(e,t){var r,n=(r=lc(t)).$?Ol(-1,td(Ys(-1),lc(oc(1,e("#"+t))))):r.a-1;return n<0?As:Ts(n)})),sy=function(e,t,r){for(;;){var n=Pi(Kv&t>>>e,r);if(n.$){var i=n.a;return Pi(Kv&t,i)}var a=n.a;e=e-Ou,t=t,r=a}},uy=(mr(sy),function(e){return e>>>5<<5}),cy=function(e,t){var r=t.a,n=t.b,i=t.c,a=t.d;return e<0||zi(e,r)>-1?As:zi(e,uy(r))>-1?Ts(Pi(Kv&e,a)):Ts(sy(n,e,i))},ly=gr(cy),fy=gr((function(e,t){var r=e.e1;if(1===r.$)return zi(e.es,t)<1;var n=r.a;return zi(e.es,t)<1&&zi(n,t)>0})),dy=function(e,t){return Ol(!0,td(fy(t),e))},hy=(gr(dy),function(e){if(1===e.$){var t=e.a;return Ts(t)}return As}),vy=mr((function(e,t,r){e:for(;;){t:for(;;)switch(r.$){case 0:case 7:return r.a;case 2:case 3:case 4:case 5:case 6:e=e,t=t,r=i=r.a;continue e;case 8:return r.b;case 9:var n=r.a;return py(e,t,n);case 13:if(r.a.$)break t;i=r.a.c;return Er(gy,e,t,i);case 14:var i=r.a;return Er(gy,e,t,i);case 11:var a=r.a;return dy(t,a)?Er(gy,e,t,a.cg):"";case 12:var o=r.a;return Ol("",Kc(hy,Kc((function(e){return e.dt}),cy(o,e))));default:break t}return""}})),py=function(e,t,r){switch(r.$){case 4:var n=r.a;return Er(gy,e,t,n);case 2:n=r.a;return Er(gy,e,t,n);case 3:n=r.a;return Er(gy,e,t,n);case 0:n=r.a;return Er(gy,e,t,n);case 1:n=r.a;return Er(gy,e,t,n);case 5:n=r.a;return Er(gy,e,t,n);case 6:return"preview-lia";case 7:return"preview-link";default:return"qr-code"}},by=(mr(py),function(e,t){return kr(Vc,Sc(kr(vy,e,t)),Nh)}),gy=gr(by),my=by(Du,As),$y=ly(0),yy=kr(Vc,rd(kr(Vc,(function(e){return e.gS}),kr(Vc,my,md))),Dl("Lia")),wy=(kr(Vc,$y,yy),function(e){return Ar("a",e.b?Jc((function(e){var t=e.a,r=e.b;return Jc(Xc,qr([t,r]))}),e):Vf)}),_y=function(e,t,r){return Vr(yd((function(r,n,i){return to(e(r),t(n),i)}),{},r))},Sy=mr(_y),Cy=function(e,t){return Zc(function(){if(t.$){var r=t.a;return qr([Ar("node_inline",Xc(r))])}var n=t.a,i=t.b,a=t.c;return qr([Ar("node",Xc(n)),Ar("attr",_y(tc,Xc,zp(i))),Ar("children",Jc(e,a))])}())},ky=(gr(Cy),function(e,t,r){return qr([Ar(e,Ey(t)),wy(r)])}),Ey=(mr(ky),function(e){return Zc(function(){switch(e.$){case 0:var t=e.a,r=e.b;return qr([Ar("Chars",Xc(t)),wy(r)]);case 1:t=e.a,r=e.b;return qr([Ar("Symbol",Xc(t)),wy(r)]);case 2:var n=e.a;r=e.b;return ky("Bold",n,r);case 3:n=e.a,r=e.b;return ky("Italic",n,r);case 4:n=e.a,r=e.b;return ky("Strike",n,r);case 5:n=e.a,r=e.b;return ky("Underline",n,r);case 6:n=e.a,r=e.b;return ky("Superscript",n,r);case 7:t=e.a,r=e.b;return qr([Ar("Verbatim",Xc(t)),wy(r)]);case 8:var i=e.a,a=e.b;r=e.c;return qr([Ar("Formula",Xc(i)),Ar("body",Xc(a)),wy(r)]);case 9:var o=e.a;r=e.b;return qr([Ar("Ref",My(o)),wy(r)]);case 10:t=e.a,r=e.b;return qr([Ar("FootnoteMark",Xc(t)),wy(r)]);case 11:var s=e.a;r=e.b;return qr([Ar("EInline",Ty(s.cg)),Ar("begin",Gc(s.es)),Ar("end",Ol(Vf,td(Gc,s.e1))),Ar("playback",zc(s.ga)),Ar("voice",Xc(s.g$)),Ar("id",Gc(s.fr)),wy(r)]);case 14:var u=e.a;r=e.b;return qr([Ar("Container",Ty(u)),wy(r)]);case 13:var c=e.a;r=e.b;return Ay(c,r);default:var l=e.a;r=e.b;return qr([Ar("Script",Gc(l)),wy(r)])}}())}),Ry=function(e,t,r,n){var i=r.a,a=r.b;return Zc(qr([Ar(e,Ty(t)),Ar("stream",zc(i)),Ar("url",Xc(a)),Iy(n)]))},xy=($r(Ry),function(e,t,r,n){return Zc(qr([Ar(e,Ty(t)),Ar("url",Xc(r)),Iy(n)]))}),My=($r(xy),function(e){switch(e.$){case 0:var t=e.a,r=e.b,n=e.c;return xy("Link",t,r,n);case 1:t=e.a,r=e.b,n=e.c;return xy("Mail",t,r,n);case 5:t=e.a,r=e.b,n=e.c;return xy("Embed",t,r,n);case 2:t=e.a,r=e.b,n=e.c;return xy("Image",t,r,n);case 3:t=e.a,r=e.b,n=e.c;return Ry("Audio",t,r,n);case 4:t=e.a,r=e.b,n=e.c;return Ry("Movie",t,r,n);case 6:r=e.a;return xy("Preview_Lia",Xi,r,As);case 7:r=e.a;return xy("Preview_Link",Xi,r,As);default:r=e.a,n=e.b;return xy("QR_Link",Xi,r,n)}}),Iy=function(e){return Ar("title",Ol(Vf,td(Ty,e)))},Ty=function(e){return Jc(Ey,e)},Ay=function(e,t){return qr([Ar("IHTML",Cy(Ey,e)),wy(t)])},Oy=(gr(Ay),function(e,t,r){var n=r.c,i=r.d,a=gr((function(t,r){if(t.$){var n=t.a;return Ui(e,r,n)}var i=t.a;return Ui(a,r,i)}));return Ui(e,Ui(a,t,n),i)}),Dy=mr(Oy),Py=function(e,t){return Vr(Oy(zr(e),[],t))},qy=gr(Py),Ly=function(e){return Zc(qr([function(){if(e.$){t=e.a;return Ar("Script",Xc(t))}var t=e.a;return Ar("Link",Xc(t))}()]))},Uy=function(e){switch(e){case 0:return"ar";case 1:return"bg";case 2:return"de";case 3:return"es";case 4:return"fa";case 5:return"hy";case 6:return"ko";case 7:return"nl";case 8:return"ru";case 9:return"tw";case 10:return"uk";case 11:return"zh";default:return"en"}},Ny=gr((function(e,t){return Zc(qr([Ar("title",Ty(Ol(qr([Ov(t.gS,Xi)]),td((function(e){return e.gS}),cy(0,t.bU))))),Ar("str_title",Xc((n=t.bU,md(Ol("Lia",td(my,td((function(e){return e.gS}),cy(0,n)))))))),Ar("definition",(r=t.eR,Zc(qr([Ar("author",Xc(r.eo)),Ar("date",Xc(r.eL)),Ar("email",Xc(r.e$)),Ar("language",Xc(r.fB)),Ar("logo",Xc(r.fL)),Ar("version",Xc(r.bd)),Ar("base",Xc(r.eq)),Ar("narrator",Xc(r.fW)),Ar("onload",Xc(r.f5)),Ar("comment",Ty(r.cf)),Ar("attributes",Jc(Ty,r.en)),Ar("resources",Jc(Ly,r.gj)),Ar("translation",_y(tc,Xc,r.gU)),Ar("macro",_y(tc,Xc,r.cU))])))),Ar("comment",Xc(my(t.eR.cf))),Ar("readme",Xc(t.ge)),Ar("url",Xc(t.d4)),Ar("origin",Xc(t.f7)),Ar("sections",Py(e,t.bU)),Ar("section_active",Gc(t.gp)),Ar("version",Gc(Ol(0,lc(Ol("0",Sf(ru(".",t.eR.bd))))))),Ar("translation",Xc(Uy(t.gU)))]));var r,n})),By=function(e){return Zc(qr([Ar("title",Ty(e.gS)),Ar("code",Xc(e.eB)),Ar("indentation",Gc(e.ft))]))},Fy=Ny(By),jy=Fy,Ky=ol("store"),Hy=(kr(Vc,jy,Ky),function(e,t){return{$:0,a:e,b:t}}),Wy=gr(Hy),Vy={$:1},zy={$:3},Gy={$:2},Jy=function(e){return{$:5,a:e}},Yy=function(e){return{$:7,a:e}},Zy=function(e){return{$:6,a:e}},Xy=function(e){return{$:8,a:e}},Qy=function(e){return""!==e.gr},ew=function(e,t){return ct(t,Qy(e)?Pr(e,t.e6):t.e6)},tw=gr(ew),rw=function(e,t){return ct(t,bd(t.e6,xd(Qy,e)))},nw=(gr(rw),function(e){return lt(e,e.R.$?As:Ts(!1))}),iw=function(e,t){return ft(t,e)},aw=gr(iw),ow=function(e){return!e.a},sw=function(e,t,r){return Zc(qr([Ar("table",Xc(e)),Ar("id",Gc(t)),Ar("data",Ol(Vf,r))]))},uw=(mr(sw),function(e,t){return il("load",sw(e,t,As))}),cw=(gr(uw),function(e,t,r){return Ye(r,Pr(Ar(e,t),r.gT))}),lw=mr(cw),fw=function(e,t,r,n){return ow(e)?n:Pr(cw(r,t,uw(r,t)),n)},dw=($r(fw),function(e){return cy(e.gp,e.bU)}),hw=function(e,t,r){return Gs(((n=e.$c()).ap=t.ap,n.b$=t.b$,n.b1=t.b1,n.bO=t.bO,n.b_=t.b_,n.bw=t.bw,n.cw=t.cw,n.e2=As,n.eR=t.eQ?Ts(t.cm):As,n.eZ=t.eZ,n.eu=r,n.f8=!0,n));var n},vw=(mr(hw),gr((function(e,t){return{$:13,a:e,b:t}}))),pw=gr((function(e,t){return{$:3,a:e,b:t}})),bw=gr((function(e,t){return{$:10,a:e,b:t}})),gw=function(e){return{$:11,a:e}},mw=gr((function(e,t){return{$:7,a:e,b:t}})),$w=gr((function(e,t){return{$:16,a:e,b:t}})),yw=function(e,t){return{$:14,a:e,b:t}},ww=gr(yw),_w=gr((function(e,t){return{$:15,a:e,b:t}})),Sw=gr((function(e,t){return{$:4,a:e,b:t}})),Cw=mr((function(e,t,r){return{$:6,a:e,b:t,c:r}})),kw=gr((function(e,t){return{$:1,a:e,b:t}})),Ew=gr((function(e,t){return{$:9,a:e,b:t}})),Rw=gr((function(e,t){return{$:5,a:e,b:t}})),xw=gr((function(e,t){return{$:12,a:e,b:t}})),Mw=function(e){return jv((function(t){return dt(t,!0,bd(t.ft,qr([e])))}))},Iw=function(e){return rh(Dg,ch(e,fh(Mw("[ ]{2,}"),sh(Uh,$h(Zh(Ch("]:")),Ch("[^"))))))},Tw=function(e,t){return{$:17,a:e,b:t}},Aw=(gr(Tw),gr((function(e,t){if(t.b&&!t.a.$){var r=t.a,n=r.a,i=r.b,a=t.b;return Ra("--",n)?Tw(e,Pr(Ov(oc(2,n),i),a)):Ag(e,t)}return Ag(e,t)}))),Ow=function(e){return e<0?-e:e},Dw=function(e,t,r){return e(t(r))},Pw=mr(Dw),qw=function(e,t){for(;;){if(!t.b)return!0;if(!e(t.a))return!1;t=t.b}},Lw=gr(qw),Uw=function(e){return Od(Od(e))},Nw=function(e,t){for(;;){if(!t.b)return As;var r=t.a,n=t.b;if(e<=0)return Ts(r);e=e-1,t=n}},Bw=gr(Nw),Fw=function(e,t,r){for(;;){if(t<=0)return e;e=Pr(r,e),t=t-1,r=r}},jw=(mr(Fw),function(e,t){return Fw(Xi,e,t)}),Kw=(gr(jw),function(e){return ou((function(e,t){return ta((function(e,t){return bd(t,qr([e]))}),e,t)}),jw(uu(Ol(Xi,Sf(e))),Xi),e)}),Hw=function(e){return kr(Vc,Kw,Bw(e))},Ww=function(e,t){return Cd(e,0,t)},Vw=gr(Ww),zw=function(e){return au(Vw,hf,e)},Gw=ld(As),Jw=kr(Vc,(function(e){return e.bt}),Gw),Yw=function(e){return Sc(Sc(e))},Zw=function(e){if(e.b){var t=e.a,r=e.b;return Ts(au(Fu,t,r))}return As},Xw=function(e,t){return zi(e,t)<0?e:t},Qw=gr(Xw),e_=function(e){if(e.b){var t=e.a,r=e.b;return Ts(au(Qw,t,r))}return As},t_=function(e,t){for(;;){if(-2===t.$)return e;var r=t.d,n=t.e;e=t_(e+1,n),t=r}},r_=(gr(t_),function(e){return t_(0,e)}),n_=function(e){return r_(e)},i_=gr((function(e,t){return kr(Vc,Yw(t),kr(Vc,Cb,kr(Vc,kr(su,gr((function(e,t){var r=t.a,n=t.b;return e?Ar(r+1,n):Ar(r,n+1)})),Ar(0,0)),(function(t){var r=t.a;return zi(r/(r+t.b),e)>-1}))))})),a_=function(e){if(e.b){var t=e.a,r=e.b;return Ar(t,r)}return Ar(Xi,Xi)},o_=function(e,t){if(kr(Uw,Jw,pf(Xp,t))){var r=_c(kr(Vc,Sf,Hc((function(e){return e.bt}))),t);if(qw(ld(As),r)){if(Tr(e,As)||1!==uu(r)){if(Tr(uu(r),n_(zw(pf(tc,r))))){var n=Ol(qr([As]),td(Sc((function(e){return e.bt})),Kc(Xp,e)));return uu(n)>1&&qw(ld(As),n)?5:Er(i_,.3,Jw,a_(Kw(t)).b)?1:0}return Er(i_,.3,Jw,a_(Kw(t)).b)?2:0}return 4}if(Tr(e,As))return 0;if(1===uu(r))return 4;if(Tr(td(Sc((function(e){return e.dN})),Kc(Xp,e)),td(Sc((function(e){return e.dN})),kr(Hw,0,t))))return 10;if(uu(t)*Ol(1,td(uu,e))>=50)return 7;var i=pf(kr(Vc,bf(tc),Zw),kr(Yw,(function(e){return e.bt}),a_(Kw(t)).b));return zi(Ow(Ol(0,Zw(i))),10*Ow(Ol(0,e_(i))))>0?6:3}return 0},s_=(gr(o_),xb("data-type")),u_=kr(Vc,Dl(""),kr(Vc,mf,kr(Vc,md,(function(e){switch(e){case"lineplot":case"line":return Ts(1);case"scatterplot":case"scatter":return Ts(2);case"barchart":case"bar":return Ts(3);case"piechart":case"pie":return Ts(4);case"heatmap":return Ts(5);case"map":return Ts(11);case"radar":return Ts(6);case"graph":return Ts(10);case"parallel":return Ts(7);case"sankey":return Ts(8);case"boxplot":return Ts(9);case"funnel":return Ts(12);case"none":return Ts(0);default:return As}})))),c_=(kr(Vc,s_,u_),function(e,t,r,n){return new N(e,n,t,r)}),l_=($r(c_),function(e){if(0===e.length||/[\sxbo]/.test(e))return As;var t=+e;return t==t?Ts(t):As}),f_=nu(" "),d_=kr(Vc,Sf,Hc(l_)),h_=(kr(Vc,f_,d_),mr((function(e,t,r){var n=r.a,i=r.b,a=md(Er(gy,e,t,i));return c_(n,i,a,Wc(f_,d_,a))}))),v_=gr((function(e,t){return Yw(kr(h_,e,t))})),p_=mr((function(e,t,r){return(n=t.$c()).eA=function(){var n=Wc(s_,u_,e);if(n.$){if(Tr(Rb("data-src",e),As)){var i=kr(Tb,"data-transpose",e)?function(){var e=t.$c();return e.eu=a_(Kw(Pr(t.fj,t.eu))).b,e.fj=function(){var e=Sf(t.fj);if(1===e.$)return Xi;var r=e.a;return Pr(r,Ol(Xi,kr(Hw,0,t.eu)))}(),e}():t;return o_(Tr(i.fj,Xi)?As:Ts(_c(kr(h_,r,As),i.fj)),Er(v_,r,As,i.eu))}return 11}return n.a}(),n;var n})),b_=Wc(xh,Mh,"\\n*"),g_=function(e){return fh(jp,rh(Gv(!0),ch(e,fh(Dh(fh(tp,b_)),fh(Wc(xh,Mh,"}}--[\t ]*"),ch(Dh($h(Wc(xh,Mh,"[A-Za-z0-9 ]+"),$h(Lp,Kp))),sh(mr((function(e,t,r){return Or(e,t,r)})),$h(Xv,Wc(xh,Mh,"[\t ]*--{{")))))))))},m_=function(e,t){return new B(e,t)},$_=(gr(m_),{$:3}),y_={$:5},w_={$:1},__=function(e,t){return{$:9,a:e,b:t}},S_=(gr(__),function(e,t,r){return{$:10,a:e,b:t,c:r}}),C_=(mr(S_),function(e,t){return{$:7,a:e,b:t}}),k_=(gr(C_),{$:5}),E_=function(e,t){return{$:1,a:e,b:t}},R_=(gr(E_),{$:5}),x_=function(e){return{$:4,a:e}},M_={$:11},I_={$:10},T_={$:3},A_=function(e){return{$:0,a:e}},O_=function(e){return{$:2,a:e}},D_={$:2},P_={$:7},q_={$:0},L_={$:8},U_={$:7},N_=function(e,t,r){for(;;){if(!t.b)return _u(r);var n=t.a,i=n.a,a=n.b,o=t.b;if(i(e))e=e,t=o,r=Pr(a,r);else e=e,t=o,r=r}},B_=(mr(N_),function(e,t){return N_(e,t,Xi)}),F_=(gr(B_),function(e,t){return Tr(t,Xi)?A_(e):x_(t)}),j_=(gr(F_),function(e,t){return F_(e,B_(t,qr([Ar((function(e){var t=e.e;return Tr(t,D_)||Tr(t,U_)||Tr(t,L_)}),E_(q_,R_)),Ar((function(e){return Tr(e.f,D_)||Tr(e.f,U_)||Tr(e.f,L_)}),E_(q_,T_)),Ar(kr(Vc,(function(e){return e.b}),Lu(k_)),E_(q_,w_)),Ar(kr(Vc,(function(e){return e.d}),Lu(k_)),E_(q_,P_)),Ar(kr(Vc,(function(e){return e.r}),Lu(M_)),E_(q_,__(R_,P_))),Ar(kr(Vc,(function(e){return e.q}),Lu(I_)),E_(q_,__(R_,w_))),Ar(kr(Vc,(function(e){return e.x}),Lu(I_)),E_(q_,__(T_,P_))),Ar(kr(Vc,(function(e){return e.w}),Lu(M_)),E_(q_,__(T_,w_)))])))}),K_=(gr(j_),function(e,t,r){if(Tr($_,r.d)||Tr($_,r.b))return A_(t);var n,i=j_(t,r);if(4===i.$){var a=i.a;return x_(bd(a,qr([(n=e,{$:6,a:n})])))}return A_(t)}),H_=(mr(K_),function(e,t,r){return{$:3,a:e,b:t,c:r}}),W_=(mr(H_),function(e,t){return F_(e,B_(t,qr([Ar((function(e){return Tr(L_,e.r)&&Tr(L_,e.x)}),H_(4,T_,__(R_,R_))),Ar((function(e){return Tr(M_,e.r)&&Tr(I_,e.x)}),H_(4,__(T_,P_),__(R_,R_)))])))}),V_=(gr(W_),{$:1}),z_=function(e){return{$:2,a:e}},G_={$:6},J_=function(e){return{$:6,a:e}},Y_={$:0},Z_=function(e){return{$:4,a:e}},X_=function(e){return{$:8,a:e}},Q_=function(e,t){return F_(e,B_(t,qr([Ar((function(e){return Tr(k_,e.d)&&Tr(k_,e.b)}),E_(P_,z_(2))),Ar((function(e){return Tr(D_,e.e)&&Tr(D_,e.f)}),E_(R_,Z_(2))),Ar((function(e){return Tr(L_,e.q)&&Tr(L_,e.x)}),E_(q_,__(R_,z_(2)))),Ar((function(e){return Tr(I_,e.q)&&Tr(I_,e.x)}),E_(__(R_,w_),S_(2,T_,P_))),Ar((function(e){return Tr(M_,e.r)&&Tr(M_,e.w)}),E_(__(R_,P_),S_(2,T_,w_))),Ar((function(e){return(Tr(D_,e.e)||Tr(L_,e.e)||Tr(U_,e.e))&&Tr(k_,e.d)}),x_(qr([H_(1,P_,__(J_(.5),w_)),E_(R_,Z_(.5))]))),Ar((function(e){return(Tr(D_,e.e)||Tr(L_,e.e)||Tr(U_,e.e))&&Tr(k_,e.b)}),x_(qr([H_(1,J_(.5),__(Z_(.5),w_)),E_(R_,Z_(.5))]))),Ar((function(e){return(Tr(D_,e.f)||Tr(L_,e.f)||Tr(U_,e.f))&&Tr(k_,e.d)}),x_(qr([H_(1,Z_(.5),__(J_(.5),P_)),E_(T_,J_(.5))]))),Ar((function(e){return(Tr(D_,e.e)||Tr(L_,e.e)||Tr(U_,e.e))&&Tr(G_,e.d)}),x_(qr([H_(1,__(T_,P_),__(J_(.5),w_)),E_(R_,Z_(1.5))]))),Ar((function(e){return(Tr(D_,e.f)||Tr(L_,e.f)||Tr(U_,e.f))&&Tr(G_,e.d)}),H_(1,Z_(1.5),__(J_(.5),P_))),Ar((function(e){return(Tr(D_,e.f)||Tr(L_,e.f)||Tr(U_,e.f))&&Tr(G_,e.b)}),H_(1,__(T_,w_),__(Z_(.5),P_))),Ar((function(e){return(Tr(D_,e.e)||Tr(L_,e.e)||Tr(U_,e.e))&&Tr(G_,e.b)}),x_(qr([H_(1,Z_(.5),__(Z_(.5),w_)),E_(R_,Z_(1.5))]))),Ar((function(e){return(Tr(D_,e.f)||Tr(L_,e.f)||Tr(U_,e.f))&&Tr(k_,e.b)}),x_(qr([H_(1,w_,__(Z_(.5),P_)),E_(T_,J_(.5))]))),Ar((function(e){return Tr(M_,e.w)&&Tr(k_,e.d)}),H_(3,__(T_,w_),S_(2,J_(.5),P_))),Ar((function(e){return Tr(I_,e.q)&&Tr(k_,e.d)}),H_(3,P_,__(R_,z_(2)))),Ar((function(e){return Tr(M_,e.r)&&Tr(k_,e.b)}),H_(3,__(R_,P_),__(T_,z_(2)))),Ar((function(e){return Tr(I_,e.r)&&Tr(k_,e.b)}),H_(3,__(R_,P_),__(T_,z_(20)))),Ar((function(e){return Tr(I_,e.x)&&Tr(k_,e.b)}),H_(3,w_,__(T_,X_(2)))),Ar((function(e){return Tr(D_,e.e)&&Tr(I_,e.x)}),H_(8,__(T_,P_),S_(2,R_,z_(.5)))),Ar((function(e){return Tr(D_,e.e)&&Tr(M_,e.w)}),H_(8,R_,S_(2,T_,z_(.5)))),Ar((function(e){return Tr(D_,e.f)&&Tr(I_,e.q)}),H_(8,__(R_,w_),S_(2,T_,X_(.5)))),Ar((function(e){return Tr(D_,e.f)&&Tr(M_,e.r)}),H_(8,T_,S_(2,R_,X_(.5)))),Ar((function(e){return Tr(k_,e.b)&&Tr(I_,e.q)}),H_(2,__(R_,w_),T_)),Ar((function(e){return Tr(k_,e.d)&&Tr(M_,e.r)}),H_(2,P_,R_)),Ar((function(e){return Tr(k_,e.d)&&Tr(I_,e.x)}),H_(2,__(T_,P_),R_)),Ar((function(e){return Tr(k_,e.b)&&Tr(M_,e.w)}),H_(2,w_,T_)),Ar((function(e){return Tr(G_,e.b)&&Tr(I_,e.q)}),H_(4,__(R_,w_),Z_(2))),Ar((function(e){return Tr(G_,e.d)&&Tr(M_,e.r)}),H_(4,__(T_,P_),J_(2))),Ar((function(e){return Tr(k_,e.d)&&Tr(V_,e.w)}),H_(4,__(T_,z_(2)),__(R_,X_(3)))),Ar((function(e){return Tr(Y_,e.x)}),H_(4,w_,__(T_,X_(3)))),Ar((function(e){return Tr(V_,e.w)}),H_(4,__(T_,z_(2)),__(R_,X_(3)))),Ar((function(e){return Tr(Y_,e.r)}),H_(4,__(R_,X_(2)),__(T_,z_(3)))),Ar((function(e){return Tr(V_,e.q)}),H_(4,P_,__(R_,z_(3)))),Ar((function(e){return Tr(D_,e.e)&&Tr(I_,e.q)}),x_(qr([E_(q_,R_),E_(q_,__(R_,w_))]))),Ar((function(e){return Tr(D_,e.e)&&Tr(M_,e.r)}),x_(qr([E_(q_,R_),E_(q_,__(R_,P_))]))),Ar((function(e){return Tr(I_,e.q)&&Tr(M_,e.r)}),x_(qr([E_(q_,__(R_,w_)),E_(q_,__(R_,P_))])))])))},eS=(gr(Q_),function(e){return Ar(uu(e),Ol(0,Zw(_c(ic,e))))}),tS=function(e,t){return F_(e,B_(t,qr([Ar((function(e){return!Tr($_,e.d)||!Tr($_,e.b)}),E_(w_,X_(2)))])))},rS=(gr(tS),function(e,t){return F_(e,B_(t,qr([Ar(kr(Vc,(function(e){return e.d}),Lu(I_)),E_(__(T_,w_),X_(4))),Ar(kr(Vc,(function(e){return e.d}),Lu(D_)),E_(__(T_,w_),X_(3))),Ar(kr(Vc,(function(e){return e.b}),Lu(M_)),E_(__(T_,P_),z_(4))),Ar(kr(Vc,(function(e){return e.b}),Lu(M_)),E_(__(T_,P_),z_(4))),Ar(kr(Vc,(function(e){return e.b}),Lu(D_)),E_(__(T_,P_),z_(3))),Ar(kr(Vc,(function(e){return e.x}),Lu(D_)),E_(__(T_,X_(2)),z_(3))),Ar(kr(Vc,(function(e){return e.w}),Lu(D_)),E_(__(T_,P_),z_(3))),Ar((function(e){return!Tr($_,e.d)&&!Tr($_,e.b)}),E_(__(T_,w_),X_(2))),Ar((function(e){return Tr(Y_,e.x)}),H_(1,__(T_,P_),S_(.15,T_,X_(4)))),Ar((function(e){return Tr(Y_,e.d)}),H_(1,__(Z_(.75),X_(1.6)),S_(.2,T_,z_(4)))),Ar((function(e){return Tr(V_,e.w)}),H_(1,__(Z_(1.15),z_(1.7)),S_(.15,R_,X_(4)))),Ar((function(e){return Tr(V_,e.b)}),H_(1,__(T_,z_(1)),S_(.2,J_(2),z_(4))))])))}),nS=(gr(rS),function(e,t){return F_(e,B_(t,qr([Ar((function(e){return Tr(L_,e.q)&&Tr(L_,e.w)}),H_(4,R_,__(T_,T_))),Ar((function(e){return Tr(I_,e.q)&&Tr(M_,e.w)}),H_(4,__(R_,w_),__(T_,T_)))])))}),iS=(gr(nS),function(e,t){var r=t.a,n=t.b;e:for(;;)switch(n.$){case 2:return Tr($_,e.d)&&Tr($_,e.b)?A_(r):E_(T_,__(R_,R_));case 5:return tS(r,e);case 6:return rS(r,e);case 7:return j_(r,e);case 9:switch(n.a.$){case 3:n.a;return Tr(D_,e.e)?O_(R_):Tr(I_,e.q)?O_(__(R_,w_)):Tr(M_,e.r)?O_(__(R_,P_)):A_(r);case 5:n.a;return Tr(D_,e.f)?O_(T_):Tr(I_,e.x)?O_(__(T_,P_)):Tr(M_,e.w)?O_(__(T_,w_)):A_(r);case 1:n.a;return Tr(k_,e.d)||Tr(k_,e.b)?O_(w_):A_(r);case 7:n.a;return Tr(k_,e.d)||Tr(k_,e.b)?O_(P_):A_(r);default:break e}case 8:return Q_(r,e);case 10:return E_(__(R_,w_),S_(2,T_,P_));case 11:return E_(__(T_,w_),S_(2,R_,P_));case 0:return nS(r,e);case 1:return W_(r,e);case 12:var i=j_(r,e);if(4===i.$){var a=i.a;return x_(Pr(y_,a))}return A_(r);case 14:var o=n.a;return K_(o,r,e);case 4:var s=n.a;return C_(s,eS(up(s)));default:break e}return A_(r)}),aS=(gr(iS),{$:13}),oS=function(e,t){return Ol(aS,td(Yf,Bd(e,t)))},sS=(gr(oS),function(e,t,r){return{b:oS(Ar(e+1,t),r),e:oS(Ar(e,t-1),r),q:oS(Ar(e+1,t-1),r),r:oS(Ar(e-1,t-1),r),f:oS(Ar(e,t+1),r),w:oS(Ar(e+1,t+1),r),x:oS(Ar(e-1,t+1),r),d:oS(Ar(e-1,t),r)}}),uS=(mr(sS),function(e){return{$:4,a:e}}),cS=function(e,t){var r=Ar(e,t);if(4===r.a.$&&4===r.b.$){var n=r.a.a,i=r.b.a;return uS(n+"\n"+i)}return e},lS=(gr(cS),function(e,t){for(;;){var r=Ar(Sf(t),Xp(t));if(1===r.a.$){r.a;return e}if(1===r.b.$){r.b;return e}var n=r.a.a,i=r.b.a,a=ou((function(e,t){var r=e.a,n=r.a,i=r.b,a=e.b,o=a.a,s=a.b,u=t.a,c=t.b,l=c.a,f=l.a,d=l.b,h=c.b.b,v=t.c;return Tr(n,f)&&u+1===i?Or(u+1,Ar(Ar(f,d),Ar(o,cS(h,s))),v):Or(u,c,Pr(Ar(r,a),v))}),Or(n.a.b,n,Xi),i),o=a.b,s=a.c;e=Pr(o,e),t=_u(s)}}),fS=(gr(lS),ga),dS=function(e){return kr(Vc,pl,kr(Vc,fS(e),kr(Vc,uS,Uh(" "))))},hS=function(e){return{$:9,a:e}},vS=function(e){return{$:14,a:e}},pS={$:12},bS=yr((function(e,t,r,n,i){return a=function(){if(Tr(n,e)){var a=Ar(i._,i.a2);e:for(;;)switch(a.a){case 0:return ht(i,1);case 1:if(a.b.b)return a.b.a?(a.b,ht(i,2)):(a.b,ht(i,0));break e;case 2:if(a.b.b&&a.b.a)return a.b,s=void 0,(s=i.$c())._=0,s.dt=function(){var e=Ar(t,i.dt);if(e.a&&e.b.b&&4===e.b.a.b.b.$){var r=e.b,n=r.a,a=n.a,o=n.b.b.a,s=r.b;return Pr(Ar(a,Ar(" ",uS(El(1,o)+"  "))),s)}var u=e.b;return Ol(Xi,Xp(u))}(),s;break e;default:break e}return vt(i,function(){var e=Ar(t,i.dt);if(e.a){if(e.b.b&&4===e.b.a.b.b.$){var a=e.b,o=a.a,s=o.a,u=o.b.b.a,c=a.b;return Pr(Ar(s,kr(dS,u,n)),c)}return Pr(Ar(Ar(i.d9,r),kr(dS,"",n)),i.dt)}return Pr(Ar(Ar(i.d9,r),Ar(n,$_)),i.dt)}())}if(i._>0)return vt(i,function(){var e=Ar(t,i.dt);if(e.a){if(e.b.b&&4===e.b.a.b.b.$){var a=e.b,o=a.a,s=o.a.a,u=o.b.b.a,c=a.b;return Tr(s+ic(u),i.d9)?Pr(Ar(Ar(s,r),kr(dS,u,n)),c):Pr(Ar(Ar(i.d9,r),kr(dS,"",n)),i.dt)}return Pr(Ar(Ar(i.d9+1-i._,r),kr(dS,"",n)),i.dt)}return Pr(Ar(Ar(i.d9,r),Ar(n,$_)),i.dt)}());var o=function(e){switch(e){case" ":return As;case"-":return Ts(k_);case"_":return Ts(G_);case"+":return Ts(U_);case".":case"'":case",":case"`":case"´":return Ts(L_);case">":return Ts(hS(P_));case"<":return Ts(hS(w_));case"V":case"v":return Ts(hS(T_));case"^":case"A":return Ts(hS(R_));case"/":return Ts(I_);case"\\":return Ts(M_);case"(":return Ts(Y_);case")":return Ts(V_);case"|":return Ts(D_);case"#":return Ts(pS);case"O":case"o":return Ts(vS(!1));case"*":return Ts(vS(!0));default:return Ts($_)}}(n);if(1===o.$)return i;var s,u=o.a;return vt(i,Pr(Ar(Ar(i.d9,r),Ar(n,u)),i.dt))}(),(o=a.$c()).a2=Pr(Tr(n,e),a.a2),o.d9=a.d9+1,o;var a,o})),gS=function(e){return e.replace(/\s+$/,"")},mS=mr((function(e,t,r){return kr(Vc,gS,kr(Vc,Ud,kr(Vc,kr(su,Er(bS,e,t,r),new F(Xi,Xi,0,0)),(function(e){return e.dt}))))})),$S=function(e,t){var r=kr(mS,t.dF.gZ,e),n=Cb(vu(r,t.fK));if(t.dF.fU){var i=ou((function(e,t){var r=e.a,n=e.b,i=n.a,a=n.b,o=t.a,s=t.b;return 4===a.$?Ar(Pr(Ar(r,Ar(i,a)),o),s):Ar(o,Pr(Ar(r,Ar(i,a)),s))}),Ar(Xi,Xi),n),a=i.a,o=i.b;return bd(o,_u(lS(Xi,na(kr(Vc,Hu,Yf),a))))}return n},yS=(gr($S),function(e,t){var r=up(t),n=eS(r),i=n.a,a=n.b;return new j(a,r,i,e)}),wS=(gr(yS),function(e){return 8*e}),_S=16,SS=function(e){return e*_S},CS=function(e,t){var r=yS(e,t),n=$S(!0,r),i=zp(n);return ou((function(e,t){var r=e.a,n=r.a,a=r.b,o=e.b,s=o.a,u=o.b,c=m_(wS(n)+4,SS(a)+8),l=iS(sS(n,a,i),Ar(s,u));if(7===l.$){var f=l.a,d=l.b;return(h=t.$c()).cx=Pr(Ar(f,Ar(c,d)),t.cx),h}var h,v=l;return function(){var e=t.$c();return e.dT=Pr(Ar(c,v),t.dT),e}()}),new K(r.ce,Xi,r.du,e,Xi),n)},kS=(gr(CS),function(){var e=rh(ab,Fv(kr(Vc,(function(e){return e.cm}),kr(Vc,(function(e){return e.eq}),Bv))));return fp(Xi,fh(Dh(fh(tp,Wc(xh,Mh,"[\t ]*\\n"))),$h(Th(e),$h(Lp,ob))))}()),ES=sh((function(e){return{$:0,a:e}}),fh(Wc(xh,Mh,"-{3,}"),kS)),RS=jv(ep(!0)),xS=(RS.f,kr(tv,{$:19},fh(Th(Jh),fh(tp,RS)))),MS=rp,IS=(uh(MS),function(e){return ch(Ig,fh(jp,ch(yh(function(e){return $h(_h(fh(b_,e),Wc(xh,Mh,"[\t ]*\\*{3,}")),fh(Wc(xh,Mh,"[\t ]*\\*{3,}\\n+"),tp))}(e),sh(MS,e)),fh(yh(rv(Ch("\n")),RS),fh(Wc(xh,Mh,"}}[\t ]*"),sh(mr((function(e,t,r){return at(e,t,r)})),$h(Mg,Wc(xh,Mh,"[\t ]*{{"))))))))}),TS=fh(jv(ep(!1)),Fv((function(e){if(Tr(e.ft,Xi))return Bv(0);if(e.cH)return rv(Bv(0));var t=Nh(e.ft);if(""===md(t))return rv(Dh(Wc(xh,Mh,t)));var r=gS(t);return rv(Er(qu,Dh(Ch(Zd(ic(t)-ic(r)," "))),dh,Wc(xh,Mh,r)))}))),AS=Ch("\n"),OS=(AS.f,fh(AS,TS)),DS=(N$=rh((function(e){return Tr(e,As)?Bv(0):Jv("")}),Dh(yh(Wc(xh,Mh,"[ \t]*--{{\\d+}}--"),Wc(xh,Mh,"[ \t]*{{\\d+}}")))),gr((function(e,t){var r=Er(th,N$,e,t);if(r.c.$)return r;var n=r.a,i=r.c.a;return Or(n,t,Gs(i))}))),PS=(DS.f,sh(kr(Vc,Fh(qr([Ov(" ",Xi)])),kr(Vc,Cb,mb)),$h(lp(fh(AS,$h(Um,tp))),fh(RS,DS)))),qS=function(e,t){return{$:1,a:e,b:t}},LS=(gr(qS),function(e,t){return{$:0,a:e,b:t}}),US=(gr(LS),function(e,t){return new B(e,t)}),NS=gr(US),BS=function(e,t,r,n,i,a){var o=mr((function(n,i,a){e:for(;;){var o=a.a,s=a.b;if(o.b){var u=o.a,c=u.a,l=u.b,f=o.b;if(zi(c,n)<0){n=n,i=i,a=Ar(f,Er(e,c,l,s));continue e}return zi(c,n)>0?Ar(o,Er(r,n,i,s)):Ar(f,Rr(t,c,l,i,s))}return Ar(o,Er(r,n,i,s))}})),s=$d(o,Ar(Us(n),a),i),u=s.a,c=s.b;return ou((function(t,r){var n=t.a,i=t.b;return Er(e,n,i,r)}),c,u)},FS=(wr(BS),gr((function(e,t){return BS(kd,$r((function(e,t,r,n){return Cd(e,Dr(t,r),n)})),kd,e,t,rf)}))),jS=function(e,t){if(-2===t.$)return tf;var r=t.a,n=t.b,i=t.c,a=t.d,o=t.e;return wd(r,n,kr(e,n,i),jS(e,a),jS(e,o))},KS=function(e,t){if(-2===t.$)return tf;var r=t.a,n=t.b,i=t.c,a=t.d,o=t.e;return wd(r,n,e(n,i),KS(e,a),KS(e,o))},HS=(gr(jS),Eh("expected a float",rh(Yv,sh(l_,Wc(xh,Mh,"-?(?:0|[1-9]\\d*)\\.\\d+"))))),WS=yh(HS,sh(Au,fh(fp(".",Ch(".")),Zv))),VS=(WS.f,function(e,t){return $$(e,t)}),zS=(gr(VS),B$=mr((function(e,t,r){return Ar(Ar(""===(n=md(e))?" ":n,r),zp(_c((function(e){return Ar(e,Ia(pl(e),t))}),Bs(VS(" ",zw(Ud(t)))))));var n})),fh(Wc(xh,Mh,"[\t ]*\\n"),ch(Dh(fh(Ch(")"),ch(Wc(xh,Mh,"[^)]+"),sh(Uh,$h(Wc(xh,Mh,"[A-Za-z\\+\\*#]?"),fh(Ih,Ch("("))))))),ch(Wc(xh,Mh,"[ \\*a-zA-Z\\+#]*"),sh(B$,fh(Ch("|"),Wc(xh,Mh,"[^\n|]*"))))))),GS=function(e,t,r){return Ar(t,(r-t)/e)},JS=(mr(GS),function(e,t){for(;;){var r=Ar(t,e);if(!r.a.b)return!0;if(1!==r.b.$){var n=r.a,i=(o=n.a,s=n.b,r.b.a);if(Tr(o,i))return!1;e=Ts(o),t=s}else{var a=r.a,o=a.a,s=a.b;r.b;e=Ts(o),t=s}}}),YS=(gr(JS),function(e){for(var t=Pr(void 0,Xi),r=Pr(void 0,Xi),n=t,i=r;e.b;e=e.b){var a=e.a,o=Pr(a.a,Xi);n.b=o,n=o;var s=Pr(a.b,Xi);i.b=s,i=s}return Ar(t.b,r.b)}),ZS=ch(fp(1,fh(Wc(xh,Mh,"[\t ]*\\n"),$h(WS,Wc(xh,Mh,"[\t ]*")))),ch(fp("",Wc(xh,Mh,"[a-zA-Z_ .\\\\()\\-]+")),ch(fp(0,WS),sh($r((function(e,t,r,n){return Ar(md(r),GS(ic(e),t,n))})),fh(Wc(xh,Mh,"[\t ]*\\n[\t ]*"),$h(Wc(xh,Mh,"\\-+"),Wc(xh,Mh,"[\t ]*\\+"))))))),XS=(F$=yr((function(e,t,r,n,i){var a=i.a,o=i.b,s=o.a,u=o.b,c=GS(uu(r),n,t),l=c.a,f=c.b,d=YS(r),h=d.a,v=d.b,p=YS(h),b=p.a,g=p.b,m=zp(pf(tc,g));return new W(KS((function(e,t){return JS(As,_c((function(e){return e.d9}),t))?LS(t,Bd(pl(e),m)):qS(t,Bd(pl(e),m))}),KS((function(e,t){return na((function(e){return e.d9}),t)}),wc(FS,rf,_c((function(e){var t=e.a,r=e.b;return KS((function(e,r){return _c((function(e){return US(e*u+s,t*f+l)}),r)}),r)}),vu(Uh,_u(v)))))),fd(m),e,a,new H(As,As),md(Nh(b)),new H(As,As))})),ch(ZS,ch(fp(0,$h(WS,Wc(xh,Mh,"[\t ]*"))),ch(lp(zS),ch(fp(1,$h(WS,Wc(xh,Mh,"[\t ]*"))),sh(kr(Vc,md,F$),fp("",Wc(xh,Mh,"[\t ]*[^\n\\|`]*\n")))))))),QS=$h(yb,Er($b,!0,!1,"<script>")),eC=function(e,t,r,n){return new V(e,n,t,r)},tC=($r(eC),function(e,t){var r=e+"{"+Qs(t)+"}";return sh(kr(Vc,Nh,Rl(1)),_h($h(Wc(xh,Mh,"(?:.(?!"+r+"))*\\n"),TS),$h(fh(AS,fh(ob,Wc(xh,Mh,r))),tp)))}),rC=(gr(tC),sh(mf,$h(Wc(xh,Mh,"\\w*"),ob))),nC=fh(AS,ch(Wc(xh,Mh,".*"),sh(Uh,fp(!0,$h(Oh(qr([kr(tv,!0,Ch("+")),kr(tv,!1,Ch("-"))])),ob))))),iC=function(e){return rh((function(t){return ch(yh(tC("`",t),tC("~",t)),ch(nC,sh(mr((function(t,r,n){var i=r.a,a=r.b;return Ar(eC(e,t,md(a),n),i)})),rC)))}),Qv)},aC=function(e,t,r){return new z(r,e,t)},oC=mr(aC),sC=function(e){return{$:1,a:e}},uC=function(e,t){return{aw:e,gN:t}},cC=gr(uC),lC=function(e,t,r,n){var i=Kv&t>>>e,a=Pi(i,n);if(a.$){var o=a.a,s=qi(Kv&t,r,o);return qi(i,Pu(s),n)}var u=a.a,c=lC(e-Ou,t,r,u);return qi(i,ju(c),n)},fC=($r(lC),function(e,t,r){var n=r.a,i=r.b,a=r.c,o=r.d;return e<0||zi(e,n)>-1?r:zi(e,uy(n))>-1?xu(n,i,a,qi(Kv&e,t,o)):xu(n,i,lC(i,e,t,a),o)}),dC=mr(fC),hC=function(e,t){return fC(Nv(t)-1,e,t)},vC=(gr(hC),gr((function(e,t){var r=Nu(e),n=Ru-Nu(t.j)-r,i=Ki(Ru,t.j,e);return n<0?{k:Pr(Pu(i),t.k),h:t.h+1,j:ji(n,r,e)}:n?{k:t.k,h:t.h,j:i}:{k:Pr(Pu(i),t.k),h:t.h+1,j:Mu}}))),pC=function(e,t){var r=t.a,n=t.c,i=t.d;if(e){if(zi(e,uy(r))>-1)return xu(r-e,Ou,Mu,ji(e-uy(r),Nu(i),i));var a=e/Ru|0,o=gr((function(e,t){if(e.$){var r=e.a;return Pr(r,t)}var n=e.a;return Ni(o,t,n)})),s=Ni(o,qr([i]),n),u=Fp(a,s);if(u.b){var c=u.a,l=u.b,f={k:Xi,h:0,j:ji(e-a*Ru,Nu(c),c)};return Vu(!0,au(vC,f,l))}return Du}return t},bC=(gr(pC),function(e,t,r,n){for(;;){var i=Pi(Kv&r>>>e,n);if(i.$){var a=i.a;return ji(0,Kv&t,a)}var o=i.a;e=e-Ou,t=t,r=r,n=o}}),gC=($r(bC),function(e,t,r){for(;;){if(zi(e,t)<1||!Nu(r))return r;var n=Pi(0,r);if(n.$)return r;var i=n.a;e=e-Ou,t=t,r=i}}),mC=(mr(gC),function(e,t,r){var n=Kv&t>>>e,i=Pi(n,r);if(i.$)return ji(0,n,r);var a=i.a,o=mC(e-Ou,t,a);return Nu(o)?qi(n,ju(o),ji(0,n+1,r)):ji(0,n,r)}),$C=(mr(mC),function(e,t){var r=t.a,n=t.b,i=t.c,a=t.d;if(Tr(e,r))return t;if(zi(e,uy(r))>-1)return xu(e,n,i,ji(0,Kv&e,a));var o=uy(e),s=Uu(Tu(Ru,Bu(1,o-1))),u=Bu(5,s*Ou);return xu(e,u,gC(n,u,mC(n,o,i)),bC(n,e,o,i))}),yC=(gr($C),function(e,t){var r=t.a,n=e<0?r+e:e;return n<0?0:zi(n,r)>0?r:n}),wC=(gr(yC),function(e,t,r){var n=yC(t,r),i=yC(e,r);return zi(i,n)>0?Du:pC(i,$C(n,r))}),_C=(mr(wC),function(e,t,r){return(i=r.$c()).K=(n=function(){if(4===e){var n=(a=r.K,cy(Nv(a)-1,a));if(n.$)return zv(uC(e,t),r.K);var i=n.a;return 4===i.aw?hC(uC(e,Dr(i.gN,t)),r.K):zv(uC(e,t),r.K)}return zv(uC(e,t),r.K);var a}(),Nv(n)<250?n:wC(1,250,n)),i;var n,i}),SC=mr(_C),CC=function(e,t){return(e.aF?kr(SC,1,e.dt):kr(SC,3,e.dt))(((r=t.$c()).aF=e.aF,r.aX=e.aX,r));var r},kC=(gr(CC),function(e,t,r,n){return new G(n,t,r,e)}),EC=$r(kC),RC=kC(!0,0,Du,Xi),xC=function(e,t){return Gu(e,(function(e){return t}))},MC=(gr(xC),xC(16,0)),IC=function(e,t){return 4294967295&e+t},TC=(gr(IC),function(e,t){return t<<e|t>>>32-e}),AC=(gr(TC),function(e,t,r,n,i,a,o,s){return IC(r,TC(o,IC(t,IC(s,IC(Er(e,r,n,i),a)))))}),OC=(Sr(AC),ss),DC=mr((function(e,t,r){return r^e&(t^r)})),PC=function(e,t,r,n,i,a,o){return AC(DC,e,t,r,n,i,a,o)},qC=(_r(PC),mr((function(e,t,r){return t^r&(e^t)}))),LC=function(e,t,r,n,i,a,o){return AC(qC,e,t,r,n,i,a,o)},UC=(_r(LC),mr((function(e,t,r){return r^e^t}))),NC=function(e,t,r,n,i,a,o){return AC(UC,e,t,r,n,i,a,o)},BC=(_r(NC),mr((function(e,t,r){return t^(e|~r)}))),FC=function(e,t,r,n,i,a,o){return AC(BC,e,t,r,n,i,a,o)},jC=(_r(FC),function(e,t){var r=t.aO,n=t.aP,i=t.aR,a=t.aW;if(e.b&&e.b.b&&e.b.b.b&&e.b.b.b.b&&e.b.b.b.b.b&&e.b.b.b.b.b.b&&e.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b){var o=e.a,s=e.b,u=s.a,c=s.b,l=c.a,f=c.b,d=f.a,h=f.b,v=h.a,p=h.b,b=p.a,g=p.b,m=g.a,$=g.b,y=$.a,w=$.b,_=w.a,S=w.b,C=S.a,k=S.b,E=k.a,R=k.b,x=R.a,M=R.b,I=M.a,T=M.b,A=T.a,O=T.b,D=O.a,P=O.b.a,q=a,L=i,U=n,N=r,B=PC(N,U,L,q,o,7,3614090360),F=PC(q,B,U,L,u,12,3905402710),j=PC(L,F,B,U,l,17,606105819),K=PC(U,j,F,B,d,22,3250441966),H=PC(B,K,j,F,v,7,4118548399),W=PC(F,H,K,j,b,12,1200080426),V=PC(j,W,H,K,m,17,2821735955),z=PC(K,V,W,H,y,22,4249261313),G=PC(H,z,V,W,_,7,1770035416),J=PC(W,G,z,V,C,12,2336552879),Y=PC(V,J,G,z,E,17,4294925233),Z=PC(z,Y,J,G,x,22,2304563134),X=PC(G,Z,Y,J,I,7,1804603682),Q=PC(J,X,Z,Y,A,12,4254626195),ee=PC(Y,Q,X,Z,D,17,2792965006),te=PC(Z,ee,Q,X,P,22,1236535329),re=LC(X,te,ee,Q,u,5,4129170786),ne=LC(Q,re,te,ee,m,9,3225465664),ie=LC(ee,ne,re,te,x,14,643717713),ae=LC(te,ie,ne,re,o,20,3921069994),oe=LC(re,ae,ie,ne,b,5,3593408605),se=LC(ne,oe,ae,ie,E,9,38016083),ue=LC(ie,se,oe,ae,P,14,3634488961),ce=LC(ae,ue,se,oe,v,20,3889429448),le=LC(oe,ce,ue,se,C,5,568446438),fe=LC(se,le,ce,ue,D,9,3275163606),de=LC(ue,fe,le,ce,d,14,4107603335),he=LC(ce,de,fe,le,_,20,1163531501),ve=LC(le,he,de,fe,A,5,2850285829),pe=LC(fe,ve,he,de,l,9,4243563512),be=LC(de,pe,ve,he,y,14,1735328473),ge=LC(he,be,pe,ve,I,20,2368359562),me=NC(ve,ge,be,pe,b,4,4294588738),$e=NC(pe,me,ge,be,_,11,2272392833),ye=NC(be,$e,me,ge,x,16,1839030562),we=NC(ge,ye,$e,me,D,23,4259657740),_e=NC(me,we,ye,$e,u,4,2763975236),Se=NC($e,_e,we,ye,v,11,1272893353),Ce=NC(ye,Se,_e,we,y,16,4139469664),ke=NC(we,Ce,Se,_e,E,23,3200236656),Ee=NC(_e,ke,Ce,Se,A,4,681279174),Re=NC(Se,Ee,ke,Ce,o,11,3936430074),xe=NC(Ce,Re,Ee,ke,d,16,3572445317),Me=NC(ke,xe,Re,Ee,m,23,76029189),Ie=NC(Ee,Me,xe,Re,C,4,3654602809),Te=NC(Re,Ie,Me,xe,I,11,3873151461),Ae=NC(xe,Te,Ie,Me,P,16,530742520),Oe=NC(Me,Ae,Te,Ie,l,23,3299628645),De=FC(Ie,Oe,Ae,Te,o,6,4096336452),Pe=FC(Te,De,Oe,Ae,y,10,1126891415),qe=FC(Ae,Pe,De,Oe,D,15,2878612391),Le=FC(Oe,qe,Pe,De,b,21,4237533241),Ue=FC(De,Le,qe,Pe,I,6,1700485571),Ne=FC(Pe,Ue,Le,qe,d,10,2399980690),Be=FC(qe,Ne,Ue,Le,E,15,4293915773),Fe=FC(Le,Be,Ne,Ue,u,21,2240044497),je=FC(Ue,Fe,Be,Ne,_,6,1873313359),Ke=FC(Ne,je,Fe,Be,P,10,4264355552),He=FC(Be,Ke,je,Fe,m,15,2734768916),We=FC(Fe,He,Ke,je,A,21,1309151649),Ve=FC(je,We,He,Ke,v,6,4149444226),ze=FC(Ke,Ve,We,He,x,10,3174756917),Ge=FC(He,ze,Ve,We,l,15,718787259),Je=FC(We,Ge,ze,Ve,C,21,3951481745),Ye=IC(U,Je),Ze=IC(L,Ge),Xe=IC(q,ze);return{aO:IC(N,Ve),aP:Ye,aR:Ze,aW:Xe}}return t}),KC=(gr(jC),function(e,t){return Ol(0,cy(e,t))}),HC=(gr(KC),gr((function(e,t){var r=t.a,n=t.b,i=n.a,a=n.b,o=t.c,s=i/4|0,u=KC(s,a),c=fC(s,u|e<<i%4*8,a);return 63===i?Or(jC(Ps(c),r),Ar(0,MC),o+1):Or(r,Ar(i+1,c),o+1)}))),WC=function(e,t,r){return t<128?kr(e,t,r):kr(e,128|63&t,t<2048?kr(e,192|t>>>6,r):kr(e,128|63&t>>>6,t<65536?kr(e,224|t>>>12,r):kr(e,128|63&t>>>12,kr(e,240|t>>>18,r))))},VC=(mr(WC),function(e,t,r){return function(e,t,r){for(var n=r.length,i=0;i<n;){var a=r[i],o=r.charCodeAt(i);i++,55296<=o&&o<=56319&&(a+=r[i],i++),t=e(a,t)}return t}((function(t,r){return WC(e,gu(t),r)}),t,r)}),zC=(mr(VC),function(e,t,r,n){return{aO:e,aP:t,aR:r,aW:n}}),GC=($r(zC),zC(1732584193,4023233417,2562383102,271733878)),JC=function(e){return t=VC(HC,Or(GC,Ar(0,MC),0),e),n=t.a,i=t.b,a=i.a,o=i.b,s=t.c,c=KC(u=a/4|0,o),l=fC(u,c|128<<a%4*8,o),u<14?(r=Ps(fC(15,s>>>29,fC(14,s<<3,l))),jC(r,n)):function(e){return jC(e,jC(Ps(l),n))}(Ps(fC(15,s>>>29,fC(14,s<<3,MC))));var t,r,n,i,a,o,s,u,c,l},YC=function(e){switch(e){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";case 10:return"a";case 11:return"b";case 12:return"c";case 13:return"d";case 14:return"e";case 15:return"f";default:return Dr(YC(e/16|0),YC(e%16))}},ZC=function(e){return ou((function(e,t){return Dr(t,Xd(2,"0",YC(e)))}),"",(t=JC(e),r=t.aO,n=t.aP,i=t.aR,a=t.aW,qr([255&r,r>>>8&255,r>>>16&255,r>>>24&255,255&n,n>>>8&255,n>>>16&255,n>>>24&255,255&i,i>>>8&255,i>>>16&255,i>>>24&255,255&a,a>>>8&255,a>>>16&255,a>>>24&255])));var t,r,n,i,a},XC=function(e){return Ar(ZC(e.eB),e.eB)},QC=function(e,t){var r=t.a,n=t.b,i=t.c,a=t.d,o=function(t){if(t.$){var r=t.a;return Pu(Bi(e,r))}var n=t.a;return ju(Bi(o,n))};return xu(r,n,Bi(o,i),Bi(e,a))},ek=gr(QC),tk=function(e,t,r,n,i){return new J(r,i,e,t,n)},rk=yr(tk),nk=function(e,t){var r=t.a.em,n=t.a.fA,i=t.a.c4,a=t.a.eB,o=t.b;return Ar(r,tk(n,i,a,o,e))},ik=(gr(nk),function(e,t,r,n){var i=Oy(gr((function(t,r){var n=r.a,i=r.b,a=nk(e,t),o=a.a,s=a.b;return Ar(bd(n,qr([o])),zv(s,i))})),Ar(Xi,Du),t),a=i.a,o=i.b,s=Ps(QC(XC,o));return new Y(a,r,o,-1,n,As,zp(s),!1,!1,As,Uv(qr([Ar(_c(Hu,s),RC)])),0)}),ak=($r(ik),function(e,t){var r=Uv(e),n=function(){var e=cy(Nv(r)-1,r);if(e.$)return Ar(RC,r);var t=e.a,n=t.a,i=t.b;return"@output"===mf(n.c4)?Ar(CC(aC(i,n.eB,Xi),RC),wC(0,-1,r)):Ar(RC,r)}(),i=n.a,a=n.b;return fh(jv((function(e){var r=e.ap;return bt(e,pt(r,zv(ik(!1,a,t,i),r.cs)))})),Fv(kr(Vc,(function(e){return e.ap}),kr(Vc,(function(e){return e.cs}),kr(Vc,Nv,kr(Vc,sC,Bv))))))}),ok=(gr(ak),function(e){return{$:0,a:e}}),sk=function(e){var t=e.a,r=e.b;if(r.$)return function(e){var t=Uv(e),r=function(){var e=cy(Nv(t)-1,t);if(e.$)return Ar(RC,t);var r=e.a,n=r.a,i=r.b;return"@output"===mf(n.c4)?Ar(CC(aC(i,n.eB,Xi),RC),wC(0,-1,t)):Ar(RC,t)}(),n=r.a,i=r.b;return fh(jv((function(e){var t=e.ap;return bt(e,gt(t,zv(ik(!0,i,"",n),t.bA)))})),Fv(kr(Vc,(function(e){return e.ap}),kr(Vc,(function(e){return e.bA}),kr(Vc,Nv,kr(Vc,ok,Bv))))))}(t);var n=r.a;return ak(t,n)},uk=function(e){return rh(sk,ch(Dh($h(QS,$h(Lp,Dh(tp)))),sh(Uh,wp(tp,rh(iC,fh(Dh(Lp),$h(e,Dh(Lp))))))))},ck=gr((function(e,t){return new Z(t,e)})),lk=ch($h(sb,Lp),sh(Rv,Oh(qr([Pm,Em,xm,Im,qm])))),fk=function(e){return mt(e,zv(-1,e.bw))},dk=Eh("expected a newline",Gh(Lu("\n"))),hk=rh((function(e){return uu(e)>1?(t=ck(e),fh(jv(fk),sh(t,Fv(kr(Vc,(function(e){return e.bw}),kr(Vc,Nv,Bv)))))):Jv("not a gallery");var t}),sh(Cb,lp(fh(dk,lp($h(lk,Wc(xh,Mh,"[ \t]*"))))))),vk=(hk.f,mr((function(e,t,r){return new X(r,t,e)}))),pk=Fv(kr(Vc,(function(e){return e.bO}),kr(Vc,Nv,Bv))),bk=(pk.f,function(e,t,r){return lp(fh(AS,ch(Um,fh(ob,fh(t,sh(Uh,$h(r,fh(e,fh(ob,Dh(tp))))))))))}),gk=mr(bk),mk=kr(gk,Wc(xh,Mh,"(?:(\\-|\\+|\\*)[ \t]?)?\\["),Ch("]")),$k=uh(YS),yk=(kr(Vc,mk,$k),fp(Xi,sh(Yf,Wc(mk,$k,Ch("[?]"))))),wk=rv(fh(AS,fh(Wc(xh,Mh,"(?:- )?\\[\\[!\\]\\]"),fh(ob,Dh(tp))))),_k=function(e,t,r,n,i,a){return new Q(i,n,a,e,t,r)},Sk=wr(_k),Ck=function(e){return{$:1,a:e}},kk={$:0},Ek=function(e){return{$:3,a:e}},Rk=function(e){return{$:2,a:e}},xk=function(e,t){return{$:1,a:e,b:t}},Mk=gr(xk),Ik=function(e){return{$:0,a:e}},Tk=function(e){return{$:1,a:e}},Ak=function(e){return{$:0,a:e}},Ok=function(e){if(e.$){t=e.a;return Tk(_c((function(e){return!1}),t))}var t=e.a;return Ak(_c((function(e){return!1}),t))},Dk=Ok,Pk=(ek(Dk),function(e){switch(e.$){case 0:return kk;case 1:var t=e.a;return Ck(t.dK.$?xk(!1,qr([-1])):Ik(""));case 2:t=e.a;return Rk(Ok(t.dK));default:t=e.a;return Ek(QC(Dk,t.dK))}}),qk=$h(Dh(fh(AS,sh(Yf,$h(gg(qr([Ar("input","hidden"),Ar("block","true"),Ar("default","undefined")])),ob)))),fh(Dh(tp),Lp)),Lk=function(e,t){return{f6:e,dK:t}},Uk=(gr(Lk),mr((function(e,t,r){var n=md(r),i=gm(e);return Ra("(",n)&&Ma(")",n)?Ar(t,i(md(Sa(1,-1,n)))):Ar(-1,i(n))}))),Nk=gr((function(e,t){var r=ru("|",e);if(r.b&&!r.b.b){var n=r.a,i=md(xf("_"," ",n));return"?"===i||"!"===i||""===i?Jv(""):Bv(Lk(Xi,Ik(n)))}var a,o=r;return a=vu(Uk(t),o),Bv(Lk(_c(Yf,a),xk(!1,_c(Hu,xd(kr(Vc,Hu,lu(0)),a)))))})),Bk=rh(Fv,sh(Nk,fh(AS,$h(Zh(Ch("]]")),Wc(xh,Mh,"[\t ]*\\[\\["))))),Fk=(Bk.f,$h(_h(Nm,Wc(xh,Mh,"[ \\t]*\\][ \\t]*")),Wc(xh,Mh,"[ \\t]*\\[[ \\t]*"))),jk=$h(_h(Nm,Wc(xh,Mh,"[ \\t]*\\)[ \\t]*")),Wc(xh,Mh,"[ \\t]*\\([ \\t]*")),Kk=yh(jk,Fk),Hk=(Kk.f,fh(AS,fh(Ch("]"),$h(lp(Kk),fh(Wc(xh,Mh,"(?:(\\-|\\+\\*)[\t ]*)?\\["),fh(ob,Dh(tp))))))),Wk=function(e,t,r){return{fk:e,f6:t,dK:r}},Vk=(mr(Wk),gr((function(e,t){var r=t.a,n=t.b;return Wk(e,n,Uv(r))}))),zk=function(e,t){return yh(kr(tv,!1,Ch(t)),kr(tv,!0,Wc(xh,Mh,e)))},Gk=(gr(zk),zk("\\[[xX]\\]","[ ]")),Jk=sh(Tk,lp(fh(ob,$h(Gk,ob)))),Yk=zk("\\([xX]\\)","( )"),Zk=sh(Ak,lp(fh(ob,$h(Yk,ob)))),Xk=Wc(mk,$k,yh(Zk,Jk)),Qk=ch(Xk,sh(Vk,Hk)),eE=function(e,t){return{f6:e,dK:t}},tE=gr(eE),rE=gr((function(e,t){var r=t.a,n=t.b;return eE(n,e(r))})),nE=yh(sh(rE(Ak),Wc(mk,$k,Yk)),sh(rE(Tk),Wc(mk,$k,Gk))),iE=(nE.f,rh((function(e){var t=gr((function(t,r){return $t(r,zv(_k(0,Pk(e.gd),0,0,"",t),r.bO))}));return $h(Bv(e),rh(jv,sh(t,qk)))}),rh((function(e){return ch(yk,sh(vk(e),pk))}),Oh(qr([sh((function(e){return{$:3,a:e}}),Qk),sh((function(e){return{$:2,a:e}}),nE),kr(tv,{$:0},wk),sh((function(e){return{$:1,a:e}}),Bk)]))))),aE=(iE.f,function(e,t){return{$:3,a:e,b:t}}),oE=gr(aE),sE=function(e,t){return{$:1,a:e,b:t}},uE=gr(sE),cE=function(e){return{$:0,a:e}},lE=function(e,t){return{$:2,a:e,b:t}},fE=gr(lE),dE=mr((function(e,t,r){return yt(r,zv(new ee(As,t,e,!1),r.b_))})),hE=gr((function(e,t){return new te(t,e)})),vE=Ch("["),pE=Ch("]"),bE=kr(gp,vE,pE),gE=function(e){return fh(Wc(xh,Mh,"\\][\t ]*"),$h(e,fh(Wc(xh,Mh,"(\\-|\\+|\\*)?[\t ]*\\["),Dh(tp))))},mE=function(e,t){return fh(AS,gE(lp($h(_h(Nm,Ch(t)),Ch(e)))))},$E=(gr(mE),lp(fh(AS,$h(Um,fh(Wc(xh,Mh,"\\-?[\t ]*\\[[\t ]+\\]"),Dh(tp)))))),yE=fh(AS,sh(uu,gE(fh(Ch("]"),$h(lp(Wc(xh,Mh,"_{3,}[\t ]*")),fh(Ch("["),fh(ob,Dh(tp)))))))),wE=$r((function(e,t,r,n){return{$:3,a:e,b:t,c:r,d:n}})),_E=gr((function(e,t){return Er(wE,e,t,_c(my,t))})),SE=function(e,t,r){return{$:2,a:e,b:t,c:r}},CE=(mr(SE),nu(" ")),kE=kr(Vc,Sf,kr(Vc,Hc(lc),ld(As))),EE=kr(Vc,CE,kE),RE=gr((function(e,t){return SE(e,t,(r=_c(Hu,t),qw(EE,r)?1:0));var r})),xE=rh((function(e){return"X"===e||"x"===e?Jv(""):Bv(e)}),Wc(xh,Mh,"\\S[^)\\]]*")),ME=(xE.f,function(e){return lp(function(e){return fh(AS,ch(Um,sh(Uh,e)))}(gE(e(xE))))}),IE=ch(Fv(kr(Vc,(function(e){return e.b_}),kr(Vc,Nv,Bv))),sh(hE,Oh(qr([sh((function(e){return{$:0,a:e}}),yE),rh((function(e){var t=e.dK;return 1!==t.$||t.b.b?Jv(""):Bv({$:1,a:e.f6})}),Bk),sh(RE(!1),ME(yp)),sh(RE(!0),ME(bE)),ch($E,sh(_E(!1),mE("(",")"))),ch($E,sh(_E(!0),mE("[","]")))])))),TE=rh((function(e){var t=function(){var t=gr((function(e,t){return zp(_c(e,t))})),r=e.gH;switch(r.$){case 0:return cE("");case 1:return sE(!1,-1);case 2:var n=r.a,i=r.b;return lE(n,kr(t,(function(e){var t=e.a;return Ar(t,!1)}),i));default:n=r.a,i=r.c;var a=r.d;return aE(n,xC(uu(a),kr(t,(function(e){return Ar(e,!1)}),i)))}}();return fh(rh(jv,sh(dE(t),qk)),Bv(e))}),IE),AE=(TE.f,yr((function(e,t,r,n,i){return new re(n,e,r,t,i)}))),OE="text-center",DE="text-left",PE="text-left",qE="text-right",LE=function(e,t){return fh(Dh(e),wp(e,t))},UE=(gr(LE),function(e,t){return yh(LE(e,t),Bv(Xi))}),NE=(gr(UE),fh(Wc(xh,Mh,"[\t ]*\\n"),$h(UE(Ch("|"),Oh(qr([kr(tv,OE,Wc(xh,Mh,"[\t ]*:-+:[\t ]*")),kr(tv,PE,Wc(xh,Mh,"[\t ]*:-+[\t ]*")),kr(tv,qE,Wc(xh,Mh,"[\t ]*-+:[\t ]*")),kr(tv,DE,Wc(xh,Mh,"[\t ]*-+[\t ]*"))]))),fh(Ch("|"),tp)))),BE=$h(_h(ch(fp(Xi,Um),sh(Uh,$h(sb,fh(Lp,fh(ob,Ch("|")))))),Wc(xh,Mh,"\\|[\t ]*\\n")),tp),FE=ch(cp(BE),ch(NE,sh(AE(0),BE))),jE=function(e,t,r){return new ne(e,r,t)},KE=(mr(jE),lh(Fv(kr(Vc,(function(e){return e.b$}),kr(Vc,Nv,Bv))))),HE=dh(jv((function(e){return wt(e,zv(jE(-1,!1,!1),e.b$))}))),WE=(kr(Vc,KE,HE),sh(Er(AE,0,Xi,Xi),lp(BE))),VE=Wc(KE,HE,$h(yh(FE,WE),RS)),zE=gr((function(e,t){return new ie(t,e)})),GE=function(e){return e.gy},JE=kr(Vc,qy(zc),Xs(0)),YE=kr(Vc,GE,JE),ZE=rh((function(e){var t=e.a,r=e.b,n=gr((function(e,r){return(n=r.$c()).b1=zv(new ae(e,Uv(t)),r.b1),n.eZ=function(){if(1===e.$)return r.eZ;var n=e.a,i=r.eZ;return it(i,function(){var e=cy(n,i.fy);if(e.$)return i.fy;var r=e.a;return fC(n,vt(r,Ts(Sb(Wc(GE,JE,new ae(As,Uv(t)))))),i.fy)}())}(),n;var n}));return fh(rh(jv,sh(n,qk)),sh(zE(r),Fv(kr(Vc,(function(e){return e.b1}),kr(Vc,Nv,Bv)))))}),sh(YS,bk(Wc(xh,Mh,"(\\-|\\*|\\+)[ \t]?\\["),Ch("]"),zk("[xX]"," ")))),XE=(ZE.f,jv((function(e){return dt(e,!1,_u(Fp(1,_u(e.ft))))}))),QE=(XE.f,sh(mb,lp(yh(Nm,sh((function(e){return Ov(e,Xi)}),Wc(xh,Mh,".")))))),eR=sh((function(e){return{$:18,a:e}}),fh(AS,$h(QE,fh(tp,RS)))),tR=fh(Kp,sh(ic,Wc(xh,Mh,"#+"))),rR=ch(Um,sh(Uh,tR)),nR=yh($h(Bv(1),Wc(xh,Mh,"={3,}[ \t]*")),$h(Bv(2),Wc(xh,Mh,"-{3,}[ \t]*"))),iR=(nR.f,ch(nR,sh(gr((function(e,t){return Ar(t,e)})),fh(Wc(xh,Mh,"[ \t]*\n"),Um)))),aR=fh(Wc(xh,Mh,"[ \t]*\n?"),yh(rR,iR)),oR=function(e){var t="(`){"+Qs(e)+(e<=8?"}":",}"),r=Er($b,!0,!1,e<=8?"[\t ]*(ascii|art)[\t ]*":"([\t ]*(ascii|art))?[\t ]*");return ch(sh(kr(Vc,Nh,Rl(1)),_h($h(Wc(xh,Mh,"(?:.(?!"+t+"))*\\n"),Dh(tp)),$h(Wc(xh,Mh,t),tp))),fh(AS,sh(Uh,$h(Dh(Um),r))))},sR=function(e,t,r,n){var i=Bd(e,r);if(i.$)return r;var a=i.a,o=cy(t,a.cg);if(o.$)return r;var s,u=o.a;return Cd(e,Qe(a,fC(t,((s=u.$c()).em=n,s),a.cg)),r)},uR=($r(sR),function(e){var t=e.a,r=e.b,n=r.a,i=r.b;return kr(tv,{$:8,a:Ar(n,i)},t.b?jv((function(e){var r=e.eZ;return tt(e,et(r,sR(n,i,r.aB,t)))})):Bv(0))}),cR=function(e){var t=e.a,r=e.b,n=CS({ek:4,ep:"white",fd:14,fm:Ts("100%"),fJ:1,fU:!0,gC:"black",gO:"black",gP:16,gQ:8,gZ:'"',g1:As},r);return Fv((function(e){var r=ou((function(e,t){var r=e.a,n=e.b,i=t.a,a=t.b,o=Ip(yi(),i,r+"\n");if(o.$)return Ar(i,a);var s=o.a,u=s.a,c=s.c;return Ar(u,Pr(Ar(c,n),a))}),Ar(e,Xi),n.cx),i=r.a,a=r.b;return $h(Bv(Ar(t,new K(n.ce,a,n.du,n.dF,n.dT))),Rp(i))}))},lR=gi();gi=function(){return lR};var fR=mi();mi=function(){return fR};var dR=$i();$i=function(){return dR};var hR=yi();yi=function(){return hR};var vR=wi();wi=function(){return vR};var pR=_i();_i=function(){return pR};var bR=Si();Si=function(){return bR};var gR=Ci();Ci=function(){return gR};var mR=ki();ki=function(){return mR};var $R=Ei();Ei=function(){return $R};var yR,wR=function(e,t,r){var n,i=Ip($h(hR,Wm),mh(Ts(e),((n=t.$c()).dE=r.fr,n)),r.eB);if(i.$){var a=i.a,o=a.b,s=a.c;return Hs(Qd(s,o))}var u=i.a,c=u.a,l=u.c;return hw(r,c,l)},_R=(mr(wR),function(e,t){return _t(e,fC(e.gp,t,e.bU))}),SR=gr(_R),CR=function(e){var t=dw(e);if(t.$)return e;var r,n=t.a,i=function(){if(n.f8){var t=n.eZ;return tt(n,St(t,0))}var r=wR(e.dD,e.eR,n);if(r.$){var i=r.a;return function(){var e=n.$c();return e.e2=Ts(i),e.eu=Xi,e}()}var a,o=r.a;return(a=o.$c()).R=n.R,a.df=td(kr(Vc,(function(e){return e.cU}),Hd),o.eR),a}(),a=qd(e.ds,Ol(Xi,td((function(e){return e.gj}),i.eR))),o=a.a,s=a.b;return _R(((r=e.$c()).dY=fw(i.b1,e.gp,"task",fw(i.b_,e.gp,"survey",fw(i.ap.cs,e.gp,"code",fw(i.bO,e.gp,"quiz",bd(s,e.dY))))),r.ds=o,r),i)},kR=function(e){return{$:1,a:e}},ER=function(e,t){return{$:0,a:e,b:t}},RR=gr(ER),xR=function(e){return{$:6,a:e}},MR=function(e){return{$:2,a:e}},IR=function(e){return{$:3,a:e}},TR=function(e){return{$:4,a:e}},AR=function(e){return{$:5,a:e}},OR=function(e){return{$:10,a:e}},DR=function(e){return{$:6,a:e}},PR=function(e){return{$:2,a:e}},qR=function(e){return{$:6,a:e}},LR=function(e){return{$:6,a:e}},UR=function(e){return{$:2,a:e}},NR=function(e){return{$:1,a:e}},BR={$:11},FR=function(e){return{$:4,b:e}},jR="footnote-",KR=Zs(jR),HR=Zs("key-"),WR=KR,VR=kr(Vc,HR,WR),zR=function(e){return{$:8,b:e}},GR=function(e){return Ba(zp,zR(e))},JR=function(e){return Ba(tc,FR(GR(e)))},YR=function(e){return qf(JR(e))},ZR=gr((function(e,t){return new oe(e,t)})),XR=Fa(ZR,FR(jl),Zu(RC)),QR=function(e){return{$:5,c:e}},ex=Uf(qr([Ba(Ts,Lf),QR(As)])),tx=Uf(qr([Ba(cE,qa("Text",jl)),Ba(uE(!1),qa("Select",Lf)),Ba(fE(!0),qa("SingleChoice",GR(Lc))),Ba(fE(!1),qa("MultipleChoice",GR(Lc))),Ba(oE(!1),qa("SingleChoiceMatrix",FR(GR(Lc)))),Ba(oE(!0),qa("MultipleChoiceMatrix",FR(GR(Lc))))])),rx=Ba(tc,tx),nx=gr((function(e,t){return Dc(io(kr(Pw,kr(Pw,mc,e),Hs),no(kr(Pw,kr(Pw,mc,e),Gs),t)))})),ix=os("focus"),ax=function(e){return kr(Vc,ix,nx(eh(e)))},ox=function(e){return 1===e.$},sx=gr((function(e,t){return Sc(kr(lw,e,t))})),ux=function(e,t,r){return ct(r,Er(sx,e,t,r.e6))},cx=(mr(ux),function(e,t){var r=t.gY,n=t.eE,i=t.e6,a=t.bc;return new se(n,i,a,e(r))}),lx=gr(cx),fx=function(e,t,r){var n=r.gY,i=r.eE,a=r.bc,o=r.e6;return new se(vo(t,i),o,a,e(n))},dx=(mr(fx),function(e){return Ar(e.cZ.aA,e.cZ.dc)}),hx=i$(Xi),vx=function(e,t){return(r=t.$c()).bc=Ts(e),r;var r},px=(gr(vx),function(e){return{$:0,a:e}}),bx=function(e){return{$:1,a:e}},gx=Da,mx=Fa(gr((function(e,t){return{aA:e,dc:t}})),qa("cmd",jl),qa("param",gx)),$x=Fa(Uh,Ua(0,jl),Ua(1,Lf)),yx=function(e){return{$:3,b:e}},wx=Ha(tl,qa("reply",Lc),qa("track",yx($x)),qa("service",jl),qa("message",mx)),_x=(qf(wx),function(e){var t=e.gT;if(t.b){var r=t.a.a,n=t.b;return Ar(Ts(r),Ye(e,n))}return Ar(As,e)}),Sx=function(e){var t=cy(e.be,e.bd);if(t.$)return e;var r=t.a.a;return Ct(e,RC,fC(e.be,Ar(r,RC),e.bd))},Cx=function(e,t){return el(rl,nl,"sync",{aA:e,dc:t})},kx=gr(Cx),Ex=function(e,t,r){return cw("id",e,Cx("code",Zc(qr([Ar("j",Gc(t)),Ar("msg",r)]))))},Rx=(mr(Ex),Ka(oC,qa("ok",Lc),qa("result",jl),qa("details",yx(gx)))),xx=function(e){var t=Ja(Rx,e);if(t.$){var r=t.a;return aC(!1,ku(r),Xi)}return t.a},Mx=function(e){return e.gT},Ix=Sf,Tx=kr(Vc,Mx,Ix),Ax=function(e){var t=Wc(Mx,Ix,e);if(t.$)return Or(As,-1,dx(e));var r=t.a,n=r.a,i=r.b;return Or(Ts(n),i,dx(e))},Ox=qy(qy(Xc)),Dx=kx("codes"),Px=(kr(Vc,Ox,Dx),function(e,t){var r=t.a,n=t.c,i=t.d,a={k:Xi,h:0,j:Fi(e,uy(r),i)},o=gr((function(t,r){if(t.$){var n=t.a,i=r.h*Ru,a=Pu(Fi(e,i,n));return{k:Pr(a,r.k),h:r.h+1,j:r.j}}var s=t.a;return Ui(o,r,s)}));return Vu(!0,Ui(o,a,n))}),qx=gr(Px),Lx=function(e,t){var r=cy(e,t.bd);if(r.$)return t;var n,i=r.a,a=i.a,o=i.b,s=Uv(_c((function(e){return Bd(e,t.gi)}),a));return(n=t.$c()).aZ=Px(gr((function(e,t){return kt(t,(r=cy(e,s)).$||r.a.$?t.eB:r.a.a);var r})),t.aZ),n.bG=o,n.be=e,n},Ux=gr(Lx),Nx=function(e){return new oe(QC((function(e){return e.eB}),Lx(0,e).aZ),RC)},Bx=function(e,t,r){var n=Ar(t,Nv(e));return n.a.$||n.b?r:ew(Wc(Ox,Dx,QC(kr(Vc,Nx,(function(e){return e.aZ})),r.gY.cs)),r)},Fx=(mr(Bx),function(e,t){return el(rl,nl,"script",{aA:e,dc:t})}),jx=(gr(Fx),gr((function(e,t){return kr(Vc,kr(Mf,"@'input"+e,Ap(t)),kr(Mf,"@input"+e,t))}))),Kx=function(e,t){return Er(jx,"",e,t)},Hx=(gr(Kx),gr((function(e,t){var r=e.a,n=e.b;return Er(jx,"("+Qs(r)+")",n,t)}))),Wx=gr((function(e,t){var r=e.a,n=e.b;return Er(jx,"(`"+r+"`)",n,t)})),Vx=function(e,t,r){var n=Wc(dp,hp,Ol("",Sf(r))),i=au(Wx,e,t);return Fx("eval",Xc(Kx(n,au(Hx,i,pu((function(e,t){return Ar(e,Wc(dp,hp,t))}),r)))))},zx=(mr(Vx),Ps),Gx=bf((function(e){var t=Ar(e.bM,e.dt);if(t.a.$||t.b.$||1!==t.b.a.$)return As;var r=t.a.a,n=t.b.a.a;return Ts(Ar(r,n))})),Jx=(kr(Vc,zx,Gx),function(e){return kr(lw,"project",e)}),Yx=function(e,t,r,n){var i=n.gI?Ol(Du,td((function(e){return e.aZ}),cy(t,e))):QC((function(e){return e.eB}),n.aZ);return kr(Jx,t,Vx(n.e5,Wc(zx,Gx,r),Ps(i)))},Zx=($r(Yx),function(e,t,r,n){return new se(t,r,n,e)}),Xx=($r(Zx),function(e){return Zx(e,hx,Xi,As)}),Qx=$r((function(e,t,r,n){return ew(Yx(e,t,r,n),Xx(Et(n,!0)))})),eM=function(e,t){return cx(eh(t),e)},tM=(gr(eM),function(e){return Gc(function(){switch(e){case 0:return-1;case 1:return 0;case 2:return 1;case 3:return 2;case 5:return 3;default:return 4}}())}),rM=function(e){var t=e.aw,r=e.gN;return Zc(qr([Ar("level",tM(t)),Ar("text",Xc(r))]))},nM=function(e){return Zc(qr([Ar("ok",zc(e.aF)),Ar("level",tM(e.aw)),Ar("messages",Py(rM,e.K)),Ar("details",Jc(tc,e.aX))]))},iM=function(e){return Zc(qr([Ar("lang",Xc(e.fA)),Ar("name",Xc(e.c4)),Ar("code",Xc(e.eB)),Ar("visible",zc(e.d8)),Ar("fullscreen",zc(e.fg))]))},aM=function(e){var t=e.a,r=e.b;return Zc(qr([Ar("hashes",Jc(Xc,t)),Ar("log",nM(r))]))},oM=$r((function(e,t,r,n){return il("update",sw(e,t,Ts(Zc(qr([Ar("cmd",Xc(r.aA)),Ar("id",Gc(r.fr)),Ar("data",n)])))))})),sM=gr((function(e,t){return kr(Vc,Zc,Er(oM,"code",e,t))})),uM=function(e,t,r,n){return Er(sM,n,new ue("append",e),qr([Ar("version_active",Gc(t.be)),Ar("log",nM(t.bG)),Ar("file",Py(iM,t.aZ)),Ar("version",function(){var e=cy(Nv(t.bd)-1,t.bd);if(e.$)return Vf;var r=e.a;return aM(r)}()),Ar("repository",_y(tc,Xc,r))]))},cM=($r(uM),function(e,t){return yd((function(e,t,r){return $$(e,r)}),e,t)}),lM=(gr(cM),mr((function(e,t,r){var n=Ar(e,function(e){var t,r=QC((function(e){return e.eB}),e.aZ),n=Ps(QC(ZC,r));if(!e.gI&&Ol(!1,td(ld(n),td(Hu,cy(e.be,e.bd))))){var i=Ed(e.gi,zp(ea(Uh,n,Ps(r))));return Ts(Ar(((t=e.$c()).bG=RC,t.bd=zv(Ar(n,RC),e.bd),t.be=Nv(e.bd),t.gi=i,t),cM(i,e.gi)))}return As}(r.gY));e:for(;;){if(n.a.$){if(n.b.$)break e;n.a,o=n.b.a.a;return eM(r,o)}if(n.b.$)break e;var i=n.a.a,a=n.b.a,o=a.a,s=a.b;return ew(uM(t,o,s,i),eM(r,o))}return r}))),fM=gr((function(e,t){return kr(Vc,(function(e){return e.cs}),kr(Vc,ly(e),rd(kr(Vc,t,Xx))))})),dM=gr((function(e,t){return kr(Vc,rd(lx((function(r){return pt(t,fC(e,r,t.cs))}))),Dl(Xx(t)))})),hM=function(e,t,r,n,i){return Er(dM,i,n,td(kr(Vc,(function(e){return e.gY}),kr(lM,t,i)),Er(fM,i,Er(Qx,e,i,r),n)))},vM=(yr(hM),function(e,t){return qr([Ar("value",zc(t)),Ar("file_id",Gc(e))])}),pM=(gr(vM),$r((function(e,t,r,n){if(e.$)return Xi;var i=e.a;return qr([Er(sM,i,new ue("flip_view",t),vM(r,n.d8))])}))),bM=function(e,t,r,n,i){var a=cy(e,r.cs);if(a.$)return Xx(r);var o=a.a,s=td(n,cy(t,o.aZ));if(s.$)return Xx(r);var u=s.a;return rw(i(u),Xx(pt(r,fC(e,Rt(o,fC(t,u,o.aZ)),r.cs))))},gM=(yr(bM),function(e,t,r,n){return bM(r,n,t,(function(e){return St(e,!e.d8)}),Er(pM,e,r,n))}),mM=($r(gM),function(e,t,r){if(t.$)return r;var n=t.a;return kr(e,n,r)}),$M=mr(mM),yM=function(e){return $M(dC(e))},wM=function(e,t,r){return Er(yM,t,td(e,cy(t,r)),r)},_M=(mr(wM),function(e,t,r){return Xx(gt(e,Er(yM,t,td((function(e){return Rt(e,wM((function(e){return St(e,!e.d8)}),r,e.aZ))}),cy(t,e.bA)),e.bA)))}),SM=(mr(_M),function(e){switch(e){case"debug":return Ts(0);case"info":return Ts(1);case"warn":return Ts(2);case"error":return Ts(3);case"html":return Ts(5);case"stream":return Ts(4);default:return As}}),CM=$r((function(e,t,r,n){if(e.$)return Xi;var i=e.a;return qr([Er(sM,i,new ue("flip_fullscreen",t),vM(r,n.fg))])})),kM=function(e,t,r){return new ce(t,r,e)},EM=(mr(kM),kM("",Du,0)),RM=function(e,t){return kr(Jx,e,Fx("input",Xc(t)))},xM=(gr(RM),function(e){return kr(Vc,(function(e){return e.cs}),kr(Vc,ly(e),kr(Vc,rd((function(e){return e.gI})),Dl(!1))))}),MM=mr((function(e,t,r){if(t.$)return r;var n=t.a;return ew(Er(sM,n,new ue("active",e),qr([Ar("file",Py(iM,r.gY.aZ)),Ar("version_active",Gc(r.gY.be)),Ar("log",nM(r.gY.bG))])),r)})),IM=function(e,t,r,n){return Er(dM,r,t,td(kr(MM,r,e),Er(fM,r,Ux(n),t)))},TM=($r(IM),mr((function(e,t,r){var n=Ar(td(Hu,cy(r.be,r.bd)),SM(e));if(n.a.$||n.b.$)return r;var i=n.a.a,a=n.b.a;return Ct(r,_C(a,t,r.bG),fC(r.be,Ar(i,_C(a,t,r.bG)),r.bd))}))),AM=As,OM=(Uh(AM),function(e,t){return el(rl,nl,e,{aA:t,dc:Vf})}),DM=(gr(OM),OM("","")),PM=function(e,t,r){return Er(yM,e,td((function(e){return(r=e.$c()).cT=Ts(t),r;var r}),cy(e,r)),r)},qM=(mr(PM),gr((function(e,t){return(r=t.$c()).e5=e.e5,r;var r}))),LM=function(e,t){return pt(e,Uv(ea(qM,Ps(e.cs),Ps(t))))},UM=(gr(LM),function(e){return Zc(qr([Ar("file",Py(iM,e.aZ)),Ar("version",Py(aM,e.bd)),Ar("version_active",Gc(e.be)),Ar("log",nM(e.bG)),Ar("repository",_y(tc,Xc,e.gi))]))}),NM=(qy(UM),function(e,t,r){return il("store",sw(e,t,Ts(r)))}),BM=(mr(NM),function(e,t){if(e.$)return Xi;var r=e.a;return qr([NM("code",r,Py(UM,t))])}),FM=(gr(BM),Na((function(e){return Zu(function(){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 5;case 4:return 4;default:return 0}}())}),Lf)),jM=Fa(cC,qa("level",FM),qa("text",jl)),KM=Ha(EC,qa("ok",Lc),qa("level",FM),qa("messages",FR(jM)),qa("details",yx(gx))),HM=yr((function(e,t,r,n,i){return(a=e,function(e){return function(t){return function(r){return function(n){return function(i){return function(o){return function(s){return function(u){return function(c){return function(l){return function(f){return new Y(f,i,a,e,o,s,n,u,l,c,t,r)}}}}}}}}}}})(-1)(t)(r)(i)("")(n)(As)(!1)(As)(!1);var a})),WM=Wa(rk,qa("lang",jl),qa("name",jl),qa("code",jl),qa("visible",Lc),qa("fullscreen",Lc)),VM=Fa(Uh,qa("hashes",yx(jl)),qa("log",KM)),zM=Wa(HM,qa("file",FR(WM)),qa("version",FR(VM)),qa("version_active",Lf),qa("log",KM),qa("repository",GR(jl))),GM=function(e,t){return Cl(rd(kr(Vc,Ps,kr(Vc,kr(cu,gr((function(e,t){return t(e)})),t),Uv))),Ja((r=FR(zM),Uf(qr([QR(As),Ba(Ts,r)]))),e));var r},JM=(gr(GM),function(e,t,r){var n=GM(t,Ps(QC((function(e){return e.em}),r.cs)));if(n.$)return Xx(r);if(n.a.$){n.a;return rw(Nv(r.cs)?BM(e,r.cs):Xi,Xx(r))}var i=n.a.a;return Xx(LM(r,i))}),YM=(mr(JM),gr((function(e,t){if(t.gI)return xt(t,As,!1);var r=cy(t.be,t.bd);if(r.$)return t;var n,i=r.a.a;return(n=t.$c()).bG=CC(e,t.bG),n.bd=fC(t.be,Ar(i,CC(e,t.bG)),t.bd),n.dV=As,n.dx=!1,n}))),ZM=Fx("stop",Vf),XM=function(e){var t=cy(e.be,e.bd);if(t.$)return e;var r,n=t.a.a;return(r=e.$c()).bd=e.gI?e.bd:fC(e.be,Ar(n,e.bG),e.bd),r.dV=As,r.dx=!1,r},QM=function(e,t,r){var n=cy(e,r);if(n.$)return As;var i=n.a;return Ts(fC(e,t(i),r))},eI=(mr(QM),mr((function(e,t,r){if(t.$)return r;var n=t.a;return ew(Er(sM,n,new ue("version",e),qr([Ar("version_active",Gc(r.gY.be)),Ar("log",nM(r.gY.bG)),Ar("version",Ol(Vf,td(aM,cy(r.gY.be,r.gY.bd))))])),r)}))),tI=function(e,t){var r=e?t.U-1:t.U+1,n=cy(r,t.as);if(n.$)return t;var i=n.a;return Mt(t,r,i)},rI=(gr(tI),gr((function(e,t){if(e.$){var r=e.a;return Ar(rt(t,r),As)}var n=e.a;return 13===n?Ar(function(e){return Ol(!0,td((function(t){return!Tr(t,e.fx)}),cy(e.U,e.as)))&&""!==e.fx?((t=e.$c()).U=Nv(e.as)+1,t.as=zv(e.fx,e.as),t.fx="",t):Mt(e,e.U+1,"");var t}(t),Ts(t.fx+"\n")):Ar(38===n?tI(!0,t):40===n?tI(!1,t):t,As)}))),nI=gr((function(e,t){var r=td(rI(e),t.dV);if(r.$)return Ar(t,As);var n=r.a,i=n.a,a=n.b;return Ar(It(t,Ts(i)),a)})),iI=function(e,t,r,n,i){switch(n.$){case 0:var a=n.a;return Lh(AM,hM(e,t,r,i,a));case 2:var o=n.a,s=n.b,u=n.c;return kr(xM,o,i)?Lh(AM,Xx(i)):Lh(AM,bM(o,s,i,(function(e){return kt(e,u)}),(function(e){return Xi})));case 4:if(1===n.a.$){var c=n.a.a,l=n.b;return Lh(AM,gM(t,i,c,l))}c=n.a.a,l=n.b;return Lh(AM,_M(i,c,l));case 5:if(n.a.$){c=n.a.a,l=n.b;return Lh(AM,bM(c,l,i,(function(e){return Tt(e,!e.fg)}),Er(CM,t,c,l)))}o=n.a.a,s=n.b;return Lh(AM,Xx(gt(i,Er(yM,o,td((function(e){return Rt(e,wM((function(e){return Tt(e,!e.fg)}),s,e.aZ))}),cy(o,i.bA)),i.bA))));case 6:a=n.a;var f=n.b;return Lh(AM,IM(t,i,a,f));case 7:a=n.a;return Lh(AM,IM(t,i,a,0));case 8:c=n.a,f=Ol(0,td((function(e){return e.gY}),Er(fM,c,kr(Vc,(function(e){return e.bd}),kr(Vc,Nv,Ys(-1))),i)));return Lh(AM,IM(t,i,c,f));case 10:var d=n.a,h=Ax(d);e:for(;;){if(1===h.a.$){if("load"===h.c.a){h.a;var v=h.c.b;return Lh(AM,Bx(e,t,JM(t,v,i)))}break e}if("project"!==h.a.a)break e;switch(h.c.a){case"eval":var p=h.b,b=(v=h.c.b,xx(v));switch(b.dt){case"LIA: wait":return kr(xM,p,i)?Ar(QM(p,(function(e){return At(e,RC)}),e),Xx(i)):Lh(AM,Er(dM,p,i,Er(fM,p,(function(e){return At(e,RC)}),i)));case"LIA: stop":return Lh(AM,Er(dM,p,i,td(kr(xM,p,i)?tc:kr(eI,p,t),Er(fM,p,XM,i))));case"LIA: clear":return kr(xM,p,i)?Ar(QM(p,(function(e){return At(e,RC)}),e),Xx(i)):Lh(AM,Er(dM,p,i,Er(fM,p,Sx,i)));case"LIA: terminal":return Lh(AM,Er(dM,p,i,Er(fM,p,(function(e){return It(e,Ts(EM))}),i)));default:return kr(xM,p,i)?Ar(QM(p,(function(e){return At(e,CC(b,e.bG))}),e),Er(dM,p,i,Er(fM,p,YM(b),i))):Lh(AM,Er(dM,p,i,td(kr(eI,p,t),Er(fM,p,YM(b),i))))}case"log":p=h.b,v=h.c.b;var g=Ja(yx(jl),v);if(!g.$&&g.a.b&&g.a.b.b&&!g.a.b.b.b){var m=g.a,$=m.a,y=m.b.a;return kr(xM,p,i)?Ar(QM(p,(function(e){return At(e,_C(Ol(1,SM($)),y,e.bG))}),e),Xx(i)):Lh(AM,Er(dM,p,i,Er(fM,p,kr(TM,$,y),i)))}return Lh(AM,Xx(i));default:break e}}return Lh(AM,Xx(i));case 1:a=n.a;return Lh(AM,Er(dM,a,i,td(tw(function(e){return kr(Jx,e,ZM)}(a)),Er(fM,a,(function(e){return xt(e,As,!1)}),i))));case 11:var w=n.a,_=n.b;return Lh(AM,Xx(function(){if(1===w.$){var e=w.a;return pt(i,PM(e,_,i.cs))}e=w.a;return gt(i,PM(e,_,i.bA))}()));case 9:a=n.a;var S=n.b,C=td((function(e){return e.gY}),Er(fM,a,nI(S),i));if(C.$)return Lh(AM,Xx(i));if(C.a.b.$){var k=C.a;R=k.a,k.b;return Lh(AM,Er(dM,a,i,Ts(Xx(R))))}var E=C.a,R=E.a,x=E.b.a;return kr(xM,a,i)?Ar(QM(a,(function(e){return At(e,_C(1,x,e.bG))}),e),Er(dM,a,i,Ts(ew(RM(a,x),Xx(R))))):Lh(AM,Er(dM,a,i,Ts(ew(RM(a,x),Xx(At(R,_C(1,x,R.bG)))))));case 12:p=n.a;return Lh(AM,Xx(pt(i,Er(yM,p,td((function(e){return Ot(e,!e.gI)}),cy(p,i.cs)),i.cs))));default:var M=n.a,I=n.b;d=n.c;return Lh(AM,ew(kr(xM,M,i)?Ex(M,I,d):DM,Xx(i)))}},aI=(yr(iI),function(e){return{$:10,a:e}}),oI=gr((function(e,t){return{$:5,a:e,b:t}})),sI=function(e){return{$:7,a:e}},uI=function(e,t){return el(rl,nl,"tts",{aA:e,dc:t})},cI=gr(uI),lI=uI("cancel",Vf),fI=function(e){return{$:3,a:e}},dI=function(e){return{$:2,a:e}},hI=function(e){return{$:4,a:e}},vI={$:0},pI={$:1},bI=function(e){if("tts"!==e.gr)return dI("Wrong Service -> "+e.gr);var t=e.cZ.aA;switch(t){case"start":return vI;case"stop":return pI;case"error":var r=Ja(jl,e.cZ.dc);if(r.$){n=r.a;return dI(ku(n))}var n=r.a;return dI(n);case"browserTTS":var i=Ja(Lc,e.cZ.dc);if(i.$)return fI(!1);var a=i.a;return fI(a);case"responsiveVoiceTTS":var o=Ja(Lc,e.cZ.dc);if(o.$)return hI(!1);a=o.a;return hI(a);default:return dI("unknown cmd => "+t)}},gI=function(e,t){return Fx("exec",Zc(qr([Ar("delay",Gc(e)),Ar("code",Xc(t))])))},mI=(gr(gI),gr((function(e,t){var r=t.a,n=t.b;return cw("script",r,gI(e,n))}))),$I=function(e,t){var r=t.a,n=t.b;return Ar(r,e(n))},yI=gr($I),wI=function(e){var t=e.a,r=gr((function(e,t){var r=t.a,n=t.b;return Ar(r-1,Pr(Ar(r,e),n))}));return Ds(r,Ar(t-1,Xi),e).b},_I=gr((function(e,t){return kr(Vc,wI,kr(Vc,Md(kr(Vc,Yf,e)),Sc(yI(t))))})),SI=_I((function(e){return!(e.dx||e.bi||e.dw&&e.ch>=1)})),CI=function(e){return Tr(e.aL,As)||Tr(e.aL,Ts(Ab))?As:Ts(e.gY)},kI=function(e){var t=Wc(zx,Gx,e);return Sc((function(e){var r=e.a,n=e.b,i=e.c;return Ar(r,function(e){if(i.$)return e;var t=i.a;return Kx(t,e)}(au(Wx,n,t)))}))},EI=Hn((function(){return{dB:Wn(),d7:new n(ns.pageXOffset,ns.pageYOffset,rs.documentElement.clientWidth,rs.documentElement.clientHeight)}})),RI=function(e,t){return kr(kI,t,pf((function(t){var r=t.a,n=t.b;return Tr(n.bo,e)?Ts(Or(r,n.bT,CI(n.fx))):As}),kr(SI,tc,t)))},xI=(gr(RI),function(e){return zi(e.d8,e.cq)<0}),MI=function(e){return e.d8>0},II=Tx,TI=Hc((function(e){var t=e.b;return t>=0?Ts(t):As})),AI=(kr(Vc,II,TI),function(e,t,r){var n=cy(e,r);if(n.$)return r;var i=n.a;return fC(e,t(i),r)}),OI=(mr(AI),function(e,t,r){return AI(e,(function(e){return Et(e,t)}),r)}),DI=(mr(OI),function(e){return uI("read",Xc("lia-tts-"+Qs(e)))}),PI=function(e,t){return Id(el(rl,nl,"slide",{aA:e,dc:t}))},qI=(gr(PI),function(e,t){return PI("scroll_into_view",Zc(qr([Ar("id",Xc(e)),Ar("delay",Gc(t))])))}),LI=(gr(qI),function(e){return{$:3,a:e}}),UI={$:9},NI=gr((function(e,t){return{$:12,a:e,b:t}})),BI=function(e,t){return Dt(t,!!t.bg||e)},FI=(gr(BI),function(e){var t=e.a,r=e.b;return Jc(tc,qr([Xc(t),Gc(r)]))}),jI=function(e){return Zc(qr([Ar("reply",zc(e.bR)),Ar("track",Jc(FI,e.gT)),Ar("service",Xc(e.gr)),Ar("message",Zc(qr([Ar("cmd",Xc(e.cZ.aA)),Ar("param",e.cZ.dc)])))]))},KI=function(e){return Fx("exec",function(e){var t=e.aF,r=e.dt,n=e.aX;return Zc(qr([Ar("ok",zc(t)),Ar("result",Xc(r)),Ar("details",Jc(tc,n))]))}(aC(!0,e,Xi)))},HI=gr((function(e,t){return kr(Vc,ly(t),rd(e))})),WI=function(e){var t=e.gT;if(t.b){var r=t.a,n=r.a,i=r.b,a=t.b;return Ts(Or(n,i,Ye(e,a)))}return As},VI=function(e,t,r,n){var i=AI(r,(function(t){return e(t.dx?qt(t,!0):t)}),n),a=Er(HI,tc,r,i);if(a.$)return Xx(i);var o=a.a;return rw(o.dx||o.bi?Xi:_c(mI(0),kr(kI,n,qr([Or(r,o.bT,CI(o.fx))]))),iw(t,Xx(i)))},zI=($r(VI),function(e,t){return kr(kI,t,pf((function(t){var r=t.a,n=t.b;return n.dx||n.bi||!Dd(e,n.a1)?As:Ts(Or(r,n.bT,CI(n.fx)))}),wI(t)))}),GI=(gr(zI),Fl(yx(jl))),JI=Kl,YI=(kr(Vc,GI,JI),Yc(Xc)),ZI=Xs(0),XI=(kr(Vc,YI,ZI),function(e,t){return Pt(t,Wc(YI,ZI,function(){var r=Wc(GI,JI,t.gY);if(r.$)return Xi;var n=r.a;return Dd(e,n)?xd(ld(e),n):Pr(e,n)}()))}),QI=(gr(XI),function(e){return ek((function(t){return t.dx&&Dd(e,t.a1)?qt(t,!0):t}))}),eT=function(e){return{$:0,a:e}},tT=function(e,t,r){var n=Ip($h(hR,Wm),mh(As,Ol(nf(""),e)),md(r)+"\n");if(n.$){var i=n.a,a=i.b,o=i.c;return Hs(Qd(o,a))}var s=n.a,u=s.a,c=s.c;return Gs(function(){if(!c.b||2!==c.a.$||c.a.a.b||c.b.b)return px(new fe(c,u.ap,u.eZ,As,As,u.cw,u.bw,t,u.bO,u.b_,u.b$,u.b1));var e=c.a.b;return bx(new le(e,u.eZ,As,t))}())},rT=(mr(tT),function(e,t,r,n){var i,a="LIA: wait"===r.dt;return(i=n.$c()).ch=n.ch+1,i.dt=a||"LIA: stop"===r.dt?n.dt:"LIA: clear"===r.dt?As:Ts(function(){if(r.aF){if(Ra("HTML:",r.dt))return{$:2,a:oc(5,r.dt)};if(Ra("LIASCRIPT:",r.dt)){var n=tT(e,t,oc(10,r.dt));if(n.$){var i=n.a;return eT(i)}var a=n.a;return LI(a)}return Sb(r.dt)}return eT(r.dt)}()),i.dx=a,i}),nT=($r(rT),function(e,t,r,n){var i=cy(t,n);if(i.$)return Ar(!1,n);var a=i.a,o=rT(e,t,xx(r),a);return Ar(!Tr(o.dt,a.dt),fC(t,o,n))}),iT=($r(nT),function(e,t){return Pt(t,e)}),aT=(gr(iT),function(e,t,r){switch(t.$){case 12:var n=t.a,i=t.b,a=Kc((function(e){return e.dt}),cy(n,r));if(a.$||3!==a.a.$)return Xx(r);var o=a.a.a;return ux("sub",n,fx((function(e){return AI(n,(function(t){return vt(t,Ts(LI(e)))}),r)}),NI(n),Er(e.b3,r,i,o)));case 2:n=t.a;var s=t.b,u=cy(n,r);if(u.$)return Xx(r);var c=u.a;return aT(e,aI(cw("script",n,KI(s))),fC(n,Lt(c,!0,iT(s,c.fx)),r));case 3:var l=t.a,f=(n=t.b,cy(n,r));if(f.$)return Xx(r);c=f.a;return l?iw(kr(ax,UI,"lia-focus"),Xx(fC(n,Lt(c,!1,c.d3?c.fx:BI(l,c.fx)),r))):VI((function(e){return Lt(e,!1,c.d3?e.fx:BI(l,e.fx))}),hx,n,r);case 4:n=t.a;var d=t.b,h=t.c;return d?VI((function(e){return rt(e,iT(h,e.fx))}),hx,n,r):Xx(AI(n,(function(e){return rt(e,iT(h,e.fx))}),r));case 6:n=t.a,d=t.b,h=t.c;return d?VI((function(e){return Lt(e,!0,XI(h,e.fx))}),hx,n,r):Xx(AI(n,(function(e){return Lt(e,!0,XI(h,e.fx))}),r));case 5:n=t.a,d=t.b,h=t.c;return d?VI((function(e){return Lt(e,!0,iT(h,e.fx))}),hx,n,r):Xx(AI(n,(function(e){return Lt(e,!0,iT(h,e.fx))}),r));case 0:n=t.a;return VI(tc,hx,n,r);case 1:n=t.a;return VI((function(e){return rt(e,BI(!0,(t=e.fx,Pt(t,t.eP))));var t}),hx,n,r);case 9:return Xx(r);case 11:var v=t.a,p=t.b;return iw(Pc(eh(p),V$(v)),Xx(r));case 7:var b=t.a,g=(n=t.b,function(e){return(t=e.$c()).co=b,t.fx=BI(!1,e.fx),t;var t});return b?iw(kr(ax,UI,"lia-focus"),Xx(AI(n,g,r))):VI(g,hx,n,r);case 8:n=t.a,h=t.b;return Xx(AI(n,(function(e){return(t=e.$c()).bT=h,t;var t}),r));default:var m=t.a,$=Ax(m);e:for(;!$.a.$;)switch($.a.a){case"script":switch($.c.a){case"exec":var y=$.b,w=$.c.b,_=nT(e.cA,y,w,r),S=_.a,C=_.b,k=(c=Er(HI,tc,y,C),Ol(!1,td((function(e){return e.b3}),c))?kr(kI,C,Ol(Xi,td((function(e){return qr([Or(y,e.bT,CI(e.fx))])}),c))):Xi),E=Kc((function(e){return e.bM}),c);if(1===E.$)return rw(_c(mI(0),k),Xx(AI(y,(function(e){return qt(e,!1)}),C)));var R=E.a;return rw(S?_c(mI(0),bd(k,zI(R,C))):Xi,Xx(AI(y,(function(e){return qt(e,!1)}),kr(QI,R,C))));case"async":y=$.b,w=$.c.b;var x=nT(e.cA,y,w,r),M=(S=x.a,C=x.b,c=Er(HI,tc,y,C),Kc((function(e){return e.bM}),c));if(1===M.$)return Xx(C);R=M.a;return rw(S?_c(mI(0),zI(R,C)):Xi,Xx(kr(QI,R,C)));default:break e}case"sub":y=$.b,w=$.c.b;var I=function(){var e=WI(m);if(e.$||"sub"!==e.a.a)return w;var t=e.a.c;return jI(t)}(),T=Kc((function(e){return e.dt}),cy(y,r));if(T.$||3!==T.a.$)return Xx(r);o=T.a.a;return ux("sub",y,fx((function(e){return AI(y,(function(t){return vt(t,Ts(LI(e)))}),r)}),NI(y),Er(e.fi,r,I,o)));default:break e}return Xx(r)}}),oT=(mr(aT),function(e,t){return Id(el(rl,nl,"console",{aA:e,dc:Xc(t)}))}),sT=(gr(oT),function(e){return oT("warn",e)}),uT=function(e,t,r,n,i){var a=r?function(e){return kr(kI,e,_c((function(e){var t=e.a,r=e.b;return Or(t,r.bT,CI(r.fx))}),kr(SI,tc,e)))}(i.fy):RI(i.d8,i.fy);return cT(e,t,{$:3,a:_c(mI(n),a)},i)},cT=(yr(uT),function(e,t,r,n){return i=function(){switch(r.$){case 0:var i=r.a;return iw(Pc(oI(i),EI),Xx(n));case 1:return xI(n)?uT(e,t,!1,0,St(n,n.d8+1)):Xx(n);case 2:return MI(n)?uT(e,t,!1,0,St(n,n.d8-1)):Xx(n);case 4:var a=r.a;return ew(cw("playback",a,lI),Xx(Ut(n,As)));case 3:var o=r.a,s=Pr(qI("focused",350),Pr(qI("lia-notes-active",350),o));return rw(function(){var e=function(e){return td((function(t){return Ar(e.d8,t.fW)}),Bd(e.d8,e.aB))}(n);if(e.$)return Pr(lI,s);var r=e.a.a;return t?Pr(DI(r),s):s}(),Xx(n));case 5:return i=r.a,uT(e,t,i,0,n);case 7:var u=r.a;return fx((function(e){return it(n,e)}),sI,aT(e,u,n.fy));default:o=r.a;var c=Ax(o);e:for(;;)if(1===c.a.$){c.a;var l=c.c,f=(l.a,l.b,bI(o));switch(f.$){case 0:return Xx(Ut(n,Ts(-1)));case 1:return Xx(Ut(n,As));case 2:var d=f.a;return ew(sT(d),Xx(n));default:return Xx(n)}}else{if("playback"!==c.a.a)break e;switch(c.c.a){case"start":return a=c.b,c.c,Xx(Ut(n,Ts(a)));case"stop":return c.c,Xx(Ut(n,As));case"error":return c.c,ew(sT("effects: local playback error"),Xx(Ut(n,As)));default:break e}}return fx((function(e){return it(n,e)}),sI,aT(e,aI(o),n.fy))}}(),cx((function(e){return it(e,ou((function(e,t){var r=Wc(II,TI,e);if(r.$)return t;var n=r.a;return n<0?t:OI(n,!0,t)}),e.fy,i.e6))}),i);var i}),lT=$r(cT),fT=function(e,t){var r=Ar(e.dK,t);e:for(;;){if(r.a.$){if(1===r.b.$&&r.b.b.b&&!r.b.b.b.b){var n=r.a.b,i=r.b.b.a;return!_f(xd(Lu(i),n))}break e}if(r.b.$)break e;var a=r.a.a,o=r.b.a;return Tr(a,o)}return!1},dT=(gr(fT),function(e,t){var r=Ar(e.dK,t);e:for(;;){if(r.a.$){if(1===r.b.$){n=r.a.a,i=r.b.a;return Tr(n,i)}break e}if(r.b.$)break e;var n=r.a.a,i=r.b.a;return Ad(tc,ta((function(e,t){return e&&t}),n,i))}return!1}),hT=gr(dT),vT=function(e,t){var r=Ps(t),n=_c(tE(Xi),Ps(e.dK));return qw(tc,ea(hT,n,r))},pT=(gr(vT),function(e,t){return function(){var r=Ar(e,t);e:for(;;)switch(r.a.$){case 1:if(1===r.b.$){var n=r.a.a,i=r.b.a;return fT(n,i)}break e;case 2:if(2===r.b.$){n=r.a.a,i=r.b.a;return dT(n,i)}break e;case 3:if(3===r.b.$){n=r.a.a,i=r.b.a;return vT(n,i)}break e;default:break e}return!1}()?1:0}),bT=(gr(pT),gr((function(e,t){return Xx(((r=t.$c()).gW=t.gW+1,r.gw=pT(e,t.gy),r));var r}))),gT=function(e){if(e.$)return Vf;var t=e.a;return Gc(t)},mT=function(e){switch(e.gw){case 1:return Ts(Ts(e.gW));case 2:return Ts(As);default:return As}},$T=function(e){return kr(Vc,mT,kr(Vc,rd(kr(Vc,gT,function(e){return kr(Vc,kx("quiz"),kr(lw,"id",e))}(e))),Dl(DM)))},yT=function(e,t,r,n){if(e){var i=Ar(t,r);if(1===i.a.$){i.a;return n}if(1===i.b.$){i.b;return rw(vu($T,Ps(n.gY)),n)}var a=i.b.a;return ew(Ol(DM,td($T(a),cy(a,n.gY))),n)}return n},wT=($r(yT),function(e){var t=xx(e);return t.aF?"true"===t.dt?function(e){return Xx(e.gw?e:Nt(e,"",e.gW+1,1))}:Ra("LIA:",t.dt)?Xx:function(e){return Xx(e.gw?e:Nt(e,"",e.gW+1,0))}:function(e){return Xx(((r=e.$c()).e4=t.dt,r));var r}}),_T=function(e,t){return{$:2,a:e,b:t}},ST=gr(_T),CT=function(e,t,r){for(;;){if(!r.b)return As;var n=r.a,i=r.b;if(t(n))return Ts(e);e=e+1,t=t,r=i}},kT=mr(CT),ET=(kT(0),function(e){if(e.$){var t=e.a;return Qa(0,Jc(Gc,_c((function(e){return e?1:0}),t)))}var r=e.a;return Qs(Ol(-1,CT(0,tc,r)))}),RT=function(e){switch(e.$){case 1:return function(e){if(e.$){if(e.b.b&&!e.b.b.b){var t=e.b.a;return Qs(t)}return""}return e.a}(e.a);case 2:var t=e.a;return ET(t);case 3:return function(e){return"["+Nh(Bh(",",_c(ET,Ps(e))))+"]"}(e.a);default:return""}},xT=function(e){return kr(Vc,RT,ST(e))},MT=function(e,t){return Oy(gr((function(t,r){var n=t.gn;if(n.$)return r;var i=n.a;return vx(kr(e,i,t),r)})),t,t.gY)},IT=function(e,t){return Oy(gr((function(t,r){var n=t.gn;if(n.$)return r;var i=n.a;return vx(e(i,t),r)})),t,t.gY)},TT=(gr(MT),function(e){return kr(Vc,Ps,kr(Vc,kr(cu,gr((function(e,t){return(r=t.$c()).gn=e.gn,r;var r})),Ps(e)),Uv))}),AT=mr((function(e,t,r){return Bt(e,t(r))})),OT=function(e,t){var r=Ar(e,t);e:for(;;)switch(r.a.$){case 1:if(1===r.b.$){var n=r.a.a;r.b;return Xx(xk(!0,qr([n])))}break e;case 0:if(1===r.b.$){r.a;var i=r.b,a=i.a,o=i.b;return Xx(xk(!a,o))}break e;case 2:if(r.b.$)break e;var s=r.a.a;return Xx(Ik(s));default:var u=r.a.a;return vx(u,Xx(t))}return Xx(t)},DT=(gr(OT),function(e){return bu(gr((function(t,r){return Tr(t,e)?!r:r})))}),PT=function(e){return bu(gr((function(t,r){return Tr(t,e)})))},qT=function(e,t){if(t.$){r=t.a;return Tk(kr(DT,e,r))}var r=t.a;return Ak(kr(PT,e,r))},LT=gr(qT),UT=function(e,t){if(e.$){var r=e.a;return vx(r,Xx(t))}var n=e.a,i=e.b;return Xx(function(){var e=td(LT(i),cy(n,t));if(e.$)return t;var r=e.a;return fC(n,r,t)}())},NT=(gr(UT),function(e,t){if(e.$){var r=e.a;return vx(r,Xx(t))}var n=e.a;return Xx(qT(n,t))}),BT=(gr(NT),gr((function(e,t){var r=Ar(e,t.gy);e:for(;;)switch(r.a.$){case 0:if(1===r.b.$){var n=r.a.b,i=r.b.a;return cx(kr(AT,t,Ck),OT(n,i))}break e;case 1:if(2===r.b.$){n=r.a.b,i=r.b.a;return cx(kr(AT,t,Rk),NT(n,i))}break e;case 2:if(3===r.b.$){n=r.a.b,i=r.b.a;return cx(kr(AT,t,Ek),UT(n,i))}break e;default:break e}return Xx(t)}))),FT=function(e){return Zc(function(){if(e.$){if(e.b.b&&!e.b.b.b){t=e.b.a;return qr([Ar("Select",Gc(t))])}return qr([Ar("Select",Gc(-1))])}var t=e.a;return qr([Ar("Text",Xc(t))])}())},jT=function(e){return Zc(function(){if(e.$){t=e.a;return qr([Ar("MultipleChoice",Jc(zc,t))])}var t=e.a;return qr([Ar("SingleChoice",Jc(zc,t))])}())},KT="Matrix",HT=function(e){return Zc(qr([Ar(KT,Py(jT,e))]))},WT=function(e){switch(e.$){case 0:return Zc(qr([Ar("Generic",Vf)]));case 1:var t=e.a;return FT(t);case 2:t=e.a;return jT(t);default:t=e.a;return HT(t)}},VT=function(e){return Zc(qr([Ar("solved",Gc(function(){switch(e.gw){case 0:return 0;case 1:return 1;default:return-1}}())),Ar("state",WT(e.gy)),Ar("trial",Gc(e.gW)),Ar("hint",Gc(e.fp)),Ar("error_msg",Xc(e.e4))]))},zT=(qy(VT),function(e,t){if(e.$)return t;var r=e.a;return ew(NM("quiz",r,Py(VT,t.gY)),t)}),GT=(gr(zT),function(e,t){return aI(((r=t.$c()).cZ={aA:"exec",dc:t.cZ.dc},r.gT=qr([Ar("script",e)]),r.gr="script",r));var r}),JT=(gr(GT),function(e){switch(e.$){case 0:return kk;case 1:var t=e.a;return Ck(t.dK);case 2:t=e.a;return Rk(t.dK);default:t=e.a;return Ek(t.dK)}}),YT=Uf(qr([Ba(Ik,qa("Text",jl)),Ba(kr(Vc,rp,Mk(!1)),qa("Select",Lf))])),ZT=Uf(qr([Ba(Ak,qa("SingleChoice",yx(Lc))),Ba(Tk,qa("MultipleChoice",yx(Lc)))])),XT=qa(KT,FR(ZT)),QT=Uf(qr([Ba(Ck,YT),Ba(Rk,ZT),Ba(Ek,XT),Na((function(e){return Zu(kk)}),qa("Generic",gx))])),eA=Va(Sk,Na((function(e){switch(e){case 0:return Zu(0);case 1:return Zu(1);default:return Zu(2)}}),qa("solved",Lf)),qa("state",QT),qa("trial",Lf),qa("hint",Lf),qa("error_msg",jl),Zu(As)),tA=FR(eA),rA=(qf(tA),function(e,t,r){var n=td(r,cy(e,t));if(n.$)return Xx(t);var i=n.a;return cx((function(r){return fC(e,r,t)}),i)}),nA=(mr(rA),function(e,t,r,n,i){switch(n.$){case 0:var a=n.a;return rA(a,i,BT(n));case 1:a=n.a;return rA(a,i,BT(n));case 2:a=n.a;return rA(a,i,BT(n));case 3:a=n.a;var o=n.b,s=cy(a,i);if(s.$)return Xx(i);var u=s.a,c=u.gn;if(1===c.$)return yT(e,t,Ts(a),zT(t,rA(a,i,bT(o))));var l=c.a;return rw(function(){var e=td((function(e){return e.bT}),cy(l,r));if(e.$)return Xi;var t=e.a;return qr([cw("eval",a,Vx(t,Wc(zx,Gx,r),qr([RT(u.gy)])))])}(),Xx(i));case 4:var f=n.a;return zT(t,rA(f,i,(function(e){return Xx(((t=e.$c()).fp=e.fp+1,t));var t})));case 5:a=n.a,o=n.b;return yT(e,t,Ts(a),function(e){var t=Kc((function(e){return e.gn}),cy(a,i));if(t.$)return e;var r=t.a;return o.$?vx(kr(xT,r,JT(o)),e):vx(_T(r,"true"),e)}(zT(t,rA(a,i,(function(e){return Xx(((t=e.$c()).e4="",t.gw=2,t.gy=JT(o),t));var t})))));case 6:var d=n.a,h=Ax(d);e:for(;;){if(1===h.a.$){if("load"===h.c.a){h.a;var v=h.c.b;return yT(e,t,As,IT((function(e,t){return kr(xT,e,t.gy)}),Xx(Kf(i,Cl(TT(i),Ja(tA,v))))))}break e}switch(h.a.a){case"eval":if("eval"===h.c.a){a=h.b,v=h.c.b;var p=Kc((function(e){return e.gn}),cy(a,i));if(p.$)return yT(e,t,Ts(a),zT(t,rA(a,i,wT(v))));l=p.a;return yT(e,t,Ts(a),vx(GT(l,d),zT(t,rA(a,i,wT(v)))))}break e;case"restore":var b=h.c,g=b.a;v=b.b;return yT(e,t,As,IT((function(e,t){return kr(xT,e,t.gy)}),Xx(Kf(i,Cl(TT(i),Ja(tA,v))))));default:break e}}g=h.c.a;return ew(sT("Quiz: unknown command => "+g),Xx(i));default:var m=n.a;return vx(m,Xx(i))}}),iA=(yr(nA),function(e){return Zc(_c((function(e){var t=e.a,r=e.b;return Ar(t,zc(r))}),Us(e)))}),aA=function(e){return Zc(function(){switch(e.$){case 0:var t=e.a;return qr([Ar("Text",Xc(t))]);case 1:var r=e.b;return qr([Ar("Select",Gc(r))]);case 2:var n=e.a,i=e.b;return qr([Ar(n?"SingleChoice":"MultipleChoice",iA(i))]);default:n=e.a;var a=e.b;return qr([Ar(n?"SingleChoiceMatrix":"MultipleChoiceMatrix",Py(iA,a))])}}())},oA=function(e){return aA(e)},sA=function(e){return e.gF?Ts(e.gy):As},uA=function(e){return kr(Vc,sA,kr(Vc,rd(kr(Vc,oA,function(e){return kr(Vc,kx("survey"),kr(lw,"id",e))}(e))),Dl(DM)))},cA=function(e,t,r,n){if(e){var i=Ar(t,r);if(1===i.a.$){i.a;return n}if(1===i.b.$){i.b;return rw(vu(uA,Ps(n.gY)),n)}var a=i.b.a;return ew(Ol(DM,td(uA(a),cy(a,n.gY))),n)}return n},lA=($r(cA),function(e){var t=xx(e);return t.aF?"true"===t.dt?function(e){return Xx(Ft(e,!0))}:Xx:function(e){return Xx(jt(e,Ts(t.dt)))}}),fA=function(e){return'"'+e.a+'": '+(e.b?"1":"0")},dA=function(e){switch(e.$){case 0:return e.a;case 1:var t=e.b;return Qs(t);case 2:var r=e.b;return"{"+Nh(Bh(", ",_c(fA,Us(r))))+"}";default:var n=e.b;return"["+Nh(Bh(",\n",_c(kr(Vc,fE(!1),dA),Ps(n))))+"]"}},hA=function(e){return kr(Vc,dA,ST(e))},vA=Os,pA=$M(vA),bA=kr(Vc,Xc,Uh("errorMessage")),gA=(rd(bA),function(e){return Zc(mM(vA,td(bA,e.e3),qr([Ar("submitted",zc(e.gF)),Ar("state",aA(e.gy))])))}),mA=(qy(gA),function(e,t){if(e.$)return t;var r=e.a;return ew(NM("survey",r,Py(gA,t.gY)),t)}),$A=(gr(mA),function(e,t){var r=cy(t,e);if(r.$)return e;var n=r.a;return fC(t,Ft(n,!0),e)}),yA=(gr($A),function(e,t){var r=td((function(e){return Ar(e.gF,e.gy)}),cy(t,e));if(r.$||r.a.a)return!1;switch(r.a.b.$){case 0:return""!==(n=r.a.b.a);case 1:return!(-1===(n=r.a.b.b));case 2:var n=r.a.b.b;return uu(xd((function(e){return e}),fd(n)))>0;default:n=r.a.b.b;return qw((function(e){return uu(e)>0}),_c((function(e){return xd((function(e){return e}),e)}),_c(fd,Ps(n))))}}),wA=(gr(yA),Ha($r((function(e,t,r,n){return new ee(r,n,t,e)})),qa("submitted",Lc),qa("state",tx),Nf(qa("errorMessage",jl)),Zu(As))),_A=FR(wA),SA=(qf(_A),function(e,t,r){return fC(t,r,e)}),CA=(mr(SA),function(e,t,r){var n=td((function(e){return Ar(e.gF,e)}),cy(t,e));if(n.$||n.a.a)return e;var i=n.a.b;return SA(e,t,jt(i,r))}),kA=(mr(CA),function(e,t,r){var n=td(r,cy(e,t));if(n.$)return Xx(t);var i=n.a;return cx((function(r){return fC(e,r,t)}),i)}),EA=(mr(kA),function(e,t,r,n){var i=td((function(e){return Or(e.gF,e.gy,e)}),cy(t,e));if(i.$||i.a.a||3!==i.a.b.$)return e;if(i.a.b.a){var a=i.a;s=a.b.b,u=a.c,c=cy(r,s);return SA(e,t,Bt(u,aE(!0,Ol(s,td((function(e){return fC(r,e,s)}),td((function(e){return y$(n,(function(e){return td(Pd,e)}),e)}),c))))))}var o=i.a,s=o.b.b,u=o.c,c=cy(r,s);return SA(e,t,Bt(u,aE(!1,Ol(s,td((function(e){return fC(r,e,s)}),td((function(e){return y$(n,(function(e){return Ts(!0)}),e)}),td((function(e){return KS((function(e,t){return!1}),e)}),c)))))))}),RA=($r(EA),function(e,t,r){var n=td((function(e){return Or(e.gF,e.gy,e)}),cy(t,e));if(n.$||n.a.a||1!==n.a.b.$)return e;var i=n.a,a=(i.b,i.c);return SA(e,t,Bt(a,sE(!1,r)))}),xA=(mr(RA),function(e,t){var r=td((function(e){return Or(e.gF,e.gy,e)}),cy(t,e));if(r.$||r.a.a||1!==r.a.b.$)return e;var n=r.a,i=n.b,a=i.a,o=i.b,s=n.c;return SA(e,t,Bt(s,sE(!a,o)))}),MA=(gr(xA),function(e,t,r){var n=td((function(e){return Or(e.gF,e.gy,e)}),cy(t,e));if(n.$||n.a.a||n.a.b.$)return e;var i=n.a.c;return SA(e,t,Bt(i,cE(r)))}),IA=(mr(MA),function(e,t,r){var n=td((function(e){return Or(e.gF,e.gy,e)}),cy(t,e));if(n.$||n.a.a||2!==n.a.b.$)return e;if(n.a.b.a){var i=n.a;o=i.b.b,s=i.c;return SA(e,t,Bt(s,lE(!0,y$(r,(function(e){return td(Pd,e)}),o))))}var a=n.a,o=a.b.b,s=a.c;return SA(e,t,Bt(s,lE(!1,y$(r,(function(e){return Ts(!0)}),KS((function(e,t){return!1}),o)))))}),TA=(mr(IA),function(e,t,r,n,i){switch(n.$){case 0:var a=n.a,o=n.b;return Xx(MA(i,a,o));case 1:var s=n.a,u=n.b;return Xx(RA(i,s,u));case 2:s=n.a;return Xx(xA(i,s));case 3:a=n.a;var c=n.b;return Xx(IA(i,a,c));case 4:a=n.a;var l=n.b;c=n.c;return Xx(EA(i,a,l,c));case 5:s=n.a;var f=cy(s,i);if(f.$)return Xx(i);var d=f.a,h=d.gn;if(1===h.$){if(yA(i,s)){var v=$A(i,s);return mA(t,cA(e,t,Ts(s),Xx(v)))}return Xx(i)}var p=h.a;return ew(function(){var e=td((function(e){return e.bT}),cy(p,r));if(e.$)return DM;var t=e.a;return cw("eval",s,Vx(t,Wc(zx,Gx,r),qr([dA(d.gy)])))}(),Xx(Tr(d.e3,As)?i:CA(i,s,As)));case 7:var b=n.a;return vx(b,Xx(i));default:var g=n.a,m=Ax(g);e:for(;;){if(1===m.a.$){if("load"===m.c.a){m.a;var $=m.c.b;return IT((function(e,t){return kr(hA,e,t.gy)}),cA(e,t,As,Xx(Kf(i,Cl(TT(i),Ja(_A,$))))))}break e}switch(m.a.a){case"eval":if("eval"===m.c.a){var y=m.b,w=($=m.c.b,Kc((function(e){return e.gn}),cy(y,i)));if(w.$)return cA(e,t,Ts(y),mA(t,kA(y,i,lA($))));p=w.a;return cA(e,t,Ts(y),vx(GT(p,g),mA(t,kA(y,i,lA($)))))}break e;case"restore":var _=m.c;_.a,$=_.b;return IT((function(e,t){return kr(hA,e,t.gy)}),cA(e,t,As,Xx(Kf(i,Cl(TT(i),Ja(_A,$))))));default:break e}}return Xx(i)}}),AA=(yr(TA),function(e,t){return Tr(t.eD,e)?t.eV?function(){var e=t.$c();return e.eV=!1,e}():function(){var e=t.$c();return e.eD=-1,e}():((r=t.$c()).eD=e,r.eV=!0,r);var r}),OA=(gr(AA),function(e,t,r){return Xx(Ol(t,td((function(n){return fC(e,AA(r,n),t)}),cy(e,t))))}),DA=(mr(OA),function(e,t){return Xx(Ol(t,td((function(r){return fC(e,((n=r.$c()).eS=!r.eS,n),t);var n}),cy(e,t))))}),PA=(gr(DA),function(e,t){switch(e.$){case 0:var r=e.a,n=e.b;return OA(r,t,n);case 1:r=e.a;return DA(r,t);default:return Xx(t)}}),qA=(gr(PA),function(e){return kr(Vc,YE,ST(e))}),LA=kr(Vc,(function(e){return e.gy}),qy(zc)),UA=(qy(LA),function(e,t){if(e.$)return t;var r=e.a;return ew(NM("task",r,Py(LA,t.gY)),t)}),NA=(gr(UA),FR(Ba((function(e){return new ae(As,e)}),FR(Lc)))),BA=(qf(NA),gr((function(e,t){return Bt(t,fC(e,Ol(!1,td(Pd,cy(e,t.gy))),t.gy))}))),FA=function(e,t,r,n){switch(r.$){case 0:var i=r.a,a=r.b,o=td(BA(a),cy(i,n));if(o.$)return Xx(n);var s=o.a,u=s.gn;if(1===u.$)return UA(e,Xx(fC(i,s,n)));var c=u.a;return UA(e,ew(function(){var e=td((function(e){return e.bT}),cy(c,t));if(1===e.$)return DM;var r=e.a;return cw("eval",i,Vx(r,Wc(zx,Gx,t),qr([Wc(GE,JE,s)])))}(),Xx(fC(i,s,n))));case 2:var l=r.a;return vx(l,Xx(n));default:var f=r.a,d=Ax(f);e:for(;;){if(1===d.a.$){if("load"===d.c.a){d.a;var h=d.c.b;return MT(qA,Xx(Kf(n,Cl(TT(n),Ja(NA,h)))))}break e}if("eval"===d.a.a&&"eval"===d.c.a){var v=d.b,p=(d.c,Kc((function(e){return e.gn}),cy(v,n)));if(p.$)return Xx(n);c=p.a;return vx(GT(c,f),Xx(n))}break e}return Xx(n)}},jA=($r(FA),gr((function(e,t){return Er(lT,e,!0,sI(t))}))),KA=mr((function(e,t,r){var n=td(_x,Kl(Ja(wx,t)));e:for(;!n.$&&!n.a.a.$;)switch(n.a.a.a){case"code":var i=n.a.b;return HA(e,kR(OR(i)),r);case"quiz":i=n.a.b;return HA(e,MR(qR(i)),r);case"survey":i=n.a.b;return HA(e,IR(LR(i)),r);case"effect":i=n.a.b;return HA(e,ER(!0,DR(i)),r);case"task":i=n.a.b;return HA(e,AR(NR(i)),r);case"table":i=n.a.b;return HA(e,TR(UR(i)),r);default:break e}return ew(sT("subHandle Problem"),Xx(r))})),HA=function(e,t,r){e:for(;;)if(r.$){var n=r.a;switch(t.$){case 9:o=t.a;return ux("script",n.fr,fx((function(e){return bx(tt(n,e))}),RR(!0),Er(jA,VA(As),o,n.eZ)));case 0:a=t.a,o=t.b;return ux("effect",n.fr,fx((function(e){return bx(tt(n,e))}),RR(a),cT(VA(As),a,o,n.eZ)));default:return Xx(r)}}else{var i=r.a;switch(t.$){case 0:var a=t.a,o=t.b;return ux("effect",i.fr,fx((function(e){return px(tt(i,e))}),RR(a),cT(VA(As),a,o,i.eZ)));case 4:var o=t.a;return ux("table",i.fr,cx((function(e){return px(wt(i,e))}),PA(o,i.b$)));case 1:var o=t.a;return ux("code",i.fr,fx((function(e){return px(bt(i,e))}),kR,iI(Du,As,e,o,i.ap).b));case 2:o=t.a;if((s=nA(!1,As,e,o,i.bO)).bc.$)return ux("quiz",i.fr,cx((function(e){return px($t(i,e))}),s));e=e,t=MR(o),r=px($t(i,s.gY));continue e;case 3:o=t.a;if((s=TA(!1,As,e,o,i.b_)).bc.$)return ux("survey",i.fr,cx((function(e){return px(yt(i,e))}),s));e=e,t=IR(o),r=px(yt(i,s.gY));continue e;case 5:var s;o=t.a;if((s=FA(As,e,o,i.b1)).bc.$)return ux("task",i.fr,cx((function(e){return px(Kt(i,e))}),s));e=e,t=AR(o),r=px(Kt(i,s.gY));continue e;case 9:o=t.a;return ux("script",i.fr,fx((function(e){return px(tt(i,e))}),RR(!0),Er(jA,VA(As),o,i.eZ)));default:return Xx(r)}}},WA=mr(HA),VA=function(e){return new de(e,KA,WA)},zA=function(e,t){var r=t.R;return lt(t,kt(r,e))},GA=(gr(zA),function(e,t){var r,n=t.R;return lt(t,((r=n.$c()).gd=e,r))}),JA=(gr(GA),function(e,t){var r,n=t.R;return lt(t,((r=n.$c()).gH=e,r))}),YA=(gr(JA),function(e){return kr(Vc,kr(dC,e,-1),Xx)}),ZA=gr((function(e,t){return kr(Vc,kr(dC,e,t),Xx)})),XA=function(e,t){switch(e.$){case 0:var r=e.a,n=e.b;return Er(ZA,r,n,t);case 1:r=e.a;return kr(YA,r,t);case 3:var i=e.a;return vx(i,Xx(t));default:return Xx(t)}},QA=(gr(XA),function(e,t){return ft(t,i$(Pr(t.eE,e)))}),eO=(gr(QA),function(e,t){var r=t.gY,n=t.eE,i=t.bc,a=t.e6;return new se(vo(e,n),a,i,r)}),tO=(gr(eO),function(e){var t=e.bc;if(1===t.$)return e;var r=t.a,n=e.gY,i=eO(RR(!0),ux("effect",n.fr,Er(jA,VA(As),r,e.gY.eZ)));return rw(i.e6,QA(qr([i.eE]),eM(e,tt(n,i.gY))))}),rO=function(e,t,r,n){switch(r.$){case 0:var i=r.a,a=r.b;return ux("effect",n.fr,fx((function(e){return tt(n,e)}),RR(i),cT(VA(Ts(Ol(t,n.eR))),i,a,n.eZ)));case 1:a=r.a;var o=n.R,s=iI(n.R.eB,Ts(n.fr),n.eZ.fy,a,n.ap),u=s.a,c=s.b;return tO(ux("code",n.fr,cx((function(e){return Ht(n,kt(o,Ol(o.eB,u)),e)}),c)));case 2:a=r.a;return tO(ux("quiz",n.fr,cx((function(e){return $t(n,e)}),nA(ox(e),Ts(n.fr),n.eZ.fy,a,n.bO))));case 5:a=r.a;return tO(ux("task",n.fr,cx((function(e){return Kt(n,e)}),FA(Ts(n.fr),n.eZ.fy,a,n.b1))));case 6:a=r.a;return tO(ux("gallery",n.fr,cx((function(e){return mt(n,e)}),XA(a,n.bw))));case 3:a=r.a;return tO(ux("survey",n.fr,cx((function(e){return yt(n,e)}),TA(ox(e),Ts(n.fr),n.eZ.fy,a,n.b_))));case 4:a=r.a;return ux("table",n.fr,cx((function(e){return wt(n,e)}),PA(a,n.b$)));case 10:var l=r.a;switch(l.cZ.aA){case"code":var f=Ja(FR(XR),dx(l).b);if(f.$)return Xx(n);var d=f.a;return Xx(zA(d,n));case"quiz":var h=kr(YR,ex,dx(l).b);if(h.$)return Xx(n);d=h.a;return Xx(GA(d,n));case"survey":var v=kr(YR,rx,dx(l).b);if(v.$)return Xx(n);d=v.a;return Xx(JA(d,n));default:return Xx(n)}case 8:var p=r.a;return iw(kr(ax,BR,"lia-modal__close"),Xx(Wt(n,Ts(p))));case 7:return iw(Ol(hx,td(kr(Vc,VR,ax(BR)),n.bu)),Xx(Wt(n,As)));case 9:a=r.a;return tO(vx(a,Xx(n)));default:return Xx(n)}},nO=$r(rO),iO=function(e,t,r,n,i){switch(r){case"code":return rO(e,t,kR(OR(n)),i);case"quiz":return rO(e,t,MR(qR(n)),i);case"survey":return rO(e,t,IR(LR(n)),i);case"effect":return rO(e,t,ER(!0,DR(n)),i);case"task":return rO(e,t,AR(NR(n)),i);case"table":return rO(e,t,TR(UR(n)),i);case"gallery":return rO(e,t,xR(PR(n)),i);default:return Xx(i)}},aO=(yr(iO),function(e){return{$:6,a:e}}),oO=function(e){return{$:5,a:e}},sO={$:0},uO=function(e){return{$:7,a:e}},cO=function(e,t){switch(t.$){case 0:return"Beaker";case 1:return"Edrys";case 2:var r=t.a;return"GUN"+(e?"|"+r:"");case 3:var n=t.a;return"JitSi"+(e?"|"+n:"");case 4:var i=t.a.er,a=t.a.gX,o=t.a.ee;return"Matrix"+(e?"|"+i+"|"+a+"|"+o:"");default:var s=t.a.gc,u=t.a.gD;return"PubNub"+(e?"|"+s+"|"+u:"")}},lO=(gr(cO),function(e){return Cx("disconnect",Xc(e))}),fO=function(e,t){return{$:0,a:e,b:t}},dO=(gr(fO),function(e){var t=e.a,r=e.b;return fO(1664525*t+r>>>0,r)}),hO=function(e,t){return{$:0,a:e,b:t}},vO=(gr(hO),yR=tc,Jr((function(e){e(Gr(yR(Date.now())))}))),pO=no((function(e){return mc((t=e,r=dO(fO(0,1013904223)),n=r.a,i=r.b,dO(fO(n+t>>>0,i))));var t,r,n,i}),vO),bO=function(e,t){return e(t)},gO=(gr(bO),function(e,t,r){if(t.b){var n=t.a,i=t.b,a=bO(n,r),o=a.a,s=a.b;return no((function(t){return gO(e,i,s)}),lo(e,o))}return mc(r)}),mO=mr(gO),$O=mr((function(e,t,r){return mc(r)})),yO=function(e,t){var r=t;return function(t){var n=r(t),i=n.a,a=n.b;return Ar(e(i),a)}},wO=(gr(yO),gr((function(e,t){return yO(e,t)})));co.Random=an(pO,mO,$O,wO);var _O=sn("Random"),SO=function(e,t){return _O(yO(e,t))},CO=(gr(SO),function(e){var t=e.a,r=277803737*(t^t>>>4+(t>>>28));return(r>>>22^r)>>>0}),kO=function(e,t){return function(r){var n=zi(e,t)<0?Ar(e,t):Ar(t,e),i=n.a,a=n.b-i+1;if(a-1&a){var o=(-a>>>0)%a>>>0;return function(e){for(;;){var t=CO(e),r=dO(e);if(!(zi(t,o)<0))return Ar(t%a+i,r);e=r}}(r)}return Ar(((a-1&CO(r))>>>0)+i,dO(r))}},EO=(gr(kO),function(e,t,r,n){for(;;){if(t<1)return Ar(e,n);var i=r(n),a=i.a,o=i.b;e=Pr(a,e),t=t-1,r=r,n=o}}),RO=($r(EO),function(e,t){var r=t;return function(t){return EO(Xi,e,r,t)}}),xO=(gr(RO),Uv(qr(["Accommodating","Accomplished","Authentic","Awesome","Awe-Inspiring","Brave","Bright","Brilliant","Caring","Creative","Delightful","Dreamy","Easy","Education","Effortless","Empathy","Empowering","Engaging","Epic","Exciting","Exhilarating","Eye-Opening","Fabulous","Fair","Fantastical","Flexible","Free","Friendly","Fun","Genius","Great","Good","Hands-On","Happy","High-Expectations","Hilarious","Honest","Idyllic","Important","Inclusive","Inspiring","Interactive","Inviting","Joyful","Kind","Knowledge","Learning","LiaScript","Life-Changing","Lucky","Magical","Marvelous","Mind-Blowing","Motivating","New","Open","Optimistic","Outstanding","Passion","Participatory","Playful","Polite","Relaxing","Reliable","Respectful","Safe","Social","Successful","Thankful","Thoughtful","Trustworthy","Ultimate","United","Useful","Varied","Warm","Welcoming","Yummy"]))),MO=gr((function(e,t){return Ar(Jm(e,t),Fp(e,t))})),IO=function(e,t,r,n){for(;;){if(!r.b)return _u(n);var i=r.a,a=r.b,o=e(i);if(Dd(o,t))e=e,t=t,r=a,n=n;else e=e,t=Pr(o,t),r=a,n=Pr(i,n)}},TO=($r(IO),function(e){return IO(tc,Xi,e,Xi)}),AO=kr(Vc,bf((function(e){return cy(e,xO)})),kr(Vc,MO(4),kr(Vc,Hu,Nh))),OO=kr(Vc,TO,AO),DO=yO(OO,RO(10,kO(0,Nv(xO)))),PO=function(e){if(1===e.$){var t=e.a;return Ts(t)}return As},qO="join",LO=(kx(qO),function(e,t){var r=t;return Py(kr(Sy,tc,e),r)}),UO=(gr(LO),qy(Xc)),NO=kr(Vc,(function(e){return e.aZ}),UO),BO=function(e){return Zc(qr([Ar("q",LO(gT,e.gd)),Ar("s",LO(oA,e.gH)),Ar("c",Py(NO,e.eB))]))},FO=gr((function(e,t){return kr(Vc,ek((function(r){var n=t(r);if(n.$)return rf;var i=n.a;return zp(qr([Ar(e,i)]))})),tc)})),jO=gr((function(e,t){return new L(QC(Nx,t.ap.cs),Er(FO,e,mT,t.bO),Er(FO,e,sA,t.b_))})),KO=function(e){var t=e.R.gy;if(1===t.$){var r=t.a;return ew(Cx(qO,Py(function(e){return kr(Vc,jO(e),BO)}(r),e.bU)),Xx(e))}return Xx(e)},HO=function(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";case 4:return"E";case 5:return"F";case 6:return"G";case 7:return"H";case 8:return"I";case 9:return"J";case 10:return"K";case 11:return"L";case 12:return"M";case 13:return"N";case 14:return"O";case 15:return"P";case 16:return"Q";case 17:return"R";case 18:return"S";case 19:return"T";case 20:return"U";case 21:return"V";case 22:return"W";case 23:return"X";case 24:return"Y";case 25:return"Z";case 26:return"a";case 27:return"b";case 28:return"c";case 29:return"d";case 30:return"e";case 31:return"f";case 32:return"g";case 33:return"h";case 34:return"i";case 35:return"j";case 36:return"k";case 37:return"l";case 38:return"m";case 39:return"n";case 40:return"o";case 41:return"p";case 42:return"q";case 43:return"r";case 44:return"s";case 45:return"t";case 46:return"u";case 47:return"v";case 48:return"w";case 49:return"x";case 50:return"y";case 51:return"z";case 52:return"0";case 53:return"1";case 54:return"2";case 55:return"3";case 56:return"4";case 57:return"5";case 58:return"6";case 59:return"7";case 60:return"8";case 61:return"9";case 62:return"+";default:return"/"}},WO=function(e,t){var r,n=t.a,i=t.b,a=t.c<<8|e;return 2===i?Or(Dr(n,Dr(HO(63&(r=a)>>>18),Dr(HO(63&r>>>12),Dr(HO(63&r>>>6),HO(63&r>>>0))))),0,0):Or(n,i+1,a)},VO=(gr(WO),gr((function(e,t){var r=gu(e);return r<128?WO(r,t):WO(128|63&r,r<2048?WO(192|r>>>6,t):WO(128|63&r>>>6,r<55296||r>=57344&&r<=65535?WO(224|r>>>12,t):WO(128|63&r>>>12,WO(240|r>>>18,t))))}))),zO=Or("",0,0),GO=function(e){return function(e){var t=e.a,r=e.b,n=e.c;switch(r){case 1:return t+(HO(63&n>>>2)+(HO(63&n<<4)+"=="));case 2:return t+(HO(63&n>>>10)+(HO(63&n>>>4)+(HO(63&n<<2)+"=")));default:return t}}(ma(VO,zO,e))},JO=function(e,t){var r=t.d4;return Gt(t,zt(r,Ts(e)))},YO=gr(JO),ZO=function(e){return YO(function(e){var t=e.b9,r=e.ci,n=e.a9;return GO(Qa(0,Zc(qr([Ar("backend",Xc(t)),Ar("course",Xc(r)),Ar("room",Xc(n))]))))}(e))},XO=function(e){return Ht(e,new L(Du,X$,X$),(t=e.ap,pt(t,QC((function(e){return Ot(e,!1)}),t.cs))));var t},QO=(ek(XO),gr((function(e,t){return(r=e.$c()).a7=zw(t),r;var r}))),eD=mr((function(e,t,r){return new L(r,e,t)})),tD=Ka(eD,qa("q",JR(ex)),qa("s",JR(rx)),qa("c",FR(XR))),rD=function(e,t){var r=Ar(e,t);if(r.a.b){if(r.b.b){var n=r.a,i=n.a,a=n.b,o=r.b,s=o.a,u=o.b;return Pr(At(i,s.bG),rD(a,u))}var c=r.a;i=c.a,a=c.b;return Pr(i,rD(a,Xi))}if(r.b.b){var l=r.b;s=l.a,u=l.b;return Pr(s,rD(Xi,u))}return Xi},nD=(gr(rD),gr((function(e,t){return lt(e,ow(e.R.eB)?t:kt(t,Uv(rD(Ps(t.eB),Ps(e.R.eB)))))}))),iD=function(e,t){return Xx(Jt(e,Kf(e.R,Cl(QO(e.R),Ja(qa("peers",yx(jl)),t))),Kf(e.bU,Cl(kr(Vc,kr(cu,nD,Ps(e.bU)),Uv),Ja(Na((function(e){return _f(e)?Bf("empty lists cannot be state vectors"):Zu(e)}),qa("data",yx(tD))),t)))))},aD=(gr(iD),function(e){return es(e.bE,Jl(e.d4))}),oD=function(e,t){var r,n=Ar(e,t);e:for(;;)switch(n.a.$){case 0:if(2===n.b.$){var i=n.a.a;return cf(i)}break e;case 3:if(3===n.b.$){var a=n.a.a;return lf(a)}break e;case 1:if(5!==n.b.$)break e;switch(n.a.a){case"pub":var o=n.a.b,s=n.b.a;return df((r=void 0,(r=s.$c()).gc=o,r));case"sub":o=n.a.b,s=n.b.a;return df(function(){var e=s.$c();return e.gD=o,e}());default:break e}default:if(4!==n.b.$)break e;switch(n.a.a){case"url":o=n.a.b,s=n.b.a;return ff(function(){var e=s.$c();return e.er=o,e}());case"user":o=n.a.b,s=n.b.a;return ff(function(){var e=s.$c();return e.gX=o,e}());case"token":o=n.a.b,s=n.b.a;return ff(function(){var e=s.$c();return e.ee=o,e}());default:break e}}return t},sD=(gr(oD),function(e,t){switch(e.$){case 0:var r=e.a;return Vt(t,r);case 1:var n=e.a;return(s=t.$c()).bV=n,s.c9=!1,s;default:var i=e.a,a=t.bV;if(!a.$&&a.a.a){var o=a.a.b;return Yt(t,Ts(Ar(!0,oD(i,o))))}return t}var s}),uD=(gr(sD),function(e,t,r){var n,i=t.R;switch(r.$){case 5:var a=r.a,o=dx(a);switch(o.a){case"update":var s=o.b;return iD(t,s);case"error":s=o.b;var u=Ar(Ja(jl,s),i.R.bV);if(u.a.$||u.b.$||!u.b.a.a)return Xx(lt(t,Zt(i,hf,Ts("unknown"),sf)));var c=u.a.a;u.b.a;return Xx(lt(t,Zt(i,hf,Ts(c),sf)));case"connect":s=o.b;var l=Ar(Ja(jl,s),i.R.bV);if(l.a.$||l.b.$||!l.b.a.a)return iw(aD(JO(t.ge,e)),Xx(lt(t,((n=i.$c()).a7=hf,n.gy=sf,n))));var f=l.a.a,h=l.b.a.b;return iw(aD(kr(ZO,new d(cO(!0,h),t.ge,i.a9),e)),KO(lt(t,Zt(i,hf,As,{$:1,a:f}))));case"disconnect":return iw(aD(JO(t.ge,e)),Xx(Jt(t,Zt(i,hf,As,sf),QC(XO,t.bU))));default:return Xx(t)}case 1:var v=r.a;return Xx(lt(t,function(){var e=i.$c();return e.dd=v,e}()));case 0:v=r.a;return Xx(lt(t,Xt(i,v)));case 6:return iw(SO(uO,DO),Xx(t));case 7:var p=r.a;return Xx(lt(t,Xt(i,p)));case 2:var b=r.a;return Xx(lt(t,lt(i,sD(b,i.R))));case 3:var g=Ar(i.R.bV,i.gy);if(!g.a.$&&g.a.a.a&&2===g.b.$){h=g.a.a.b,g.b;return ew(function(e){return Cx("connect",Zc(qr([Ar("backend",Xc(mf(cO(!1,e.b9)))),Ar("config",Zc(qr([Ar("course",Xc(e.ci)),Ar("room",Xc(e.a9)),Ar("password",uc(e.dd)?Vf:Xc(e.dd)),Ar("config",function(){var t=e.b9;switch(t.$){case 2:var r=t.a;return Jc(Xc,xd(kr(Vc,uc,Pd),_c(md,ru(",",r))));case 3:var n=t.a;return Xc(n);case 4:var i=t.a.er,a=t.a.gX,o=t.a.ee;return Zc(qr([Ar("baseURL",Xc(i)),Ar("userId",Xc(a)),Ar("accessToken",Xc(o))]));case 5:var s=t.a.gc,u=t.a.gD;return Zc(qr([Ar("publishKey",Xc(s)),Ar("subscribeKey",Xc(u))]));default:return Vf}}())])))])))}(new he(h,t.ge,i.dd,i.a9)),Xx(lt(t,function(){var e=i.$c();return e.R=function(e){return Vt(e,!1)}(i.R),e.gy=sO,e}())))}return Xx(t);default:return ew(Ol(DM,td(lO,PO(t.R.gy))),Xx(lt(t,Bt(i,sO))))}}),cD=mr(uD),lD=gr((function(e,t){return kr(Vc,oO,kr(cD,e,t))})),fD=$r((function(e,t,r,n){return Er(nO,e,t,ER(n,function(e){return{$:0,a:e}}(r)))})),dD=Qo,hD=function(e){return kr(Vc,Jl,dD(e.bE))},vD=function(e){var t,r=e.d4;return kr(hD,e,((t=r.$c()).aC=As,t.ag=As,t))},pD=function(e,t){var r=e.d4;return kr(hD,e,Ge(r,Ts(Qs(1+t))))},bD=(gr(pD),{$:1}),gD=mr((function(e,t,r){return Er(nO,e,t,ER(r,bD))})),mD={$:2},$D=mr((function(e,t,r){return Er(nO,e,t,ER(r,mD))})),yD=function(e){return{$:10,a:e}},wD=function(e,t,r){return e?t?td((function(e){return cw("settings",e.fr,DI(e.eZ.d8))}),r):Ts(cw("settings",Ol(-1,td((function(e){return e.fr}),r)),lI)):As},_D=(mr(wD),{$:2}),SD=function(e){return St(e,!0)},CD=function(e,t){e:for(;;){if(e.b){var r=e.a,n=e.b;if(Ea(r,t)){e=n,t=t;continue e}return!1}return!0}},kD=(gr(CD),gr((function(e,t){return St(t,CD(xd(ld(""),ru(" ",e)),mf(Dr(t.eB,my(t.gS)))))}))),ED=function(e,t){var r=""===t?SD:kD(mf(t));return QC(r,e)},RD=(gr(ED),function(e,t,r){switch(e.$){case 0:var n=e.a;return Or(n,ED(r,n),hx);case 1:return Or("",ED(r,""),kr(ax,_D,"lia-input-search"));default:return Or(t,r,hx)}}),xD=(mr(RD),Id(el(rl,nl,"translate",{aA:"google",dc:Vf}))),MD=function(e){var t=e.gS,r=e.gN,n=e.d4;return Id(el(rl,nl,"share",{aA:"link",dc:Zc(qr([Ar("title",Xc(t)),Ar("text",Xc(r)),Ar("url",Xc(n))]))}))},ID=function(e){return kr(Vc,jf(e),Hf(e))},TD={$:8},AD=rd(ax(TD)),OD=Dl(hx),DD=(kr(Vc,AD,OD),function(e,t){return ew(iy(t),iw(Wc(AD,OD,e),Xx(t)))}),PD=(gr(DD),function(e){return kr(Vc,Xx,aw(Wc(AD,OD,e)))}),qD=zc,LD=cI("browserTTS"),UD=(kr(Vc,qD,LD),function(e,t,r){switch(t.$){case 6:var n=t.a,i=Ax(n);if(1===i.a.$&&"init"===i.c.a){i.a;var a=i.c.b;return kr(PD,As,kr(ID,((v=r.$c()).fv=!0,v),a))}return"tts"===n.gr?kr(PD,As,function(){var e=bI(n);switch(e.$){case 0:return Ut(r,!0);case 1:return Ut(r,!1);case 3:var t=e.a,i=r.b2;return Qt(r,function(){var e=i.$c();return e.cM=t,e}());case 4:t=e.a,i=r.b2;return Qt(r,function(){var e=i.$c();return e.cN=t,e}());default:return r}}()):DD(As,r);case 5:var o=t.a;return 2===o?ew(lI,DD(As,function(){var e=r.$c();return e.dL=!1,e.fS=2,e}())):DD(As,st(r,o));case 1:var s=t.a;return DD(As,function(){var e=r.$c();return e.am=s,e}());case 2:s=t.a;return DD(As,function(){var e=r.$c();return e.cp=s,e}());case 4:var u=t.a;return DD(As,function(){var e=r.$c();return e.cv=u,e}());case 3:var c=t.a;return DD(As,function(){var e=r.$c();return e.fA=c,e}());case 7:var l=t.a;return ew(MD(new ve(Ol("",td(kr(Vc,(function(e){return e.cf}),my),e)),Ol("",td((function(e){return e.gS}),e)),l)),Xx(r));case 0:switch(t.a.$){case 0:t.a;return DD(As,function(){var e=r.$c();return e.b5=As,e.gJ=!r.gJ,e}());case 6:t.a;return DD(As,function(){var e=r.$c();return e.b5=As,e.dS=!r.dS,e}());case 1:t.a;return ew(Gf("settings",r.dL?lI:Ol(DM,td(DI,Kc((function(e){return e.eY}),e)))),DD(As,function(){var e=r.$c();return e.dL=!r.dL,e}()));case 2:t.a;return DD(As,function(){var e=r.$c();return e.fG=!r.fG,e}());case 8:t.a;return DD(As,function(){var e=r.$c();return e.dZ=!r.dZ,e}());case 4:t.a;return kr(PD,As,lt(r,td(Pd,r.R)));case 3:t.a;return kr(PD,As,function(){var e=r.$c();return e.dH=!r.dH,e}());case 5:var f=t.a.a;return kr(PD,function(){switch(f){case 3:return Ts("lia-mode-textbook");case 2:return Ts("lia-btn-light-mode");default:return As}}(),function(){var e=r.$c();return e.b5=5===f||Tr(r.b5,Ts(f))?As:Ts(f),e}());case 9:t.a;var d=r.b2,h=!d.di;return ew(Wc(qD,LD,h),Xx(Qt(r,Je(d,h))));default:t.a;return ew(xD,Xx(function(){var e=r.$c();return e.d$=r.d$.$?As:Ts(!0),e}()))}default:return Xx(r)}var v}),ND=(mr(UD),function(e,t,r){e:for(;;)switch(t.$){case 0:var n=t.a,i=t.b,a=r.dF;if(zi(-1,i)<0&&zi(i,Nv(r.bU))<0){if(Tr(i,r.gp)||n){var o=e,s=Vy,u=CR(tr(r,er(a,!(zi(e.dC.g0,Xl)<1)&&a.gJ),i));e=o,t=s,r=u;continue e}return iw(pD(e,i),Xx(tr(r,er(a,!(zi(e.dC.g0,Xl)<1)&&a.gJ),i)))}return Xx(r);case 10:return iw(vD(e),Xx(r));case 5:var c=t.a,l=RD(c,r.cJ,r.bU),f=l.a,d=l.b,h=l.c;return iw(vo(Jy,h),Xx((j=void 0,(j=r.$c()).bU=d,j.cJ=f,j)));case 8:c=t.a;return ux("sync",-1,eO(Xy,uD(e,r,c)));case 9:var v=t.a,p=_x(v);if(p.a.$){p.a;return ew(sT("unknown event: "+v.gr+" / "+v.cZ.aA),Xx(r))}switch(p.a.a){case"settings":var b=p.b;e=o=e,t=s=Zy(aO(b)),r=u=r;continue e;case"load":o=e,s=Vy,u=CR(r);e=o,t=s,r=u;continue e;case"goto":switch(v.cZ.aA){case"goto":var g=Ja(Lf,v.cZ.dc);if(g.$)return ew(sT("message goto with no id"),Xx(r));var m=g.a;e=o=e,t=s=Hy(!0,m),r=u=r;continue e;case"next":e=o=e,t=s=zy,r=u=r;continue e;case"prev":e=o=e,t=s=Gy,r=u=r;continue e;default:return ew(sT("message goto unknown"),Xx(r))}case"local":var $=p.b,y=Kc((function(e){return cy(e,r.bU)}),Wc(II,TI,v));if(y.$)return Xx(r);var w=y.a;return fx((function(e){return _t(r,fC(w.fr,e,r.bU))}),Yy,rO(r.R.gy,r.eR,yD($),w));case"sync":b=p.b;var _=WI(b);if(1===_.$)return ux("sync",-1,eO(Xy,Er(lD,e,"connect"===b.cZ.aA?rr(r,nw(r.dF)):r,b)));if("load"===_.a.a){m=_.a.b;e=o=e,t=s=Hy(!0,m),r=u=r;continue e}var S=_.a,C=S.a,k=(m=S.b,$=S.c,cy(m,r.bU));if(k.$)return Xx(r);w=k.a;return fx((function(e){return _t(r,fC(m,e,r.bU))}),Yy,iO(r.R.gy,r.eR,C,$,w));case"swipe":b=p.b;var E=Ja(jl,dx(b).b);t:for(;!E.$;)switch(E.a){case"left":e=o=e,t=s=zy,r=u=r;continue e;case"right":e=o=e,t=s=Gy,r=u=r;continue e;default:break t}return Xx(r);default:C=p.a.a,b=p.b;var R=td((function(e){return Ar(e,cy(e,r.bU))}),Wc(II,TI,v));if(R.$||R.a.b.$)return Xx(r);var x=R.a;m=x.a,w=x.b.a;return fx((function(e){return _t(r,fC(m,e,r.bU))}),Yy,iO(r.R.gy,r.eR,C,b,w))}case 11:var M=t.a,I=(m=M.a,M.b),T=cy(m,r.bU);if(T.$)return Xx(r);w=T.a;return fx((function(e){return _t(r,fC(m,e,r.bU))}),Yy,tO(vx(I,Xx(w))));case 13:var A=t.a,O=A.a,D=A.b,P=A.c;return Xx(function(){var e=Ar(D,P);t:for(;;){if(e.a.$){if(1===e.b.$){e.a,e.b;return function(){var e=r.$c();return e.c$=""===O?As:Ts(O),e}()}break t}if(e.b.$)break t;var t=e.a.a,n=e.b.a;return function(){var e=r.$c();return e.fP=Cd(O,Ar(t,n),r.fP),e}()}return r}());default:var q=Ar(t,dw(r));t:for(;;)switch(q.a.$){case 7:if(q.b.$)break t;c=q.a.a,w=q.b.a;return fx(SR(r),Yy,rO(r.R.gy,r.eR,c,w));case 3:if(q.b.$)break t;q.a,w=q.b.a;if(2!==r.dF.fS&&xI(w.eZ))return fx(SR(r),Yy,Rr(gD,r.R.gy,r.eR,r.dF.dL,w));e=o=e,t=s=Hy(!1,r.gp+1),r=u=r;continue e;case 2:if(q.b.$)break t;q.a,w=q.b.a;if(2!==r.dF.fS&&MI(w.eZ))return fx(SR(r),Yy,Rr($D,r.R.gy,r.eR,r.dF.dL,w));e=o=e,t=s=Hy(!1,r.gp-1),r=u=r;continue e;case 1:if(q.b.$)break t;q.a,w=q.b.a;var L=2===r.dF.fS?xr(fD,r.R.gy,r.eR,!0,!1,w):xr(fD,r.R.gy,r.eR,!1,r.dF.dL,w);return rw(Pr((F=r.gp,PI("init",Zc(qr([Ar("slide",Gc(F))])))),r.dY),fx(SR(function(){var e=r.$c();return e.dY=Xi,e}()),Yy,L));case 4:if(q.b.$)break t;m=q.a.a,w=q.b.a;if(2===r.dF.fS||Tr(w.eZ.d8,m))return Xx(r);var U=w.eZ;L=Rr(gD,r.R.gy,r.eR,r.dF.dL,tt(w,St(U,m-1)));return fx(SR(r),Yy,L);case 6:c=q.a.a,w=q.b;return fx((function(e){return rr(r,e)}),Zy,UD(Ts(new pe(r.eR.cf,td((function(e){return e.d8}),td((function(e){return e.eZ}),w)),r.gS)),c,r.dF));case 12:var N=q.a.a,B=(w=q.b,wD(r.dF.dL,N,w));if(B.$)return Xx(r);v=B.a;return ew(v,Xx(r));default:break t}return Xx(r)}var F,j}),BD=mr(ND),FD=gr((function(e,t){return kr(Vc,Wy(t),BD(e))})),jD=function(e){return e.bU},KD=Nv,HD=(kr(Vc,jD,KD),gr((function(e,t){var r=t.a;return Tr(e,r)}))),WD=function(e,t){for(;;){if(!t.b)return As;var r=t.a,n=t.b;if(e(r))return Ts(r);e=e,t=n}},VD=(gr(WD),function(e){try{return Ts(decodeURIComponent(e))}catch(e){return As}}),zD=gr((function(e,t){var r=HD(mf(Ol(t,VD(t)))),n=WD(r,e);return n.$?t:n.a.b})),GD=function(e,t){var r,n=zD(vu(ay,Ps(QC(kr(Vc,(function(e){return e.gS}),kr(Vc,my,md)),t.bU)))),i=Ol(t.gp,Kc(oy(n),t.b7));return Rr(FD,e,!1,zi(i,Wc(jD,KD,t))>-1?Wc(jD,KD,t)-1:i,((r=t.$c()).dD=n,r.dY=Pr(Wc(jy,Ky,t),Pr(iy(t.dF),t.dY)),r.df=Wc(jd,Kd,t.eR.cU),r.gS=Wc($y,yy,t.bU),r))},JD=(gr(GD),function(e,t){return Xe(t,Cd("persistent",e?"true":"false",t.cU))}),YD=(gr(JD),function(e){var t,r=JO(e.bF.ge,e.bb),n=e.bF,i=GD(r,((t=n.$c()).bU=ry(e.gy),t.eR=JD(!1,n.eR),t.gp=0,t));return Ar(nr(e,i.gY,r),J$(G$,i))}),ZD=function(e,t,r,n){if(r.$)return YD(Bt(e,n$(e.gy,Ol("",t.e2))));var i,a=r.a;return Ar(((i=e.$c()).bF=t,i.eB=r,i.gu=ic(a),i.gy=t$(!0,uu(n)),i),i$(Pr(z$(Qm),_c(W$(e$),n))))},XD=($r(ZD),kr(Mf,"\r",""),function(e,t){var r=Xm(t.bF,xf("\r","",e)),n=r.a,i=r.b,a=r.c;return Ol(!1,td(dd(n.eR.bd),t.gb))?Ar(t,Qc(Wc(vd,pd,new be(n.ge,n.eR.bd)))):ZD(t,n,i,a)}),QD=(gr(XD),function(e,t){var r=t.d4;return Gt(t,Ge(r,Ts(Qs(e))))}),eP=(gr(QD),function(e){var t=e.a,r=e.b,n=Tr(t.bb.d4.aC,As)?QD(1,t.bb):t.bb;return Ar(ir(t,n),i$(qr([aD(n),r])))}),tP=function(e,t){var r=Ar(e,t);e:for(;;)switch(r.a.$){case 2:if(2===r.b.$)return!0;break e;case 4:if(4===r.b.$)return!0;break e;case 5:if(5===r.b.$)return!0;break e;case 3:if(3===r.b.$)return!0;break e;default:break e}return Tr(e,t)},rP=(gr(tP),function(e,t){var r=t.R,n=$f(e.b9);if(n.$)return ut(t,Ts("Unknown Backend type: "+e.b9));var i,a=n.a;return(i=t.$c()).R=Yt(r,Ts(Ar(Ol(!1,td(Hu,Sf(xd((function(e){var t=e.a,r=e.b;return!!tP(r,a)&&t}),t.R.dR)))),a))),i.a9=e.a9,i}),nP=(gr(rP),function(e,t){var r,n=t.bF.dF,i=t.bF;return ar(t,((r=i.$c()).R=rP(e,i.R),r.dF=lt(n,n.R.$?As:Ts(!0)),r))}),iP=(gr(nP),nu("/")),aP=kr(Vc,(function(e){var t=_u(e);if(t.b){var r=t.a,n=t.b;return Ts(Ar(r,_u(n)))}return As}),rd(kr(Vc,Yf,kr(Vc,tu("/"),(function(e){return e+"/"}))))),oP=kr(Vc,iP,aP),sP=mr((function(e,t,r){var n=zi(e.dC.g0,Xl)>0,i=kr(Vc,Er(jc,e.P,r,e.dC),xr(Fc,0,e.by,As,ef,As)),a=zt(t,td(Qf,t.ag)),o=Or(a.ag,e.bk,e.bT);if(!o.c.$){var s=o.c.a,u=zt(a,Ts("README.md"));return eP(XD(s,Er(i,u,Nc,Wf(e.P,n,e.dF,e.R,Yl(u),"README.md","",As))))}if(!o.b.$){var c=o.b.a;return eP(cl(c,Er(i,zt(a,Ts(c)),Bc,Wf(e.P,n,e.dF,e.R,Yl(Ol(zt(a,Ts(c)),bc(c))),c,Ol("",Wc(iP,aP,c)),t.aC))))}if(o.a.$)return Jf(Er(i,a,Nc,Wf(e.P,n,e.dF,e.R,"","","",t.aC)));c=o.a.a;var l=Vl(a);switch(l.$){case 0:return Jf(Er(i,a,Nc,Wf(e.P,n,e.dF,e.R,"","","",t.aC)));case 1:var f=l.b;return eP(cl(c,Er(i,a,Bc,Wf(e.P,n,e.dF,e.R,Yl(a),c,Ol("",Kc(oP,a.ag)),f))));default:var d=l.a;f=l.b;return eP(cl(d.ci,nP(d,Er(i,a,Bc,Wf(e.P,n,e.dF,e.R,Yl(a),d.ci,Ol("",Wc(iP,aP,d.ci)),f)))))}})),uP=function(e){return{$:1,a:e}},cP=function(e){return{$:3,a:e}},lP=gr((function(e,t){return new ge(t,e)})),fP=un,dP=hn("event2elm",Na((function(e){return Na((function(t){return Na((function(r){return Na((function(n){return Zu(new f(n,r,t,e))}),qa("message",Na((function(e){return Na((function(t){return Zu({aA:t,dc:e})}),qa("cmd",jl))}),qa("param",gx))))}),qa("reply",Lc))}),qa("service",jl))}),qa("track",yx(Na((function(e){return Na((function(t){return Zu(Ar(e,t))}),Ua(1,Lf))}),Ua(0,jl)))))),hP=function(e,t,r){return{$:0,a:e,b:t,c:r}},vP=(mr(hP),function(e,t){return{dg:t,dQ:e}}),pP=(gr(vP),mc(vP(Xi,rf))),bP=function(e){var t=e.a,r=e.b;return Ar(Dr(function(e){return e?"w_":"d_"}(t),r),e)},gP=function(e,t){return{ct:t,bE:e}},mP=(gr(gP),function(e,t,r){var n=r.a,i=r.b;return Cc((function(e){return Ar(t,e)}),is(n?ns:rs,i,(function(r){return ho(e,gP(t,r))})))}),$P=(mr(mP),mr((function(e,t,r){var n=mr((function(t,r,n){var i=n.a,a=n.b,o=n.c;return Or(i,a,Pr(mP(e,t,r),o))})),i=mr((function(e,t,r){var n=r.a,i=r.b,a=r.c;return Or(Pr(t,n),i,a)})),a=$r((function(e,t,r,n){var i=n.a,a=n.b,o=n.c;return Or(i,Cd(e,t,a),o)})),o=_c(bP,t),s=BS(i,a,n,r.dg,zp(o),Or(Xi,rf,Xi)),u=s.a,c=s.b,l=s.c;return no((function(e){return mc(vP(o,Ed(c,zp(e))))}),no((function(e){return Ec(l)}),Ec(_c(I$,u))))}))),yP=mr((function(e,t,r){var n=t.bE,i=t.ct,a=pf((function(e){var t=e.a,r=e.b,a=(r.a,r.b,r.c);return Tr(t,n)?as(a,i):As}),r.dQ);return no((function(e){return mc(r)}),Ec(_c(Rc(e),a)))})),wP=gr((function(e,t){var r=t.a,n=t.b,i=t.c;return hP(r,n,Ba(e,i))}));co["Browser.Events"]=an(pP,$P,yP,0,wP);var _P=sn("Browser.Events"),SP=function(e,t,r){return _P(hP(e,t,r))},CP=(mr(SP),function(e){return{$:13,a:e}}),kP=hn("media",Na((function(e){return Na((function(t){return Na((function(r){return Zu(Or(e,t,r))}),Ua(2,Uf(qr([QR(As),Ba(Ts,Lf)]))))}),Ua(1,Uf(qr([QR(As),Ba(Ts,Lf)]))))}),Ua(0,jl))),EP=function(e){return{$:8,a:e}},RP=hn("footnote",jl),xP=function(e){var t=dw(e);if(t.$)return kP(CP);t.a;return fP(qr([vo(Yy,RP(EP)),kP(CP)]))},MP=gr((function(e,t){return{$:7,a:e,b:t}})),IP=function(e){return{$:2,a:e}},TP=function(e,t){var r=e.fT,n=e.eq,i=Zm(Ol("",Wc(iP,aP,n)),t);if(i.$)return r;var a=i.a.a;return Ld(a,r)},AP=(gr(TP),function(e){return function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return function(c){return function(l){return function(f){return function(d){return function(h){return function(v){return function(p){return function(b){return function(g){return function(m){return function($){return function(y){return function(w){return new _(c,l,o,f,p,b,m,$,n,w,r,t,d,g,u,s,a,y,i,h,v,e)}}}}}}}}}}}}}}}}}}}}}}),OP=gr((function(e,t){return kr(Yu,qu,qa(e,t))})),DP=gr((function(e,t){return kr(Yu,qu,qa(e,t))})),PP=Uf(qr([Ba(nv,qa("Link",jl)),Ba(iv,qa("Script",jl))])),qP=wr((function(e,t,r,n,i,a){return new A(r,e,n,a,t,i)})),LP=function(e){return Na(e,Zu(0))},UP=function(e,t){return Ba(t,qa(e,jl))},NP=(gr(UP),function(e){return Ba(e,Uf(qr([qa("a",yx(Na((function(e){if(e.b&&e.b.b&&!e.b.b.b){var t=e.a,r=e.b.a;return Zu(Ar(t,r))}return Bf("not correct parameter list")}),yx(jl)))),Zu(Xi)])))}),BP=function(e,t){return Ba(t,qa(e,LP((function(e){return KP()}))))},FP=(gr(BP),function(e,t){return Ka(e,qa(t,LP((function(e){return Ri()}))),Fa(Uh,qa("stream",Lc),qa("url",jl)),Ii())}),jP=(gr(FP),function(e,t){return Ka(e,qa(t,LP((function(e){return Ri()}))),qa("url",jl),Ii())});gr(jP);function KP(){return Na(NP,Uf(qr([UP("Chars",Dv),UP("FootnoteMark",Tg),UP("Symbol",cb),UP("Verbatim",pb),BP("Bold",vv),BP("Italic",$v),BP("Strike",Iv),BP("Superscript",Tv),BP("Underline",Av),Ba(Rv,qa("Ref",Mi())),Ba(vm,qa("Container",LP((function(e){return Ri()})))),Ba(gv,qa("IHTML",LP((function(e){return t=KP(),Ka(Jg,qa("node",jl),Ba(Us,qa("attr",GR(jl))),qa("children",yx(t)));var t})))),Ba(Mv,qa("Script",Lf)),Ba(pv,xi())])))}var HP=Ri();Ri=function(){return HP};var WP=KP();KP=function(){return WP};var VP=xi();xi=function(){return VP};var zP=Mi();Mi=function(){return zP};var GP=Ii();Ii=function(){return GP};var JP,YP=Fa(qu,Zu(As),Fa(qu,Zu(As),Er(DP,"onload",jl,Fa(qu,Zu(!1),Fa(qu,Zu(-1),Fa(qu,Zu(-1),Er(DP,"attributes",yx(HP),Fa(qu,Zu(Xi),Er(DP,"macro",GR(jl),Er(DP,"translation",GR(jl),Er(DP,"base",jl,Er(DP,"resources",yx(PP),Er(DP,"comment",HP,Er(DP,"version",jl,Er(DP,"narrator",jl,Er(DP,"logo",jl,Er(DP,"language",jl,Er(DP,"email",jl,Er(DP,"date",jl,Er(DP,"author",jl,Zu((function(e){return function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return function(c){return function(l){return function(f){return function(d){return function(h){return function(v){return function(b){return function(g){return function(m){return function($){return function(y){return new p(h,e,c,s,t,g,r,d,n,$,i,f,y,a,m,u,v,l,b,o)}}}}}}}}}}}}}}}}}}}})))))))))))))))))))))),ZP=mr((function(e,t,r){return new q(r,e,t)})),XP=Ka(ZP,qa("indentation",Lf),qa("title",HP),qa("code",jl)),QP=function(e){return qf(function(e){return Fa(qu,Zu(!1),Fa(qu,Zu(e),Fa(qu,Zu(As),Fa(qu,Zu(rf),Fa(qu,Zu(tc),Er(OP,"translation",jl,Er(OP,"translation",jl,Er(OP,"translation",Ba(kr(Vc,Wd,Dl(12)),jl),Fa(qu,Zu(Xi),Fa(qu,Zu(Xi),Fa(qu,Zu(""),Er(OP,"definition",YP,Fa(qu,Zu(As),Er(OP,"section_active",Lf,Er(OP,"sections",Ba(qx(ey),FR(XP)),Fa(qu,Zu(As),Fa(qu,Zu(af(!1,0)),Er(OP,"str_title",jl,Er(OP,"origin",jl,Er(OP,"readme",jl,Er(OP,"readme",Ba(Pf,jl),Er(OP,"url",jl,Zu(AP)))))))))))))))))))))))}(e))},eq=$r((function(e,t,r,n){return new me(r,e,n,t)})),tq=gr((function(e,t){return new $e(t,e)})),rq=Fa(tq,qa("title",HP),YP),nq=Ha(eq,qa("id",jl),qa("data",GR(rq)),Zu(As),qa("updated_str",jl)),iq=function(e){var t=Ar(Ja(qa("id",jl),e),Ja(nq,e));if(t.a.$){var r=t.a.a;return Hs(r)}if(t.b.$){n=t.a.a;return Gs(Ar(n,As))}var n=t.a.a,i=t.b.a;return Gs(Ar(n,Ts(i)))},aq=function(e){return{$:7,a:e}},oq=function(e){return{$:9,a:e}},sq=function(e){switch(e.$){case 2:case 1:return!0;default:return!1}},uq=function(e){return Pc(gc,Jr((function(t){try{ns.location=e}catch(e){So.location.reload(!1)}})))},cq=Jl,lq=uq,fq=(kr(Vc,cq,lq),function(e,t){return"**Error:** "+e+"\n\n**Cause:** "+t}),dq=(gr(fq),function(e,t,r){var n=Ra(Tf,t);return"> "+e+"\n>\n> **"+(n?xf(Tf,"",t):t)+" ** \n\n---\nFrom the network I received the following status\n\n"+function(e){switch(e.$){case 0:var t=e.a;return fq("Bad Url "+t,"This means that the provided URL was not valid.");case 1:return fq("Network Timeout","It took too long to get a response.");case 3:var r=e.a;return fq("Bad Status "+Qs(r),"This means I got a response back, but the status code indicates failure... You can check out [Wikipedia](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes) to see what this means in detail.");case 2:return fq("Network Error","This means that you might have no internet connection, have turned off your Wi-FI or you are in a cave...");default:var n=e.a;return fq("Bad Body","I received a response back with a nice status code, but the body of the response was something unexpected.\n\n```\n")+(n+"\n```")}}(r)+(n?"\n\n---\n\n**Note:** The URL below looks a bit strange...\n\n"+t+"\n\n\nThe reason for this is, that your resource could not be loaded in the first place.\nIn most cases this happens if\n[CORS](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing)\nis not enabled on the root server. Hence, I tried to use a proxy to load it, but this didn't work either...\n":"")}),hq=mr(dq),vq="It seems, that I could not load the following LiaScript document for some reason:",pq=(hq(vq),"I could not load the resource below. It contains a set of macros that need to\nbe loaded before the course. A later version of LiaScript might be more resilient\nto errors, but at the moment everything needs to be in place..."),bq=(hq(pq),Jd),gq=function(e){return e.eD},mq=(kr(Vc,bq,gq),sh(Nh,cp(Oh(qr([Wc(xh,Mh,"(?:[^#`<]+|[\\x0D\n]+|\x3c!--[\\S\\s]{0,1000}?--\x3e)"),Wc(xh,Mh,"(`{3,})[\\S\\s]*?\\1"),Wc(xh,Mh,"`.+?`"),Wc(xh,Mh,"(?:<([\\w+\\-]+)[\\S\\s]*?<[ \t]*/[ \t]*\\1[ \t]*>|`|<)"),Wc(xh,Mh,"#+(\\w|[^\\u0000-\\u007F]|[ \t]*\n)"),$h(Ch("#"),(JP=function(e){return e?Bv(0):Jv("")},gr((function(e,t){return Er(th,JP(Wc(bq,gq,t)),e,t)}))))]))))),$q=fh(AS,Um),yq=ch(mq,ch($q,sh(ZP,tR))),wq=function(e,t){var r=Ip(yq,mh(As,e),t);if(r.$){var n=r.a,i=n.b,a=n.c;return Hs(Qd(a,i))}var o=r.a,s=o.b,u=o.c;return Gs(Ar(u,s.fx))},_q=(gr(wq),function(e,t){var r=wq(e.eR,t);if(r.$){var n=r.a;return Ar(ut(e,Ts(n)),As)}var i=r.a,a=i.a,o=i.b;return Ar(_t(e,zv(Q$(Wc(jD,KD,e),a),e.bU)),uc(o)?As:Ts(o))}),Sq=(gr(_q),{$:3}),Cq=function(e){var t,r=JO(e.bF.ge,e.bb),n=e.bF,i=Ol(n.gp,td(Ys(-1),Kc(lc,r.d4.aC))),a=GD(r,((t=n.$c()).gp=i,t));return Ar(function(){var t=e.$c();return t.bF=a.gY,t.bb=r,t.gy=Sq,t}(),J$(G$,a))},kq=function(e){e:for(;;){var t=e.gy;t:for(;;){if(2===t.$){if(t.a){var r=t.b,n=e.eB;if(1===n.$){var i=Bt(e,t$(!1,r));e=i;continue e}var a=n.a,o=_q(e.bF,a),s=o.a,u=o.b,c=(l=void 0,(l=e.$c()).bF=s,l.eB=u,l);if(ua(4,Wc(jD,KD,s))){e=i=c;continue e}return Ar(c,z$(Qm))}if(t.b)break t;return Cq(e)}break t}return Ar(e,hx)}var l},Eq=function(e,t){return(r=t.$c()).dC=e,r;var r},Rq=(gr(Eq),function(e,t){return Gt(t,e)}),xq=(gr(Rq),function(e,t){return yd((function(t,r,n){return kr(e,t,r)?Cd(t,r,n):n}),rf,t)}),Mq=(gr(xq),function(e,t,r){if(r.b){var n=r.a,i=r.b;return Tr(n.fr,e)?Pr(Dt(n,function(){if(t.$)return As;var e,r,i=t.a;return Sf(Ns((e=function(e,t){return Tr(t.eR.bd,i)},r=n.g_,yd((function(t,r,n){return e(t,r)?Cd(t,r,n):n}),rf,r))))}()),i):Pr(n,Mq(e,t,i))}return Xi}),Iq=(mr(Mq),Ba((function(e){return{$:0,a:e}}),yx(nq))),Tq=function(e){return kr(ol,"delete",Xc(e))},Aq=hd,Oq=ol("reset"),Dq=(kr(Vc,Aq,Oq),function(e){return{$:11,a:e}}),Pq=function(e,t,r){var n=r.a,i=r.b,a=r.c;if(11===e.$){var o=e.a,s=UD(As,o,t);return Ar(s.gY,Or(n,i$(qr([i,vo(Dq,s.eE)])),bd(a,s.e6)))}return Ar(t,Or(n,i,a))},qq=(mr(Pq),function(e,t,r){return Pq(e,t,function(){switch(e.$){case 0:var n=e.a;return Or(((p=r.$c()).eG=n,p.fv=!0,p),hx,Xi);case 1:default:return Or(r,hx,Xi);case 3:var i=e.a;return Or(or(r,xd(kr(Vc,(function(e){return e.fr}),ld(i)),r.eG)),hx,qr([Tq(i)]));case 4:i=e.a;var a=e.b;return Or(r,hx,qr([Wc(Aq,Oq,new be(i,a.$?Ol("-1",td((function(e){return Qs(Ol(-1,Zw(pf(lc,Ns(e.g_)))))}),WD(kr(Vc,(function(e){return e.fr}),Lu(i)),r.eG))):a.a))]));case 7:var o=e.a,s=dx(o);if("index_list"===s.a){var u=s.b;return qq((h=u,v=Ja(Iq,h),v.$?{$:1,a:"decode"}:v.a),t,r).b}var c=s.a;return Or(r,hx,qr([sT("Index: unknown cmd => "+c)]));case 2:var l=e.a;return Or(rt(r,l),hx,Xi);case 5:var f=e.a;a=e.b;return Or(r,hx,qr([Wc(vd,pd,new be(f,Ol("0.0.0",a)))]));case 8:f=e.a,a=e.b;return Or(or(r,Mq(f,a,r.eG)),hx,Xi);case 6:var d=e.a;return Or(r,hx,qr([MD(d)]));case 10:l=e.a;return Or(r,uq(l),Xi)}var h,v,p}())}),Lq=(mr(qq),gr((function(e,t){e:for(;;)switch(e.$){case 0:var r=e.a,n=ND(t.bb,r,t.bF);return Ar(ar(t,n.gY),J$(G$,n));case 1:var i=e.a,a=Ax(i);t:for(;;){if(!a.a.$){if("index"===a.a.a){e=IP(aq(_x(i).b)),t=t;continue e}break t}switch(a.c.a){case"index_get":a.a;var o=a.c.b,s=iq(o);if(s.$)return Ar(sr(t,As),H$(MP,t.bF.ge));var u=s.a,c=u.a,l=u.b;return Ar(sr(t,l),H$(MP,c));case"index_restore":a.a,o=a.c.b;var f=kr(QP,t.bF.R,o);if(f.$)return Ar(sr(t,As),H$(MP,t.bF.ge));var d=f.a;return Cq(ar(t,Ld(d.eR,rr(d,t.bF.dF))));case"lang":a.a,o=a.c.b;var h=Ja(jl,o);if(h.$)return Ar(t,hx);var v=h.a;d=t.bF;return Ar(ar(t,(A=void 0,(A=d.$c()).cP=v,A.gU=Ol(d.gU,Wd(v)),A)),hx);default:break t}}e=G$(oq(i)),t=t;continue e;case 2:r=e.a,d=t.bF;var p=qq(r,t.bF.dF,t.cI),b=p.a,g=p.b,m=g.a,$=g.b,y=g.c;return Ar(function(){var e=t.$c();return e.bF=rr(d,b),e.cI=m,e}(),J$(IP,rw(y,iw($,Xx(0)))));case 5:var w=e.a;if(w.$){var _=w.a;return Ar(t,uq(_))}c=w.a;return Ar(t,function(){var e=Ar(c.ag,t.bb.d4.ag);t:for(;;){if(e.a.$){if(e.b.$)break t;e.a,n=e.b.a;return uq(Jl(zt(c,Ts(n))))}if(e.b.$)break t;var r=e.a.a,n=e.b.a;return Tr(r,n)&&Tr(c.aC,Ts(""))?hx:uq(Jl(c))}return uq(Jl(c))}());case 6:c=e.a;if(Tr(c,t.bb.d4))return Ar(t,hx);var S=Vl(c);switch(S.$){case 1:var C=S.b,k=Ol(0,Kc(oy(t.bF.dD),C)),E=QD(k+1,Rq(c,t.bb));d=(n=Rr(FD,E,!0,k,t.bF)).gY;return Ar(nr(t,Gt(d,Jl(Ge(c,As))),E),J$(G$,n));case 2:var R=S.a;C=S.b,k=Ol(0,Kc(oy(t.bF.dD),C)),E=QD(k+1,kr(ZO,R,t.bb)),d=(n=Rr(FD,E,!0,k,t.bF)).gY;return Ar(nr(t,Gt(d,Jl(Ge(c,As))),E),J$(G$,n));default:return Jf(function(){var e=t.$c();return e.bb=Rq(c,t.bb),e.gy=Nc,e}())}case 3:var x=e.a;return Ar(ir(t,Eq(x,t.bb)),hx);case 4:return kq(t);case 7:if(e.b.$){c=e.a;var M=e.b.a;return Ra(Tf,c)?YD(Bt(t,n$(t.gy,dq(vq,c,M)))):sq(M)&&!Tr(t.gb,As)?Ar(t,Qc(Wc(vd,pd,new be(c,Ol(Ol("0",Kc(kr(Vc,(function(e){return e.g_}),kr(Vc,Ns,cd)),t.gb)),Kc((function(e){return e.eg}),t.gb)))))):Ar(t,Wc(cq,lq,JO(Dr(Tf,c),t.bb).d4))}var I=e.b.a;return XD(I,t);default:if(e.b.$){c=e.a,M=e.b.a;return Ra(Tf,c)?YD(Bt(t,n$(t.gy,dq(pq,c,M)))):Ar(t,H$(e$,Dr(Tf,c)))}var c=e.a,T=e.b.a;return kq(function(){var e=t.$c();return e.bF=TP(new ye(c,t.bF),xf("\r","",T)),e.gy=function(){var e=t.gy;if(2===e.$){var r=e.a,n=e.b;return t$(r,n-1)}return t.gy}(),e}())}var A}))),Uq=Co(Eo,"div"),Nq=Uq.a2,Bq=qr([Lo("width","100%"),Lo("text-align","center"),Lo("top","25%"),Lo("position","absolute")]),Fq=(Uq(Bq),Co(Eo,"br")),jq=Fq.a2,Kq=function(e,t){return Uo(e,Xc(t))},Hq=gr(Kq),Wq="className",Vq=(Hq(Wq),Ur),zq=Co(Eo,"h1"),Gq=zq.a2,Jq=Ao,Yq=Jq,Zq=(Hq("max"),Co(Eo,"progress")),Xq=Zq.a2,Qq=bn,eL=Qq,tL="value",rL=(Hq(tL),Co(Eo,"a")),nL=rL.a2,iL=Co(Eo,"article"),aL=iL.a2,oL={$:9},sL=function(e){return new we(e.fA,e.fG,e.fP,As,e.go,e.gv,e.dM,e.R,e.am,e.dZ,e.gV,As,2===e.fS?As:e.d8)},uL=function(e){switch(e){case 0:return"العربية";case 1:return"български";case 2:return"Deutsch";case 3:return"Español";case 4:return"فارسی";case 5:return"հայերեն";case 6:return"한국어";case 7:return"Nederlands";case 8:return"русский";case 9:case 11:return"中国人";case 10:return"Український";default:return"English"}},cL=function(e,t){return Ra(Kg,t)?Dr(t,Dr(Ea("?",t)?"&hl=":"?hl=",function(e){return Ol(uL(e.fA),td(Yf,e.gV))}(e))):t},lL=(gr(cL),"alt"),fL=Hq(lL),dL=gr((function(e,t){var r=td(kr(Vc,by(e.go,e.d8),md),t);return r.$||""!==r.a?r:As})),hL=function(e){return kr(Vc,Ts,kr(Vc,dL(e),rd(fL)))},vL=function(e,t){return No(function(e){return/^(formAction$)/i.test(e)?"data-"+e:e}(e),$n(t))},pL=gr(vL),bL=pL,gL=function(e){var t=e.a,r=e.b;return vL(t,r)},mL=Sc(gL),$L=function(e){return kr(Vc,Os(Ar("class",e)),mL)},yL=Co(Eo,"audio"),wL=yL.a2,_L=Co(Eo,"code"),SL=_L.a2,CL=function(e,t){return Uo(e,zc(t))},kL=gr(CL),EL="controls",RL=(kL(EL),Co(Eo,"em")),xL=RL.a2,ML=Co(Eo,"figcaption"),IL=ML.a2,TL=Co(Eo,"figure"),AL=TL.a2,OL=function(e,t,r){return e*t+r},DL=(mr(OL),function(e,t,r,n){var i=cy(OL(r,e,t),n);return!i.$&&!i.a.$}),PL=($r(DL),function(e){var t=e.bS,r=e.H,n=e.Q,i=e.aD;return n?ur(e,r-1,!1):cr(e,r+1,!0,i?t-1:t+1)}),qL=function(e,t){return 1==(1&e>>7-t)},LL=(gr(qL),mr((function(e,t,r){var n=e.gu,i=e.bS,a=e.H;return kr(dC,OL(n,i,a),Ts(Ar(!1,qL(t,r))))}))),UL=function(e,t,r,n){for(;;){var i=e.gu,a=e.bS,o=e.H;if(!t.b)return n;var s=t.a,u=t.b;if(r>=8)e=c=e,t=l=u,r=f=0,n=d=n;else if(6!==o)if(a<0)e=c=lr(e,o-2,!0,!1,0),t=l=t,r=f=r,n=d=n;else if(zi(a,i)>-1)e=c=lr(e,o-2,!0,!0,i-1),t=l=t,r=f=r,n=d=n;else if(DL(a,o,i,n)){e=c=PL(e),t=l=t,r=f=r,n=d=n}else{var c=PL(e),l=t,f=r+1,d=Rr(LL,e,s,r,n);e=c,t=l,r=f,n=d}else e=c=ur(e,o-1,!0),t=l=t,r=f=r,n=d=n}},NL=($r(UL),mr((function(e,t,r){return UL(function(e){return new _e(e+1,!0,!0,e+1,e)}(e),t,0,r)}))),BL={$:0},FL=Uv(qr([Xi,qr([6,18]),qr([6,22]),qr([6,26]),qr([6,30]),qr([6,34]),qr([6,22,38]),qr([6,24,42]),qr([6,26,46]),qr([6,28,50]),qr([6,30,54]),qr([6,32,58]),qr([6,34,62]),qr([6,26,46,66]),qr([6,26,48,70]),qr([6,26,50,74]),qr([6,30,54,78]),qr([6,30,56,82]),qr([6,30,58,86]),qr([6,34,62,90]),qr([6,28,50,72,94]),qr([6,26,50,74,98]),qr([6,30,54,78,102]),qr([6,28,54,80,106]),qr([6,32,58,84,110]),qr([6,30,58,86,114]),qr([6,34,62,90,118]),qr([6,26,50,74,98,122]),qr([6,30,54,78,102,126]),qr([6,26,52,78,104,130]),qr([6,30,56,82,108,134]),qr([6,34,60,86,112,138]),qr([6,30,58,86,114,142]),qr([6,34,62,90,118,146]),qr([6,30,54,78,102,126,150]),qr([6,24,50,76,102,128,154]),qr([6,28,54,80,106,132,158]),qr([6,32,58,84,110,136,162]),qr([6,26,54,82,110,138,166]),qr([6,30,58,86,114,142,170])])),jL=function(e,t){if(t.$)return Hs(e);var r=t.a;return Gs(r)},KL=(gr(jL),function(e,t){return ou((function(e,r){return ou((function(t,r){return Pr(Ar(e,t),r)}),r,t)}),Xi,e)}),HL=(gr(KL),gr((function(e,t){var r=t.a,n=t.b;return(r>10||10<n&&zi(n,e-10)<0)&&(zi(r,e-10)<0||n>10)}))),WL=hu(-2,2),VL=function(e,t){return Ts(Ar(!0,-2===e||2===e||-2===t||2===t||!e&&!t))},zL=(gr(VL),$r((function(e,t,r,n){var i=n.a,a=n.b;return kr(dC,OL(e,i+t,a+r),VL(i,a))}))),GL=mr((function(e,t,r){var n=t.a,i=t.b;return au(Er(zL,e,n,i),r,KL(WL,WL))})),JL=function(e,t,r){return au(GL(e),r,xd(HL(e),KL(t,t)))},YL=(mr(JL),function(e,t,r){return Cl((function(e){return JL(t,e,r)}),jL(BL,cy(e-1,FL)))}),ZL=(mr(YL),gr((function(e,t){return kr(dC,OL(t,4*e+9,8),Ts(Ar(!0,!0)))}))),XL=hu(0,8),QL=function(e,t){return 1<=e&&e<=7&&(1===t||7===t)||1<=t&&t<=7&&(1===e||7===e)||3<=e&&e<=5&&3<=t&&t<=5},eU=(gr(QL),yr((function(e,t,r,n,i){var a=n.a,o=n.b,s=a+t,u=o+r;return s<0||u<0||zi(s,e)>-1||zi(u,e)>-1?i:fC(OL(e,s,u),Ts(Ar(!0,QL(a,o))),i)}))),tU=function(e,t,r,n){return au(Er(eU,e,t,r),n,KL(XL,XL))},rU=($r(tU),function(e,t){if(t){if(e.$||e.a.a)return e;var r=e.a.b;return Ts(Ar(!1,!r))}return e}),nU=(gr(rU),function(e,t){return Ar(t/e|0,ua(e,t))}),iU=(gr(nU),$r((function(e,t,r,n){return rU(n,e(nU(t,r)))}))),aU=function(e,t,r){return Px(kr(iU,function(e){switch(e){case 0:return function(e){var t=e.a,r=e.b;return!ua(2,t+r)};case 1:return function(e){var t=e.a;return!ua(2,t)};case 2:return function(e){var t=e.b;return!ua(3,t)};case 3:return function(e){var t=e.a,r=e.b;return!ua(3,t+r)};case 4:return function(e){var t=e.a,r=e.b;return!ua(2,Uu(t/2)+Uu(r/3))};case 5:return function(e){var t=e.a,r=e.b;return!(ua(2,t*r)+ua(3,t*r))};case 6:return function(e){var t=e.a,r=e.b;return!ua(2,ua(2,t*r)+ua(3,t*r))};default:return function(e){var t=e.a,r=e.b;return!ua(2,ua(3,t*r)+ua(2,t+r))}}}(t),e),r)},oU=(mr(aU),function(e,t,r){for(;;){if(!t.b)return _u(r);var n=e,i=Fp(e,t),a=Pr(Jm(e,t),r);e=n,t=i,r=a}}),sU=(mr(oU),rd(Yf)),uU=Dl(!1),cU=kr(Vc,sU,uU),lU=function(e,t){for(;;){var r=t.a,n=t.b,i=t.c;if(!e.b)return n>=5?i+n-2:i;var a=e.a,o=e.b;if(Tr(r,a))e=o,t=Or(r,n+1,i);else if(n>=5)e=o,t=Or(a,0,i+n-2);else e=o,t=Or(a,0,i)}},fU=(gr(lU),function(e){return au(Ys,0,e)}),dU=Sc((function(e){return lU(e,Or(!1,0,0))})),hU=fU,vU=(kr(Vc,dU,hU),function(e,t,r,n){e:for(;;){if(e.b){var i=e.a,a=e.b;if(t.b){var o=t.a,s=t.b;if(Tr(i,o)){if(Tr(Ts(i),r)){e=a,t=s,r=Ts(i),n=n+3;continue e}e=a,t=s,r=Ts(i),n=n;continue e}e=a,t=s,r=As,n=n;continue e}return n}return n}}),pU=($r(vU),function(e,t){for(;;){if(!e.b||!e.b.b)return t;var r=e.a,n=e.b,i=n.a;e=n.b,t=t+vU(r,i,As,0)}}),bU=(gr(pU),gr((function(e,t){e:for(;;){t:for(;;){if(e.b){if(e.a){if(e.b.b&&!e.b.a&&e.b.b.b&&e.b.b.a&&e.b.b.b.b&&e.b.b.b.a&&e.b.b.b.b.b&&e.b.b.b.b.a&&e.b.b.b.b.b.b&&!e.b.b.b.b.b.a&&e.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.b.b.b.a){e=e.b.b.b.b.b.b.b.b.b.b.b,t=t+40;continue e}break t}if(e.b.b&&!e.b.a&&e.b.b.b&&!e.b.b.a&&e.b.b.b.b&&!e.b.b.b.a&&e.b.b.b.b.b&&e.b.b.b.b.a&&e.b.b.b.b.b.b&&!e.b.b.b.b.b.a&&e.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.b.b.a&&e.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.a){e=e.b.b.b.b.b.b.b.b.b.b.b,t=t+40;continue e}break t}return t}e.a;e=e.b,t=t}}))),gU=bU,mU=(kr(su,gU,0),ha),$U=function(e,t){var r=e*e,n=uu(xd(tc,t)),i=mU(100*n/r),a=i%5,o=mU(Ow(i+(5-a)-50)/5),s=mU(Ow(i-a-50)/5);return 10*Xw(s,o)},yU=(gr($U),function(e){for(;;){if(!e.b)return Xi;if(e.a.b){var t=e.a,r=t.a,n=t.b,i=(o=e.b,pf(Xp,o)),a=pf(Sf,o);return Pr(Pr(r,a),yU(Pr(n,i)))}var o;e=o=e.b}}),wU=function(e,t){var r,n=_c(cU,Ps(t)),i=oU(e,n,Xi),a=yU(i);return r=$U(e,n)+(au(gU,0,a)+(au(gU,0,i)+(pU(i,0)+(Wc(dU,hU,a)+Wc(dU,hU,i))))),Ar(i,r)},_U=(gr(wU),function(e){var t=gr((function(e,t){for(;;){if(!t)return e;e=e+1,t=t>>>1}}));return kr(t,0,e)}),SU=function(e,t){var r=_U(1335),n=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;default:return 7}}(t)|function(e){switch(e){case 0:return 1;case 1:return 0;case 2:return 3;default:return 2}}(e)<<3;return function(e){for(;;){if(!(_U(e)-r>=0))return 21522^(e|n<<10);e=e^1335<<_U(e)-r}}(n<<10)},CU=(gr(SU),function(e,t){return Ar(8,t<8?e-t-1:t<9?15-t:15-t-1)}),kU=(gr(CU),function(e,t){return Ar(t<6?t:t<8?t+1:e-15+t,8)}),EU=(gr(kU),$r((function(e,t,r,n){return kr(dC,OL(e,r,n),Ts(Ar(!0,t)))}))),RU=function(e,t,r,n){for(;;){if(!(r<15))return n;var i=t(r),a=kU(e,r),o=a.a,s=a.b,u=CU(e,r),c=u.a,l=u.b,f=e,d=t,h=r+1,v=xr(EU,e,i,o,s,xr(EU,e,i,c,l,n));e=f,t=d,r=h,n=v}},xU=($r(RU),function(e,t,r,n){var i=gr((function(e,t){return 1==(1&e>>t)})),a=SU(e,r);return RU(t,i(a),0,n)}),MU=($r(xU),yr((function(e,t,r,n,i){var a=i.a,o=i.b,s=xU(e,t,n,aU(t,n,r)),u=wU(t,s),c=u.a,l=u.b;return zi(o,l)<0&&-1!==o?Ar(a,o):Ar(c,l)}))),IU=qr([0,1,2,3,4,5,6,7]),TU=mr((function(e,t,r){return au(Er(MU,e,t,r),Ar(Xi,-1),IU).a})),AU=function(e,t){return RU(e,eh(!0),0,t)},OU=(gr(AU),mr((function(e,t,r){var n=r.a,i=r.b;return kr(dC,OL(e,n,i),Ts(Ar(!0,t)))}))),DU=function(e,t,r,n){for(;;){if(!(r<18))return n;var i=Ar(Uu(r/3),ua(3,r)+e-8-3),a=t(r),o=Ar(ua(3,r)+e-8-3,Uu(r/3)),s=e,u=t,c=r+1,l=Rr(OU,e,a,o,Rr(OU,e,a,i,n));e=s,t=u,r=c,n=l}},PU=($r(DU),function(e,t,r){if(e>=7){var n=gr((function(e,t){return 1==(1&e>>t)})),i=function(e){var t=_U(7973);return function(r){for(;;){if(!(_U(r)-t>=0))return r|e<<12;r^=7973<<_U(r)-t}}(e<<12)}(e);return DU(t,n(i),0,r)}return r}),qU=(mr(PU),function(e,t){return ua(2,e+t)?Ts(Ar(!0,!1)):Ts(Ar(!0,!0))}),LU=(gr(qU),function(e,t,r){return kr(dC,OL(e,t,r),qU(t,r))}),UU=mr(LU),NU=function(e,t){var r=hu(8,e-9);return au((function(t){return LU(e,t,6)}),au(kr(UU,e,6),t,r),r)},BU=(gr(NU),{$:0}),FU={$:7},jU={$:2},KU={$:1},HU={$:3},WU={$:6},VU={$:5},zU=function(e){switch(e.$){case 0:return BU;case 1:return KU;case 2:return jU;case 3:return HU;case 4:var t=e.a;return{$:4,a:t};case 5:return VU;case 6:return WU;default:return FU}},GU=function(e,t){var r=(e/8|0)-uu(t),n=Cb(jw(r/2|0,qr([236,17])));return ua(2,r)?Dr(t,Dr(n,qr([236]))):Dr(t,n)},JU=(gr(GU),function(e,t,r){return Dr(r,qr([Ar(0,Xw(4,e-t))]))}),YU=(mr(JU),function(e,t){var r=e.a,n=e.b,i=t.a,a=i.a,o=i.b,s=t.b;return function(e){for(;;){var t=e.a,r=t.a,n=t.b,i=e.b;if(!(n>=8))return Ar(Ar(r,n),i);var a=n-8,o=r>>a;e=Ar(Ar(r&(1<<a)-1,a),Pr(o,i))}}(Ar(Ar(r|a<<n,n+o),s))}),ZU=(gr(YU),function(e,t){for(;;){var r=t.a,n=r.a,i=r.b,a=t.b;if(!e.b)return _u(i?Pr(n<<8-i,a):a);var o=e.a;e=e.b,t=YU(o,Ar(Ar(n,i),a))}}),XU=(gr(ZU),function(e,t){if(t<=9)switch(e){case 0:return 10;case 1:return 9;default:return 8}else if(t<=26)switch(e){case 0:return 12;case 1:return 11;default:return 16}else switch(e){case 0:return 14;case 1:return 13;default:return 16}}),QU=(gr(XU),function(e,t){var r=e.fh,n=e.bD,i=e.fS,a=XU(i,r.bd),o=3===i?uu(t):ic(n);return Ar(o,a)}),eN=(gr(QU),function(e){var t=e.a,r=e.b;return Ar(r,GU(r.fh.aS,function(e){return ZU(e,Ar(Ar(0,0),Xi))}(JU(r.fh.aS,r.bh,Pr(Ar(function(e){switch(e){case 0:return 1;case 1:return 2;default:return 4}}(r.fS),4),Pr(QU(r,t),t))))))}),tN=function(e){var t=e.a,r=e.b,n=e.c;return Ar(t,Cb(Dr(yU(r),yU(n))))},rN=function(e,t,r){if(e<=0||t<=0)return Xi;var n=gr((function(r,n){for(;;){if(_f(r))return _u(n);var i=Fp(t,r),a=Pr(Jm(e,r),n);r=i,n=a}}));return kr(n,r,Xi)},nN=(mr(rN),function(e,t){return rN(e,e,t)}),iN=(gr(nN),function(e,t,r){if(1===t.$){var n=t.a;return Hs(n)}var i=t.a;if(1===r.$){n=r.a;return Hs(n)}var a=r.a;return Gs(kr(e,i,a))}),aN=function(e,t,r){if(1===t.$){var n=t.a;return Hs(n)}var i=t.a;if(1===r.$){n=r.a;return Hs(n)}var a=r.a;return Gs(e(i,a))},oN=mr(iN),sN={$:2},uN=zp(qr([Ar("0",0),Ar("1",1),Ar("2",2),Ar("3",3),Ar("4",4),Ar("5",5),Ar("6",6),Ar("7",7),Ar("8",8),Ar("9",9),Ar("A",10),Ar("B",11),Ar("C",12),Ar("D",13),Ar("E",14),Ar("F",15),Ar("G",16),Ar("H",17),Ar("I",18),Ar("J",19),Ar("K",20),Ar("L",21),Ar("M",22),Ar("N",23),Ar("O",24),Ar("P",25),Ar("Q",26),Ar("R",27),Ar("S",28),Ar("T",29),Ar("U",30),Ar("V",31),Ar("W",32),Ar("X",33),Ar("Y",34),Ar("Z",35),Ar(" ",36),Ar("$",37),Ar("%",38),Ar("*",39),Ar("+",40),Ar("-",41),Ar(".",42),Ar("/",43),Ar(":",44)])),cN=function(e){return jL(sN,Bd(e,uN))},lN=function(e){e:for(;;){if(e.b){if(e.b.b){if(e.b.b.b)break e;var t=e.a,r=e.b.a;return aN((function(e,t){return Ar(45*e+t,11)}),cN(t),cN(r))}var n=e.a;return Cl((function(e){return Ar(e,6)}),cN(n))}break e}return Hs(sN)},fN=function(e){return wc(oN(Os),Gs(Xi),_c(lN,nN(2,Ud(e))))},dN=function(e){return Gs(_c((function(e){return Ar(gu(e),8)}),Ud(e)))},hN={$:1},vN=function(e){var t=Yh(e);return jL(hN,td((function(e){return Ar(e,function(e){switch(ic(e)){case 1:return 4;case 2:return 7;default:return 10}}(t))}),lc(t)))},pN=function(e){return wc(oN(Os),Gs(Xi),_c(vN,nN(3,Ud(e))))},bN={$:3},gN=function(e){switch(e.$){case 0:case 3:return 1;case 1:case 4:return 2;case 2:case 5:case 6:return 4;case 7:return 8;case 8:case 9:return e.a;default:var t=e.a;return t.byteLength}},mN=function(e,t,r){switch(e.$){case 0:var n=e.a;return $s(t,r,n);case 1:var i=e.a;n=e.b;return ys(t,r,n,!i);case 2:i=e.a,n=e.b;return ws(t,r,n,!i);case 3:n=e.a;return _s(t,r,n);case 4:i=e.a,n=e.b;return Ss(t,r,n,!i);case 5:i=e.a,n=e.b;return Cs(t,r,n,!i);case 6:i=e.a,n=e.b;return ks(t,r,n,!i);case 7:i=e.a,n=e.b;return Es(t,r,n,!i);case 8:var a=e.b;return yN(a,t,r);case 9:var o=e.b;return xs(t,r,o);default:a=e.a;return Rs(t,r,a)}},$N=mr(mN),yN=function(e,t,r){for(;;){if(!e.b)return r;var n=e.a,i=e.b,a=t,o=mN(n,t,r);e=i,t=a,r=o}},wN=(mr(yN),function(e,t){return Ms(e,t)}),_N=(gr(wN),function(e){var t=new DataView(new ArrayBuffer(gN(e)));return $N(e)(t)(0),t}),SN=Gn,CN=$r((function(e,t,r,n){for(;;){var i=t(e),a=kr(i,r,n),o=a.a,s=a.b;if(s.$){var u=s.a;return Ar(o,u)}e=s.a,t=t,r=r,n=o}})),kN=function(e,t){return kr(CN,e,t)},EN=(gr(kN),function(e,t){var r=t;return gr((function(t,n){var i=kr(r,t,n),a=i.a,o=i.b;return Ar(a,e(o))}))}),RN=(gr(EN),Is),xN=function(e){var t=e.a,r=e.b;return t<=0?function(e){return gr((function(t,r){return Ar(r,e)}))}({$:1,a:_u(r)}):EN((function(e){return function(e){return{$:0,a:e}}(Ar(t-1,Pr(Ar(e,8),r)))}),RN)},MN=function(e,t){return{$:9,a:e,b:t}},IN=(gr(MN),function(e){var t=SN(e),r=kN(Ar(t,Xi),xN);return jL(bN,wN(r,_N(function(e){return MN(Gn(e),e)}(e))))}),TN=function(e){switch(e){case 0:return pN;case 1:return fN;case 2:return dN;default:return IN}},AN=Uv(qr([1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1])),ON=function(e){return Ol(0,cy(ua(255,e),AN))},DN={$:5},PN=function(e){return{$:4,a:e}},qN=Uv(qr([0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175])),LN=function(e){return e<1?Hs(PN(e)):jL(PN(e),cy(e-1,qN))},UN=function(e,t){var r=function(e){for(;;){var t=e.a,r=e.b;if(!t.b)return r;var n=t.a,i=t.b;if(n)return r;e=Ar(i,r+1)}}(Ar(e,0)),n=Uv(e);return Gu(uu(e)-r+t,(function(e){return Ol(0,cy(e+r,n))}))},NN=(gr(UN),function(e,t){var r=pu((function(e,r){return pu((function(t,n){return Or(e+t,r,n)}),Ps(t))}),Ps(e)),n=mr((function(e,t,r){return jL(DN,td(OC(r),cy(e,t)))})),i=gr((function(e,t){var r=e.a,i=e.b,a=e.c;return Cl((function(e){return fC(r,e,t)}),vl(kr(n,r,t),Cl(ON,iN(Ys,LN(i),LN(a)))))})),a=gr((function(e,t){return vl(i(e),t)})),o=Gu(Nv(e)+Nv(t)-1,eh(0));return Cl((function(e){return UN(e,0)}),Cl(Ps,au(a,Gs(o),Cb(r))))}),BN=(gr(NN),gr((function(e,t){return Ps(Gu(e,(function(r){var n=r+Nv(t)-e;return n>=0?Ol(0,cy(n,t)):0})))}))),FN={$:6},jN=function(e,t){if(Nv(e)-Nv(t)<0)return Gs(e);var r=mr((function(e,t,r){return jL(FN,td(OC(r),cy(e,t)))})),n=function(e){return vl(LN,jL(FN,cy(0,e)))},i=iN(fu,n(e),n(t)),a=gr((function(e,t){var n=e.a,a=e.b;return Cl((function(e){return fC(n,e,t)}),vl(kr(r,n,t),Cl(ON,iN(Ys,i,LN(a)))))})),o=gr((function(e,t){return vl(a(e),t)})),s=Oy(o,Gs(e),Px(gr((function(e,t){return Ar(e,t)})),t));return vl((function(e){return jN(e,t)}),Cl((function(e){return UN(e,0)}),Cl(Ps,s)))},KN=(gr(jN),gr((function(e,t){return Cl(BN(Nv(e)-1),jN(UN(t,Nv(e)-1),e))}))),HN=function(e,t,r){if(r.b){var n=r.a,i=r.b;return vl((function(t){return HN(e,t,i)}),Cl((function(e){return Pr(e,t)}),e(n)))}return Gs(_u(t))},WN=(mr(HN),gr((function(e,t){return HN(KN(t),Xi,e)}))),VN=function(e,t){return vl(WN(t),(r=e,n=gr((function(e,t){for(;;){if(!(zi(e,r)<0))return t;var n=e+1,i=vl((function(t){return NN(t,UN(qr([1,ON(e)]),0))}),t);e=n,t=i}})),kr(n,0,Gs(UN(qr([1]),0)))));var r,n},zN=(gr(VN),function(e){var t=e.a,r=e.b;return Cl((function(e){return Or(t,r,e)}),VN(t.fh.eX,r))}),GN=us({cc:!1,c3:!1},"^[0-9A-Z $%*+\\-.\\/:]+$"),JN=us({cc:!1,c3:!1},"^[\\u0000-\\u00ff]+$"),YN=us({cc:!1,c3:!1},"^[0-9]+$"),ZN=function(e){return function(e){return Ol(!1,td((function(t){return ls(t,e)}),YN))}(e)?0:function(e){return Ol(!1,td((function(t){return ls(t,e)}),GN))}(e)?1:function(e){return Ol(!1,td((function(t){return ls(t,e)}),JN))}(e)?2:3},XN={$:7},QN=mr((function(e,t,r){var n=r.bd,i=r.aS;return zi(XU(e,n)+t,i)<1})),eB=function(e){return e.a*e.b},tB=function(e,t){if(t.$)return eB(e);var r=t.a;return eB(e)+eB(r)},rB=(gr(tB),function(e,t,r,n){return new Se(8*tB(r,n),t,r,n,e)}),nB=($r(rB),qr([rB(1,17,Ar(1,9),As),rB(2,28,Ar(1,16),As),rB(3,22,Ar(2,13),As),rB(4,16,Ar(4,9),As),rB(5,22,Ar(2,11),Ts(Ar(2,12))),rB(6,28,Ar(4,15),As),rB(7,26,Ar(4,13),Ts(Ar(1,14))),rB(8,26,Ar(4,14),Ts(Ar(2,15))),rB(9,24,Ar(4,12),Ts(Ar(4,13))),rB(10,28,Ar(6,15),Ts(Ar(2,16))),rB(11,24,Ar(3,12),Ts(Ar(8,13))),rB(12,28,Ar(7,14),Ts(Ar(4,15))),rB(13,22,Ar(12,11),Ts(Ar(4,12))),rB(14,24,Ar(11,12),Ts(Ar(5,13))),rB(15,24,Ar(11,12),Ts(Ar(7,13))),rB(16,30,Ar(3,15),Ts(Ar(13,16))),rB(17,28,Ar(2,14),Ts(Ar(17,15))),rB(18,28,Ar(2,14),Ts(Ar(19,15))),rB(19,26,Ar(9,13),Ts(Ar(16,14))),rB(20,28,Ar(15,15),Ts(Ar(10,16))),rB(21,30,Ar(19,16),Ts(Ar(6,17))),rB(22,24,Ar(34,13),As),rB(23,30,Ar(16,15),Ts(Ar(14,16))),rB(24,30,Ar(30,16),Ts(Ar(2,17))),rB(25,30,Ar(22,15),Ts(Ar(13,16))),rB(26,30,Ar(33,16),Ts(Ar(4,17))),rB(27,30,Ar(12,15),Ts(Ar(28,16))),rB(28,30,Ar(11,15),Ts(Ar(31,16))),rB(29,30,Ar(19,15),Ts(Ar(26,16))),rB(30,30,Ar(23,15),Ts(Ar(25,16))),rB(31,30,Ar(23,15),Ts(Ar(28,16))),rB(32,30,Ar(19,15),Ts(Ar(35,16))),rB(33,30,Ar(11,15),Ts(Ar(46,16))),rB(34,30,Ar(59,16),Ts(Ar(1,17))),rB(35,30,Ar(22,15),Ts(Ar(41,16))),rB(36,30,Ar(2,15),Ts(Ar(64,16))),rB(37,30,Ar(24,15),Ts(Ar(46,16))),rB(38,30,Ar(42,15),Ts(Ar(32,16))),rB(39,30,Ar(10,15),Ts(Ar(67,16))),rB(40,30,Ar(20,15),Ts(Ar(61,16)))])),iB=qr([rB(1,7,Ar(1,19),As),rB(2,10,Ar(1,34),As),rB(3,15,Ar(1,55),As),rB(4,20,Ar(1,80),As),rB(5,26,Ar(1,108),As),rB(6,18,Ar(2,68),As),rB(7,20,Ar(2,78),As),rB(8,24,Ar(2,97),As),rB(9,30,Ar(2,116),As),rB(10,18,Ar(2,68),Ts(Ar(2,69))),rB(11,20,Ar(4,81),As),rB(12,24,Ar(2,92),Ts(Ar(2,93))),rB(13,26,Ar(4,107),As),rB(14,30,Ar(3,115),Ts(Ar(1,116))),rB(15,22,Ar(5,87),Ts(Ar(1,88))),rB(16,24,Ar(5,98),Ts(Ar(1,99))),rB(17,28,Ar(1,107),Ts(Ar(5,108))),rB(18,30,Ar(5,120),Ts(Ar(1,121))),rB(19,28,Ar(3,113),Ts(Ar(4,114))),rB(20,28,Ar(3,107),Ts(Ar(5,108))),rB(21,28,Ar(4,116),Ts(Ar(4,117))),rB(22,28,Ar(2,111),Ts(Ar(7,112))),rB(23,30,Ar(4,121),Ts(Ar(5,122))),rB(24,30,Ar(6,117),Ts(Ar(4,118))),rB(25,26,Ar(8,106),Ts(Ar(4,107))),rB(26,28,Ar(10,114),Ts(Ar(2,115))),rB(27,30,Ar(8,122),Ts(Ar(4,123))),rB(28,30,Ar(3,117),Ts(Ar(10,118))),rB(29,30,Ar(7,116),Ts(Ar(7,117))),rB(30,30,Ar(5,115),Ts(Ar(10,116))),rB(31,30,Ar(13,115),Ts(Ar(3,116))),rB(32,30,Ar(17,115),As),rB(33,30,Ar(17,115),Ts(Ar(1,116))),rB(34,30,Ar(13,115),Ts(Ar(6,116))),rB(35,30,Ar(12,121),Ts(Ar(7,122))),rB(36,30,Ar(6,121),Ts(Ar(14,122))),rB(37,30,Ar(17,122),Ts(Ar(4,123))),rB(38,30,Ar(4,122),Ts(Ar(18,123))),rB(39,30,Ar(20,117),Ts(Ar(4,118))),rB(40,30,Ar(19,118),Ts(Ar(6,119)))]),aB=qr([rB(1,10,Ar(1,16),As),rB(2,16,Ar(1,28),As),rB(3,26,Ar(1,44),As),rB(4,18,Ar(2,32),As),rB(5,24,Ar(2,43),As),rB(6,16,Ar(4,27),As),rB(7,18,Ar(4,31),As),rB(8,22,Ar(2,38),Ts(Ar(2,39))),rB(9,22,Ar(3,36),Ts(Ar(2,37))),rB(10,26,Ar(4,43),Ts(Ar(1,44))),rB(11,30,Ar(1,50),Ts(Ar(4,51))),rB(12,22,Ar(6,36),Ts(Ar(2,37))),rB(13,22,Ar(8,37),Ts(Ar(1,38))),rB(14,24,Ar(4,40),Ts(Ar(5,41))),rB(15,24,Ar(5,41),Ts(Ar(5,42))),rB(16,28,Ar(7,45),Ts(Ar(3,46))),rB(17,28,Ar(10,46),Ts(Ar(1,47))),rB(18,26,Ar(9,43),Ts(Ar(4,44))),rB(19,26,Ar(3,44),Ts(Ar(11,45))),rB(20,26,Ar(3,41),Ts(Ar(13,42))),rB(21,26,Ar(17,42),As),rB(22,28,Ar(17,46),As),rB(23,28,Ar(4,47),Ts(Ar(14,48))),rB(24,28,Ar(6,45),Ts(Ar(14,46))),rB(25,28,Ar(8,47),Ts(Ar(13,48))),rB(26,28,Ar(19,46),Ts(Ar(4,47))),rB(27,28,Ar(22,45),Ts(Ar(3,46))),rB(28,28,Ar(3,45),Ts(Ar(23,46))),rB(29,28,Ar(21,45),Ts(Ar(7,46))),rB(30,28,Ar(19,47),Ts(Ar(10,48))),rB(31,28,Ar(2,46),Ts(Ar(29,47))),rB(32,28,Ar(10,46),Ts(Ar(23,47))),rB(33,28,Ar(14,46),Ts(Ar(21,47))),rB(34,28,Ar(14,46),Ts(Ar(23,47))),rB(35,28,Ar(12,47),Ts(Ar(26,48))),rB(36,28,Ar(6,47),Ts(Ar(34,48))),rB(37,28,Ar(29,46),Ts(Ar(14,47))),rB(38,28,Ar(13,46),Ts(Ar(32,47))),rB(39,28,Ar(40,47),Ts(Ar(7,48))),rB(40,28,Ar(18,47),Ts(Ar(31,48)))]),oB=qr([rB(1,13,Ar(1,13),As),rB(2,22,Ar(1,22),As),rB(3,18,Ar(2,17),As),rB(4,26,Ar(2,24),As),rB(5,18,Ar(2,15),Ts(Ar(2,16))),rB(6,24,Ar(4,19),As),rB(7,18,Ar(2,14),Ts(Ar(4,15))),rB(8,22,Ar(4,18),Ts(Ar(2,19))),rB(9,20,Ar(4,16),Ts(Ar(4,17))),rB(10,24,Ar(6,19),Ts(Ar(2,20))),rB(11,28,Ar(4,22),Ts(Ar(4,23))),rB(12,26,Ar(4,20),Ts(Ar(6,21))),rB(13,24,Ar(8,20),Ts(Ar(4,21))),rB(14,20,Ar(11,16),Ts(Ar(5,17))),rB(15,30,Ar(5,24),Ts(Ar(7,25))),rB(16,24,Ar(15,19),Ts(Ar(2,20))),rB(17,28,Ar(1,22),Ts(Ar(15,23))),rB(18,28,Ar(17,22),Ts(Ar(1,23))),rB(19,26,Ar(17,21),Ts(Ar(4,22))),rB(20,30,Ar(15,24),Ts(Ar(5,25))),rB(21,28,Ar(17,22),Ts(Ar(6,23))),rB(22,30,Ar(7,24),Ts(Ar(16,25))),rB(23,30,Ar(11,24),Ts(Ar(14,25))),rB(24,30,Ar(11,24),Ts(Ar(16,25))),rB(25,30,Ar(7,24),Ts(Ar(22,25))),rB(26,28,Ar(28,22),Ts(Ar(6,23))),rB(27,30,Ar(8,23),Ts(Ar(26,24))),rB(28,30,Ar(4,24),Ts(Ar(31,25))),rB(29,30,Ar(1,23),Ts(Ar(37,24))),rB(30,30,Ar(15,24),Ts(Ar(25,25))),rB(31,30,Ar(42,24),Ts(Ar(1,25))),rB(32,30,Ar(10,24),Ts(Ar(35,25))),rB(33,30,Ar(29,24),Ts(Ar(19,25))),rB(34,30,Ar(44,24),Ts(Ar(7,25))),rB(35,30,Ar(39,24),Ts(Ar(14,25))),rB(36,30,Ar(46,24),Ts(Ar(10,25))),rB(37,30,Ar(49,24),Ts(Ar(10,25))),rB(38,30,Ar(48,24),Ts(Ar(14,25))),rB(39,30,Ar(43,24),Ts(Ar(22,25))),rB(40,30,Ar(34,24),Ts(Ar(34,25)))]),sB=function(e,t,r){return jL(XN,Sf(na((function(e){return e.aS}),xd(kr(QN,t,r),function(e){switch(e){case 0:return iB;case 1:return aB;case 2:return oB;default:return nB}}(e)))))},uB=(mr(sB),yr((function(e,t,r,n,i){return new Ce(n+XU(r,i.bd),t,i,e,r)}))),cB=$r((function(e,t,r,n){var i=4+ou((function(e,t){return e.b+t}),0,n);return Cl((function(e){return Ar(n,e)}),Cl(Rr(uB,e,t,r,i),sB(t,r,i)))})),lB=function(e,t,r){for(;;){var n=t.a,i=t.b,a=r.a,o=r.b;if(!(n>0))return e&&uu(a)>0?Hs(XN):Gs(Ar(a,o));var s=Fp(i,a),u=Jm(i,a);e=e,t=Ar(n-1,i),r=Ar(s,Pr(u,o))}},fB=mr(lB),dB=function(e){var t=e.a,r=t.fh,n=e.b,i=r.fN;if(i.$)return Cl((function(e){return Ar(t,e)}),Cl(kr(Vc,Yf,_u),lB(!0,r.cB,Ar(n,Xi))));var a=i.a;return Cl((function(e){return Ar(t,e)}),Cl(kr(Vc,Yf,_u),vl(kr(fB,!0,a),lB(!1,r.cB,Ar(n,Xi)))))},hB=function(e,t){var r=ZN(e);return Cl(tN,vl(zN,vl(dB,Cl(eN,vl(Er(cB,e,t,r),kr(TN,r,e))))))},vB=(gr(hB),function(e,t){return Zp(zU,vl((function(e){var t=e.a,r=e.b;return Cl((function(e){return new ke(e,t.fh.bd)}),function(e){var t=e.a.cn,r=e.a.fh,n=e.b,i=r.bd,a=4*(i-1)+21;return Cl(kr(TU,t,a),Cl(kr(NL,a,n),YL(i,a,NU(a,Er(ZL,i,a,PU(i,a,AU(a,tU(a,-1,a-8,tU(a,a-8,-1,tU(a,-1,-1,Gu(a*a,eh(As))))))))))))}(Ar(t,r)))}),hB(t,function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}}(e))))}),pB=gr(vB),bB=(pB(2),function(e){return Kq("href",/^javascript:/i.test((t=e).replace(/\s/g,""))?"":t);var t}),gB=Co(Eo,"iframe"),mB=gB.a2,$B=function(e,t,r,n){return t?kr(e,r,n):n},yB=$r($B),wB=Os,_B=(yB(wB),Co(Eo,"img")),SB=_B.a2,CB=function(e){return vL("onload","window.LIA.img.load('"+e+"',this.width,this.height)")},kB=function(e){return Kq("src",$n(e))},EB="title",RB=Hq(EB),xB=function(e){return kr(Vc,dL(e),rd(RB))},MB=function(e,t,r,n,i,a){return SB(mM(vA,kr(hL,e,r),mM(vA,kr(xB,e,i),$B(wB,Tr(a,As),CB(n),Pr(kB(n),Pr(vL("loading","lazy"),_f(t)?qr([vL("onClick",'window.LIA.img.click("'+n+'")')]):_c(gL,t)))))),Xi)},IB=(wr(MB),function(e){return" "+Qs(e)+" "}),TB=Co(Eo,"span"),AB=TB.a2,OB=IB,DB=kr(Vc,eL,kr(Vc,rp,TB(qr([Kq(Wq,"lia-effect__circle lia-effect__circle--inline")])))),PB=(kr(Vc,OB,DB),function(e){return e.ga?e.es<0?1:2:0}),qB=function(e){return kr(Vc,$L(e?"lia-effect--inline hide":"lia-effect--inline"),TB)},LB=Co(Eo,"button"),UB=LB.a2,NB=function(e){return kr(Vc,rd(pc(e)),Dl(!1))},BB=function(e,t,r,n){return new Ee(n,t,e,r)},FB=($r(BB),function(e,t,r,n){return BB(t,r?Ts(e+" Female"):As,n?Ts(e+" Male"):As,n||r?As:Ts(e))}),jB=($r(FB),qr([FB("US English","en",!0,!0),FB("UK English","en",!0,!0),FB("Australian","en",!0,!0),FB("Fallback UK","en",!0,!1),FB("Afrikaans","af",!1,!0),FB("Albanian","sq",!1,!0),FB("Arabic","ar",!0,!0),FB("Armenian","hy",!1,!0),FB("Bangla Bangladesh","bn",!0,!0),FB("Bangla India","bn",!0,!0),FB("Bosnian","bs",!1,!0),FB("Catalan","ca",!1,!0),FB("Chinese","zh",!0,!0),FB("Chinese (Hong Kong)","zh",!0,!0),FB("Chinese Taiwan","zh",!0,!0),FB("Croatian","hr",!1,!0),FB("Czech","cz",!0,!1),FB("Danish","da",!0,!1),FB("Deutsch","de",!0,!0),FB("Dutch","nl",!0,!0),FB("Esperanto","eo",!1,!0),FB("Estonian","et",!1,!0),FB("Filipino","ph",!0,!1),FB("Finnish","fi",!0,!1),FB("French","fr",!0,!0),FB("French Canadian","fr",!0,!0),FB("Greek","el",!0,!1),FB("Hindi","hi",!0,!0),FB("Hungarian","hu",!0,!1),FB("Icelandic","is",!1,!0),FB("Indonesian","id",!0,!0),FB("Italian","it",!0,!0),FB("Japanese","ja",!0,!0),FB("Korean","ko",!0,!0),FB("Latin","la",!1,!0),FB("Latvian","lv",!1,!0),FB("Macedonian","mk",!1,!0),FB("Moldavian","mo",!0,!1),FB("Montenegrin","me",!1,!0),FB("Nepali","ne",!1,!1),FB("Norwegian","no",!0,!0),FB("Polish","pl",!0,!0),FB("Portuguese","pt",!0,!0),FB("Brazilian Portuguese","pt",!1,!0),FB("Romanian","ro",!0,!1),FB("Russian","ru",!0,!1),FB("Serbian","sr",!1,!0),FB("Serbo-Croatian","sh",!1,!0),FB("Sinhala","si",!1,!1),FB("Slovak","sk",!0,!1),FB("Spanish Latin American","es",!0,!0),FB("Spanish","es",!0,!1),FB("Swahili","sw",!1,!0),FB("Swedish","sv",!0,!0),FB("Tamil","ta",!0,!0),FB("Thai","th",!0,!0),FB("Turkish","tr",!0,!0),FB("Ukrainian","uk",!0,!1),FB("Vietnamese","vi",!0,!0),FB("Welsh","cy",!1,!0)])),KB=function(e){return td((function(e){return e.fA}),WD((function(t){return kr(NB,e,t.bH)||kr(NB,e,t.br)}),jB))},HB=mr((function(e,t,r){return new Re(t,r,e)})),WB=gr((function(e,t){var r=Or(e,t.bH,t.br);e:for(;;){if(r.a.$){if(r.b.$){if(r.c.$)break e;r.a,n=r.c.a;return Ts(n)}r.a,i=r.b.a;return Ts(i)}if(r.a.a){if(r.b.$){if(r.c.$)break e;r.b;var n=r.c.a;return Ts(n)}var i=r.b.a;return Ts(i)}if(r.c.$){if(r.b.$)break e;var i=r.b.a;r.c;return Ts(i)}var n=r.c.a;return Ts(n)}return t.eP})),VB=function(e,t){return Kc(WB(t),WD((function(t){return Tr(t.fA,e)}),jB))},zB=(gr(VB),gr((function(e,t){var r=t.a,n=t.b;return Tr(r,n)?Ts(new Re(Ol(r,KB(e)),e,!1)):Tr(KB(e),Ts(r))?td(kr(HB,!0,n),VB(n,function(e){var t=ru(" ",e);e:for(;t.b&&t.b.b&&!t.b.b.b;)switch(t.b.a){case"Male":return t.b,Ts(!0);case"Female":return t.b,Ts(!1);default:break e}return As}(e))):Ts(new Re(Ol(n,KB(e)),e,!1))}))),GB=function(e,t,r,n,i){return vL("onclick",(a=xf('"XXX"',i+".innerText.replace(/\\u200a\\d+\\u200a/g,'').trim()",Qa(0,jI(cw("effect",n,cw("playback",e,function(e){var t=e.g$,r=e.fA,n=e.gN;return uI("playback",Zc(qr([Ar("voice",Xc(t)),Ar("lang",Xc(r)),Ar("text",Xc(n))])))}(new xe(r,"XXX",t))))))),"window.LIA.playback("+a+")"));var a},JB=(yr(GB),function(e){return No("tabIndex",Qs(e))}),YB=function(e){return JB(e?0:-1)},ZB=function(e,t){if(Tr(e.dM,Ts(t.fr)))return UB(qr([Kq(Wq,"lia-btn lia-btn--transparent icon icon-stop-circle mx-1"),vL("onclick",(n=Qa(0,jI(cw("effect",e.gv,cw("playback",t.fr,lI)))),"window.LIA.playback("+n+")")),YB(!0)]),Xi);var r=Kc(zB(t.g$),e.gV);if(1===r.$)return UB(qr([Kq(Wq,"lia-btn lia-btn--transparent icon icon-play-circle mx-1"),GB(t.fr,t.g$,Ol("en",KB(t.g$)),e.gv,"this.labels[0]"),YB(!0)]),Xi);r.a.d0;var n,i=r.a.fA,a=r.a.c4;return UB(qr([Kq(Wq,"lia-btn lia-btn--transparent icon icon-play-circle mx-1"),GB(t.fr,a,i,e.gv,"this.labels[0]"),YB(!0)]),Xi)},XB=(gr(ZB),Co(Eo,"label")),QB=XB.a2,eF=function(e,t,r,n){if(Tr(e.d8,As))return Er(qB,!1,t,function(){switch(PB(r)){case 0:return Pr(Wc(OB,DB,r.es),Pr(eL(" "),n));case 1:return qr([QB(Xi,Pr(ZB(e,r),n))]);default:return qr([Wc(OB,DB,r.es),QB(Xi,Pr(ZB(e,r),n))])}}());switch(PB(r)){case 0:return Er(qB,!dy(e.d8,r),t,Pr(Wc(OB,DB,r.es),Pr(eL(" "),n)));case 1:return Er(qB,!1,t,qr([QB(Xi,Pr(ZB(e,r),n))]));default:return Er(qB,!dy(e.d8,r),t,qr([Wc(OB,DB,r.es),QB(Xi,Pr(ZB(e,r),n))]))}},tF=($r(eF),function(e){return eL("["+e+"]")}),rF=bL,nF=Zs("aria-"),iF=kr(Pw,rF,nF),aF=tu(" "),oF=Dw(rF,nF,"describedby"),sF=aF,uF=(kr(Pw,oF,sF),"id"),cF=(Hq(uF),Co(Eo,"sup")),lF=cF.a2,fF=function(e,t){return lF(Xi,qr([UB(bd(t,qr([Lo("padding","2px"),Kq(Wq,"lia-btn lia-btn--transparent text-highlight"),vL("onclick",'window.LIA.showFootnote("'+e+'");'),Kq(uF,Wc(HR,WR,e)),Dw(oF,sF,qr([Dr(jR,e)])),YB(!0)])),qr([tF(e)]))]))},dF=(gr(fF),Dw(rF,nF,"label")),hF=qr([vL("class","notranslate"),vL("translate","no")]),vF=(gd(hF),function(e){return Co(Eo,mn(e))}),pF=function(e){return xo(Io,mn(e))},bF=function(e,t){return Uo(function(e){return"formAction"==e?"data-"+e:e}(e),$n(t))},gF=gr(bF),mF=gF,$F=function(e,t){return Er(vF,"lia-embed",qr([bF("url",Xc(t)),Lo("width",Ol("100%",td((function(e){return e.cY>0?Qs(e.cY)+"px":"100%"}),e))),Lo("height",Ol("auto",td((function(e){return e.cX>0?Qs(e.cX)+"px":"auto"}),e))),Lo("display","inline-block"),Lo("max-height","100%"),bF("maxwidth",Gc(Ol(0,td((function(e){return e.cY}),e)))),bF("maxheight",Gc(Ol(0,td((function(e){return e.cX}),e)))),bF("thumbnail",zc(Ol(!1,td((function(e){return e.dW}),e)))),Ol(Kq(Wq,""),td(kr(Vc,(function(e){return e.dA}),kr(Vc,Vq,bL("scale"))),e))]),Xi)},yF=(gr($F),function(e){switch(e){case 0:return"رمز الاستجابة السريعة للموقع";case 1:return"QR код за уебсайт";case 2:return"QR-Code für Webseite";case 3:return"Código QR para sitio web";case 4:return"کد QR برای وب سایت";case 5:return"Վեբ կայքի QR կոդ";case 6:return"웹 사이트용 QR 코드";case 7:return"QR-code voor website";case 8:return"QR-код для сайта";case 9:case 11:return"网站二维码";case 10:return"QR -код для веб -сайту";default:return"QR code for website"}}),wF=function(e){switch(e){case 0:return"خطأ أثناء الترميز إلى رمز الاستجابة السريعة";case 1:return"Грешка при кодирането към QR код";case 2:return"Fehler beim Codieren in QR-Code";case 3:return"Error al codificar en código QR";case 4:return"خطا هنگام رمزگذاری روی کد QR";case 5:return"Սխալ QR կոդի կոդավորման ժամանակ";case 6:return"QR 코드를 만드는 도중 오류가 발생했습니다.";case 7:return"Fout bij het coderen naar QR-code";case 8:return"Ошибка при кодировании в QR-код";case 9:case 11:return"编码为二维码时出错";case 10:return"Помилка під час кодування в QR -код";default:return"Error while encoding to QR code"}},_F=Co(Eo,"s"),SF=_F.a2,CF=Co(Eo,"source"),kF=CF.a2,EF=Co(Eo,"strong"),RF=EF.a2,xF="target",MF=(Hq(xF),function(e){var t=e.a,r=e.b;return Pr("h"+Qs(5*t.g0),r)}),IF="d",TF=(Bo(IF),"http://www.w3.org/2000/svg"),AF=(ko(TF),Co(TF,"path").a2),OF="shape-rendering",DF=(Bo(OF),"stroke"),PF=(Bo(DF),"stroke-width"),qF=(Bo(PF),"style"),LF=(Bo(qF),Co(TF,"svg").a2),UF=gr((function(e,t){var r,n=t.a,i=t.b;return e?n.ai?Ar(new Me(0,1),Pr(Nh(qr([n.g0>0?"h"+Qs(5*n.g0):"","m",Qs(5*n.ai)," 0"])),i)):Ar(fr(n,n.g0+1),i):Ar(((r=n.$c()).ai=n.ai+1,r),i)})),NF="transform",BF=(Bo(NF),"viewBox"),FF=(Bo(BF),mr((function(e,t,r){return Pr("M0 ",Pr(Qs(5*t),r))}))),jF=function(e,t,r){var n,i=5*e,a=Qs(5*uu(r)+2*i);return LF(Dr(qr([No(BF,"0 0 "+a+" "+a),No(OF,"crispEdges"),No(DF,"#000"),No(PF,Qs(5)+"px")]),t),(n=No(IF,Nh(Cb(vu(FF(e),_c(kr(Vc,kr(su,UF,Ar(new Me(0,0),Xi)),kr(Vc,MF,_u)),r))))),qr([AF(qr([n,No(NF,"translate("+Qs(i)+", "+Vq(i+2.5)+")"),No(qF,"stroke-width: 5px")]),Xi)])))},KF=mr(jF),HF=(KF(4),gr((function(e,t){var r=t.aE;return jF(4,e,r)}))),WF=Co(Eo,"u").a2,VF=Co(Eo,"video").a2,zF=function(e,t){return{$:7,a:e,b:t}},GF=gr(zF),JF=gr((function(e,t){return{$:8,a:e,b:t}})),YF=function(e){return kr(vF,"lia-editor",Pr(Lo("display","block"),e))},ZF=function(e){return kr(Vc,zc,mF(e))},XF=ZF("enableBasicAutocompletion"),QF=ZF("enableLiveAutocompletion"),ej=ZF("enableSnippets"),tj=Yc(Xc),rj=mF("extensions"),nj=(kr(Vc,tj,rj),kr(ZF,"focusing",!0)),ij=Gc,aj=mF("maxLines"),oj=(kr(Vc,ij,aj),"disabled"),sj=(kL(oj),function(e){return e?"true":"false"}),uj=Dw(rF,nF,"hidden"),cj=sj,lj=(kr(Pw,uj,cj),function(e,t){return qo(e,{$:0,a:t})}),fj=(gr(lj),function(e){return lj("click",Zu(e))}),dj=function(e){var t=e.gS,r=e.ak,n=e.ae;return kr(Vc,gd(qr([Kq(Wq,"lia-btn"),Ol(CL(oj,!0),td(fj,n)),YB(r),Dw(uj,cj,!r),uc(t)?Kq(Wq,""):Kq(EB,t)])),LB)},hj=Co(Eo,"i").a2,vj=function(e,t){return hj(bd(qr([Dw(uj,cj,!0),Kq(Wq,"icon"),Kq(Wq,e)]),t),Xi)},pj=(gr(vj),function(e,t){return Er(dj,e,t,qr([vj(e.a$,qr([Kq(Wq,"lia-btn__icon")]))]))}),bj=(gr(pj),function(e){return vL("role",function(e){switch(e){case 0:return"alert";case 1:return"alertdialog";case 2:return"application";case 3:return"article";case 4:return"banner";case 5:return"button";case 6:return"checkbox";case 7:return"columnheader";case 8:return"combobox";case 9:return"complementary";case 10:return"contentinfo";case 11:return"definition";case 12:return"dialog";case 13:return"directory";case 14:return"document";case 15:return"form";case 16:return"grid";case 17:return"gridcell";case 18:return"group";case 19:return"heading";case 20:return"img";case 21:return"link";case 22:return"list";case 23:return"listbox";case 24:return"listitem";case 25:return"log";case 26:return"main";case 27:return"marquee";case 28:return"math";case 29:return"menu";case 30:return"menubar";case 31:return"menuitem";case 32:return"menuitemcheckbox";case 33:return"menuitemradio";case 34:return"navigation";case 35:return"note";case 36:return"option";case 37:return"presentation";case 38:return"progressbar";case 39:return"radio";case 40:return"radiogroup";case 41:return"region";case 42:return"row";case 43:return"rowgroup";case 44:return"rowheader";case 45:return"scrollbar";case 46:return"search";case 47:return"separator";case 48:return"slider";case 49:return"spinbutton";case 50:return"status";case 51:return"tab";case 52:return"tablist";case 53:return"tabpanel";case 54:return"textbox";case 55:return"timer";case 56:return"toolbar";case 57:return"tooltip";case 58:return"tree";case 59:return"treegrid";default:return"treeitem"}}(e))}),gj=bj(12),mj=mr((function(e,t,r){return Tr(r,e)?Zu(t):Bf(Qs(r))})),$j=qa("keyCode",Lf),yj=function(e,t){return Na(kr(mj,e,t),$j)},wj=(gr(yj),function(e){return yj(27,e)}),_j=Dw(rF,nF,"modal"),Sj=sj,Cj=(kr(Pw,_j,Sj),function(e){return lj("keydown",Uf(e))}),kj=function(e,t,r){return Nq(qr([Kq(Wq,"lia-modal"),Dw(_j,Sj,!0),gj]),qr([Nq(qr([Kq(Wq,"lia-modal__inner")]),qr([Nq(qr([Kq(Wq,"lia-modal__close")]),qr([pj(new Ie("icon-close",Ts(e),!0,"close modal"),qr([Kq(Wq,"lia-btn--transparent"),Kq(uF,"lia-modal__close"),Cj(qr([wj(e)]))]))])),Nq(qr([Kq(Wq,"lia-modal__content")]),r),Ol(eL(""),td(Uq(qr([Kq(Wq,"lia-modal__controls")])),t))])),Nq(qr([Kq(Wq,"lia-modal__outer"),fj(e)]),Xi)]))},Ej=mr(kj),Rj=Xc,xj=mF("mode"),Mj=(kr(Vc,Rj,xj),function(e,t){return wc(Uc,t,e)}),Ij=(gr(Mj),function(e){return lj("editorUpdate",Ba(e,Mj(qr(["target","value"]),jl)))}),Tj=ZF("showGutter"),Aj=Xc,Oj=mF("theme"),Dj=(kr(Vc,Aj,Oj),ZF("useSoftTabs")),Pj=Xc,qj=mF("value"),Lj=(kr(Vc,Pj,qj),function(e,t,r){return kj(zF(!1,t),As,qr([kr(YF,qr([Ij(JF(t)),Wc(Pj,qj,r),Wc(Aj,Oj,Ol("crimson_editor",e)),nj,Wc(Rj,xj,"javascript"),Wc(ij,aj,16),Tj(!0),Dj(!1),XF(!0),QF(!0),ej(!0),Wc(tj,rj,qr(["language_tools"])),Lo("width","96%"),Lo("max-width","900px"),Kq(Wq,"notranslate")]),Xi)]))}),Uj=(mr(Lj),function(e,t,r){return{$:4,a:e,b:t,c:r}}),Nj=mr(Uj),Bj=function(e,t){return{$:3,a:e,b:t}},Fj=gr(Bj),jj=function(e,t){return qo(e,{$:1,a:t})},Kj=(gr(jj),function(e,t){return jj(e,Zu(Ar(t,!0)))}),Hj=gr(Kj),Wj="keydown",Vj=(Hj(Wj),Co(Eo,"input").a2),zj=gr((function(e,t){return{$:11,a:e,b:t}})),Gj=function(e){return lj("blur",Zu(e))},Jj=function(e){return kr(Vc,Fj(e),kr(Vc,zj(200),e?fj:Gj))},Yj=gr((function(e,t){return 13===t?Zu(e):Bf("not ENTER")})),Zj=function(e){return Ar(e,!0)},Xj=Mj(qr(["target","value"]),jl),Qj=function(e){return jj("input",Ba(Zj,Ba(e,Xj)))},eK="type",tK=(Hq(eK),function(e){switch(e.$){case 0:return"button";case 1:return"checkbox";case 2:return"color";case 3:return"date";case 4:return"datetime-local";case 5:return"email";case 6:return"file";case 7:return"hidden";case 8:return"image";case 9:return"month";case 10:return"number";case 11:return"password";case 12:return"radio";case 13:return"range";case 14:return"search";case 15:return"select";case 16:return"tel";case 17:return"text";case 18:return"textarea";case 19:return"time";case 20:return"url";default:return"week"}}),rK=function(e,t,r,n){return Vj(bd(qr([Qj(kr(Nj,t,e.d2)),Kq(eK,Ol("text",td(tK,e.aL))),Kq(Wq,Ol("",td((function(e){switch(tK(e)){case"range":return"lia-range";case"radio":return"lia-radio";case"color":return"";default:return"lia-input"}}),e.aL))),Kq(tL,n),kr(Jj,!1,t),Kq(uF,"lia-focus"),Kj(Wj,UI),(i=Bj(!1,t),lj("keyup",Na(Yj(i),$j)))]),_c(gL,r)),Xi);var i},nK=($r(rK),function(e,t,r){return{$:6,a:e,b:t,c:r}}),iK=(mr(nK),"autofocus"),aK=(kL(iK),"checked"),oK=(kL(aK),Mj(qr(["target","checked"]),Lc)),sK=function(e){return lj("change",Ba(e,oK))},uK=$r((function(e,t,r,n){var i=Ol(Xi,Wc(GI,JI,r));return kr(Vc,Sc((function(r){return QB(qr([Kq(Wq,"lia-label mr-1")]),qr([Vj(qr([Kq(tL,r),Kq(eK,"checkbox"),sK(eh(nK(t,e,r))),CL(aK,Dd(r,i)),kr(Jj,!1,t),CL(iK,!0),Kq(Wq,"lia-checkbox")]),Xi),eL(r)]))})),TB(qr([Kq(Wq,"flex items-center")])))})),cK=function(e,t,r){return{$:5,a:e,b:t,c:r}},lK=(mr(cK),$r((function(e,t,r,n){return kr(Vc,Sc((function(n){return QB(qr([Kq(Wq,"lia-label mr-1")]),qr([Vj(qr([Kq(tL,n),Kq(eK,"radio"),sK(eh(cK(t,e,n))),CL(aK,Tr(n,r)),kr(Jj,!1,t),CL(iK,!0),Kq(Wq,"lia-radio")]),Xi),eL(n)]))})),TB(qr([Kq(Wq,"flex items-center")])))}))),fK=function(e){return!Tr(e.fx.aL,As)&&e.c0?"lia-script lia-script--with-border":Tr(e.fx.aL,As)?e.c0?"lia-script":"":"lia-script lia-script--border"},dK=function(e){return lj("dblclick",Zu(e))},hK=function(e){return kr(Vc,GF(e),e?dK:kr(Vc,zj(300),Gj))},vK=Co(Eo,"output").a2,pK=gr((function(e,t){return Er(vF,"lia-format",Pr(bF("value",Xc(t)),_c(gL,e)),qr([eL(t)]))})),bK=function(e){if(1===e.$)return eL;var t=e.a;return pK(t)},gK=function(e,t,r,n,i){var a=i.dt;if(1===a.$)return eL("");var o=a.a;return vK($B(wB,!Tr(i.fx.aL,Ts(Ab))&&!Tr(i.fx.aL,As),kr(Jj,!0,n),$B(wB,!o.$,Lo("color","red"),$B(wB,i.c0,kr(hK,!0,n),bd(function(){var e=i.fx.aL;if(e.$)return Xi;if(e.a.$)return Xi;var t;e.a;return qr([fj((t=n,{$:0,a:t}))])}(),kr($L,t?fK(i):"",r))))),qr([t?eL(""):vj("icon-chevron-double-right",Xi),function(){switch(o.$){case 1:var t=o.a;return kr(bK,i.cL,t);case 0:t=o.a;return eL(t);case 2:t=o.a;return AB(qr([bF("innerHTML",Xc(t))]),Xi);default:var r=o.a,a=e.d6;if(a.$)return eL("todo");var s=a.a;return AB(Xi,kr(s,n,r))}}()]))},mK=(yr(gK),mr((function(e,t,r){return kr(Vc,$L(""),gd(qr([Qj(kr(Nj,t,e)),kr(Jj,!1,t),Kq(tL,r),Kq(uF,"lia-focus"),Kj(Wj,UI)])))}))),$K=Co(Eo,"option").a2,yK=Co(Eo,"select"),wK=yK.a2,_K=mr((function(e,t,r){return kr(Vc,Sc((function(e){return $K(qr([Kq(tL,e)]),qr([eL(e)]))})),yK(Pr(Kq(Wq,"lia-select"),Rr(mK,!0,e,t,r))))})),SK=function(e){return UB(qr([Kq(Wq,"lia-script__refresh icon icon-refresh"),fj((t=e,{$:1,a:t}))]),Xi);var t},CK=function(e,t,r,n,i){return AB(qr([Kq(Wq,fK(n))]),qr([SK(r),i,gK(e,!1,t,r,n)]))},kK=(yr(CK),Co(Eo,"textarea").a2),EK=function(e,t,r,n){return kK(Rr(mK,n,e,t,r),Xi)},RK=($r(EK),function(e,t,r,n){var i=n.fx.aL;if(i.$)return gK(e,!0,t,r,n);switch(i.a.$){case 0:i.a;return gK(e,!0,t,r,n);case 1:if(i.a.a.b){var a=i.a.a;return CK(e,t,r,n,xr(uK,n.fx.d2,r,n.fx.gY,t,a))}return CK(e,t,r,n,AB(qr([Kq(Wq,"flex items-center")]),qr([Vj(qr([Kq(Wq,"lia-checkbox"),CL(aK,"true"===n.fx.gY),Kq(eK,"checkbox"),kr(Jj,!1,r),Kq(uF,"lia-focus"),sK((function(e){return Uj(r,n.fx.d2,e?"true":"false")}))]),Xi)])));case 12:a=i.a.a;return CK(e,t,r,n,xr(lK,n.fx.d2,r,n.fx.gY,t,a));case 15:a=i.a.a;return CK(e,t,r,n,Rr(_K,r,n.fx.gY,t,a));case 18:i.a;return CK(e,t,r,n,EK(r,n.fx.gY,t,n.fx.d2));default:return CK(e,t,r,n,rK(n.fx,r,t,n.fx.gY))}}),xK=($r(RK),function(e){return e.aL}),MK=Lu(Ts(Ub)),IK=(kr(Vc,xK,MK),function(e,t,r){var n=cy(t,e.go);if(n.$)return eL("");var i=n.a;return i.dt.$?eL(""):i.co?AB(qr([Kq(Wq,"flex items-center")]),qr([Lj(e.am,t,i.bT),Wc(xK,MK,i.fx)?eL(""):gK(e,!0,r,t,i)])):Wc(xK,MK,i.fx)?eL(""):i.fx.eg?RK(e,r,t,i):gK(e,!0,r,t,i)}),TK=(mr(IK),function(e,t,r,n){if(n.$){var i=n.a;return kr(e,qr([bF("innerHTML",Xc(i))]),Xi)}var a=n.a,o=n.b,s=n.c;return Er(vF,a,_c(gL,bd(o,r)),_c(t,s))}),AK=$r(TK),OK=function(e){return No("width",Qs(e))},DK=function(e,t,r,n,i){return AL(mM(vA,td(OK,r),qr([Kq(Wq,"lia-figure")])),qr([Nq(qr([Kq(Wq,"lia-figure__media"),vL("data-media-type",n)]),qr([i])),Ol(eL(""),td(kr(Vc,jK(e),ML(qr([Kq(Wq,"lia-figure__caption")]))),t))]))},PK=(yr(DK),function(e){return kr(AK,TB,BK(e))}),qK=function(e,t,r,n,i){return rL(mM(vA,kr(xB,e,n),Pr(bB(r),Pr(Kq(xF,Ra("#",r)?"":"_blank"),kr($L,"lia-link",i)))))(kr(jK,e,t))},LK=(yr(qK),function(e,t,r,n){return nL(mM(vA,kr(xB,e,r),qr([Kq(Wq,"lia-link lia-print-only"),bB(n)])),kr(jK,e,t))}),UK=($r(LK),function(e,t,r){switch(t.$){case 0:var n=t.a,i=t.b,a=t.c;return FK(e,n,i,a,r);case 1:n=t.a,i=t.b,a=t.c;return FK(e,n,i,a,r);case 2:n=t.a,i=t.b,a=t.c;var o=td(Hu,Bd(i,e.fP));return DK(e,a,o,"image",MB(e,r,n,i,a,o));case 3:n=t.a;var s=t.b,u=s.a;i=s.b,a=t.c;return DK(e,a,As,"audio",Nq(Xi,qr([LK(e,n,a,i),u?mB(mM(vA,kr(hL,e,n),mM(vA,kr(xB,e,a),Pr(kB(i),Pr(vL("loading","lazy"),Pr(vL("allowfullscreen",""),Pr(vL("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),Pr(Lo("width","100%"),kr($L,"lia-audio",r)))))))),Xi):wL(mM(vA,kr(hL,e,n),mM(vA,kr(xB,e,a),Pr(CL(EL,!0),Pr(vL("preload","none"),kr($L,"lia-audio",r))))),qr([kF(qr([kB(i)]),Xi)]))])));case 4:n=t.a;var c=t.b;u=c.a,i=c.b,a=t.c;return u?DK(e,a,As,"iframe",Nq(qr([Kq(Wq,"lia-iframe-wrapper")]),qr([LK(e,n,a,i),mB(mM(vA,kr(hL,e,n),mM(vA,kr(xB,e,a),Pr(kB(cL(e,i)),Pr(vL("allowfullscreen",""),Pr(vL("loading","lazy"),Pr(vL("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),_c(gL,r))))))),kr(jK,e,n))]))):DK(e,a,As,"movie",Nq(Xi,qr([LK(e,n,a,i),Er(pF,"div",qr([Kq(Wq,"lia-video-wrapper")]),qr([Ar(i,VF(mM(vA,kr(hL,e,n),mM(vA,kr(xB,e,a),Pr(CL(EL,!0),Pr(vL("preload","none"),_c(gL,r))))),qr([kF(qr([kB(i)]),Xi)])))]))])));case 5:n=t.a;var l=t.b;a=t.c;return AL(qr([Kq(Wq,"lia-figure"),Lo("height","auto"),Lo("width","100%")]),qr([Nq(qr([Kq(Wq,"lia-figure__media")]),function(){if(a.$)return qr([LK(e,n,a,l),$F(e.c7,l)]);var t=a.a;return qr([LK(e,n,a,l),$F(e.c7,l),IL(qr([Kq(Wq,"lia-figure__caption")]),kr(jK,e,t))])}())]));case 6:l=t.a;return Er(vF,"preview-lia",Pr(vL("src",l),kr($L,"",r)),Xi);case 7:l=t.a;return Er(pF,"preview-link",Pr(vL("src",l),kr($L,"",r)),Xi);default:l=t.a,a=t.b;return DK(e,a,Ts(300),"image",nL(mM(vA,kr(xB,e,a),Pr(bB(l),Pr(Lo("width","300px"),Pr(Lo("display","inline-block"),Pr(Lo("background-color","white"),kr($L,"lia-link",r)))))),qr([Kf(eL(wF(e.fA)),Cl(HF(qr([dF(yF(e.fA)+": "+l)])),vB(2,l)))])))}}),NK=(mr(UK),function(e,t){e:for(;;)switch(t.$){case 0:if(t.b.b){n=t.a;var r=t.b;e=e,t=hm(qr([Ov(n,Xi)]),r);continue e}var n=t.a;return eL(n);case 2:if(t.a.$||t.a.b.b){n=t.a,r=t.b;return RF(kr($L,"lia-bold",r),qr([kr(Ti(),e,n)]))}var n=t.a.a,r=t.b;return RF(kr($L,"lia-bold",r),qr([eL(n)]));case 3:if(t.a.$||t.a.b.b){n=t.a,r=t.b;return xL(kr($L,"lia-italic",r),qr([kr(Ti(),e,n)]))}n=t.a.a,r=t.b;return xL(kr($L,"lia-italic",r),qr([eL(n)]));case 4:if(t.a.$||t.a.b.b){n=t.a,r=t.b;return SF(kr($L,"lia-strike",r),qr([kr(Ti(),e,n)]))}n=t.a.a,r=t.b;return SF(kr($L,"lia-strike",r),qr([eL(n)]));case 5:if(t.a.$||t.a.b.b){n=t.a,r=t.b;return WF(kr($L,"lia-underline",r),qr([kr(Ti(),e,n)]))}n=t.a.a,r=t.b;return WF(kr($L,"lia-underline",r),qr([eL(n)]));case 6:if(t.a.$||t.a.b.b){n=t.a,r=t.b;return lF(kr($L,"lia-superscript",r),qr([kr(Ti(),e,n)]))}n=t.a.a,r=t.b;return lF(kr($L,"lia-superscript",r),qr([eL(n)]));case 7:n=t.a,r=t.b;return SL(bd(hF,kr($L,"lia-code lia-code--inline",r)),qr([eL(n)]));case 9:n=t.a,r=t.b;return UK(e,n,r);case 10:n=t.a,r=t.b;return fF(n,_c(gL,r));case 14:var i=t.a;r=t.b;return AB(Pr(Lo("left","initial"),_c(gL,r)),kr(jK,e,i));case 13:var a=t.a;r=t.b;return Er(PK,e,r,a);case 11:n=t.a,r=t.b;return eF(e,r,n,kr(jK,e,n.cg));case 12:var o=t.a;r=t.b;return IK(e,o,r);case 1:if(t.b.b){n=t.a,r=t.b;e=e,t=hm(qr([ub(n,Xi)]),r);continue e}n=t.a;return eL(n);default:if(t.c.b){s=t.a,n=t.b,r=t.c;e=e,t=hm(qr([$g(s,n,Xi)]),r);continue e}var s=t.a;n=t.b;return Er(vF,"lia-formula",qr([vL("displayMode",s),bF("formula",Xc(n))]),Xi)}}),BK=gr(NK),FK=function(e,t,r,n,i){return!e.dZ||Ra("#",r)?qK(e,t,r,n,i):Er(pF,"span",Xi,qr([Ar(r,Er(vF,"preview-link",qr([vL("src",r),bF("light",zc(e.fG))]),qr([qK(e,t,r,n,i)])))]))},jK=(yr(FK),function(e){return Sc(BK(e))}),KK=Ti();Ti=function(){return KK};var HK,WK=function(e,t,r,n,i,a){return BK(sL(new Te(t,r,Ol(rf,a),2,e,-1,As,As,As,n,i,As)))},VK=(wr(WK),kr(Vc,WK(Du,12,!1,!1,As,As),Yq(eh(oL)))),zK=(Sc(VK),Co(Eo,"p")),GK=zK.a2,JK=function(e,t){return{$:4,a:e,b:t}},YK=(gr(JK),function(e,t){return{$:5,a:e,b:t}}),ZK=(gr(YK),function(e){return{$:6,a:e}}),XK=Qf,QK=kr(Vc,Zs("./?"),bB),eH=(kr(Vc,XK,QK),function(e,t,r,n){return Nq(qr([Kq(Wq,"lia-card__controls")]),qr([pj(new Ie("icon-trash",Ts((i=n.fr,{$:3,a:i})),!0,"delete"),qr([Kq(Wq,"lia-btn--tag lia-btn--transparent text-red-dark border-red-dark px-1")])),pj(new Ie("icon-refresh",Ts(JK(n.fr,n.eg)),!0,"reset"),qr([Kq(Wq,"lia-btn--tag lia-btn--transparent text-yellow-dark border-yellow-dark px-1")])),e?pj(new Ie("icon-social",Ts(ZK(new ve(my(r),my(t),Dr(zd,n.fr)))),!0,"share"),qr([Kq(Wq,"lia-btn--transparent lia-btn--tag px-1 text-turquoise border-turquoise")])):eL(""),1===n.eg.$?nL(qr([Wc(XK,QK,n.fr),Kq(Wq,"lia-btn lia-btn--transparent lia-btn--tag px-1 border-turquoise"),Kq(EB,"open")]),qr([hj(qr([Kq(Wq,"icon icon-login text-turquoise")]),Xi)])):pj(new Ie("icon-sign-in",Ts(YK(n.fr,n.eg)),!0,"open"),qr([Kq(Wq,"lia-btn--transparent lia-btn--tag px-1 text-turquoise border-turquoise")]))]));var i}),tH=($r(eH),function(e,t){return nL(qr([Kq(Wq,"lia-card__contact"),bB("mailto:"+t)]),qr([eL(e),hj(qr([Kq(Wq,"icon icon-mail ml-1 align-middle")]),Xi)]))}),rH=(gr(tH),Co(Eo,"footer")),nH=rH.a2,iH="icon.ico",aH=Fd("icon"),oH=Dl(iH),sH=(kr(Vc,aH,oH),function(e){return No("height",Qs(e))}),uH=function(e){return nH(qr([Kq(Wq,"lia-card__footer")]),qr([SB(qr([Kq(Wq,"lia-card__logo"),kB(Wc(aH,oH,e.cU)),Kq(lL,"Logo"),sH(50),vL("loading","lazy")]),Xi),function(){var t=Ar(md(e.eo),md(e.e$));if(""===t.a){if(""===t.b)return eL("");var r=t.b;return tH(r,r)}if(""===t.b){var n=t.a;return AB(qr([Kq(Wq,"lia-card__contact")]),qr([eL(n)]))}n=t.a,r=t.b;return tH(n,r)}()]))},cH=Co(Eo,"h3"),lH=cH.a2,fH=Co(Eo,"h4"),dH=(fH.a2,Co(Eo,"header")),hH=dH.a2,vH=function(e,t){return hH(qr([Kq(Wq,"lia-card__header")]),qr([lH(qr([Kq(Wq,"lia-card__title")]),_c(VK,e)),Ol(eL(""),td(kr(Vc,kr(Mf,";"," | "),kr(Vc,eL,kr(Vc,rp,fH(qr([Kq(Wq,"lia-card__subtitle")]))))),Bd("tags",t)))]))},pH=(gr(vH),Co(Eo,"aside")),bH=pH.a2,gH=function(e,t){return r=ou((function(e,t){var r=t.a,n=t.b,i=t.c;e:for(;;){if(e.b){if(e.b.b){if(e.b.b.b){if(e.b.b.b.b)break e;var a=e.a,o=e.b,s=o.a,u=o.b.a;return Or(r+a,n+s,i+u)}return a=e.a,s=e.b.a,Or(a+r,s+n,i)}return a=e.a,Or(a+r,n,i)}break e}return Or(r,n,i)}),Or(11111,99,12),nN(3,_c(gu,Ud(t)))),n=r.a,i=r.b,a=r.c,"rgb("+Qs(ua(e,n))+","+Qs(ua(e,i))+","+Qs(ua(e,a))+")";var r,n,i,a},mH=(gr(gH),function(e,t){return Nq(qr([Kq(Wq,"lia-card__media")]),qr([bH(qr([Kq(Wq,"lia-card__aside")]),qr([AL(qr([Kq(Wq,"lia-card__figure")]),qr([SB(qr([Kq(Wq,"lia-card__image"),kB(md(t)),vL("loading","lazy"),(r=e,Lo("background-image","radial-gradient(circle farthest-side at right bottom,"+gH(255,r)+" 30%,#ddd)"))]),Xi)]))]))]));var r}),$H=(gr(mH),function(e,t){return{$:8,a:e,b:t}}),yH=(gr($H),function(e){var t=r_(e.g_)-1;return Nq(qr([Kq(Wq,"lia-card__version")]),pu((function(r,n){var i=n.a,a=n.b;return Er(dj,new Ae(Ts($H(e.fr,Tr(t,r)?As:Ts(a))),!0,"load version "+a),qr([Kq(Wq,"lia-btn--tag"),Kq(Wq,function(){var n=e.eg;if(n.$)return Tr(t,r)?"active":"lia-btn--outline";var a=n.a;return Tr(a,i)?"active":"lia-btn--outline"}())]),qr([eL("V "+a)]))}),na(Hu,_c((function(e){var t=e.a,r=e.b;return Ar(t,r.eR.bd)}),Us(e.g_)))))}),wH=gr((function(e,t){var r=function(e){var t=e.eg;if(1===t.$)return td(Yf,Sf(na(Hu,Us(e.g_))));var r=t.a;return Bd(r,e.g_)}(t);if(r.$)return eL("something went wrong");var n,i=r.a.gS,a=r.a.eR;return aL(qr([Kq(Wq,"lia-card")]),qr([yH(t),mH(t.fr,a.fL),Nq(qr([Kq(Wq,"lia-card__content")]),qr([vH(i,a.cU),(n=a.cf,Nq(qr([Kq(Wq,"lia-card__body")]),n.b?qr([GK(qr([Kq(Wq,"lia-card__copy")]),_c(VK,n))]):Xi)),eH(e,i,a.cf,t),uH(a)]))]))})),_H={$:6},SH=function(e){return{$:0,a:e}},CH=function(e){switch(e){case 0:return"اعدادات";case 1:return"Настройки";case 2:return"Einstellungen";case 3:return"configuración";case 4:return"تنظیمات";case 5:return"կարգավորումներ";case 6:return"설정";case 7:return"Instellingen";case 8:return"настройки";case 9:case 11:return"設定";case 10:return"налаштування";default:return"Settings"}},kH=Dw(rF,nF,"controls"),EH=Dw(rF,nF,"expanded"),RH=sj,xH=(kr(Pw,EH,RH),kr(iF,"haspopup","menu")),MH=function(e,t){return pj(new Ie(t?"icon-close":"icon-more",Ts(SH(_H)),!0,CH(e)),qr([Kq(Wq,"lia-btn lia-btn--transparent lia-support-menu__toggler"),kH("lia-support-menu"),Kq(uF,"lia-btn-support"),xH,Dw(EH,RH,t)]))},IH=(gr(MH),Co(Eo,"li")),TH=IH.a2,AH=bj(30),OH=bj(31),DH=Co(Eo,"ul"),PH=DH.a2,qH=function(e,t,r,n,i){var a=zi(t.g0,Zl)>-1||r.dS;return hH(qr([Kq(Wq,"lia-header"),Kq(uF,"lia-toolbar-nav")]),qr([Nq(qr([Kq(Wq,"lia-header__left")]),Xi),Nq(qr([Kq(Wq,"lia-header__middle")]),qr([SB(qr([kB(n),Kq(Wq,"lia_header__logo"),Kq(lL,"logo")]),Xi)])),Nq(qr([Kq(Wq,"lia-header__right")]),qr([Nq(qr([Kq(Wq,"lia-support-menu"),Kq(uF,"lia-support-menu"),Kq(Wq,r.dS?"lia-support-menu--open":"lia-support-menu--closed")]),qr([MH(e,r.dS),Nq(qr([Kq(Wq,"lia-support-menu__collapse")]),qr([PH(qr([Kq(Wq,"nav lia-support-menu__nav"),AH,YB(!1)]),_c((function(t){var n=t.a,i=t.b;return TH(qr([Kq(Wq,"nav__item lia-support-menu__item lia-support-menu__item--"+i),OH,xH]),Er(n,e,a,r))}),i))]))]))]))]))},LH=(yr(qH),Co(Eo,"main")),UH=LH.a2,NH=function(e){return{$:5,a:e}},BH=SH,FH=(kr(Vc,NH,BH),function(e,t,r,n){return pj(new Ie(r,Ts(Wc(NH,BH,e)),!0,n),qr([xH,Dw(EH,RH,t),Cj(qr([wj(Wc(NH,BH,5))])),Kq(Wq,"lia-btn--transparent hide-md-down")]))}),jH=($r(FH),Dl("mixed")),KH=rd(sj),HH=kr(Pw,jH,KH),WH=Dw(rF,nF,"checked"),VH=HH,zH=(kr(Pw,WH,VH),bj(29)),GH=function(e){return Uq(qr([Kq(Wq,"lia-support-menu__submenu"),Kq(Wq,e?"active":""),Dw(WH,VH,Ts(e)),zH]))},JH=Co(Eo,"hr"),YH=JH.a2,ZH=YH(qr([Kq(Wq,"nav__divider")]),Xi),XH=function(e){return{$:2,a:e}},QH=function(e){switch(e){case 0:return"على غرار المحرر";case 1:return"редакторски стил";case 2:return"Editor-Stil";case 3:return"estilo editor";case 4:return"به سبک ویرایشگر";case 5:return"խմբագիր ոճով";case 6:return"에디터 스타일";case 7:return"editor-stijl";case 8:case 10:return"стиль редактора";case 9:case 11:return"编辑风格";default:return"Editor-Style"}},eW=function(e){switch(e){case 0:return"وضع الإضاءة";case 1:return"светъл режим";case 2:return"Hellmodus";case 3:return"modo claro";case 4:return"حالت روشن";case 5:return"թեթև ռեժիմ";case 6:return"라이트 모드";case 7:return"lichte modus";case 8:return"светлый режим";case 9:case 11:return"亮模式";case 10:return"світлий режим";default:return"Light-Mode"}},tW=function(e){switch(e){case 0:return"الوضع المظلم";case 1:return"тъмен режим";case 2:return"Dunkelmodus";case 3:return"modo oscuro";case 4:return"حالت تاریک";case 5:return"մութ ռեժիմ";case 6:return"다크 모드";case 7:return"donkere modus";case 8:return"темный режим";case 9:case 11:return"暗模式";case 10:return"темний режим";default:return"Dark-Mode"}},rW=Co(Eo,"optgroup"),nW=rW.a2,iW="selected",aW=(kL(iW),gr((function(e,t){var r=t.a,n=t.b;return $K(qr([Kq(tL,r),CL(iW,Tr(r,e))]),qr([eL(n)]))}))),oW=function(e,t,r){var n=aW(r);return Nq(qr([Kq(Wq,"lia-settings-editor")]),qr([QB(qr([Kq(Wq,"lia-label"),Dw(uj,cj,!t)]),qr([Nq(qr([Lo("margin-bottom","0.4rem")]),qr([eL(QH(e)+":")])),wK(qr([Kq(Wq,"lia-select"),Qj(XH),YB(t)]),qr([nW(qr([vL("label",eW(e)),Dw(uj,cj,!0)]),_c(n,qr([Ar("chrome","Chrome"),Ar("cloud9_day","Cloud9 Day"),Ar("clouds","Clouds"),Ar("crimson_editor","Crimson Editor"),Ar("dawn","Dawn"),Ar("dreamweaver","Dreamweaver"),Ar("eclipse","Eclipse"),Ar("github","Github"),Ar("iplastic","IPlastic"),Ar("katzenmilch","KatzenMilch"),Ar("kuroir","Kuroir"),Ar("solarized_light","Solarized Light"),Ar("sqlserver","SQL Server"),Ar("textmate","TextMate"),Ar("tomorrow","Tomorrow"),Ar("xcode","XCode")]))),nW(qr([vL("label",tW(e)),Dw(uj,cj,!0)]),_c(n,qr([Ar("ambiance","Ambiance"),Ar("chaos","Chaos"),Ar("cloud9_night","Cloud9 Night"),Ar("clouds_midnight","Clouds Midnight"),Ar("cobalt","Cobalt"),Ar("dracula","Dracula"),Ar("gob","Green on Black"),Ar("gruvbox","Gruvbox"),Ar("idle_fingers","idle Fingers"),Ar("kr_theme","krTheme"),Ar("merbivore","Merbivore"),Ar("merbivore_soft","Merbivore Soft"),Ar("mono_industrial","Mono Industrial"),Ar("monokai","Monokai"),Ar("nord_dark","Nord Dark"),Ar("pastel_on_dark","Pastel on dark"),Ar("solarized_dark","Solarized Dark"),Ar("terminal","Terminal"),Ar("tomorrow_night","Tomorrow Night"),Ar("tomorrow_night_blue","Tomorrow Night Blue"),Ar("tomorrow_night_bright","Tomorrow Night Bright"),Ar("tomorrow_night_eighties","Tomorrow Night 80s"),Ar("twilight","Twilight"),Ar("vibrant_ink","Vibrant Ink")])))]))]))]))},sW=(mr(oW),{$:2}),uW=function(e,t,r){return UB(qr([Kq(Wq,"lia-btn lia-btn--transparent"),fj(SH(sW)),YB(t),Dw(uj,cj,!t),Kq(uF,"lia-btn-light-mode"),Lo("width","100%")]),qr([hj(qr([Dw(uj,cj,!0),Kq(Wq,"lia-btn__icon icon"),Kq(Wq,r?"icon-darkmode":"icon-lightmode")]),Xi),AB(qr([Kq(Wq,"lia-btn__text")]),qr([eL(r?tW(e):eW(e))]))]))},cW=(mr(uW),function(e,t){switch(e){case 0:return" :حجم الخط "+t;case 1:return"Размер на шрифта: "+t;case 2:return"Schriftgröße: "+t;case 3:return"Tamaño de fuente: "+t;case 4:return"اندازه قلم: "+t;case 5:return"Տառատեսակի չափը ՝ "+t;case 6:return"글꼴 크기: "+t;case 7:return"Lettergrootte: "+t;case 8:return"Размер шрифта: "+t;case 9:case 11:return"字体大小： "+t;case 10:return"Розмір шрифту: "+t;default:return"font size: "+t}}),lW=(gr(cW),function(e){switch(e){case 0:return"صغير";case 1:return"малък";case 2:case 7:return"klein";case 3:return"pequeño";case 4:return"کوچک";case 5:return"փոքր";case 6:return"작게";case 8:return"мелкий";case 9:case 11:return"小";case 10:return"маленький";default:return"small"}}),fW=function(e){switch(e){case 0:case 4:return"متوسط";case 1:return"среден";case 2:return"mittel";case 3:return"mediano";case 5:return"միջին";case 6:return"보통";case 7:default:return"medium";case 8:return"средний";case 9:case 11:return"中";case 10:return"середній"}},dW=function(e){switch(e){case 0:return"كبير";case 1:return"голям";case 2:return"groß";case 3:return"grande";case 4:return"بزرگ";case 5:return"մեծ";case 6:return"크게";case 7:return"groot";case 8:return"большой";case 9:case 11:return"大";case 10:return"великий";default:return"large"}},hW=function(e){return 6===e?"가":"Aa"},vW=function(e,t,r,n,i){return Er(dj,new Ae(Ts({$:4,a:n}),t,i),qr([Kq(Wq,"lia-btn--transparent lia-fontscale__lvl-"+Qs(n)),Kq(Wq,Tr(r,n)?"active":""),Dw(WH,VH,Ts(Tr(r,n)))]),qr([AB(bd(hF,Xi),qr([eL(hW(e))]))]))},pW=(yr(vW),function(e,t,r){return Nq(qr([Kq(Wq,"lia-fontscale")]),qr([vW(e,t,r,1,cW(e,lW(e))),vW(e,t,r,2,cW(e,fW(e))),vW(e,t,r,3,cW(e,dW(e)))]))}),bW=(mr(pW),{$:9}),gW=function(e){switch(e){case 1:return"Предпочитам TTS на браузъра";case 2:return"Browser-TTS bevorzugen";case 3:return"Preferir TTS del navegador";case 6:return"브라우저 TTS 선호";case 7:return"Voorkeur browser TTS";case 8:return"Предпочитать браузерный TTS";case 9:case 11:return"首选浏览器 TTS";case 10:return"Надаю перевагу браузеру TTS";default:return"Prefer browser TTS"}},mW=function(e,t,r){return QB(qr([Kq(Wq,"lia-label"),Dw(uj,cj,!t)]),qr([Vj(qr([Kq(Wq,"lia-checkbox"),Kq(eK,"checkbox"),CL(aK,function(){var e=Ar(r.cM,r.cN);e:for(;;){if(e.a){if(e.b)break e;return!0}if(e.b)return!1;break e}return r.di}()),fj(SH(bW)),YB(t),CL(oj,!(r.cM&&r.cN))]),Xi),eL(gW(e))]))},$W=(mr(mW),function(e){switch(e){case 0:return"أزرق";case 1:return"Синьо";case 2:return"Blau";case 3:return"azul";case 4:return"آبی";case 5:return"կապույտ";case 6:return"파랑";case 7:return"blauw";case 8:return"синий";case 9:case 11:return"藍色";case 10:return"синій";default:return"Blue"}}),yW=function(e){switch(e){case 0:return"المعيار الافتراضي";case 1:return"Подразбиране";case 2:return"Standard";case 3:return"defecto";case 4:return"پیشفرض";case 5:return"կանխադրված";case 6:return"기본";case 7:return"standaard";case 8:return"стандарт по умолчанию";case 9:case 11:return"預設";case 10:return"стандартний";default:return"Default"}},wW=function(e){switch(e){case 0:return"أحمر";case 1:return"червен";case 2:return"Rot";case 3:return"rojo";case 4:return"قرمز";case 5:return"կարմիր";case 6:return"빨강";case 7:return"rood";case 8:return"красный";case 9:case 11:return"红色的";case 10:return"червоний";default:return"Red"}},_W=function(e){switch(e){case 0:return"نظام الألوان";case 1:return"Цветова схема";case 2:return"Farbschema";case 3:return"Esquema de colores";case 4:return"طرح رنگی";case 5:return"Գունային սխեման";case 6:return"색상 스키마";case 7:return"Kleurenschema";case 8:return"Цветовая схема";case 9:case 11:return"配色方案";case 10:return"Кольорова схема";default:return"Color scheme"}},SW=function(e){switch(e){case 0:return"فيروزي";case 1:return"тюркоаз";case 2:return"Türkis";case 3:return"turquesa";case 4:return"فیروزه";case 5:return"փիրուզագույն";case 6:return"청록";case 7:return"turkoois";case 8:return"бирюзовый";case 9:case 11:return"绿松石";case 10:return"бірюзовий";default:return"Turquoise"}},CW=function(e){switch(e){case 0:return"أصفر";case 1:return"жълт";case 2:return"Gelb";case 3:return"amarillo";case 4:return"رنگ زرد";case 5:return"դեղին";case 6:return"노랑";case 7:return"geel";case 8:return"желтый";case 9:case 11:return"黄色的";case 10:return"жовтий";default:return"Yellow"}},kW="name",EW=(Hq(kW),bj(40)),RW=function(e,t,r,n){return Nq(qr([Kq(Wq,"lia-radio-group lia-settings-theme-colors"),EW,dF(_W(e))]),_c((function(e){var n,i=e.a,a=e.b,o=e.c;return Vj(qr([Kq(eK,"radio"),Kq(Wq,"lia-radio "+o),Kq(uF,"lia-theme-color-"+i),Kq(kW,"lia-theme-color"),CL(aK,Tr(r,i)),fj((n=i,{$:1,a:n})),Kq(EB,a),YB(t),Dw(uj,cj,!t),Kj(Wj,TD)]),Xi)}),bd(qr([Or("default",yW(e),"is-default"),Or("turquoise",SW(e),"is-turquoise"),Or("blue",$W(e),"is-blue"),Or("red",wW(e),"is-red")]),qr(n?[Or("yellow",CW(e),"is-yellow"),Or("custom",yW(e),"is-custom")]:[Or("yellow",CW(e),"is-yellow")]))))},xW=($r(RW),{$:8}),MW=function(e){switch(e){case 2:return"Tooltipps";case 8:return"подсказки";case 10:return"підказки";default:return"Tooltips"}},IW=Xl,TW=function(e,t,r,n){return zi(r,IW)>-1?QB(qr([Kq(Wq,"lia-label"),Dw(uj,cj,!t)]),qr([Vj(qr([Kq(Wq,"lia-checkbox"),Kq(eK,"checkbox"),CL(aK,n),fj(SH(xW)),YB(t)]),Xi),eL(MW(e))])):eL("")},AW=($r(TW),function(e,t,r,n){return qr([uW(e,t,n.fG),ZH,RW(e,t,n.am,!Tr(n.eI,As)),ZH,oW(e,t,n.cp),ZH,pW(e,t,n.cv),ZH,TW(e,t,r,n.dZ),ZH,mW(e,t,n.b2)])}),OW=($r(AW),$r((function(e,t,r,n){return qr([FH(2,Tr(n.b5,Ts(2)),"icon-settings",CH(t)),kr(GH,Tr(n.b5,Ts(2)),AW(t,r,e,n))])}))),DW=function(e){return{$:2,a:e}},PW="placeholder",qW=(Hq(PW),Co(Eo,"section")),LW=qW.a2,UW=function(e,t,r){return Nq(qr([Kq(Wq,"p-1")]),qr([To(Dq,qH(12,e.dC,t,iH,qr([Ar(OW(e.dC.g0),"settings")]))),UH(qr([Kq(Wq,"lia-slide__content")]),qr([Gq(Xi,qr([eL("Lia: Open-courSes")])),(n=r.fx,Nq(Xi,qr([Vj(qr([Kq(eK,"url"),Qj(DW),Kq(tL,n),Kq(PW,"course-url"),Kq(Wq,"lia-input border-grey-light max-w-50 mr-1"),Kj(Wj,oL)]),Xi),Er(dj,""===n?new Ae(As,!1,"load"):new Ae(Ts((i="./?"+Wc(Zf,Xf,n),{$:10,a:i})),!0,"load"),Xi,qr([eL("load course")]))]))),_f(r.eG)&&r.fv?LW(Xi,qr([jq(Xi,Xi),GK(qr([Kq(Wq,"lia-paragraph")]),qr([eL("If you cannot see any courses in this list, try out one of the following links, to get more information about this project and to visit some examples and free interactive books.")])),WF(Xi,qr([TH(Xi,qr([nL(qr([bB(Vd),Kq(xF,"_blank")]),qr([eL("Project-Website")]))])),TH(Xi,qr([nL(qr([Wc(XK,QK,"https://raw.githubusercontent.com/liaScript/docs/master/README.md"),Kq(xF,"_blank")]),qr([eL("Project-Documentation")]))])),TH(Xi,qr([nL(qr([Wc(XK,QK,"https://raw.githubusercontent.com/liaScript/index/master/README.md"),Kq(xF,"_blank")]),qr([eL("Index")]))]))])),jq(Xi,Xi),GK(qr([Kq(Wq,"lia-paragraph")]),qr([eL("At the end, we hope to learn from your courses.")])),GK(qr([Kq(Wq,"lia-paragraph")]),qr([eL("Have a nice one ;-) ...")]))])):r.fv?Nq(qr([Kq(Wq,"preview-grid")]),_c(wH(e.gs),r.eG)):eL("")]))]));var n,i},NW=(mr(UW),{$:10}),BW=function(e){return{$:11,a:e}},FW=function(e){switch(e){case 2:return"Übersicht";case 6:return"집";default:return"Home"}},jW=function(e,t,r){return Er(dj,new Ae(Ts(r),t,""),qr([Kq(Wq,"lia-btn--transparent"),Kq(uF,"lia-btn-home"),Dw(uj,cj,!t)]),qr([vj("icon-grid",Xi),AB(qr([Kq(Wq,"lia-btn__text")]),qr([eL(FW(e))]))]))},KW=(mr(jW),{$:0}),HW=function(e,t){return pj(new Ie(t?"icon-close":"icon-table",Ts(SH(KW)),!0,function(e){switch(e){case 0:return"جدول المحتويات";case 1:return"Съдържание";case 2:return"Inhaltsverzeichnis";case 3:return"índice";case 4:return"فهرست مطالب";case 5:return"բովանդակություն";case 6:return"목차";case 7:return"Inhoudsopgave";case 8:return"оглавление";case 9:case 11:return"目錄";case 10:return"зміст";default:return"Table of Contents"}}(e)),qr([Kq(uF,"lia-btn-toc"),Kq(Wq,"lia-btn lia-btn--transparent"),kH("lia-toc"),xH,Dw(EH,RH,t)]))},WW=(gr(HW),gd),VW=(yB(WW),function(e,t,r){return e?Dr(r,t):r}),zW=(mr(VW),mr((function(e,t,r){return rL($B(WW,Tr(t,r.fr),qr([Kq(uF,"focusedToc"),Kq(Wq,"lia-active")]),qr([YB(e),Dw(uj,cj,!e),Kq(Wq,VW(!r.d8," hide","lia-toc__link lia-toc__link--is-lvl-"+Qs(r.ft))),bB("#"+Qs(r.fr+1))])))}))),GW=yr((function(e,t,r,n,i){return To(kr(Vc,Uh(i.fr),n),Rr(zW,t,r,i,_c(WK(Du,e,!1,!1,As,As),i.gS)))})),JW=$r((function(e,t,r,n){return kr(Vc,Ps,Sc(Rr(GW,e,t,r,n)))})),YW=bj(34),ZW=bj(46),XW={$:1},QW=function(e){return{$:0,a:e}},eV=function(e){switch(e){case 0:return"إزالة البحث";case 1:return"търсене изтриване";case 2:return"Suche löschen";case 3:return"eliminar búsqueda";case 4:return"جستجو را حذف کنید";case 5:return"ջնջել որոնումը";case 6:return"입력 내용 지우기";case 7:return"Duidelijke zoek";case 8:return"удалить поиск";case 9:case 11:return"删除搜寻";case 10:return"видалити пошук";default:return"clear search"}},tV=function(e){switch(e){case 0:return"بحث";case 1:return"Търсене";case 2:return"Suche";case 3:return"buscar";case 4:return"جستجو";case 5:return"փնտրել";case 6:return"찾기";case 7:return"zoek";case 8:return"поиск";case 9:case 11:return"搜尋";case 10:return"пошук";default:return"Search"}},rV=function(e){return yj(13,e)},nV=kr(iF,"live","assertive"),iV=function(e,t,r,n){return qr([Vj(qr([Kq(eK,"search"),Kq(tL,n),Kq(Wq,"lia-input"),Kq(PW,tV(e)),Qj(QW),Kj(Wj,QW(n)),Kq(uF,"lia-input-search"),YB(t),Dw(uj,cj,!t),Cj(qr([rV(QW(""))]))]),Xi),AB(qr([Kq(Wq,"icon icon-search")]),Xi),uc(n)?eL(""):UB(qr([Kq(Wq,"lia-toc__clear-index"),fj(XW),YB(t),Kq(EB,eV(e))]),qr([hj(qr([Kq(Wq,"lia-btn__icon icon icon-close")]),Xi)])),function(){if(uc(n))return eL("");var t=Oy(gr((function(e,t){return e.d8?t+1:t})),0,r);return AB(qr([nV,Kq(Wq,"hidden-visually")]),qr([eL(function(){switch(t){case 0:return function(e){switch(e){case 0:return"ولا أي نتيجة";case 1:return"няма резултати";case 2:return"kein Ergebnis";case 3:return"No hay resultados";case 4:return"هیچ نتیجه ای";case 5:return"արդյունք չկա";case 6:return"결과 없음";case 7:return"Geen resultaten";case 8:return"нет результатов";case 9:case 11:return"没有结果";case 10:return"немає результатів";default:return"no results"}}(e);case 1:return function(e){switch(e){case 0:return"نتيجة واحدة";case 1:return"един резултат";case 2:return"ein Ergebnis";case 3:return"un resultado";case 4:return"یک نتیجه";case 5:return"մեկ արդյունք";case 6:return"단일 결과";case 7:return"een resultaat";case 8:case 10:return"один результат";case 9:case 11:return"一个结果";default:return"one result"}}(e);default:return Qs(t)+" "+function(e){switch(e){case 0:return"النتائج";case 1:return"Резултати";case 2:return"Ergebnisse";case 3:return"Resultados";case 4:return"نتایج";case 5:return"արդյունքներ";case 6:return"결과";case 7:return"Resultaten";case 8:return"результаты";case 9:case 11:return"结果";case 10:return"результати";default:return"results"}}(e)}}())]))}()])},aV=($r(iV),function(e,t){return Nq(qr([Kq(Wq,"lia-toc"),Kq(uF,"lia-toc"),Kq(Wq,t.dF.gJ?"lia-toc--open":"lia-toc--closed"),YW]),qr([To(Zy,HW(t.gU,t.dF.gJ)),To(Jy,Nq(qr([Kq(Wq,"lia-toc__search"),ZW]),iV(t.gU,t.dF.gJ,t.bU,t.cJ))),Nq(qr([Kq(Wq,"lia-toc__content"),YB(!1)]),xr(JW,t.gU,t.dF.gJ,t.gp,BW,t.bU)),e?Nq(qr([Kq(Wq,"lia-toc__bottom")]),qr([jW(t.gU,t.dF.gJ,NW)])):eL("")]))}),oV=(gr(aV),{$:3}),sV={$:4},uV=(KF(0),gr((function(e,t){var r=t.aE;return jF(0,e,r)}))),cV=function(e,t){return Kf(eL(wF(e)),Cl(uV(qr([Lo("background-color","#FFF"),Lo("padding","0.4rem"),Kq(lL,yF(e)+": "+t),fj(SH(oV))])),vB(2,t)))},lV=(gr(cV),function(e){return{$:2,a:e}}),fV=function(e){return{$:2,a:e}},dV=function(e){return{$:1,a:e}},hV={$:6},vV=function(e){return{$:0,a:e}},pV={$:3},bV={$:4},gV=function(e){switch(e.gy.$){case 2:return Er(dj,new Ae(uc(e.a9)?As:Ts(pV),!0,"connect"),qr([Lo("margin-top","2rem")]),qr([eL("connect")]));case 1:return Er(dj,new Ae(Ts(bV),!0,"disconnect"),qr([Lo("margin-top","2rem")]),qr([eL("disconnect")]));default:return Er(dj,new Ae(As,!1,"pending"),qr([Lo("margin-top","2rem")]),qr([eL("pending")]))}},mV=qr([Lo("padding","5px 15px 5px 15px"),Lo("border","1px solid white"),Lo("margin-top","2rem")]),$V=(zK(mV),YH(qr([Lo("margin","5px 0px")]),Xi)),yV=function(e,t){return nL(qr([bB(t),Kq(xF,"blank")]),qr([eL(e)]))},wV=(gr(yV),Co(Eo,"ol")),_V=wV.a2,SV=yV("Y-js","https://github.com/yjs/yjs"),CV=GK(mV,qr([eL("The LiaScript classroom enables a lightweight collaboration between small groups of users. "),eL('"Lightweight" means that there is no chat (video-conferencing), no logging, and no user roles. '),eL("Instead, there is only one global state created and shared between the browsers of all users. "),eL("Thus, a user joins a room with her/his data and when she/he leaves, this data gets removed from the classroom. "),eL("No data is stored, and no data gets preserved, it is only shared among uses during a classroom session. "),eL("LiaScript enables the synchronization on the following elements:"),_V(qr([Lo("padding","10px 25px 0px")]),qr([TH(Xi,qr([eL("Global overview on quizzes")])),TH(Xi,qr([eL("Global overview on surveys")])),TH(Xi,qr([eL("Collaborative editing of executable code snippets (you have to switch to sync-mode, per editor)")]))])),eL("To synchronize the state between users, we apply "),yV("Conflict Free Replicated Datatypes (CRDTs)","https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type"),eL(" as implemented by "),SV,eL(". Communication is realized with the help of different backends, which only provide a relay service. "),eL("The implementation can be found "),yV("here","https://github.com/LiaScript/LiaScript/tree/development/src/typescript/sync"),eL(". Different browsers might support different backends, which require different settings. "),eL("You can help us with implementing other backend services. "),$V,eL("Every room needs a unique name; you can click on the generator-button to do this randomly. "),eL("After a successful connection, you can either share your settings with your audience or the new URL, which contains the entire classroom configuration. "),eL("A combination of your course-URL and the room name are used to create a unique ID and to prevent collisions with other courses. "),eL("However, if you want to establish a connection between exported courses (see "),yV("LiaScript-Exporter",""),eL(") on different platforms, such as "),yV("Moodle","https://en.wikipedia.org/wiki/Moodle"),eL(", "),yV("ILIAS","https://en.wikipedia.org/wiki/ILIAS"),eL(", "),yV("OPAL","https://de.wikipedia.org/wiki/OPAL_(Lernplattform)"),eL(", etc., you can put your room name in single or double quotation marks. "),eL("This will instruct LiaScript to use the room name only (no course-URL), but you will have to make sure that all users are on the same course and version, to prevent collisions ..."),$V,eL("Note, most backend services are free, and you can also host them by your own. "),eL("There might be cases where the synchronization is slow or there are collisions, but we are working in the background on optimizations and fixes ;-)")])),kV=function(e,t){return GK(mV,function(){var r=Ar(t,e);switch(r.a.$){case 0:if(r.b){r.a;return qr([eL("We are glad you are using the "),yV("Beaker Browser","https://beakerbrowser.com"),eL(". This allows you also to create and share content directly from within this Browser."),eL("This classroom is implemented via the internal "),yV("beaker.peersockets","https://docs.beakerbrowser.com/apis/beaker.peersockets"),eL(", which can be found "),yV("here","https://github.com/LiaScript/LiaScript/tree/development/src/typescript/sync/Beaker")])}r.a;return qr([eL("Your browser does not support classrooms via the "),yV("hyper://","https://hypercore-protocol.org"),eL(" protocol."),eL(" You should try to download the "),yV("Beaker Browser","https://beakerbrowser.com"),eL(". It uses a peer-to-peer network with which you can make and host websites from inside the browser."),eL(" In the same way you can also directly create and edit LiaScript courses within this browser and share them.")]);case 1:r.a;return qr([yV("Edrys","https://edrys.org"),eL(" is an open and modular remote teaching platform (and the first live LMS). "),eL("It is a great platform for building remote labs and share them by using only a browser locally. "),eL("Thus, this synchronization will only work, if you are within an Edrys classroom, for more information try the following link: "),yV("https://edrys.org","https://edrys.org"),eL(". Additionally your course has to be loaded via the "),yV("module-liascript","https://github.com/edrys-org/module-liascript"),eL(".")]);case 2:return qr([yV("GunDB","https://gun.eco"),eL(" is a small, easy, and fast protocol for syncing data across various users."),eL(" You can use the default relay server hosted at "),yV(yf,yf),eL(". Or, if you don't trust us ;-) you can also use one of the free hosted relay servers listed "),yV("here","https://github.com/amark/gun/wiki/volunteer.dht"),eL(". Multiple peers have to be separated by commas."),eL(" The implementation of this classroom can be found "),yV("here","https://github.com/LiaScript/LiaScript/tree/development/src/typescript/sync/Gun"),eL(". No data is stored or logged, it is just an easy method for transmitting information to all connected users.")]);case 3:return qr([yV("Jitsi","https://en.wikipedia.org/wiki/Jitsi"),eL(" is a free and open-source multiplatform for video conferencing, voice over IP, and instant messaging. "),eL("It is probably best known for its public video conferencing server "),yV("https://meet.jit.si","https://meet.jit.si"),eL(", that we use a backend to establish classrooms via data-channels. "),eL("However, you can use their default service or host a server by your own, then you will have to change the domain setting.")]);case 4:return qr([yV("[Matrix]","https://matrix.org"),eL(" is an open network/standard/project for secure and decentralized real-time communication. "),eL(" You can find more information about it "),yV("here on Wikipedia","https://en.wikipedia.org/wiki/Matrix_(protocol)"),eL(". Thus, if you have access to the following settings, you can establish a classroom that uses the "),yV("Matrix-CRDT","https://github.com/yousefED/matrix-crdt"),eL(" provider for "),SV,eL(".")]);default:return qr([yV("PubNub","https://www.pubnub.com"),eL(" is a realtime communication platform. "),eL("To create a classroom that uses this service, you will only require an account, which is free for testing. "),eL("After that you simply have to create a new App with a new Keyset within their dashboard. "),eL("These are the keys you will have to provide for this room. "),eL("After this, you can simply generate a new set of keys. "),eL("The basic steps that are required, are described in more detail "),yV("here","https://www.appypie.com/faqs/how-to-get-pubnub-publish-key-and-subscribe-key"),eL(".")])}}())},EV=(gr(kV),function(e){return QB(Xi,qr([AB(qr([Kq(Wq,"lia-label"),Lo("margin-top","2rem")]),qr([e.V])),Vj(qr([e.eg?Qj(e.ae):CL(oj,!0),Kq(tL,e.gY),Lo("color","black"),Kq(eK,e.aL),Lo("width","100%"),Kq(PW,e.X)]),Xi)]))}),RV=bj(5),xV=function(e){return vj(function(){switch(e.$){case 0:return"icon-beaker icon-xs";case 1:return"icon-edrys icon-xs";case 2:return"icon-gundb icon-xs";case 3:return"icon-jitsi icon-xs";case 4:return"icon-matrix icon-xs";default:return"icon-pubnub icon-xs"}}(),qr([Lo("padding-right","5px"),Lo("font-size","inherit")]))},MV=rd(kr(Vc,Yf,(function(e){return AB(Xi,qr([xV(e),eL(cO(!1,e))]))}))),IV=Dl(eL("None")),TV=(kr(Vc,MV,IV),function(e){return Nq(qr([fj((t=e,{$:1,a:t}))]),qr([Wc(MV,IV,e)]));var t}),AV=function(e,t){return To(lV,QB(Xi,qr([AB(qr([Kq(Wq,"lia-label")]),qr([eL("via Backend")])),jq(Xi,Xi),Nq(qr([Kq(Wq,"lia-dropdown"),e?fj((r=!t.c9,{$:0,a:r})):CL(oj,!0)]),qr([Nq(qr([Kq(Wq,"lia-dropdown__selected"),Dw(uj,cj,!1),RV,Dw(EH,RH,t.c9)]),qr([Wc(MV,IV,t.bV),hj(qr([Kq(Wq,"icon"+(t.c9?" icon-chevron-up":" icon-chevron-down")),RV]),Xi)])),Nq(qr([Kq(Wq,"lia-dropdown__options"),Kq(Wq,t.c9?"is-visible":"is-hidden")]),Pr(TV(As),_c(kr(Vc,Ts,TV),t.dR)))]))])));var r},OV=(gr(AV),function(e){return{$:0,a:e}}),DV=function(e){return{$:3,a:e}},PV=gr((function(e,t){return{$:2,a:e,b:t}})),qV=gr((function(e,t){return{$:1,a:e,b:t}})),LV=function(e,t){switch(t.$){case 2:var r=t.a;return EV(new Oe(e,eL("relay server"),OV,"","input",r));case 3:var n=t.a;return EV(new Oe(e,eL("domain"),DV,"","input",n));case 4:var i=t.a.er,a=t.a.gX,o=t.a.ee;return Nq(Xi,qr([EV(new Oe(e,eL("base URL"),PV("url"),"https://matrix.org","input",i)),EV(new Oe(e,eL("user ID"),PV("user"),"@USERID:matrix.org","input",a)),EV(new Oe(e,eL("access token"),PV("token"),"....MDAxM2lkZW50aWZpZXIga2V5CjAwMTBjaWQgZ2Vu....","input",o))]));case 5:var s=t.a.gc,u=t.a.gD;return Nq(Xi,qr([EV(new Oe(e,eL("publishKey"),qV("pub"),"pub-c-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX","input",s)),EV(new Oe(e,eL("subscribeKey"),qV("sub"),"sub-c-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX","input",u))]));default:return eL("")}},UV=(gr(LV),function(e){if(1===e.$)return eL("");var t=e.a;return Nq(qr([Lo("margin-top","2rem"),Lo("font-weight","bold")]),qr([eL("Error: "+t)]))}),NV=function(e){var t=Or(e.dF.R,e.c$,e.dF.dH);if(!t.a.$&&t.a.a)return kj(Zy(SH(sV)),As,rp(To(Xy,(r=e.R,n=2===r.gy.$,Nq(qr([Lo("width","80%"),Lo("max-width","600px"),Lo("overflow","auto")]),qr([Gq(Xi,qr([eL("Classroom")])),AV(n,r.R),function(){var e=r.R.bV;if(1===e.$)return CV;var t=e.a,i=t.a,a=t.b;return Nq(Xi,qr([EV(new Oe(n&&i,AB(Xi,qr([eL("room "),pj(new Ie("icon-refresh",n&&i?Ts(hV):As,n&&i,"generate random"),qr([Kq(Wq,"lia-btn--transparent icon-sm"),Lo("padding","0")]))])),vV,"Just any kind of typeable name","input",r.a9)),EV(new Oe(n&&i,eL("maybe password"),dV,"","password",r.dd)),To(lV,To(fV,LV(n&&i,a))),gV(r),UV(r.e2),kV(i,a)]))}()]))))));if(t.b.$)return t.c?kj(Zy(SH(oV)),As,qr([Nq(qr([Lo("height","80%"),Lo("max-height","800px"),Lo("width","80%"),Lo("max-width","800px"),Lo("margin-top","calc(100vh * 0.08)")]),qr([To(Zy,cV(e.gU,e.d4))]))])):eL("");var r,n,i=t.b.a;return kj(CP(Or("",As,As)),As,qr([AL(qr([Kq(Wq,"lia-figure")]),qr([Nq(qr([Kq(Wq,"lia-figure__media"),vL("data-media-image","image"),Ol(Kq(Wq,""),td(kr(Vc,Hu,OK),Bd(i,e.fP))),Lo("background-image","url('"+i+"')"),Kq(Wq,"lia-figure__zoom"),vL("onmousemove","window.LIA.img.zoom(event)")]),qr([SB(qr([kB(i)]),Xi)]))]))]))},BV=function(e,t,r,n,i,a,o){return new De(n,i,o,e,a,r,t)},FV=(_r(BV),function(e){return{$:9,a:e}}),jV=function(e,t,r,n,i,a,o,s){return sL(new Te(e,r.fG,o,r.fS,i.fy,a,i.dM,Ts(s),Ts(r.cp),r.dZ&&zi(n.g0,IW)>-1,Ts(t),Ts(i.d8)))},KV=(Sr(jV),function(e,t,r,n,i,a,o,s){var u=jV(e,t,r,i,a.eZ,o,s,n);return BV(r.fS,kr(Vc,jK(u),Sc(Yq(FV))),a,r.cp,r.fG,r.gJ?fr(i,i.g0-260):i,u)}),HV=(Sr(KV),function(e,t){return dr(t,Ts(e))}),WV=(gr(HV),function(e,t){return dr(t,kr(Vc,jK(HV(e,t.fM)),Sc(Yq(FV))))}),VV=(gr(WV),function(e,t,r,n){var i=Kc(zB(n),t);if(1===i.$)return Xi;var a,o=i.a.d0,s=i.a.fA,u=i.a.c4;return $B(wB,e,Ar("aria-hidden","true"),qr([Ar("class",(a=Ar(o,e),a.a?a.b?"translate hidden-visually":"translate":a.b?"notranslate hide":"notranslate")),Ar("class","lia-tts-"+Qs(r)),Ar("data-voice",u),Ar("data-lang",s),Ar("translate",o?"yes":"no")]))}),zV=($r(VV),function(e,t){if(Tr(e.dM,Ts(t.fr)))return UB(qr([Kq(Wq,"lia-btn lia-btn--transparent text-highlight icon icon-stop-circle"),YB(!0),fj(ER(!0,(n=t.fr,{$:4,a:n})))]),Xi);var r=Kc(zB(t.g$),e.gV);if(1===r.$)return UB(qr([Kq(Wq,"lia-btn lia-btn--transparent text-highlight icon icon-play-circle"),YB(!0),GB(t.fr,t.g$,Ol("en",KB(t.g$)),e.gv,"this.parentNode.childNodes[1]")]),Xi);r.a.d0;var n,i=r.a.fA,a=r.a.c4;return UB(qr([Kq(Wq,"lia-btn lia-btn--transparent text-highlight icon icon-play-circle"),YB(!0),GB(t.fr,a,i,e.gv,"this.parentNode.childNodes[1]")]),Xi)}),GV=(gr(zV),function(e){return AB(qr([Kq(Wq,"lia-effect__circle")]),qr([eL(IB(e))]))}),JV="hidden",YV=(kL(JV),function(e,t,r,n,i){if(Tr(e.d8,As)){switch(PB(n)){case 0:return Nq(qr([Kq(Wq,"lia-effect")]),qr([GV(n.es),Nq(_c(gL,r),i)]));case 1:return Nq(qr([Kq(Wq,"lia-effect")]),qr([zV(e,n),Nq(_c(gL,r),i)]));default:return Nq(qr([Kq(Wq,"lia-effect")]),qr([zV(e,n),Nq(Xi,qr([GV(n.es),Nq(_c(gL,r),i)]))]))}}else{var a=dy(Ts(t.d8),n);switch(PB(n)){case 0:return a?Nq(qr([Kq(Wq,"lia-effect")]),qr([GV(n.es),Nq($B(wB,Tr(n.es,t.d8),Kq(uF,"focused"),kr($L,"lia-effect__content",r)),i)])):eL("");case 1:return Nq(Xi,qr([zV(e,n),Nq(_c(gL,r),i)]));default:return Nq(qr([CL(JV,!a)]),qr([zV(e,n),Nq(qr([Kq(Wq,"lia-effect")]),qr([GV(n.es),Nq($B(wB,Tr(n.es,t.d8),Kq(uF,"focused"),kr($L,"lia-effect__content",r)),i)]))]))}}}),ZV=(yr(YV),Co(Eo,"blockquote")),XV=ZV.a2,QV=Co(Eo,"cite"),ez=QV.a2,tz="cite",rz=(Hq(tz),function(e){return kr(Vc,ly(e),kr(Vc,rd((function(e){return"lia-quiz-"+function(e){switch(e.$){case 1:return function(e){return e.$?"select":"text"}(e.a);case 2:return function(e){return e.$?"multiple-choice":"single-choice"}(e.a);case 3:return e.a,"matrix";default:return"generic"}}(e.gy)+" "+function(e){switch(e){case 1:return"solved";case 2:return"resolved";default:return"open"}}(e.gw)})),kr(Vc,Dl(""),Zs("lia-quiz "))))}),nz="fill",iz=(Bo(nz),Bo("id"),Co(TF,"marker")),az=iz.a2,oz="markerHeight",sz=(Bo(oz),"markerUnits"),uz=(Bo(sz),"markerWidth"),cz=(Bo(uz),"orient"),lz=(Bo(cz),"refX"),fz=(Bo(lz),"refY"),dz=(Bo(fz),vL("vector-effect","none")),hz=Co(TF,"defs"),vz=hz.a2,pz=Co(TF,"circle"),bz=pz.a2,gz=(Bo("cx"),Bo("cy"),function(e,t){switch(t.$){case 3:return Z_(e);case 4:var r=t.a;return Z_(e*r);case 5:return J_(e);case 6:r=t.a;return J_(e*r);case 1:return z_(e);case 2:r=t.a;return z_(e*r);case 7:return X_(e);case 8:r=t.a;return X_(e*r);case 9:var n=t.a,i=t.b;return __(gz(e,n),gz(e,i));case 10:r=t.a,n=t.b,i=t.c;return __(gz(e*r,n),gz(e*r,i));default:return q_}}),mz=(gr(gz),function(e,t){switch(e.$){case 3:return hr(t,t.ea+8);case 4:var r=e.a;return hr(t,t.ea+8*r);case 5:return hr(t,t.ea-8);case 6:r=e.a;return hr(t,t.ea-8*r);case 1:return vr(t,t.d9+4);case 2:r=e.a;return vr(t,t.d9+4*r);case 7:return vr(t,t.d9-4);case 8:r=e.a;return vr(t,t.d9-4*r);case 0:return t;case 9:var n=e.a,i=e.b;return mz(i,mz(n,t));default:r=e.a,n=e.b,i=e.c;return mz(gz(r,i),mz(gz(r,n),t))}}),$z=(gr(mz),function(e,t,r,n){var i=e.ek*t,a=mz(n,r);return AF(qr([No(IF,eu(" ",qr(["M",Vq(r.d9),Vq(r.ea),"A",Vq(i),Vq(i),"0","0","0",Vq(a.d9),Vq(a.ea)]))),No(DF,e.gC),No(PF,Vq(e.fJ)),No(nz,"transparent"),dz]),Xi)}),yz=($r($z),"marker-end"),wz=(Bo(yz),function(e){switch(e.$){case 1:return P_;case 2:var t=e.a;return X_(t);case 7:return w_;case 8:t=e.a;return z_(t);case 5:return T_;case 6:t=e.a;return Z_(t);case 3:return R_;case 4:t=e.a;return J_(t);case 9:var r=e.a,n=e.b;return __(wz(r),wz(n));case 10:t=e.a,r=e.b,n=e.c;return S_(t,wz(r),wz(n));default:return e}}),_z=Co(TF,"line"),Sz=_z.a2,Cz=(Bo("x1"),Bo("x2"),Bo("y1"),Bo("y2"),function(e,t,r){var n=mz(r,t);return Sz(bd(e,qr([No("x1",Vq(t.d9)),No("x2",Vq(n.d9)),No("y1",Vq(t.ea)),No("y2",Vq(n.ea))])),Xi)}),kz=mr(Cz),Ez=function(e,t,r){return Cz(qr([No(qF,"stroke: "+e.gC+";stroke-width:"+Vq(e.fJ)),No(yz,"url(#triangle)"),dz]),mz(r,t),wz(r))},Rz=(mr(Ez),Co(TF,"foreignObject")),xz=Rz.a2,Mz="height",Iz=(Bo(Mz),"width"),Tz=(Bo(Iz),"x"),Az=(Bo(Tz),"y"),Oz=(Bo(Az),function(e,t,r,n,i){var a=n.a,o=n.b,s=mz(__(J_(1.1),P_),r);return xz(qr([No(Tz,Vq(s.d9)),No(Az,Vq(s.ea)),No(Iz,Ol(Vq(1+wS(o)),t.g1)),No(Mz,Ol(Vq(SS(a)),t.fm)),No(qF,"font-size:"+Vq(t.fd)+"px;font-family:monospace"),No(nz,t.gO)]),qr([e(i)]))}),Dz=yr(Oz),Pz=(HK="http://www.w3.org/2000/svg",ko(mn(HK))),qz=Qq,Lz=function(e,t,r,n,i){var a=n.a,o=n.b;if(1===e.$){var s=mz(__(Z_(.5),P_),r);return Er(Pz,"text",qr([No(Tz,Vq(s.d9)),No(Az,Vq(s.ea)),No(qF,"font-size:"+Vq(t.fd)+"px;font-family:monospace"),No(nz,t.gO)]),qr([qz(i)]))}var u=e.a;return Oz(u,t,r,Ar(a,o),i)},Uz=(yr(Lz),"stroke-linecap"),Nz=(Bo(Uz),"stroke-linejoin"),Bz=(Bo(Nz),function(e){return kz(qr([No(DF,e.gC),No(PF,Vq(e.fJ)),No(Uz,"round"),No(Nz,"mitter"),dz]))}),Fz=Co(TF,"rect"),jz=Fz.a2,Kz=function(e,t){return jz(qr([No(Tz,Vq(t.d9-4)),No(Az,Vq(t.ea-4)),No(DF,e.gC),No(nz,e.gC),No(Iz,"8"),No(Mz,"8")]),Xi)},Hz=(gr(Kz),function(e,t,r){var n=mz(__(Z_(.5),P_),t);return Er(Pz,"text",qr([No(Tz,Vq(n.d9)),No(Az,Vq(n.ea)),No(qF,"font-size:"+Vq(e.fd)+"px;font-family:monospace;"),No(nz,e.gO)]),qr([qz(pl(r))]))}),Wz=(mr(Hz),Bo("r"),$r((function(e,t,r,n){switch(n.$){case 2:var i=n.a;return qr([Ez(t,r,i)]);case 0:var a=n.a;return qr([Hz(t,r,a)]);case 1:var o=n.a,s=n.b;return qr([Er(Bz,t,mz(o,r),s)]);case 3:var u=n.a;o=n.b,s=n.c;return qr([$z(t,u,mz(o,r),s)]);case 4:var c=n.a;return Cb(_c(Er(Wz,e,t,r),c));case 5:return qr([Kz(t,r)]);case 6:var l=n.a;return qr([bz(qr([No("cx",Vq(r.d9)),No("cy",Vq(r.ea)),No("r",Vq(t.ek)),No(nz,l?t.gC:t.ep),No(DF,t.gC),No(PF,Vq(t.fJ))]),Xi)]);default:var f=n.a,d=n.b;return qr([Lz(e,t,r,d,f)])}}))),Vz=function(e,t){return No(BF,"0 0 "+Vq(wS(t)+10)+" "+Vq(SS(e)+10))},zz=(gr(Vz),function(e,t,r){var n,i,a=kr(Wz,As,r.dF),o=kr(Dz,t,r.dF);return LF(Pr(Vz(r.du,r.ce),Pr((i=r.dF.ep,No(qF,"background-color:"+i+";")),e)),bd(kb((function(e){var t=e.a,r=e.b;return kr(a,t,r)}),r.dT),Pr(vz(Xi,qr([(n=r.dF.gC,az(qr([No("id","triangle"),No(BF,"0 0 14 14"),No(lz,"0"),No(fz,"5"),No(sz,"strokeWidth"),No(uz,"10"),No(oz,"10"),No(cz,"auto"),No(DF,n),No(nz,n)]),qr([AF(qr([No(IF,"M 0 0 L 10 5 L 0 10 z"),dz]),Xi)])))])),_c((function(e){var t=e.a,r=e.b,n=r.a,i=r.b;return Er(o,n,i,t)}),r.cx))))}),Gz=(mr(zz),function(e,t,r){for(;;){var n=cy(t,e);if(1===n.$)return r;var i=n.a;if(i.d8)return r;e=e,t=t+1,r=Qe(r,bd(r.cg,i.cg))}}),Jz=(mr(Gz),function(e,t,r,n){var i=Bd(t,n.aB);if(i.$)return As;var a=i.a,o=cy(r,a.cg);if(o.$)return As;var s=o.a;return Ts(Ar(a.fW,e?Gz(a.cg,r+1,s):s))}),Yz=($r(Jz),Co(Eo,"h2")),Zz=(Yz.a2,Co(Eo,"h5")),Xz=(Zz.a2,Co(Eo,"h6")),Qz=(Xz.a2,function(e){return $L("h"+Qs(e>4?4:e))}),eG=$r((function(e,t,r,n){return kr(Vc,e.d6,function(){switch(r){case 0:return zq(kr(Qz,t+r,n));case 1:return Yz(kr(Qz,t+r,n));case 2:return cH(kr(Qz,t+r,n));case 3:return fH(kr(Qz,t+r,n));case 4:return Zz(kr(Qz,t+r,n));default:return Xz(kr(Qz,t+r,n))}}())})),tG=function(e){if(13!==e.$||e.a.$)return As;var t=e.a,r=t.a,n=t.b,i=t.c,a=e.b;return Ts(Or(r,n,qr([hm(i,a)])))},rG=Do,nG=rG,iG=function(e){if(9!==e.$)return!1;switch(e.a.$){case 2:case 4:case 3:case 8:case 5:return!0;default:return!1}},aG=function(e){e:for(;;)switch(e.$){case 0:var t=e.a;return Ov(t,Xi);case 2:case 3:case 4:case 5:case 6:e=t=e.a;continue e;case 9:switch((t=e.a).$){case 0:var r=t.a;e=hm(r,Xi);continue e;case 1:r=t.a;e=hm(r,Xi);continue e;case 2:r=t.a;e=hm(r,Xi);continue e;case 3:r=t.a;e=hm(r,Xi);continue e;case 4:r=t.a;e=hm(r,Xi);continue e;case 5:r=t.a;e=hm(r,Xi);continue e;case 6:return Ov("preview-lia",Xi);case 7:return Ov("preview-link",Xi);default:return Ov("qrcode",Xi)}case 10:t=e.a;return Ov("["+t+"]",Xi);case 14:if(e.a.b&&!e.a.b.b){e=t=e.a.a;continue e}var n=e.a;return oG(n);default:return e}},oG=function(e){return hm(_c(aG,e),Xi)},sG=function(e){return kr(AK,TB,uG(e))},uG=gr((function(e,t){e:for(;;)switch(t.$){case 0:var r=t.a;return Nq(Xi,_c((function(e){return GK(Xi,rp(eL(e+".")))}),ru(". ",r)));case 7:r=t.a;var n=t.b;return AB(bd(hF,_c(gL,n)),qr([eL(r)]));case 8:var i=t.a;r=t.b;return Er(vF,"lia-formula",qr([vL("displayMode",i),bF("formula",Xc(r))]),Xi);case 1:r=t.a;return eL(r);case 14:if(t.a.b&&!t.a.b.b){e=e,t=r=t.a.a;continue e}var a=t.a;return AB(Xi,kr(cG,e,a));case 13:var o=t.a;n=t.b;return Er(sG,e,n,o);case 11:r=t.a;return eF(e,Xi,r,kr(cG,e,r.cg));case 12:var s=t.a;n=t.b;return IK(e,s,n);default:return eL("")}})),cG=function(e){return Sc(uG(e))},lG=function(e){return kr(Vc,Sc(aG),kr(Vc,mb,Sc(uG(e))))},fG=function(e,t){if(1===t.a.$){t.a;return n=t.b}var r=t.a.a,n=t.b;return Nq(Xi,qr([n,Nq(qr([Kq(Wq,"lia-paragraph")]),e(qr([xv(r,qr([Ar("display","inline-block")]))])))]))},dG=(gr(fG),function(e){return!!e.gw}),hG=function(e){return kr(Vc,ly(e.fr),kr(Vc,rd(dG),Dl(!1)))},vG=function(e){var t=e;return ow(t)?As:Ts(t)},pG=function(e,t,r){var n=e.fA,i=e.em,a=e.fG;return Er(vF,"lia-chart",bd(qr([vL("mode",a?"":"dark"),vL("locale",Uy(n)),bF("option",r),vL("json",Ol("",t))]),kr($L,"lia-chart",i)),Xi)},bG=mr(pG),gG=function(e,t,r){var n=r.a,i=r.b;return Ar(e(n),t(i))},mG=(mr(gG),function(e){if(e.b){var t=e.a,r=e.b;return Ts(ou((function(e,t){var r=t.a,n=t.b;return Ar(zi(e,r)<0?e:r,zi(e,n)>0?e:n)}),Ar(t,t),r))}return As}),$G=zp(qr([Ar("*","#000000"),Ar("+","#000000"),Ar("x","#000000"),Ar("a","#FFBF00"),Ar("b","#0000FF"),Ar("c","#00FFFF"),Ar("d","#8B0000"),Ar("e","#555D50"),Ar("f","#014421"),Ar("g","#008000"),Ar("h","#DF73FF"),Ar("i","#4B0082"),Ar("j","#00A86B"),Ar("k","#C3B091"),Ar("l","#00FF00"),Ar("m","#3EB489"),Ar("n","#88540B"),Ar("o","#FF7F00"),Ar("p","#FFC0CB"),Ar("q","#436B95"),Ar("r","#FF0000"),Ar("s","#C0C0C0"),Ar("t","#008080"),Ar("u","#3F00FF"),Ar("v","#EE82EE"),Ar("w","#FFFFFF"),Ar("y","#FFFF00"),Ar("z","#39A78E")])),yG=function(e){return e.toLowerCase()},wG=Vr,_G=Ar("label",Zc(qr([Ar("normal",Zc(qr([Ar("show",zc(!1)),Ar("position",Xc("top"))])))]))),SG=function(e){if(1===e.$)return Xi;var t=e.a;return qr([Ar("name",Xc(t))])},CG=function(e,t){return Ar("smooth",zc(!!e&&!ua(2,gu(t))))},kG=(gr(CG),function(e,t){return Ar("lineStyle",Zc(qr([Ar("type",Xc(e?ua(7,gu(t))?ua(5,gu(t))?"solid":"dotted":"dashed":"solid"))])))}),EG=(gr(kG),function(e){return Ar("symbolSize",Gc(mu(e)?5:10))}),RG=gr((function(e,t){var r,n=t.a,i=t.b;return Zc(bd($B(wB,e,function(e){return Ar("itemStyle",Zc(qr([Ar("color",Xc(Ol("#000000",Bd(yG(e),$G))))])))}(n),qr([(r=n,Ar("symbol",Xc(function(){switch(r){case"d":case"D":case"+":return"diamond";case"t":case"T":case"v":case"V":return"triangle";case"A":return"arrow";case"#":case"H":case"x":case"X":return"rect";case"B":case"N":return"roundRect";case"p":case"P":return"pin";default:return"circle"}}()))),EG(n),_G])),function(){if(i.$){t=i.a,r=i.b;return bd(qr([Ar("data",Jc(Yc(wG),_c((function(e){return qr([e.d9,e.ea])}),t))),Ar("barGap",Gc(0)),Ar("type",Xc("scatter"))]),SG(r))}var t=i.a,r=i.b;return bd(qr([Ar("data",Jc((function(e){return Jc(wG,qr([e.d9,e.ea]))}),t)),Ar("type",Xc("line")),Ar("barGap",Gc(0)),kG(e,n),CG(e,n)]),SG(r))}()))})),xG=function(e){return Ar("feature",Zc($B(wB,e.p,Ar("magicType",Zc(qr([Ar("type",Jc(Xc,qr(["tiled","line","bar","stack"])))]))),$B(wB,e.n,Ar("dataZoom",Zc(Xi)),$B(wB,e.m,Ar("dataView",Zc(Xi)),$B(wB,e.u,Ar("restore",Zc(Xi)),$B(wB,e.v,Ar("saveAsImage",Zc(Xi)),Xi)))))))},MG=function(e,t){return Ar("toolbox",Zc(qr([Ar("bottom",Gc(8)),Ar("left",Xc(Ol("center",e))),xG(t)])))},IG=(gr(MG),function(e,t,r){if(t.$)return r;var n=t.a;return Pr(e(n),r)}),TG=(mr(IG),function(e){var t=e.c_,r=e.cV;return kr(Vc,pA(td(kr(Vc,Xc,Uh("min")),t)),pA(td(kr(Vc,Xc,Uh("max")),r)))}),AG=function(e,t,r,n,i){return Ar(e?"xAxis":"yAxis",Zc(bd(Tr(i,Xi)?Xi:qr([Ar("data",Jc(Xc,i)),Ar("splitArea",Zc(qr([Ar("show",zc(!0))])))]),IG(kr(Vc,Xc,Uh("name")),n,kr(TG,t,qr([Ar("type",Xc(r))]))))))},OG=yr(AG),DG=!0,PG=(OG(DG),!1),qG=(OG(PG),gr((function(e,t){var r=gG(Vq,Vq,Ol(Ar(0,0),mG(kb((function(e){return _c((function(e){return e.d9}),(e.$,e.a))}),_c(Yf,Us(t.eT)))))),n=r.a,i=r.b;return Zc(qr([Ar("textStyle",Zc(qr([Ar("fontFamily",Xc("Roboto"))]))),AG(DG,new H(Ts(Ol(i,t.g5.cV)),Ts(Ol(n,t.g5.c_))),"value",Ts(t.g4),Xi),AG(PG,t.g9,"value",Ts(t.g8),Xi),Ar("title",Zc(qr([Ar("text",Xc(t.gS))]))),Ar("legend",Zc(qr([Ar("data",Jc(Xc,t.fE)),Ar("top",Gc(28))]))),MG(As,{m:!0,n:!0,p:!0,u:!1,v:!0}),Ar("tooltip",Zc(Xi)),Ar("series",Jc(RG(e),Us(t.eT)))]))}))),LG=function(e){return kr(Vc,qG(!0),kr(bG,e,As))},UG=gr((function(e,t){return{$:9,a:e,b:t}})),NG=function(e,t,r){return e?bd(r,qr([t])):r},BG=(mr(NG),function(e){switch(e){case 0:return"طرفية";case 1:return"терминал";case 2:return"Terminal";case 4:return"پایانه";case 5:return"տերմինալ";case 6:return"단말기";case 8:return"термина́л";case 9:case 11:return"终端";case 10:return"термінал";default:return"terminal"}}),FG=function(e,t){e:for(;;){if(t.b){var r=t.a,n=t.b;if(e){e=e-1,t=n;continue e}return Ts(r)}return As}},jG=(gr(FG),gr((function(e,t){return Ol(Vf,FG(t,e.aX))}))),KG=function(e){return e.K},HG=ow,WG=(kr(Vc,KG,HG),kr(iF,"live","polite")),VG=bj(25),zG=function(e){return{$:1,a:e}},GG=function(e){return{$:0,a:e}},JG=function(e,t){return{$:5,a:e,b:t}},YG=(gr(JG),function(e,t){return{$:4,a:e,b:t}}),ZG=(gr(YG),function(e){switch(e){case 0:return"إظهار بالكامل";case 1:return"Максимизиране";case 2:return"Darstellung maximieren";case 3:return"maximinzar vista";case 4:return"بزرگ کردن پنجره";case 5:return"բարձրագունել տեսքը";case 6:return"뷰 최대화";case 7:return"weergave maximaliseren";case 8:return"показать полностью";case 9:case 11:return"極大視窗";case 10:return"зображення збільшити";default:return"maximize view"}}),XG=function(e){switch(e){case 0:return"تصغير";case 1:return"Минимизиране";case 2:return"Darstellung minimieren";case 3:return"minimizar vista";case 4:return"کوچک کردن پنجره";case 5:return"նվազեցնել տեսքը";case 6:return"뷰 최소화";case 7:return"weergave verkleinen";case 8:return"свернуть";case 9:case 11:return"極小視窗";case 10:return"зображення зменшити";default:return"minimize view"}},QG=mr((function(e,t,r){return{$:3,a:e,b:t,c:r}})),eJ=mr((function(e,t,r){return{$:2,a:e,b:t,c:r}})),tJ="annotations",rJ=(mF(tJ),Gc),nJ=mF("firstLineNumber"),iJ=(kr(Vc,rJ,nJ),Xc),aJ=mF("fontSize"),oJ=(kr(Vc,iJ,aJ),ZF("highlightActiveLine")),sJ=Xc,uJ=mF("marker"),cJ=(kr(Vc,sJ,uJ),ZF("readOnly")),lJ=Gc,fJ=mF("tabSize"),dJ=(kr(Vc,lJ,fJ),function(e,t){return qr([Lo("min-height",e?"calc( "+Qs(t)+" * var(--global-font-size, 1.5rem) * var(--font-size-multiplier) * 1.3333 + 1.47rem)":"0px"),Lo("transition","min-height 0.25s ease-out")])}),hJ=(gr(dJ),function(e){var t,r=e.au,n=e.am,i=e.em,a=e.av,o=e.at,s=e.bB,u=e.aZ,c=e.ar,l=e.R,f=r?a||kr(Tb,"data-readonly",i):!!Tr(Rb("data-readonly",i),As)||kr(Tb,"data-readonly",i),d=Ol(u.eB,l),h=function(e){return uu(up(e))}(d),v=u.fg?h:h>16?16:h;return kr(YF,bd(qr([Wc(Pj,qj,d),Wc(Rj,xj,u.fA),Wc(Aj,Oj,Ol(n,Rb("data-theme",i))),Wc(ij,aj,v>16?-1:v),cJ(f),oJ(!f),Wc(lJ,fJ,Ol(2,Kc(lc,Rb("data-tabsize",i)))),Wc(iJ,aJ,Ol("1.5rem",Rb("data-fontsize",i))),Wc(sJ,uJ,Ol("",Rb("data-marker",i))),Wc(rJ,nJ,Ol(1,Kc(lc,Rb("data-firstlinenumber",i)))),Tj(Tr(Rb("data-showgutter",i),As)?r:kr(Tb,"data-showgutter",i)),Dj(!1),bF(tJ,c),XF(r),QF(r),ej(r),Wc(tj,rj,qr(["language_tools"]))]),$B(wB,!f,Tr(l,As)?Ij(kr(eJ,o,s)):(t=kr(QG,o,s),lj("editorUpdateEvent",Ba(t,Mj(qr(["detail"]),gx)))),bd(dJ(u.d8,v),_c(gL,i)))),Xi)}),vJ=$r((function(e,t,r,n){var i,a=e.au,o=e.fA,s=e.am,u=e.av,c=e.ar,l=e.R,f=e.at;return""===r.c4?Nq(bd(hF,qr([Kq(Wq,"lia-code__input")])),qr([hJ(new Pe(n,c(t),r,f,t,a,u,Kc(kr(Vc,(function(e){return e.aZ}),ly(t)),l),s))])):Nq(bd(hF,qr([Kq(Wq,"lia-accordion")])),qr([Nq(Pr(Kq(Wq,"lia-accordion__item"),_c(gL,n)),qr([QB(qr([Kq(Wq,"lia-accordion__header"),dF(r.c4+" "+(r.d8?XG(o):ZG(o)))]),qr([pj(new Ie(r.d8?"icon-plus":"icon-minus",Ts(YG(a?sC(f):ok(f),t)),!0,r.d8?XG(o):ZG(o)),qr([Kq(Wq,"lia-accordion__toggle")])),lH(qr([Kq(Wq,"lia-accordion__headline h4")]),qr([eL(r.c4)]))])),Nq(qr([(i=qr([Ar("lia-accordion__content",!0),Ar("active",r.d8)]),Kq(Wq,eu(" ",_c(Hu,xd(Yf,i)))))]),qr([Nq(qr([Kq(Wq,"lia-code__input")]),qr([r.d8&&a?pj(new Ie(r.fg?"icon-chevron-up":"icon-chevron-down",Ts(JG(sC(f),t)),!0,r.fg?XG(o):ZG(o)),qr([Kq(Wq,"lia-code__min-max lia-btn--transparent")])):eL(""),hJ(new Pe(n,c(t),r,f,t,a,u,Kc(kr(Vc,(function(e){return e.aZ}),ly(t)),l),s))]))]))]))]))})),pJ=function(e){return{$:7,a:e}},bJ=function(e){return{$:8,a:e}},gJ=function(e,t){return{$:6,a:e,b:t}},mJ=(gr(gJ),function(e){return{$:12,a:e}}),$J=function(e){switch(e){case 0:return"الإصدار الأول";case 1:return"Първа версия";case 2:return"erste Version";case 3:return"primera versión";case 4:return"نسخه اولیه";case 5:return"առաջին տարբերակը";case 6:return"첫 버전";case 7:return"eerste versie";case 8:return"первая версия";case 9:case 11:return"最初版";case 10:return"перша версія";default:return"first version"}},yJ=function(e){switch(e){case 0:return"أحدث إصدار";case 1:return"Последна версия";case 2:return"letzte Version";case 3:return"última versión";case 4:return"آخرین نسخه";case 5:return"վերջին տարբերակը";case 6:return"최신 버전";case 7:return"laatste versie";case 8:return"последняя версия";case 9:case 11:return"最終版";case 10:return"остання версія";default:return"last version"}},wJ=function(e){switch(e){case 0:return"الإصدار التالي";case 1:return"следваща версия";case 2:return"eine Version vor";case 3:return"versión siguiente";case 4:return"نسخه بعدی";case 5:return"հաջորդ տարբերակը";case 6:return"다음 버전";case 7:return"een versie vooruit";case 8:return"следующая версия";case 9:case 11:return"下一版";case 10:return"наступна версія";default:return"next version"}},_J=function(e){switch(e){case 0:return"الإصدار السابق";case 1:return"Предишна версия";case 2:return"eine Version zurück";case 3:return"versión anterior";case 4:return"نسخه قبلی";case 5:return"նախորդ տարբերակը";case 6:return"이전 버전";case 7:return"een versie terug";case 8:return"предыдущая версия";case 9:case 11:return"上一版";case 10:return"попередня версія";default:return"previous version"}},SJ=function(e){switch(e){case 0:return"إجراء";case 1:return"Работещ";case 2:return"wird ausgeführt";case 3:return"en funcionamiento";case 4:return"در حال اجرا";case 5:return"ընթանում է";case 6:return"실행 중";case 7:return"wordt uitgevoerd";case 8:return"выполняется";case 9:case 11:return"執行中";case 10:return"виконується";default:return"is running"}},CJ=function(e){var t,r,n=e.fA,i=e.fr,a=e.be,o=e.d5,s=e.dx,u=e.dV,c=e.R,l=s||!a,f=Tr(c,Ts(!0)),d=s||a===o-1;return Nq(qr([Kq(Wq,"lia-code-control")]),qr([Nq(qr([Kq(Wq,"lia-code-control__action")]),qr([(r=Ar(s,u),r.a?r.b?pj(new Ie("icon-stop-circle",Ts({$:1,a:i}),!0,SJ(n)),qr([Kq(Wq,"lia-btn--transparent")])):pj(new Ie("icon-refresh rotating",As,!1,SJ(n)),qr([Kq(Wq,"is-disabled lia-btn--transparent")])):pj(new Ie("icon-compile-circle",Ts((t=i,{$:0,a:t})),!0,function(e){switch(e){case 0:return"تنفيذ";case 1:return"Изпълни";case 2:return"Ausführen";case 3:return"ejecutar";case 4:return"اجرا";case 5:return"իրականացնել";case 6:return"실행";case 7:return"uitvoeren";case 8:return"выполнить";case 9:case 11:return"開始執行";case 10:return"запустити";default:return"Execute"}}(n)),qr([Kq(Wq,"lia-btn--transparent")]))),1===c.$?eL(""):c.a?pj(new Ie("icon-class-on",s?As:Ts(mJ(i)),!s,"switch to base editor"),qr([Kq(Wq,"lia-btn--transparent")])):pj(new Ie("icon-class-off",s?As:Ts(mJ(i)),!s,"switch to collaborative editor"),qr([Kq(Wq,"lia-btn--transparent")]))])),Nq(qr([Kq(Wq,"lia-code-control__version"),f?Lo("filter","blur(1.2px)"):Kq(Wq,"")]),qr([pj(new Ie("icon-end-left",l||f?As:Ts(pJ(i)),!(l||f),$J(n)),qr([Kq(Wq,"lia-btn--transparent")])),pj(new Ie("icon-chevron-left",l||f?As:Ts(gJ(i,a-1)),!(l||f),_J(n)),qr([Kq(Wq,"lia-btn--transparent")])),AB(qr([Kq(Wq,"lia-label")]),qr([eL(Qs(a))])),pj(new Ie("icon-chevron-right",d||f?As:Ts(gJ(i,a+1)),!(d||f),wJ(n)),qr([Kq(Wq,"lia-btn--transparent")])),pj(new Ie("icon-end-right",d||f?As:Ts(bJ(i)),!(d||f),yJ(n)),qr([Kq(Wq,"lia-btn--transparent")]))]))]))},kJ=gr((function(e,t){return{$:11,a:e,b:t}})),EJ=kr(Vc,sc("\n"),uu),RJ=kr(Vc,(function(e){return e.gN}),EJ),xJ=ek(RJ),MJ=kr(Dy,Ys,0),IJ=(kr(Vc,xJ,MJ),function(e,t){return Nq(qr([Kq(Wq,e)]),qr([eL(t)]))}),TJ=(gr(IJ),function(e){var t=e.aw,r=e.gN;return Ar(r,function(){switch(t){case 0:return IJ("text-debug",r);case 1:default:return IJ("text-info",r);case 2:return IJ("text-warning",r);case 3:return IJ("text-error",r);case 5:return Nq(qr([Kq(Wq,"text-info"),bF("innerHTML",Xc(r))]),Xi)}}())}),AJ=function(e,t,r){return ow(r.K)?eL(""):Er(pF,"lia-terminal",qr([Kq(Wq,"lia-code-terminal__output"),(i=kJ(e),lj("onchangeheight",Ba(i,Mj(qr(["target","height"]),jl)))),Ol(Kq(Wq,""),td(kr(Vc,Xc,mF("height")),t)),(n=2*Wc(xJ,MJ,r.K),bF("scrollTop",Xc(Qs(14+14*n))))]),function(e){return _c(TJ,Ps(e.K))}(r));var n,i},OJ=(mr(AJ),function(e){var t=e.fA,r=e.am,n=e.fT,i=e.eB,a=e.R;if(i.$){c=i.a;var o=cy(c,n.cs);if(o.$)return eL("");var s=o.a,u=jG(s.gI&&!ow(a)?Ol(RC,td((function(e){return e.bG}),cy(c,a))):s.bG);return Nq(qr([Kq(Wq,"lia-code lia-code--block")]),bd(ta((function(e,t){return t(e)}),s.em,vu(vJ(new qe(u,c,!0,s.dx,t,s.gI&&!ow(a)?cy(c,a):As,r)),Ps(s.aZ))),qr([CJ(new Le(c,t,s.dx,ow(a)?As:Ts(s.gI),!Tr(s.dV,As),s.be,Nv(s.bd))),Nq(qr([Kq(Wq,"lia-code-terminal"),VG,dF(BG(t)),s.dx?WG:Kq(Wq,"")]),qr([AJ(sC(c),s.cT,s.gI?Ol(RC,td((function(e){return e.bG}),cy(c,a))):s.bG),function(){var e=s.dV;if(1===e.$)return eL("");var t,r,n=e.a;return To(UG(c),(t=n,Nq(qr([Kq(Wq,"lia-code-terminal__input")]),qr([hj(qr([Kq(Wq,"icon icon-chevron-double-right")]),Xi),Vj(qr([Qj(zG),(r=GG,jj("keydown",Ba((function(e){return Ar(e,!0)}),Ba(r,$j)))),Kq(tL,t.fx)]),Xi)]))))}()]))])))}var c=i.a;return Nq(qr([Kq(Wq,"lia-code lia-code--block")]),Ol(qr([eL("")]),td((function(e){return NG(!Wc(KG,HG,e.bG),Nq(qr([Kq(Wq,"lia-code-terminal"),VG,dF(BG(t))]),qr([AJ(ok(c),e.cT,e.gI?Ol(RC,td((function(e){return e.bG}),cy(c,a))):e.bG)])),ta((function(e,t){return t(e)}),e.em,vu(vJ(new qe(eh(Vf),c,!1,!0,t,As,r)),Ps(e.aZ))))}),cy(c,n.bA))))}),DJ=function(e){return{$:3,a:e}},PJ=function(e,t){return{$:0,a:e,b:t}},qJ=(gr(PJ),function(e){switch(e){case 0:return"التالي";case 1:return"Следващ";case 2:return"weiter";case 3:return"siguente";case 4:return"بعدی";case 5:return"հաջորդը";case 6:return"다음";case 7:return"verder";case 8:return"вперёд";case 9:case 11:return"繼續";case 10:return"далі";default:return"next"}}),LJ=function(e){switch(e){case 0:return"السابق";case 1:return"Предишен";case 2:return"zurück";case 3:return"anterior";case 4:return"قبلی";case 5:return"նախորդը";case 6:return"이전";case 7:return"terug";case 8:case 10:return"назад";case 9:case 11:return"返回";default:return"previous"}},UJ=function(e,t,r,n){return Ts(qr([pj(new Ie("icon-arrow-right",zi(r+1,n)<0?Ts(PJ(t,r+1)):As,!0,qJ(e)),qr([Kq(Wq,"lia-modal__ctrl-next lia-btn--transparent")])),pj(new Ie("icon-arrow-left",r>0?Ts(PJ(t,r-1)):As,!0,LJ(e)),qr([Kq(Wq,"lia-modal__ctrl-prev lia-btn--transparent")]))]))},NJ=($r(UJ),gr((function(e,t){if(9===t.$&&2===t.a.$){var r=t.a,n=r.a,i=r.b,a=r.c,o=t.b;return AL(qr([Kq(Wq,"lia-figure")]),qr([Nq(qr([Kq(Wq,"lia-figure__media"),vL("data-media-image","image"),Ol(Kq(Wq,""),td(kr(Vc,Hu,OK),Bd(i,e.fP))),Lo("background-image","url('"+i+"')"),Kq(Wq,"lia-figure__zoom"),vL("onmousemove","window.LIA.img.zoom(event)")]),qr([SB(mM(vA,kr(hL,e,n),mM(vA,kr(xB,e,a),$B(wB,Tr(As,td(Hu,Bd(i,e.fP))),CB(i),Pr(kB(i),_c(gL,o))))),Xi)])),Ol(eL(""),td(kr(Vc,jK(e),ML(qr([Kq(Wq,"lia-figure__caption")]))),a))]))}return NK(e,t)}))),BJ=function(e,t,r,n){return kr(Vc,NJ(pr(e,Ts({cX:0,cY:0,dA:.76,dW:!1}))),kr(Vc,Yq(DJ),kr(Vc,rp,kr(Ej,{$:1,a:t},UJ(e.fA,t,r,n)))))},FJ=($r(BJ),function(e,t,r,n){var i=Ol(-1,cy(r.fr,t));return Nq(Xi,qr(i<0?[eL(""),n]:[Ol(eL(""),td(BJ(e,r.fr,i,uu(r.fP)),Nw(i,r.fP))),n]))}),jJ=($r(FJ),function(e,t,r,n){return FJ(e,t,n,Nq(kr($L,"lia-gallery",r),pu((function(t,r){return Nq(qr([Kq(Wq,"lia-lightbox")]),qr([To(DJ,NK(pr(e,Ts({cX:250,cY:250,dA:1,dW:!0})),r)),Nq(qr([fj(PJ(n.fr,t)),Kq(Wq,"lia-lightbox__clickarea"),YB(!0),RV,dF("zoom media"),Cj(qr([rV(PJ(n.fr,t)),(i=PJ(n.fr,t),yj(32,i))]))]),qr([vj("icon-zoom",qr([Kq(Wq,"lia-lightbox__icon")]))]))]));var i}),n.fP)))}),KJ=($r(jJ),function(e,t){return!Bd(e,t).$}),HJ=(gr(KJ),function(e,t){return KJ(e,t)}),WJ=(gr(HJ),mr((function(e,t,r){return HJ(t,e)}))),VJ=gr((function(e,t){var r=PO(e.gy);if(r.$)return As;var n=r.a;return Dd(n,Ns(t))?Ts(fd(xq(WJ(Ww(n,e.a7)),t))):As})),zJ=function(e,t){return cy(e,t)},GJ=(gr(zJ),function(e,t,r){var n=Ar(e,r);if(n.a.$||n.b.$)return As;var i=n.a.a,a=n.b.a;return Kc(VJ(i),zJ(t,a))}),JJ=(mr(GJ),function(e,t){return{$:3,a:e,b:t}}),YJ=(gr(JJ),function(e,t){return{$:5,a:e,b:t}}),ZJ=(gr(YJ),bL("aria-labelledby")),XJ=function(e){switch(e){case 0:return"تلميح";case 1:return"Подсказване";case 2:return"Hinweis anzeigen";case 3:return"mostrar indicio";case 4:return"نمایش یادآوری";case 5:return"ցուցադրել ակնարկ";case 6:return"힌트 보기";case 7:return"toon hint";case 8:return"подсказка";case 9:case 11:return"暗示";case 10:return"показати підказку";default:return"show hint"}},QJ=function(e){switch(e){case 0:return"هذه ليست الإجابة الصحيحة";case 1:return"Това не е верният отговор";case 2:return"Das ist nicht die richtige Antwort";case 3:return"Esa no es la respuesta correcta";case 4:return"پاسخ درستی نیست";case 5:return"Դա ճիշտ պատասխան չէ";case 6:return"선택한 답은 올바르지 않습니다.";case 7:return"Dat is niet het juiste antwoord";case 8:return"Это не правильный ответ";case 9:case 11:return"那不是正确的答案";case 10:return"Це не правильна відповідь";default:return"That's not the right answer"}},eY=function(e){switch(e){case 0:return"إجابة تم حلها";case 1:return"Решен отговор";case 2:return"Aufgelöste Antwort";case 3:return"Respuesta resuelta";case 4:return"پاسخ حل شده";case 5:return"Լուծված պատասխան";case 6:return"이미 푼 퀴즈입니다.";case 7:return"Opgelost antwoord";case 8:return"Решенный ответ";case 9:case 11:return"解决的答案";case 10:return"Вирішена відповідь";default:return"Resolved answer"}},tY=function(e){switch(e){case 0:return"مبروك هذه كانت الإجابة الصحيحة";case 1:return"Поздравления, това беше правилният отговор";case 2:return"Herzlichen Glückwunsch, das war die richtige Antwort";case 3:return"Felicitaciones, esa fue la respuesta correcta";case 4:return"تبریک می گویم ، جواب صحیحی بود";case 5:return"Շնորհավորում եմ, դա ճիշտ պատասխանն էր";case 6:return"축하합니다. 올바른 답을 선택했습니다.";case 7:return"Gefeliciteerd, dat was het juiste antwoord";case 8:return"Поздравляю, это был правильный ответ";case 9:case 11:return"恭喜，那是正确的答案";case 10:return"Вітаю, це була правильна відповідь";default:return"Congratulations, that was the right answer"}},rY=function(e,t){if(""!==t.e4)return Nq(qr([Kq(Wq,"lia-quiz__feedback text-error")]),qr([eL(t.e4)]));switch(t.gw){case 1:return Nq(qr([Kq(Wq,"lia-quiz__feedback text-success")]),qr([eL(tY(e))]));case 2:return Nq(qr([Kq(Wq,"lia-quiz__feedback text-disabled")]),qr([eL(eY(e))]));default:return t.gW?Nq(qr([Kq(Wq,"lia-quiz__feedback text-error")]),qr([eL(QJ(e))])):eL("")}},nY=(gr(rY),function(e,t,r,n){return t?pj(new Ie("icon-hint",r?Ts({$:4,a:e}):As,!0,n),qr([Kq(Wq,"lia-btn--transparent lia-quiz__hint"),RV])):eL("")}),iY=($r(nY),function(e){return{$:7,a:e}}),aY=function(e,t,r){return _f(r)?eL(""):To(iY,PH(qr([Kq(Wq,"lia-list--unordered lia-quiz__hints")]),_c(kr(Vc,jK(e),IH(Xi)),Jm(t,r))))},oY=(mr(aY),function(e){switch(e){case 0:return"تحقق";case 1:return"Проверка";case 2:return"Prüfen";case 3:return"verificar";case 4:return"بررسی";case 5:return"ստուգել";case 6:return"확인";case 7:return"bekijk";case 8:return"проверить";case 9:case 11:return"選取";case 10:return"перевірити";default:return"Check"}}),sY=function(e){switch(e){case 0:return"تحقق من الجواب. تم وضع علامة على الإجابة على أنها صحيحة أو غير صحيحة.";case 1:return"Проверете отговора. Отговорът е маркиран като правилен или неправилен.";case 2:return"Überprüfe die Antwort. Die Antwort wird als richtig oder falsch markiert.";case 3:return"Comprueba la respuesta. La respuesta está marcada como correcta o incorrecta.";case 4:return"پاسخ را بررسی کنید. پاسخ صحیح یا نادرست علامت گذاری شده است.";case 5:return"Ստուգեք պատասխանը: Պատասխանը նշվում է որպես ճիշտ կամ սխալ:";case 6:return"답을 확인하세요. 정답 또는 오답으로 표시됩니다.";case 7:return"Controleer het antwoord. Het antwoord wordt gemarkeerd als goed of fout.";case 8:return"Проверьте ответ. Ответ отмечен как правильный или неправильный.";case 9:case 11:return"检查答案。答案被标记为正确或不正确。";case 10:return"Перевірте відповідь. Відповідь позначена як правильна чи неправильна.";default:return"Check the answer. The response will be marked as correct or incorrect."}},uY=function(e,t,r,n){return Er(dj,new Ae(r?As:Ts(n),!r,""),qr([Kq(Wq,"lia-btn--outline lia-quiz__check"),dF(sY(e.fA))]),qr([eL(oY(e.fA)),eL(t>0?" "+Qs(t):"")]))},cY=($r(uY),function(e){switch(e){case 0:return"اعرض الحل. تم وضع علامة 'حل' الاختبار.";case 1:return"Покажете решението. Тестът е означен като решен.";case 2:return"Zeige die Lösung. Das Quiz wird als aufgelöst markiert.";case 3:return"Muestre la solución. El cuestionario se marca como resuelto.";case 4:return"راه حل را نشان دهید. مسابقه به عنوان حل شده علامت گذاری شده است.";case 5:return"Showույց տվեք լուծումը: Վիկտորինան նշվում է որպես լուծված:";case 6:return"솔루션을 보여주세요. 퀴즈가 해결된 것으로 표시됩니다.";case 7:return"Laat de oplossing zien. De quiz is gemarkeerd als opgelost.";case 8:return"Покажи решение. Викторина помечается как решенная.";case 9:case 11:return"显示解决方案。测验被标记为已解决。";case 10:return"Покажіть рішення. Вікторина позначена як розв’язана.";default:return"Show the solution. The quiz will be marked as resolved."}}),lY=function(e,t,r){return pj(new Ie("icon-resolve",t?As:Ts(r),!0,function(e){switch(e){case 0:return"إظهار الحل";case 1:return"Отговор";case 2:return"zeige Lösung";case 3:return"mostrar solución";case 4:return"نمایش راهکار";case 5:return"ցույց տալ լուծումը";case 6:return"정답 보기";case 7:return"toon oplossing";case 8:return"показать решение";case 9:case 11:return"顯示解答";case 10:return"показати розв'язок";default:return"show solution"}}(e.fA)),qr([Kq(Wq,"lia-btn--transparent lia-quiz__resolve"),dF(cY(e.fA))]))},fY=(mr(lY),function(e,t,r,n,i){var a=i.a,o=i.b;return qr([Nq(Pr(Kq(Wq,"lia-quiz__answers"),Pr(Ol(Kq(Wq,""),td(ZJ,t)),a)),o),Nq(qr([Kq(Wq,"lia-quiz__control")]),qr([uY(e,r.gW,r.gw,JJ(n.fr,n.gd)),lY(e,r.gw,YJ(n.fr,n.gd)),nY(n.fr,!Tr(n.fq,Xi),!r.gw&&zi(r.fp,uu(n.fq))<0,XJ(e.fA))])),rY(e.fA,r),aY(e,r.fp,n.fq)])}),dY=(yr(fY),gr((function(e,t){return{$:0,a:e,b:t}}))),hY=gr((function(e,t){return{$:2,a:e,b:t}})),vY=gr((function(e,t){return{$:1,a:e,b:t}})),pY=function(e){var t=e.a,r=e.b;switch(t){case 1:return"is-success is-disabled";case 2:return"is-disabled";default:return r?"is-failure":""}},bY={$:0},gY=function(e){return{$:3,a:e}},mY=function(e){switch(e){case 0:return"اختيار";case 1:return"избор";case 2:return"Auswahl";case 3:return"selección";case 4:return"انتخاب";case 5:return"ընտրություն";case 6:return"선택";case 7:return"selectie";case 8:return"выбор";case 9:case 11:return"选择";case 10:return"вибір";default:return"selection"}},$Y=function(e,t,r){e:for(;;){var n=Ar(t,r);if(n.b.b){if(n.a){e=e,t=n.a-1,r=n.b.b;continue e}var i=n.b.a;return To(gY,AB(Xi,kr(jK,e,i)))}return AB(Xi,qr([eL(mY(e.fA))]))}},yY=(mr($Y),Hu),wY=Lu(0),_Y=(kr(Vc,yY,wY),bj(24)),SY=gr((function(e,t){return kr(Vc,jK(e),kr(Vc,Uq(Xi),kr(Vc,Yq(gY),kr(Vc,rp,Uq(qr([Kq(Wq,"lia-dropdown__option"),fj((r=t,{$:1,a:r})),_Y]))))));var r})),CY=function(e,t,r,n,i){return Nq(qr([Kq(Wq,"lia-dropdown"),Kq(Wq,pY(t)),Wc(yY,wY,t)?fj(bY):CL(oj,!0)]),qr([AB(qr([Kq(Wq,"lia-dropdown__selected"),Dw(uj,cj,!1),RV,Dw(EH,RH,r)]),qr([$Y(e,i,n),hj(qr([Kq(Wq,"icon"+(r?" icon-chevron-up":" icon-chevron-down")),RV]),Xi)])),Nq(qr([Kq(Wq,"lia-dropdown__options"),Kq(Wq,r?"is-visible":"is-hidden")]),vu(SY(e),n))]))},kY=(yr(CY),function(e){return{$:2,a:e}}),EY=function(e,t){return Vj(qr([Kq(eK,"input"),Kq(Wq,"lia-input lia-quiz__input"),Kq(Wq,Wc(yY,wY,e)?"":"lia-input--disabled"),Kq(Wq,pY(e)),Kq(tL,t),CL(oj,!Wc(yY,wY,e)),Qj(kY),Kj(Wj,kY(t)),dF("quiz answer")]),Xi)},RY=(gr(EY),function(e,t,r,n){if(n.$){var i=n.a,a=n.b;return qr([CY(e,t,i,r.f6,Ol(-1,Sf(a)))])}var o=n.a;return qr([EY(t,o),function(){switch(t.a){case 1:t.a;return vj("icon-check text-success",qr([Lo("position","absolute"),Lo("top","1rem"),Lo("right","1rem")]));case 0:t.a;return t.b>0?vj("icon-close text-error",qr([Lo("position","absolute"),Lo("top","1rem"),Lo("right","1rem")])):eL("");default:return eL("")}}()])}),xY=($r(RY),function(e){return{$:1,a:e}}),MY=bj(44),IY=Co(Eo,"td"),TY=IY.a2,AY=Co(Eo,"tr"),OY=AY.a2,DY=mr((function(e,t,r){return OY(qr([Kq(Wq,"lia-table__row lia-survey-matrix__row"),MY]),bd(r,rp(To(xY,TY(qr([Kq(Wq,"lia-table__data lia-survey-matrix__data")]),kr(jK,e,t))))))})),PY=Co(Eo,"th"),qY=PY.a2,LY=bj(7),UY=Co(Eo,"thead"),NY=UY.a2,BY=function(e,t){return NY(qr([Kq(Wq,"lia-table__head lia-survey-matrix__head")]),bd(_c(function(e){return kr(Vc,jK(e),kr(Vc,PY(qr([Kq(Wq,"lia-table__header lia-survey-matrix__header"),LY])),Yq(xY)))}(e),t),qr([qY(qr([Kq(Wq,"lia-table__header lia-survey-matrix__header")]),Xi)])))},FY=(gr(BY),Co(Eo,"table")),jY=FY.a2,KY=Co(Eo,"tbody"),HY=KY.a2,WY=function(e,t){return{$:0,a:e,b:t}},VY=(gr(WY),bj(6)),zY=yr((function(e,t,r,n,i){return TY(qr([Kq(Wq,"lia-table__data lia-survey-matrix__data")]),qr([Vj(qr([Kq(Wq,"lia-checkbox"),Kq(Wq,t),Kq(eK,"checkbox"),CL(aK,i),dF("Matrix quiz answer"),VY,e?fj(WY(r,n)):CL(oj,!0)]),Xi)]))})),GY=bj(39),JY=yr((function(e,t,r,n,i){return TY(qr([Kq(Wq,"lia-table__data lia-survey-matrix__data")]),qr([Vj(qr([Kq(Wq,"lia-radio"),Kq(Wq,t),Kq(eK,"radio"),CL(aK,i),dF("Matrix quiz answer"),GY,e?fj(WY(r,n)):CL(oj,!0)]),Xi)]))})),YY=$r((function(e,t,r,n){if(n.$){i=n.a;return vu(Er(zY,e,t,r),i)}var i=n.a;return vu(Er(JY,e,t,r),i)})),ZY=function(e,t,r,n,i){return Nq(qr([Kq(Wq,"lia-table-responsive has-thead-sticky has-last-col-sticky")]),qr([jY(qr([Kq(Wq,"lia-table lia-survey-matrix is-alternating")]),qr([BY(e,n.fk),HY(qr([Kq(Wq,"lia-table__body lia-survey-matrix__body")]),ea(DY(e),n.f6,vu(kr(YY,t,r),Ps(i))))]))]))},XY=(yr(ZY),function(e){return{$:1,a:e}}),QY=function(e){return{$:0,a:e}},eZ=yr((function(e,t,r,n,i){var a=i.a,o=i.b;return QB(qr([Kq(Wq,"lia-label"),_Y]),qr([Vj(qr([Kq(Wq,"lia-checkbox"),Kq(Wq,r),Kq(eK,"checkbox"),CL(aK,n),VY,t?fj(QY(a)):CL(oj,!0)]),Xi),To(XY,AB(Xi,kr(jK,e,o)))]))})),tZ=bj(22),rZ=yr((function(e,t,r,n,i){var a=i.a,o=i.b;return QB(qr([Kq(Wq,"lia-label"),_Y]),qr([Vj(qr([Kq(Wq,"lia-radio"),Kq(Wq,r),Kq(eK,"radio"),CL(aK,n),GY,t?fj(QY(a)):CL(oj,!0)]),Xi),To(XY,AB(Xi,kr(jK,e,o)))]))})),nZ=function(e,t,r){return ea(e,r,vu(Uh,t))},iZ=(mr(nZ),function(e,t,r,n,i){var a=Ar(n.dK,i);e:for(;;){if(a.a.$){if(1===a.b.$){o=a.b.a;return Ar(qr([tZ]),nZ(Er(eZ,e,t,r),n.f6,o))}break e}if(a.b.$)break e;var o=a.b.a;return Ar(qr([EW]),nZ(Er(rZ,e,t,r),n.f6,o))}return Ar(Xi,Xi)}),aZ=(yr(iZ),function(e,t,r){var n=Ar(t.gy,r.gd);e:for(;;)switch(n.a.$){case 1:if(1===n.b.$){var i=n.a.a,a=n.b.a;return Ar(Xi,_c(Yq(dY(r.fr)),RY(e,Ar(t.gw,t.gW),a,i)))}break e;case 2:if(2===n.b.$){i=n.a.a,a=n.b.a;return $I(Sc(Yq(vY(r.fr))),iZ(e,!t.gw,pY(Ar(t.gw,t.gW)),a,i))}break e;case 3:if(3===n.b.$){i=n.a.a,a=n.b.a;return Ar(Xi,qr([To(hY(r.fr),ZY(e,!t.gw,pY(Ar(t.gw,t.gW)),a,i))]))}break e;default:break e}return Ar(Xi,Xi)}),oZ=(mr(aZ),function(e,t){for(var r=Pr(void 0,Xi),n=Pr(void 0,Xi),i=r,a=n;t.b;t=t.b){var o=Pr(t.a,Xi);e(t.a)?(i.b=o,i=o):(a.b=o,a=o)}return Ar(r.b,n.b)}),sZ=(gr(oZ),function(e,t){var r=gr((function(t,r){for(;;){if(!t.b)return _u(r);var n=t.a,i=t.b,a=oZ(e(n),i),o=a.a;t=a.b,r=Pr(Ar(n,o),r)}}));return kr(r,t,Xi)}),uZ=(gr(sZ),function(e,t){return mU(1e4*t/e)/100}),cZ=(gr(uZ),qr([Ar("style","height: 120px; width: 100%"),Ar("class","lia-quiz__sync")])),lZ=function(e,t,r){var n=Ar(t,td(uu,t));if(n.a.$||n.b.$)return r;if(n.b.a){var i=n.a.a,a=n.b.a,o=_c((function(e){var t=e.a,r=e.b,n=1+uu(r),i=uZ(a,n);if(t.$)return Ar(Xc("Resolved"),Zc(qr([Ar("value",wG(i)),Ar("itemStyle",Zc(qr([Ar("color",Xc("#888"))]))),Ar("label",Zc(qr([Ar("show",zc(!0)),Ar("formatter",Xc(Qs(n)+" ("+Vq(i)+"%)"))])))])));var o=t.a;return Ar(Xc("Trial "+Qs(o)),Zc(qr([Ar("value",wG(i)),Ar("label",Zc(qr([Ar("show",zc(!0)),Ar("formatter",Xc(Qs(n)+" ("+Vq(i)+"%)"))])))])))}),sZ(Lu,i));return bd(r,rp(pG(new Ue(cZ,e.fA,e.fG),As,Zc(qr([Ar("grid",Zc(qr([Ar("left",Gc(10)),Ar("top",Gc(20)),Ar("bottom",Gc(20)),Ar("right",Gc(10))]))),Ar("xAxis",Zc(qr([Ar("type",Xc("category")),Ar("data",Jc(Hu,o))]))),Ar("yAxis",Zc(qr([Ar("type",Xc("value")),Ar("show",zc(!1))]))),Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("bar")),Ar("data",Jc(Yf,o))])])))])))))}return r},fZ=(mr(lZ),function(e,t,r,n,i){var a=cy(r.fr,n);if(a.$)return Ar(As,Xi);var o=a.a;return Ar(o.gn,lZ(e,GJ(e.R,r.fr,i),fY(e,t,o,r,aZ(e,o,r))))}),dZ=(yr(fZ),mr((function(e,t,r){return{$:4,a:e,b:t,c:r}}))),hZ=gr((function(e,t){return{$:3,a:e,b:t}})),vZ=$r((function(e,t,r,n){var i=td((function(e){return e.gy}),cy(t,e));if(i.$||3!==i.a.$)return!1;var a=i.a.b;return Ol(!1,Kc((function(e){return Bd(n,e)}),cy(r,a)))})),pZ=function(e,t){var r=td((function(e){return e.gy}),cy(t,e));if(r.$||1!==r.a.$)return Ar(!1,-1);var n=r.a,i=n.a,a=n.b;return Ar(i,a)},bZ=(gr(pZ),function(e,t){var r=td((function(e){return e.gy}),cy(t,e));return r.$||r.a.$?"":r.a.a}),gZ=(gr(bZ),mr((function(e,t,r){var n=td((function(e){return e.gy}),cy(t,e));if(n.$||2!==n.a.$)return!1;var i=n.a.b;return Ol(!1,Bd(r,i))}))),mZ=function(e){return{$:7,a:e}},$Z=function(e,t){return AB(Xi,kr(Vc,jK(e),Sc(Yq(mZ)))(t))},yZ=(gr($Z),function(e,t,r,n){return Vj(qr([Kq(Wq,e?"lia-checkbox":"lia-radio"),Kq(eK,e?"checkbox":"radio"),n?CL(oj,!0):fj(t),CL(aK,r)]),Xi)}),wZ=($r(yZ),_r((function(e,t,r,n,i,a,o){var s=o.a,u=o.b,c=r(s),l=n(s);return OY(qr([Kq(Wq,"lia-table__row lia-survey-matrix__row")]),bd(_c((function(e){return TY(qr([Kq(Wq,"lia-table__data lia-survey-matrix__data")]),qr([yZ(t,c(e),l(e),a)]))}),i),qr([TY(qr([Kq(Wq,"lia-table__data lia-survey-matrix__data")]),qr([$Z(e,u)]))])))}))),_Z=wr((function(e,t,r,n,i,a){var o=a.a,s=a.b,u=n(o);return QB(qr([Kq(Wq,"lia-label")]),qr([yZ(t,r(o),u,i),AB(Xi,qr([$Z(e,s)]))]))})),SZ=function(e,t,r){return new Ne(t,r,e)},CZ=(mr(SZ),function(e){var t=e;if(3===t.$){var r=t.b;return Ts(Ps(r))}return As}),kZ=function(e){return wc(cu(Os),jw(function(e){if(e.b){var t=e.a;return uu(t)}return 0}(e),Xi),e)},EZ=function(e){return _f(e)?As:Ts(e)},RZ=gr((function(e,t){return t?1:0})),xZ=function(e){var t=e;if(2===t.$){var r=t.b;return Ts(jS(RZ,r))}return As},MZ=gr((function(e,t){var r=pf(xZ,t);if(r.b){var n=r,i=ou((function(e,t){return BS(kd,mr((function(e,t,r){return kr(kd,e,t+r)})),kd,e,t,rf)}),rf,n),a=uu(n);return EZ(wc(gr((function(e,t){return Pr(Ol(SZ(e,0,0),td((function(t){return SZ(e,t,uZ(a,t))}),Bd(e,i))),t)})),Xi,e))}return As})),IZ=gr((function(e,t){return td(kr(Vc,Sc(MZ(e)),kr(Vc,Sc(Dl(_c((function(e){return SZ(e,0,0)}),e))),kZ)),ou((function(e,t){if(t.$)return Ts(_c(kr(Vc,fE(!0),kr(Vc,tc,rp)),e));var r=t.a;return Ts(ta((function(e,t){return Pr(lE(!0,e),t)}),e,r))}),As,pf(CZ,t)))})),TZ=mr((function(e,t,r){return pG(new Ue(cZ,e.fA,e.fG),As,Zc(qr([Ar("grid",Zc(qr([Ar("left",Gc(10)),Ar("top",Gc(30)),Ar("bottom",Gc(28)),Ar("right",Gc(30))]))),Ar("legend",Zc(qr([Ar("data",Jc(Xc,_c(kr(Vc,Sf,kr(Vc,rd((function(e){return e.gY})),Dl(""))),r)))]))),Ar("xAxis",Zc(qr([Ar("type",Xc("category")),Ar("data",Jc(Xc,_c(my,t)))]))),Ar("yAxis",Zc(qr([Ar("type",Xc("value")),Ar("show",zc(!1))]))),Ar("toolbox",Zc(qr([Ar("orient",Xc("vertical")),xG({m:!0,n:!1,p:!0,u:!1,v:!0})]))),Ar("tooltip",Zc(Xi)),Ar("series",Jc(Zc,_c((function(e){return qr([Ar("type",Xc("bar")),Ar("name",Xc(Ol("",td((function(e){return e.gY}),Sf(e))))),Ar("data",Jc(Zc,_c((function(e){var t=e.ed;return qr(t?[Ar("value",wG(e.gh)),Ar("label",Zc(qr([Ar("show",zc(!0)),Ar("formatter",Xc(Qs(e.ed)+" ("+Vq(e.gh)+"%)")),Ar("rotate",Gc(90))])))]:[Ar("value",wG(e.gh))])}),e)))])}),r)))])))})),AZ=function(e,t,r,n,i){var a=td(kr(TZ,e,t),Kc(IZ(r),n));if(1===a.$)return i;var o=a.a;return Nq(Xi,qr([i,o]))},OZ=(yr(AZ),function(e){var t=e;if(1===t.$){var r=t.b;return Ts(r)}return As}),DZ=gr((function(e,t){var r=pf(OZ,t);if(r.b){var n=r,i=uu(n);return EZ(Ps(Px(gr((function(e,t){return SZ(Qs(e+1),t,uZ(i,t))})),ou((function(e,t){var r=cy(e,t);if(r.$)return t;var n=r.a;return fC(e,n+1,t)}),xC(e,0),n))))}return As})),PZ=function(e,t){return pG(new Ue(cZ,e.fA,e.fG),As,Zc(qr([Ar("grid",Zc(qr([Ar("left",Gc(10)),Ar("top",Gc(20)),Ar("bottom",Gc(20)),Ar("right",Gc(10))]))),Ar("xAxis",Zc(qr([Ar("type",Xc("category")),Ar("data",Jc(Xc,_c((function(e){return e.gY}),t)))]))),Ar("yAxis",Zc(qr([Ar("type",Xc("value")),Ar("show",zc(!1))]))),Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("bar")),Ar("smooth",zc(!0)),Ar("areaStyle",Zc(qr([Ar("opacity",wG(.8))]))),Ar("data",Jc(Zc,_c((function(e){var t=e.ed;return qr(t?[Ar("value",wG(e.gh)),Ar("label",Zc(qr([Ar("show",zc(!0)),Ar("formatter",Xc(Qs(e.ed)+" ("+Vq(e.gh)+"%)"))])))]:[Ar("value",wG(e.gh))])}),t)))])])))])))},qZ=gr(PZ),LZ=function(e,t,r,n){var i=td(qZ(e),Kc(DZ(uu(t)),r));if(1===i.$)return n;var a=i.a;return Nq(Xi,qr([n,a]))},UZ=($r(LZ),function(e){var t=e;if(t.$)return As;var r=t.a;return Ts(r)}),NZ=bf(UZ),BZ=EZ,FZ=(kr(Vc,NZ,BZ),function(e){return Nq(qr([Lo("white-space","pre"),Lo("background-color","rgb(179 179 179)"),Lo("border-bottom","2px dashed #666"),Lo("padding","0.8rem")]),qr([eL(e)]))}),jZ=gr((function(e,t){return pG(new Ue(cZ,e.fA,e.fG),As,Zc(qr([Ar("tooltip",Zc(qr([Ar("trigger",Xc("item")),Ar("formatter",Xc("{b} ({c})"))]))),Ar("series",Jc(Zc,rp(qr([Ar("type",Xc("wordCloud")),Ar("layoutAnimation",zc(!0)),Ar("gridSize",Gc(5)),Ar("shape",Xc("pentagon")),Ar("drawOutOfBound",zc(!0)),Ar("sizeRange",Jc(Gc,qr([12,50]))),Ar("emphasis",Zc(qr([Ar("focus",Xc("self"))]))),Ar("data",Jc(Zc,_c((function(e){return qr([Ar("name",Xc(e.gY)),Ar("value",Gc(e.ed)),Ar("textStyle",Zc(qr([Ar("color",Xc(gH(160,e.gY)))])))])}),t)))]))))])))})),KZ=function(e){return e.toUpperCase()},HZ=kr(su,gr((function(e,t){var r=t.a,n=t.b;return Ol(Ar(r,n),td((function(e){return ou((function(e,t){var r=t.a,n=t.b;return Ar(Cd(e,Ol(1,td(Ys(1),Bd(e,r))),r),n+1)}),Ar(r,n),e)}),td(kr(Vc,KZ,kr(Vc,nu(","),Sc(md))),UZ(e))))})),Ar(rf,0)),WZ=function(e){var t=e.a,r=e.b;return EZ(_c((function(e){var t=e.a,n=e.b;return SZ(t,n,uZ(r,n))}),Us(t)))},VZ=(kr(Vc,HZ,WZ),function(e,t,r,n){var i=Ar(r,t);if(i.a.$)return Nq(Xi,qr([n]));if(1===i.b){var a=i.a.a,o=td(kr(nG,jZ,e),Wc(HZ,WZ,a));if(1===o.$)return n;var s=o.a;return Nq(Xi,qr([n,s]))}a=i.a.a;return Nq(Xi,qr([n,Ol(eL(""),td(kr(Vc,Sc(FZ),Uq(qr([Lo("border","1px solid rgb(var(--color-highlight))"),Lo("border-radius","0.8rem"),Lo("max-height","400px"),Lo("overflow","auto")]))),Wc(NZ,BZ,a)))]))}),zZ=($r(VZ),ca),GZ=va,JZ=gr((function(e,t){return 1/GZ(2*zZ)*sa(2.718281828459045,sa(e-t,2)/-2)})),YZ=function(e,t){var r=e.gB,n=e.g0,i=Ol(0,e_(t)),a=Ol(0,Zw(t)),o=1/(2*n+uu(t)),s=mU(a-i),u=Ol(s?4*s:4*mU(n),r),c=(a+n-(i-n))/u,l=pu((function(e,t){return t+e*c}),jw(u,i-n));return new B(l,_c((function(e){return o*fU(_c(JZ(e),t))}),l))},ZZ=(gr(YZ),function(e,t){var r=YZ(new Be(Ts(50),10),Cb(pf((function(e){var t=l_(e.gY);if(t.$)return As;var r=t.a;return Ts(jw(e.ed,r))}),t)));return pG(new Ue(cZ,e.fA,e.fG),As,Zc(qr([Ar("grid",Zc(qr([Ar("left",Gc(50)),Ar("top",Gc(20)),Ar("bottom",Gc(20)),Ar("right",Gc(20))]))),Ar("tooltip",Zc(qr([Ar("trigger",Xc("axis"))]))),Ar("xAxis",Zc(qr([Ar("type",Xc("category")),Ar("data",Jc(wG,r.d9))]))),Ar("yAxis",Zc(qr([Ar("type",Xc("value")),Ar("show",zc(!0))]))),Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("line")),Ar("smooth",zc(!0)),Ar("areaStyle",Zc(qr([Ar("opacity",wG(.8))]))),Ar("data",Jc(wG,r.ea))])])))])))}),XZ=(gr(ZZ),function(e,t,r,n,i){var a=Kc(MZ(_c(Hu,r)),n);if(1===a.$)return i;var o=a.a;return Nq(Xi,qr([i,t?ZZ(e,o):PZ(e,o)]))}),QZ=(yr(XZ),yr((function(e,t,r,n,i){var a=n(i);return Nq(qr([Kq(Wq,"lia-table-responsive has-thead-sticky has-last-col-sticky")]),qr([jY(qr([Kq(Wq,"lia-table lia-survey-matrix is-alternating")]),qr([NY(qr([Kq(Wq,"lia-table__head lia-survey-matrix__head"),LY]),_c(kr(Vc,kr(Vc,jK(e),Sc(Yq(mZ))),PY(qr([Kq(Wq,"lia-table__head lia-survey-matrix__head")]))),t)),HY(qr([Kq(Wq,"lia-table__body lia-survey-matrix__body"),MY]),_c(a,vu(Uh,r)))]))]))}))),eX=function(e,t,r){e:for(;;){var n=Ar(t,r);if(n.b.b){if(n.a){e=e,t=n.a-1,r=n.b.b;continue e}var i=n.b.a;return AB(Xi,Wc(jK(e),Sc(Yq(mZ)),i))}return eL(mY(e.fA))}},tX=(mr(eX),function(e,t){return{$:1,a:e,b:t}}),rX=(gr(tX),$r((function(e,t,r,n){return Nq(qr([Kq(Wq,"lia-dropdown__option"),fj(tX(t,r))]),Wc(jK(e),Sc(Yq(mZ)),n))}))),nX=yr((function(e,t,r,n,i){var a,o=r.a,s=r.b;return Nq(qr([Kq(Wq,"lia-quiz__answers")]),qr([Nq(qr([Kq(Wq,"lia-dropdown")]),qr([AB(qr([Kq(Wq,"lia-dropdown__selected"),i?CL(oj,!0):fj((a=n,{$:2,a:a}))]),qr([AB(Xi,qr([eX(e,s,t)])),vj(o?"icon-chevron-up":"icon-chevron-down",Xi)])),Nq(qr([Kq(Wq,"lia-dropdown__options"),Kq(Wq,o?"is-visible":"is-hidden")]),vu(kr(rX,e,n),t))]))]))})),iX=function(e){return kr(Vc,ly(e),Hc((function(e){return e.e3})))},aX=function(e,t){return Ol(!1,td((function(e){return e.gF}),cy(t,e)))},oX=(gr(aX),function(e){switch(e){case 0:return"إرسال ";case 1:return"Изпрати";case 2:return"Abschicken";case 3:return"enviar";case 4:return"ارسال";case 5:return"ներկայացնել";case 6:return"제출";case 7:return"Verzenden";case 8:return"отправить";case 9:case 11:return"遞交";case 10:return"відіслати";default:return"Submit"}}),sX=function(e){switch(e){case 0:return"تم الإرسال";case 1:return"Благодаря";case 2:return"Dankeschön";case 3:return"enviado";case 4:return"تشکر";case 5:return"շնորհակալություն";case 6:return"감사합니다";case 7:return"Vriendelijk bedankt";case 8:return"отправлено";case 9:case 11:return"感謝";case 10:return"дякую";default:return"Thanks"}},uX=function(e,t,r){return Nq(qr([Kq(Wq,"lia-quiz__control")]),qr([t?Er(dj,new Ae(As,!1,sX(e.fA)),qr([Kq(Wq,"lia-btn--outline lia-quiz__check"),RV]),qr([eL(sX(e.fA))])):Er(dj,new Ae(Ts((n=r,{$:5,a:n})),!1,oX(e.fA)),qr([Kq(Wq,"lia-btn--outline lia-quiz__check"),RV]),qr([eL(oX(e.fA))]))]));var n},cX=(mr(uX),function(e){if(1===e.$)return eL("");var t=e.a;return Nq(qr([Kq(Wq,"lia-quiz__feedback text-error")]),qr([eL(t)]))}),lX=function(e,t,r,n,i,a){var o=aX(n,i);return Nq(kr($L,"lia-quiz lia-quiz-"+r+(o?"":" open"),t),qr([a(o),uX(e,o,i),cX(kr(iX,i,n))]))},fX=(wr(lX),function(e,t){return{$:0,a:e,b:t}}),dX=gr(fX),hX=function(e){switch(e){case 0:return"أدخل نص...";case 1:return"Въведете текст...";case 2:return"Texteingabe ...";case 3:return"introducir texto";case 4:return"لطفا متن وارد کنید";case 5:return"Մուտքագրեք որոշ տեքստ";case 6:return"내용을 입력해주세요.";case 7:return"Tekstinvoer ...";case 8:return"ввод текста";case 9:case 11:return"輸入文字...";case 10:return"Ввід тексту ...";default:return"Enter some text..."}},vX=yr((function(e,t,r,n,i){var a=qr([Qj(dX(n)),Kq(PW,hX(e.fA)),Kq(tL,t),CL(oj,i)]);return 1===r?Vj(Pr(Kq(Wq,"lia-input lia-quiz__input"),a),Xi):kK(Pr(Kq(Wq,"lia-input lia-quiz__input"),Pr(Kj(Wj,fX(n,t)),Pr(No("rows",Qs(r)),a))),Xi)})),pX=mr((function(e,t,r){var n=t(r);return Nq(qr([Kq(Wq,"lia-quiz__answers")]),_c(n,e))})),bX=function(e,t,r,n,i){return Lh(Kc((function(e){return e.gn}),cy(r.fr,n)),function(){var a=r.gH;switch(a.$){case 0:var o=a.a;return VZ(e,o,GJ(e.R,r.fr,i),lX(e,t,"text",n,r.fr,Rr(vX,e,bZ(n,r.fr),o,r.fr)));case 1:var s=a.a;return LZ(e,s,GJ(e.R,r.fr,i),lX(e,t,"select",n,r.fr,Rr(nX,e,s,pZ(n,r.fr),r.fr)));case 2:var u=a.a,c=a.b,l=a.c;return XZ(e,l,c,GJ(e.R,r.fr,i),lX(e,t,u?"single-choice":"multiple-choice",n,r.fr,kr(pX,c,Rr(_Z,e,u,hZ(r.fr),kr(gZ,n,r.fr)))));default:u=a.a;var f=a.b,d=a.c;c=a.d;return AZ(e,c,d,GJ(e.R,r.fr,i),lX(e,t,"matrix",n,r.fr,Rr(QZ,e,f,c,xr(wZ,e,u,dZ(r.fr),kr(vZ,n,r.fr),d))))}}())},gX=(yr(bX),function(e,t){return kr(Tb,"data-show",e)?!t:t}),mX=(gr(gX),bj(17)),$X=bj(42),yX="scope",wX=(Hq(yX),function(e,t){if(-1!==e.eD){var r=Ol(!1,td(Lw(Jw),kr(Hw,e.eD,t)))?na(kr(Vc,Bw(e.eD),kr(Vc,Hc((function(e){return e.bt})),Dl(0))),t):na(kr(Vc,Bw(e.eD),kr(Vc,rd(kr(Vc,(function(e){return e.dN}),mf)),Dl(""))),t);return e.eV?r:_u(r)}return t}),_X=(gr(wX),function(e,t){return{$:0,a:e,b:t}}),SX=(gr(_X),function(e){switch(e){case 0:return"ترتيب تصاعدي";case 2:return"aufsteigend sortieren";case 3:return"orden ascendente";case 6:return"오름차순 정렬";case 7:return"oplopend sorteren";case 8:return"сортировать по возрастанию";case 10:return"сортування за зростанням";default:return"sort ascending"}}),CX=function(e){switch(e){case 0:return"ترتيب تنازلي";case 2:return"absteigend sortieren";case 3:return"orden descendiente";case 6:return"내림차순 정렬";case 7:return"sorteer aflopend";case 8:return"сортировка по убыванию";case 10:return"сортувати за спаданням";default:return"sort descending"}},kX=function(e){switch(e){case 0:return"غير مرتب";case 2:return"nicht sortiert";case 3:return"no ordenado";case 6:return"정렬 안 됨";case 7:return"niet gesorteerd";case 8:return"не отсортировано";case 10:return"не сортується";default:return"not sorted"}},EX=function(e,t,r,n,i,a,o){return qr([AB(qr([Kq(Wq,n)]),t(o)),pj(new Ie(Tr(i.eD,a)&&i.eV?"icon-sort-asc":"icon-sort-desc",Ts(TR(_X(r,a))),!0,Tr(i.eD,a)&&i.eV?CX(e):Tr(i.eD,a)&&!i.eV?kX(e):SX(e)),qr([Kq(Wq,"lia-btn--transparent lia-table__sort"),Kq(Wq,Tr(i.eD,a)?"active":"")]))])},RX=(_r(EX),kr(iF,"sort","ascending")),xX=kr(iF,"sort","descending"),MX=yr((function(e,t,r,n,i){return kr(Vc,kr(cu,Uh,n),bu(gr((function(n,a){var o=a.a,s=a.b,u=s.a,c=s.b;return qY(Pr(Kq(Wq,"lia-table__header"),Pr(Tr(n,r)?i.eV?RX:xX:Kq(Wq,""),Pr(Kq(yX,"col"),Pr(LY,Pr(Kq(Wq,o),_c(gL,u)))))),EX(e,t,r,o,i,n,c))}))))})),IX=function(e,t,r,n,i,a,o){return qr([NY(qr([Kq(Wq,"lia-table__head")]),rp(OY(qr([$X]),Mr(MX,e,t,a,n,o,r)))),Er(pF,"tbody",qr([Kq(Wq,"lia-table__body")]),_c(kr(Vc,bu(Uh),kr(Vc,kr(cu,gr((function(e,r){var n=r.a,i=r.b;return Ar(i.dN,TY((n?Os(mX):gd(qr([MY,Kq(yX,"row")])))(Pr(Kq(Wq,e),Pr(Kq(Wq,"lia-table__data"),_c(gL,i.em)))),t(i.fw)))})),n),kr(Vc,YS,kr(Vc,_b(Nh),yI(AY(qr([Kq(Wq,"lia-table__row"),$X]))))))),wX(o,i)))])},TX=(_r(IX),function(e){return kr(Vc,ly(e),Dl(jE(-1,!1,!1)))}),AX=function(e,t){var r=t.a,n=t.b;return Er(dj,new Ae(Ts(TR({$:1,a:e})),!0,n),qr([Kq(Wq,"lia-btn--outline lia-plot__switch mb-1")]),qr([vj("icon-"+r,Xi),AB(qr([Kq(Wq,"lia-btn__text")]),qr([eL(n)]))]))},OX=(gr(AX),bj(16)),DX=Dw(rF,nF,"readonly"),PX=sj,qX=(kr(Pw,DX,PX),function(e,t){return Nq(qr([Kq(Wq,"lia-table-responsive has-thead-sticky has-first-col-sticky")]),qr([jY(Pr(OX,Pr(Dw(DX,PX,!0),kr($L,"lia-table",e))),t)]))}),LX=(gr(qX),function(e,t,r,n,i){return n?Nq(qr([Kq(Wq,"lia-plot")]),qr([AX(t,function(){switch(n){case 3:return Ar("barchart",function(e){switch(e){case 0:return"مخطط شريطي";case 2:return"Balkendiagramm";case 6:return"바 차트";case 9:case 11:return"柱状图";default:return"Bar chart"}}(e));case 4:return Ar("piechart",function(e){switch(e){case 0:return"مخطط دائري";case 2:return"Tortendiagramm";case 6:return"파이 차트";case 9:case 11:return"饼图";default:return"Pie chart"}}(e));case 1:return Ar("lineplot",function(e){switch(e){case 0:return"مخطط خطي";case 2:return"Liniendiagramm";case 6:return"라인 차트";case 9:case 11:return"折线图";default:return"Line chart"}}(e));case 5:return Ar("heatmap",function(e){switch(e){case 0:return"خريطة التمثيل اللوني";case 2:return"Heatmap";case 6:return"히트 맵";case 9:case 11:return"热力图";default:return"Heat map"}}(e));case 6:return Ar("radar",function(e){switch(e){case 0:return"مخطط نسيجي";case 2:return"Radar-Karte";case 6:return"레이더 차트";case 9:case 11:return"雷达图";default:return"Radar chart"}}(e));case 7:return Ar("parallel",function(e){switch(e){case 0:return"متوازي";case 2:return"Parallele Koordinatenkarte";case 6:return"평행 좌표 맵";case 9:case 11:return"平行坐标图";default:return"Parallel coordinate map"}}(e));case 10:return Ar("graph",function(e){switch(e){case 0:return"رسم بياني";case 2:return"Beziehungsgrafik";case 6:return"관계도";case 9:case 11:return"关系图";default:return"Relationship graph"}}(e));case 11:return Ar("map",function(e){switch(e){case 0:return"خريطة";case 2:return"Karte";case 6:return"맵";case 9:case 11:return"地图";default:return"Map"}}(e));case 8:return Ar("sankey",function(e){switch(e){case 0:return"مخطط سانكي";case 2:return"Sankey-Diagramm";case 6:return"생키 다이어그램";case 9:case 11:return"桑基图";default:return"Sankey diagram"}}(e));case 2:return Ar("scatterplot",function(e){switch(e){case 0:return"مخطط مبعثر";case 2:return"Streudiagramm";case 6:return"분포도";case 9:case 11:return"散点图";default:return"Scatter plot"}}(e));case 9:return Ar("boxplot",function(e){switch(e){case 2:default:return"Boxplot";case 6:return"상자 그림";case 9:case 11:return"箱型图"}}(e));case 12:return Ar("funnel",function(e){switch(e){case 0:return"مخطط قمعي";case 2:return"Trichterdiagramm";case 6:return"퍼널 차트";case 9:case 11:return"漏斗图";default:return"Funnel chart"}}(e));default:return Ar("","")}}()),qX(r,i)])):qX(r,i)}),UX=(yr(LX),$r((function(e,t,r,n){return bu(gr((function(i,a){return TY(Pr(Kq(Wq,DE),_c(gL,a.em)),EX(e,t,r,DE,n,i,a.fw))})))}))),NX=function(e,t,r,n,i){var a=wX(i,r);if(a.b){var o=a.a,s=a.b;return Pr(OY(qr([Kq(Wq,"lia-table__row"),$X]),xr(UX,e,t,n,i,o)),_c(kr(Vc,Sc((function(e){return TY(Pr(Kq(Wq,"lia-table__data"),_c(gL,e.em)),t(e.fw))})),AY(qr([Kq(Wq,"lia-table__row"),$X]))),s))}return Xi},BX=(yr(NX),{$:3}),FX=function(e,t){var r=td(kr(Vc,nu(","),Sc(md)),Rb(e,t));e:for(;;){if(!r.$&&r.a.b){if(r.a.b.b){if(r.a.b.b.b)break e;if(""===r.a.a){if(""===r.a.b.a){r.a.b;return new H(As,As)}var n=r.a.b.a;return new H(Ts(n),As)}if(""===r.a.b.a){var i=r.a;o=i.a,i.b;return new H(As,Ts(o))}var a=r.a;o=a.a,n=a.b.a;return new H(Ts(n),Ts(o))}var o=r.a.a;return new H(As,Ts(o))}break e}return new H(As,As)},jX=(gr(FX),function(e){return""===e?As:Ts(e)}),KX=function(e,t){return new Fe(function(){var r=Rb("data-title",e);if(r.$)return Kc(kr(Vc,(function(e){return e.dN}),jX),Sf(t));var n=r.a;return Ts(n)}(),Rb("data-xlabel",e),FX("data-xlim",e),Rb("data-ylabel",e),FX("data-ylim",e))},HX=(gr(KX),function(e,t,r){if(1===t.$)return As;var n=t.a;if(1===r.$)return As;var i=r.a;return Ts(kr(e,n,i))}),WX=(mr(HX),Xp),VX=Dl(Xi),zX=(kr(Vc,WX,VX),gr((function(e,t){return Ar("title",Zc(IG(yI(Xc),e,qr([Ar("text",Xc(t))]))))}))),GX=Ar("grid",Zc(qr([Ar("left",Xc("1%")),Ar("right",Xc("1%")),Ar("bottom",Xc("12%")),Ar("containLabel",zc(!0))]))),JX=function(e){var t=e.fz,r=e.ew,n=e.eJ,i=Jc(Zc,ou((function(e,t){var r=e.a,n=e.b;return qw(Lu(As),n)?t:Pr(qr([Ar("type",Xc("bar")),Ar("name",Ol(Vf,td(Xc,r))),Ar("barGap",Gc(0)),_G,Ar("data",Jc(kr(Vc,rd(wG),Dl(Vf)),n))]),t)}),Xi,n));return Zc(IG(zX(As),t.fM,qr([Ar("xAxis",Zc(kr(TG,t.g5,mM(vA,td((function(e){return Ar("name",Xc(e))}),t.d9),qr([Ar("type",Xc("category")),Ar("data",Jc(Xc,r))]))))),AG(PG,t.g9,"value",t.ea,Xi),GX,Ar("legend",Zc($B(wB,!Tr(t.fM,As),Ar("top",Xc("30px")),qr([Ar("data",Jc(Xc,pf(tc,YS(n).a)))])))),MG(As,{m:!0,n:!0,p:!0,u:!1,v:!0}),Ar("tooltip",Zc(Xi)),Ar("series",i)])))},YX=function(e){return kr(Vc,JX,kr(bG,e,As))},ZX=function(e,t,r){return zi(r,e)<0?e:zi(r,t)>0?t:r},XX=(mr(ZX),function(e,t){var r=(uu(t)-1)*ZX(0,1,e),n=Fp(Uu(r),t),i=r-Uu(r);if(n.b){if(n.b.b){var a=n.a,o=n.b.a;return Ts(a*(1-i)+o*i)}a=n.a;return Ts(a)}return As}),QX=(gr(XX),function(e){return na(tc,e)}),eQ=function(e){var t=e.fz,r=e.ew,n=e.eJ,i=pf(tc,ta((function(e,t){var r=Or(XX(.25,t),function(e){var t=uu(e),r=Fp((t-1)/2|0,e);if(1===ua(2,t))return Sf(r);if(r.b&&r.b.b){var n=r.a,i=r.b.a;return Ts((n+i)/2)}return As}(t),XX(.75,t));if(r.a.$||r.b.$||r.c.$)return As;var n=r.a.a,i=r.b.a,a=r.c.a,o=Ol(Ar(n,a),td((function(e){var t=e.a,r=e.b,i=a+1.5*(a-n),o=n-1.5*(a-n);return Ar(zi(o,t)<0?t:o,zi(i,r)>0?r:i)}),function(e){var t=e_(e),r=Zw(e),n=Ar(t,r);if(n.a.$||n.b.$)return As;var i=n.a.a,a=n.b.a;return Ts(Ar(i,a))}(t))),s=o.a,u=o.b;return Ts(Ar(e,Ar(qr([s,n,i,a,u]),xd((function(e){return zi(e,u)>0||zi(e,s)<0}),t))))}),r,_c(kr(Vc,bf(tc),QX),n)));return Zc(IG(zX(Ts(Ar("left","center"))),t.fM,qr([Ar("xAxis",Zc(kr(TG,t.g5,mM(vA,td(kr(Vc,Xc,Uh("name")),t.d9),qr([Ar("type",Xc("category")),Ar("data",Jc(kr(Vc,Hu,Xc),i))]))))),AG(PG,t.g9,"value",t.ea,Xi),MG(As,{m:!0,n:!0,p:!1,u:!1,v:!0}),GX,Ar("tooltip",Zc(Xi)),Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("boxplot")),Ar("data",Jc(kr(Vc,Yf,kr(Vc,Hu,Yc(wG))),i))]),qr([Ar("type",Xc("scatter")),Ar("name",Xc("outlier")),Ar("data",Jc(Yc(wG),pu((function(e,t){return Pr(e,t)}),_c(kr(Vc,Yf,Yf),i))))])])))])))},tQ=function(e){return kr(Vc,eQ,kr(bG,e,As))},rQ=function(e){return kr(Vc,qG(!1),kr(bG,e,As))},nQ=function(e,t){return Ar("legend",Zc(Pr(Ar("data",Jc(Xc,t)),e)))},iQ=(gr(nQ),function(e,t,r){var n=100/(2*uu(r)),i=Vq(100/uu(r))+"%",a=pu((function(e,t){return qr([Ar("type",Xc("funnel")),Ar("width",Xc(i)),Ar("sort",Xc("none")),Ar("left",Xc(Vq(2*e*n)+"%")),Ar("label",Zc(qr([Ar("normal",Zc(qr([Ar("formatter",Xc("{c}")),Ar("position",Xc("inside"))])))]))),Ar("selectedMode",Xc("single")),Ar("data",Jc((function(e){var t=e.a,r=e.b;return Zc(qr([Ar("name",Xc(t)),Ar("value",wG(r))]))}),t))])}),r),o=Tr(e,As)&&Tr(t,Xi)?Xi:qr([Ar("title",Jc(Zc,Pr(qr([Ar("text",Xc(Ol("",e))),Ar("left",Xc("center"))]),pu((function(e,t){return qr([Ar("subtext",Xc(t)),Ar("bottom",Gc(40)),Ar("textAlign",Xc("center")),Ar("left",Xc(Vq(2*e*n+n)+"%"))])}),t))))]),s=Ol(Xi,td(Sc(Hu),Sf(r)));return Zc(bd(o,qr([Ar("series",Jc(Zc,a)),MG(As,{m:!0,n:!1,p:!1,u:!1,v:!0}),nQ(qr([Ar("top",Xc("30px"))]),s),Ar("tooltip",Zc(qr([Ar("trigger",Xc("item")),Ar("formatter",Xc("{b} : {c} ({d}%)"))])))])))}),aQ=(mr(iQ),function(e){var t=e.fz,r=e.ew,n=e.eJ;if(1===uu(n)){var i=Jc((function(e){var t=e.a,r=e.b;return Zc(qr([Ar("name",Xc(t)),Ar("value",wG(r))]))}),Ol(Xi,Sf(n))),a=Tr(t.fM,As)&&Tr(r,Xi)?Xi:qr([Ar("title",Zc(qr([Ar("text",Xc(Ol("",t.fM))),Ar("subtext",Xc(Ol("",Sf(r)))),Ar("left",Xc("center"))])))]);return Zc(bd(a,qr([Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("funnel")),Ar("name",Xc(Ol("",Sf(r)))),Ar("radius",Xc(Tr(t.fM,As)&&Tr(r,Xi)?"75%":"65%")),Ar("center",Xc("50%")),Ar("selectedMode",Xc("single")),Ar("data",i),Ar("sort",Xc("none"))])]))),MG(As,{m:!0,n:!1,p:!1,u:!1,v:!0}),Ar("tooltip",Zc(qr([Ar("trigger",Xc("item")),Ar("formatter",Xc("{b} : {c} ({d}%)"))])))])))}return iQ(t.fM,r,n)}),oQ=gr((function(e,t){return kr(Vc,aQ,kr(bG,e,As))})),sQ=function(e){var t=e.fz,r=e.ew,n=e.eJ,i=zp(_c((function(e){var t=e.a,r=e.b,n=e.c;return Ar(Ar(t,r),n)}),n)),a=qw(tc,fd(KS((function(e,t){var r=e.a,n=e.b;return Tr(Bd(Ar(n,r),i),Ts(t))}),i))),o=Ol(Ar(0,0),mG(_c((function(e){return e.c}),n))),s=o.a,u=o.b,c=function(e){return 1+4*Ow(e)/(u-s)};return Zc(IG(zX(Ts(Ar("left","center"))),t.fM,qr([MG(As,{m:!1,n:!1,p:!1,u:!1,v:!0}),Ar("tooltip",Zc(Xi)),Ar("series",Jc(Zc,rp(qr([Ar("type",Xc("graph")),Ar("layout",Xc("force")),Ar("label",Zc(qr([Ar("show",zc(!0))]))),Ar("symbolSize",wG(40)),Ar("roam",zc(!0)),Ar("animation",zc(!0)),Ar("edgeSymbol",Jc(Xc,a?Xi:qr(["circle","arrow"]))),Ar("force",Zc(qr([Ar("repulsion",Gc(300)),Ar("edgeLength",Gc(100)),Ar("gravity",wG(.1))]))),Ar("draggable",zc(!0)),Ar("data",Jc((function(e){return Zc(qr([Ar("id",Xc(e)),Ar("name",Xc(e))]))}),r)),Ar("edges",Jc((function(e){var t=e.a,r=e.b,n=e.c;return Zc(qr([Ar("source",Xc(t)),Ar("target",Xc(r)),Ar("symbolSize",Jc(Gc,qr([5]))),Ar("value",wG(n)),Ar("lineStyle",Zc(qr([Ar("width",wG(c(n))),Ar("curveness",wG(a||Tr(Bd(Ar(r,t),i),As)?0:.25)),Ar("opacity",wG(n>0?.9:.3))])))]))}),n))]))))])))},uQ=function(e){return kr(Vc,sQ,kr(bG,e,As))},cQ=gr((function(e,t){var r=t.fz,n=t.ew,i=t.eJ,a=Ol(Ar(0,0),mG(pf((function(e){return e.c}),Cb(i)))),o=a.a,s=a.b;return Zc(IG(zX(Ts(Ar("left","center"))),r.fM,qr([MG(Ts("7%"),{m:!0,n:!1,p:!1,u:!1,v:!0}),Ar("tooltip",Zc(Xi)),Ar("grid",Zc(Tr(r.fM,As)?qr([Ar("height",Xc("82%")),Ar("top",Xc("0%"))]):qr([Ar("height",Xc("74%")),Ar("top",Xc("7%"))]))),AG(DG,r.g5,"category",r.d9,n),AG(PG,r.g9,"category",r.ea,e),Ar("visualMap",Zc(qr([Ar("min",wG(o)),Ar("max",wG(s)),Ar("calculable",zc(!0)),Ar("itemHeight",Xc("150px")),Ar("right",Xc("7%")),Ar("bottom",Xc("9")),Ar("orient",Xc("horizontal"))]))),Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("heatmap")),Ar("label",Zc(qr([Ar("show",zc(!0))]))),Ar("data",Jc((function(e){var t=e.a,r=e.b,n=e.c;return Jc(tc,qr([Gc(t),Gc(r),Ol(Vf,td(wG,n))]))}),Cb(i))),Ar("emphasis",Zc(qr([Ar("itemStyle",Zc(qr([Ar("shadowBlur",Gc(10)),Ar("shadowColor",Xc("rgba(0, 0, 0, 0.5)"))])))])))])])))])))})),lQ=gr((function(e,t){return kr(Vc,cQ(t),kr(bG,e,As))})),fQ=gr((function(e,t){var r=t.fz,n=t.ew,i=t.eJ;return Zc(IG(zX(As),r.fM,qr([AG(DG,r.g5,"category",r.d9,n),AG(PG,r.g9,"value",r.ea,Xi),GX,nQ(qr([Ar("top",Xc("30px"))]),_c(Hu,i)),Ar("tooltip",Zc(Xi)),MG(As,{m:!0,n:!0,p:!0,u:!1,v:!0}),Ar("series",Jc((function(t){var r=t.a,n=t.b;return Zc(qr([Ar("name",Xc(r)),Ar("type",Xc(e)),Ar("data",Jc(kr(Vc,rd(wG),Dl(Vf)),n))]))}),i))])))})),dQ=function(e){return kr(Vc,fQ("line"),kr(bG,e,As))},hQ=gr((function(e,t){var r=gG(Vq,Vq,Ol(Ar(0,0),mG(pf(Yf,t.eJ)))),n=r.a,i=r.b;return Zc(IG(zX(As),t.fz.fM,qr([Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("map")),Ar("map",Xc(Ol("",e))),Ar("roam",zc(!0)),Ar("name",Xc(Ol("data",t.fz.ea))),Ar("data",Jc(Zc,pf((function(e){var t=e.a,r=e.b;if(r.$)return As;var n=r.a;return Ts(qr([Ar("name",Xc(t)),Ar("value",wG(n))]))}),t.eJ)))])]))),Ar("visualMap",Zc(qr([Ar("min",Xc(Ol(n,t.fz.g5.c_))),Ar("max",Xc(Ol(i,t.fz.g5.cV))),Ar("calculable",zc(!0)),Ar("itemHeight",Xc("150px")),Ar("right",Xc("0")),Ar("bottom",Xc("center")),Ar("orient",Xc("vertical"))]))),GX,MG(As,{m:!0,n:!1,p:!1,u:!0,v:!0}),Ar("tooltip",Zc(Xi))])))})),vQ=gr((function(e,t){return kr(Vc,hQ(t),kr(bG,e,t))})),pQ=function(e){var t=e.fz,r=e.ew,n=e.eJ;return Zc(IG(zX(As),t.fM,qr([Ar("parallelAxis",Jc(Zc,pu((function(e,t){return qr([Ar("dim",Gc(e)),Ar("name",Xc(t))])}),r))),Ar("parallel",Zc(qr([Ar("axisExpandable",zc(!0)),Ar("axisExpandCenter",Gc(15)),Ar("axisExpandCount",Gc(10)),Ar("axisExpandWidth",Gc(100)),Ar("axisExpandTriggerOn",Xc("mousemove"))]))),Ar("series",Zc(qr([Ar("type",Xc("parallel")),Ar("data",Jc(Yc(kr(Vc,rd(wG),Dl(Vf))),n))]))),MG(As,{m:!0,n:!1,p:!1,u:!1,v:!0}),Ar("tooltip",Zc(Xi))])))},bQ=function(e){return kr(Vc,pQ,kr(bG,e,As))},gQ=function(e,t,r,n){var i,a=100/(2*uu(n)),o=Vq((i=e/(6.1*uu(n)))>70?70:i)+"%",s=pu((function(e,t){return qr([Ar("type",Xc("pie")),Ar("radius",Xc(o)),Ar("center",Jc(Xc,qr([Vq(2*e*a+a)+"%","50%"]))),Ar("label",Zc(qr([Ar("normal",Zc(qr([Ar("formatter",Xc("{c}")),Ar("position",Xc("inside"))])))]))),Ar("selectedMode",Xc("single")),Ar("data",Jc((function(e){var t=e.a,r=e.b;return Zc(qr([Ar("name",Xc(t)),Ar("value",wG(r))]))}),t))])}),n),u=Tr(t,As)&&Tr(r,Xi)?Xi:qr([Ar("title",Jc(Zc,Pr(qr([Ar("text",Xc(Ol("",t))),Ar("left",Xc("center"))]),pu((function(e,t){return qr([Ar("subtext",Xc(t)),Ar("bottom",Gc(40)),Ar("textAlign",Xc("center")),Ar("left",Xc(Vq(2*e*a+a)+"%"))])}),r))))]),c=Ol(Xi,td(Sc(Hu),Sf(n)));return Zc(bd(u,qr([Ar("series",Jc(Zc,s)),MG(As,{m:!0,n:!1,p:!1,u:!1,v:!0}),nQ(qr([Ar("top",Xc("30px"))]),c),Ar("tooltip",Zc(qr([Ar("trigger",Xc("item")),Ar("formatter",Xc("{b} : {c} ({d}%)"))])))])))},mQ=($r(gQ),gr((function(e,t){var r=t.fz,n=t.ew,i=t.eJ;if(1===uu(i)){var a=Jc((function(e){var t=e.a,r=e.b;return Zc(qr([Ar("name",Xc(t)),Ar("value",wG(r))]))}),Ol(Xi,Sf(i))),o=Tr(r.fM,As)&&Tr(n,Xi)?Xi:qr([Ar("title",Zc(qr([Ar("text",Xc(Ol("",r.fM))),Ar("subtext",Xc(Ol("",Sf(n)))),Ar("left",Xc("center"))])))]);return Zc(bd(o,qr([Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("pie")),Ar("name",Xc(Ol("",Sf(n)))),Ar("radius",Xc(Tr(r.fM,As)&&Tr(n,Xi)?"75%":"65%")),Ar("center",Xc("50%")),Ar("selectedMode",Xc("single")),Ar("data",a)])]))),MG(As,{m:!0,n:!1,p:!1,u:!1,v:!0}),Ar("tooltip",Zc(qr([Ar("trigger",Xc("item")),Ar("formatter",Xc("{b} : {c} ({d}%)"))])))])))}return gQ(e,r.fM,n,i)}))),$Q=gr((function(e,t){return kr(Vc,mQ(t),kr(bG,e,As))})),yQ=function(e){return kr(Vc,fQ("scatter"),kr(bG,e,As))},wQ=gr((function(e,t){var r,n=Ol(0,t);return zi(n,e.cV)>0?((r=e.$c()).cV=n,r):e})),_Q=(cu(wQ),function(e){var t=e.fz,r=e.ew,n=e.eJ,i=Jc((function(e){var t=e.a,r=e.b;return Zc(qr([Ar("name",Xc(t)),Ar("value",Jc(kr(Vc,Dl(0),wG),r))]))}),n),a=_c((function(e){return new je(0,e)}),r),o=Jc((function(e){return Zc(qr([Ar("name",Xc(e.c4)),Ar("max",wG(e.cV))]))}),ou((function(e,t){return ea(wQ,t,e)}),a,_c(Yf,n)));return Zc(IG(zX(As),t.fM,qr([Ar("radar",Zc(qr([Ar("indicator",o),Ar("axisName",Zc(qr([Ar("color",Xc("#fff")),Ar("backgroundColor",Xc("#999")),Ar("borderRadius",Gc(3)),Ar("padding",Jc(Gc,qr([3,5])))])))]))),MG(As,{m:!0,n:!1,p:!1,u:!1,v:!0}),Ar("tooltip",Zc(Xi)),Ar("series",Jc(Zc,qr([qr([Ar("type",Xc("radar")),Ar("data",i),Ar("emphasis",Zc(qr([Ar("lineStyle",Zc(qr([Ar("width",Gc(4))])))])))])])))])))}),SQ=function(e){return kr(Vc,_Q,kr(bG,e,As))},CQ=function(e){var t=e.fz,r=e.ew,n=e.eJ,i=zp(_c((function(e){var t=e.a,r=e.b,n=e.c;return Ar(Ar(t,r),n)}),n)),a=Us(ou((function(e,t){var r=e.a,n=r.a,i=r.b;return Tr(Bd(Ar(i,n),t),As)?t:$$(Ar(i,n),t)}),i,Us(i)));return Zc(IG(zX(Ts(Ar("left","center"))),t.fM,qr([MG(As,{m:!1,n:!1,p:!1,u:!1,v:!0}),Ar("tooltip",Zc(Xi)),Ar("height",Xc("80%")),Ar("width",Xc("90%")),Ar("series",Jc(Zc,rp(qr([Ar("type",Xc("sankey")),Ar("layout",Xc("none")),Ar("focusNodeAdjacency",Xc("allEdges")),Ar("animation",zc(!0)),Ar("data",Jc((function(e){return Zc(qr([Ar("name",Xc(e))]))}),r)),Ar("edges",Jc((function(e){var t=e.a,r=t.a,n=t.b,i=e.b;return Zc(qr([Ar("source",Xc(r)),Ar("target",Xc(n)),Ar("value",wG(i))]))}),a)),Ar("lineStyle",Zc(qr([Ar("color",Xc("source"))])))]))))])))},kQ=function(e){return kr(Vc,CQ,kr(bG,e,As))},EQ=function(e,t,r,n,i,a,o){var s=new Ue(n,e,i),u=a_(o),c=u.a,l=u.b,f=KX(n,c);switch(a){case 3:return kr(YX,s,{ew:_c(kr(Vc,Sf,kr(Vc,rd((function(e){return e.dN})),Dl(""))),l),eJ:_c((function(e){return Ar(td((function(e){return e.dN}),Sf(e)),Ol(Xi,td(Sc((function(e){return e.bt})),Xp(e))))}),Wc(WX,VX,Kw(o))),fz:f});case 4:if(Ol(!1,td(Lw(Jw),kr(Hw,0,l))))return Er($Q,s,t,{ew:Xi,eJ:_c(kr(Vc,kr(cu,(function(e){return rd(Uh(e.dN))}),c),bf(tc)),kr(Yw,(function(e){return e.bt}),l)),fz:f});var d=_c((function(e){return e.dN}),Ol(Xi,Xp(c)));return Er($Q,s,t,{ew:_c((function(e){return e.dN}),Ol(Xi,kr(Hw,0,l))),eJ:_c(kr(Vc,kr(cu,(function(e){return rd(Uh(e))}),d),bf(tc)),pf(Xp,kr(Yw,(function(e){return e.bt}),l))),fz:f});case 12:if(Ol(!1,td(Lw(Jw),kr(Hw,0,l))))return Er(oQ,s,t,{ew:Xi,eJ:_c(kr(Vc,kr(cu,(function(e){return rd(Uh(e.dN))}),c),bf(tc)),kr(Yw,(function(e){return e.bt}),l)),fz:f});d=_c((function(e){return e.dN}),Ol(Xi,Xp(c)));return Er(oQ,s,t,{ew:_c((function(e){return e.dN}),Ol(Xi,kr(Hw,0,l))),eJ:_c(kr(Vc,kr(cu,(function(e){return rd(Uh(e))}),d),bf(tc)),pf(Xp,kr(Yw,(function(e){return e.bt}),l))),fz:f});case 5:var h=_c((function(e){return e.dN}),Ol(Xi,kr(Hw,0,l))),v=_c((function(e){return e.dN}),Ol(Xi,Xp(c)));return Er(lQ,s,h,{ew:v,eJ:pu((function(e,t){return pu((function(t,r){return Or(t,e,r.bt)}),t)}),Wc(WX,VX,Kw(l))),fz:f});case 6:return kr(SQ,s,{ew:Ol(Xi,td(Sc((function(e){return e.dN})),Xp(c))),eJ:_c((function(e){return Ar(Ol("",td((function(e){return e.dN}),Sf(e))),Ol(Xi,td(Sc((function(e){return e.bt})),Xp(e))))}),l),fz:f});case 7:return kr(bQ,s,{ew:_c((function(e){return e.dN}),Ol(Xi,Xp(c))),eJ:Kw(kr(Yw,(function(e){return e.bt}),Wc(WX,VX,Kw(l)))),fz:f});case 9:return kr(tQ,s,{ew:_c((function(e){return e.dN}),c),eJ:Kw(kr(Yw,(function(e){return e.bt}),l)),fz:f});case 10:var p=_c((function(e){return e.dN}),Ol(Xi,kr(Hw,0,l))),b=_c((function(e){return e.dN}),Ol(Xi,Xp(c))),g=xd(ld(""),Bs(zw(Dr(b,p))));return kr(uQ,s,{ew:g,eJ:xd((function(e){var t=e.a,r=e.b;return""!==t||""!==r}),pf(tc,kb((function(e){if(e.b){var t=e.a,r=e.b;return ta((function(e,r){var n=r.bt;if(n.$)return As;var i=n.a;return i?Ts(Or(e,t.dN,i)):As}),b,r)}return Xi}),l))),fz:f});case 8:p=_c((function(e){return e.dN}),Ol(Xi,kr(Hw,0,l))),b=_c((function(e){return e.dN}),Ol(Xi,Xp(c))),g=xd(ld(""),Bs(zw(Dr(b,p))));return kr(kQ,s,{ew:g,eJ:xd((function(e){var t=e.a,r=e.b;return""!==t||""!==r}),pf(tc,kb((function(e){if(e.b){var t=e.a,r=e.b;return ta((function(e,r){var n=r.bt;if(n.$)return As;var i=n.a;return i?Ts(Or(e,t.dN,i)):As}),b,r)}return Xi}),l))),fz:f});case 11:var m=r?l:o,$=_c((function(e){return e.dN}),Ol(Xi,kr(Hw,0,m)));return Er(vQ,s,Rb("data-src",n),{ew:Xi,eJ:ea(Uh,$,_c((function(e){return e.bt}),Ol(Xi,kr(Hw,1,m)))),fz:f});default:var y=_c((function(e){return e.bt}),Ol(Xi,kr(Hw,0,l))),w=_c((function(e){return e.dN}),Ol(Xi,Xp(c)));if(Tr(uu(y),uu(pf(tc,y)))){var _=gr((function(e,t){return 1===a?LS(t,Ts(e)):qS(t,Ts(e))})),S=pu((function(e,t){return Ar(function(e){return Ol("~",td(Hu,Su(Sa(e,-1,"*abcdefghijklmnopqrstuvwxyz+ABCDEFGHIJKLMNOPQRSTUVWXYZ#1234567890!§$%&/()=?'_.,;:<>|^°~"))))}(e),t)}),ea(_,w,_c(kr(Vc,kr(cu,gr((function(e,t){return HX(NS,e,t)})),y),bf(tc)),kr(Yw,(function(e){return e.bt}),Wc(WX,VX,Kw(l))))));return kr(rQ,s,new W(zp(S),w,Ol("",f.fM),Ol("",f.d9),f.g5,Ol("",f.ea),f.g9))}var C=_c((function(e){return e.dN}),Ol(Xi,kr(Hw,0,l))),k=_c((function(e){return e.dN}),Ol(Xi,Xp(c)));return kr(1===a?dQ:yQ,s,{ew:C,eJ:ea(Uh,k,kr(Yw,(function(e){return e.bt}),Wc(WX,VX,Kw(l)))),fz:f})}},RQ=(_r(EQ),function(e,t){return kr(Tb,"data-transpose",e)?Kw(t):t}),xQ=(gr(RQ),Sr((function(e,t,r,n,i,a,o,s){return Nq(qr([Kj(Wj,TR(BX))]),qr([AX(t.fr,Ar("table","Table")),EQ(e,a,!Tr(t.fe,Xi),s,o,t.eA,RQ(s,Pr(_c(kr(h_,n,i),t.fj),wX(r,Er(v_,n,i,t.eu)))))]))}))),MQ=function(e,t,r){var n=kr(TX,r.fr,e.dE.b$);return gX(t,n.eS)?Po(xQ,e.fM.fA,r,n,e.fM.go,e.fM.d8,e.dC.g0,e.fG,t):Tr(r.fj,Xi)&&Tr(r.fe,Xi)?LX(e.fM.fA,r.fr,t,r.eA,NX(e.fM.fA,e.d6,Er(v_,e.fM.go,e.fM.d8,r.eu),r.fr,n)):LX(e.fM.fA,r.fr,t,r.eA,IX(e.fM.fA,e.d6,r.fj,r.fe,Er(v_,e.fM.go,e.fM.d8,r.eu),r.fr,n))},IQ=(mr(MQ),function(e){return{$:2,a:e}}),TQ=function(e,t){return{$:0,a:e,b:t}},AQ=(gr(TQ),$r((function(e,t,r,n){var i=n.a,a=n.b;return QB(qr([Kq(Wq,"lia-label")]),qr([Vj(qr([Kq(eK,"checkbox"),CL(aK,a),Kq(Wq,"lia-checkbox"),fj(TQ(t,i))]),Xi),To(IQ,AB(Xi,kr(jK,e,r)))]))}))),OQ=function(e,t,r,n){var i=cy(n.fr,t);if(i.$)return Ar(As,eL(""));var a=i.a;return Ar(a.gn,Nq(kr($L,"lia-quiz lia-quiz-multiple-choice open",r),qr([Nq(qr([Kq(Wq,"lia-quiz__answers")]),ea(kr(AQ,e,n.fr),n.gM,vu(Uh,Ps(a.gy))))])))},DQ=($r(OQ),function(e){return Sc(BQ(e))}),PQ=function(e,t,r){return TK(Uq,BQ(e),t,r)},qQ=(mr(PQ),function(e,t,r,n,i){return fG(e.d6,function(){if(1===i.$)return $I(Yq(MR),$I(Uq(kr($L,kr(rz,n.fr,e.dE.bO),r)),fZ(e.fM,t,n,e.dE.bO,vG(e.dE.R.gd))));var a=i.a,o=a.a;a.b;return kr(hG,n,e.dE.bO)?$I(Uq(kr($L,kr(rz,n.fr,e.dE.bO),r)),$I((function(t){return bd(t,qr([Nq(qr([Kq(Wq,"lia-quiz__solution")]),_c(BQ(e),o))]))}),$I(Sc(Yq(MR)),fZ(e.fM,t,n,e.dE.bO,vG(e.dE.R.gd))))):$I(Uq(kr($L,kr(rz,n.fr,e.dE.bO),r)),$I(Sc(Yq(MR)),fZ(e.fM,t,n,e.dE.bO,vG(e.dE.R.gd))))}())}),LQ=(yr(qQ),function(e,t,r){if(r.b&&2===r.a.$&&r.b.b&&17===r.b.a.$&&!r.b.b.b){var n=r.a,i=n.a,a=n.b,o=r.b.a,s=o.a,u=o.b;return XV(Pr(Kq(tz,md(Er(gy,e.fM.go,e.fM.d8,u))),kr($L,"lia-quote",t)),qr([xL(qr([Kq(Wq,"lia-quote__text")]),_c(BQ(e),qr([Ag(i,a)]))),ez(kr($L,"lia-quote__cite",s),Pr(eL("—"),e.d6(u)))]))}return XV(kr($L,"lia-quote",t),_c(BQ(e),r))}),UQ=(mr(LQ),function(e,t,r){var n,i=r.a,a=r.b;return n=zz(_c(gL,t),(function(t){return Nq(Xi,function(){if(!t.b||2!==t.a.$||t.a.a.b||t.b.b)return _c(BQ(e),t);var r=t.a.b;return e.d6(r)}())}),a),AL(qr([Kq(Wq,"lia-figure")]),qr([Nq($B(WW,!e.fG,qr([Lo("-webkit-filter","invert(100%)"),Lo("filter","invert(100%)")]),qr([Kq(Wq,"lia-figure__media")])),qr([n])),function(){if(1===i.$)return eL("");var t=i.a;return IL(qr([Kq(Wq,"lia-figure__caption")]),e.d6(t))}()]))}),NQ=(mr(UQ),function(e,t){e:for(;;)switch(t.$){case 0:var r=t.a;return YH(kr($L,"lia-divider",r),Xi);case 2:if(t.b.b&&!t.b.b.b){r=t.a;var n=t.b.a,i=tG(n);if(i.$)return iG(n)&&Tr(r,Xi)?Ol(eL(""),Sf(e.d6(qr([n])))):GK(kr($L,"lia-paragraph",r),e.d6(qr([n])));var a=i.a,o=a.a,s=a.b,u=a.c;return TK(Uq,kr(Vc,e.d6,kr(Vc,Sf,Dl(GK(kr($L,"lia-paragraph",r),e.d6(qr([n])))))),r,Gg(o,s,qr([u])))}r=t.a;var c=t.b;return GK(kr($L,Ol(!1,td(iG,Sf(c)))?"lia-paragraph clearfix":"lia-paragraph",r),e.d6(c));case 7:r=t.a;var l=t.b;return YV(e.fM,e.dE.eZ,r,l,kr(DQ,e,l.cg));case 3:r=t.a;var f=t.b;return PH(kr($L,"lia-list--unordered",r),kr(FQ,e,f));case 4:r=t.a,f=t.b;return _V(kr($L,"lia-list--ordered",r),kr(jQ,e,f));case 5:r=t.a;var d=t.b;return MQ(e,r,d);case 1:r=t.a;var h=t.b;return LQ(e,r,h);case 14:r=t.a;var v=t.b;return PQ(e,r,v);case 11:var p=t.a;return To(kR,OJ(new Ke(p,e.fM.fA,e.dE.ap,e.dE.R.eB,e.ef)));case 6:r=t.a;var b=t.b,g=t.c;return qQ(e,As,r,b,g);case 9:r=t.a;var m=t.b;return fG(e.d6,$I(Yq(IR),bX(e.fM,r,m,e.dE.b_,vG(e.dE.R.gH))));case 8:var $=t.a,y=$.a,w=$.b,_=Ar(e.fS,Jz(!Tr(e.fM.d8,As),y,w,e.dE.eZ));t:for(;!_.b.$;)switch(_.a){case 2:_.a;var S=_.b.a.b;e=e,t=Ag(S.em,S.cg);continue e;case 1:_.a;var C=_.b.a,k=C.a;S=C.b;return To(FV,Nq(_c(gL,VV(!0,e.fM.gV,y,k)),kr(lG,e.fM,S.cg)));default:break t}return eL("");case 15:r=t.a;var E=t.b,R=E.a;c=E.b;return xr(eG,e,e.dE.ft,R,r,c);case 10:r=t.a;var x=t.b;return Oo(LG,new Ue(r,e.fM.fA,e.fG),x);case 13:r=t.a;var M=t.b;return UQ(e,r,M);case 12:r=t.a,f=t.b;return fG(e.d6,$I(Yq(AR),OQ(e.fM,e.dE.b1,r,f)));case 16:r=t.a;var I=t.b;return To(xR,jJ(e.fM,e.dE.bw,r,I));case 17:r=t.a,h=t.b;return ez(kr($L,"lia-cite",r),Pr(eL("—"),e.d6(h)));case 18:n=t.a;return GK(qr([Kq(Wq,"lia-problem")]),e.d6(n));default:return eL("")}}),BQ=gr(NQ),FQ=function(e){var t=kr(Vc,Sc(BQ(e)),IH(Xi));return Sc(t)},jQ=function(e){return Sc((function(t){var r=t.a,n=t.b;return TH(qr([Kq(tL,r)]),_c(BQ(e),n))}))},KQ=mr((function(e,t,r){return _c(Yq(NI(t)),function(){if(r.$){n=r.a,a=e.fM;return _c(Yq(FV),kr(jK,br(a,n.eZ.fy),n.eu))}var t,n=r.a,i=e.dE,a=e.fM,o=e.dE.eZ;return _c(BQ(((t=e.$c()).dE=function(){var e=i.$c();return e.ap=n.ap,e.b$=n.b$,e.bO=n.bO,e.b_=n.b_,e.eZ=function(){var e=o.$c();return e.aB=n.eZ.aB,e.fy=n.eZ.fy,e}(),e}(),t.fM=br(a,n.eZ.fy),t)),n.eu)}())})),HQ=bj(26),WQ=function(e){return LH(qr([Kq(Wq,"lia-slide__content"),HQ,CL(JV,e)]))},VQ="align",zQ=(Hq(VQ),gr((function(e,t){var r=t.a,n=t.b;return OY(Xi,qr([TY(qr([vL("valign","top"),Lo("padding-right","10px")]),qr([GK(qr([Kq(uF,Dr(jR,r))]),qr([tF(r)]))])),TY(qr([vL("valign","top")]),_c(e,n))]))}))),GQ=function(e){return-2===e.$},JQ=GQ,YQ=Us,ZQ=function(e,t){if(JQ(t))return eL("");var r=zQ(e);return nH(Xi,qr([jY(qr([Lo("padding","-10px"),Lo("border-top","2px solid black"),Lo("-ms-transform","scale(0.8, 0.8)"),Lo("-ms-transform-origin","0 50%"),Lo("-webkit-transform","scale(0.8, 0.8)"),Lo("-webkit-transform-origin-x","0"),Lo("transform","scale(0.8, 0.8)"),Lo("transform-origin","0 50%"),Kq(VQ,"left")]),_c(r,YQ(t)))]))},XQ=(gr(ZQ),function(e,t){if(t.$){var r=t.a;return Ar("InnerHtml",Xc(r))}var n=t.a,i=t.b,a=t.c;return Ar("Node",Zc(qr([Ar("tag",Xc(n)),wy(i),Ar("content",Jc(e,a))])))}),QQ=(gr(XQ),function(e){return Zc(qr([function(){var t=e.gd;switch(t.$){case 0:return Ar("Generic",Vf);case 1:return function(e){return Ar(e.dK.$?"Select":"Text",Zc(qr([Ar("options",Jc(Ty,e.f6)),Ar("solution",FT(e.dK))])))}(t.a);case 2:return function(e){return Ar(e.dK.$?"MultipleChoice":"SingleChoice",Zc(qr([Ar("options",Jc(Ty,e.f6)),Ar("solution",jT(e.dK))])))}(t.a);default:return function(e){return Ar(KT,Zc(qr([Ar("headers",Jc(Ty,e.fk)),Ar("options",Jc(Ty,e.f6)),Ar("solution",HT(e.dK))])))}(t.a)}}(),Ar("id",Gc(e.fr)),Ar("hints",Jc(Ty,e.fq))]))}),e0=function(e){return Zc(qr([Ar("id",Gc(e.fr)),function(){var t=e.gH;switch(t.$){case 0:var r=t.a;return Ar("Text",Gc(r));case 1:var n=t.a;return Ar("Select",Jc(Ty,n));case 2:var i=t.a,a=t.b;return Ar("Vector",Zc(qr([Ar("bool",zc(i)),Ar("options",Zc(_c(yI(Ty),a)))])));default:i=t.a;var o=t.b,s=t.c,u=t.d;return Ar("Matrix",Zc(qr([Ar("bool",zc(i)),Ar("cols",Jc(Ty,o)),Ar("ids",Jc(Xc,s)),Ar("rows",Jc(Ty,u))])))}}()]))},t0=function(e){e.a;var t=e.b;return Zc(qr([Ar("cell",Ty(t)),Ar("a",Vf)]))},r0=function(e){return Zc(qr([Ar("class",Xc(function(){switch(e.eA){case 0:return"none";case 1:return"lineplot";case 2:return"scatterplot";case 3:return"barchart";case 4:return"piechart";case 5:return"heatmap";case 6:return"radar";case 7:return"parallel";case 8:return"sankey";case 9:return"boxplot";case 10:return"graph";case 11:return"map";default:return"funnel"}}())),Ar("head",Jc(t0,e.fj)),Ar("format",Jc(Xc,e.fe)),Ar("body",Jc(Yc(t0),e.eu)),Ar("id",Gc(e.fr))]))},n0=function(e){return _f(e)?tc:Os(wy(e))},i0=function(e){return Zc(function(){switch(e.$){case 2:var t=e.a,r=e.b;return kr(n0,t,qr([Ar("Paragraph",Ty(r))]));case 0:t=e.a;return kr(n0,t,qr([Ar("HLine",Vf)]));case 1:t=e.a;var n=e.b;return kr(n0,t,qr([Ar("Quote",Ai()(n))]));case 3:t=e.a;var i=e.b;return kr(n0,t,qr([Ar("BulletList",Jc(Ai(),i))]));case 4:t=e.a;var a=e.b;return kr(n0,t,qr([Ar("OrderedList",Jc(o0,a))]));case 15:t=e.a;var o=e.b,s=o.a;r=o.b;return kr(n0,t,qr([Ar("Header",Ty(r)),Ar("level",Gc(s))]));case 17:t=e.a,r=e.b;return kr(n0,t,qr([Ar("Citation",Ty(r))]));case 18:r=e.a;return qr([Ar("Problem",Ty(r))]);case 6:t=e.a;var u=e.b,c=e.c;return kr(n0,t,qr([Ar("Quiz",QQ(u)),Ar("solution",function(){if(1===c.$)return Vf;var e=c.a,t=e.a,r=e.b;return Zc(qr([Ar("hidden_effects",Gc(r)),Ar("blocks",Ai()(t))]))}())]));case 9:t=e.a;var l=e.b;return kr(n0,t,qr([Ar("Survey",e0(l))]));case 12:t=e.a;var f=e.b;return kr(n0,t,qr([Ar("Task",(g=f,Zc(qr([Ar("id",Gc(g.fr)),Ar("tasks",Jc(Ty,g.gM))]))))]));case 16:t=e.a;var d=e.b.fP,h=e.b.fr;return kr(n0,t,qr([Ar("Gallery",Zc(qr([Ar("media",Ty(d)),Ar("id",Gc(h))])))]));case 7:t=e.a;var v=e.b;return kr(n0,t,qr([Ar("Effect",Zc(qr([Ar("id",Gc(v.fr)),Ar("begin",Gc(v.es)),Ar("end",Ol(Vf,td(Gc,v.e1))),Ar("content",Ai()(v.cg)),Ar("playback",zc(v.ga)),Ar("voice",Xc(v.g$))])))]));case 5:t=e.a;var p=e.b;return kr(n0,t,qr([Ar("Table",r0(p))]));case 10:t=e.a;return kr(n0,t,qr([Ar("Chart",Vf)]));case 11:return qr([Ar("Code",Vf)]);case 8:return qr([Ar("Comment",Vf)]);case 13:t=e.a;return kr(n0,t,qr([Ar("ASCII",Vf)]));case 14:t=e.a;var b=e.b;return a0(t,b);default:return Xi}var g}())},a0=function(e,t){return kr(n0,e,qr([XQ(i0,t)]))},o0=(gr(a0),function(e){var t=e.a,r=e.b;return Zc(qr([Ar(t,Ai()(r))]))}),s0=Ai();Ai=function(){return s0};var u0,c0=rp,l0=kr(Vc,s0,kr(Vc,Xs(0),kr(Vc,ZC,kr(ac,0,8)))),f0=(kr(Vc,c0,l0),mr((function(e,t,r){e:for(;;){t:for(;;){if(!r.b)return _u(t);if(!r.b.b||6!==r.b.a.$)break t;switch(r.a.$){case 2:var n=r.a,i=n.a,a=n.b,o=r.b,s=o.a,u=s.a,c=s.b,l=s.c,f=o.b,d=Wc(c0,l0,Ag(i,a)),h=e,v=Pr(qQ(e,Ts(d),u,c,l),Pr(NQ(e,Ag(Pr(Ar("id",d),i),a)),t));e=h,t=v,r=f;continue e;case 14:var p=r.a,b=(i=p.a,a=p.b,r.b),g=b.a;u=g.a,c=g.b,l=g.c,f=b.b,d=Wc(c0,l0,yw(i,a)),h=e,v=Pr(qQ(e,Ts(d),u,c,l),Pr(NQ(e,yw(Pr(Ar("id",d),i),a)),t));e=h,t=v,r=f;continue e;default:break t}}var m=r.a;f=r.b,h=e,v=Pr(NQ(e,m),t);e=h,t=v,r=f}}))),d0=Us,h0=bf((function(e){var t=e.a,r=e.b,n=cy(0,r.cg);if(n.$)return As;var i,a=n.a;return a.d8?As:Ts((i=my(Gz(r.cg,1,a).cg),Or(t,r.fW,i)))})),v0=(kr(Vc,d0,h0),{$:7}),p0=gr((function(e,t){return Bd(t,e)})),b0=function(e,t,r){var n=Kc(p0(r),t);if(n.$)return eL("");var i=n.a;return kj(v0,As,qr([Nq(qr([Lo("display","flex"),Lo("align-items","center"),Lo("max-width","90%")]),rp(Nq(qr([Lo("max-height","92%"),Lo("overflow","auto")]),_c(e,i))))]))},g0=(mr(b0),function(e){return hH(qr([YB(!1)]),qr([xr(eG,e,e.dE.ft,0,Xi,e.dE.gS)]))}),m0=gr((function(e,t){var r=t.a,n=t.b,i=t.c;return kr(Vc,kr(f0,r,Xi),kr(Vc,Os(b0(BQ(r),n,i)),kr(Vc,Os(g0(r)),kr(Vc,(function(e){return bd(e,Tr(r.fM.d8,As)?qr([ZQ(BQ(r),i)]):_c((function(e){var t=e.a,n=e.b,i=e.c;return AB(_c(gL,VV(!0,r.fM.gV,t,n)),qr([eL(i)]))}),Wc(d0,h0,r.dE.eZ.aB)))}),WQ(e)))))})),$0=function(e,t,r){var n=r.dE.e2;if(1===n.$)return t||!e?Er(m0,e,Or(WV(KQ(r),r),r.dE.bu,r.dE.cw),r.dE.eu):kr(WQ,e,qr([g0(r)]));var i=n.a;return kr(WQ,e,qr([g0(r),eL(i)]))},y0=(mr($0),mr((function(e,t,r){var n=r.a,i=r.b;return To(Yy,$0(!Tr(e.gp,n),Ol(e.df,i.df),KV(e.gU,Ar(e.cQ,e.cP),e.dF,e.R,t,i,e.gp,e.fP)))}))),w0=Co(Eo,"small").a2,_0=function(e,t,r,n,i,a,o,s){return i?eL(""):Er(pF,"aside",qr([Kq(Wq,"lia-notes")]),_c((function(i){var u,c=i.a,l=i.b,f=i.c;return Lh(Qs(s)+"-/-"+Qs(l),Nq(qr([Kq(Wq,"lia-notes__content"+(c?" active":" hide-lg-down")),Kq(uF,c?"lia-notes-active":"")]),Pr(nL(qr([Kq(Wq,"hide-lg-down"),fj((u=l,{$:4,a:u})),bB("#")]),qr([w0(qr([Kq(Wq,"lia-notes__counter")]),qr([eL(Qs(l)+"/"+Qs(o.cq))]))])),Ol(Xi,td((function(i){var u=i.a,c=i.b;return _c((function(i){return To(kr(Vc,Uh(s),BW),GK(_c(gL,bd(i.em,VV(!1,Ts(n),l,u))),_c(WK(o.fy,e,t,r,Ts(n),Ts(a)),i.cg)))}),c)}),f)))))}),_c((function(e){return Or(Tr(e,u.d8),e,td((function(e){return Ar(e.fW,Ps(e.cg))}),Bd(e,u.aB)))}),hu(0,(u=o).cq))));var u},S0=(Sr(_0),function(e,t,r){return pj(new Ie(r.dM?"icon-stop-circle":"icon-play-circle",t&&r.dL?Ts({$:12,a:!r.dM}):As,r.dL,r.dM?function(e){switch(e){case 0:return"توقف";case 1:return"спрете";case 2:return"Stopp";case 3:return"parar";case 4:return"بس کن";case 5:return"դադարեցրեք";case 6:return"정지";case 7:return"stoppen";case 8:return"остановись";case 9:case 11:return"停止";case 10:return"зупинятися";default:return"stop"}}(e):function(e){switch(e){case 0:return"العب";case 1:return"играйте";case 2:return"Wiedergabe";case 3:return"jugar";case 4:return"بازی کن";case 5:return"Խաղացեք";case 6:return"재생";case 7:return"afspelen";case 8:return"играй";case 9:case 11:return"播放";case 10:return"грати";default:return"play"}}(e)),qr([Kq(uF,"lia-btn-sound"),Kq(Wq,"lia-btn--transparent lia-responsive-voice__play")]))}),C0=(mr(S0),SH({$:1})),k0=function(e,t){return pj(new Ie(t.dL?"icon-sound-on":"icon-sound-off",Ts(Zy(C0)),!0,t.dL?function(e){switch(e){case 0:return"الصوت مفعل";case 1:return"Звук изкл.";case 2:return"Sprecher an";case 3:return"Sonido encendido";case 4:return"صدا روشن";case 5:return"ձայնով";case 6:return"소리 켬";case 7:return"Luidspreker aan";case 8:return"звук включён";case 9:case 11:return"聲音開啟";case 10:return"увімкнений";default:return"Sound on"}}(e):function(e){switch(e){case 0:return"الصوت مقفل";case 1:return"Звук вкл.";case 2:return"Sprecher aus";case 3:return"Sonido apagado";case 4:return"صدا خاموش";case 5:return"առանց ձայն";case 6:return"소리 끔";case 7:return"Luidspreker uit";case 8:return"звук выключен";case 9:case 11:return"聲音關閉";case 10:return"вимкнений";default:return"Sound off"}}(e)),qr([Kq(uF,"lia-btn-sound"),Kq(Wq,"lia-btn--transparent")]))},E0=(gr(k0),function(e){switch(e){case 1:return"Използване на вътрешната машина за синтезиран говор на браузъра.";case 2:return"Verwendung der internen Text-zu-Speech-Engine des Browsers.";case 3:return"Usando el motor interno de conversión de texto a voz del navegador.";case 6:return"브라우저의 내부 텍스트 음성 변환 엔진을 사용합니다.";case 7:return"De interne tekst-naar-spraak-engine van de browser gebruiken.";case 8:return"Используя внутренний механизм преобразования текста в речь браузера.";case 9:case 11:return"使用浏览器的内部文本转语音引擎。";case 10:return"Використання внутрішньої системи синтезу мовлення у браузері.";default:return"Using the browser's internal Text-to-Speech engine."}}),R0=eL,x0=(kr(Vc,E0,R0),function(e){switch(e){case 1:return"Вашият браузър не поддържа Text-to-Speech, опитайте друг.";case 2:return"Ihr Browser unterstützt kein Text-to-Speech, versuchen Sie es mit einem anderen.";case 3:return"Tu navegador no es compatible con Text-to-Speech, prueba con otro.";case 6:return"당신의 브라우저는 Text-to-Speech를 지원하지 않습니다. 다른 것을 시도해 보세요.";case 7:return"Uw browser ondersteunt tekst-naar-spraak niet, probeer een andere.";case 8:return"Ваш браузер не поддерживает преобразование текста в речь, попробуйте другой.";case 9:case 11:return"您的浏览器不支持文本转语音，请换一个浏览器。";case 10:return"Ваш браузер не підтримує синтез мовлення з тексту, спробуйте інший.";default:return"Your browser does not support Text-to-Speech, try another one."}}),M0=eL,I0=(kr(Vc,x0,M0),qr([nL(qr([Kq(Wq,"lia-link"),bB("https://responsivevoice.org"),Kq(xF,"_blank")]),qr([eL("ResponsiveVoice-NonCommercial")])),eL(" licensed under "),nL(qr([bB("https://creativecommons.org/licenses/by-nc-nd/4.0/"),Kq(xF,"_blank")]),qr([SB(qr([Kq(EB,"ResponsiveVoice Text To Speech"),kB("https://responsivevoice.org/wp-content/uploads/2014/08/95x15.png"),Kq(lL,"95x15"),OK(95),sH(15)]),Xi)]))])),T0=function(e){var t,r=e.fA,n=e.dX,i=e.dG,a=e.b2;return w0(qr([Kq(Wq,"lia-responsive-voice__info notranslate"),vL("translate","no"),Lo("visibility",i?"visible":"hidden"),Lo("font-size",n?"65%":"80%")]),(t=Or(a.cM,a.cN,a.di)).a?t.b?t.c?qr([Wc(E0,R0,r)]):I0:qr([Wc(E0,R0,r)]):t.b?I0:qr([Wc(x0,M0,r)]))},A0=function(e,t,r,n){return UB(qr([fj(n),Kq(EB,e),Kq(Wq,"lia-btn lia-btn--icon lia-btn--transparent"),Kq(uF,t),YB(!0)]),qr([hj(qr([Dw(uj,cj,!0),Kq(Wq,"lia-btn__icon icon "+r)]),Xi)]))},O0=($r(A0),function(e,t,r,n){return Nq(qr([Kq(Wq,"lia-pagination")]),qr([Nq(qr([Kq(Wq,"lia-pagination__content")]),qr([A0(qJ(e),"lia-btn-next","icon-arrow-right",zy),AB(qr([Kq(Wq,"lia-pagination__current")]),qr([eL(Qs(r+1)),AB(qr([Kq(Wq,"font-400")]),qr([eL(2===t?"":(i=n).cq?" ("+Qs(i.d8)+"/"+Qs(i.cq)+")":"")]))])),A0(LJ(e),"lia-btn-prev","icon-arrow-left",Gy)]))]));var i}),D0=($r(O0),function(e,t,r,n,i){var a=r.dL&&!GQ(i.aB);return nH(qr([Kq(Wq,"lia-slide__footer")]),qr([O0(e,r.fS,n,i),2===r.fS?eL(""):Nq(qr([Kq(Wq,"lia-responsive-voice"),t?Lo("padding","0px"):Kq(Wq,"")]),qr([Nq(qr([Kq(Wq,"lia-responsive-voice__control")]),qr([S0(e,a,r),T0(new He(e,a,t,r.b2)),k0(e,r)]))]))]))}),P0=(yr(D0),function(e){return e.cU}),q0=kr(Vc,Fd("icon"),Dl(iH)),L0=(kr(Vc,P0,q0),function(e){switch(e){case 0:return"معلومات";case 1:return"Информация";case 2:return"Informationen";case 3:return"informaciones";case 4:return"اطلاعات";case 5:return"ինֆորմացիա";case 6:return"정보";case 7:return"Informatie";case 8:return"информация";case 9:case 11:return"關於";case 10:return"інформація";default:return"Information"}}),U0=eL,N0=kr(Vc,rp,EF(Xi)),B0=(kr(Vc,U0,N0),function(e){switch(e){case 0:return"مؤلف";case 1:return"Автор: ";case 2:return"Autor: ";case 3:return"Autor";case 4:return"نویسنده: ";case 5:return"հեղինակ: ";case 6:return"저자: ";case 7:return"Auteur: ";case 8:case 10:return"автор: ";case 9:case 11:return"作者: ";default:return"Author: "}}),F0=function(e){switch(e){case 0:return"التاريخ";case 1:return"Дата: ";case 2:case 7:return"Datum: ";case 3:return"fecha";case 4:return"تاریخ: ";case 5:return"ամսաթիվ: ";case 6:return"날짜: ";case 8:case 10:return"дата: ";case 9:case 11:return"日期: ";default:return"Date: "}},j0=function(e){switch(e){case 0:return"البريد الإلكتروني";case 1:default:return"eMail: ";case 2:return"e-Mail: ";case 3:return"email";case 4:return"ایمیل: ";case 5:return"էլ․ փոստ: ";case 6:return"메일: ";case 7:return"e-email: ";case 8:return"эл. почта: ";case 9:case 11:return"電郵: ";case 10:return"електронна пошта: "}},K0=function(e){switch(e){case 0:return"الإصدار: ";case 1:return"Версия: ";case 2:default:return"Version: ";case 3:return"versión";case 4:return"نسخه: ";case 5:return"տարբերակ: ";case 6:return"버전: ";case 7:return"Versie: ";case 8:return"версия: ";case 9:case 11:return"版本: ";case 10:return"версія: "}},H0=function(e){return kr(Vc,Sc(WK(Du,e,!1,!1,As,As)),kr(Vc,Uq(Xi),Yq(eh(TD))))},W0=gr((function(e,t){return To((function(e){return TD}),AB(Xi,qr([ZH,kr(H0,e,t)])))})),V0=function(e){return kr(Vc,Sc(W0(e)),Uq(Xi))},z0=function(e){return qr([Wc(U0,N0,"Repository: "),nL(qr([bB(e),Kq(xF,"_blank")]),qr([eL(e)]))])},G0=function(e,t,r,n){return _c(TB(Xi),$B(wB,!Tr(n.cf,Xi),qr([t?kr(H0,e,n.cf):eL("")]),$B(wB,""!==n.eo,qr([Wc(U0,N0,B0(e)),eL(n.eo)]),$B(wB,""!==n.e$,qr([Wc(U0,N0,j0(e)),nL(qr([bB(n.e$),Kq(Wq,"lia-link"),YB(t),Dw(uj,cj,!t)]),qr([eL(n.e$)]))]),$B(wB,""!==n.bd,qr([Wc(U0,N0,K0(e)),eL(n.bd)]),$B(wB,""!==n.eL,qr([Wc(U0,N0,F0(e)),eL(n.eL)]),$B(wB,!Tr(n.en,Xi),qr([Wc(U0,N0,"Attributes:"),jq(Xi,Xi),t?kr(V0,e,n.en):eL("")]),qr([function(){var e=Ar(Bd("repository",n.cU),r);if(e.a.$){if(e.b.$)return Xi;t=e.b.a;return z0(t)}var t=e.a.a;return z0(t)}()]))))))))},J0=($r(G0),yr((function(e,t,r,n,i){return qr([hj(qr([Kq(Wq,"icon icon-info hide-md-up"),Kq(EB,L0(r))]),Xi),FH(0,Tr(i.b5,Ts(0)),"icon-info",L0(r)),kr(GH,Tr(i.b5,Ts(0)),G0(r,n,e,t))])}))),Y0=function(e){switch(e){case 0:return"وضع العرض";case 1:return"Режим на презентация";case 2:return"Präsentationsmodus";case 3:return"Modo presentación";case 4:return"حالت ارائه";case 5:return"Ներկայացման ռեժիմ";case 6:return"프레젠테이션 모드";case 7:return"Presentatiemodus";case 8:return"режим презентации";case 9:case 11:return"简报模式";case 10:return"режим презентації";default:return"Presentation mode"}},Z0=function(e){return{$:5,a:e}},X0=function(e){switch(e){case 0:return"العرض";case 1:return"Презентация";case 2:return"Präsentation";case 3:return"Presentación";case 4:return"ارائه";case 5:return"ներկայացում";case 6:return"프레젠테이션";case 7:return"Presentatie";case 8:return"презентации";case 9:case 11:return"報告";case 10:return"презентація";default:return"Presentation"}},Q0=function(e){switch(e){case 0:return"الشرائح";case 1:return"Слайдове";case 2:return"Folien";case 3:return"Imagen";case 4:return"اسلایدها";case 5:return"սլայդներ";case 6:return"슬라이드";case 7:return"Folies";case 8:return"слайды";case 9:case 11:return"幻燈片";case 10:return"слайди";default:return"Slides"}},e1=function(e){switch(e){case 0:return"المقرر";case 1:return"Текст";case 2:return"Lehrbuch";case 3:return"Manual";case 4:return"کتاب";case 5:return"գիրք";case 6:return"텍스트 북";case 7:return"Studieboek";case 8:return"чтения";case 9:case 11:return"教科書";case 10:return"навчальна книга";default:return"Textbook"}},t1=function(e){switch(e){case 1:return X0;case 0:return Q0;default:return e1}},r1=function(e,t,r,n,i,a,o){return UB(qr([Kq(uF,i),Kq(Wq,"lia-btn lia-btn--transparent "+o),fj(Z0(r)),Cj(qr([rV(Z0(r))])),YB(t),Dw(uj,cj,!t),OH,Dw(WH,VH,Ts(Tr(r,n)))]),qr([hj(qr([Dw(uj,cj,!0),Kq(Wq,"lia-btn__icon icon "+a)]),Xi),AB(qr([Kq(Wq,"lia-btn__text")]),qr([eL(kr(t1,r,e))]))]))},n1=(_r(r1),function(e,t,r){return qr([r1(e,t,2,r.fS,"lia-mode-textbook","icon-book","mb-1"),r1(e,t,1,r.fS,"lia-mode-presentation","icon-presentation","mb-1"),r1(e,t,0,r.fS,"lia-mode-slides","icon-slides","")])}),i1=(mr(n1),mr((function(e,t,r){return qr([FH(3,Tr(r.b5,Ts(3)),function(){switch(r.fS){case 1:return"icon-presentation";case 0:return"icon-slides";default:return"icon-book"}}(),Y0(e)),kr(GH,Tr(r.b5,Ts(3)),n1(e,t,r))])}))),a1=function(e){switch(e){case 0:return"مشاركة";case 1:return"Споделяне";case 2:return"Teilen";case 3:return"compartir";case 4:return"اشتراک";case 5:return"կիսվել";case 6:return"공유";case 7:return"Delen";case 8:return"поделиться";case 9:case 11:return"分享";case 10:return"поділитися";default:return"Share"}},o1=function(e){switch(e){case 0:return"شارك عبر ...";case 1:return"споделете чрез ...";case 2:return"Teilen per ...";case 3:return"compartir via ...";case 4:return"اشتراک گذاری از طریق ...";case 5:return"տարածել միջոցով ...";case 6:return"공유하기";case 7:return"deel via ...";case 8:return"Отправить по ...";case 9:case 11:return"通过...分享";case 10:return"поділитися через ...";default:return"share via ..."}},s1=function(e){return e.R},u1=kr(Vc,(function(e){return e.dR}),kr(Vc,_f,Pd)),c1=(kr(Vc,s1,u1),function(e){switch(e.gy.$){case 2:return eL("Classroom");case 1:return AB(Xi,qr([eL("Classroom ("),vj("icon-person icon-sm",qr([Lo("padding-right","4px")])),eL(Qs(n_(e.a7))),eL(")")]));default:return eL("Classroom (pending)")}}),l1=yr((function(e,t,r,n,i){return qr([function(){var e=Ar(i.R,i.cC);if(1===e.a.$&&1===e.b.$){e.a,e.b;return pj(new Ie("icon-social",As,!1,a1(r)),qr([Kq(Wq,"lia-btn--transparent hide-md-down")]))}return FH(4,Tr(i.b5,Ts(4)),"icon-social",a1(r))}(),hj(qr([Kq(Wq,"icon icon-social hide-md-up"),Kq(EB,L0(r))]),Xi),kr(GH,Tr(i.b5,Ts(4)),qr([Tr(i.cC,As)?eL(""):cV(r,e),Tr(i.cC,Ts(!0))?Er(dj,new Ae(Ts((a=e,{$:7,a:a})),n,""),qr([Lo("width","100%"),Lo("justify-content","center")]),qr([QB(Xi,qr([eL(o1(r))]))])):eL(""),ZH,Wc(s1,u1,t)&&!Tr(i.R,As)?Er(dj,new Ae(Ts(SH(sV)),n,"Classroom"),Xi,qr([c1(t)])):eL("")]))]);var a})),f1=function(e){return yj(40,e)},d1=gr((function(e,t){return gd(qr([fj(Wc(NH,BH,e)),Cj(qr([wj(Wc(NH,BH,5)),f1(Wc(NH,BH,e))])),Kq(Wq,"lia-btn lia-btn--transparent hide-md-down"),xH,Dw(EH,RH,t)]))})),h1=function(e){switch(e){case 0:return"ترجمة";case 1:return"Транслации";case 2:return"Übersetzungen";case 3:return"traducciones";case 4:return"ترجمه ها";case 5:return"թարգմանություններ";case 6:return"번역";case 7:return"Vertalingen";case 8:return"на других языках";case 9:case 11:return"翻譯";case 10:return"переклади";default:return"Translations"}},v1={$:7},p1=function(e){switch(e){case 0:return"ترجمة من جوجل (تجريبي)";case 1:return"Превод с Google (експериментално)";case 2:return"Mit Google übersetzen (experimentell)";case 3:return"Traducir con Google (experimental)";case 4:return"ترجمه با Google (آزمایشی)";case 5:return"Թարգմանեք Google- ի միջոցով (փորձնական)";case 6:return"Google Translate로 번역하기 (실험적 기능)";case 7:return"Vertalen met Google (experimenteel)";case 8:return"Перевести с Google (экспериментально)";case 9:case 11:return"与Google进行翻译（实验性）";case 10:return"Перекласти за допомогою Google (експериментально)";default:return"Translate with Google (experimental)"}},b1=function(e,t,r){return r.$?Xi:r.a?qr([ZH,Nq(qr([Kq(uF,"google_translate_element")]),Xi)]):qr([ZH,QB(qr([Kq(Wq,"lia-label"),Dw(uj,cj,!t)]),qr([Vj(qr([Kq(eK,"checkbox"),Kq(Wq,"lia-checkbox"),CL(aK,!1),fj(SH(v1)),YB(t)]),Xi),eL(p1(e))]))])},g1=(mr(b1),gr((function(e,t){return kr(Vc,Us,kr(Vc,Sc((function(e){var r=e.a,n=e.b;return nL(qr([bB(n),Kq(Wq,"lia-link"),YB(t),Dw(uj,cj,!t)]),qr([eL(r),jq(Xi,Xi)]))})),Os(AB(qr([Kq(Wq,"lia-link active")]),qr([eL(uL(e))])))))}))),m1=yr((function(e,t,r,n,i){return qr([UB(Er(d1,1,Tr(i.b5,Ts(1)),qr([Kq(EB,h1(r)),dF(h1(r))])),qr([AB(qr([Kq(Wq,"notranslate"),vL("translate","no")]),qr([eL(KZ(e))]))])),kr(GH,Tr(i.b5,Ts(1)),(a=Er(g1,r,n,t.gU),bd(a,b1(r,n,i.d$))))]);var a})),$1=function(e,t,r,n,i,a,o,s){return To(Zy,qH(t,r,a,Wc(P0,q0,o),qr([Ar(i1,"mode"),Ar(OW(r.g0),"settings"),Ar(kr(m1,e,o),"lang"),Ar(kr(l1,n,s),"share"),Ar(kr(J0,i,o),"info")])))},y1=(Sr($1),function(e,t){var r=dw(t);if(r.$)return qr([Nq(qr([Kq(Wq,"lia-slide")]),qr([$1(t.cP,t.gU,e,t.d4,t.$7,t.dF,t.eR,t.R),eL("Ups, something went wrong")]))]);var n=r.a;return qr([Nq(qr([Kq(Wq,"lia-slide")]),qr([$1(t.cP,t.gU,e,t.d4,t.$7,t.dF,t.eR,t.R),Nq(qr([Kq(Wq,"lia-slide__container")]),_c(kr(y0,t,e),wI(t.bU))),D0(t.gU,e.g0<400,t.dF,t.gp,n.eZ)])),_0(t.gU,t.dF.fG,t.dF.dZ&&zi(e.g0,IW)>-1,Ar(t.cQ,t.cP),t.dF.fS,t.fP,n.eZ,t.gp),NV(t)])}),w1=(gr(y1),function(e,t,r){return Nq(function(e){return qr([Kq(Wq,"lia-canvas"),Kq(Wq,e.gJ?"lia-toc--visible":"lia-toc--hidden"),Kq(Wq,e.dS?"lia-support--visible":"lia-support--hidden"),Kq(Wq,function(){switch(e.fS){case 2:return"lia-mode--textbook";case 1:return"lia-mode--presentation";default:return"lia-mode--slides"}}())])}(r.dF),Pr(aV(t,r),y1(e,r)))}),_1=(mr(w1),qc(new Ve(sP,(function(e){return{$:6,a:e}}),(function(e){return{$:5,a:e}}),(function(e){return fP(qr([dP(uP),vo(G$,xP(e.bF)),vo(cP,(t=lP,SP(1,"resize",qa("target",Fa(t,qa("innerWidth",Lf),qa("innerHeight",Lf))))))]));var t}),Lq,(function(e){return new We(function(){switch(e.gy.$){case 3:default:return qr([To(G$,w1(e.bb.dC,e.by,e.bF))]);case 0:return qr([To(IP,UW(e.bb,e.bF.dF,e.cI))]);case 1:return qr([Nq(Bq,qr([Gq(Xi,qr([eL("Loading")])),jq(Xi,Xi),Nq(qr([Kq(Wq,"lds-dual-ring")]),Xi)]))]);case 2:var t=ic(Ol("",e.eB));return qr([Nq(Bq,qr([Gq(Xi,qr([eL("Parsing : "+Sa(0,5,Vq(100-t/e.gu*100))+"%")])),jq(Xi,Xi),Xq(qr([Lo("width","70%"),Kq("max","100"),Kq(tL,Sa(0,5,Vq(100-t/e.gu*100)))]),Xi)]))])}}(),e.bF.gS)}))));u0={Main:{init:_1(Na((function(e){return Na((function(t){return Na((function(r){return Na((function(n){return Na((function(i){return Na((function(a){return Na((function(o){return Zu(new ze(o,a,i,n,r,t,e))}),qa("courseUrl",Uf(qr([QR(As),Ba(Ts,jl)]))))}),qa("hasIndex",Lc))}),qa("hasShareAPI",Lc))}),qa("screen",Na((function(e){return Na((function(t){return Zu(new ge(t,e))}),qa("height",Lf))}),qa("width",Lf))))}),qa("script",Uf(qr([QR(As),Ba(Ts,jl)]))))}),qa("settings",gx))}),qa("sync",Na((function(e){return Na((function(t){return Zu({e0:t,dR:e})}),qa("enabled",Lc))}),qa("support",yx(jl))))))(0)}},e.Elm?wo(e.Elm,u0):e.Elm=u0}($308c98e140179bd1$exports);var $5rPeW=parcelRequire("5rPeW");parcelRequire("l57ul");var $bIpgX=parcelRequire("bIpgX"),$5rPeW=parcelRequire("5rPeW"),$2e736b5ac4df0287$var$Service={PORT:"console",handle:function(e){switch(e.message.cmd){case"log":$5rPeW.default.info(e.message.param);break;case"warn":$5rPeW.default.warn(e.message.param);break;case"error":$5rPeW.default.error(e.message.param);break;default:$5rPeW.default.warn("(Service ",this.PORT,") unknown message =>",e.message)}}},$2e736b5ac4df0287$export$2e2bcd8739ae039=$2e736b5ac4df0287$var$Service,$3mpD3=parcelRequire("3mpD3"),$gUJ6q=parcelRequire("gUJ6q"),$cDTRq=parcelRequire("cDTRq"),$5rPeW=parcelRequire("5rPeW"),$buw1Y=parcelRequire("buw1Y"),$5rPeW=parcelRequire("5rPeW"),$gUJ6q=parcelRequire("gUJ6q");function $824e3152da65e740$export$2e2bcd8739ae039(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function $a0f69fc40ffc46b8$export$2e2bcd8739ae039(e,t){if(null==e)return{};var r,n,i=$824e3152da65e740$export$2e2bcd8739ae039(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $dVhHy=parcelRequire("dVhHy"),$a4fa2e847a80e07d$var$EasySpeech={},$a4fa2e847a80e07d$var$scope="undefined"==typeof globalThis?window:globalThis,$a4fa2e847a80e07d$var$internal={status:"created"},$a4fa2e847a80e07d$var$patches={};$a4fa2e847a80e07d$var$EasySpeech.debug=function(e){$a4fa2e847a80e07d$var$debug="function"==typeof e?e:function(){}};var $a4fa2e847a80e07d$var$debug=function(){};$a4fa2e847a80e07d$var$EasySpeech.detect=function(){return $a4fa2e847a80e07d$var$detectFeatures()};var $a4fa2e847a80e07d$var$detectFeatures=function(){var e={};["speechSynthesis","speechSynthesisUtterance","speechSynthesisVoice","speechSynthesisEvent","speechSynthesisErrorEvent"].forEach((function(t){e[t]=$a4fa2e847a80e07d$var$detect(t)})),e.onvoiceschanged=$a4fa2e847a80e07d$var$hasProperty(e.speechSynthesis,"onvoiceschanged");var t=$a4fa2e847a80e07d$var$hasProperty(e.speechSynthesisUtterance,"prototype");return $a4fa2e847a80e07d$var$utteranceEvents.forEach((function(r){var n="on".concat(r);e[n]=t&&$a4fa2e847a80e07d$var$hasProperty(e.speechSynthesisUtterance.prototype,n)})),$a4fa2e847a80e07d$var$patches.isAndroid=$a4fa2e847a80e07d$var$isAndroid(),$a4fa2e847a80e07d$var$patches.isFirefox=$a4fa2e847a80e07d$var$isFirefox()||$a4fa2e847a80e07d$var$isKaiOS(),$a4fa2e847a80e07d$var$patches.isSafari=$a4fa2e847a80e07d$var$isSafari(),$a4fa2e847a80e07d$var$debug("is android: ".concat(!!$a4fa2e847a80e07d$var$patches.isAndroid)),$a4fa2e847a80e07d$var$debug("is firefox: ".concat(!!$a4fa2e847a80e07d$var$patches.isFirefox)),$a4fa2e847a80e07d$var$debug("is safari: ".concat(!!$a4fa2e847a80e07d$var$patches.isSafari)),e},$a4fa2e847a80e07d$var$hasProperty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.hasOwnProperty.call(e,t)||t in e||!!e[t]},$a4fa2e847a80e07d$var$isAndroid=function(){var e=($a4fa2e847a80e07d$var$scope.navigator||{}).userAgent||"";return/android/i.test(e)},$a4fa2e847a80e07d$var$isKaiOS=function(){var e=($a4fa2e847a80e07d$var$scope.navigator||{}).userAgent||"";return/kaios/i.test(e)},$a4fa2e847a80e07d$var$isFirefox=function(){return void 0!==$a4fa2e847a80e07d$var$scope.InstallTrigger},$a4fa2e847a80e07d$var$isSafari=function(){return void 0!==$a4fa2e847a80e07d$var$scope.GestureEvent},$a4fa2e847a80e07d$var$prefixes=["webKit","moz","ms","o"],$a4fa2e847a80e07d$var$capital=function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},$a4fa2e847a80e07d$var$detect=function(e){var t=$a4fa2e847a80e07d$var$capital(e),r=$a4fa2e847a80e07d$var$prefixes.map((function(e){return"".concat(e).concat(t)})),n=[e,t].concat(r).find($a4fa2e847a80e07d$var$inGlobalScope);return $a4fa2e847a80e07d$var$scope[n]},$a4fa2e847a80e07d$var$inGlobalScope=function(e){return $a4fa2e847a80e07d$var$scope[e]};$a4fa2e847a80e07d$var$EasySpeech.status=function(){return(0,$gUJ6q.default)({},$a4fa2e847a80e07d$var$internal)};var $a4fa2e847a80e07d$var$status=function(e){$a4fa2e847a80e07d$var$debug(e),$a4fa2e847a80e07d$var$internal.status=e};$a4fa2e847a80e07d$var$EasySpeech.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxTimeout,r=void 0===t?5e3:t,n=e.interval,i=void 0===n?250:n;return new Promise((function(e,t){if($a4fa2e847a80e07d$var$internal.initialized)return e(!1);var n,a;$a4fa2e847a80e07d$var$EasySpeech.reset(),$a4fa2e847a80e07d$var$status("init: start");var o=!1,s=function(e){return $a4fa2e847a80e07d$var$status("init: failed (".concat(e,")")),clearInterval(n),$a4fa2e847a80e07d$var$internal.initialized=!1,t(new Error("EasySpeech: ".concat(e)))},u=function(){if(!o)return $a4fa2e847a80e07d$var$status("init: complete"),o=!0,$a4fa2e847a80e07d$var$internal.initialized=!0,clearInterval(n),l.onvoiceschanged=null,a&&l.removeEventListener("voiceschanged",a),e(!0)},c=$a4fa2e847a80e07d$var$detectFeatures();if(!(!!c.speechSynthesis&&!!c.speechSynthesisUtterance))return s("browser misses features");Object.keys(c).forEach((function(e){$a4fa2e847a80e07d$var$internal[e]=c[e]}));var l=$a4fa2e847a80e07d$var$internal.speechSynthesis,f=function(){var e=l.getVoices()||[];if(e.length>0){if($a4fa2e847a80e07d$var$internal.voices=e,$a4fa2e847a80e07d$var$status("voices loaded: ".concat(e.length)),$a4fa2e847a80e07d$var$internal.defaultVoice=e.find((function(e){return e.default})),!$a4fa2e847a80e07d$var$internal.defaultVoice){var t=(($a4fa2e847a80e07d$var$scope.navigator||{}).language||"").split("-")[0];$a4fa2e847a80e07d$var$internal.defaultVoice=e.find((function(e){return e.lang&&(e.lang.indexOf("".concat(t,"-"))>-1||e.lang.indexOf("".concat(t,"_"))>-1)}))}return $a4fa2e847a80e07d$var$internal.defaultVoice||($a4fa2e847a80e07d$var$internal.defaultVoice=e[0]),!0}return!1};if($a4fa2e847a80e07d$var$status("init: voices"),f())return u();var d=function(){$a4fa2e847a80e07d$var$status("init: voices (timer)");var e=0;n=setInterval((function(){return f()?u():e>r?s("browser has no voices (timeout)"):void(e+=i)}),i)};c.onvoiceschanged?($a4fa2e847a80e07d$var$status("init: voices (onvoiceschanged)"),l.onvoiceschanged=function(){return f()?u():d()},setTimeout((function(){return f()?u():s("browser has no voices (timeout)")}),r)):($a4fa2e847a80e07d$var$hasProperty(l,"addEventListener")&&($a4fa2e847a80e07d$var$status("init: voices (addEventListener)"),a=function(){if(f())return u()},l.addEventListener("voiceschanged",a)),d())}))};var $a4fa2e847a80e07d$var$ensureInit=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force;if(!e&&!$a4fa2e847a80e07d$var$internal.initialized)throw new Error("EasySpeech: not initialized. Run EasySpeech.init() first")};$a4fa2e847a80e07d$var$EasySpeech.voices=function(){return $a4fa2e847a80e07d$var$ensureInit(),$a4fa2e847a80e07d$var$internal.voices},$a4fa2e847a80e07d$var$EasySpeech.on=function(e){return $a4fa2e847a80e07d$var$ensureInit(),$a4fa2e847a80e07d$var$utteranceEvents.forEach((function(t){var r=e[t];$a4fa2e847a80e07d$var$validate.handler(r)&&($a4fa2e847a80e07d$var$internal.handlers[t]=r)})),(0,$gUJ6q.default)({},$a4fa2e847a80e07d$var$internal.handlers)};var $a4fa2e847a80e07d$var$utteranceEvents=["boundary","end","error","mark","pause","resume","start"],$a4fa2e847a80e07d$var$validate={isNumber:function(e){return"number"==typeof e&&!Number.isNaN(e)},pitch:function(e){return $a4fa2e847a80e07d$var$validate.isNumber(e)&&e>=0&&e<=2},volume:function(e){return $a4fa2e847a80e07d$var$validate.isNumber(e)&&e>=0&&e<=1},rate:function(e){return $a4fa2e847a80e07d$var$validate.isNumber(e)&&e>=.1&&e<=10},text:function(e){return"string"==typeof e},handler:function(e){return"function"==typeof e},voice:function(e){return e&&e.lang&&e.name&&e.voiceURI}};$a4fa2e847a80e07d$var$EasySpeech.defaults=function(e){return $a4fa2e847a80e07d$var$ensureInit(),e&&($a4fa2e847a80e07d$var$internal.defaults=$a4fa2e847a80e07d$var$internal.defaults||{},["voice","pitch","rate","volume"].forEach((function(t){var r=e[t];(0,$a4fa2e847a80e07d$var$validate[t])(r)&&($a4fa2e847a80e07d$var$internal.defaults[t]=r)}))),(0,$gUJ6q.default)({},$a4fa2e847a80e07d$var$internal.defaults)};var $a4fa2e847a80e07d$var$getCurrentVoice=function(e){var t,r;return e||(null===(t=$a4fa2e847a80e07d$var$internal.defaults)||void 0===t?void 0:t.voice)||$a4fa2e847a80e07d$var$internal.defaultVoice||(null===(r=$a4fa2e847a80e07d$var$internal.voices)||void 0===r?void 0:r[0])},$a4fa2e847a80e07d$var$createUtterance=function(e){return new(0,$a4fa2e847a80e07d$var$internal.speechSynthesisUtterance)(e)},$a4fa2e847a80e07d$var$_tmp;$a4fa2e847a80e07d$var$_tmp=function(e){var t=e.text,r=e.voice,n=e.pitch,i=e.rate,a=e.volume,o=e.force,s=$a0f69fc40ffc46b8$export$2e2bcd8739ae039(e,["text","voice","pitch","rate","volume","force"]);if($a4fa2e847a80e07d$var$ensureInit({force:o}),!$a4fa2e847a80e07d$var$validate.text(t))throw new Error("EasySpeech: at least some valid text is required to speak");var u=function(e){var t,r=(0,$dVhHy.default)(Object.entries(e)[0],2),n=r[0],i=r[1];return $a4fa2e847a80e07d$var$validate[n](i)?i:null===(t=$a4fa2e847a80e07d$var$internal.defaults)||void 0===t?void 0:t[n]};return new Promise((function(e,o){$a4fa2e847a80e07d$var$status("init speak");var c=$a4fa2e847a80e07d$var$createUtterance(t),l=$a4fa2e847a80e07d$var$getCurrentVoice(r);l&&(c.voice=l,c.lang=l.lang,c.voiceURI=l.voiceURI),c.text=t,c.pitch=u({pitch:n}),c.rate=u({rate:i}),c.volume=u({volume:a}),$a4fa2e847a80e07d$var$debugUtterance(c),$a4fa2e847a80e07d$var$utteranceEvents.forEach((function(e){var t,r=s[e];$a4fa2e847a80e07d$var$validate.handler(r)&&c.addEventListener(e,r),(null===(t=$a4fa2e847a80e07d$var$internal.handlers)||void 0===t?void 0:t[e])&&c.addEventListener(e,$a4fa2e847a80e07d$var$internal.handlers[e])})),c.addEventListener("start",(function(){$a4fa2e847a80e07d$var$patches.paused=!1,$a4fa2e847a80e07d$var$patches.speaking=!0,$a4fa2e847a80e07d$var$patches.isFirefox||$a4fa2e847a80e07d$var$patches.isSafari||!0===$a4fa2e847a80e07d$var$patches.isAndroid||$a4fa2e847a80e07d$var$resumeInfinity(c)})),c.addEventListener("end",(function(t){$a4fa2e847a80e07d$var$status("speak complete"),$a4fa2e847a80e07d$var$patches.paused=!1,$a4fa2e847a80e07d$var$patches.speaking=!1,clearTimeout($a4fa2e847a80e07d$var$timeoutResumeInfinity),e(t)})),c.addEventListener("error",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$a4fa2e847a80e07d$var$status("speak failed: ".concat(e.message)),$a4fa2e847a80e07d$var$patches.paused=!1,$a4fa2e847a80e07d$var$patches.speaking=!1,clearTimeout($a4fa2e847a80e07d$var$timeoutResumeInfinity),o(e)})),clearTimeout($a4fa2e847a80e07d$var$timeoutResumeInfinity),$a4fa2e847a80e07d$var$internal.speechSynthesis.cancel(),setTimeout((function(){$a4fa2e847a80e07d$var$internal.speechSynthesis.speak(c)}),10)}))},$a4fa2e847a80e07d$var$EasySpeech.speak=$a4fa2e847a80e07d$var$_tmp;var $a4fa2e847a80e07d$var$debugUtterance=function(e){var t=e.voice,r=e.pitch,n=e.rate,i=e.volume;$a4fa2e847a80e07d$var$debug("utterance: voice=".concat(null==t?void 0:t.name," volume=").concat(i," rate=").concat(n," pitch=").concat(r))},$a4fa2e847a80e07d$var$timeoutResumeInfinity;function $a4fa2e847a80e07d$var$resumeInfinity(e){if(!e&&$a4fa2e847a80e07d$var$timeoutResumeInfinity)return $a4fa2e847a80e07d$var$debug("force-clear timeout"),$a4fa2e847a80e07d$var$scope.clearTimeout($a4fa2e847a80e07d$var$timeoutResumeInfinity);var t=$a4fa2e847a80e07d$var$internal.speechSynthesis,r=t.paused,n=t.speaking||$a4fa2e847a80e07d$var$patches.speaking,i=r||$a4fa2e847a80e07d$var$patches.paused;$a4fa2e847a80e07d$var$debug("resumeInfinity isSpeaking=".concat(n," isPaused=").concat(i)),n&&!i&&($a4fa2e847a80e07d$var$internal.speechSynthesis.pause(),$a4fa2e847a80e07d$var$internal.speechSynthesis.resume()),$a4fa2e847a80e07d$var$timeoutResumeInfinity=$a4fa2e847a80e07d$var$scope.setTimeout((function(){$a4fa2e847a80e07d$var$resumeInfinity(e)}),5e3)}$a4fa2e847a80e07d$var$EasySpeech.cancel=function(){$a4fa2e847a80e07d$var$ensureInit(),$a4fa2e847a80e07d$var$status("cancelling"),$a4fa2e847a80e07d$var$internal.speechSynthesis.cancel(),$a4fa2e847a80e07d$var$patches.paused=!1,$a4fa2e847a80e07d$var$patches.speaking=!1},$a4fa2e847a80e07d$var$EasySpeech.resume=function(){$a4fa2e847a80e07d$var$ensureInit(),$a4fa2e847a80e07d$var$status("resuming"),$a4fa2e847a80e07d$var$patches.paused=!1,$a4fa2e847a80e07d$var$patches.speaking=!0,$a4fa2e847a80e07d$var$internal.speechSynthesis.resume()},$a4fa2e847a80e07d$var$EasySpeech.pause=function(){if($a4fa2e847a80e07d$var$ensureInit(),$a4fa2e847a80e07d$var$status("pausing"),$a4fa2e847a80e07d$var$patches.isAndroid)return $a4fa2e847a80e07d$var$debug("patch pause on Android with cancel"),$a4fa2e847a80e07d$var$internal.speechSynthesis.cancel();$a4fa2e847a80e07d$var$internal.speechSynthesis.pause(),$a4fa2e847a80e07d$var$patches.paused=!0,$a4fa2e847a80e07d$var$patches.speaking=!1},$a4fa2e847a80e07d$var$EasySpeech.reset=function(){Object.assign($a4fa2e847a80e07d$var$internal,{status:"reset",initialized:!1,speechSynthesis:null,speechSynthesisUtterance:null,speechSynthesisVoice:null,speechSynthesisEvent:null,speechSynthesisErrorEvent:null,voices:null,defaultVoice:null,defaults:{pitch:1,rate:1,volume:1,voice:null},handlers:{}})};var $a4fa2e847a80e07d$export$2e2bcd8739ae039=$a4fa2e847a80e07d$var$EasySpeech,$5438ec9bf7654126$var$Gender,Gender;Gender=$5438ec9bf7654126$var$Gender||($5438ec9bf7654126$var$Gender={}),Gender[Gender.Female=0]="Female",Gender[Gender.Male=1]="Male",Gender[Gender.Unknown=2]="Unknown";var $5438ec9bf7654126$var$useBrowserTTS=!1,$5438ec9bf7654126$var$browserVoices={},$5438ec9bf7654126$var$firstSpeak=!0,$5438ec9bf7654126$var$elmSend,$5438ec9bf7654126$var$SETTINGS="settings",$5438ec9bf7654126$export$8b2af884909d32a5={PORT:"tts",easySpeechSettings:null,init:function(e){$5438ec9bf7654126$var$elmSend=e,setTimeout((function(){$5438ec9bf7654126$var$firstSpeak=!1,window.responsiveVoice&&$5438ec9bf7654126$var$sendEnabledTTS("responsiveVoiceTTS"),window.LIA.playback=function(e){$5438ec9bf7654126$var$playback(e)}}),2e3),this.easySpeechSettings=$a4fa2e847a80e07d$export$2e2bcd8739ae039.detect(),$a4fa2e847a80e07d$export$2e2bcd8739ae039.init().then((function(e){$5438ec9bf7654126$var$useBrowserTTS=!0,$5438ec9bf7654126$var$sendEnabledTTS("browserTTS")})).catch((function(e){console.warn(e)}))},mute:function(){$5438ec9bf7654126$var$cancel()},handle:function(e){switch(e.message.cmd){case"cancel":$5438ec9bf7654126$var$cancel(),e.message.cmd="stop",e.message.param=null,$5438ec9bf7654126$var$sendReply(e);break;case"read":1==e.track.length&&"effect"===e.track[0][0]&&(e.track[0][0]=$5438ec9bf7654126$var$SETTINGS);var t=$5438ec9bf7654126$var$firstSpeak||e.message.param.endsWith("0")?2e3:500;setTimeout((function(){$5438ec9bf7654126$var$read(e)}),t);break;case"playback":$5438ec9bf7654126$var$playback(e);break;case"browserTTS":$5438ec9bf7654126$var$useBrowserTTS=!!e.message.param;break;default:$5rPeW.default.warn("(Service TTS) unknown message =>",e)}}};function $5438ec9bf7654126$var$playback(e){console.warn("playback",e),$5438ec9bf7654126$var$speak(e.message.param.text,e.message.param.voice,e.message.param.lang,e)}function $5438ec9bf7654126$var$read(e){var t=document.getElementsByClassName(e.message.param);if(t.length){for(var r=t[0].getAttribute("data-voice")||"default",n=t[0].getAttribute("data-lang")||"en",i="",a=0;a<t.length;a++)i+=t[a].innerText||t[a].textContent;""!==(i=i.replace(/\\u001a\\d+\\u001a/g,"").trim())&&t[0]&&$5438ec9bf7654126$var$speak(i,r,n,e)}}function $5438ec9bf7654126$var$sendReply(e){$5438ec9bf7654126$var$elmSend&&$5438ec9bf7654126$var$elmSend(e)}function $5438ec9bf7654126$var$sendEnabledTTS(e){$5438ec9bf7654126$var$sendReply({reply:!0,track:[[$5438ec9bf7654126$var$SETTINGS,0]],service:"tts",message:{cmd:e,param:!0}})}function $5438ec9bf7654126$export$a976684a0efeb93f(e){"string"==typeof e&&($5438ec9bf7654126$var$useBrowserTTS=!1,setTimeout((function(){var t=document.createElement("script");t.src="https://code.responsivevoice.org/responsivevoice.js?key="+e,t.async=!0,t.defer=!0,document.head.appendChild(t),t.onload=function(){window.responsiveVoice.init(),$5438ec9bf7654126$var$sendEnabledTTS("responsiveVoiceTTS")}}),250))}function $5438ec9bf7654126$var$cancel(){try{$a4fa2e847a80e07d$export$2e2bcd8739ae039.cancel()}catch(e){}window.responsiveVoice&&window.responsiveVoice.cancel()}function $5438ec9bf7654126$var$speak(e,t,r,n){if($5438ec9bf7654126$var$useBrowserTTS){var i=$5438ec9bf7654126$var$getVoice(r,t);if(i)$5438ec9bf7654126$var$easySpeak(e,i,n);else if(window.responsiveVoice)$5438ec9bf7654126$var$responsiveSpeak(e,t,n);else{var a=$5438ec9bf7654126$var$getDefaultVoice();a?($5438ec9bf7654126$var$browserVoices[$5438ec9bf7654126$var$toKey(r,t)]=a,$5438ec9bf7654126$var$easySpeak(e,a,n)):(n.message.cmd="ERROR",n.message.param="no TTS support",$5438ec9bf7654126$var$sendReply(n))}}else window.responsiveVoice&&$5438ec9bf7654126$var$responsiveSpeak(e,t,n)}function $5438ec9bf7654126$var$easySpeak(e,t,r){$a4fa2e847a80e07d$export$2e2bcd8739ae039.speak({text:e,voice:t,start:function(){r.message.cmd="start",r.message.param="browser",$5438ec9bf7654126$var$sendReply(r)},end:function(){r.message.cmd="stop",r.message.param="browser",$5438ec9bf7654126$var$sendReply(r)},error:function(e){r.message.cmd="error",r.message.param=e.toString(),$5438ec9bf7654126$var$sendReply(r),console.warn("TTS playback failed:",e.toString())}})}function $5438ec9bf7654126$var$responsiveSpeak(e,t,r){window.responsiveVoice&&window.responsiveVoice.speak(e,t,{onstart:function(){r.message.cmd="start",r.message.param="browser",$5438ec9bf7654126$var$sendReply(r)},onend:function(){r.message.cmd="stop",r.message.param="browser",$5438ec9bf7654126$var$sendReply(r)},onerror:function(e){r.message.cmd="error",r.message.param=e.toString(),$5438ec9bf7654126$var$sendReply(r),console.warn("TTS playback failed:",e.toString())}})}function $5438ec9bf7654126$var$getDefaultVoice(){var e=$a4fa2e847a80e07d$export$2e2bcd8739ae039.voices();return e?e[0]:null}function $5438ec9bf7654126$var$toKey(e,t){return e+" - "+t}function $5438ec9bf7654126$var$getVoice(e,t){var r=$5438ec9bf7654126$var$toKey(e,t);if($5438ec9bf7654126$var$browserVoices[r])return $5438ec9bf7654126$var$browserVoices[r];var n=$a4fa2e847a80e07d$export$2e2bcd8739ae039.voices();if(!n)return null;for(var i,a,o=$5438ec9bf7654126$var$detectGender(t),s=0;s<n.length;s++){if((i=n[s]).lang.startsWith(e)&&o===$5438ec9bf7654126$var$detectGender(i.name+i.voiceURI)){a=i;break}i.lang.startsWith(e)&&!a&&(a=i)}return a?($5438ec9bf7654126$var$browserVoices[r]=a,a):null}function $5438ec9bf7654126$var$detectGender(e){return e.match(/female/i)?$5438ec9bf7654126$var$Gender.Female:e.match(/male/i)?$5438ec9bf7654126$var$Gender.Male:$5438ec9bf7654126$var$Gender.Unknown}var $5438ec9bf7654126$export$2e2bcd8739ae039=$5438ec9bf7654126$export$8b2af884909d32a5,$2h8PU=parcelRequire("2h8PU"),$05cc80557492520c$var$connector=null,$05cc80557492520c$var$elmSend,$05cc80557492520c$var$Service={PORT:"db",init:function(e,t){$05cc80557492520c$var$connector=t,($05cc80557492520c$var$elmSend=e)({reply:!0,track:[[$buw1Y.Settings.PORT,-1]],service:this.PORT,message:{cmd:"init",param:$05cc80557492520c$var$connector.initSettings($05cc80557492520c$var$connector.getSettings(),!1)}})},handle:(_ref=(0,$3mpD3.default)((function(e){var t,r,n,i,a,o,s,u,c;return(0,$cDTRq.__generator)(this,(function(l){switch(l.label){case 0:if(!$05cc80557492520c$var$connector)return[2];switch(t=e.message.param,e.message.cmd){case"load":return[3,1];case"store":return[3,3];case"update":return[3,4];case"index_get":return[3,5];case"index_list":return[3,7];case"index_reset":return[3,9];case"index_delete":return[3,10];case"index_restore":return[3,11];case"index_store":return[3,13];case"settings":return[3,14]}return[3,15];case 1:return r=e.message,[4,$05cc80557492520c$var$connector.load(t)];case 2:return r.param=l.sent(),$05cc80557492520c$var$sendReply(e),[3,16];case 3:return $05cc80557492520c$var$connector.store(t),[3,16];case 4:return $05cc80557492520c$var$connector.update({table:t.table,id:t.id},$05cc80557492520c$var$transaction(t.data)),[3,16];case 5:return n=e.message,[4,$05cc80557492520c$var$connector.getFromIndex(t)];case 6:return n.param=l.sent()||{id:t},$05cc80557492520c$var$sendReply(e),[3,16];case 7:try{$5438ec9bf7654126$export$2e2bcd8739ae039.mute()}catch(e){}return i=e.message,[4,$05cc80557492520c$var$connector.getIndex()];case 8:return i.param=l.sent(),$05cc80557492520c$var$sendReply(e),[3,16];case 9:return $05cc80557492520c$var$connector.reset(t.url,t.version),[3,16];case 10:return $05cc80557492520c$var$connector.deleteFromIndex(t),[3,16];case 11:return a=e.message,[4,$05cc80557492520c$var$connector.restoreFromIndex(t.url,t.version)];case 12:return a.param=l.sent(),$05cc80557492520c$var$sendReply(e),[3,16];case 13:o=!0;try{o=!("false"===t.definition.macro.persistent.trim().toLowerCase())}catch(e){}if(o&&$05cc80557492520c$var$connector.open(t.readme,t.version,t.section_active),""!==t.definition.onload)try{$2h8PU.default.exec(t.definition.onload,350)}catch(e){console.warn("could not execute onload script",e)}if(document.documentElement.lang=t.definition.language,$05cc80557492520c$var$meta("author",t.definition.author),$05cc80557492520c$var$meta("og:description",t.comment),$05cc80557492520c$var$meta("og:title",t.str_title),$05cc80557492520c$var$meta("og:type","website"),$05cc80557492520c$var$meta("og:url",""),$05cc80557492520c$var$meta("og:image",t.definition.logo),o&&$05cc80557492520c$var$connector.storeToIndex(t),window.LIA.onReady)window.LIA.onReady(t.definition);else try{window.parent.liaReady(t.definition)}catch(e){console.log("no parent frame to send readiness")}if(t.definition.macro.font)try{(s=document.querySelector(":root"))&&(u=getComputedStyle(s),["family","mono","headline"].forEach((function(e){var r="--global-font-"+e;s.style.setProperty(r,u.getPropertyValue(r)+","+t.definition.macro.font)})))}catch(e){console.warn("could not load font")}return[3,16];case 14:try{$buw1Y.Settings.updateClassName(e.message.param.config),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),333),c=document.getElementById("lia-custom-style"),"string"==typeof e.message.param.custom?(null==c&&((c=document.createElement("style")).id="lia-custom-style",document.head.appendChild(c)),c.innerHTML=":root {"+e.message.param.custom+"}"):null!==c&&(c.innerHTML="")}catch(e){$5rPeW.default.warn("DB: settings => ",e.message)}return $05cc80557492520c$var$connector.setSettings(e.message.param.config),[3,16];case 15:$5rPeW.default.warn("(Service ",this.PORT,") unknown message =>",e.message),l.label=16;case 16:return[2]}}))})),function(e){return _ref.apply(this,arguments)})},_ref;function $05cc80557492520c$var$transaction(e){switch(e.cmd){case"version":return function(t){return t[e.id].version_active=e.data.version_active,t[e.id].log=e.data.log,t[e.id].version[e.data.version_active]=e.data.version,t};case"append":return function(t){return t[e.id].version_active=e.data.version_active,t[e.id].log=e.data.log,t[e.id].file=e.data.file,t[e.id].version.push(e.data.version),t[e.id].repository=(0,$gUJ6q.default)({},t[e.id].repository,e.data.repository),t};case"active":return function(t){return t[e.id].version_active=e.data.version_active,t[e.id].log=e.data.log,t[e.id].file=e.data.file,t};case"flip_view":return function(t){return t[e.id].file[e.data.file_id].visible=e.data.value,t};case"flip_fullscreen":return function(t){return t[e.id].file[e.data.file_id].fullscreen=e.data.value,t};default:return $5rPeW.default.warn("unknown update cmd: ",e.cmd),function(e){return e}}}function $05cc80557492520c$var$meta(e,t){if(""!==t){var r=document.createElement("meta");r.name=e,r.content=t,document.getElementsByTagName("head")[0].appendChild(r)}}function $05cc80557492520c$var$sendReply(e){$05cc80557492520c$var$elmSend&&$05cc80557492520c$var$elmSend(e)}var $05cc80557492520c$export$2e2bcd8739ae039=$05cc80557492520c$var$Service,$5rPeW=parcelRequire("5rPeW"),$d3683f1f6d118d2a$export$8b2af884909d32a5={PORT:"resource",handle:function(e){switch(e.message.cmd){case"script":$d3683f1f6d118d2a$export$2cb99e4be0dc4646(e.message.param,!0);break;case"link":$d3683f1f6d118d2a$var$loadLink(e.message.param);break;default:$5rPeW.default.warn("(Service ",this.PORT,") unknown message =>",e.message)}}};function $d3683f1f6d118d2a$var$origin(e){var t=e.match(/.*?:\/\/[^\/]*/);return t&&t.length>0?t[0]:null}function $d3683f1f6d118d2a$export$2cb99e4be0dc4646(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.startsWith("blob:")||$d3683f1f6d118d2a$var$origin(e)!==window.location.origin)try{var r=document.createElement("script");r.src=e,r.async=!1,r.defer=!0,r.type="text/javascript",t&&(window.LIA.eventSemaphore++,r.onload=function(){window.LIA.eventSemaphore--,$5rPeW.default.info("successfully loaded =>",e)},r.onerror=function(t){window.LIA.eventSemaphore--,console.warn("could not load =>",e)}),document.head.appendChild(r)}catch(r){$5rPeW.default.warn("failed loading script => ",r),$d3683f1f6d118d2a$var$loadScriptAsBlob(e,t)}else $d3683f1f6d118d2a$var$loadScriptAsBlob(e,t)}function $d3683f1f6d118d2a$var$loadScriptAsBlob(e,t){e.startsWith("blob:")||$d3683f1f6d118d2a$var$loadAsBlob("script",e,(function(e){$d3683f1f6d118d2a$export$2cb99e4be0dc4646(e,t)}),t?function(e,t){window.LIA.eventSemaphore--}:void 0)}function $d3683f1f6d118d2a$var$loadAsBlob(e,t,r,n){if(t.startsWith("blob:"))console.warn("failed to load blob",t);else{var i="text/";switch(e){case"script":i+="javascript";break;case"link":i+="css";break;default:i+="plain"}fetch(t).then((function(e){var r=e.headers.get("Content-Disposition"),n=null==r?void 0:r.match('filename="([^"]+)"'),i="";n&&n.length>0&&(i=n[1]);var a=new URL(t);if(i&&i!==a.pathname.split("/").slice(-1)[0])throw new Error('false redirect received "'.concat(i,'" instead of "').concat(a.pathname,'"'));return e.text()})).then((function(e){var t=new Blob([e],{type:i}),n=window.URL.createObjectURL(t);r(n)})).catch((function(e){$5rPeW.default.warn("could not load",t,"as blob =>",e.message),n&&n(t,e)}))}}function $d3683f1f6d118d2a$var$loadLink(e){try{var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",t.onerror=function(t){console.warn("could not load =>",e),$d3683f1f6d118d2a$var$loadAsBlob("link",e,(function(e){$d3683f1f6d118d2a$var$loadLink(e)}))},document.head.appendChild(t)}catch(t){e.startsWith("blob:")?$5rPeW.default.warn("failed loading style => ",e,t.message):($5rPeW.default.warn("could not load =>",e,t),$5rPeW.default.warn("will try to import as blob"),$d3683f1f6d118d2a$var$loadAsBlob("link",e,(function(e){$d3683f1f6d118d2a$var$loadLink(e)})))}}var $2h8PU=parcelRequire("2h8PU"),$5rPeW=parcelRequire("5rPeW"),$9b24e28e683d624f$var$Service={PORT:"share",isSupported:function(){return!!navigator.share},handle:function(e){if("link"===e.message.cmd)try{navigator.share&&navigator.share(e.message.param)}catch(t){$5rPeW.default.warn("sharing was not possible => ",e.message,t.message)}else $5rPeW.default.warn("(Service ",this.PORT,") unknown message =>",e.message)}},$9b24e28e683d624f$export$2e2bcd8739ae039=$9b24e28e683d624f$var$Service,$5rPeW=parcelRequire("5rPeW"),$8760448a87d08947$var$Service={PORT:"slide",handle:function(e){switch(e.message.cmd){case"init":$8760448a87d08947$var$scrollUp();var t=document.getElementById("focusedToc");t&&($8760448a87d08947$var$isInViewport(t)||t.scrollIntoView({behavior:"smooth"}));break;case"scroll_up":$8760448a87d08947$var$scrollUp();break;case"scroll_into_view":$8760448a87d08947$var$scrollIntoView(e.message.param.id,e.message.param.delay);break;default:$5rPeW.default.warn("(Service ",this.PORT,") unknown message =>",e.message)}}};function $8760448a87d08947$var$scrollUp(){var e=document.querySelector('main:not([hidden=""])');e&&(window.LIA.scrollUpOnMain&&e.scrollTo(0,0),window.LIA.focusOnMain&&e.children.length>0&&e.children[0].focus())}function $8760448a87d08947$var$isInViewport(e){var t=e.getBoundingClientRect();return t.top>=85&&t.left>=0&&t.bottom<=(window.innerHeight-40||document.documentElement.clientHeight-40)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function $8760448a87d08947$var$scrollIntoView(e,t){setTimeout((function(){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}),t)}var $8760448a87d08947$export$2e2bcd8739ae039=$8760448a87d08947$var$Service,$f01b3d6dc72493a6$var$Dir,Dir;function $f01b3d6dc72493a6$var$detect(e,t){var r,n,i,a,o,s,u=e,c=150,l=100,f=!1,d=!!("ontouchstart"in window||"ontouchstart"in document.documentElement||window.ontouchstart||window.Touch||window.onmsgesturechange),h=t||function(e){};u.addEventListener("touchstart",(function(e){var t=e.changedTouches[0];r=$f01b3d6dc72493a6$var$Dir.none,n=t.pageX,i=t.pageY,s=(new Date).getTime()}),{passive:!0}),u.addEventListener("touchmove",(function(e){}),{passive:!0}),u.addEventListener("touchend",(function(e){var t=e.changedTouches[0];a=t.pageX-n,o=t.pageY-i,(new Date).getTime()-s<=300&&(Math.abs(a)>=c&&Math.abs(o)<=l?r=a<0?$f01b3d6dc72493a6$var$Dir.left:$f01b3d6dc72493a6$var$Dir.right:Math.abs(o)>=c&&Math.abs(a)<=l&&(r=o<0?$f01b3d6dc72493a6$var$Dir.up:$f01b3d6dc72493a6$var$Dir.down)),r!==$f01b3d6dc72493a6$var$Dir.none&&h(r)}),{passive:!0}),d||(document.body.addEventListener("mousedown",(function(e){if(function(e,t){if(t||(t=window.event),void 0===t)return!1;for(var r=/(click)|(mousedown)|(mouseup)/i.test(t.type)?t.target:t.relatedTarget||("mouseover"===t.type?t.fromElement:t.toElement);r&&r!==e;)try{r=r.parentNode}catch(t){r=e}return r===e}(u,e)){var t=e;r=$f01b3d6dc72493a6$var$Dir.none,n=t.pageX,i=t.pageY,s=(new Date).getTime(),f=!0}}),{passive:!0}),document.body.addEventListener("mousemove",(function(e){}),{passive:!0}),document.body.addEventListener("mouseup",(function(e){if(f){var t=e;a=t.pageX-n,o=t.pageY-i,(new Date).getTime()-s<=300&&(Math.abs(a)>=c&&Math.abs(o)<=l?r=a<0?$f01b3d6dc72493a6$var$Dir.left:$f01b3d6dc72493a6$var$Dir.right:Math.abs(o)>=c&&Math.abs(a)<=l&&(r=o<0?$f01b3d6dc72493a6$var$Dir.up:$f01b3d6dc72493a6$var$Dir.down)),r!==$f01b3d6dc72493a6$var$Dir.none&&h(r),f=!1}}),{passive:!0}))}Dir=$f01b3d6dc72493a6$var$Dir||($f01b3d6dc72493a6$var$Dir={}),Dir.none="none",Dir.left="left",Dir.right="right",Dir.up="up",Dir.down="down";var $f01b3d6dc72493a6$var$Port="swipe",$f01b3d6dc72493a6$var$Service={PORT:$f01b3d6dc72493a6$var$Port,init:function(e,t){$f01b3d6dc72493a6$var$detect(e,(function(e){$f01b3d6dc72493a6$var$sendReply(t,e)})),e.addEventListener("keydown",(function(e){switch(e.key){case"ArrowRight":$f01b3d6dc72493a6$var$sendReply(t,$f01b3d6dc72493a6$var$Dir.left);break;case"ArrowLeft":$f01b3d6dc72493a6$var$sendReply(t,$f01b3d6dc72493a6$var$Dir.right)}}),!1)}};function $f01b3d6dc72493a6$var$sendReply(e,t){0===document.getElementsByClassName("lia-modal").length&&e({reply:!0,track:[[$f01b3d6dc72493a6$var$Port,-1]],service:$f01b3d6dc72493a6$var$Port,message:{cmd:$f01b3d6dc72493a6$var$Port,param:t}})}var $f01b3d6dc72493a6$export$2e2bcd8739ae039=$f01b3d6dc72493a6$var$Service,$gUJ6q=parcelRequire("gUJ6q"),$aPYZr=parcelRequire("aPYZr"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$8rJSp=parcelRequire("8rJSp"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$3vvcD=parcelRequire("3vvcD"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$dVhHy=parcelRequire("dVhHy"),$aPYZr=parcelRequire("aPYZr"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$gUJ6q=parcelRequire("gUJ6q");function $62fec355e81061c1$var$ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $62fec355e81061c1$export$2e2bcd8739ae039(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$62fec355e81061c1$var$ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}var $dVhHy=parcelRequire("dVhHy"),$caN7I=parcelRequire("caN7I"),$8rJSp=parcelRequire("8rJSp"),$cDTRq=parcelRequire("cDTRq"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$caN7I=parcelRequire("caN7I"),$dVhHy=parcelRequire("dVhHy"),$16aaf99c17922512$export$185802fd694ee1f5=function(){return new Map},$16aaf99c17922512$export$784d13d8ee351f07=function(e){var t=$16aaf99c17922512$export$185802fd694ee1f5();return e.forEach((function(e,r){t.set(r,e)})),t},$16aaf99c17922512$export$dccd489362a8619=function(e,t,r){var n=e.get(t);return void 0===n&&e.set(t,n=r()),n},$16aaf99c17922512$export$871de8747c9eaa88=function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=(0,$dVhHy.default)(o.value,2),c=u[0],l=u[1];r.push(t(l,c))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r},$16aaf99c17922512$export$4154a199d7d90455=function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=(0,$dVhHy.default)(a.value,2),u=s[0];if(t(s[1],u))return!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!1},$16aaf99c17922512$export$84bf76cd7afc7469=function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=(0,$dVhHy.default)(a.value,2),u=s[0];if(!t(s[1],u))return!1}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0},$3e48f5ba97f970fa$export$185802fd694ee1f5=function(){return new Set},$3e48f5ba97f970fa$export$45b10814cc054894=function(e){return Array.from(e)},$3e48f5ba97f970fa$export$43128fadae87b74a=function(e){return e.values().next().value||void 0},$3e48f5ba97f970fa$export$6788812c4e6611e6=function(e){return new Set(e)},$b96f611d003ab434$export$4c7897fafd92b108=function(e){return e[e.length-1]},$b96f611d003ab434$export$185802fd694ee1f5=function(){return[]},$b96f611d003ab434$export$784d13d8ee351f07=function(e){return e.slice()},$b96f611d003ab434$export$9ceefe31f12a3778=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},$b96f611d003ab434$export$6788812c4e6611e6=Array.from,$b96f611d003ab434$export$7ecc1a3b11b57dab=function(e,t){return e.every(t)},$b96f611d003ab434$export$ad14ef4001db2bcd=function(e,t){return e.some(t)},$b96f611d003ab434$export$4f1c34abb2bb4c8=function(e,t){return e.length===t.length&&$b96f611d003ab434$export$7ecc1a3b11b57dab(e,(function(e,r){return e===t[r]}))},$b96f611d003ab434$export$bffa455ba8c619a6=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},$b96f611d003ab434$export$43bee75e5e14138e=Array.isArray,$f888d7a0f7880485$export$77cea355fa80b5f4=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._observers=$16aaf99c17922512$export$185802fd694ee1f5()}return(0,$9HoHC.default)(e,[{key:"on",value:function(e,t){$16aaf99c17922512$export$dccd489362a8619(this._observers,e,$3e48f5ba97f970fa$export$185802fd694ee1f5).add(t)}},{key:"once",value:function(e,t){var r=this,n=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.off(e,n),t.apply(void 0,(0,$caN7I.default)(a))};this.on(e,n)}},{key:"off",value:function(e,t){var r=this._observers.get(e);void 0!==r&&(r.delete(t),0===r.size&&this._observers.delete(e))}},{key:"emit",value:function(e,t){return $b96f611d003ab434$export$6788812c4e6611e6((this._observers.get(e)||$16aaf99c17922512$export$185802fd694ee1f5()).values()).forEach((function(e){return e.apply(void 0,(0,$caN7I.default)(t))}))}},{key:"destroy",value:function(){this._observers=$16aaf99c17922512$export$185802fd694ee1f5()}}]),e}(),$0a30c1e54eae8fd7$export$a3fe094919f356fd=Math.floor,$0a30c1e54eae8fd7$export$803ce6b71a0a94b2=Math.ceil,$0a30c1e54eae8fd7$export$2335f513bbd82c6d=Math.abs,$0a30c1e54eae8fd7$export$46de3d998ca9a030=Math.imul,$0a30c1e54eae8fd7$export$2077e0241d6afd3c=Math.round,$0a30c1e54eae8fd7$export$75e08744a3ff8516=Math.log10,$0a30c1e54eae8fd7$export$b9fae0bba9d9094d=Math.log2,$0a30c1e54eae8fd7$export$bef1f36f5486a6a3=Math.log,$0a30c1e54eae8fd7$export$eba8049fb5020b81=Math.sqrt,$0a30c1e54eae8fd7$export$e16d8520af44a096=function(e,t){return e+t},$0a30c1e54eae8fd7$export$96ec731ed4dcb222=function(e,t){return e<t?e:t},$0a30c1e54eae8fd7$export$8960430cfd85939f=function(e,t){return e>t?e:t},$0a30c1e54eae8fd7$export$c9f5652083b8129d=Number.isNaN,$0a30c1e54eae8fd7$export$9c297f60e22e3389=Math.pow,$0a30c1e54eae8fd7$export$1bb2a14208c790f7=function(e){return Math.pow(10,e)},$0a30c1e54eae8fd7$export$c5552dfdbc7cec71=Math.sign,$0a30c1e54eae8fd7$export$dc0a61f4a9121f92=function(e){return 0!==e?e<0:1/e<0},$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$gNsil=parcelRequire("gNsil"),$dCPLc=parcelRequire("dCPLc"),$8rJSp=parcelRequire("8rJSp"),$55e5766569efa8f2$export$30216c0101da0ee0=String.fromCharCode,$55e5766569efa8f2$export$73bfc63873071f74=String.fromCodePoint,$55e5766569efa8f2$var$toLowerCase=function(e){return e.toLowerCase()},$55e5766569efa8f2$var$trimLeftRegex=/^\s*/g,$55e5766569efa8f2$export$c5557f40488c48ec=function(e){return e.replace($55e5766569efa8f2$var$trimLeftRegex,"")},$55e5766569efa8f2$var$fromCamelCaseRegex=/([A-Z])/g,$55e5766569efa8f2$export$87429743646c3257=function(e,t){return $55e5766569efa8f2$export$c5557f40488c48ec(e.replace($55e5766569efa8f2$var$fromCamelCaseRegex,(function(e){return"".concat(t).concat($55e5766569efa8f2$var$toLowerCase(e))})))},$55e5766569efa8f2$export$ba35f6b806a3dbd4=function(e){return unescape(encodeURIComponent(e)).length},$55e5766569efa8f2$export$83d8cea287b4dfcd=function(e){for(var t=unescape(encodeURIComponent(e)),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.codePointAt(i);return n},$55e5766569efa8f2$export$f3ce4806f2484eb="undefined"!=typeof TextEncoder?new TextEncoder:null,$55e5766569efa8f2$export$9a0a70804ee285dd=function(e){return $55e5766569efa8f2$export$f3ce4806f2484eb.encode(e)},$55e5766569efa8f2$export$8f647c2204da8484=$55e5766569efa8f2$export$f3ce4806f2484eb?$55e5766569efa8f2$export$9a0a70804ee285dd:$55e5766569efa8f2$export$83d8cea287b4dfcd,$55e5766569efa8f2$export$154b750182ae32cf=function(e){for(var t=e.length,r="",n=0;t>0;){var i=t<1e4?t:1e4,a=e.subarray(n,n+i);n+=i,r+=String.fromCodePoint.apply(null,a),t-=i}return decodeURIComponent(escape(r))},$55e5766569efa8f2$export$f477633695bbbcd="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});$55e5766569efa8f2$export$f477633695bbbcd&&1===$55e5766569efa8f2$export$f477633695bbbcd.decode(new Uint8Array).length&&($55e5766569efa8f2$export$f477633695bbbcd=null);var $55e5766569efa8f2$export$23d5f1ce72f56168=function(e){return $55e5766569efa8f2$export$f477633695bbbcd.decode(e)},$55e5766569efa8f2$export$72118b85b055afd=$55e5766569efa8f2$export$f477633695bbbcd?$55e5766569efa8f2$export$23d5f1ce72f56168:$55e5766569efa8f2$export$154b750182ae32cf,$55e5766569efa8f2$export$869882364835d202=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.slice(0,t)+n+e.slice(t+r)},$dVhHy=parcelRequire("dVhHy"),$1a34fd5712b97737$export$43874719a1af321f=function(e){return void 0===e?null:e},$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$99396cf344e96855$var$VarStoragePolyfill=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.map=new Map}return(0,$9HoHC.default)(e,[{key:"setItem",value:function(e,t){this.map.set(e,t)}},{key:"getItem",value:function(e){return this.map.get(e)}}]),e}(),$99396cf344e96855$var$_localStorage=new $99396cf344e96855$var$VarStoragePolyfill,$99396cf344e96855$var$usePolyfill=!0;try{"undefined"!=typeof localStorage&&($99396cf344e96855$var$_localStorage=localStorage,$99396cf344e96855$var$usePolyfill=!1)}catch(e){}var $99396cf344e96855$export$86b84a8d42aa2c65=$99396cf344e96855$var$_localStorage,$99396cf344e96855$export$bd913411069e59d3=function(e){return $99396cf344e96855$var$usePolyfill||addEventListener("storage",e)},$caN7I=parcelRequire("caN7I"),$3a7ccb514662ffb6$export$185802fd694ee1f5=function(){return Object.create(null)},$3a7ccb514662ffb6$export$e6e34fd1f2686227=Object.assign,$3a7ccb514662ffb6$export$ed97f33186d4b816=Object.keys,$3a7ccb514662ffb6$export$4b80e395e36b5a56=function(e,t){for(var r in e)t(e[r],r)},$3a7ccb514662ffb6$export$871de8747c9eaa88=function(e,t){var r=[];for(var n in e)r.push(t(e[n],n));return r},$3a7ccb514662ffb6$export$f24224f1c91d8156=function(e){return $3a7ccb514662ffb6$export$ed97f33186d4b816(e).length},$3a7ccb514662ffb6$export$ad14ef4001db2bcd=function(e,t){for(var r in e)if(t(e[r],r))return!0;return!1},$3a7ccb514662ffb6$export$7ecc1a3b11b57dab=function(e,t){for(var r in e)if(!t(e[r],r))return!1;return!0},$3a7ccb514662ffb6$export$bf9617eaf5d2451=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},$3a7ccb514662ffb6$export$4f1c34abb2bb4c8=function(e,t){return e===t||$3a7ccb514662ffb6$export$f24224f1c91d8156(e)===$3a7ccb514662ffb6$export$f24224f1c91d8156(t)&&$3a7ccb514662ffb6$export$7ecc1a3b11b57dab(e,(function(e,r){return(void 0!==e||$3a7ccb514662ffb6$export$bf9617eaf5d2451(t,r))&&t[r]===e}))},$9482d2641084b8fc$export$9dd9a52f2dd5b9ce=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{for(var n;r<e.length;r++)(n=e)[r].apply(n,(0,$caN7I.default)(t))}finally{r<e.length&&$9482d2641084b8fc$export$9dd9a52f2dd5b9ce(e,t,r+1)}},$9482d2641084b8fc$export$b5f1cfe7b08e6ed5=function(){},$9482d2641084b8fc$export$5635d7ef4b8fee1c=function(e){return e()},$9482d2641084b8fc$export$d560c7e4a29451c2=function(e){return e},$9482d2641084b8fc$export$bbb1dcf8c6c6bac1=function(e,t){return e===t},$9482d2641084b8fc$export$6ca82605a98f2278=function(e,t){return e===t||null!=e&&null!=t&&e.constructor===t.constructor&&(e instanceof Array&&$b96f611d003ab434$export$4f1c34abb2bb4c8(e,t)||"object"==typeof e&&$3a7ccb514662ffb6$export$4f1c34abb2bb4c8(e,t))},$9482d2641084b8fc$export$2ca9a723affd5d11=function(e,t){if(null==e||null==t)return $9482d2641084b8fc$export$bbb1dcf8c6c6bac1(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;break;case Set:if(e.size!==t.size)return!1;var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(!t.has(u))return!1}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}break;case Map:if(e.size!==t.size)return!1;var c=!0,l=!1,f=void 0;try{for(var d,h=e.keys()[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=d.value;if(!t.has(v)||!$9482d2641084b8fc$export$2ca9a723affd5d11(e.get(v),t.get(v)))return!1}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}break;case Object:if($3a7ccb514662ffb6$export$f24224f1c91d8156(e)!==$3a7ccb514662ffb6$export$f24224f1c91d8156(t))return!1;for(var p in e)if(!$3a7ccb514662ffb6$export$bf9617eaf5d2451(e,p)||!$9482d2641084b8fc$export$2ca9a723affd5d11(e[p],t[p]))return!1;break;case Array:if(e.length!==t.length)return!1;for(var b=0;b<e.length;b++)if(!$9482d2641084b8fc$export$2ca9a723affd5d11(e[b],t[b]))return!1;break;default:return!1}return!0},$9482d2641084b8fc$export$532a90c0e5e8e48c=function(e,t){return t.includes(e)},$d2KzW=parcelRequire("d2KzW"),$c939349072016943$export$8ee0fc9ee280b4ee=void 0!==$d2KzW&&$d2KzW.release&&/node|io\.js/.test($d2KzW.release.name),$c939349072016943$export$4e09c449d6c407f7="undefined"!=typeof window&&!$c939349072016943$export$8ee0fc9ee280b4ee,$c939349072016943$export$9ac100e40613ea10="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),$c939349072016943$var$params,$c939349072016943$var$args=[],$c939349072016943$var$computeParams=function(){if(void 0===$c939349072016943$var$params)if($c939349072016943$export$8ee0fc9ee280b4ee){$c939349072016943$var$params=$16aaf99c17922512$export$185802fd694ee1f5();for(var e=$d2KzW.argv,t=null,r=0;r<e.length;r++){var n=e[r];"-"===n[0]?(null!==t&&$c939349072016943$var$params.set(t,""),t=n):null!==t?($c939349072016943$var$params.set(t,n),t=null):$c939349072016943$var$args.push(n)}null!==t&&$c939349072016943$var$params.set(t,"")}else"object"==typeof location?($c939349072016943$var$params=$16aaf99c17922512$export$185802fd694ee1f5(),(location.search||"?").slice(1).split("&").forEach((function(e){if(0!==e.length){var t=(0,$dVhHy.default)(e.split("="),2),r=t[0],n=t[1];$c939349072016943$var$params.set("--".concat($55e5766569efa8f2$export$87429743646c3257(r,"-")),n),$c939349072016943$var$params.set("-".concat($55e5766569efa8f2$export$87429743646c3257(r,"-")),n)}}))):$c939349072016943$var$params=$16aaf99c17922512$export$185802fd694ee1f5();return $c939349072016943$var$params},$c939349072016943$export$3ad523d4e4ddff75=function(e){return $c939349072016943$var$computeParams().has(e)},$c939349072016943$export$ecf541e09a511845=function(e,t){return $c939349072016943$var$computeParams().get(e)||t},$c939349072016943$export$39fb32ac18db3f88=function(e){return $1a34fd5712b97737$export$43874719a1af321f($c939349072016943$export$8ee0fc9ee280b4ee?$d2KzW.env[e.toUpperCase()]:$99396cf344e96855$export$86b84a8d42aa2c65.getItem(e))},$c939349072016943$export$137940a4fd07b923=function(e){return $c939349072016943$var$computeParams().get("--"+e)||$c939349072016943$export$39fb32ac18db3f88(e)},$c939349072016943$export$41f29dc169f5b0eb=function(e){return $c939349072016943$export$3ad523d4e4ddff75("--"+e)||null!==$c939349072016943$export$39fb32ac18db3f88(e)},$c939349072016943$export$d71d1489bc353e92=$c939349072016943$export$41f29dc169f5b0eb("production"),$c939349072016943$var$forceColor=$c939349072016943$export$8ee0fc9ee280b4ee&&$9482d2641084b8fc$export$532a90c0e5e8e48c(void 0,["true","1","2"]),$c939349072016943$export$fcbe44f5d6fcebd=!$c939349072016943$export$3ad523d4e4ddff75("no-colors")&&(!$c939349072016943$export$8ee0fc9ee280b4ee||$d2KzW.stdout.isTTY||$c939349072016943$var$forceColor)&&(!$c939349072016943$export$8ee0fc9ee280b4ee||$c939349072016943$export$3ad523d4e4ddff75("color")||$c939349072016943$var$forceColor||null!==$c939349072016943$export$39fb32ac18db3f88("COLORTERM")||($c939349072016943$export$39fb32ac18db3f88("TERM")||"").includes("color")),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$gNsil=parcelRequire("gNsil"),$8rJSp=parcelRequire("8rJSp"),$5a7050a36c45c1a3$export$ee2c6657cb286da4=1,$5a7050a36c45c1a3$export$1f117f3b0edc2676=2,$5a7050a36c45c1a3$export$e5294f8c78cf7711=4,$5a7050a36c45c1a3$export$873ae8db4cef5125=8,$5a7050a36c45c1a3$export$b6e6496517dfbd31=16,$5a7050a36c45c1a3$export$daf23f774967089=32,$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5=64,$5a7050a36c45c1a3$export$e25597372303a045=128,$5a7050a36c45c1a3$export$f15587807021fe79=256,$5a7050a36c45c1a3$export$70939d57ba836c5=512,$5a7050a36c45c1a3$export$9ec47920d80e8c85=1024,$5a7050a36c45c1a3$export$bc5dd16b35d4584b=2048,$5a7050a36c45c1a3$export$76a85e893e6d6ecc=4096,$5a7050a36c45c1a3$export$fb6ca64a3ffa3aa9=8192,$5a7050a36c45c1a3$export$e7adc86ee9ea4b00=16384,$5a7050a36c45c1a3$export$6aa68b9346d558bb=32768,$5a7050a36c45c1a3$export$5d7aab37466c79ea=65536,$5a7050a36c45c1a3$export$3aa401309ff3940=131072,$5a7050a36c45c1a3$export$1fd8467d3320465f=262144,$5a7050a36c45c1a3$export$d1dceb84a396f684=524288,$5a7050a36c45c1a3$export$ef62e7729d79baec=1048576,$5a7050a36c45c1a3$export$40651ae3846a7710=2097152,$5a7050a36c45c1a3$export$e03976987cb0b818=4194304,$5a7050a36c45c1a3$export$dd5dceb22223d8ef=8388608,$5a7050a36c45c1a3$export$aecaefba6ae044e4=16777216,$5a7050a36c45c1a3$export$6e47d6f6c411c0e1=33554432,$5a7050a36c45c1a3$export$321a8fda0150a18=67108864,$5a7050a36c45c1a3$export$d7843230fff08622=134217728,$5a7050a36c45c1a3$export$9fe7219cb72d1ed8=268435456,$5a7050a36c45c1a3$export$c85121a54e1cc97f=536870912,$5a7050a36c45c1a3$export$76075a64dc7c21ef=1073741824,$5a7050a36c45c1a3$export$49d5cdcf29800e09=-2147483648,$5a7050a36c45c1a3$export$853d99058378c102=0,$5a7050a36c45c1a3$export$b859c32a415b3ec1=1,$5a7050a36c45c1a3$export$decefe6957191373=3,$5a7050a36c45c1a3$export$d1defff3cbd2c6f4=7,$5a7050a36c45c1a3$export$8d2b432c8c02ae65=15,$5a7050a36c45c1a3$export$bc2aba63e4099c09=31,$5a7050a36c45c1a3$export$f39f4e074e983a34=63,$5a7050a36c45c1a3$export$f84d6bebff154ceb=127,$5a7050a36c45c1a3$export$c880072ee0e87648=255,$5a7050a36c45c1a3$export$cbbfa5d3c076ad8c=511,$5a7050a36c45c1a3$export$e365aa75b5fa7293=1023,$5a7050a36c45c1a3$export$51bfc23c1b7b60c3=2047,$5a7050a36c45c1a3$export$3b0a099b88523ac=4095,$5a7050a36c45c1a3$export$8345c1c06d3e5fc1=8191,$5a7050a36c45c1a3$export$e20cffba663a7688=16383,$5a7050a36c45c1a3$export$cd0970fd37b207c6=32767,$5a7050a36c45c1a3$export$250487b182389b6a=65535,$5a7050a36c45c1a3$export$9d6e01d73abdaadb=$5a7050a36c45c1a3$export$3aa401309ff3940-1,$5a7050a36c45c1a3$export$eedeab0ac4009664=$5a7050a36c45c1a3$export$1fd8467d3320465f-1,$5a7050a36c45c1a3$export$e1840c3c33a76ffc=$5a7050a36c45c1a3$export$d1dceb84a396f684-1,$5a7050a36c45c1a3$export$f0ae3ba8312e92e3=$5a7050a36c45c1a3$export$ef62e7729d79baec-1,$5a7050a36c45c1a3$export$b5ffbef7f0f6f536=$5a7050a36c45c1a3$export$40651ae3846a7710-1,$5a7050a36c45c1a3$export$33ae34bc8e747862=$5a7050a36c45c1a3$export$e03976987cb0b818-1,$5a7050a36c45c1a3$export$3629272792e6a9a0=$5a7050a36c45c1a3$export$dd5dceb22223d8ef-1,$5a7050a36c45c1a3$export$a07300a4cc2ba23c=$5a7050a36c45c1a3$export$aecaefba6ae044e4-1,$5a7050a36c45c1a3$export$9137f2824b26e02b=$5a7050a36c45c1a3$export$6e47d6f6c411c0e1-1,$5a7050a36c45c1a3$export$94d4c3aa7cfbb8dd=$5a7050a36c45c1a3$export$321a8fda0150a18-1,$5a7050a36c45c1a3$export$8af89455097efce0=$5a7050a36c45c1a3$export$d7843230fff08622-1,$5a7050a36c45c1a3$export$dee9196bb8567fe9=$5a7050a36c45c1a3$export$9fe7219cb72d1ed8-1,$5a7050a36c45c1a3$export$bd0b5ef1d89e90f=$5a7050a36c45c1a3$export$c85121a54e1cc97f-1,$5a7050a36c45c1a3$export$e5560e011efa8766=$5a7050a36c45c1a3$export$76075a64dc7c21ef-1,$5a7050a36c45c1a3$export$87ec42487f19c66c=2147483647,$5a7050a36c45c1a3$export$3ea07c5174cba08a=4294967295,$9951f688bcf576b2$export$18510406f204a1b9=Number.MAX_SAFE_INTEGER,$9951f688bcf576b2$export$91ddad910c1af487=Number.MIN_SAFE_INTEGER,$9951f688bcf576b2$export$7accc3db8e859605=-2147483648,$9951f688bcf576b2$export$a5f353c3c14c00d0=$5a7050a36c45c1a3$export$87ec42487f19c66c,$9951f688bcf576b2$export$a287f47fed4544b8=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&$0a30c1e54eae8fd7$export$a3fe094919f356fd(e)===e},$9951f688bcf576b2$export$c9f5652083b8129d=Number.isNaN,$9951f688bcf576b2$export$5f87784a266e50a4=Number.parseInt,$e42fddd38393ef44$export$185802fd694ee1f5=function(e){return new Error(e)},$e42fddd38393ef44$export$73ced5c7e10d6d0f=function(){throw $e42fddd38393ef44$export$185802fd694ee1f5("Method unimplemented")},$e42fddd38393ef44$export$965b6bccecbd9673=function(){throw $e42fddd38393ef44$export$185802fd694ee1f5("Unexpected case")},$5d88d2f698148c14$var$errorUnexpectedEndOfArray=$e42fddd38393ef44$export$185802fd694ee1f5("Unexpected end of array"),$5d88d2f698148c14$var$errorIntegerOutOfRange=$e42fddd38393ef44$export$185802fd694ee1f5("Integer out of Range"),$5d88d2f698148c14$export$f9de6ca0bc043724=function e(t){"use strict";(0,$4JAgF.default)(this,e),this.arr=t,this.pos=0},$5d88d2f698148c14$export$f8c898e83b60faaa=function(e){return new $5d88d2f698148c14$export$f9de6ca0bc043724(e)},$5d88d2f698148c14$export$7ad75c69830b76d7=function(e){return e.pos!==e.arr.length},$5d88d2f698148c14$export$9cd59f9826255e47=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pos,r=$5d88d2f698148c14$export$f8c898e83b60faaa(e.arr);return r.pos=t,r},$5d88d2f698148c14$export$e21b2fe168d56a89=function(e,t){var r=$f747887fa22c29f4$export$f3c8b5f6d250ec43(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,r},$5d88d2f698148c14$export$7418bbc18dee40f3=function(e){return $5d88d2f698148c14$export$e21b2fe168d56a89(e,$5d88d2f698148c14$export$5a476e4dbe7923d5(e))},$5d88d2f698148c14$export$8c9f57cb3e3e2d3b=function(e){return $5d88d2f698148c14$export$e21b2fe168d56a89(e,e.arr.length-e.pos)},$5d88d2f698148c14$export$228a9507fbdfcdb6=function(e){return e.pos++},$5d88d2f698148c14$export$d5778a2beba4ceef=function(e){return e.arr[e.pos++]},$5d88d2f698148c14$export$ef14636f4cf20706=function(e){var t=e.arr[e.pos]+(e.arr[e.pos+1]<<8);return e.pos+=2,t},$5d88d2f698148c14$export$967c96218130b9ba=function(e){var t=e.arr[e.pos]+(e.arr[e.pos+1]<<8)+(e.arr[e.pos+2]<<16)+(e.arr[e.pos+3]<<24)>>>0;return e.pos+=4,t},$5d88d2f698148c14$export$adb88b5d4ab91f4e=function(e){var t=e.arr[e.pos+3]+(e.arr[e.pos+2]<<8)+(e.arr[e.pos+1]<<16)+(e.arr[e.pos]<<24)>>>0;return e.pos+=4,t},$5d88d2f698148c14$export$c6eca102d0b41ca0=function(e){return e.arr[e.pos]},$5d88d2f698148c14$export$e5eb1e52afa13f8d=function(e){return e.arr[e.pos]+(e.arr[e.pos+1]<<8)},$5d88d2f698148c14$export$67e54e775d28f9ae=function(e){return e.arr[e.pos]+(e.arr[e.pos+1]<<8)+(e.arr[e.pos+2]<<16)+(e.arr[e.pos+3]<<24)>>>0},$5d88d2f698148c14$export$5a476e4dbe7923d5=function(e){for(var t=0,r=1,n=e.arr.length;e.pos<n;){var i=e.arr[e.pos++];if(t+=(i&$5a7050a36c45c1a3$export$f84d6bebff154ceb)*r,r*=128,i<$5a7050a36c45c1a3$export$e25597372303a045)return t;if(t>$9951f688bcf576b2$export$18510406f204a1b9)throw $5d88d2f698148c14$var$errorIntegerOutOfRange}throw $5d88d2f698148c14$var$errorUnexpectedEndOfArray},$5d88d2f698148c14$export$1dd5b9ddf6575ae8=function(e){var t=e.arr[e.pos++],r=t&$5a7050a36c45c1a3$export$f39f4e074e983a34,n=64,i=(t&$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5)>0?-1:1;if(0==(t&$5a7050a36c45c1a3$export$e25597372303a045))return i*r;for(var a=e.arr.length;e.pos<a;){if(r+=((t=e.arr[e.pos++])&$5a7050a36c45c1a3$export$f84d6bebff154ceb)*n,n*=128,t<$5a7050a36c45c1a3$export$e25597372303a045)return i*r;if(r>$9951f688bcf576b2$export$18510406f204a1b9)throw $5d88d2f698148c14$var$errorIntegerOutOfRange}throw $5d88d2f698148c14$var$errorUnexpectedEndOfArray},$5d88d2f698148c14$export$dc86e1eb544aa5ab=function(e){var t=e.pos,r=$5d88d2f698148c14$export$5a476e4dbe7923d5(e);return e.pos=t,r},$5d88d2f698148c14$export$47c43df02cd47fca=function(e){var t=e.pos,r=$5d88d2f698148c14$export$1dd5b9ddf6575ae8(e);return e.pos=t,r},$5d88d2f698148c14$export$e73299e6158668bb=function(e){var t=$5d88d2f698148c14$export$5a476e4dbe7923d5(e);if(0===t)return"";var r=String.fromCodePoint($5d88d2f698148c14$export$d5778a2beba4ceef(e));if(--t<100)for(;t--;)r+=String.fromCodePoint($5d88d2f698148c14$export$d5778a2beba4ceef(e));else for(;t>0;){var n=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,r+=String.fromCodePoint.apply(null,i),t-=n}return decodeURIComponent(escape(r))},$5d88d2f698148c14$export$7247eefae50fb91a=function(e){return $55e5766569efa8f2$export$f477633695bbbcd.decode($5d88d2f698148c14$export$7418bbc18dee40f3(e))},$5d88d2f698148c14$export$3b64b4d753b81ec2=$55e5766569efa8f2$export$f477633695bbbcd?$5d88d2f698148c14$export$7247eefae50fb91a:$5d88d2f698148c14$export$e73299e6158668bb,$5d88d2f698148c14$export$91c1f3f0dd9bd2f5=function(e){var t=e.pos,r=$5d88d2f698148c14$export$3b64b4d753b81ec2(e);return e.pos=t,r},$5d88d2f698148c14$export$d7dd05f632129fe5=function(e,t){var r=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,r},$5d88d2f698148c14$export$dbc4aa781d9afe3b=function(e){return $5d88d2f698148c14$export$d7dd05f632129fe5(e,4).getFloat32(0,!1)},$5d88d2f698148c14$export$d89a471990a89a7f=function(e){return $5d88d2f698148c14$export$d7dd05f632129fe5(e,8).getFloat64(0,!1)},$5d88d2f698148c14$export$99e633bd4f295d85=function(e){return $5d88d2f698148c14$export$d7dd05f632129fe5(e,8).getBigInt64(0,!1)},$5d88d2f698148c14$export$21575c47d1f9b652=function(e){return $5d88d2f698148c14$export$d7dd05f632129fe5(e,8).getBigUint64(0,!1)},$5d88d2f698148c14$var$readAnyLookupTable=[function(e){},function(e){return null},$5d88d2f698148c14$export$1dd5b9ddf6575ae8,$5d88d2f698148c14$export$dbc4aa781d9afe3b,$5d88d2f698148c14$export$d89a471990a89a7f,$5d88d2f698148c14$export$99e633bd4f295d85,function(e){return!1},function(e){return!0},$5d88d2f698148c14$export$3b64b4d753b81ec2,function(e){for(var t=$5d88d2f698148c14$export$5a476e4dbe7923d5(e),r={},n=0;n<t;n++){r[$5d88d2f698148c14$export$3b64b4d753b81ec2(e)]=$5d88d2f698148c14$export$82863139061f472f(e)}return r},function(e){for(var t=$5d88d2f698148c14$export$5a476e4dbe7923d5(e),r=[],n=0;n<t;n++)r.push($5d88d2f698148c14$export$82863139061f472f(e));return r},$5d88d2f698148c14$export$7418bbc18dee40f3],$5d88d2f698148c14$export$82863139061f472f=function(e){return $5d88d2f698148c14$var$readAnyLookupTable[127-$5d88d2f698148c14$export$d5778a2beba4ceef(e)](e)},$5d88d2f698148c14$export$f1f1200492b832af=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this,e)).reader=n,i.s=null,i.count=0,i}return(0,$9HoHC.default)(r,[{key:"read",value:function(){return 0===this.count&&(this.s=this.reader(this),$5d88d2f698148c14$export$7ad75c69830b76d7(this)?this.count=$5d88d2f698148c14$export$5a476e4dbe7923d5(this)+1:this.count=-1),this.count--,this.s}}]),r}($5d88d2f698148c14$export$f9de6ca0bc043724),$5d88d2f698148c14$export$938378143fffe1b4=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this,e)).s=n,i}return(0,$9HoHC.default)(r,[{key:"read",value:function(){return this.s+=$5d88d2f698148c14$export$1dd5b9ddf6575ae8(this),this.s}}]),r}($5d88d2f698148c14$export$f9de6ca0bc043724),$5d88d2f698148c14$export$595b36f1b42934c6=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this,e)).s=n,i.count=0,i}return(0,$9HoHC.default)(r,[{key:"read",value:function(){return 0===this.count&&(this.s+=$5d88d2f698148c14$export$1dd5b9ddf6575ae8(this),$5d88d2f698148c14$export$7ad75c69830b76d7(this)?this.count=$5d88d2f698148c14$export$5a476e4dbe7923d5(this)+1:this.count=-1),this.count--,this.s}}]),r}($5d88d2f698148c14$export$f9de6ca0bc043724),$5d88d2f698148c14$export$2dc62fb2f864b82e=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,e)).s=0,n.count=0,n}return(0,$9HoHC.default)(r,[{key:"read",value:function(){if(0===this.count){this.s=$5d88d2f698148c14$export$1dd5b9ddf6575ae8(this);var e=$0a30c1e54eae8fd7$export$dc0a61f4a9121f92(this.s);this.count=1,e&&(this.s=-this.s,this.count=$5d88d2f698148c14$export$5a476e4dbe7923d5(this)+2)}return this.count--,this.s}}]),r}($5d88d2f698148c14$export$f9de6ca0bc043724),$5d88d2f698148c14$export$727389af14dfe417=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,e)).s=0,n.count=0,n}return(0,$9HoHC.default)(r,[{key:"read",value:function(){if(0===this.count){this.s=$5d88d2f698148c14$export$1dd5b9ddf6575ae8(this);var e=$0a30c1e54eae8fd7$export$dc0a61f4a9121f92(this.s);this.count=1,e&&(this.s=-this.s,this.count=$5d88d2f698148c14$export$5a476e4dbe7923d5(this)+2)}return this.count--,this.s++}}]),r}($5d88d2f698148c14$export$f9de6ca0bc043724),$5d88d2f698148c14$export$d502ab0bf048a596=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,e)).s=0,n.count=0,n.diff=0,n}return(0,$9HoHC.default)(r,[{key:"read",value:function(){if(0===this.count){var e=$5d88d2f698148c14$export$1dd5b9ddf6575ae8(this),t=1&e;this.diff=$0a30c1e54eae8fd7$export$a3fe094919f356fd(e/2),this.count=1,t&&(this.count=$5d88d2f698148c14$export$5a476e4dbe7923d5(this)+2)}return this.s+=this.diff,this.count--,this.s}}]),r}($5d88d2f698148c14$export$f9de6ca0bc043724),$5d88d2f698148c14$export$63a7aa211a91ed69=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.decoder=new $5d88d2f698148c14$export$2dc62fb2f864b82e(t),this.str=$5d88d2f698148c14$export$3b64b4d753b81ec2(this.decoder),this.spos=0}return(0,$9HoHC.default)(e,[{key:"read",value:function(){var e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}]),e}(),$dwjmx=parcelRequire("dwjmx"),$f747887fa22c29f4$require$Buffer=$dwjmx.Buffer,$f747887fa22c29f4$export$79a0c4c40eecffbb=function(e){return new Uint8Array(e)},$f747887fa22c29f4$export$f3c8b5f6d250ec43=function(e,t,r){return new Uint8Array(e,t,r)},$f747887fa22c29f4$export$1b999ddd54e5bed1=function(e){return new Uint8Array(e)},$f747887fa22c29f4$var$toBase64Browser=function(e){for(var t="",r=0;r<e.byteLength;r++)t+=$55e5766569efa8f2$export$30216c0101da0ee0(e[r]);return btoa(t)},$f747887fa22c29f4$var$toBase64Node=function(e){return $f747887fa22c29f4$require$Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")},$f747887fa22c29f4$var$fromBase64Browser=function(e){for(var t=atob(e),r=$f747887fa22c29f4$export$79a0c4c40eecffbb(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},$f747887fa22c29f4$var$fromBase64Node=function(e){var t=$f747887fa22c29f4$require$Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},$f747887fa22c29f4$export$37cc283d8fbd3462=$c939349072016943$export$4e09c449d6c407f7?$f747887fa22c29f4$var$toBase64Browser:$f747887fa22c29f4$var$toBase64Node,$f747887fa22c29f4$export$c537b38001c583b7=$c939349072016943$export$4e09c449d6c407f7?$f747887fa22c29f4$var$fromBase64Browser:$f747887fa22c29f4$var$fromBase64Node,$f747887fa22c29f4$export$fe6f60023cd5ffaf=function(e){var t=$f747887fa22c29f4$export$79a0c4c40eecffbb(e.byteLength);return t.set(e),t},$f747887fa22c29f4$export$355ad3726be07997=function(e){var t=$f10cc2748b0a1de2$export$4e76eeb6df88c889();return $f10cc2748b0a1de2$export$264b1e8551468ea(t,e),$f10cc2748b0a1de2$export$73470fd2221e6aef(t)},$f747887fa22c29f4$export$929c279cfec29a23=function(e){return $5d88d2f698148c14$export$82863139061f472f($5d88d2f698148c14$export$f8c898e83b60faaa(e))},$f10cc2748b0a1de2$export$a50aceb0e02a00aa=function e(){"use strict";(0,$4JAgF.default)(this,e),this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]},$f10cc2748b0a1de2$export$4e76eeb6df88c889=function(){return new $f10cc2748b0a1de2$export$a50aceb0e02a00aa},$f10cc2748b0a1de2$export$f24224f1c91d8156=function(e){for(var t=e.cpos,r=0;r<e.bufs.length;r++)t+=e.bufs[r].length;return t},$f10cc2748b0a1de2$export$73470fd2221e6aef=function(e){for(var t=new Uint8Array($f10cc2748b0a1de2$export$f24224f1c91d8156(e)),r=0,n=0;n<e.bufs.length;n++){var i=e.bufs[n];t.set(i,r),r+=i.length}return t.set($f747887fa22c29f4$export$f3c8b5f6d250ec43(e.cbuf.buffer,0,e.cpos),r),t},$f10cc2748b0a1de2$export$39fb588b9aff60c5=function(e,t){var r=e.cbuf.length;r-e.cpos<t&&(e.bufs.push($f747887fa22c29f4$export$f3c8b5f6d250ec43(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*$0a30c1e54eae8fd7$export$8960430cfd85939f(r,t)),e.cpos=0)},$f10cc2748b0a1de2$export$68d8715fc104d294=function(e,t){var r=e.cbuf.length;e.cpos===r&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*r),e.cpos=0),e.cbuf[e.cpos++]=t},$f10cc2748b0a1de2$export$adaa4cf7ef1b65be=function(e,t,r){for(var n=null,i=0;i<e.bufs.length&&null===n;i++){var a=e.bufs[i];t<a.length?n=a:t-=a.length}null===n&&(n=e.cbuf),n[t]=r},$f10cc2748b0a1de2$export$826a1a6619653272=$f10cc2748b0a1de2$export$68d8715fc104d294,$f10cc2748b0a1de2$export$83964ea8501fbf8=$f10cc2748b0a1de2$export$adaa4cf7ef1b65be,$f10cc2748b0a1de2$export$ba6b74b6f3145a00=function(e,t){$f10cc2748b0a1de2$export$68d8715fc104d294(e,t&$5a7050a36c45c1a3$export$c880072ee0e87648),$f10cc2748b0a1de2$export$68d8715fc104d294(e,t>>>8&$5a7050a36c45c1a3$export$c880072ee0e87648)},$f10cc2748b0a1de2$export$f86e1edc3d839287=function(e,t,r){$f10cc2748b0a1de2$export$adaa4cf7ef1b65be(e,t,r&$5a7050a36c45c1a3$export$c880072ee0e87648),$f10cc2748b0a1de2$export$adaa4cf7ef1b65be(e,t+1,r>>>8&$5a7050a36c45c1a3$export$c880072ee0e87648)},$f10cc2748b0a1de2$export$835343b0f7799f5b=function(e,t){for(var r=0;r<4;r++)$f10cc2748b0a1de2$export$68d8715fc104d294(e,t&$5a7050a36c45c1a3$export$c880072ee0e87648),t>>>=8},$f10cc2748b0a1de2$export$efed0d8c16230d13=function(e,t){for(var r=3;r>=0;r--)$f10cc2748b0a1de2$export$68d8715fc104d294(e,t>>>8*r&$5a7050a36c45c1a3$export$c880072ee0e87648)},$f10cc2748b0a1de2$export$5517b6394fc440fb=function(e,t,r){for(var n=0;n<4;n++)$f10cc2748b0a1de2$export$adaa4cf7ef1b65be(e,t+n,r&$5a7050a36c45c1a3$export$c880072ee0e87648),r>>>=8},$f10cc2748b0a1de2$export$872f48c75febcd2b=function(e,t){for(;t>$5a7050a36c45c1a3$export$f84d6bebff154ceb;)$f10cc2748b0a1de2$export$68d8715fc104d294(e,$5a7050a36c45c1a3$export$e25597372303a045|$5a7050a36c45c1a3$export$f84d6bebff154ceb&t),t=$0a30c1e54eae8fd7$export$a3fe094919f356fd(t/128);$f10cc2748b0a1de2$export$68d8715fc104d294(e,$5a7050a36c45c1a3$export$f84d6bebff154ceb&t)},$f10cc2748b0a1de2$export$ff90f819e16cc9bb=function(e,t){var r=$0a30c1e54eae8fd7$export$dc0a61f4a9121f92(t);for(r&&(t=-t),$f10cc2748b0a1de2$export$68d8715fc104d294(e,(t>$5a7050a36c45c1a3$export$f39f4e074e983a34?$5a7050a36c45c1a3$export$e25597372303a045:0)|(r?$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5:0)|$5a7050a36c45c1a3$export$f39f4e074e983a34&t),t=$0a30c1e54eae8fd7$export$a3fe094919f356fd(t/64);t>0;)$f10cc2748b0a1de2$export$68d8715fc104d294(e,(t>$5a7050a36c45c1a3$export$f84d6bebff154ceb?$5a7050a36c45c1a3$export$e25597372303a045:0)|$5a7050a36c45c1a3$export$f84d6bebff154ceb&t),t=$0a30c1e54eae8fd7$export$a3fe094919f356fd(t/128)},$f10cc2748b0a1de2$var$_strBuffer=new Uint8Array(3e4),$f10cc2748b0a1de2$var$_maxStrBSize=$f10cc2748b0a1de2$var$_strBuffer.length/3,$f10cc2748b0a1de2$export$dff327976627e12b=function(e,t){if(t.length<$f10cc2748b0a1de2$var$_maxStrBSize){var r=$55e5766569efa8f2$export$f3ce4806f2484eb.encodeInto(t,$f10cc2748b0a1de2$var$_strBuffer).written||0;$f10cc2748b0a1de2$export$872f48c75febcd2b(e,r);for(var n=0;n<r;n++)$f10cc2748b0a1de2$export$68d8715fc104d294(e,$f10cc2748b0a1de2$var$_strBuffer[n])}else $f10cc2748b0a1de2$export$f7d11515275e88a2(e,$55e5766569efa8f2$export$8f647c2204da8484(t))},$f10cc2748b0a1de2$export$94cf4193edfe959a=function(e,t){var r=unescape(encodeURIComponent(t)),n=r.length;$f10cc2748b0a1de2$export$872f48c75febcd2b(e,n);for(var i=0;i<n;i++)$f10cc2748b0a1de2$export$68d8715fc104d294(e,r.codePointAt(i))},$f10cc2748b0a1de2$export$dde49cb52d5f1650=$55e5766569efa8f2$export$f3ce4806f2484eb&&$55e5766569efa8f2$export$f3ce4806f2484eb.encodeInto?$f10cc2748b0a1de2$export$dff327976627e12b:$f10cc2748b0a1de2$export$94cf4193edfe959a,$f10cc2748b0a1de2$export$c029b62321ea3da=function(e,t){return $f10cc2748b0a1de2$export$73b5e63e27d2b4c7(e,$f10cc2748b0a1de2$export$73470fd2221e6aef(t))},$f10cc2748b0a1de2$export$73b5e63e27d2b4c7=function(e,t){var r=e.cbuf.length,n=e.cpos,i=$0a30c1e54eae8fd7$export$96ec731ed4dcb222(r-n,t.length),a=t.length-i;e.cbuf.set(t.subarray(0,i),n),e.cpos+=i,a>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array($0a30c1e54eae8fd7$export$8960430cfd85939f(2*r,a)),e.cbuf.set(t.subarray(i)),e.cpos=a)},$f10cc2748b0a1de2$export$f7d11515275e88a2=function(e,t){$f10cc2748b0a1de2$export$872f48c75febcd2b(e,t.byteLength),$f10cc2748b0a1de2$export$73b5e63e27d2b4c7(e,t)},$f10cc2748b0a1de2$export$1f031ae9c71bd530=function(e,t){$f10cc2748b0a1de2$export$39fb588b9aff60c5(e,t);var r=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,r},$f10cc2748b0a1de2$export$a33455db0a9638a6=function(e,t){return $f10cc2748b0a1de2$export$1f031ae9c71bd530(e,4).setFloat32(0,t,!1)},$f10cc2748b0a1de2$export$231a04cea676c54c=function(e,t){return $f10cc2748b0a1de2$export$1f031ae9c71bd530(e,8).setFloat64(0,t,!1)},$f10cc2748b0a1de2$export$4fbfa93dd6e14543=function(e,t){return $f10cc2748b0a1de2$export$1f031ae9c71bd530(e,8).setBigInt64(0,t,!1)},$f10cc2748b0a1de2$export$663ca46034903888=function(e,t){return $f10cc2748b0a1de2$export$1f031ae9c71bd530(e,8).setBigUint64(0,t,!1)},$f10cc2748b0a1de2$var$floatTestBed=new DataView(new ArrayBuffer(4)),$f10cc2748b0a1de2$var$isFloat32=function(e){return $f10cc2748b0a1de2$var$floatTestBed.setFloat32(0,e),$f10cc2748b0a1de2$var$floatTestBed.getFloat32(0)===e},$f10cc2748b0a1de2$export$264b1e8551468ea=function(e,t){switch(void 0===t?"undefined":(0,$dCPLc.default)(t)){case"string":$f10cc2748b0a1de2$export$68d8715fc104d294(e,119),$f10cc2748b0a1de2$export$dde49cb52d5f1650(e,t);break;case"number":$9951f688bcf576b2$export$a287f47fed4544b8(t)&&$0a30c1e54eae8fd7$export$2335f513bbd82c6d(t)<=$5a7050a36c45c1a3$export$87ec42487f19c66c?($f10cc2748b0a1de2$export$68d8715fc104d294(e,125),$f10cc2748b0a1de2$export$ff90f819e16cc9bb(e,t)):$f10cc2748b0a1de2$var$isFloat32(t)?($f10cc2748b0a1de2$export$68d8715fc104d294(e,124),$f10cc2748b0a1de2$export$a33455db0a9638a6(e,t)):($f10cc2748b0a1de2$export$68d8715fc104d294(e,123),$f10cc2748b0a1de2$export$231a04cea676c54c(e,t));break;case"bigint":$f10cc2748b0a1de2$export$68d8715fc104d294(e,122),$f10cc2748b0a1de2$export$4fbfa93dd6e14543(e,t);break;case"object":if(null===t)$f10cc2748b0a1de2$export$68d8715fc104d294(e,126);else if(t instanceof Array){$f10cc2748b0a1de2$export$68d8715fc104d294(e,117),$f10cc2748b0a1de2$export$872f48c75febcd2b(e,t.length);for(var r=0;r<t.length;r++)$f10cc2748b0a1de2$export$264b1e8551468ea(e,t[r])}else if(t instanceof Uint8Array)$f10cc2748b0a1de2$export$68d8715fc104d294(e,116),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,t);else{$f10cc2748b0a1de2$export$68d8715fc104d294(e,118);var n=Object.keys(t);$f10cc2748b0a1de2$export$872f48c75febcd2b(e,n.length);for(var i=0;i<n.length;i++){var a=n[i];$f10cc2748b0a1de2$export$dde49cb52d5f1650(e,a),$f10cc2748b0a1de2$export$264b1e8551468ea(e,t[a])}}break;case"boolean":$f10cc2748b0a1de2$export$68d8715fc104d294(e,t?120:121);break;default:$f10cc2748b0a1de2$export$68d8715fc104d294(e,127)}},$f10cc2748b0a1de2$export$8fa72bb4fa9409ff=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this)).w=e,n.s=null,n.count=0,n}return(0,$9HoHC.default)(r,[{key:"write",value:function(e){this.s===e?this.count++:(this.count>0&&$f10cc2748b0a1de2$export$872f48c75febcd2b(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}]),r}($f10cc2748b0a1de2$export$a50aceb0e02a00aa),$f10cc2748b0a1de2$export$c636f3fa46f2752c=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this)).s=e,n}return(0,$9HoHC.default)(r,[{key:"write",value:function(e){$f10cc2748b0a1de2$export$ff90f819e16cc9bb(this,e-this.s),this.s=e}}]),r}($f10cc2748b0a1de2$export$a50aceb0e02a00aa),$f10cc2748b0a1de2$export$29917ece4cb403fb=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this)).s=e,n.count=0,n}return(0,$9HoHC.default)(r,[{key:"write",value:function(e){this.s===e&&this.count>0?this.count++:(this.count>0&&$f10cc2748b0a1de2$export$872f48c75febcd2b(this,this.count-1),this.count=1,$f10cc2748b0a1de2$export$ff90f819e16cc9bb(this,e-this.s),this.s=e)}}]),r}($f10cc2748b0a1de2$export$a50aceb0e02a00aa),$f10cc2748b0a1de2$var$flushUintOptRleEncoder=function(e){e.count>0&&($f10cc2748b0a1de2$export$ff90f819e16cc9bb(e.encoder,1===e.count?e.s:-e.s),e.count>1&&$f10cc2748b0a1de2$export$872f48c75febcd2b(e.encoder,e.count-2))},$f10cc2748b0a1de2$export$785ebd3312c38061=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.encoder=new $f10cc2748b0a1de2$export$a50aceb0e02a00aa,this.s=0,this.count=0}return(0,$9HoHC.default)(e,[{key:"write",value:function(e){this.s===e?this.count++:($f10cc2748b0a1de2$var$flushUintOptRleEncoder(this),this.count=1,this.s=e)}},{key:"toUint8Array",value:function(){return $f10cc2748b0a1de2$var$flushUintOptRleEncoder(this),$f10cc2748b0a1de2$export$73470fd2221e6aef(this.encoder)}}]),e}(),$f10cc2748b0a1de2$export$f460a01fb0702193=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.encoder=new $f10cc2748b0a1de2$export$a50aceb0e02a00aa,this.s=0,this.count=0}return(0,$9HoHC.default)(e,[{key:"write",value:function(e){this.s+this.count===e?this.count++:($f10cc2748b0a1de2$var$flushUintOptRleEncoder(this),this.count=1,this.s=e)}},{key:"toUint8Array",value:function(){return $f10cc2748b0a1de2$var$flushUintOptRleEncoder(this),$f10cc2748b0a1de2$export$73470fd2221e6aef(this.encoder)}}]),e}(),$f10cc2748b0a1de2$var$flushIntDiffOptRleEncoder=function(e){if(e.count>0){var t=2*e.diff+(1===e.count?0:1);$f10cc2748b0a1de2$export$ff90f819e16cc9bb(e.encoder,t),e.count>1&&$f10cc2748b0a1de2$export$872f48c75febcd2b(e.encoder,e.count-2)}},$f10cc2748b0a1de2$export$7542c66a59375c6f=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.encoder=new $f10cc2748b0a1de2$export$a50aceb0e02a00aa,this.s=0,this.count=0,this.diff=0}return(0,$9HoHC.default)(e,[{key:"write",value:function(e){this.diff===e-this.s?(this.s=e,this.count++):($f10cc2748b0a1de2$var$flushIntDiffOptRleEncoder(this),this.count=1,this.diff=e-this.s,this.s=e)}},{key:"toUint8Array",value:function(){return $f10cc2748b0a1de2$var$flushIntDiffOptRleEncoder(this),$f10cc2748b0a1de2$export$73470fd2221e6aef(this.encoder)}}]),e}(),$f10cc2748b0a1de2$export$7dcdc5c32f31c550=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.sarr=[],this.s="",this.lensE=new $f10cc2748b0a1de2$export$785ebd3312c38061}return(0,$9HoHC.default)(e,[{key:"write",value:function(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}},{key:"toUint8Array",value:function(){var e=new $f10cc2748b0a1de2$export$a50aceb0e02a00aa;return this.sarr.push(this.s),this.s="",$f10cc2748b0a1de2$export$dde49cb52d5f1650(e,this.sarr.join("")),$f10cc2748b0a1de2$export$73b5e63e27d2b4c7(e,this.lensE.toUint8Array()),$f10cc2748b0a1de2$export$73470fd2221e6aef(e)}}]),e}(),$46aa0bd9e0a12e09$export$f2d2284f5fec51f8="undefined"==typeof window?null:void 0!==window.performance&&window.performance||null,$46aa0bd9e0a12e09$var$isoCrypto="undefined"==typeof crypto?null:crypto,$46aa0bd9e0a12e09$export$8d1ef35389e8d0b1=null!==$46aa0bd9e0a12e09$var$isoCrypto?function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t);return $46aa0bd9e0a12e09$var$isoCrypto.getRandomValues(r),t}:function(e){for(var t=new ArrayBuffer(e),r=new Uint8Array(t),n=0;n<e;n++)r[n]=Math.ceil(4294967295*Math.random()>>>0);return t},$f3184b7c8c3c7caa$export$bb0a9c36cf454ea0=Math.random,$f3184b7c8c3c7caa$export$de9ffb9418dd7d0d=function(){return new Uint32Array($46aa0bd9e0a12e09$export$8d1ef35389e8d0b1(4))[0]},$f3184b7c8c3c7caa$export$6bf94e3d82617e4e=function(){var e=new Uint32Array($46aa0bd9e0a12e09$export$8d1ef35389e8d0b1(8));return(e[0]&$5a7050a36c45c1a3$export$b5ffbef7f0f6f536)*($5a7050a36c45c1a3$export$3ea07c5174cba08a+1)+(e[1]>>>0)},$f3184b7c8c3c7caa$export$a9a18ae5ba42aeab=function(e){return e[$0a30c1e54eae8fd7$export$a3fe094919f356fd($f3184b7c8c3c7caa$export$bb0a9c36cf454ea0()*e.length)]},$f3184b7c8c3c7caa$var$uuidv4Template="10000000-1000-4000-8000-100000000000",$f3184b7c8c3c7caa$export$abe4376e1bf796d6=function(){return $f3184b7c8c3c7caa$var$uuidv4Template.replace(/[018]/g,(function(e){return(e^$f3184b7c8c3c7caa$export$de9ffb9418dd7d0d()&15>>e/4).toString(16)}))},$c267ac28d0dedab2$export$3c3f39195836e927=1e24,$c267ac28d0dedab2$export$bc1fc8bc8e1895cf=1e21,$c267ac28d0dedab2$export$91377b751fc464a0=1e18,$c267ac28d0dedab2$export$fc10d2598c9417a5=1e15,$c267ac28d0dedab2$export$ce366dc9d5abf7ac=1e12,$c267ac28d0dedab2$export$197e40aa3a484017=1e9,$c267ac28d0dedab2$export$580f1e8cf64f2815=1e6,$c267ac28d0dedab2$export$a3ed9693cfbf67fa=1e3,$c267ac28d0dedab2$export$6ec17edd70114a88=100,$c267ac28d0dedab2$export$6ffbaf3528ca9f3f=10,$c267ac28d0dedab2$export$ec5800edbd9f0b69=.1,$c267ac28d0dedab2$export$9faf718fe58aaa35=.01,$c267ac28d0dedab2$export$fab274f99578ceb6=.001,$c267ac28d0dedab2$export$77bd0ce503b87b26=1e-6,$c267ac28d0dedab2$export$ddef5c050164e23e=1e-9,$c267ac28d0dedab2$export$e10c52a2ab594201=1e-12,$c267ac28d0dedab2$export$c49f04803481822=1e-15,$c267ac28d0dedab2$export$5510a0bcf77f39=1e-18,$c267ac28d0dedab2$export$2b85cc24af20b7fe=1e-21,$c267ac28d0dedab2$export$a2878e23774b59ce=1e-24,$c267ac28d0dedab2$var$prefixUp=["","k","M","G","T","P","E","Z","Y"],$c267ac28d0dedab2$var$prefixDown=["","m","μ","n","p","f","a","z","y"],$c267ac28d0dedab2$export$82e9f45cca5ba907=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0===e?0:$0a30c1e54eae8fd7$export$75e08744a3ff8516(e),n=0;r<3*n&&t>-8;)t--,n--;for(;r>=3+3*n&&t<8;)t++,n++;var i=t<0?$c267ac28d0dedab2$var$prefixDown[-t]:$c267ac28d0dedab2$var$prefixUp[t];return{n:$0a30c1e54eae8fd7$export$2077e0241d6afd3c(1e12*(n>0?e/$0a30c1e54eae8fd7$export$1bb2a14208c790f7(3*n):e*$0a30c1e54eae8fd7$export$1bb2a14208c790f7(-3*n)))/1e12,prefix:i}},$4db679f5c8917677$export$aa350b96d91cd94=function(){return new Date},$4db679f5c8917677$export$1f77c0008d16313=Date.now,$4db679f5c8917677$export$70cb903099cabea3=function(e){if(e<6e4){var t=$c267ac28d0dedab2$export$82e9f45cca5ba907(e,-1);return $0a30c1e54eae8fd7$export$2077e0241d6afd3c(100*t.n)/100+t.prefix+"s"}var r=(e=$0a30c1e54eae8fd7$export$a3fe094919f356fd(e/1e3))%60,n=$0a30c1e54eae8fd7$export$a3fe094919f356fd(e/60)%60,i=$0a30c1e54eae8fd7$export$a3fe094919f356fd(e/3600)%24,a=$0a30c1e54eae8fd7$export$a3fe094919f356fd(e/86400);return a>0?a+"d"+(i>0||n>30?" "+(n>30?i+1:i)+"h":""):i>0?i+"h"+(n>0||r>30?" "+(r>30?n+1:n)+"min":""):n+"min"+(r>0?" "+r+"s":"")},$62aeb30f224cdde1$export$185802fd694ee1f5=function(e){return new Promise(e)},$62aeb30f224cdde1$export$fe201bb3bbe031e9=function(e){return new Promise(e)},$62aeb30f224cdde1$export$84bf76cd7afc7469=function(e){return Promise.all(e)},$62aeb30f224cdde1$export$2800f3ceda99eb84=function(e){return Promise.reject(e)},$62aeb30f224cdde1$export$f7ad0328861e2f03=function(e){return Promise.resolve(e)},$62aeb30f224cdde1$export$65eff93aa071dbbd=function(e){return Promise.resolve(e)},$62aeb30f224cdde1$export$a40009bd2c363351=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return $62aeb30f224cdde1$export$185802fd694ee1f5((function(n,i){var a=$4db679f5c8917677$export$1f77c0008d16313(),o=e>0,s=setInterval((function(){t()?(clearInterval(s),n()):o&&$4db679f5c8917677$export$1f77c0008d16313()-a>e&&(clearInterval(s),i(new Error("Timeout")))}),r)}))},$62aeb30f224cdde1$export$5c069c93d2b7493f=function(e){return $62aeb30f224cdde1$export$185802fd694ee1f5((function(t,r){return setTimeout(t,e)}))},$62aeb30f224cdde1$export$4369c812aac99591=function(e){return e instanceof Promise||e&&e.then&&e.catch&&e.finally},$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$caN7I=parcelRequire("caN7I"),$dCPLc=parcelRequire("dCPLc"),$dCPLc=parcelRequire("dCPLc"),$4dbcf67f4ab68df5$export$185802fd694ee1f5=Symbol,$4dbcf67f4ab68df5$export$a244864fd9645c7f=function(e){return"symbol"===(void 0===e?"undefined":(0,$dCPLc.default)(e))},$4JAgF=parcelRequire("4JAgF"),$2d950c90423f3338$export$d63d7cff08fe4dc9=function e(t,r){"use strict";(0,$4JAgF.default)(this,e),this.left=t,this.right=r},$2d950c90423f3338$export$185802fd694ee1f5=function(e,t){return new $2d950c90423f3338$export$d63d7cff08fe4dc9(e,t)},$2d950c90423f3338$export$ca0ea131672c5a9b=function(e,t){return new $2d950c90423f3338$export$d63d7cff08fe4dc9(t,e)},$2d950c90423f3338$export$4b80e395e36b5a56=function(e,t){return e.forEach((function(e){return t(e.left,e.right)}))},$2d950c90423f3338$export$871de8747c9eaa88=function(e,t){return e.map((function(e){return t(e.left,e.right)}))},$600f59fbb4c29b08$export$2a111da947c407d2="undefined"!=typeof document?document:{},$600f59fbb4c29b08$export$c8a8987d4410bf2d=function(e){return $600f59fbb4c29b08$export$2a111da947c407d2.createElement(e)},$600f59fbb4c29b08$export$fb51152cd5328759=function(){return $600f59fbb4c29b08$export$2a111da947c407d2.createDocumentFragment()},$600f59fbb4c29b08$export$b2ce9ad90858ed7a=function(e){return $600f59fbb4c29b08$export$2a111da947c407d2.createTextNode(e)},$600f59fbb4c29b08$export$fb621bb527230cda="undefined"!=typeof DOMParser?new DOMParser:null,$600f59fbb4c29b08$export$77c9ee5a14f9d7cf=function(e,t,r){return e.dispatchEvent(new CustomEvent(t,r))},$600f59fbb4c29b08$export$74da2cba014bdc09=function(e,t){return $2d950c90423f3338$export$4b80e395e36b5a56(t,(function(t,r){!1===r?e.removeAttribute(t):!0===r?e.setAttribute(t,""):e.setAttribute(t,r)})),e},$600f59fbb4c29b08$export$ba744f7d152abea1=function(e,t){return t.forEach((function(t,r){e.setAttribute(r,t)})),e},$600f59fbb4c29b08$export$f00aeb236b6f05af=function(e){for(var t=$600f59fbb4c29b08$export$fb51152cd5328759(),r=0;r<e.length;r++)$600f59fbb4c29b08$export$1b8e57c9ea42f1d2(t,e[r]);return t},$600f59fbb4c29b08$export$10d8903dec122b9d=function(e,t){return $600f59fbb4c29b08$export$1b8e57c9ea42f1d2(e,$600f59fbb4c29b08$export$f00aeb236b6f05af(t)),e},$600f59fbb4c29b08$export$cd7f480d6b8286c3=function(e){return e.remove()},$600f59fbb4c29b08$export$3f65cefe8380dbea=function(e,t,r){return e.addEventListener(t,r)},$600f59fbb4c29b08$export$8ff9f68337b520c0=function(e,t,r){return e.removeEventListener(t,r)},$600f59fbb4c29b08$export$40a4ed63e5cb7043=function(e,t){return $2d950c90423f3338$export$4b80e395e36b5a56(t,(function(t,r){return $600f59fbb4c29b08$export$3f65cefe8380dbea(e,t,r)})),e},$600f59fbb4c29b08$export$8c7b13b21690651d=function(e,t){return $2d950c90423f3338$export$4b80e395e36b5a56(t,(function(t,r){return $600f59fbb4c29b08$export$8ff9f68337b520c0(e,t,r)})),e},$600f59fbb4c29b08$export$8454457683f90105=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return $600f59fbb4c29b08$export$10d8903dec122b9d($600f59fbb4c29b08$export$74da2cba014bdc09($600f59fbb4c29b08$export$c8a8987d4410bf2d(e),t),r)},$600f59fbb4c29b08$export$67ea982130081db=function(e,t){var r=$600f59fbb4c29b08$export$c8a8987d4410bf2d("canvas");return r.height=t,r.width=e,r},$600f59fbb4c29b08$export$6f093cfa640b7166=$600f59fbb4c29b08$export$b2ce9ad90858ed7a,$600f59fbb4c29b08$export$7f60f118cd3e6292=function(e){return"".concat(e.left,":").concat(e.right,";")},$600f59fbb4c29b08$export$3d24a00500154f45=function(e){return e.map($600f59fbb4c29b08$export$7f60f118cd3e6292).join("")},$600f59fbb4c29b08$export$7d9cafe158c3b49=function(e){return $16aaf99c17922512$export$871de8747c9eaa88(e,(function(e,t){return"".concat(t,":").concat(e,";")})).join("")},$600f59fbb4c29b08$export$78fb49a702cc1f2=function(e,t){return e.querySelector(t)},$600f59fbb4c29b08$export$2e83b5c43fb7af7b=function(e,t){return e.querySelectorAll(t)},$600f59fbb4c29b08$export$83595b84fc78b9b4=function(e){return $600f59fbb4c29b08$export$2a111da947c407d2.getElementById(e)},$600f59fbb4c29b08$var$_parse=function(e){return $600f59fbb4c29b08$export$fb621bb527230cda.parseFromString("<html><body>".concat(e,"</body></html>"),"text/html").body},$600f59fbb4c29b08$export$e1152f5efcc82ad=function(e){return $600f59fbb4c29b08$export$f00aeb236b6f05af($600f59fbb4c29b08$var$_parse(e).childNodes)},$600f59fbb4c29b08$export$b23064c2dcaf2b63=function(e){return $600f59fbb4c29b08$var$_parse(e).firstElementChild},$600f59fbb4c29b08$export$e6a6680780233a77=function(e,t){return e.replaceWith(t)},$600f59fbb4c29b08$export$86b68c7dbeb53c22=function(e,t,r){return e.insertBefore(t,r)},$600f59fbb4c29b08$export$1b8e57c9ea42f1d2=function(e,t){return e.appendChild(t)},$600f59fbb4c29b08$export$51c8a276ee4b8f51=$600f59fbb4c29b08$export$2a111da947c407d2.ELEMENT_NODE,$600f59fbb4c29b08$export$5bcc40203615fc2e=$600f59fbb4c29b08$export$2a111da947c407d2.TEXT_NODE,$600f59fbb4c29b08$export$e5fc6332c1c8eb8e=$600f59fbb4c29b08$export$2a111da947c407d2.CDATA_SECTION_NODE,$600f59fbb4c29b08$export$3d597a6ef0f08b0a=$600f59fbb4c29b08$export$2a111da947c407d2.COMMENT_NODE,$600f59fbb4c29b08$export$4139dcda4f7f83db=$600f59fbb4c29b08$export$2a111da947c407d2.DOCUMENT_NODE,$600f59fbb4c29b08$export$e9e7ddfdb004b848=$600f59fbb4c29b08$export$2a111da947c407d2.DOCUMENT_TYPE_NODE,$600f59fbb4c29b08$export$b86725031ae151ee=$600f59fbb4c29b08$export$2a111da947c407d2.DOCUMENT_FRAGMENT_NODE,$600f59fbb4c29b08$export$1aa65d86db59b879=function(e,t){return e.nodeType===t},$600f59fbb4c29b08$export$3c81af374b054d6a=function(e,t){for(var r=t.parentNode;r&&r!==e;)r=r.parentNode;return r===e},$989853b98a4974da$export$fac44ee5b035f737=JSON.stringify,$989853b98a4974da$export$98e6a39c04603d36=JSON.parse,$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$ccf739f6d639eb18$var$queue=[],$ccf739f6d639eb18$var$_runQueue=function(){for(var e=0;e<$ccf739f6d639eb18$var$queue.length;e++)$ccf739f6d639eb18$var$queue[e]();$ccf739f6d639eb18$var$queue=[]},$ccf739f6d639eb18$export$513072ba72100d9c=function(e){$ccf739f6d639eb18$var$queue.push(e),1===$ccf739f6d639eb18$var$queue.length&&setTimeout($ccf739f6d639eb18$var$_runQueue,0)},$ccf739f6d639eb18$var$createTimeoutClass=function(e){return function(){"use strict";function t(e){(0,$4JAgF.default)(this,t),this._=e}return(0,$9HoHC.default)(t,[{key:"destroy",value:function(){e(this._)}}]),t}()},$ccf739f6d639eb18$var$Timeout=$ccf739f6d639eb18$var$createTimeoutClass(clearTimeout),$ccf739f6d639eb18$export$83e74882c5df8fe1=function(e,t){return new $ccf739f6d639eb18$var$Timeout(setTimeout(t,e))},$ccf739f6d639eb18$var$Interval=$ccf739f6d639eb18$var$createTimeoutClass(clearInterval),$ccf739f6d639eb18$export$3174cdbf0a0cbc84=function(e,t){return new $ccf739f6d639eb18$var$Interval(setInterval(t,e))},$ccf739f6d639eb18$export$c35d437ae5945fcd=$ccf739f6d639eb18$var$createTimeoutClass((function(e){return"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e)})),$ccf739f6d639eb18$export$1402cba6a733f33a=function(e){return"undefined"==typeof requestAnimationFrame?$ccf739f6d639eb18$export$83e74882c5df8fe1(0,e):new $ccf739f6d639eb18$export$c35d437ae5945fcd(requestAnimationFrame(e))},$ccf739f6d639eb18$var$Idle=$ccf739f6d639eb18$var$createTimeoutClass((function(e){return"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e)})),$ccf739f6d639eb18$export$9f62c65f1b707875=function(e){return"undefined"!=typeof requestIdleCallback?new $ccf739f6d639eb18$var$Idle(requestIdleCallback(e)):$ccf739f6d639eb18$export$83e74882c5df8fe1(1e3,e)},$ccf739f6d639eb18$export$21cd608c50c2ba31=function(e){var t=-1;return function(r){clearTimeout(t),r&&(t=setTimeout(r,e))}},$aa66bd77ae1116ef$export$c1286c4c2a7c066=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$f0ce1666bb40789b=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$738c3b9a44c87ecc=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$7d278ca694634874=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$48d4b2cd5bc0e88b=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$aa201224bb439d47=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$7ffdeca4b2f927a2=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$3de5e29ed1757f9b=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$export$b586f81201748dd0=$4dbcf67f4ab68df5$export$185802fd694ee1f5(),$aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$var$_browserStyleMap=($aa66bd77ae1116ef$var$_obj={},(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$c1286c4c2a7c066,$2d950c90423f3338$export$185802fd694ee1f5("font-weight","bold")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$f0ce1666bb40789b,$2d950c90423f3338$export$185802fd694ee1f5("font-weight","normal")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$738c3b9a44c87ecc,$2d950c90423f3338$export$185802fd694ee1f5("color","blue")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$48d4b2cd5bc0e88b,$2d950c90423f3338$export$185802fd694ee1f5("color","green")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$7d278ca694634874,$2d950c90423f3338$export$185802fd694ee1f5("color","grey")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$aa201224bb439d47,$2d950c90423f3338$export$185802fd694ee1f5("color","red")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$7ffdeca4b2f927a2,$2d950c90423f3338$export$185802fd694ee1f5("color","purple")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$3de5e29ed1757f9b,$2d950c90423f3338$export$185802fd694ee1f5("color","orange")),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj,$aa66bd77ae1116ef$export$b586f81201748dd0,$2d950c90423f3338$export$185802fd694ee1f5("color","black")),$aa66bd77ae1116ef$var$_obj),$aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$var$_nodeStyleMap=($aa66bd77ae1116ef$var$_obj1={},(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$c1286c4c2a7c066,"[1m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$f0ce1666bb40789b,"[2m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$738c3b9a44c87ecc,"[34m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$48d4b2cd5bc0e88b,"[32m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$7d278ca694634874,"[37m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$aa201224bb439d47,"[31m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$7ffdeca4b2f927a2,"[35m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$3de5e29ed1757f9b,"[38;5;208m"),(0,$8WkQI.default)($aa66bd77ae1116ef$var$_obj1,$aa66bd77ae1116ef$export$b586f81201748dd0,"[0m"),$aa66bd77ae1116ef$var$_obj1),$aa66bd77ae1116ef$var$computeBrowserLoggingArgs=function(e){for(var t=[],r=[],n=$16aaf99c17922512$export$185802fd694ee1f5(),i=[],a=0;a<e.length;a++){var o=e[a],s=$aa66bd77ae1116ef$var$_browserStyleMap[o];if(void 0!==s)n.set(s.left,s.right);else{if(o.constructor!==String&&o.constructor!==Number)break;var u=$600f59fbb4c29b08$export$7d9cafe158c3b49(n);a>0||u.length>0?(t.push("%c"+o),r.push(u)):t.push(o)}}for(a>0&&(i=r).unshift(t.join(""));a<e.length;a++){var c=e[a];c instanceof Symbol||i.push(c)}return i},$aa66bd77ae1116ef$var$computeNoColorLoggingArgs=function(e){for(var t=[],r=[],n=0;n<e.length;n++){var i=e[n];if(void 0===$aa66bd77ae1116ef$var$_nodeStyleMap[i]){if(i.constructor!==String&&i.constructor!==Number)break;t.push(i)}}for(n>0&&r.push(t.join(""));n<e.length;n++){var a=e[n];a instanceof Symbol||(a.constructor===Object?r.push(JSON.stringify(a)):r.push(a))}return r},$aa66bd77ae1116ef$var$computeNodeLoggingArgs=function(e){for(var t=[],r=[],n=0;n<e.length;n++){var i=e[n],a=$aa66bd77ae1116ef$var$_nodeStyleMap[i];if(void 0!==a)t.push(a);else{if(i.constructor!==String&&i.constructor!==Number)break;t.push(i)}}for(n>0&&(t.push("[0m"),r.push(t.join("")));n<e.length;n++){var o=e[n];o instanceof Symbol||r.push(o)}return r},$aa66bd77ae1116ef$var$computeLoggingArgs=$c939349072016943$export$fcbe44f5d6fcebd?$c939349072016943$export$8ee0fc9ee280b4ee?$aa66bd77ae1116ef$var$computeNodeLoggingArgs:$aa66bd77ae1116ef$var$computeBrowserLoggingArgs:$aa66bd77ae1116ef$var$computeNoColorLoggingArgs,$aa66bd77ae1116ef$export$c2d084dc44961371=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;(n=console).log.apply(n,(0,$caN7I.default)($aa66bd77ae1116ef$var$computeLoggingArgs(t))),$aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(e){return e.print(t)}))},$aa66bd77ae1116ef$export$c106dd0671a0fc2d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;(n=console).warn.apply(n,(0,$caN7I.default)($aa66bd77ae1116ef$var$computeLoggingArgs(t))),t.unshift($aa66bd77ae1116ef$export$3de5e29ed1757f9b),$aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(e){return e.print(t)}))},$aa66bd77ae1116ef$export$55ee1551a3f962e6=function(e){console.error(e),$aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(t){return t.printError(e)}))},$aa66bd77ae1116ef$export$85acd411250ab137=function(e,t){$c939349072016943$export$4e09c449d6c407f7&&console.log("%c                      ","font-size: ".concat(t,"px; background-size: contain; background-repeat: no-repeat; background-image: url(").concat(e,")")),$aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(r){return r.printImg(e,t)}))},$aa66bd77ae1116ef$export$fcd48d8a033dbfbf=function(e,t){return $aa66bd77ae1116ef$export$85acd411250ab137("data:image/gif;base64,".concat(e),t)},$aa66bd77ae1116ef$export$e5e25fbcc1f7affe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;(n=console).group.apply(n,(0,$caN7I.default)($aa66bd77ae1116ef$var$computeLoggingArgs(t))),$aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(e){return e.group(t)}))},$aa66bd77ae1116ef$export$488ef8fb3416a29f=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;(n=console).groupCollapsed.apply(n,(0,$caN7I.default)($aa66bd77ae1116ef$var$computeLoggingArgs(t))),$aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(e){return e.groupCollapsed(t)}))},$aa66bd77ae1116ef$export$a57f3dfe595273e6=function(){console.groupEnd(),$aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(e){return e.groupEnd()}))},$aa66bd77ae1116ef$export$76dff282388623b3=function(e){return $aa66bd77ae1116ef$export$6f0283bff34730a1.forEach((function(t){return t.printDom(e())}))},$aa66bd77ae1116ef$export$98f2e847362d891=function(e,t){return $aa66bd77ae1116ef$export$85acd411250ab137(e.toDataURL(),t)},$aa66bd77ae1116ef$export$6f0283bff34730a1=new Set,$aa66bd77ae1116ef$var$_computeLineSpans=function(e){for(var t=[],r=new Map,n=0;n<e.length;n++){var i=e[n],a=$aa66bd77ae1116ef$var$_browserStyleMap[i];if(void 0!==a)r.set(a.left,a.right);else{if(i.constructor!==String&&i.constructor!==Number)break;var o=$600f59fbb4c29b08$export$8454457683f90105("span",[$2d950c90423f3338$export$185802fd694ee1f5("style",$600f59fbb4c29b08$export$7d9cafe158c3b49(r))],[$600f59fbb4c29b08$export$6f093cfa640b7166(i.toString())]);""===o.innerHTML&&(o.innerHTML="&nbsp;"),t.push(o)}}for(;n<e.length;n++){var s=e[n];s instanceof Symbol||(s.constructor!==String&&s.constructor!==Number&&(s=" "+$989853b98a4974da$export$fac44ee5b035f737(s)+" "),t.push($600f59fbb4c29b08$export$8454457683f90105("span",[],[$600f59fbb4c29b08$export$6f093cfa640b7166(s)])))}return t},$aa66bd77ae1116ef$var$lineStyle="font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;",$aa66bd77ae1116ef$export$79dd518d42f6d7a1=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.dom=t,this.ccontainer=this.dom,this.depth=0,$aa66bd77ae1116ef$export$6f0283bff34730a1.add(this)}return(0,$9HoHC.default)(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;$ccf739f6d639eb18$export$513072ba72100d9c((function(){var n=$600f59fbb4c29b08$export$8454457683f90105("span",[$2d950c90423f3338$export$185802fd694ee1f5("hidden",t),$2d950c90423f3338$export$185802fd694ee1f5("style","color:grey;font-size:120%;")],[$600f59fbb4c29b08$export$6f093cfa640b7166("▼")]),i=$600f59fbb4c29b08$export$8454457683f90105("span",[$2d950c90423f3338$export$185802fd694ee1f5("hidden",!t),$2d950c90423f3338$export$185802fd694ee1f5("style","color:grey;font-size:125%;")],[$600f59fbb4c29b08$export$6f093cfa640b7166("▶")]),a=$600f59fbb4c29b08$export$8454457683f90105("div",[$2d950c90423f3338$export$185802fd694ee1f5("style","".concat($aa66bd77ae1116ef$var$lineStyle,";padding-left:").concat(10*r.depth,"px"))],[n,i,$600f59fbb4c29b08$export$6f093cfa640b7166(" ")].concat($aa66bd77ae1116ef$var$_computeLineSpans(e))),o=$600f59fbb4c29b08$export$8454457683f90105("div",[$2d950c90423f3338$export$185802fd694ee1f5("hidden",t)]),s=$600f59fbb4c29b08$export$8454457683f90105("div",[],[a,o]);$600f59fbb4c29b08$export$10d8903dec122b9d(r.ccontainer,[s]),r.ccontainer=o,r.depth++,$600f59fbb4c29b08$export$3f65cefe8380dbea(a,"click",(function(e){o.toggleAttribute("hidden"),n.toggleAttribute("hidden"),i.toggleAttribute("hidden")}))}))}},{key:"groupCollapsed",value:function(e){this.group(e,!0)}},{key:"groupEnd",value:function(){var e=this;$ccf739f6d639eb18$export$513072ba72100d9c((function(){e.depth>0&&(e.depth--,e.ccontainer=e.ccontainer.parentElement.parentElement)}))}},{key:"print",value:function(e){var t=this;$ccf739f6d639eb18$export$513072ba72100d9c((function(){$600f59fbb4c29b08$export$10d8903dec122b9d(t.ccontainer,[$600f59fbb4c29b08$export$8454457683f90105("div",[$2d950c90423f3338$export$185802fd694ee1f5("style","".concat($aa66bd77ae1116ef$var$lineStyle,";padding-left:").concat(10*t.depth,"px"))],$aa66bd77ae1116ef$var$_computeLineSpans(e))])}))}},{key:"printError",value:function(e){this.print([$aa66bd77ae1116ef$export$aa201224bb439d47,$aa66bd77ae1116ef$export$c1286c4c2a7c066,e.toString()])}},{key:"printImg",value:function(e,t){var r=this;$ccf739f6d639eb18$export$513072ba72100d9c((function(){$600f59fbb4c29b08$export$10d8903dec122b9d(r.ccontainer,[$600f59fbb4c29b08$export$8454457683f90105("img",[$2d950c90423f3338$export$185802fd694ee1f5("src",e),$2d950c90423f3338$export$185802fd694ee1f5("height","".concat($0a30c1e54eae8fd7$export$2077e0241d6afd3c(1.5*t),"px"))])])}))}},{key:"printDom",value:function(e){var t=this;$ccf739f6d639eb18$export$513072ba72100d9c((function(){$600f59fbb4c29b08$export$10d8903dec122b9d(t.ccontainer,[e])}))}},{key:"destroy",value:function(){var e=this;$ccf739f6d639eb18$export$513072ba72100d9c((function(){$aa66bd77ae1116ef$export$6f0283bff34730a1.delete(e)}))}}]),e}(),$aa66bd77ae1116ef$export$3b589da4ab12cf23=function(e){return new $aa66bd77ae1116ef$export$79dd518d42f6d7a1(e)},$aa66bd77ae1116ef$var$loggingColors=[$aa66bd77ae1116ef$export$48d4b2cd5bc0e88b,$aa66bd77ae1116ef$export$7ffdeca4b2f927a2,$aa66bd77ae1116ef$export$3de5e29ed1757f9b,$aa66bd77ae1116ef$export$738c3b9a44c87ecc],$aa66bd77ae1116ef$var$nextColor=0,$aa66bd77ae1116ef$var$lastLoggingTime=$4db679f5c8917677$export$1f77c0008d16313(),$aa66bd77ae1116ef$export$c2977e725d59a2fd=function(e){var t=$aa66bd77ae1116ef$var$loggingColors[$aa66bd77ae1116ef$var$nextColor],r=$c939349072016943$export$39fb32ac18db3f88("log"),n=null!==r&&("*"===r||"true"===r||new RegExp(r,"gi").test(e));return $aa66bd77ae1116ef$var$nextColor=($aa66bd77ae1116ef$var$nextColor+1)%$aa66bd77ae1116ef$var$loggingColors.length,e+=": ",n?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=$4db679f5c8917677$export$1f77c0008d16313(),o=a-$aa66bd77ae1116ef$var$lastLoggingTime;$aa66bd77ae1116ef$var$lastLoggingTime=a,$aa66bd77ae1116ef$export$c2d084dc44961371.apply(void 0,[t,e,$aa66bd77ae1116ef$export$b586f81201748dd0].concat((0,$caN7I.default)(n.map((function(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":(0,$dCPLc.default)(e))?e:JSON.stringify(e)}))),[t," +"+o+"ms"]))}:$9482d2641084b8fc$export$b5f1cfe7b08e6ed5},$8WkQI=parcelRequire("8WkQI"),$db5787e1249b576d$export$68b1bda190f54159=function(e,t){var r;return r={},(0,$8WkQI.default)(r,Symbol.iterator,(function(){return this})),(0,$8WkQI.default)(r,"next",(function(){var r=e.next();return{value:r.done?void 0:t(r.value),done:r.done}})),r},$db5787e1249b576d$export$7342c78d7e13e778=function(e){var t;return t={},(0,$8WkQI.default)(t,Symbol.iterator,(function(){return this})),(0,$8WkQI.default)(t,"next",e),t},$db5787e1249b576d$export$88f0b2eef157f31a=function(e,t){return $db5787e1249b576d$export$7342c78d7e13e778((function(){var r;do{r=e.next()}while(!r.done&&!t(r.value));return r}))},$db5787e1249b576d$export$1570d514f543056a=function(e,t){return $db5787e1249b576d$export$7342c78d7e13e778((function(){var r=e.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:t(i)}}))},$e67e71e96b17d958$export$c3faceeb92aa39dd=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this)).doc=e,i.awareness=n,i}return r}($f888d7a0f7880485$export$77cea355fa80b5f4),$e67e71e96b17d958$var$DeleteItem=function e(t,r){"use strict";(0,$4JAgF.default)(this,e),this.clock=t,this.len=r},$e67e71e96b17d958$var$DeleteSet=function e(){"use strict";(0,$4JAgF.default)(this,e),this.clients=new Map},$e67e71e96b17d958$export$8afefebbaf4e4c78=function(e,t,r){return t.clients.forEach((function(t,n){for(var i=e.doc.store.clients.get(n),a=0;a<t.length;a++){var o=t[a];$e67e71e96b17d958$var$iterateStructs(e,i,o.clock,o.len,r)}}))},$e67e71e96b17d958$var$findIndexDS=function(e,t){for(var r=0,n=e.length-1;r<=n;){var i=$0a30c1e54eae8fd7$export$a3fe094919f356fd((r+n)/2),a=e[i],o=a.clock;if(o<=t){if(t<o+a.len)return i;r=i+1}else n=i-1}return null},$e67e71e96b17d958$export$dcb04af092e44fde=function(e,t){var r=e.clients.get(t.client);return void 0!==r&&null!==$e67e71e96b17d958$var$findIndexDS(r,t.clock)},$e67e71e96b17d958$var$sortAndMergeDeleteSet=function(e){e.clients.forEach((function(e){var t,r;for(e.sort((function(e,t){return e.clock-t.clock})),t=1,r=1;t<e.length;t++){var n=e[r-1],i=e[t];n.clock+n.len>=i.clock?n.len=$0a30c1e54eae8fd7$export$8960430cfd85939f(n.len,i.clock+i.len-n.clock):(r<t&&(e[r]=i),r++)}e.length=r}))},$e67e71e96b17d958$var$mergeDeleteSets=function(e){for(var t=function(t){e[t].clients.forEach((function(n,i){if(!r.clients.has(i)){for(var a=n.slice(),o=t+1;o<e.length;o++)$b96f611d003ab434$export$9ceefe31f12a3778(a,e[o].clients.get(i)||[]);r.clients.set(i,a)}}))},r=new $e67e71e96b17d958$var$DeleteSet,n=0;n<e.length;n++)t(n);return $e67e71e96b17d958$var$sortAndMergeDeleteSet(r),r},$e67e71e96b17d958$var$addToDeleteSet=function(e,t,r,n){$16aaf99c17922512$export$dccd489362a8619(e.clients,t,(function(){return[]})).push(new $e67e71e96b17d958$var$DeleteItem(r,n))},$e67e71e96b17d958$export$8cbac0d946238699=function(){return new $e67e71e96b17d958$var$DeleteSet},$e67e71e96b17d958$export$8450d668bec558e2=function(e){var t=$e67e71e96b17d958$export$8cbac0d946238699();return e.clients.forEach((function(e,r){for(var n=[],i=0;i<e.length;i++){var a=e[i];if(a.deleted){var o=a.id.clock,s=a.length;if(i+1<e.length)for(var u=e[i+1];i+1<e.length&&u.deleted;u=e[1+ ++i])s+=u.length;n.push(new $e67e71e96b17d958$var$DeleteItem(o,s))}}n.length>0&&t.clients.set(r,n)})),t},$e67e71e96b17d958$var$writeDeleteSet=function(e,t){$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,t.clients.size),t.clients.forEach((function(t,r){e.resetDsCurVal(),$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,r);var n=t.length;$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,n);for(var i=0;i<n;i++){var a=t[i];e.writeDsClock(a.clock),e.writeDsLen(a.len)}}))},$e67e71e96b17d958$var$readDeleteSet=function(e){for(var t=function(t){e.resetDsCurVal();var n=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),i=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder);if(i>0)for(var a=$16aaf99c17922512$export$dccd489362a8619(r.clients,n,(function(){return[]})),o=0;o<i;o++)a.push(new $e67e71e96b17d958$var$DeleteItem(e.readDsClock(),e.readDsLen()))},r=new $e67e71e96b17d958$var$DeleteSet,n=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),i=0;i<n;i++)t();return r},$e67e71e96b17d958$var$readAndApplyDeleteSet=function(e,t,r){for(var n=new $e67e71e96b17d958$var$DeleteSet,i=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),a=0;a<i;a++){e.resetDsCurVal();for(var o=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),s=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),u=r.clients.get(o)||[],c=$e67e71e96b17d958$export$50fdfeece43146fd(r,o),l=0;l<s;l++){var f=e.readDsClock(),d=f+e.readDsLen();if(f<c){c<d&&$e67e71e96b17d958$var$addToDeleteSet(n,o,c,d-c);var h=$e67e71e96b17d958$export$5f8f02523cf47b58(u,f),v=u[h];for(!v.deleted&&v.id.clock<f&&(u.splice(h+1,0,$e67e71e96b17d958$var$splitItem(t,v,f-v.id.clock)),h++);h<u.length&&(v=u[h++]).id.clock<d;)v.deleted||(d<v.id.clock+v.length&&u.splice(h,0,$e67e71e96b17d958$var$splitItem(t,v,d-v.id.clock)),v.delete(t))}else $e67e71e96b17d958$var$addToDeleteSet(n,o,f,d-f)}}if(n.clients.size>0){var p=new $e67e71e96b17d958$var$UpdateEncoderV2;return $f10cc2748b0a1de2$export$872f48c75febcd2b(p.restEncoder,0),$e67e71e96b17d958$var$writeDeleteSet(p,n),p.toUint8Array()}return null},$e67e71e96b17d958$var$generateNewClientId=$f3184b7c8c3c7caa$export$de9ffb9418dd7d0d,$e67e71e96b17d958$export$bceacc74c2212615=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.guid,a=void 0===i?$f3184b7c8c3c7caa$export$abe4376e1bf796d6():i,o=n.collectionid,s=void 0===o?null:o,u=n.gc,c=void 0===u||u,l=n.gcFilter,f=void 0===l?function(){return!0}:l,d=n.meta,h=void 0===d?null:d,v=n.autoLoad,p=void 0!==v&&v,b=n.shouldLoad,g=void 0===b||b;return(0,$4JAgF.default)(this,r),(e=t.call(this)).gc=c,e.gcFilter=f,e.clientID=$e67e71e96b17d958$var$generateNewClientId(),e.guid=a,e.collectionid=s,e.share=new Map,e.store=new $e67e71e96b17d958$var$StructStore,e._transaction=null,e._transactionCleanups=[],e.subdocs=new Set,e._item=null,e.shouldLoad=g,e.autoLoad=p,e.meta=h,e.isLoaded=!1,e.whenLoaded=$62aeb30f224cdde1$export$185802fd694ee1f5((function(t){e.on("load",(function(){e.isLoaded=!0,t((0,$aPYZr.default)(e))}))})),e}return(0,$9HoHC.default)(r,[{key:"load",value:function(){var e=this,t=this._item;null===t||this.shouldLoad||$e67e71e96b17d958$export$dac1bad6146b2469(t.parent.doc,(function(t){t.subdocsLoaded.add(e)}),null,!0),this.shouldLoad=!0}},{key:"getSubdocs",value:function(){return this.subdocs}},{key:"getSubdocGuids",value:function(){return new Set(Array.from(this.subdocs).map((function(e){return e.guid})))}},{key:"transact",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;$e67e71e96b17d958$export$dac1bad6146b2469(this,e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e67e71e96b17d958$export$c265dc8338484497,r=this,n=$16aaf99c17922512$export$dccd489362a8619(this.share,e,(function(){var e=new t;return e._integrate(r,null),e})),i=n.constructor;if(t!==$e67e71e96b17d958$export$c265dc8338484497&&i!==t){if(i===$e67e71e96b17d958$export$c265dc8338484497){var a=new t;a._map=n._map,n._map.forEach((function(e){for(;null!==e;e=e.left)e.parent=a})),a._start=n._start;for(var o=a._start;null!==o;o=o.right)o.parent=a;return a._length=n._length,this.share.set(e,a),a._integrate(this,null),a}throw new Error("Type with the name ".concat(e," has already been defined with a different constructor"))}return n}},{key:"getArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,$e67e71e96b17d958$export$c4be6576ca6fe4aa)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,$e67e71e96b17d958$export$5f1af8db9871e1d6)}},{key:"getMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,$e67e71e96b17d958$export$a5c7b93649eaf8f8)}},{key:"getXmlFragment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,$e67e71e96b17d958$export$d5ce8c3e1731f1a7)}},{key:"toJSON",value:function(){var e={};return this.share.forEach((function(t,r){e[r]=t.toJSON()})),e}},{key:"destroy",value:function(){var e=this;$b96f611d003ab434$export$6788812c4e6611e6(this.subdocs).forEach((function(e){return e.destroy()}));var t=this._item;if(null!==t){this._item=null;var n=t.content;n.doc=new r($62fec355e81061c1$export$2e2bcd8739ae039((0,$gUJ6q.default)({guid:this.guid},n.opts),{shouldLoad:!1})),n.doc._item=t,$e67e71e96b17d958$export$dac1bad6146b2469(t.parent.doc,(function(r){var i=n.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(e)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"on",value:function(e,t){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"off",this).call(this,e,t)}}]),r}($f888d7a0f7880485$export$77cea355fa80b5f4),$e67e71e96b17d958$var$DSDecoderV1=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.restDecoder=t}return(0,$9HoHC.default)(e,[{key:"resetDsCurVal",value:function(){}},{key:"readDsClock",value:function(){return $5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder)}},{key:"readDsLen",value:function(){return $5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder)}}]),e}(),$e67e71e96b17d958$var$UpdateDecoderV1=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.apply(this,arguments)}return(0,$9HoHC.default)(r,[{key:"readLeftID",value:function(){return $e67e71e96b17d958$export$6c7d4e6171d008d0($5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder),$5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder))}},{key:"readRightID",value:function(){return $e67e71e96b17d958$export$6c7d4e6171d008d0($5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder),$5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder))}},{key:"readClient",value:function(){return $5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder)}},{key:"readInfo",value:function(){return $5d88d2f698148c14$export$d5778a2beba4ceef(this.restDecoder)}},{key:"readString",value:function(){return $5d88d2f698148c14$export$3b64b4d753b81ec2(this.restDecoder)}},{key:"readParentInfo",value:function(){return 1===$5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder)}},{key:"readTypeRef",value:function(){return $5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder)}},{key:"readLen",value:function(){return $5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder)}},{key:"readAny",value:function(){return $5d88d2f698148c14$export$82863139061f472f(this.restDecoder)}},{key:"readBuf",value:function(){return $f747887fa22c29f4$export$fe6f60023cd5ffaf($5d88d2f698148c14$export$7418bbc18dee40f3(this.restDecoder))}},{key:"readJSON",value:function(){return JSON.parse($5d88d2f698148c14$export$3b64b4d753b81ec2(this.restDecoder))}},{key:"readKey",value:function(){return $5d88d2f698148c14$export$3b64b4d753b81ec2(this.restDecoder)}}]),r}($e67e71e96b17d958$var$DSDecoderV1),$e67e71e96b17d958$var$DSDecoderV2=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.dsCurrVal=0,this.restDecoder=t}return(0,$9HoHC.default)(e,[{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"readDsClock",value:function(){return this.dsCurrVal+=$5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder),this.dsCurrVal}},{key:"readDsLen",value:function(){var e=$5d88d2f698148c14$export$5a476e4dbe7923d5(this.restDecoder)+1;return this.dsCurrVal+=e,e}}]),e}(),$e67e71e96b17d958$var$UpdateDecoderV2=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,e)).keys=[],$5d88d2f698148c14$export$5a476e4dbe7923d5(e),n.keyClockDecoder=new $5d88d2f698148c14$export$d502ab0bf048a596($5d88d2f698148c14$export$7418bbc18dee40f3(e)),n.clientDecoder=new $5d88d2f698148c14$export$2dc62fb2f864b82e($5d88d2f698148c14$export$7418bbc18dee40f3(e)),n.leftClockDecoder=new $5d88d2f698148c14$export$d502ab0bf048a596($5d88d2f698148c14$export$7418bbc18dee40f3(e)),n.rightClockDecoder=new $5d88d2f698148c14$export$d502ab0bf048a596($5d88d2f698148c14$export$7418bbc18dee40f3(e)),n.infoDecoder=new $5d88d2f698148c14$export$f1f1200492b832af($5d88d2f698148c14$export$7418bbc18dee40f3(e),$5d88d2f698148c14$export$d5778a2beba4ceef),n.stringDecoder=new $5d88d2f698148c14$export$63a7aa211a91ed69($5d88d2f698148c14$export$7418bbc18dee40f3(e)),n.parentInfoDecoder=new $5d88d2f698148c14$export$f1f1200492b832af($5d88d2f698148c14$export$7418bbc18dee40f3(e),$5d88d2f698148c14$export$d5778a2beba4ceef),n.typeRefDecoder=new $5d88d2f698148c14$export$2dc62fb2f864b82e($5d88d2f698148c14$export$7418bbc18dee40f3(e)),n.lenDecoder=new $5d88d2f698148c14$export$2dc62fb2f864b82e($5d88d2f698148c14$export$7418bbc18dee40f3(e)),n}return(0,$9HoHC.default)(r,[{key:"readLeftID",value:function(){return new $e67e71e96b17d958$export$8be180ec26319f9f(this.clientDecoder.read(),this.leftClockDecoder.read())}},{key:"readRightID",value:function(){return new $e67e71e96b17d958$export$8be180ec26319f9f(this.clientDecoder.read(),this.rightClockDecoder.read())}},{key:"readClient",value:function(){return this.clientDecoder.read()}},{key:"readInfo",value:function(){return this.infoDecoder.read()}},{key:"readString",value:function(){return this.stringDecoder.read()}},{key:"readParentInfo",value:function(){return 1===this.parentInfoDecoder.read()}},{key:"readTypeRef",value:function(){return this.typeRefDecoder.read()}},{key:"readLen",value:function(){return this.lenDecoder.read()}},{key:"readAny",value:function(){return $5d88d2f698148c14$export$82863139061f472f(this.restDecoder)}},{key:"readBuf",value:function(){return $5d88d2f698148c14$export$7418bbc18dee40f3(this.restDecoder)}},{key:"readJSON",value:function(){return $5d88d2f698148c14$export$82863139061f472f(this.restDecoder)}},{key:"readKey",value:function(){var e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];var t=this.stringDecoder.read();return this.keys.push(t),t}}]),r}($e67e71e96b17d958$var$DSDecoderV2),$e67e71e96b17d958$var$DSEncoderV1=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.restEncoder=$f10cc2748b0a1de2$export$4e76eeb6df88c889()}return(0,$9HoHC.default)(e,[{key:"toUint8Array",value:function(){return $f10cc2748b0a1de2$export$73470fd2221e6aef(this.restEncoder)}},{key:"resetDsCurVal",value:function(){}},{key:"writeDsClock",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e)}},{key:"writeDsLen",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e)}}]),e}(),$e67e71e96b17d958$export$99171b804d9c5b54=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.apply(this,arguments)}return(0,$9HoHC.default)(r,[{key:"writeLeftID",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e.client),$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e.clock)}},{key:"writeRightID",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e.client),$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e.clock)}},{key:"writeClient",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e)}},{key:"writeInfo",value:function(e){$f10cc2748b0a1de2$export$826a1a6619653272(this.restEncoder,e)}},{key:"writeString",value:function(e){$f10cc2748b0a1de2$export$dde49cb52d5f1650(this.restEncoder,e)}},{key:"writeParentInfo",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e?1:0)}},{key:"writeTypeRef",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e)}},{key:"writeLen",value:function(e){$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e)}},{key:"writeAny",value:function(e){$f10cc2748b0a1de2$export$264b1e8551468ea(this.restEncoder,e)}},{key:"writeBuf",value:function(e){$f10cc2748b0a1de2$export$f7d11515275e88a2(this.restEncoder,e)}},{key:"writeJSON",value:function(e){$f10cc2748b0a1de2$export$dde49cb52d5f1650(this.restEncoder,JSON.stringify(e))}},{key:"writeKey",value:function(e){$f10cc2748b0a1de2$export$dde49cb52d5f1650(this.restEncoder,e)}}]),r}($e67e71e96b17d958$var$DSEncoderV1),$e67e71e96b17d958$var$DSEncoderV2=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.restEncoder=$f10cc2748b0a1de2$export$4e76eeb6df88c889(),this.dsCurrVal=0}return(0,$9HoHC.default)(e,[{key:"toUint8Array",value:function(){return $f10cc2748b0a1de2$export$73470fd2221e6aef(this.restEncoder)}},{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"writeDsClock",value:function(e){var t=e-this.dsCurrVal;this.dsCurrVal=e,$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,t)}},{key:"writeDsLen",value:function(e){0===e&&$e42fddd38393ef44$export$965b6bccecbd9673(),$f10cc2748b0a1de2$export$872f48c75febcd2b(this.restEncoder,e-1),this.dsCurrVal+=e}}]),e}(),$e67e71e96b17d958$var$UpdateEncoderV2=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),(e=t.call(this)).keyMap=new Map,e.keyClock=0,e.keyClockEncoder=new $f10cc2748b0a1de2$export$7542c66a59375c6f,e.clientEncoder=new $f10cc2748b0a1de2$export$785ebd3312c38061,e.leftClockEncoder=new $f10cc2748b0a1de2$export$7542c66a59375c6f,e.rightClockEncoder=new $f10cc2748b0a1de2$export$7542c66a59375c6f,e.infoEncoder=new $f10cc2748b0a1de2$export$8fa72bb4fa9409ff($f10cc2748b0a1de2$export$826a1a6619653272),e.stringEncoder=new $f10cc2748b0a1de2$export$7dcdc5c32f31c550,e.parentInfoEncoder=new $f10cc2748b0a1de2$export$8fa72bb4fa9409ff($f10cc2748b0a1de2$export$826a1a6619653272),e.typeRefEncoder=new $f10cc2748b0a1de2$export$785ebd3312c38061,e.lenEncoder=new $f10cc2748b0a1de2$export$785ebd3312c38061,e}return(0,$9HoHC.default)(r,[{key:"toUint8Array",value:function(){var e=$f10cc2748b0a1de2$export$4e76eeb6df88c889();return $f10cc2748b0a1de2$export$872f48c75febcd2b(e,0),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,this.keyClockEncoder.toUint8Array()),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,this.clientEncoder.toUint8Array()),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,this.leftClockEncoder.toUint8Array()),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,this.rightClockEncoder.toUint8Array()),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,$f10cc2748b0a1de2$export$73470fd2221e6aef(this.infoEncoder)),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,this.stringEncoder.toUint8Array()),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,$f10cc2748b0a1de2$export$73470fd2221e6aef(this.parentInfoEncoder)),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,this.typeRefEncoder.toUint8Array()),$f10cc2748b0a1de2$export$f7d11515275e88a2(e,this.lenEncoder.toUint8Array()),$f10cc2748b0a1de2$export$73b5e63e27d2b4c7(e,$f10cc2748b0a1de2$export$73470fd2221e6aef(this.restEncoder)),$f10cc2748b0a1de2$export$73470fd2221e6aef(e)}},{key:"writeLeftID",value:function(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}},{key:"writeRightID",value:function(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}},{key:"writeClient",value:function(e){this.clientEncoder.write(e)}},{key:"writeInfo",value:function(e){this.infoEncoder.write(e)}},{key:"writeString",value:function(e){this.stringEncoder.write(e)}},{key:"writeParentInfo",value:function(e){this.parentInfoEncoder.write(e?1:0)}},{key:"writeTypeRef",value:function(e){this.typeRefEncoder.write(e)}},{key:"writeLen",value:function(e){this.lenEncoder.write(e)}},{key:"writeAny",value:function(e){$f10cc2748b0a1de2$export$264b1e8551468ea(this.restEncoder,e)}},{key:"writeBuf",value:function(e){$f10cc2748b0a1de2$export$f7d11515275e88a2(this.restEncoder,e)}},{key:"writeJSON",value:function(e){$f10cc2748b0a1de2$export$264b1e8551468ea(this.restEncoder,e)}},{key:"writeKey",value:function(e){var t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}]),r}($e67e71e96b17d958$var$DSEncoderV2),$e67e71e96b17d958$var$writeStructs=function(e,t,r,n){n=$0a30c1e54eae8fd7$export$8960430cfd85939f(n,t[0].id.clock);var i=$e67e71e96b17d958$export$5f8f02523cf47b58(t,n);$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,t.length-i),e.writeClient(r),$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,n);var a=t[i];a.write(e,n-a.id.clock);for(var o=i+1;o<t.length;o++)t[o].write(e,0)},$e67e71e96b17d958$var$writeClientsStructs=function(e,t,r){var n=new Map;r.forEach((function(e,r){$e67e71e96b17d958$export$50fdfeece43146fd(t,r)>e&&n.set(r,e)})),$e67e71e96b17d958$var$getStateVector(t).forEach((function(e,t){r.has(t)||n.set(t,0)})),$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,n.size),Array.from(n.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(r){var n=(0,$dVhHy.default)(r,2),i=n[0],a=n[1];$e67e71e96b17d958$var$writeStructs(e,t.clients.get(i),i,a)}))},$e67e71e96b17d958$var$readClientsStructRefs=function(e,t){for(var r=$16aaf99c17922512$export$185802fd694ee1f5(),n=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),i=0;i<n;i++){var a=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),o=new Array(a),s=e.readClient(),u=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder);r.set(s,{i:0,refs:o});for(var c=0;c<a;c++){var l=e.readInfo();switch($5a7050a36c45c1a3$export$bc2aba63e4099c09&l){case 0:var f=e.readLen();o[c]=new $e67e71e96b17d958$export$12d259ff017e6b58($e67e71e96b17d958$export$6c7d4e6171d008d0(s,u),f),u+=f;break;case 10:var d=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder);o[c]=new $e67e71e96b17d958$var$Skip($e67e71e96b17d958$export$6c7d4e6171d008d0(s,u),d),u+=d;break;default:var h=0==(l&($5a7050a36c45c1a3$export$eb5a8e0006ab4bb5|$5a7050a36c45c1a3$export$e25597372303a045)),v=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(s,u),null,(l&$5a7050a36c45c1a3$export$e25597372303a045)===$5a7050a36c45c1a3$export$e25597372303a045?e.readLeftID():null,null,(l&$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5)===$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5?e.readRightID():null,h?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,h&&(l&$5a7050a36c45c1a3$export$daf23f774967089)===$5a7050a36c45c1a3$export$daf23f774967089?e.readString():null,$e67e71e96b17d958$var$readItemContent(e,l));o[c]=v,u+=v.length}}}return r},$e67e71e96b17d958$var$integrateStructs=function(e,t,r){var n=[],i=Array.from(r.keys()).sort((function(e,t){return e-t}));if(0===i.length)return null;var a=function(){if(0===i.length)return null;for(var e=r.get(i[i.length-1]);e.refs.length===e.i;){if(i.pop(),!(i.length>0))return null;e=r.get(i[i.length-1])}return e},o=a();if(null===o&&0===n.length)return null;for(var s=new $e67e71e96b17d958$var$StructStore,u=new Map,c=function(e,t){var r=u.get(e);(null==r||r>t)&&u.set(e,t)},l=o.refs[o.i++],f=new Map,d=function(){var e=!0,t=!1,a=void 0;try{for(var o,u=function(){var e=o.value,t=e.id.client,n=r.get(t);n?(n.i--,s.clients.set(t,n.refs.slice(n.i)),r.delete(t),n.i=0,n.refs=[]):s.clients.set(t,[e]),i=i.filter((function(e){return e!==t}))},c=n[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)u()}catch(e){t=!0,a=e}finally{try{e||null==c.return||c.return()}finally{if(t)throw a}}n.length=0};;){if(l.constructor!==$e67e71e96b17d958$var$Skip){var h=$16aaf99c17922512$export$dccd489362a8619(f,l.id.client,(function(){return $e67e71e96b17d958$export$50fdfeece43146fd(t,l.id.client)}))-l.id.clock;if(h<0)n.push(l),c(l.id.client,l.id.clock-1),d();else{var v=l.getMissing(e,t);if(null!==v){n.push(l);var p=r.get(v)||{refs:[],i:0};if(p.refs.length!==p.i){l=p.refs[p.i++];continue}c(v,$e67e71e96b17d958$export$50fdfeece43146fd(t,v)),d()}else(0===h||h<l.length)&&(l.integrate(e,h),f.set(l.id.client,l.id.clock+l.length))}}if(n.length>0)l=n.pop();else if(null!==o&&o.i<o.refs.length)l=o.refs[o.i++];else{if(null===(o=a()))break;l=o.refs[o.i++]}}if(s.clients.size>0){var b=new $e67e71e96b17d958$var$UpdateEncoderV2;return $e67e71e96b17d958$var$writeClientsStructs(b,s,new Map),$f10cc2748b0a1de2$export$872f48c75febcd2b(b.restEncoder,0),{missing:u,update:b.toUint8Array()}}return null},$e67e71e96b17d958$var$writeStructsFromTransaction=function(e,t){return $e67e71e96b17d958$var$writeClientsStructs(e,t.doc.store,t.beforeState)},$e67e71e96b17d958$export$7abe492a0b891b4d=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new $e67e71e96b17d958$var$UpdateDecoderV2(e);return $e67e71e96b17d958$export$dac1bad6146b2469(t,(function(e){e.local=!1;var t=!1,r=e.doc,i=r.store,a=$e67e71e96b17d958$var$readClientsStructRefs(n,r),o=$e67e71e96b17d958$var$integrateStructs(e,i,a),s=i.pendingStructs;if(s){var u=!0,c=!1,l=void 0;try{for(var f,d=s.missing[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var h=(0,$dVhHy.default)(f.value,2),v=h[0];if(h[1]<$e67e71e96b17d958$export$50fdfeece43146fd(i,v)){t=!0;break}}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}if(o){var p=!0,b=!1,g=void 0;try{for(var m,$=o.missing[Symbol.iterator]();!(p=(m=$.next()).done);p=!0){var y=(0,$dVhHy.default)(m.value,2),w=y[0],_=y[1],S=s.missing.get(w);(null==S||S>_)&&s.missing.set(w,_)}}catch(e){b=!0,g=e}finally{try{p||null==$.return||$.return()}finally{if(b)throw g}}s.update=$e67e71e96b17d958$export$ce273d78de0331d1([s.update,o.update])}}else i.pendingStructs=o;var C=$e67e71e96b17d958$var$readAndApplyDeleteSet(n,e,i);if(i.pendingDs){var k=new $e67e71e96b17d958$var$UpdateDecoderV2($5d88d2f698148c14$export$f8c898e83b60faaa(i.pendingDs));$5d88d2f698148c14$export$5a476e4dbe7923d5(k.restDecoder);var E=$e67e71e96b17d958$var$readAndApplyDeleteSet(k,e,i);i.pendingDs=C&&E?$e67e71e96b17d958$export$ce273d78de0331d1([C,E]):C||E}else i.pendingDs=C;if(t){var R=i.pendingStructs.update;i.pendingStructs=null,$e67e71e96b17d958$export$acc3b0324aabf1b6(e.doc,R)}}),r,!1)},$e67e71e96b17d958$export$d67ac8d73b7d336c=function(e,t,r){return $e67e71e96b17d958$export$7abe492a0b891b4d(e,t,r,new $e67e71e96b17d958$var$UpdateDecoderV1(e))},$e67e71e96b17d958$export$acc3b0324aabf1b6=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$e67e71e96b17d958$var$UpdateDecoderV2,i=$5d88d2f698148c14$export$f8c898e83b60faaa(t);$e67e71e96b17d958$export$7abe492a0b891b4d(i,e,r,new n(i))},$e67e71e96b17d958$export$c271737a9c02e925=function(e,t,r){return $e67e71e96b17d958$export$acc3b0324aabf1b6(e,t,r,$e67e71e96b17d958$var$UpdateDecoderV1)},$e67e71e96b17d958$var$writeStateAsUpdate=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;$e67e71e96b17d958$var$writeClientsStructs(e,t.store,r),$e67e71e96b17d958$var$writeDeleteSet(e,$e67e71e96b17d958$export$8450d668bec558e2(t.store))},$e67e71e96b17d958$export$90338e0798f6f64f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array([0]),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $e67e71e96b17d958$var$UpdateEncoderV2,n=$e67e71e96b17d958$export$324ac6fb20a844e3(t);$e67e71e96b17d958$var$writeStateAsUpdate(r,e,n);var i=[r.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push($e67e71e96b17d958$export$a8143edf39d2ad8e(e.store.pendingStructs.update,t)),i.length>1){if(r.constructor===$e67e71e96b17d958$export$99171b804d9c5b54)return $e67e71e96b17d958$export$6319871659fd2460(i.map((function(e,t){return 0===t?e:$e67e71e96b17d958$export$afffbdeed14adbd(e)})));if(r.constructor===$e67e71e96b17d958$var$UpdateEncoderV2)return $e67e71e96b17d958$export$ce273d78de0331d1(i)}return i[0]},$e67e71e96b17d958$export$e5848df80e65bd53=function(e,t){return $e67e71e96b17d958$export$90338e0798f6f64f(e,t,new $e67e71e96b17d958$export$99171b804d9c5b54)},$e67e71e96b17d958$var$readStateVector=function(e){for(var t=new Map,r=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),n=0;n<r;n++){var i=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),a=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder);t.set(i,a)}return t},$e67e71e96b17d958$export$324ac6fb20a844e3=function(e){return $e67e71e96b17d958$var$readStateVector(new $e67e71e96b17d958$var$DSDecoderV1($5d88d2f698148c14$export$f8c898e83b60faaa(e)))},$e67e71e96b17d958$var$writeStateVector=function(e,t){return $f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,t.size),Array.from(t.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(t){var r=(0,$dVhHy.default)(t,2),n=r[0],i=r[1];$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,n),$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,i)})),e},$e67e71e96b17d958$var$writeDocumentStateVector=function(e,t){return $e67e71e96b17d958$var$writeStateVector(e,$e67e71e96b17d958$var$getStateVector(t.store))},$e67e71e96b17d958$var$encodeStateVectorV2=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $e67e71e96b17d958$var$DSEncoderV2;return e instanceof Map?$e67e71e96b17d958$var$writeStateVector(t,e):$e67e71e96b17d958$var$writeDocumentStateVector(t,e),t.toUint8Array()},$e67e71e96b17d958$export$3e2f5393f32e71f=function(e){return $e67e71e96b17d958$var$encodeStateVectorV2(e,new $e67e71e96b17d958$var$DSEncoderV1)},$e67e71e96b17d958$var$EventHandler=function e(){"use strict";(0,$4JAgF.default)(this,e),this.l=[]},$e67e71e96b17d958$var$createEventHandler=function(){return new $e67e71e96b17d958$var$EventHandler},$e67e71e96b17d958$var$addEventHandlerListener=function(e,t){return e.l.push(t)},$e67e71e96b17d958$var$removeEventHandlerListener=function(e,t){var r=e.l,n=r.length;e.l=r.filter((function(e){return t!==e})),n===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},$e67e71e96b17d958$var$callEventHandlerListeners=function(e,t,r){return $9482d2641084b8fc$export$9dd9a52f2dd5b9ce(e.l,[t,r])},$e67e71e96b17d958$export$8be180ec26319f9f=function e(t,r){"use strict";(0,$4JAgF.default)(this,e),this.client=t,this.clock=r},$e67e71e96b17d958$export$c0af976e7e459c02=function(e,t){return e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock},$e67e71e96b17d958$export$6c7d4e6171d008d0=function(e,t){return new $e67e71e96b17d958$export$8be180ec26319f9f(e,t)},$e67e71e96b17d958$var$writeID=function(e,t){$f10cc2748b0a1de2$export$872f48c75febcd2b(e,t.client),$f10cc2748b0a1de2$export$872f48c75febcd2b(e,t.clock)},$e67e71e96b17d958$var$readID=function(e){return $e67e71e96b17d958$export$6c7d4e6171d008d0($5d88d2f698148c14$export$5a476e4dbe7923d5(e),$5d88d2f698148c14$export$5a476e4dbe7923d5(e))},$e67e71e96b17d958$export$e726a40920d54663=function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e.doc.share.entries()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,$dVhHy.default)(i.value,2),s=o[0];if(o[1]===e)return s}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}throw $e42fddd38393ef44$export$965b6bccecbd9673()},$e67e71e96b17d958$export$3c81af374b054d6a=function(e,t){for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1},$e67e71e96b17d958$export$e9068ad704ba2f79=function(e){for(var t=[],r=e._start;r;)t.push(r),r=r.right;console.log("Children: ",t),console.log("Children content: ",t.filter((function(e){return!e.deleted})).map((function(e){return e.content})))},$e67e71e96b17d958$export$b9e8b5fa1162ca4e=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getMap("users"),n=this;(0,$4JAgF.default)(this,e);var i=new Map;this.yusers=r,this.doc=t,this.clients=new Map,this.dss=i;var a=function(e,t){var r=e.get("ds"),i=e.get("ids"),a=function(e){return n.clients.set(e,t)};r.observe((function(e){e.changes.added.forEach((function(e){e.content.getContent().forEach((function(e){e instanceof Uint8Array&&n.dss.set(t,$e67e71e96b17d958$var$mergeDeleteSets([n.dss.get(t)||$e67e71e96b17d958$export$8cbac0d946238699(),$e67e71e96b17d958$var$readDeleteSet(new $e67e71e96b17d958$var$DSDecoderV1($5d88d2f698148c14$export$f8c898e83b60faaa(e)))]))}))}))})),n.dss.set(t,$e67e71e96b17d958$var$mergeDeleteSets(r.map((function(e){return $e67e71e96b17d958$var$readDeleteSet(new $e67e71e96b17d958$var$DSDecoderV1($5d88d2f698148c14$export$f8c898e83b60faaa(e)))})))),i.observe((function(e){return e.changes.added.forEach((function(e){return e.content.getContent().forEach(a)}))})),i.forEach(a)};r.observe((function(e){e.keysChanged.forEach((function(e){return a(r.get(e),e)}))})),r.forEach(a)}return(0,$9HoHC.default)(e,[{key:"setUserMapping",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.filter,a=void 0===i?function(){return!0}:i,o=this,s=this.yusers,u=s.get(r);u||((u=new $e67e71e96b17d958$export$a5c7b93649eaf8f8).set("ids",new $e67e71e96b17d958$export$c4be6576ca6fe4aa),u.set("ds",new $e67e71e96b17d958$export$c4be6576ca6fe4aa),s.set(r,u)),u.get("ids").push([t]),s.observe((function(e){setTimeout((function(){var e=s.get(r);if(e!==u){u=e,o.clients.forEach((function(e,t){r===e&&u.get("ids").push([t])}));var t=new $e67e71e96b17d958$var$DSEncoderV1,n=o.dss.get(r);n&&($e67e71e96b17d958$var$writeDeleteSet(t,n),u.get("ds").push([t.toUint8Array()]))}}),0)})),e.on("afterTransaction",(function(e){setTimeout((function(){var t=u.get("ds"),r=e.deleteSet;if(e.local&&r.clients.size>0&&a(e,r)){var n=new $e67e71e96b17d958$var$DSEncoderV1;$e67e71e96b17d958$var$writeDeleteSet(n,r),t.push([n.toUint8Array()])}}))}))}},{key:"getUserByClientId",value:function(e){return this.clients.get(e)||null}},{key:"getUserByDeletedId",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.dss.entries()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,$dVhHy.default)(i.value,2),s=o[0],u=o[1];if($e67e71e96b17d958$export$dcb04af092e44fde(u,e))return s}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return null}}]),e}(),$e67e71e96b17d958$export$da21a415c5907662=function e(t,r,n){"use strict";var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,$4JAgF.default)(this,e),this.type=t,this.tname=r,this.item=n,this.assoc=i},$e67e71e96b17d958$export$a783b081767a452e=function(e){var t={};return e.type&&(t.type=e.type),e.tname&&(t.tname=e.tname),e.item&&(t.item=e.item),null!=e.assoc&&(t.assoc=e.assoc),t},$e67e71e96b17d958$export$ddad8a1b8f7475d8=function(e){return new $e67e71e96b17d958$export$da21a415c5907662(null==e.type?null:$e67e71e96b17d958$export$6c7d4e6171d008d0(e.type.client,e.type.clock),e.tname||null,null==e.item?null:$e67e71e96b17d958$export$6c7d4e6171d008d0(e.item.client,e.item.clock),null==e.assoc?0:e.assoc)},$e67e71e96b17d958$export$64c95a3fb7344864=function e(t,r){"use strict";var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,$4JAgF.default)(this,e),this.type=t,this.index=r,this.assoc=n},$e67e71e96b17d958$var$createAbsolutePosition=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new $e67e71e96b17d958$export$64c95a3fb7344864(e,t,r)},$e67e71e96b17d958$var$createRelativePosition=function(e,t,r){var n=null,i=null;return null===e._item?i=$e67e71e96b17d958$export$e726a40920d54663(e):n=$e67e71e96b17d958$export$6c7d4e6171d008d0(e._item.id.client,e._item.id.clock),new $e67e71e96b17d958$export$da21a415c5907662(n,i,t,r)},$e67e71e96b17d958$export$197e7d99e3857e88=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e._start;if(r<0){if(0===t)return $e67e71e96b17d958$var$createRelativePosition(e,null,r);t--}for(;null!==n;){if(!n.deleted&&n.countable){if(n.length>t)return $e67e71e96b17d958$var$createRelativePosition(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(n.id.client,n.id.clock+t),r);t-=n.length}if(null===n.right&&r<0)return $e67e71e96b17d958$var$createRelativePosition(e,n.lastId,r);n=n.right}return $e67e71e96b17d958$var$createRelativePosition(e,null,r)},$e67e71e96b17d958$var$writeRelativePosition=function(e,t){var r=t.type,n=t.tname,i=t.item,a=t.assoc;if(null!==i)$f10cc2748b0a1de2$export$872f48c75febcd2b(e,0),$e67e71e96b17d958$var$writeID(e,i);else if(null!==n)$f10cc2748b0a1de2$export$826a1a6619653272(e,1),$f10cc2748b0a1de2$export$dde49cb52d5f1650(e,n);else{if(null===r)throw $e42fddd38393ef44$export$965b6bccecbd9673();$f10cc2748b0a1de2$export$826a1a6619653272(e,2),$e67e71e96b17d958$var$writeID(e,r)}return $f10cc2748b0a1de2$export$ff90f819e16cc9bb(e,a),e},$e67e71e96b17d958$export$c5c95ef724203575=function(e){var t=$f10cc2748b0a1de2$export$4e76eeb6df88c889();return $e67e71e96b17d958$var$writeRelativePosition(t,e),$f10cc2748b0a1de2$export$73470fd2221e6aef(t)},$e67e71e96b17d958$var$readRelativePosition=function(e){var t=null,r=null,n=null;switch($5d88d2f698148c14$export$5a476e4dbe7923d5(e)){case 0:n=$e67e71e96b17d958$var$readID(e);break;case 1:r=$5d88d2f698148c14$export$3b64b4d753b81ec2(e);break;case 2:t=$e67e71e96b17d958$var$readID(e)}var i=$5d88d2f698148c14$export$7ad75c69830b76d7(e)?$5d88d2f698148c14$export$1dd5b9ddf6575ae8(e):0;return new $e67e71e96b17d958$export$da21a415c5907662(t,r,n,i)},$e67e71e96b17d958$export$58a46cebc90e7851=function(e){return $e67e71e96b17d958$var$readRelativePosition($5d88d2f698148c14$export$f8c898e83b60faaa(e))},$e67e71e96b17d958$export$8fc3152f62fb7ed1=function(e,t){var r=t.store,n=e.item,i=e.type,a=e.tname,o=e.assoc,s=null,u=0;if(null!==n){if($e67e71e96b17d958$export$50fdfeece43146fd(r,n.client)<=n.clock)return null;var c=$e67e71e96b17d958$var$followRedone(r,n),l=c.item;if(!(l instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2))return null;if(null===(s=l.parent)._item||!s._item.deleted){u=l.deleted||!l.countable?0:c.diff+(o>=0?0:1);for(var f=l.left;null!==f;)!f.deleted&&f.countable&&(u+=f.length),f=f.left}}else{if(null!==a)s=t.get(a);else{if(null===i)throw $e42fddd38393ef44$export$965b6bccecbd9673();if($e67e71e96b17d958$export$50fdfeece43146fd(r,i.client)<=i.clock)return null;var d=$e67e71e96b17d958$var$followRedone(r,i).item;if(!(d instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2&&d.content instanceof $e67e71e96b17d958$export$e2e108cbe2e4f865))return null;s=d.content.type}u=o>=0?s._length:0}return $e67e71e96b17d958$var$createAbsolutePosition(s,u,e.assoc)},$e67e71e96b17d958$export$fc8bd253c948b475=function(e,t){return e===t||null!==e&&null!==t&&e.tname===t.tname&&$e67e71e96b17d958$export$c0af976e7e459c02(e.item,t.item)&&$e67e71e96b17d958$export$c0af976e7e459c02(e.type,t.type)&&e.assoc===t.assoc},$e67e71e96b17d958$export$c963130a5525248f=function e(t,r){"use strict";(0,$4JAgF.default)(this,e),this.ds=t,this.sv=r},$e67e71e96b17d958$export$742742a0f55b273d=function(e,t){var r=e.ds.clients,n=t.ds.clients,i=e.sv,a=t.sv;if(i.size!==a.size||r.size!==n.size)return!1;var o=!0,s=!1,u=void 0;try{for(var c,l=i.entries()[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=(0,$dVhHy.default)(c.value,2),d=f[0],h=f[1];if(a.get(d)!==h)return!1}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}var v=!0,p=!1,b=void 0;try{for(var g,m=r.entries()[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var $=(0,$dVhHy.default)(g.value,2),y=$[0],w=$[1],_=n.get(y)||[];if(w.length!==_.length)return!1;for(var S=0;S<w.length;S++){var C=w[S],k=_[S];if(C.clock!==k.clock||C.len!==k.len)return!1}}}catch(e){p=!0,b=e}finally{try{v||null==m.return||m.return()}finally{if(p)throw b}}return!0},$e67e71e96b17d958$export$b946cadc55f8e512=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $e67e71e96b17d958$var$DSEncoderV2;return $e67e71e96b17d958$var$writeDeleteSet(t,e.ds),$e67e71e96b17d958$var$writeStateVector(t,e.sv),t.toUint8Array()},$e67e71e96b17d958$export$a6d29989648e995=function(e){return $e67e71e96b17d958$export$b946cadc55f8e512(e,new $e67e71e96b17d958$var$DSEncoderV1)},$e67e71e96b17d958$export$b0049fa299f4f58e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $e67e71e96b17d958$var$DSDecoderV2($5d88d2f698148c14$export$f8c898e83b60faaa(e));return new $e67e71e96b17d958$export$c963130a5525248f($e67e71e96b17d958$var$readDeleteSet(t),$e67e71e96b17d958$var$readStateVector(t))},$e67e71e96b17d958$export$5c696daccf32bd2e=function(e){return $e67e71e96b17d958$export$b0049fa299f4f58e(e,new $e67e71e96b17d958$var$DSDecoderV1($5d88d2f698148c14$export$f8c898e83b60faaa(e)))},$e67e71e96b17d958$export$548fae0445f878fd=function(e,t){return new $e67e71e96b17d958$export$c963130a5525248f(e,t)},$e67e71e96b17d958$export$d4568a81dd107a34=$e67e71e96b17d958$export$548fae0445f878fd($e67e71e96b17d958$export$8cbac0d946238699(),new Map),$e67e71e96b17d958$export$b8801ea43165ed7d=function(e){return $e67e71e96b17d958$export$548fae0445f878fd($e67e71e96b17d958$export$8450d668bec558e2(e.store),$e67e71e96b17d958$var$getStateVector(e.store))},$e67e71e96b17d958$var$isVisible=function(e,t){return void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!$e67e71e96b17d958$export$dcb04af092e44fde(t.ds,e.id)},$e67e71e96b17d958$var$splitSnapshotAffectedStructs=function(e,t){var r=$16aaf99c17922512$export$dccd489362a8619(e.meta,$e67e71e96b17d958$var$splitSnapshotAffectedStructs,$3e48f5ba97f970fa$export$185802fd694ee1f5),n=e.doc.store;r.has(t)||(t.sv.forEach((function(t,r){t<$e67e71e96b17d958$export$50fdfeece43146fd(n,r)&&$e67e71e96b17d958$var$getItemCleanStart(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(r,t))})),$e67e71e96b17d958$export$8afefebbaf4e4c78(e,t.ds,(function(e){})),r.add(t))},$e67e71e96b17d958$export$5be4ae1e1e56a014=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $e67e71e96b17d958$export$bceacc74c2212615;if(e.gc)throw new Error("originDoc must not be garbage collected");var n=t.sv,i=t.ds,a=new $e67e71e96b17d958$var$UpdateEncoderV2;return e.transact((function(t){var r=0;n.forEach((function(e){e>0&&r++})),$f10cc2748b0a1de2$export$872f48c75febcd2b(a.restEncoder,r);var o=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=(0,$dVhHy.default)(c.value,2),d=f[0],h=f[1];if(0!==h){h<$e67e71e96b17d958$export$50fdfeece43146fd(e.store,d)&&$e67e71e96b17d958$var$getItemCleanStart(t,$e67e71e96b17d958$export$6c7d4e6171d008d0(d,h));var v=e.store.clients.get(d)||[],p=$e67e71e96b17d958$export$5f8f02523cf47b58(v,h-1);$f10cc2748b0a1de2$export$872f48c75febcd2b(a.restEncoder,p+1),a.writeClient(d),$f10cc2748b0a1de2$export$872f48c75febcd2b(a.restEncoder,0);for(var b=0;b<=p;b++)v[b].write(a,0)}}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}$e67e71e96b17d958$var$writeDeleteSet(a,i)})),$e67e71e96b17d958$export$acc3b0324aabf1b6(r,a.toUint8Array(),"snapshot"),r},$e67e71e96b17d958$var$StructStore=function e(){"use strict";(0,$4JAgF.default)(this,e),this.clients=new Map,this.pendingStructs=null,this.pendingDs=null},$e67e71e96b17d958$var$getStateVector=function(e){var t=new Map;return e.clients.forEach((function(e,r){var n=e[e.length-1];t.set(r,n.id.clock+n.length)})),t},$e67e71e96b17d958$export$50fdfeece43146fd=function(e,t){var r=e.clients.get(t);if(void 0===r)return 0;var n=r[r.length-1];return n.id.clock+n.length},$e67e71e96b17d958$var$addStruct=function(e,t){var r=e.clients.get(t.id.client);if(void 0===r)r=[],e.clients.set(t.id.client,r);else{var n=r[r.length-1];if(n.id.clock+n.length!==t.id.clock)throw $e42fddd38393ef44$export$965b6bccecbd9673()}r.push(t)},$e67e71e96b17d958$export$5f8f02523cf47b58=function(e,t){var r=0,n=e.length-1,i=e[n],a=i.id.clock;if(a===t)return n;for(var o=$0a30c1e54eae8fd7$export$a3fe094919f356fd(t/(a+i.length-1)*n);r<=n;){if((a=(i=e[o]).id.clock)<=t){if(t<a+i.length)return o;r=o+1}else n=o-1;o=$0a30c1e54eae8fd7$export$a3fe094919f356fd((r+n)/2)}throw $e42fddd38393ef44$export$965b6bccecbd9673()},$e67e71e96b17d958$var$find=function(e,t){var r=e.clients.get(t.client);return r[$e67e71e96b17d958$export$5f8f02523cf47b58(r,t.clock)]},$e67e71e96b17d958$export$f92dfeb71e9bb569=$e67e71e96b17d958$var$find,$e67e71e96b17d958$var$findIndexCleanStart=function(e,t,r){var n=$e67e71e96b17d958$export$5f8f02523cf47b58(t,r),i=t[n];return i.id.clock<r&&i instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2?(t.splice(n+1,0,$e67e71e96b17d958$var$splitItem(e,i,r-i.id.clock)),n+1):n},$e67e71e96b17d958$var$getItemCleanStart=function(e,t){var r=e.doc.store.clients.get(t.client);return r[$e67e71e96b17d958$var$findIndexCleanStart(e,r,t.clock)]},$e67e71e96b17d958$var$getItemCleanEnd=function(e,t,r){var n=t.clients.get(r.client),i=$e67e71e96b17d958$export$5f8f02523cf47b58(n,r.clock),a=n[i];return r.clock!==a.id.clock+a.length-1&&a.constructor!==$e67e71e96b17d958$export$12d259ff017e6b58&&n.splice(i+1,0,$e67e71e96b17d958$var$splitItem(e,a,r.clock-a.id.clock+1)),a},$e67e71e96b17d958$var$replaceStruct=function(e,t,r){var n=e.clients.get(t.id.client);n[$e67e71e96b17d958$export$5f8f02523cf47b58(n,t.id.clock)]=r},$e67e71e96b17d958$var$iterateStructs=function(e,t,r,n,i){if(0!==n){var a,o=r+n,s=$e67e71e96b17d958$var$findIndexCleanStart(e,t,r);do{o<(a=t[s++]).id.clock+a.length&&$e67e71e96b17d958$var$findIndexCleanStart(e,t,o),i(a)}while(s<t.length&&t[s].id.clock<o)}},$e67e71e96b17d958$export$febc5573c75cefb0=function e(t,r,n){"use strict";(0,$4JAgF.default)(this,e),this.doc=t,this.deleteSet=new $e67e71e96b17d958$var$DeleteSet,this.beforeState=$e67e71e96b17d958$var$getStateVector(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set},$e67e71e96b17d958$var$writeUpdateMessageFromTransaction=function(e,t){return!(0===t.deleteSet.clients.size&&!$16aaf99c17922512$export$4154a199d7d90455(t.afterState,(function(e,r){return t.beforeState.get(r)!==e})))&&($e67e71e96b17d958$var$sortAndMergeDeleteSet(t.deleteSet),$e67e71e96b17d958$var$writeStructsFromTransaction(e,t),$e67e71e96b17d958$var$writeDeleteSet(e,t.deleteSet),!0)},$e67e71e96b17d958$var$addChangedTypeToTransaction=function(e,t,r){var n=t._item;(null===n||n.id.clock<(e.beforeState.get(n.id.client)||0)&&!n.deleted)&&$16aaf99c17922512$export$dccd489362a8619(e.changed,t,$3e48f5ba97f970fa$export$185802fd694ee1f5).add(r)},$e67e71e96b17d958$var$tryToMergeWithLeft=function(e,t){var r=e[t-1],n=e[t];r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)&&(e.splice(t,1),n instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r))},$e67e71e96b17d958$var$tryGcDeleteSet=function(e,t,r){var n=!0,i=!1,a=void 0;try{for(var o,s=e.clients.entries()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)for(var u=(0,$dVhHy.default)(o.value,2),c=u[0],l=u[1],f=t.clients.get(c),d=l.length-1;d>=0;d--)for(var h=l[d],v=h.clock+h.len,p=$e67e71e96b17d958$export$5f8f02523cf47b58(f,h.clock),b=f[p];p<f.length&&b.id.clock<v;b=f[++p]){var g=f[p];if(h.clock+h.len<=g.id.clock)break;g instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2&&g.deleted&&!g.keep&&r(g)&&g.gc(t,!1)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}},$e67e71e96b17d958$var$tryMergeDeleteSet=function(e,t){e.clients.forEach((function(e,r){for(var n=t.clients.get(r),i=e.length-1;i>=0;i--)for(var a=e[i],o=$0a30c1e54eae8fd7$export$96ec731ed4dcb222(n.length-1,1+$e67e71e96b17d958$export$5f8f02523cf47b58(n,a.clock+a.len-1)),s=n[o];o>0&&s.id.clock>=a.clock;s=n[--o])$e67e71e96b17d958$var$tryToMergeWithLeft(n,o)}))},$e67e71e96b17d958$export$c2e5de00fc43f658=function(e,t,r){$e67e71e96b17d958$var$tryGcDeleteSet(e,t,r),$e67e71e96b17d958$var$tryMergeDeleteSet(e,t)},$e67e71e96b17d958$var$cleanupTransactions=function(e,t){if(t<e.length){var r=e[t],n=r.doc,i=n.store,a=r.deleteSet,o=r._mergeStructs;try{$e67e71e96b17d958$var$sortAndMergeDeleteSet(a),r.afterState=$e67e71e96b17d958$var$getStateVector(r.doc.store),n.emit("beforeObserverCalls",[r,n]);var s=[];r.changed.forEach((function(e,t){return s.push((function(){null!==t._item&&t._item.deleted||t._callObserver(r,e)}))})),s.push((function(){r.changedParentTypes.forEach((function(e,t){return s.push((function(){null!==t._item&&t._item.deleted||((e=e.filter((function(e){return null===e.target._item||!e.target._item.deleted}))).forEach((function(e){e.currentTarget=t})),e.sort((function(e,t){return e.path.length-t.path.length})),$e67e71e96b17d958$var$callEventHandlerListeners(t._dEH,e,r))}))})),s.push((function(){return n.emit("afterTransaction",[r,n])}))})),$9482d2641084b8fc$export$9dd9a52f2dd5b9ce(s,[])}finally{n.gc&&$e67e71e96b17d958$var$tryGcDeleteSet(a,i,n.gcFilter),$e67e71e96b17d958$var$tryMergeDeleteSet(a,i),r.afterState.forEach((function(e,t){var n=r.beforeState.get(t)||0;if(n!==e)for(var a=i.clients.get(t),o=$0a30c1e54eae8fd7$export$8960430cfd85939f($e67e71e96b17d958$export$5f8f02523cf47b58(a,n),1),s=a.length-1;s>=o;s--)$e67e71e96b17d958$var$tryToMergeWithLeft(a,s)}));for(var u=0;u<o.length;u++){var c=o[u].id,l=c.client,f=c.clock,d=i.clients.get(l),h=$e67e71e96b17d958$export$5f8f02523cf47b58(d,f);h+1<d.length&&$e67e71e96b17d958$var$tryToMergeWithLeft(d,h+1),h>0&&$e67e71e96b17d958$var$tryToMergeWithLeft(d,h)}if(r.local||r.afterState.get(n.clientID)===r.beforeState.get(n.clientID)||($aa66bd77ae1116ef$export$c2d084dc44961371($aa66bd77ae1116ef$export$3de5e29ed1757f9b,$aa66bd77ae1116ef$export$c1286c4c2a7c066,"[yjs] ",$aa66bd77ae1116ef$export$f0ce1666bb40789b,$aa66bd77ae1116ef$export$aa201224bb439d47,"Changed the client-id because another client seems to be using it."),n.clientID=$e67e71e96b17d958$var$generateNewClientId()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){var v=new $e67e71e96b17d958$export$99171b804d9c5b54;$e67e71e96b17d958$var$writeUpdateMessageFromTransaction(v,r)&&n.emit("update",[v.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){var p=new $e67e71e96b17d958$var$UpdateEncoderV2;$e67e71e96b17d958$var$writeUpdateMessageFromTransaction(p,r)&&n.emit("updateV2",[p.toUint8Array(),r.origin,n,r])}var b=r.subdocsAdded,g=r.subdocsLoaded,m=r.subdocsRemoved;(b.size>0||m.size>0||g.size>0)&&(b.forEach((function(e){e.clientID=n.clientID,null==e.collectionid&&(e.collectionid=n.collectionid),n.subdocs.add(e)})),m.forEach((function(e){return n.subdocs.delete(e)})),n.emit("subdocs",[{loaded:g,added:b,removed:m},n,r]),m.forEach((function(e){return e.destroy()}))),e.length<=t+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,e])):$e67e71e96b17d958$var$cleanupTransactions(e,t+1)}}},$e67e71e96b17d958$export$dac1bad6146b2469=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e._transactionCleanups,a=!1;null===e._transaction&&(a=!0,e._transaction=new $e67e71e96b17d958$export$febc5573c75cefb0(e,r,n),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{if(a){var o=e._transaction===i[0];e._transaction=null,o&&$e67e71e96b17d958$var$cleanupTransactions(i,0)}}},$e67e71e96b17d958$var$StackItem=function e(t,r){"use strict";(0,$4JAgF.default)(this,e),this.insertions=r,this.deletions=t,this.meta=new Map},$e67e71e96b17d958$var$clearUndoManagerStackItem=function(e,t,r){$e67e71e96b17d958$export$8afefebbaf4e4c78(e,r.deletions,(function(e){e instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2&&t.scope.some((function(t){return $e67e71e96b17d958$export$3c81af374b054d6a(t,e)}))&&$e67e71e96b17d958$var$keepItem(e,!1)}))},$e67e71e96b17d958$var$popStackItem=function(e,t,r){var n=null,i=null,a=e.doc,o=e.scope;if($e67e71e96b17d958$export$dac1bad6146b2469(a,(function(r){for(var s=function(){var i=a.store,s=t.pop(),u=new Set,c=[],l=!1;$e67e71e96b17d958$export$8afefebbaf4e4c78(r,s.insertions,(function(e){if(e instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2){if(null!==e.redone){var t=$e67e71e96b17d958$var$followRedone(i,e.id),n=t.item,a=t.diff;a>0&&(n=$e67e71e96b17d958$var$getItemCleanStart(r,$e67e71e96b17d958$export$6c7d4e6171d008d0(n.id.client,n.id.clock+a))),e=n}!e.deleted&&o.some((function(t){return $e67e71e96b17d958$export$3c81af374b054d6a(t,e)}))&&c.push(e)}})),$e67e71e96b17d958$export$8afefebbaf4e4c78(r,s.deletions,(function(e){e instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2&&o.some((function(t){return $e67e71e96b17d958$export$3c81af374b054d6a(t,e)}))&&!$e67e71e96b17d958$export$dcb04af092e44fde(s.insertions,e.id)&&u.add(e)})),u.forEach((function(t){l=null!==$e67e71e96b17d958$var$redoItem(r,t,u,s.insertions,e.ignoreRemoteMapChanges)||l}));for(var f=c.length-1;f>=0;f--){var d=c[f];e.deleteFilter(d)&&(d.delete(r),l=!0)}n=l?s:null};t.length>0&&null===n;)s();r.changed.forEach((function(e,t){e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)})),i=r}),e),null!=n){var s=i.changedParentTypes;e.emit("stack-item-popped",[{stackItem:n,type:r,changedParentTypes:s},e])}return n},$e67e71e96b17d958$export$932a3f9a7e88971c=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.captureTimeout,o=void 0===a?500:a,s=i.captureTransaction,u=void 0===s?function(e){return!0}:s,c=i.deleteFilter,l=void 0===c?function(){return!0}:c,f=i.trackedOrigins,d=void 0===f?new Set([null]):f,h=i.ignoreRemoteMapChanges,v=void 0!==h&&h,p=i.doc,b=void 0===p?$b96f611d003ab434$export$43bee75e5e14138e(e)?e[0].doc:e.doc:p;return(0,$4JAgF.default)(this,r),(n=t.call(this)).scope=[],n.addToScope(e),n.deleteFilter=l,d.add((0,$aPYZr.default)(n)),n.trackedOrigins=d,n.captureTransaction=u,n.undoStack=[],n.redoStack=[],n.undoing=!1,n.redoing=!1,n.doc=b,n.lastChange=0,n.ignoreRemoteMapChanges=v,n.captureTimeout=o,n.afterTransactionHandler=function(e){if(n.captureTransaction(e)&&n.scope.some((function(t){return e.changedParentTypes.has(t)}))&&(n.trackedOrigins.has(e.origin)||e.origin&&n.trackedOrigins.has(e.origin.constructor))){var t=n.undoing,r=n.redoing,i=t?n.redoStack:n.undoStack;t?n.stopCapturing():r||n.clear(!1,!0);var a=new $e67e71e96b17d958$var$DeleteSet;e.afterState.forEach((function(t,r){var n=e.beforeState.get(r)||0,i=t-n;i>0&&$e67e71e96b17d958$var$addToDeleteSet(a,r,n,i)}));var o=$4db679f5c8917677$export$1f77c0008d16313(),s=!1;if(n.lastChange>0&&o-n.lastChange<n.captureTimeout&&i.length>0&&!t&&!r){var u=i[i.length-1];u.deletions=$e67e71e96b17d958$var$mergeDeleteSets([u.deletions,e.deleteSet]),u.insertions=$e67e71e96b17d958$var$mergeDeleteSets([u.insertions,a])}else i.push(new $e67e71e96b17d958$var$StackItem(e.deleteSet,a)),s=!0;t||r||(n.lastChange=o),$e67e71e96b17d958$export$8afefebbaf4e4c78(e,e.deleteSet,(function(e){e instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2&&n.scope.some((function(t){return $e67e71e96b17d958$export$3c81af374b054d6a(t,e)}))&&$e67e71e96b17d958$var$keepItem(e,!0)}));var c=[{stackItem:i[i.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},(0,$aPYZr.default)(n)];s?n.emit("stack-item-added",c):n.emit("stack-item-updated",c)}},n.doc.on("afterTransaction",n.afterTransactionHandler),n.doc.on("destroy",(function(){n.destroy()})),n}return(0,$9HoHC.default)(r,[{key:"addToScope",value:function(e){var t=this;(e=$b96f611d003ab434$export$43bee75e5e14138e(e)?e:[e]).forEach((function(e){t.scope.every((function(t){return t!==e}))&&t.scope.push(e)}))}},{key:"addTrackedOrigin",value:function(e){this.trackedOrigins.add(e)}},{key:"removeTrackedOrigin",value:function(e){this.trackedOrigins.delete(e)}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact((function(n){e&&(r.undoStack.forEach((function(e){return $e67e71e96b17d958$var$clearUndoManagerStackItem(n,r,e)})),r.undoStack=[]),t&&(r.redoStack.forEach((function(e){return $e67e71e96b17d958$var$clearUndoManagerStackItem(n,r,e)})),r.redoStack=[]),r.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])}))}},{key:"stopCapturing",value:function(){this.lastChange=0}},{key:"undo",value:function(){var e;this.undoing=!0;try{e=$e67e71e96b17d958$var$popStackItem(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}},{key:"redo",value:function(){var e;this.redoing=!0;try{e=$e67e71e96b17d958$var$popStackItem(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}},{key:"canUndo",value:function(){return this.undoStack.length>0}},{key:"canRedo",value:function(){return this.redoStack.length>0}},{key:"destroy",value:function(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}}]),r}($f888d7a0f7880485$export$77cea355fa80b5f4);function $e67e71e96b17d958$var$lazyStructReaderGenerator(e){var t,r,n,i,a,o,s,u,c,l,f;return(0,$cDTRq.__generator)(this,(function(d){switch(d.label){case 0:t=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),r=0,d.label=1;case 1:if(!(r<t))return[3,10];n=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),i=e.readClient(),a=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),o=0,d.label=2;case 2:return o<n?10!==(s=e.readInfo())?[3,4]:(u=$5d88d2f698148c14$export$5a476e4dbe7923d5(e.restDecoder),[4,new $e67e71e96b17d958$var$Skip($e67e71e96b17d958$export$6c7d4e6171d008d0(i,a),u)]):[3,9];case 3:return d.sent(),a+=u,[3,8];case 4:return 0==($5a7050a36c45c1a3$export$bc2aba63e4099c09&s)?[3,6]:(c=0==(s&($5a7050a36c45c1a3$export$eb5a8e0006ab4bb5|$5a7050a36c45c1a3$export$e25597372303a045)),[4,l=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(i,a),null,(s&$5a7050a36c45c1a3$export$e25597372303a045)===$5a7050a36c45c1a3$export$e25597372303a045?e.readLeftID():null,null,(s&$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5)===$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5?e.readRightID():null,c?e.readParentInfo()?e.readString():e.readLeftID():null,c&&(s&$5a7050a36c45c1a3$export$daf23f774967089)===$5a7050a36c45c1a3$export$daf23f774967089?e.readString():null,$e67e71e96b17d958$var$readItemContent(e,s))]);case 5:return d.sent(),a+=l.length,[3,8];case 6:return f=e.readLen(),[4,new $e67e71e96b17d958$export$12d259ff017e6b58($e67e71e96b17d958$export$6c7d4e6171d008d0(i,a),f)];case 7:d.sent(),a+=f,d.label=8;case 8:return o++,[3,2];case 9:return r++,[3,1];case 10:return[2]}}))}var $e67e71e96b17d958$var$LazyStructReader=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this.gen=$e67e71e96b17d958$var$lazyStructReaderGenerator(t),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}return(0,$9HoHC.default)(e,[{key:"next",value:function(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===$e67e71e96b17d958$var$Skip);return this.curr}}]),e}(),$e67e71e96b17d958$export$d6235ced6e55ace9=function(e){return $e67e71e96b17d958$export$624b3f0248c2dc40(e,$e67e71e96b17d958$var$UpdateDecoderV1)},$e67e71e96b17d958$export$624b3f0248c2dc40=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e67e71e96b17d958$var$UpdateDecoderV2,r=[],n=new t($5d88d2f698148c14$export$f8c898e83b60faaa(e)),i=new $e67e71e96b17d958$var$LazyStructReader(n,!1),a=i.curr;null!==a;a=i.next())r.push(a);$aa66bd77ae1116ef$export$c2d084dc44961371("Structs: ",r);var o=$e67e71e96b17d958$var$readDeleteSet(n);$aa66bd77ae1116ef$export$c2d084dc44961371("DeleteSet: ",o)},$e67e71e96b17d958$export$aa45cba8121663dc=function(e){return $e67e71e96b17d958$export$2fed33908eb23d71(e,$e67e71e96b17d958$var$UpdateDecoderV1)},$e67e71e96b17d958$export$2fed33908eb23d71=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e67e71e96b17d958$var$UpdateDecoderV2,r=[],n=new t($5d88d2f698148c14$export$f8c898e83b60faaa(e)),i=new $e67e71e96b17d958$var$LazyStructReader(n,!1),a=i.curr;null!==a;a=i.next())r.push(a);return{structs:r,ds:$e67e71e96b17d958$var$readDeleteSet(n)}},$e67e71e96b17d958$var$LazyStructWriter=function e(t){"use strict";(0,$4JAgF.default)(this,e),this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]},$e67e71e96b17d958$export$6319871659fd2460=function(e){return $e67e71e96b17d958$export$ce273d78de0331d1(e,$e67e71e96b17d958$var$UpdateDecoderV1,$e67e71e96b17d958$export$99171b804d9c5b54)},$e67e71e96b17d958$export$ed51750cf3ab2381=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e67e71e96b17d958$var$DSEncoderV2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e67e71e96b17d958$var$UpdateDecoderV2,n=new t,i=new $e67e71e96b17d958$var$LazyStructReader(new r($5d88d2f698148c14$export$f8c898e83b60faaa(e)),!1),a=i.curr;if(null!==a){for(var o=0,s=a.id.client,u=0!==a.id.clock,c=u?0:a.id.clock+a.length;null!==a;a=i.next())s!==a.id.client&&(0!==c&&(o++,$f10cc2748b0a1de2$export$872f48c75febcd2b(n.restEncoder,s),$f10cc2748b0a1de2$export$872f48c75febcd2b(n.restEncoder,c)),s=a.id.client,c=0,u=0!==a.id.clock),a.constructor===$e67e71e96b17d958$var$Skip&&(u=!0),u||(c=a.id.clock+a.length);0!==c&&(o++,$f10cc2748b0a1de2$export$872f48c75febcd2b(n.restEncoder,s),$f10cc2748b0a1de2$export$872f48c75febcd2b(n.restEncoder,c));var l=$f10cc2748b0a1de2$export$4e76eeb6df88c889();return $f10cc2748b0a1de2$export$872f48c75febcd2b(l,o),$f10cc2748b0a1de2$export$c029b62321ea3da(l,n.restEncoder),n.restEncoder=l,n.toUint8Array()}return $f10cc2748b0a1de2$export$872f48c75febcd2b(n.restEncoder,0),n.toUint8Array()},$e67e71e96b17d958$export$5c451fd8502b011f=function(e){return $e67e71e96b17d958$export$ed51750cf3ab2381(e,$e67e71e96b17d958$var$DSEncoderV1,$e67e71e96b17d958$var$UpdateDecoderV1)},$e67e71e96b17d958$export$8212a58b2178fdcf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e67e71e96b17d958$var$UpdateDecoderV2,r=new Map,n=new Map,i=new $e67e71e96b17d958$var$LazyStructReader(new t($5d88d2f698148c14$export$f8c898e83b60faaa(e)),!1),a=i.curr;if(null!==a){var o=a.id.client,s=a.id.clock;for(r.set(o,s);null!==a;a=i.next())o!==a.id.client&&(n.set(o,s),r.set(a.id.client,a.id.clock),o=a.id.client),s=a.id.clock+a.length;n.set(o,s)}return{from:r,to:n}},$e67e71e96b17d958$export$e212b06fd4bf78fd=function(e){return $e67e71e96b17d958$export$8212a58b2178fdcf(e,$e67e71e96b17d958$var$UpdateDecoderV1)},$e67e71e96b17d958$var$sliceStruct=function(e,t){if(e.constructor===$e67e71e96b17d958$export$12d259ff017e6b58){var r=e.id,n=r.client,i=r.clock;return new $e67e71e96b17d958$export$12d259ff017e6b58($e67e71e96b17d958$export$6c7d4e6171d008d0(n,i+t),e.length-t)}if(e.constructor===$e67e71e96b17d958$var$Skip){var a=e.id,o=a.client,s=a.clock;return new $e67e71e96b17d958$var$Skip($e67e71e96b17d958$export$6c7d4e6171d008d0(o,s+t),e.length-t)}var u=e,c=u.id,l=c.client,f=c.clock;return new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(l,f+t),null,$e67e71e96b17d958$export$6c7d4e6171d008d0(l,f+t-1),null,u.rightOrigin,u.parent,u.parentSub,u.content.splice(t))},$e67e71e96b17d958$export$ce273d78de0331d1=function(e){var t=function(){if((a=a.filter((function(e){return null!==e.curr}))).sort((function(e,t){if(e.curr.id.client===t.curr.id.client){var r=e.curr.id.clock-t.curr.id.clock;return 0===r?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===$e67e71e96b17d958$var$Skip?1:-1:r}return t.curr.id.client-e.curr.id.client})),0===a.length)return"break";var e=a[0],t=e.curr.id.client;if(null!==o){for(var r=e.curr,n=!1;null!==r&&r.id.clock+r.length<=o.struct.id.clock+o.struct.length&&r.id.client>=o.struct.id.client;)r=e.next(),n=!0;if(null===r||r.id.client!==t||n&&r.id.clock>o.struct.id.clock+o.struct.length)return"continue";if(t!==o.struct.id.client)$e67e71e96b17d958$var$writeStructToLazyStructWriter(u,o.struct,o.offset),o={struct:r,offset:0},e.next();else if(o.struct.id.clock+o.struct.length<r.id.clock)if(o.struct.constructor===$e67e71e96b17d958$var$Skip)o.struct.length=r.id.clock+r.length-o.struct.id.clock;else{$e67e71e96b17d958$var$writeStructToLazyStructWriter(u,o.struct,o.offset);var i=r.id.clock-o.struct.id.clock-o.struct.length,s=new $e67e71e96b17d958$var$Skip($e67e71e96b17d958$export$6c7d4e6171d008d0(t,o.struct.id.clock+o.struct.length),i);o={struct:s,offset:0}}else{var c=o.struct.id.clock+o.struct.length-r.id.clock;c>0&&(o.struct.constructor===$e67e71e96b17d958$var$Skip?o.struct.length-=c:r=$e67e71e96b17d958$var$sliceStruct(r,c)),o.struct.mergeWith(r)||($e67e71e96b17d958$var$writeStructToLazyStructWriter(u,o.struct,o.offset),o={struct:r,offset:0},e.next())}}else o={struct:e.curr,offset:0},e.next();for(var l=e.curr;null!==l&&l.id.client===t&&l.id.clock===o.struct.id.clock+o.struct.length&&l.constructor!==$e67e71e96b17d958$var$Skip;l=e.next())$e67e71e96b17d958$var$writeStructToLazyStructWriter(u,o.struct,o.offset),o={struct:l,offset:0}},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e67e71e96b17d958$var$UpdateDecoderV2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e67e71e96b17d958$var$UpdateEncoderV2;if(1===e.length)return e[0];for(var i=e.map((function(e){return new r($5d88d2f698148c14$export$f8c898e83b60faaa(e))})),a=i.map((function(e){return new $e67e71e96b17d958$var$LazyStructReader(e,!0)})),o=null,s=new n,u=new $e67e71e96b17d958$var$LazyStructWriter(s);;){var c=t();if("break"===c)break}null!==o&&($e67e71e96b17d958$var$writeStructToLazyStructWriter(u,o.struct,o.offset),o=null),$e67e71e96b17d958$var$finishLazyStructWriting(u);var l=i.map((function(e){return $e67e71e96b17d958$var$readDeleteSet(e)})),f=$e67e71e96b17d958$var$mergeDeleteSets(l);return $e67e71e96b17d958$var$writeDeleteSet(s,f),s.toUint8Array()},$e67e71e96b17d958$export$a8143edf39d2ad8e=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e67e71e96b17d958$var$UpdateDecoderV2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$e67e71e96b17d958$var$UpdateEncoderV2,i=$e67e71e96b17d958$export$324ac6fb20a844e3(t),a=new n,o=new $e67e71e96b17d958$var$LazyStructWriter(a),s=new r($5d88d2f698148c14$export$f8c898e83b60faaa(e)),u=new $e67e71e96b17d958$var$LazyStructReader(s,!1);u.curr;){var c=u.curr,l=c.id.client,f=i.get(l)||0;if(u.curr.constructor!==$e67e71e96b17d958$var$Skip)if(c.id.clock+c.length>f)for($e67e71e96b17d958$var$writeStructToLazyStructWriter(o,c,$0a30c1e54eae8fd7$export$8960430cfd85939f(f-c.id.clock,0)),u.next();u.curr&&u.curr.id.client===l;)$e67e71e96b17d958$var$writeStructToLazyStructWriter(o,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===l&&u.curr.id.clock+u.curr.length<=f;)u.next();else u.next()}$e67e71e96b17d958$var$finishLazyStructWriting(o);var d=$e67e71e96b17d958$var$readDeleteSet(s);return $e67e71e96b17d958$var$writeDeleteSet(a,d),a.toUint8Array()},$e67e71e96b17d958$export$bf60b51d6c283426=function(e,t){return $e67e71e96b17d958$export$a8143edf39d2ad8e(e,t,$e67e71e96b17d958$var$UpdateDecoderV1,$e67e71e96b17d958$export$99171b804d9c5b54)},$e67e71e96b17d958$var$flushLazyStructWriter=function(e){e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:$f10cc2748b0a1de2$export$73470fd2221e6aef(e.encoder.restEncoder)}),e.encoder.restEncoder=$f10cc2748b0a1de2$export$4e76eeb6df88c889(),e.written=0)},$e67e71e96b17d958$var$writeStructToLazyStructWriter=function(e,t,r){e.written>0&&e.currClient!==t.id.client&&$e67e71e96b17d958$var$flushLazyStructWriter(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),$f10cc2748b0a1de2$export$872f48c75febcd2b(e.encoder.restEncoder,t.id.clock+r)),t.write(e.encoder,r),e.written++},$e67e71e96b17d958$var$finishLazyStructWriting=function(e){$e67e71e96b17d958$var$flushLazyStructWriter(e);var t=e.encoder.restEncoder;$f10cc2748b0a1de2$export$872f48c75febcd2b(t,e.clientStructs.length);for(var r=0;r<e.clientStructs.length;r++){var n=e.clientStructs[r];$f10cc2748b0a1de2$export$872f48c75febcd2b(t,n.written),$f10cc2748b0a1de2$export$73b5e63e27d2b4c7(t,n.restEncoder)}},$e67e71e96b17d958$var$convertUpdateFormat=function(e,t,r){for(var n=new t($5d88d2f698148c14$export$f8c898e83b60faaa(e)),i=new $e67e71e96b17d958$var$LazyStructReader(n,!1),a=new r,o=new $e67e71e96b17d958$var$LazyStructWriter(a),s=i.curr;null!==s;s=i.next())$e67e71e96b17d958$var$writeStructToLazyStructWriter(o,s,0);$e67e71e96b17d958$var$finishLazyStructWriting(o);var u=$e67e71e96b17d958$var$readDeleteSet(n);return $e67e71e96b17d958$var$writeDeleteSet(a,u),a.toUint8Array()},$e67e71e96b17d958$export$162408325d5832c=function(e){return $e67e71e96b17d958$var$convertUpdateFormat(e,$e67e71e96b17d958$var$UpdateDecoderV1,$e67e71e96b17d958$var$UpdateEncoderV2)},$e67e71e96b17d958$export$afffbdeed14adbd=function(e){return $e67e71e96b17d958$var$convertUpdateFormat(e,$e67e71e96b17d958$var$UpdateDecoderV2,$e67e71e96b17d958$export$99171b804d9c5b54)},$e67e71e96b17d958$export$80fac438977fb51c=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this.target=t,this.currentTarget=t,this.transaction=r,this._changes=null,this._keys=null,this._delta=null}return(0,$9HoHC.default)(e,[{key:"path",get:function(){return $e67e71e96b17d958$var$getPathTo(this.currentTarget,this.target)}},{key:"deletes",value:function(e){return $e67e71e96b17d958$export$dcb04af092e44fde(this.transaction.deleteSet,e.id)}},{key:"keys",get:function(){var e=this;if(null===this._keys){var t=new Map,r=this.target;this.transaction.changed.get(r).forEach((function(n){if(null!==n){var i,a,o=r._map.get(n);if(e.adds(o)){for(var s=o.left;null!==s&&e.adds(s);)s=s.left;if(e.deletes(o)){if(null===s||!e.deletes(s))return;i="delete",a=$b96f611d003ab434$export$4c7897fafd92b108(s.content.getContent())}else null!==s&&e.deletes(s)?(i="update",a=$b96f611d003ab434$export$4c7897fafd92b108(s.content.getContent())):(i="add",a=void 0)}else{if(!e.deletes(o))return;i="delete",a=$b96f611d003ab434$export$4c7897fafd92b108(o.content.getContent())}t.set(n,{action:i,oldValue:a})}})),this._keys=t}return this._keys}},{key:"delta",get:function(){return this.changes.delta}},{key:"adds",value:function(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}},{key:"changes",get:function(){var e=this._changes;if(null===e){var t=this.target,r=$3e48f5ba97f970fa$export$185802fd694ee1f5(),n=$3e48f5ba97f970fa$export$185802fd694ee1f5(),i=[];if(e={added:r,deleted:n,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){for(var a=null,o=function(){a&&i.push(a)},s=t._start;null!==s;s=s.right)s.deleted?this.deletes(s)&&!this.adds(s)&&(null!==a&&void 0!==a.delete||(o(),a={delete:0}),a.delete+=s.length,n.add(s)):this.adds(s)?(null!==a&&void 0!==a.insert||(o(),a={insert:[]}),a.insert=a.insert.concat(s.content.getContent()),r.add(s)):(null!==a&&void 0!==a.retain||(o(),a={retain:0}),a.retain+=s.length);null!==a&&void 0===a.retain&&o()}this._changes=e}return e}}]),e}(),$e67e71e96b17d958$var$getPathTo=function(e,t){for(var r=[];null!==t._item&&t!==e;){if(null!==t._item.parentSub)r.unshift(t._item.parentSub);else{for(var n=0,i=t._item.parent._start;i!==t._item&&null!==i;)i.deleted||n++,i=i.right;r.unshift(n)}t=t._item.parent}return r},$e67e71e96b17d958$var$maxSearchMarker=80,$e67e71e96b17d958$var$globalSearchMarkerTimestamp=0,$e67e71e96b17d958$var$ArraySearchMarker=function e(t,r){"use strict";(0,$4JAgF.default)(this,e),t.marker=!0,this.p=t,this.index=r,this.timestamp=$e67e71e96b17d958$var$globalSearchMarkerTimestamp++},$e67e71e96b17d958$var$refreshMarkerTimestamp=function(e){e.timestamp=$e67e71e96b17d958$var$globalSearchMarkerTimestamp++},$e67e71e96b17d958$var$overwriteMarker=function(e,t,r){e.p.marker=!1,e.p=t,t.marker=!0,e.index=r,e.timestamp=$e67e71e96b17d958$var$globalSearchMarkerTimestamp++},$e67e71e96b17d958$var$markPosition=function(e,t,r){if(e.length>=$e67e71e96b17d958$var$maxSearchMarker){var n=e.reduce((function(e,t){return e.timestamp<t.timestamp?e:t}));return $e67e71e96b17d958$var$overwriteMarker(n,t,r),n}var i=new $e67e71e96b17d958$var$ArraySearchMarker(t,r);return e.push(i),i},$e67e71e96b17d958$var$findMarker=function(e,t){if(null===e._start||0===t||null===e._searchMarker)return null;var r=0===e._searchMarker.length?null:e._searchMarker.reduce((function(e,r){return $0a30c1e54eae8fd7$export$2335f513bbd82c6d(t-e.index)<$0a30c1e54eae8fd7$export$2335f513bbd82c6d(t-r.index)?e:r})),n=e._start,i=0;for(null!==r&&(n=r.p,i=r.index,$e67e71e96b17d958$var$refreshMarkerTimestamp(r));null!==n.right&&i<t;){if(!n.deleted&&n.countable){if(t<i+n.length)break;i+=n.length}n=n.right}for(;null!==n.left&&i>t;)!(n=n.left).deleted&&n.countable&&(i-=n.length);for(;null!==n.left&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)!(n=n.left).deleted&&n.countable&&(i-=n.length);return null!==r&&$0a30c1e54eae8fd7$export$2335f513bbd82c6d(r.index-i)<n.parent.length/$e67e71e96b17d958$var$maxSearchMarker?($e67e71e96b17d958$var$overwriteMarker(r,n,i),r):$e67e71e96b17d958$var$markPosition(e._searchMarker,n,i)},$e67e71e96b17d958$var$updateMarkerChanges=function(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n];if(r>0){var a=i.p;for(a.marker=!1;a&&(a.deleted||!a.countable);)(a=a.left)&&!a.deleted&&a.countable&&(i.index-=a.length);if(null===a||!0===a.marker){e.splice(n,1);continue}i.p=a,a.marker=!0}(t<i.index||r>0&&t===i.index)&&(i.index=$0a30c1e54eae8fd7$export$8960430cfd85939f(t,i.index+r))}},$e67e71e96b17d958$export$5418d693f13991b3=function(e){for(var t=e._start,r=[];t;)r.push(t),t=t.right;return r},$e67e71e96b17d958$var$callTypeObservers=function(e,t,r){for(var n=e,i=t.changedParentTypes;$16aaf99c17922512$export$dccd489362a8619(i,e,(function(){return[]})).push(r),null!==e._item;)e=e._item.parent;$e67e71e96b17d958$var$callEventHandlerListeners(n._eH,r,t)},$e67e71e96b17d958$export$c265dc8338484497=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=$e67e71e96b17d958$var$createEventHandler(),this._dEH=$e67e71e96b17d958$var$createEventHandler(),this._searchMarker=null}return(0,$9HoHC.default)(e,[{key:"parent",get:function(){return this._item?this._item.parent:null}},{key:"_integrate",value:function(e,t){this.doc=e,this._item=t}},{key:"_copy",value:function(){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"clone",value:function(){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"_write",value:function(e){}},{key:"_first",get:function(){for(var e=this._start;null!==e&&e.deleted;)e=e.right;return e}},{key:"_callObserver",value:function(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}},{key:"observe",value:function(e){$e67e71e96b17d958$var$addEventHandlerListener(this._eH,e)}},{key:"observeDeep",value:function(e){$e67e71e96b17d958$var$addEventHandlerListener(this._dEH,e)}},{key:"unobserve",value:function(e){$e67e71e96b17d958$var$removeEventHandlerListener(this._eH,e)}},{key:"unobserveDeep",value:function(e){$e67e71e96b17d958$var$removeEventHandlerListener(this._dEH,e)}},{key:"toJSON",value:function(){}}]),e}(),$e67e71e96b17d958$var$typeListSlice=function(e,t,r){t<0&&(t=e._length+t),r<0&&(r=e._length+r);for(var n=r-t,i=[],a=e._start;null!==a&&n>0;){if(a.countable&&!a.deleted){var o=a.content.getContent();if(o.length<=t)t-=o.length;else{for(var s=t;s<o.length&&n>0;s++)i.push(o[s]),n--;t=0}}a=a.right}return i},$e67e71e96b17d958$var$typeListToArray=function(e){for(var t=[],r=e._start;null!==r;){if(r.countable&&!r.deleted)for(var n=r.content.getContent(),i=0;i<n.length;i++)t.push(n[i]);r=r.right}return t},$e67e71e96b17d958$export$9de42b6dda4c7e48=function(e,t){for(var r=[],n=e._start;null!==n;){if(n.countable&&$e67e71e96b17d958$var$isVisible(n,t))for(var i=n.content.getContent(),a=0;a<i.length;a++)r.push(i[a]);n=n.right}return r},$e67e71e96b17d958$var$typeListForEach=function(e,t){for(var r=0,n=e._start;null!==n;){if(n.countable&&!n.deleted)for(var i=n.content.getContent(),a=0;a<i.length;a++)t(i[a],r++,e);n=n.right}},$e67e71e96b17d958$var$typeListMap=function(e,t){var r=[];return $e67e71e96b17d958$var$typeListForEach(e,(function(n,i){r.push(t(n,i,e))})),r},$e67e71e96b17d958$var$typeListCreateIterator=function(e){var t,r=e._start,n=null,i=0;return t={},(0,$8WkQI.default)(t,Symbol.iterator,(function(){return this})),(0,$8WkQI.default)(t,"next",(function(){if(null===n){for(;null!==r&&r.deleted;)r=r.right;if(null===r)return{done:!0,value:void 0};n=r.content.getContent(),i=0,r=r.right}var e=n[i++];return n.length<=i&&(n=null),{done:!1,value:e}})),t},$e67e71e96b17d958$var$typeListGet=function(e,t){var r=$e67e71e96b17d958$var$findMarker(e,t),n=e._start;for(null!==r&&(n=r.p,t-=r.index);null!==n;n=n.right)if(!n.deleted&&n.countable){if(t<n.length)return n.content.getContent()[t];t-=n.length}},$e67e71e96b17d958$var$typeListInsertGenericsAfter=function(e,t,r,n){var i=r,a=e.doc,o=a.clientID,s=a.store,u=null===r?t._start:r.right,c=[],l=function(){c.length>0&&((i=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(o,$e67e71e96b17d958$export$50fdfeece43146fd(s,o)),i,i&&i.lastId,u,u&&u.id,t,null,new $e67e71e96b17d958$export$1d788b93bbb631a0(c))).integrate(e,0),c=[])};n.forEach((function(r){if(null===r)c.push(r);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(r);break;default:switch(l(),r.constructor){case Uint8Array:case ArrayBuffer:(i=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(o,$e67e71e96b17d958$export$50fdfeece43146fd(s,o)),i,i&&i.lastId,u,u&&u.id,t,null,new $e67e71e96b17d958$export$e8d530cdf62d1cbd(new Uint8Array(r)))).integrate(e,0);break;case $e67e71e96b17d958$export$bceacc74c2212615:(i=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(o,$e67e71e96b17d958$export$50fdfeece43146fd(s,o)),i,i&&i.lastId,u,u&&u.id,t,null,new $e67e71e96b17d958$var$ContentDoc(r))).integrate(e,0);break;default:if(!(r instanceof $e67e71e96b17d958$export$c265dc8338484497))throw new Error("Unexpected content type in insert operation");(i=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(o,$e67e71e96b17d958$export$50fdfeece43146fd(s,o)),i,i&&i.lastId,u,u&&u.id,t,null,new $e67e71e96b17d958$export$e2e108cbe2e4f865(r))).integrate(e,0)}}})),l()},$e67e71e96b17d958$var$lengthExceeded=$e42fddd38393ef44$export$185802fd694ee1f5("Length exceeded!"),$e67e71e96b17d958$var$typeListInsertGenerics=function(e,t,r,n){if(r>t._length)throw $e67e71e96b17d958$var$lengthExceeded;if(0===r)return t._searchMarker&&$e67e71e96b17d958$var$updateMarkerChanges(t._searchMarker,r,n.length),$e67e71e96b17d958$var$typeListInsertGenericsAfter(e,t,null,n);var i=r,a=$e67e71e96b17d958$var$findMarker(t,r),o=t._start;for(null!==a&&(o=a.p,0===(r-=a.index)&&(r+=(o=o.prev)&&o.countable&&!o.deleted?o.length:0));null!==o;o=o.right)if(!o.deleted&&o.countable){if(r<=o.length){r<o.length&&$e67e71e96b17d958$var$getItemCleanStart(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(o.id.client,o.id.clock+r));break}r-=o.length}return t._searchMarker&&$e67e71e96b17d958$var$updateMarkerChanges(t._searchMarker,i,n.length),$e67e71e96b17d958$var$typeListInsertGenericsAfter(e,t,o,n)},$e67e71e96b17d958$var$typeListPushGenerics=function(e,t,r){var n=(t._searchMarker||[]).reduce((function(e,t){return t.index>e.index?t:e}),{index:0,p:t._start}).p;if(n)for(;n.right;)n=n.right;return $e67e71e96b17d958$var$typeListInsertGenericsAfter(e,t,n,r)},$e67e71e96b17d958$var$typeListDelete=function(e,t,r,n){if(0!==n){var i=r,a=n,o=$e67e71e96b17d958$var$findMarker(t,r),s=t._start;for(null!==o&&(s=o.p,r-=o.index);null!==s&&r>0;s=s.right)!s.deleted&&s.countable&&(r<s.length&&$e67e71e96b17d958$var$getItemCleanStart(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(s.id.client,s.id.clock+r)),r-=s.length);for(;n>0&&null!==s;)s.deleted||(n<s.length&&$e67e71e96b17d958$var$getItemCleanStart(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(s.id.client,s.id.clock+n)),s.delete(e),n-=s.length),s=s.right;if(n>0)throw $e67e71e96b17d958$var$lengthExceeded;t._searchMarker&&$e67e71e96b17d958$var$updateMarkerChanges(t._searchMarker,i,-a+n)}},$e67e71e96b17d958$var$typeMapDelete=function(e,t,r){var n=t._map.get(r);void 0!==n&&n.delete(e)},$e67e71e96b17d958$var$typeMapSet=function(e,t,r,n){var i,a=t._map.get(r)||null,o=e.doc,s=o.clientID;if(null==n)i=new $e67e71e96b17d958$export$1d788b93bbb631a0([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:i=new $e67e71e96b17d958$export$1d788b93bbb631a0([n]);break;case Uint8Array:i=new $e67e71e96b17d958$export$e8d530cdf62d1cbd(n);break;case $e67e71e96b17d958$export$bceacc74c2212615:i=new $e67e71e96b17d958$var$ContentDoc(n);break;default:if(!(n instanceof $e67e71e96b17d958$export$c265dc8338484497))throw new Error("Unexpected content type");i=new $e67e71e96b17d958$export$e2e108cbe2e4f865(n)}new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(s,$e67e71e96b17d958$export$50fdfeece43146fd(o.store,s)),a,a&&a.lastId,null,null,t,r,i).integrate(e,0)},$e67e71e96b17d958$var$typeMapGet=function(e,t){var r=e._map.get(t);return void 0===r||r.deleted?void 0:r.content.getContent()[r.length-1]},$e67e71e96b17d958$var$typeMapGetAll=function(e){var t={};return e._map.forEach((function(e,r){e.deleted||(t[r]=e.content.getContent()[e.length-1])})),t},$e67e71e96b17d958$var$typeMapHas=function(e,t){var r=e._map.get(t);return void 0!==r&&!r.deleted},$e67e71e96b17d958$export$a7c089bf6c22a1db=function(e,t,r){for(var n=e._map.get(t)||null;null!==n&&(!r.sv.has(n.id.client)||n.id.clock>=(r.sv.get(n.id.client)||0));)n=n.left;return null!==n&&$e67e71e96b17d958$var$isVisible(n,r)?n.content.getContent()[n.length-1]:void 0},$e67e71e96b17d958$var$createMapIterator=function(e){return $db5787e1249b576d$export$88f0b2eef157f31a(e.entries(),(function(e){return!e[1].deleted}))},$e67e71e96b17d958$export$a095f7fee639264a=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this,e,n))._transaction=n,i}return r}($e67e71e96b17d958$export$80fac438977fb51c),$e67e71e96b17d958$export$c4be6576ca6fe4aa=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),(e=t.call(this))._prelimContent=[],e._searchMarker=[],e}return(0,$9HoHC.default)(r,[{key:"_integrate",value:function(e,t){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.insert(0,this.toArray().map((function(e){return e instanceof $e67e71e96b17d958$export$c265dc8338484497?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"_callObserver",value:function(e,t){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"_callObserver",this).call(this,e,t),$e67e71e96b17d958$var$callTypeObservers(this,e,new $e67e71e96b17d958$export$a095f7fee639264a(this,e))}},{key:"insert",value:function(e,t){var r,n=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(r){$e67e71e96b17d958$var$typeListInsertGenerics(r,n,e,t)})):(r=this._prelimContent).splice.apply(r,[e,0].concat((0,$caN7I.default)(t)))}},{key:"push",value:function(e){var t,r=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(t){$e67e71e96b17d958$var$typeListPushGenerics(t,r,e)})):(t=this._prelimContent).push.apply(t,(0,$caN7I.default)(e))}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(n){$e67e71e96b17d958$var$typeListDelete(n,r,e,t)})):this._prelimContent.splice(e,t)}},{key:"get",value:function(e){return $e67e71e96b17d958$var$typeListGet(this,e)}},{key:"toArray",value:function(){return $e67e71e96b17d958$var$typeListToArray(this)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return $e67e71e96b17d958$var$typeListSlice(this,e,t)}},{key:"toJSON",value:function(){return this.map((function(e){return e instanceof $e67e71e96b17d958$export$c265dc8338484497?e.toJSON():e}))}},{key:"map",value:function(e){return $e67e71e96b17d958$var$typeListMap(this,e)}},{key:"forEach",value:function(e){$e67e71e96b17d958$var$typeListForEach(this,e)}},{key:Symbol.iterator,value:function(){return $e67e71e96b17d958$var$typeListCreateIterator(this)}},{key:"_write",value:function(e){e.writeTypeRef($e67e71e96b17d958$var$YArrayRefID)}}],[{key:"from",value:function(e){var t=new r;return t.push(e),t}}]),r}($e67e71e96b17d958$export$c265dc8338484497),$e67e71e96b17d958$var$readYArray=function(e){return new $e67e71e96b17d958$export$c4be6576ca6fe4aa},$e67e71e96b17d958$export$33aab1b1a47c1cc3=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i){var a;return(0,$4JAgF.default)(this,r),(a=t.call(this,e,n)).keysChanged=i,a}return r}($e67e71e96b17d958$export$80fac438977fb51c),$e67e71e96b17d958$export$a5c7b93649eaf8f8=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this))._prelimContent=null,n._prelimContent=void 0===e?new Map:new Map(e),n}return(0,$9HoHC.default)(r,[{key:"_integrate",value:function(e,t){var n=this;(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"_integrate",this).call(this,e,t),this._prelimContent.forEach((function(e,t){n.set(t,e)})),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return this.forEach((function(t,r){e.set(r,t instanceof $e67e71e96b17d958$export$c265dc8338484497?t.clone():t)})),e}},{key:"_callObserver",value:function(e,t){$e67e71e96b17d958$var$callTypeObservers(this,e,new $e67e71e96b17d958$export$33aab1b1a47c1cc3(this,e,t))}},{key:"toJSON",value:function(){var e={};return this._map.forEach((function(t,r){if(!t.deleted){var n=t.content.getContent()[t.length-1];e[r]=n instanceof $e67e71e96b17d958$export$c265dc8338484497?n.toJSON():n}})),e}},{key:"size",get:function(){return(0,$caN7I.default)($e67e71e96b17d958$var$createMapIterator(this._map)).length}},{key:"keys",value:function(){return $db5787e1249b576d$export$1570d514f543056a($e67e71e96b17d958$var$createMapIterator(this._map),(function(e){return e[0]}))}},{key:"values",value:function(){return $db5787e1249b576d$export$1570d514f543056a($e67e71e96b17d958$var$createMapIterator(this._map),(function(e){return e[1].content.getContent()[e[1].length-1]}))}},{key:"entries",value:function(){return $db5787e1249b576d$export$1570d514f543056a($e67e71e96b17d958$var$createMapIterator(this._map),(function(e){return[e[0],e[1].content.getContent()[e[1].length-1]]}))}},{key:"forEach",value:function(e){var t=this;this._map.forEach((function(r,n){r.deleted||e(r.content.getContent()[r.length-1],n,t)}))}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"delete",value:function(e){var t=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(r){$e67e71e96b17d958$var$typeMapDelete(r,t,e)})):this._prelimContent.delete(e)}},{key:"set",value:function(e,t){var r=this;return null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(n){$e67e71e96b17d958$var$typeMapSet(n,r,e,t)})):this._prelimContent.set(e,t),t}},{key:"get",value:function(e){return $e67e71e96b17d958$var$typeMapGet(this,e)}},{key:"has",value:function(e){return $e67e71e96b17d958$var$typeMapHas(this,e)}},{key:"clear",value:function(){var e=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(t){e.forEach((function(e,r,n){$e67e71e96b17d958$var$typeMapDelete(t,n,r)}))})):this._prelimContent.clear()}},{key:"_write",value:function(e){e.writeTypeRef($e67e71e96b17d958$var$YMapRefID)}}]),r}($e67e71e96b17d958$export$c265dc8338484497),$e67e71e96b17d958$var$readYMap=function(e){return new $e67e71e96b17d958$export$a5c7b93649eaf8f8},$e67e71e96b17d958$var$equalAttrs=function(e,t){return e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&$3a7ccb514662ffb6$export$4f1c34abb2bb4c8(e,t)},$e67e71e96b17d958$var$ItemTextListPosition=function(){"use strict";function e(t,r,n,i){(0,$4JAgF.default)(this,e),this.left=t,this.right=r,this.index=n,this.currentAttributes=i}return(0,$9HoHC.default)(e,[{key:"forward",value:function(){if(null===this.right&&$e42fddd38393ef44$export$965b6bccecbd9673(),this.right.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88)this.right.deleted||$e67e71e96b17d958$var$updateCurrentAttributes(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}]),e}(),$e67e71e96b17d958$var$findNextPosition=function(e,t,r){for(;null!==t.right&&r>0;){if(t.right.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88)t.right.deleted||$e67e71e96b17d958$var$updateCurrentAttributes(t.currentAttributes,t.right.content);else t.right.deleted||(r<t.right.length&&$e67e71e96b17d958$var$getItemCleanStart(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(t.right.id.client,t.right.id.clock+r)),t.index+=t.right.length,r-=t.right.length);t.left=t.right,t.right=t.right.right}return t},$e67e71e96b17d958$var$findPosition=function(e,t,r){var n=new Map,i=$e67e71e96b17d958$var$findMarker(t,r);if(i){var a=new $e67e71e96b17d958$var$ItemTextListPosition(i.p.left,i.p,i.index,n);return $e67e71e96b17d958$var$findNextPosition(e,a,r-i.index)}var o=new $e67e71e96b17d958$var$ItemTextListPosition(null,t._start,0,n);return $e67e71e96b17d958$var$findNextPosition(e,o,r)},$e67e71e96b17d958$var$insertNegatedAttributes=function(e,t,r,n){for(;null!==r.right&&(!0===r.right.deleted||r.right.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88&&$e67e71e96b17d958$var$equalAttrs(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();var i=e.doc,a=i.clientID;n.forEach((function(n,o){var s=r.left,u=r.right,c=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(a,$e67e71e96b17d958$export$50fdfeece43146fd(i.store,a)),s,s&&s.lastId,u,u&&u.id,t,null,new $e67e71e96b17d958$export$3194899188fb5a88(o,n));c.integrate(e,0),r.right=c,r.forward()}))},$e67e71e96b17d958$var$updateCurrentAttributes=function(e,t){var r=t.key,n=t.value;null===n?e.delete(r):e.set(r,n)},$e67e71e96b17d958$var$minimizeAttributeChanges=function(e,t){for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88&&$e67e71e96b17d958$var$equalAttrs(t[e.right.content.key]||null,e.right.content.value));)e.forward()},$e67e71e96b17d958$var$insertAttributes=function(e,t,r,n){var i=e.doc,a=i.clientID,o=new Map;for(var s in n){var u=n[s],c=r.currentAttributes.get(s)||null;if(!$e67e71e96b17d958$var$equalAttrs(c,u)){o.set(s,c);var l=r.left,f=r.right;r.right=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(a,$e67e71e96b17d958$export$50fdfeece43146fd(i.store,a)),l,l&&l.lastId,f,f&&f.id,t,null,new $e67e71e96b17d958$export$3194899188fb5a88(s,u)),r.right.integrate(e,0),r.forward()}}return o},$e67e71e96b17d958$var$insertText=function(e,t,r,n,i){r.currentAttributes.forEach((function(e,t){void 0===i[t]&&(i[t]=null)}));var a=e.doc,o=a.clientID;$e67e71e96b17d958$var$minimizeAttributeChanges(r,i);var s=$e67e71e96b17d958$var$insertAttributes(e,t,r,i),u=n.constructor===String?new $e67e71e96b17d958$export$ee670b2cf091bbb6(n):n instanceof $e67e71e96b17d958$export$c265dc8338484497?new $e67e71e96b17d958$export$e2e108cbe2e4f865(n):new $e67e71e96b17d958$export$c3787ba7f6086664(n),c=r.left,l=r.right,f=r.index;t._searchMarker&&$e67e71e96b17d958$var$updateMarkerChanges(t._searchMarker,r.index,u.getLength()),(l=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(o,$e67e71e96b17d958$export$50fdfeece43146fd(a.store,o)),c,c&&c.lastId,l,l&&l.id,t,null,u)).integrate(e,0),r.right=l,r.index=f,r.forward(),$e67e71e96b17d958$var$insertNegatedAttributes(e,t,r,s)},$e67e71e96b17d958$var$formatText=function(e,t,r,n,i){var a=e.doc,o=a.clientID;$e67e71e96b17d958$var$minimizeAttributeChanges(r,i);var s=$e67e71e96b17d958$var$insertAttributes(e,t,r,i);e:for(;null!==r.right&&(n>0||s.size>0&&(r.right.deleted||r.right.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88));){if(!r.right.deleted)if(r.right.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88){var u=r.right.content,c=u.key,l=u.value,f=i[c];if(void 0!==f){if($e67e71e96b17d958$var$equalAttrs(f,l))s.delete(c);else{if(0===n)break e;s.set(c,l)}r.right.delete(e)}else r.currentAttributes.set(c,l)}else n<r.right.length&&$e67e71e96b17d958$var$getItemCleanStart(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;r.forward()}if(n>0){for(var d="";n>0;n--)d+="\n";r.right=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(o,$e67e71e96b17d958$export$50fdfeece43146fd(a.store,o)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,t,null,new $e67e71e96b17d958$export$ee670b2cf091bbb6(d)),r.right.integrate(e,0),r.forward()}$e67e71e96b17d958$var$insertNegatedAttributes(e,t,r,s)},$e67e71e96b17d958$var$cleanupFormattingGap=function(e,t,r,n,i){for(var a=r,o=$16aaf99c17922512$export$784d13d8ee351f07(i);a&&(!a.countable||a.deleted);)a.deleted||a.content.constructor!==$e67e71e96b17d958$export$3194899188fb5a88||$e67e71e96b17d958$var$updateCurrentAttributes(o,a.content),a=a.right;for(var s=0,u=!1;t!==a;){if(r===t&&(u=!0),!t.deleted){var c=t.content;if(c.constructor===$e67e71e96b17d958$export$3194899188fb5a88){var l=c.key,f=c.value;(o.get(l)||null)===f&&(n.get(l)||null)!==f||(t.delete(e),s++,u||(i.get(l)||null)!==f||(n.get(l)||null)===f||i.delete(l))}}t=t.right}return s},$e67e71e96b17d958$var$cleanupContextlessFormattingGap=function(e,t){for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;for(var r=new Set;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88){var n=t.content.key;r.has(n)?t.delete(e):r.add(n)}t=t.left}},$e67e71e96b17d958$export$5d9f53c13ebffb65=function(e){var t=0;return $e67e71e96b17d958$export$dac1bad6146b2469(e.doc,(function(r){for(var n=e._start,i=e._start,a=$16aaf99c17922512$export$185802fd694ee1f5(),o=$16aaf99c17922512$export$784d13d8ee351f07(a);i;){if(!1===i.deleted)if(i.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88)$e67e71e96b17d958$var$updateCurrentAttributes(o,i.content);else t+=$e67e71e96b17d958$var$cleanupFormattingGap(r,n,i,a,o),a=$16aaf99c17922512$export$784d13d8ee351f07(o),n=i;i=i.right}})),t},$e67e71e96b17d958$var$deleteText=function(e,t,r){for(var n=r,i=$16aaf99c17922512$export$784d13d8ee351f07(t.currentAttributes),a=t.right;r>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case $e67e71e96b17d958$export$e2e108cbe2e4f865:case $e67e71e96b17d958$export$c3787ba7f6086664:case $e67e71e96b17d958$export$ee670b2cf091bbb6:r<t.right.length&&$e67e71e96b17d958$var$getItemCleanStart(e,$e67e71e96b17d958$export$6c7d4e6171d008d0(t.right.id.client,t.right.id.clock+r)),r-=t.right.length,t.right.delete(e)}t.forward()}a&&$e67e71e96b17d958$var$cleanupFormattingGap(e,a,t.right,i,t.currentAttributes);var o=(t.left||t.right).parent;return o._searchMarker&&$e67e71e96b17d958$var$updateMarkerChanges(o._searchMarker,t.index,-n+r),t},$e67e71e96b17d958$export$51155b8ebb74188a=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i){var a;return(0,$4JAgF.default)(this,r),(a=t.call(this,e,n)).childListChanged=!1,a.keysChanged=new Set,i.forEach((function(e){null===e?a.childListChanged=!0:a.keysChanged.add(e)})),a}return(0,$9HoHC.default)(r,[{key:"changes",get:function(){if(null===this._changes){var e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}},{key:"delta",get:function(){var e=this;if(null===this._delta){var t=this.target.doc,r=[];$e67e71e96b17d958$export$dac1bad6146b2469(t,(function(t){for(var n=new Map,i=new Map,a=e.target._start,o=null,s={},u="",c=0,l=0,f=function(){if(null!==o){var e;switch(o){case"delete":e={delete:l},l=0;break;case"insert":e={insert:u},n.size>0&&(e.attributes={},n.forEach((function(t,r){null!==t&&(e.attributes[r]=t)}))),u="";break;case"retain":if(e={retain:c},Object.keys(s).length>0)for(var t in e.attributes={},s)e.attributes[t]=s[t];c=0}r.push(e),o=null}};null!==a;){switch(a.content.constructor){case $e67e71e96b17d958$export$e2e108cbe2e4f865:case $e67e71e96b17d958$export$c3787ba7f6086664:e.adds(a)?e.deletes(a)||(f(),o="insert",u=a.content.getContent()[0],f()):e.deletes(a)?("delete"!==o&&(f(),o="delete"),l+=1):a.deleted||("retain"!==o&&(f(),o="retain"),c+=1);break;case $e67e71e96b17d958$export$ee670b2cf091bbb6:e.adds(a)?e.deletes(a)||("insert"!==o&&(f(),o="insert"),u+=a.content.str):e.deletes(a)?("delete"!==o&&(f(),o="delete"),l+=a.length):a.deleted||("retain"!==o&&(f(),o="retain"),c+=a.length);break;case $e67e71e96b17d958$export$3194899188fb5a88:var d=a.content,h=d.key,v=d.value;if(e.adds(a)){if(!e.deletes(a)){var p=n.get(h)||null;$e67e71e96b17d958$var$equalAttrs(p,v)?null!==v&&a.delete(t):("retain"===o&&f(),$e67e71e96b17d958$var$equalAttrs(v,i.get(h)||null)?delete s[h]:s[h]=v)}}else if(e.deletes(a)){i.set(h,v);var b=n.get(h)||null;$e67e71e96b17d958$var$equalAttrs(b,v)||("retain"===o&&f(),s[h]=b)}else if(!a.deleted){i.set(h,v);var g=s[h];void 0!==g&&($e67e71e96b17d958$var$equalAttrs(g,v)?null!==g&&a.delete(t):("retain"===o&&f(),null===v?delete s[h]:s[h]=v))}a.deleted||("insert"===o&&f(),$e67e71e96b17d958$var$updateCurrentAttributes(n,a.content))}a=a.right}for(f();r.length>0;){var m=r[r.length-1];if(void 0===m.retain||void 0!==m.attributes)break;r.pop()}})),this._delta=r}return this._delta}}]),r}($e67e71e96b17d958$export$80fac438977fb51c),$e67e71e96b17d958$export$5f1af8db9871e1d6=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this))._pending=void 0!==e?[function(){return n.insert(0,e)}]:[],n._searchMarker=[],n}return(0,$9HoHC.default)(r,[{key:"length",get:function(){return this._length}},{key:"_integrate",value:function(e,t){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"_integrate",this).call(this,e,t);try{this._pending.forEach((function(e){return e()}))}catch(e){console.error(e)}this._pending=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.applyDelta(this.toDelta()),e}},{key:"_callObserver",value:function(e,t){var n=this;(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"_callObserver",this).call(this,e,t);var i=new $e67e71e96b17d958$export$51155b8ebb74188a(this,e,t),a=e.doc;if($e67e71e96b17d958$var$callTypeObservers(this,e,i),!e.local){var o=!1,s=!0,u=!1,c=void 0;try{for(var l,f=e.afterState.entries()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=(0,$dVhHy.default)(l.value,2),h=d[0],v=d[1],p=e.beforeState.get(h)||0;if(v!==p&&($e67e71e96b17d958$var$iterateStructs(e,a.store.clients.get(h),p,v,(function(e){e.deleted||e.content.constructor!==$e67e71e96b17d958$export$3194899188fb5a88||(o=!0)})),o))break}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}o||$e67e71e96b17d958$export$8afefebbaf4e4c78(e,e.deleteSet,(function(e){e instanceof $e67e71e96b17d958$export$12d259ff017e6b58||o||e.parent===n&&e.content.constructor===$e67e71e96b17d958$export$3194899188fb5a88&&(o=!0)})),$e67e71e96b17d958$export$dac1bad6146b2469(a,(function(e){o?$e67e71e96b17d958$export$5d9f53c13ebffb65(n):$e67e71e96b17d958$export$8afefebbaf4e4c78(e,e.deleteSet,(function(t){t instanceof $e67e71e96b17d958$export$12d259ff017e6b58||t.parent===n&&$e67e71e96b17d958$var$cleanupContextlessFormattingGap(e,t)}))}))}}},{key:"toString",value:function(){for(var e="",t=this._start;null!==t;)!t.deleted&&t.countable&&t.content.constructor===$e67e71e96b17d958$export$ee670b2cf091bbb6&&(e+=t.content.str),t=t.right;return e}},{key:"toJSON",value:function(){return this.toString()}},{key:"applyDelta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sanitize,n=void 0===r||r,i=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(t){for(var r=new $e67e71e96b17d958$var$ItemTextListPosition(null,i._start,0,new Map),a=0;a<e.length;a++){var o=e[a];if(void 0!==o.insert){var s=n||"string"!=typeof o.insert||a!==e.length-1||null!==r.right||"\n"!==o.insert.slice(-1)?o.insert:o.insert.slice(0,-1);("string"!=typeof s||s.length>0)&&$e67e71e96b17d958$var$insertText(t,i,r,s,o.attributes||{})}else void 0!==o.retain?$e67e71e96b17d958$var$formatText(t,i,r,o.retain,o.attributes||{}):void 0!==o.delete&&$e67e71e96b17d958$var$deleteText(t,r,o.delete)}})):this._pending.push((function(){return i.applyDelta(e)}))}},{key:"toDelta",value:function(e,t,r){var n=function(){if(s.length>0){var e={},t=!1;a.forEach((function(r,n){t=!0,e[n]=r}));var r={insert:s};t&&(r.attributes=e),i.push(r),s=""}},i=[],a=new Map,o=this.doc,s="",u=this._start;return $e67e71e96b17d958$export$dac1bad6146b2469(o,(function(o){var c=function(){if($e67e71e96b17d958$var$isVisible(u,e)||void 0!==t&&$e67e71e96b17d958$var$isVisible(u,t))switch(u.content.constructor){case $e67e71e96b17d958$export$ee670b2cf091bbb6:var o=a.get("ychange");void 0===e||$e67e71e96b17d958$var$isVisible(u,e)?void 0===t||$e67e71e96b17d958$var$isVisible(u,t)?void 0!==o&&(n(),a.delete("ychange")):void 0!==o&&o.user===u.id.client&&"added"===o.type||(n(),a.set("ychange",r?r("added",u.id):{type:"added"})):void 0!==o&&o.user===u.id.client&&"removed"===o.type||(n(),a.set("ychange",r?r("removed",u.id):{type:"removed"})),s+=u.content.str;break;case $e67e71e96b17d958$export$e2e108cbe2e4f865:case $e67e71e96b17d958$export$c3787ba7f6086664:n();var c={insert:u.content.getContent()[0]};if(a.size>0){var l={};c.attributes=l,a.forEach((function(e,t){l[t]=e}))}i.push(c);break;case $e67e71e96b17d958$export$3194899188fb5a88:$e67e71e96b17d958$var$isVisible(u,e)&&(n(),$e67e71e96b17d958$var$updateCurrentAttributes(a,u.content))}u=u.right};for(e&&$e67e71e96b17d958$var$splitSnapshotAffectedStructs(o,e),t&&$e67e71e96b17d958$var$splitSnapshotAffectedStructs(o,t);null!==u;)c();n()}),"cleanup"),i}},{key:"insert",value:function(e,t,r){var n=this;if(!(t.length<=0)){var i=this.doc;null!==i?$e67e71e96b17d958$export$dac1bad6146b2469(i,(function(i){var a=$e67e71e96b17d958$var$findPosition(i,n,e);r||(r={},a.currentAttributes.forEach((function(e,t){r[t]=e}))),$e67e71e96b17d958$var$insertText(i,n,a,t,r)})):this._pending.push((function(){return n.insert(e,t,r)}))}}},{key:"insertEmbed",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this,i=this.doc;null!==i?$e67e71e96b17d958$export$dac1bad6146b2469(i,(function(i){var a=$e67e71e96b17d958$var$findPosition(i,n,e);$e67e71e96b17d958$var$insertText(i,n,a,t,r)})):this._pending.push((function(){return n.insertEmbed(e,t,r)}))}},{key:"delete",value:function(e,t){var r=this;if(0!==t){var n=this.doc;null!==n?$e67e71e96b17d958$export$dac1bad6146b2469(n,(function(n){$e67e71e96b17d958$var$deleteText(n,$e67e71e96b17d958$var$findPosition(n,r,e),t)})):this._pending.push((function(){return r.delete(e,t)}))}}},{key:"format",value:function(e,t,r){var n=this;if(0!==t){var i=this.doc;null!==i?$e67e71e96b17d958$export$dac1bad6146b2469(i,(function(i){var a=$e67e71e96b17d958$var$findPosition(i,n,e);null!==a.right&&$e67e71e96b17d958$var$formatText(i,n,a,t,r)})):this._pending.push((function(){return n.format(e,t,r)}))}}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(r){$e67e71e96b17d958$var$typeMapDelete(r,t,e)})):this._pending.push((function(){return t.removeAttribute(e)}))}},{key:"setAttribute",value:function(e,t){var r=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(n){$e67e71e96b17d958$var$typeMapSet(n,r,e,t)})):this._pending.push((function(){return r.setAttribute(e,t)}))}},{key:"getAttribute",value:function(e){return $e67e71e96b17d958$var$typeMapGet(this,e)}},{key:"getAttributes",value:function(e){return $e67e71e96b17d958$var$typeMapGetAll(this)}},{key:"_write",value:function(e){e.writeTypeRef($e67e71e96b17d958$var$YTextRefID)}}]),r}($e67e71e96b17d958$export$c265dc8338484497),$e67e71e96b17d958$var$readYText=function(e){return new $e67e71e96b17d958$export$5f1af8db9871e1d6},$e67e71e96b17d958$var$YXmlTreeWalker=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};(0,$4JAgF.default)(this,e),this._filter=r,this._root=t,this._currentNode=t._start,this._firstCall=!0}return(0,$9HoHC.default)(e,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==$e67e71e96b17d958$export$4db87581d3ca170d&&t.constructor!==$e67e71e96b17d958$export$d5ce8c3e1731f1a7||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}]),e}(),$e67e71e96b17d958$export$d5ce8c3e1731f1a7=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),(e=t.call(this))._prelimContent=[],e}return(0,$9HoHC.default)(r,[{key:"firstChild",get:function(){var e=this._first;return e?e.content.getContent()[0]:null}},{key:"_integrate",value:function(e,t){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.insert(0,this.toArray().map((function(e){return e instanceof $e67e71e96b17d958$export$c265dc8338484497?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"createTreeWalker",value:function(e){return new $e67e71e96b17d958$var$YXmlTreeWalker(this,e)}},{key:"querySelector",value:function(e){e=e.toUpperCase();var t=new $e67e71e96b17d958$var$YXmlTreeWalker(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})).next();return t.done?null:t.value}},{key:"querySelectorAll",value:function(e){return e=e.toUpperCase(),Array.from(new $e67e71e96b17d958$var$YXmlTreeWalker(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})))}},{key:"_callObserver",value:function(e,t){$e67e71e96b17d958$var$callTypeObservers(this,e,new $e67e71e96b17d958$export$88c9145a0c3b556c(this,t,e))}},{key:"toString",value:function(){return $e67e71e96b17d958$var$typeListMap(this,(function(e){return e.toString()})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=e.createDocumentFragment();return void 0!==r&&r._createAssociation(n,this),$e67e71e96b17d958$var$typeListForEach(this,(function(i){n.insertBefore(i.toDOM(e,t,r),null)})),n}},{key:"insert",value:function(e,t){var r,n=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(r){$e67e71e96b17d958$var$typeListInsertGenerics(r,n,e,t)})):(r=this._prelimContent).splice.apply(r,[e,0].concat((0,$caN7I.default)(t)))}},{key:"insertAfter",value:function(e,t){var r=this;if(null!==this.doc)$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(n){var i=e&&e instanceof $e67e71e96b17d958$export$c265dc8338484497?e._item:e;$e67e71e96b17d958$var$typeListInsertGenericsAfter(n,r,i,t)}));else{var n,i=this._prelimContent,a=null===e?0:i.findIndex((function(t){return t===e}))+1;if(0===a&&null!==e)throw $e42fddd38393ef44$export$185802fd694ee1f5("Reference item not found");(n=i).splice.apply(n,[a,0].concat((0,$caN7I.default)(t)))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(n){$e67e71e96b17d958$var$typeListDelete(n,r,e,t)})):this._prelimContent.splice(e,t)}},{key:"toArray",value:function(){return $e67e71e96b17d958$var$typeListToArray(this)}},{key:"push",value:function(e){this.insert(this.length,e)}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"get",value:function(e){return $e67e71e96b17d958$var$typeListGet(this,e)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return $e67e71e96b17d958$var$typeListSlice(this,e,t)}},{key:"forEach",value:function(e){$e67e71e96b17d958$var$typeListForEach(this,e)}},{key:"_write",value:function(e){e.writeTypeRef($e67e71e96b17d958$var$YXmlFragmentRefID)}}]),r}($e67e71e96b17d958$export$c265dc8338484497),$e67e71e96b17d958$var$readYXmlFragment=function(e){return new $e67e71e96b17d958$export$d5ce8c3e1731f1a7},$e67e71e96b17d958$export$4db87581d3ca170d=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNDEFINED";return(0,$4JAgF.default)(this,r),(e=t.call(this)).nodeName=n,e._prelimAttrs=new Map,e}return(0,$9HoHC.default)(r,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_integrate",value:function(e,t){var n=this;(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"_integrate",this).call(this,e,t),this._prelimAttrs.forEach((function(e,t){n.setAttribute(t,e)})),this._prelimAttrs=null}},{key:"_copy",value:function(){return new r(this.nodeName)}},{key:"clone",value:function(){var e=new r(this.nodeName),t=this.getAttributes();for(var n in t)e.setAttribute(n,t[n]);return e.insert(0,this.toArray().map((function(e){return e instanceof $e67e71e96b17d958$export$c265dc8338484497?e.clone():e}))),e}},{key:"toString",value:function(){var e=this.getAttributes(),t=[],n=[];for(var i in e)n.push(i);n.sort();for(var a=n.length,o=0;o<a;o++){var s=n[o];t.push(s+'="'+e[s]+'"')}var u=this.nodeName.toLocaleLowerCase(),c=t.length>0?" "+t.join(" "):"";return"<".concat(u).concat(c,">").concat((0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"toString",this).call(this),"</").concat(u,">")}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(r){$e67e71e96b17d958$var$typeMapDelete(r,t,e)})):this._prelimAttrs.delete(e)}},{key:"setAttribute",value:function(e,t){var r=this;null!==this.doc?$e67e71e96b17d958$export$dac1bad6146b2469(this.doc,(function(n){$e67e71e96b17d958$var$typeMapSet(n,r,e,t)})):this._prelimAttrs.set(e,t)}},{key:"getAttribute",value:function(e){return $e67e71e96b17d958$var$typeMapGet(this,e)}},{key:"hasAttribute",value:function(e){return $e67e71e96b17d958$var$typeMapHas(this,e)}},{key:"getAttributes",value:function(){return $e67e71e96b17d958$var$typeMapGetAll(this)}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=e.createElement(this.nodeName),i=this.getAttributes();for(var a in i)n.setAttribute(a,i[a]);return $e67e71e96b17d958$var$typeListForEach(this,(function(i){n.appendChild(i.toDOM(e,t,r))})),void 0!==r&&r._createAssociation(n,this),n}},{key:"_write",value:function(e){e.writeTypeRef($e67e71e96b17d958$var$YXmlElementRefID),e.writeKey(this.nodeName)}}]),r}($e67e71e96b17d958$export$d5ce8c3e1731f1a7),$e67e71e96b17d958$var$readYXmlElement=function(e){return new $e67e71e96b17d958$export$4db87581d3ca170d(e.readKey())},$e67e71e96b17d958$export$88c9145a0c3b556c=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i){var a;return(0,$4JAgF.default)(this,r),(a=t.call(this,e,i)).childListChanged=!1,a.attributesChanged=new Set,n.forEach((function(e){null===e?a.childListChanged=!0:a.attributesChanged.add(e)})),a}return r}($e67e71e96b17d958$export$80fac438977fb51c),$e67e71e96b17d958$export$ec64c1dd5e7a264=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this)).hookName=e,n}return(0,$9HoHC.default)(r,[{key:"_copy",value:function(){return new r(this.hookName)}},{key:"clone",value:function(){var e=new r(this.hookName);return this.forEach((function(t,r){e.set(r,t)})),e}},{key:"toDOM",value:function(){arguments.length>0&&void 0!==arguments[0]||document;var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=t[this.hookName];return(e=void 0!==n?n.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==r&&r._createAssociation(e,this),e}},{key:"_write",value:function(e){e.writeTypeRef($e67e71e96b17d958$var$YXmlHookRefID),e.writeKey(this.hookName)}}]),r}($e67e71e96b17d958$export$a5c7b93649eaf8f8),$e67e71e96b17d958$var$readYXmlHook=function(e){return new $e67e71e96b17d958$export$ec64c1dd5e7a264(e.readKey())},$e67e71e96b17d958$export$b35b8f45887823df=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.apply(this,arguments)}return(0,$9HoHC.default)(r,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.applyDelta(this.toDelta()),e}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>2?arguments[2]:void 0,r=e.createTextNode(this.toString());return void 0!==t&&t._createAssociation(r,this),r}},{key:"toString",value:function(){return this.toDelta().map((function(e){var t=function(t){var n=[];for(var i in e.attributes[t])n.push({key:i,value:e.attributes[t][i]});n.sort((function(e,t){return e.key<t.key?-1:1})),r.push({nodeName:t,attrs:n})},r=[];for(var n in e.attributes)t(n);r.sort((function(e,t){return e.nodeName<t.nodeName?-1:1}));for(var i="",a=0;a<r.length;a++){var o=r[a];i+="<".concat(o.nodeName);for(var s=0;s<o.attrs.length;s++){var u=o.attrs[s];i+=" ".concat(u.key,'="').concat(u.value,'"')}i+=">"}i+=e.insert;for(var c=r.length-1;c>=0;c--)i+="</".concat(r[c].nodeName,">");return i})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"_write",value:function(e){e.writeTypeRef($e67e71e96b17d958$var$YXmlTextRefID)}}]),r}($e67e71e96b17d958$export$5f1af8db9871e1d6),$e67e71e96b17d958$var$readYXmlText=function(e){return new $e67e71e96b17d958$export$b35b8f45887823df},$e67e71e96b17d958$export$3cf6f9765c5c3196=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this.id=t,this.length=r}return(0,$9HoHC.default)(e,[{key:"deleted",get:function(){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"mergeWith",value:function(e){return!1}},{key:"write",value:function(e,t,r){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"integrate",value:function(e,t){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}}]),e}(),$e67e71e96b17d958$var$structGCRefNumber=0,$e67e71e96b17d958$export$12d259ff017e6b58=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.apply(this,arguments)}return(0,$9HoHC.default)(r,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){t>0&&(this.id.clock+=t,this.length-=t),$e67e71e96b17d958$var$addStruct(e.doc.store,this)}},{key:"write",value:function(e,t){e.writeInfo($e67e71e96b17d958$var$structGCRefNumber),e.writeLen(this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),r}($e67e71e96b17d958$export$3cf6f9765c5c3196),$e67e71e96b17d958$export$e8d530cdf62d1cbd=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.content=t}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.content]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.content)}},{key:"splice",value:function(e){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeBuf(this.content)}},{key:"getRef",value:function(){return 3}}]),e}(),$e67e71e96b17d958$var$readContentBinary=function(e){return new $e67e71e96b17d958$export$e8d530cdf62d1cbd(e.readBuf())},$e67e71e96b17d958$export$3b06e0b3a2ece602=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.len=t}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return this.len}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.len)}},{key:"splice",value:function(t){var r=new e(this.len-t);return this.len=t,r}},{key:"mergeWith",value:function(e){return this.len+=e.len,!0}},{key:"integrate",value:function(e,t){$e67e71e96b17d958$var$addToDeleteSet(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeLen(this.len-t)}},{key:"getRef",value:function(){return 1}}]),e}(),$e67e71e96b17d958$var$readContentDeleted=function(e){return new $e67e71e96b17d958$export$3b06e0b3a2ece602(e.readLen())},$e67e71e96b17d958$var$createDocFromOpts=function(e,t){return new $e67e71e96b17d958$export$bceacc74c2212615($62fec355e81061c1$export$2e2bcd8739ae039((0,$gUJ6q.default)({guid:e},t),{shouldLoad:t.shouldLoad||t.autoLoad||!1}))},$e67e71e96b17d958$var$ContentDoc=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;var r={};this.opts=r,t.gc||(r.gc=!1),t.autoLoad&&(r.autoLoad=!0),null!==t.meta&&(r.meta=t.meta)}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.doc]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e($e67e71e96b17d958$var$createDocFromOpts(this.doc.guid,this.opts))}},{key:"splice",value:function(e){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}},{key:"delete",value:function(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}},{key:"getRef",value:function(){return 9}}]),e}(),$e67e71e96b17d958$var$readContentDoc=function(e){return new $e67e71e96b17d958$var$ContentDoc($e67e71e96b17d958$var$createDocFromOpts(e.readString(),e.readAny()))},$e67e71e96b17d958$export$c3787ba7f6086664=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.embed=t}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.embed]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.embed)}},{key:"splice",value:function(e){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeJSON(this.embed)}},{key:"getRef",value:function(){return 5}}]),e}(),$e67e71e96b17d958$var$readContentEmbed=function(e){return new $e67e71e96b17d958$export$c3787ba7f6086664(e.readJSON())},$e67e71e96b17d958$export$3194899188fb5a88=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this.key=t,this.value=r}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.key,this.value)}},{key:"splice",value:function(e){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){t.parent._searchMarker=null}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeKey(this.key),e.writeJSON(this.value)}},{key:"getRef",value:function(){return 6}}]),e}(),$e67e71e96b17d958$var$readContentFormat=function(e){return new $e67e71e96b17d958$export$3194899188fb5a88(e.readKey(),e.readJSON())},$e67e71e96b17d958$export$6a907ea8f733ecf3=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.arr=t}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var r=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var r=this.arr.length;e.writeLen(r-t);for(var n=t;n<r;n++){var i=this.arr[n];e.writeString(void 0===i?"undefined":JSON.stringify(i))}}},{key:"getRef",value:function(){return 2}}]),e}(),$e67e71e96b17d958$var$readContentJSON=function(e){for(var t=e.readLen(),r=[],n=0;n<t;n++){var i=e.readString();"undefined"===i?r.push(void 0):r.push(JSON.parse(i))}return new $e67e71e96b17d958$export$6a907ea8f733ecf3(r)},$e67e71e96b17d958$export$1d788b93bbb631a0=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.arr=t}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var r=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var r=this.arr.length;e.writeLen(r-t);for(var n=t;n<r;n++){var i=this.arr[n];e.writeAny(i)}}},{key:"getRef",value:function(){return 8}}]),e}(),$e67e71e96b17d958$var$readContentAny=function(e){for(var t=e.readLen(),r=[],n=0;n<t;n++)r.push(e.readAny());return new $e67e71e96b17d958$export$1d788b93bbb631a0(r)},$e67e71e96b17d958$export$ee670b2cf091bbb6=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.str=t}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return this.str.length}},{key:"getContent",value:function(){return this.str.split("")}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.str)}},{key:"splice",value:function(t){var r=new e(this.str.slice(t));this.str=this.str.slice(0,t);var n=this.str.charCodeAt(t-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,t-1)+"�",r.str="�"+r.str.slice(1)),r}},{key:"mergeWith",value:function(e){return this.str+=e.str,!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(0===t?this.str:this.str.slice(t))}},{key:"getRef",value:function(){return 4}}]),e}(),$e67e71e96b17d958$var$readContentString=function(e){return new $e67e71e96b17d958$export$ee670b2cf091bbb6(e.readString())},$e67e71e96b17d958$var$typeRefs=[$e67e71e96b17d958$var$readYArray,$e67e71e96b17d958$var$readYMap,$e67e71e96b17d958$var$readYText,$e67e71e96b17d958$var$readYXmlElement,$e67e71e96b17d958$var$readYXmlFragment,$e67e71e96b17d958$var$readYXmlHook,$e67e71e96b17d958$var$readYXmlText],$e67e71e96b17d958$var$YArrayRefID=0,$e67e71e96b17d958$var$YMapRefID=1,$e67e71e96b17d958$var$YTextRefID=2,$e67e71e96b17d958$var$YXmlElementRefID=3,$e67e71e96b17d958$var$YXmlFragmentRefID=4,$e67e71e96b17d958$var$YXmlHookRefID=5,$e67e71e96b17d958$var$YXmlTextRefID=6,$e67e71e96b17d958$export$e2e108cbe2e4f865=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.type=t}return(0,$9HoHC.default)(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.type]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.type._copy())}},{key:"splice",value:function(e){throw $e42fddd38393ef44$export$73ced5c7e10d6d0f()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.type._integrate(e.doc,t)}},{key:"delete",value:function(e){for(var t=this.type._start;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((function(t){t.deleted?e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}},{key:"gc",value:function(e){for(var t=this.type._start;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((function(t){for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}},{key:"write",value:function(e,t){this.type._write(e)}},{key:"getRef",value:function(){return 7}}]),e}(),$e67e71e96b17d958$var$readContentType=function(e){return new $e67e71e96b17d958$export$e2e108cbe2e4f865($e67e71e96b17d958$var$typeRefs[e.readTypeRef()](e))},$e67e71e96b17d958$var$followRedone=function(e,t){var r,n=t,i=0;do{i>0&&(n=$e67e71e96b17d958$export$6c7d4e6171d008d0(n.client,n.clock+i)),r=$e67e71e96b17d958$export$f92dfeb71e9bb569(e,n),i=n.clock-r.id.clock,n=r.redone}while(null!==n&&r instanceof $e67e71e96b17d958$export$6d08773d2e66f8f2);return{item:r,diff:i}},$e67e71e96b17d958$var$keepItem=function(e,t){for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},$e67e71e96b17d958$var$splitItem=function(e,t,r){var n=t.id,i=n.client,a=n.clock,o=new $e67e71e96b17d958$export$6d08773d2e66f8f2($e67e71e96b17d958$export$6c7d4e6171d008d0(i,a+r),t,$e67e71e96b17d958$export$6c7d4e6171d008d0(i,a+r-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(r));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),null!==t.redone&&(o.redone=$e67e71e96b17d958$export$6c7d4e6171d008d0(t.redone.client,t.redone.clock+r)),t.right=o,null!==o.right&&(o.right.left=o),e._mergeStructs.push(o),null!==o.parentSub&&null===o.right&&o.parent._map.set(o.parentSub,o),t.length=r,o},$e67e71e96b17d958$var$redoItem=function(e,t,r,n,i){var a=e.doc,o=a.store,s=a.clientID,u=t.redone;if(null!==u)return $e67e71e96b17d958$var$getItemCleanStart(e,u);var c,l=t.parent._item,f=null;if(null!==l&&!0===l.deleted){if(null===l.redone&&(!r.has(l)||null===$e67e71e96b17d958$var$redoItem(e,l,r,n,i)))return null;for(;null!==l.redone;)l=$e67e71e96b17d958$var$getItemCleanStart(e,l.redone)}var d=null===l?t.parent:l.content.type;if(null===t.parentSub){for(f=t.left,c=t;null!==f;){for(var h=f;null!==h&&h.parent._item!==l;)h=null===h.redone?null:$e67e71e96b17d958$var$getItemCleanStart(e,h.redone);if(null!==h&&h.parent._item===l){f=h;break}f=f.left}for(;null!==c;){for(var v=c;null!==v&&v.parent._item!==l;)v=null===v.redone?null:$e67e71e96b17d958$var$getItemCleanStart(e,v.redone);if(null!==v&&v.parent._item===l){c=v;break}c=c.right}}else if(c=null,t.right&&!i){for(f=t;null!==f&&null!==f.right&&$e67e71e96b17d958$export$dcb04af092e44fde(n,f.right.id);)f=f.right;for(;null!==f&&null!==f.redone;)f=$e67e71e96b17d958$var$getItemCleanStart(e,f.redone);if(f&&null!==f.right)return null}else f=d._map.get(t.parentSub)||null;var p=$e67e71e96b17d958$export$50fdfeece43146fd(o,s),b=$e67e71e96b17d958$export$6c7d4e6171d008d0(s,p),g=new $e67e71e96b17d958$export$6d08773d2e66f8f2(b,f,f&&f.lastId,c,c&&c.id,d,t.parentSub,t.content.copy());return t.redone=b,$e67e71e96b17d958$var$keepItem(g,!0),g.integrate(e,0),g},$e67e71e96b17d958$export$6d08773d2e66f8f2=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i,a,o,s,u,c){var l;return(0,$4JAgF.default)(this,r),(l=t.call(this,e,c.getLength())).origin=i,l.left=n,l.right=a,l.rightOrigin=o,l.parent=s,l.parentSub=u,l.redone=null,l.content=c,l.info=l.content.isCountable()?$5a7050a36c45c1a3$export$1f117f3b0edc2676:0,l}return(0,$9HoHC.default)(r,[{key:"marker",get:function(){return(this.info&$5a7050a36c45c1a3$export$873ae8db4cef5125)>0},set:function(e){(this.info&$5a7050a36c45c1a3$export$873ae8db4cef5125)>0!==e&&(this.info^=$5a7050a36c45c1a3$export$873ae8db4cef5125)}},{key:"keep",get:function(){return(this.info&$5a7050a36c45c1a3$export$ee2c6657cb286da4)>0},set:function(e){this.keep!==e&&(this.info^=$5a7050a36c45c1a3$export$ee2c6657cb286da4)}},{key:"countable",get:function(){return(this.info&$5a7050a36c45c1a3$export$1f117f3b0edc2676)>0}},{key:"deleted",get:function(){return(this.info&$5a7050a36c45c1a3$export$e5294f8c78cf7711)>0},set:function(e){this.deleted!==e&&(this.info^=$5a7050a36c45c1a3$export$e5294f8c78cf7711)}},{key:"markDeleted",value:function(){this.info|=$5a7050a36c45c1a3$export$e5294f8c78cf7711}},{key:"getMissing",value:function(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=$e67e71e96b17d958$export$50fdfeece43146fd(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=$e67e71e96b17d958$export$50fdfeece43146fd(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===$e67e71e96b17d958$export$8be180ec26319f9f&&this.id.client!==this.parent.client&&this.parent.clock>=$e67e71e96b17d958$export$50fdfeece43146fd(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=$e67e71e96b17d958$var$getItemCleanEnd(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=$e67e71e96b17d958$var$getItemCleanStart(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===$e67e71e96b17d958$export$12d259ff017e6b58||this.right&&this.right.constructor===$e67e71e96b17d958$export$12d259ff017e6b58)&&(this.parent=null),this.parent){if(this.parent.constructor===$e67e71e96b17d958$export$8be180ec26319f9f){var n=$e67e71e96b17d958$export$f92dfeb71e9bb569(t,this.parent);n.constructor===$e67e71e96b17d958$export$12d259ff017e6b58?this.parent=null:this.parent=n.content.type}}else this.left&&this.left.constructor===r&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===r&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}},{key:"integrate",value:function(e,t){if(t>0&&(this.id.clock+=t,this.left=$e67e71e96b17d958$var$getItemCleanEnd(e,e.doc.store,$e67e71e96b17d958$export$6c7d4e6171d008d0(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){var r,n=this.left;if(null!==n)r=n.right;else if(null!==this.parentSub)for(r=this.parent._map.get(this.parentSub)||null;null!==r&&null!==r.left;)r=r.left;else r=this.parent._start;for(var i=new Set,a=new Set;null!==r&&r!==this.right;){if(a.add(r),i.add(r),$e67e71e96b17d958$export$c0af976e7e459c02(this.origin,r.origin)){if(r.id.client<this.id.client)n=r,i.clear();else if($e67e71e96b17d958$export$c0af976e7e459c02(this.rightOrigin,r.rightOrigin))break}else{if(null===r.origin||!a.has($e67e71e96b17d958$export$f92dfeb71e9bb569(e.doc.store,r.origin)))break;i.has($e67e71e96b17d958$export$f92dfeb71e9bb569(e.doc.store,r.origin))||(n=r,i.clear())}r=r.right}this.left=n}if(null!==this.left){var o=this.left.right;this.right=o,this.left.right=this}else{var s;if(null!==this.parentSub)for(s=this.parent._map.get(this.parentSub)||null;null!==s&&null!==s.left;)s=s.left;else s=this.parent._start,this.parent._start=this;this.right=s}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),$e67e71e96b17d958$var$addStruct(e.doc.store,this),this.content.integrate(e,this),$e67e71e96b17d958$var$addChangedTypeToTransaction(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new $e67e71e96b17d958$export$12d259ff017e6b58(this.id,this.length).integrate(e,0)}},{key:"next",get:function(){for(var e=this.right;null!==e&&e.deleted;)e=e.right;return e}},{key:"prev",get:function(){for(var e=this.left;null!==e&&e.deleted;)e=e.left;return e}},{key:"lastId",get:function(){return 1===this.length?this.id:$e67e71e96b17d958$export$6c7d4e6171d008d0(this.id.client,this.id.clock+this.length-1)}},{key:"mergeWith",value:function(e){var t=this;if(this.constructor===e.constructor&&$e67e71e96b17d958$export$c0af976e7e459c02(e.origin,this.lastId)&&this.right===e&&$e67e71e96b17d958$export$c0af976e7e459c02(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){var r=this.parent._searchMarker;return r&&r.forEach((function(r){r.p===e&&(r.p=t,!t.deleted&&t.countable&&(r.index-=t.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}},{key:"delete",value:function(e){if(!this.deleted){var t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),$e67e71e96b17d958$var$addToDeleteSet(e.deleteSet,this.id.client,this.id.clock,this.length),$e67e71e96b17d958$var$addChangedTypeToTransaction(e,t,this.parentSub),this.content.delete(e)}}},{key:"gc",value:function(e,t){if(!this.deleted)throw $e42fddd38393ef44$export$965b6bccecbd9673();this.content.gc(e),t?$e67e71e96b17d958$var$replaceStruct(e,this,new $e67e71e96b17d958$export$12d259ff017e6b58(this.id,this.length)):this.content=new $e67e71e96b17d958$export$3b06e0b3a2ece602(this.length)}},{key:"write",value:function(e,t){var r=t>0?$e67e71e96b17d958$export$6c7d4e6171d008d0(this.id.client,this.id.clock+t-1):this.origin,n=this.rightOrigin,i=this.parentSub,a=this.content.getRef()&$5a7050a36c45c1a3$export$bc2aba63e4099c09|(null===r?0:$5a7050a36c45c1a3$export$e25597372303a045)|(null===n?0:$5a7050a36c45c1a3$export$eb5a8e0006ab4bb5)|(null===i?0:$5a7050a36c45c1a3$export$daf23f774967089);if(e.writeInfo(a),null!==r&&e.writeLeftID(r),null!==n&&e.writeRightID(n),null===r&&null===n){var o=this.parent;if(void 0!==o._item){var s=o._item;if(null===s){var u=$e67e71e96b17d958$export$e726a40920d54663(o);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(s.id)}else o.constructor===String?(e.writeParentInfo(!0),e.writeString(o)):o.constructor===$e67e71e96b17d958$export$8be180ec26319f9f?(e.writeParentInfo(!1),e.writeLeftID(o)):$e42fddd38393ef44$export$965b6bccecbd9673();null!==i&&e.writeString(i)}this.content.write(e,t)}}]),r}($e67e71e96b17d958$export$3cf6f9765c5c3196),$e67e71e96b17d958$var$readItemContent=function(e,t){return $e67e71e96b17d958$var$contentRefs[t&$5a7050a36c45c1a3$export$bc2aba63e4099c09](e)},$e67e71e96b17d958$var$contentRefs=[function(){$e42fddd38393ef44$export$965b6bccecbd9673()},$e67e71e96b17d958$var$readContentDeleted,$e67e71e96b17d958$var$readContentJSON,$e67e71e96b17d958$var$readContentBinary,$e67e71e96b17d958$var$readContentString,$e67e71e96b17d958$var$readContentEmbed,$e67e71e96b17d958$var$readContentFormat,$e67e71e96b17d958$var$readContentType,$e67e71e96b17d958$var$readContentAny,$e67e71e96b17d958$var$readContentDoc,function(){$e42fddd38393ef44$export$965b6bccecbd9673()}],$e67e71e96b17d958$var$structSkipRefNumber=10,$e67e71e96b17d958$var$Skip=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.apply(this,arguments)}return(0,$9HoHC.default)(r,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){$e42fddd38393ef44$export$965b6bccecbd9673()}},{key:"write",value:function(e,t){e.writeInfo($e67e71e96b17d958$var$structSkipRefNumber),$f10cc2748b0a1de2$export$872f48c75febcd2b(e.restEncoder,this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),r}($e67e71e96b17d958$export$3cf6f9765c5c3196),$e67e71e96b17d958$var$glo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==$parcel$global?$parcel$global:{},$e67e71e96b17d958$var$importIdentifier="__ $YJS$ __";!0===$e67e71e96b17d958$var$glo[$e67e71e96b17d958$var$importIdentifier]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),$e67e71e96b17d958$var$glo[$e67e71e96b17d958$var$importIdentifier]=!0;var $da3aa1840d01bc37$var$PEERS="peers",$da3aa1840d01bc37$var$QUIZ="q",$da3aa1840d01bc37$var$SURVEY="s",$da3aa1840d01bc37$var$CODE="c",$da3aa1840d01bc37$export$ec9312588b0f7a5d=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this.doc=new $e67e71e96b17d958$export$bceacc74c2212615,r&&this.doc.on("update",r),this.length=0,this.peerID=t,this.peers=this.doc.getMap($da3aa1840d01bc37$var$PEERS),this.peers.set(t,!0)}return(0,$9HoHC.default)(e,[{key:"init",value:function(e){this.length=Math.max(this.length,e.length);var t=this;this.doc.transact((function(){for(var r=0;r<e.length;r++)t.initMap($da3aa1840d01bc37$var$QUIZ,r,e[r][$da3aa1840d01bc37$var$QUIZ]),t.initMap($da3aa1840d01bc37$var$SURVEY,r,e[r][$da3aa1840d01bc37$var$SURVEY]),t.initText(r,e[r][$da3aa1840d01bc37$var$CODE])}),this.peerID)}},{key:"encode",value:function(){return $e67e71e96b17d958$export$e5848df80e65bd53(this.doc)}},{key:"destroy",value:function(){this.doc.destroy()}},{key:"applyUpdate",value:function(e){var t=this;this.doc.transact((function(){!1===t.peers.get(t.peerID)&&t.peers.set(t.peerID,!0),$e67e71e96b17d958$export$c271737a9c02e925(t.doc,e)}))}},{key:"log",value:function(){console.warn("*********** PEERS ***********"),console.warn(this.peers.toJSON()),console.warn("*********** STATE ***********"),console.warn(this.doc.toJSON())}},{key:"initMap",value:function(e,t,r){if(0!==r.length)for(var n,i=0;i<r.length;i++)for(var a in n=this.getMap(e,t,i),r[i])n.set(a,r[i][e])}},{key:"initText",value:function(e,t){if(0!==t.length)for(var r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)this.initCode(e,r,n,t[r][n])}},{key:"diff",value:function(e){return $e67e71e96b17d958$export$e5848df80e65bd53(this.doc,e)}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.length;t++)e.push({s:this.getAllMaps($da3aa1840d01bc37$var$SURVEY,t),q:this.getAllMaps($da3aa1840d01bc37$var$QUIZ,t),c:this.getAllTexts(t)});return e}},{key:"getPeers",value:function(){var e=this.peers.toJSON();return e?Object.entries(e).filter((function(e){var t=(0,$dVhHy.default)(e,2);t[0];return t[1]})).map((function(e){var t=(0,$dVhHy.default)(e,2),r=t[0];t[1];return r})):[]}},{key:"removePeer",value:function(e){var t=this;this.doc.transact((function(){t.peers.set(e||t.peerID,!1)}),e?void 0:"exit")}},{key:"id",value:function(e,t,r,n){return void 0===n?e+":"+t+","+r:e+":"+t+","+r+","+n}},{key:"has",value:function(e,t,r,n){return this.doc.share.has(this.id(e,t,r,n))}},{key:"getMap",value:function(e,t,r){return this.doc.getMap(this.id(e,t,r))}},{key:"getText",value:function(e,t,r,n){return this.doc.getText(this.id(e,t,r,n))}},{key:"getAllMaps",value:function(e,t){for(var r,n=[],i=0;this.has(e,t,i);i++)r=this.getMap(e,t,i),n.push(r.toJSON());return n}},{key:"getAllTexts",value:function(e){for(var t,r=[],n=0;this.has($da3aa1840d01bc37$var$CODE,e,n,0);n++){for(var i=[],a=0;this.has($da3aa1840d01bc37$var$CODE,e,n,a);a++)t=this.getText($da3aa1840d01bc37$var$CODE,e,n,a),i.push(t.toString());r.push(i)}return r}},{key:"addQuiz",value:function(e,t,r){this.addRecord($da3aa1840d01bc37$var$QUIZ,e,t,r)}},{key:"addSurvey",value:function(e,t,r){this.addRecord($da3aa1840d01bc37$var$SURVEY,e,t,r)}},{key:"addRecord",value:function(e,t,r,n){var i=this.getMap(e,t,r);void 0===i.toJSON()[this.peerID]&&i.set(this.peerID,n)}},{key:"initCode",value:function(e,t,r,n){if(!this.has($da3aa1840d01bc37$var$CODE,e,t,r)){var i=this.getText($da3aa1840d01bc37$var$CODE,e,t,r),a=this.doc.clientID;this.doc.clientID=0,i.insert(0,n),this.doc.clientID=a}}},{key:"updateCode",value:function(e,t,r,n){var i=this;this.has($da3aa1840d01bc37$var$CODE,e,t,r)&&this.doc.transact((function(){var a=i.getText($da3aa1840d01bc37$var$CODE,e,t,r),o=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;switch(f.action){case"insert":a.insert(f.index,f.content);break;case"remove":a.delete(f.index,f.content.length);break;default:console.warn("Sync code, unknown action ->",f)}}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}),"code")}}]),e}();function $7cb3224c301266d7$var$random(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function $7cb3224c301266d7$var$dynamicGossip(e){var t=function(){return 2e3*(e.db.getPeers().length+1)},r=null;function n(){try{e.broadcast(e.db.encode()),r=window.setTimeout(n,t())}catch(e){r=null}}return function(){r&&window.clearTimeout(r),r=window.setTimeout(n,t())}}var $7cb3224c301266d7$export$2ae15352e0a80063=function(){"use strict";function e(t,r){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,$4JAgF.default)(this,e);try{(n=window.localStorage.getItem("lia-token"))||(n=$7cb3224c301266d7$var$random(),window.localStorage.setItem("lia-token",n))}catch(e){console.warn("cannot write to localStorage"),n=$7cb3224c301266d7$var$random()}this.token=n,this.urlCounter=0,this.cbConnection=t,this.cbRelay=r;var a=this,o=$7cb3224c301266d7$var$dynamicGossip(a);this.gossip=o;var s=$3vvcD.throttle((function(){a.broadcast(a.db.encode()),o()}),1e3);this.db=new $da3aa1840d01bc37$export$ec9312588b0f7a5d(n,i?function(e,t){if(a.db)if("exit"===t)a.broadcast(e),a.destroy();else s(),a.update()}:void 0)}return(0,$9HoHC.default)(e,[{key:"connect",value:function(e){this.room=e.room,this.course=e.course,this.password=e.password}},{key:"destroy",value:function(){this.db.destroy(),this.cbConnection("disconnect",this.token)}},{key:"disconnect",value:function(){this.db.removePeer()}},{key:"uniqueID",value:function(){return"string"==typeof this.room&&(this.room.startsWith('"')&&this.room.endsWith('"')||this.room.startsWith("'")&&this.room.endsWith("'"))?this.room:this.course&&this.room?JSON.stringify({course:this.course,room:this.room}):(console.warn("Sync: no uniqueID"),null)}},{key:"sendToLia",value:function(e){this.cbRelay(e)}},{key:"sync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cbConnection(e,t)}},{key:"sendDisconnectError",value:function(e){this.sync("error",e)}},{key:"sendConnect",value:function(){this.sync("connect",this.token)}},{key:"update",value:function(){try{this.sync("update",{peers:this.db.getPeers(),data:this.db.toJSON()})}catch(e){console.warn("Sync Update ->",e)}}},{key:"broadcast",value:function(e){console.warn("broadcast needs to be implemented")}},{key:"load",value:function(e,t){try{for(var r=this,n=function(n){var i=document.createElement("script");i.async=!1,i.defer=!0,i.src=e[n],r.urlCounter++;var a=r;i.onload=function(){console.log("successfully loaded =>",e),a.urlCounter--,0==a.urlCounter&&t.init(!0)},i.onerror=function(r){console.warn("could not load =>",e,r),a.urlCounter=0,t.init(!1,"could not load => ".concat(e))},document.head.appendChild(i)},i=0;i<e.length;i++)n(i)}catch(e){console.error("load: ",e),t.init(!1,e.message)}}},{key:"publish",value:function(e){switch(e.message.cmd){case"update":break;case"join":this.db.init(e.message.param),this.gossip();break;case"quiz":var t,r;"quiz"===(null===(t=e.track)||void 0===t?void 0:t[0][0])&&"id"===(null===(r=e.track)||void 0===r?void 0:r[1][0])?this.db.addQuiz(e.track[0][1],e.track[1][1],e.message.param):console.warn("SyncTX wrong event ->",e);break;case"survey":var n,i;"survey"===(null===(n=e.track)||void 0===n?void 0:n[0][0])&&"id"===(null===(i=e.track)||void 0===i?void 0:i[1][0])?this.db.addSurvey(e.track[0][1],e.track[1][1],e.message.param):console.warn("SyncTX wrong event ->",e);break;case"code":var a,o;"code"===(null===(a=e.track)||void 0===a?void 0:a[0][0])&&"id"===(null===(o=e.track)||void 0===o?void 0:o[1][0])?this.db.updateCode(e.track[0][1],e.track[1][1],e.message.param.j,e.message.param.msg):console.warn("SyncTX wrong event ->",e);break;case"codes":var s;if("code"===(null===(s=e.track)||void 0===s?void 0:s[0][0])&&1===e.track.length)for(var u=0;u<e.message.param.length;u++)for(var c=0;c<e.message.param[u].length;c++)this.db.initCode(e.track[0][1],u,c,e.message.param[u][c]);else console.warn("SyncTX wrong event ->",e);break;default:console.warn("SyncTX unknown command:",e.message)}}},{key:"applyUpdate",value:function(e){this.db.applyUpdate(e)}}]),e}();function $dd80f29fc9b5b255$export$48c17662a6902497(){return!(!window.beaker||"hyper:"!==window.location.protocol)}var $dd80f29fc9b5b255$export$2ae15352e0a80063=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),e=t.apply(this,arguments),(0,$8WkQI.default)((0,$aPYZr.default)(e),"peerIds",new Set),e}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){this.peerChannelEvent&&this.peerChannelEvent.close(),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"connect",value:function(e){if(window.beaker){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"connect",this).call(this,e),this.peerIds=new Set,this.peerEvent=window.beaker.peersockets.watch();var t=this;this.peerEvent.addEventListener("join",(function(e){t.peerIds.add(e.peerId)})),this.peerEvent.addEventListener("leave",(function(e){t.peerIds.delete(e.peerId),console.warn("LEAVE",e)}));var n=this.uniqueID();n&&(this.peerChannelEvent=window.beaker.peersockets.join(n),this.peerChannelEvent.addEventListener("message",(function(e){e.message&&t.applyUpdate(e.message)})),this.sendConnect())}}},{key:"broadcast",value:function(e){var t=!0,r=!1,n=void 0;if(this.peerChannelEvent)try{for(var i,a=this.peerIds[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.peerChannelEvent.send(o,e)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}}]),r}($7cb3224c301266d7$export$2ae15352e0a80063),$aPYZr=parcelRequire("aPYZr"),$3mpD3=parcelRequire("3mpD3"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$8rJSp=parcelRequire("8rJSp"),$cDTRq=parcelRequire("cDTRq"),$4df269dbc5e07ac4$var$fromCharCode=String.fromCharCode,$4df269dbc5e07ac4$export$c564cdbbe6da493=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t.push($4df269dbc5e07ac4$var$fromCharCode(e[r]));return btoa(t.join(""))},$4df269dbc5e07ac4$var$asCharCode=function(e){return e.charCodeAt(0)},$4df269dbc5e07ac4$export$2f872c0f2117be69=function(e){return Uint8Array.from(atob(e),$4df269dbc5e07ac4$var$asCharCode)},$bbe587cb0ae59b92$export$2ae15352e0a80063=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),e=t.apply(this,arguments),(0,$8WkQI.default)((0,$aPYZr.default)(e),"subject","liasync"),(0,$8WkQI.default)((0,$aPYZr.default)(e),"connected",!1),e}return(0,$9HoHC.default)(r,[{key:"connect",value:function(e){var t=this,n=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(i){return(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"connect",t).call(n,e),n.init(!0),[2]}))}))()}},{key:"destroy",value:function(){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"init",value:function(e,t){if(e){this.subject=this.room||"liasync";var r=this;window.addEventListener("message",(function(e){try{var t=e.data;if("init"===t.subject)t.body&&(r.connected=!0,r.sendConnect());else t.body=JSON.parse(t.body),t.body.message.param.id!==r.token&&t.body&&r.applyUpdate($4df269dbc5e07ac4$export$2f872c0f2117be69(t.body))}catch(e){console.warn("Edrys",e.message)}})),window.parent.postMessage({subject:"init",body:""},"*"),setTimeout((function(){r.connected||r.sendDisconnectError("This seems not to be an Edrys classroom")}),2e3)}}},{key:"broadcast",value:function(e){window.parent.postMessage({subject:this.subject,body:e?$4df269dbc5e07ac4$export$c564cdbbe6da493(e):null},"*")}}]),r}($7cb3224c301266d7$export$2ae15352e0a80063),$aPYZr=parcelRequire("aPYZr"),$3mpD3=parcelRequire("3mpD3"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$8rJSp=parcelRequire("8rJSp"),$cDTRq=parcelRequire("cDTRq"),$ebfca572bd7fb011$export$2ae15352e0a80063=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),e=t.apply(this,arguments),(0,$8WkQI.default)((0,$aPYZr.default)(e),"users",{}),e}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){var e;null===(e=this.connection)||void 0===e||e.disconnect(),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"connect",value:function(e){var t=this,n=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(i){return(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"connect",t).call(n,e),n.domain=e.config||"meet.jit.si",window.JitsiMeetJS?n.init(!0):n.load(["https://meet.jit.si/libs/lib-jitsi-meet.min.js"],n),[2]}))}))()}},{key:"init",value:function(e,t){var r=this.uniqueID();if(e&&window.JitsiMeetJS&&r){window.JitsiMeetJS.init(),this.connection=new window.JitsiMeetJS.JitsiConnection(null,null,{hosts:{domain:this.domain,muc:"conference.".concat(this.domain),focus:"focus.".concat(this.domain)},configOverwrite:{openBridgeChannel:!0},serviceUrl:"https://".concat(this.domain,"/http-bind?room=").concat(btoa(r)),clientNode:"http://jitsi.org/jitsimeet"});var n=this;this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,(function(){n.conferenceRoom=n.connection.initJitsiConference(btoa(r).toLowerCase(),{configOverwrite:{openBridgeChannel:!0},enableLayerSuspension:!0,p2p:{enabled:!1}}),n.conferenceRoom.setDisplayName(n.token),n.conferenceRoom.on(window.JitsiMeetJS.events.conference.CONFERENCE_JOINED,(function(){n.sendConnect()})),n.conferenceRoom.on(window.JitsiMeetJS.errors.conference.PASSWORD_REQUIRED,(function(){n.sendDisconnectError("password required")})),n.conferenceRoom.on(window.JitsiMeetJS.events.conference.USER_JOINED,(function(e){n.users[e]=null})),n.conferenceRoom.on(window.JitsiMeetJS.events.conference.USER_LEFT,(function(e){var t=n.users[e];t&&n.db.removePeer(t),delete n.users[e]})),n.conferenceRoom.on(window.JitsiMeetJS.events.conference.ENDPOINT_MESSAGE_RECEIVED,(function(e,t){n.users[e.getId()]=e.getDisplayName(),n.applyUpdate($4df269dbc5e07ac4$export$2f872c0f2117be69(t))})),n.conferenceRoom.join()})),this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_FAILED,(function(e){n.sendDisconnectError("Connection failed"+e)})),this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_DISCONNECTED,(function(e){n.disconnect()})),this.connection.connect()}}},{key:"broadcast",value:function(e){try{var t;null===(t=this.conferenceRoom)||void 0===t||t.sendEndpointMessage("",$4df269dbc5e07ac4$export$c564cdbbe6da493(e))}catch(e){}}}]),r}($7cb3224c301266d7$export$2ae15352e0a80063),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$8rJSp=parcelRequire("8rJSp"),$aPYZr=parcelRequire("aPYZr"),$3mpD3=parcelRequire("3mpD3"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$gUJ6q=parcelRequire("gUJ6q"),$bw73z=parcelRequire("bw73z"),$dVhHy=parcelRequire("dVhHy"),$caN7I=parcelRequire("caN7I"),$dCPLc=parcelRequire("dCPLc"),$8rJSp=parcelRequire("8rJSp"),$cDTRq=parcelRequire("cDTRq"),$3mpD3=parcelRequire("3mpD3"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$dVhHy=parcelRequire("dVhHy"),$caN7I=parcelRequire("caN7I"),$dCPLc=parcelRequire("dCPLc"),$9PuT7=parcelRequire("9PuT7"),$8rJSp=parcelRequire("8rJSp"),$cDTRq=parcelRequire("cDTRq"),$cDTRq=parcelRequire("cDTRq"),$d2KzW=parcelRequire("d2KzW"),$dwjmx=parcelRequire("dwjmx"),$bef59326251d24bb$require$Buffer=$dwjmx.Buffer;function $bef59326251d24bb$var$_format$1(e,t){return 0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,r){var n=r[0];return void 0!==t[n]?t[n]:e}))}function $bef59326251d24bb$var$localize(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return $bef59326251d24bb$var$_format$1(t,n)}function $bef59326251d24bb$var$once(e){var t,r=this,n=!1;return function(){return n?t:(n=!0,t=e.apply(r,arguments))}}var $bef59326251d24bb$export$76f4146aee97d0b6={__proto__:null,once:$bef59326251d24bb$var$once},$bef59326251d24bb$var$Iterable;!function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};var t=Object.freeze([]);e.empty=function(){return t},e.single=function(e){return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return t.sent(),[2]}}))},e.from=function(e){return e||t},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(t(a.value))return!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!1},e.find=function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(t(s))return s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},e.filter=function(e,t){var r,n,i,a,o,s,u;return(0,$cDTRq.__generator)(this,(function(c){switch(c.label){case 0:r=!0,n=!1,i=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),a=e[Symbol.iterator](),c.label=2;case 2:return(r=(o=a.next()).done)?[3,5]:(s=o.value,t(s)?[4,s]:[3,4]);case 3:c.sent(),c.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return u=c.sent(),n=!0,i=u,[3,8];case 7:try{r||null==a.return||a.return()}finally{if(n)throw i}return[7];case 8:return[2]}}))},e.map=function(e,t){var r,n,i,a,o,s,u,c;return(0,$cDTRq.__generator)(this,(function(l){switch(l.label){case 0:r=0,n=!0,i=!1,a=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),o=e[Symbol.iterator](),l.label=2;case 2:return(n=(s=o.next()).done)?[3,5]:(u=s.value,[4,t(u,r++)]);case 3:l.sent(),l.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return c=l.sent(),i=!0,a=c,[3,8];case 7:try{n||null==o.return||o.return()}finally{if(i)throw a}return[7];case 8:return[2]}}))},e.concat=function(){var e,t,r,n,i,a,o,s,u,c,l,f,d,h,v,p=arguments;return(0,$cDTRq.__generator)(this,(function(b){switch(b.label){case 0:for(e=p.length,t=new Array(e),r=0;r<e;r++)t[r]=p[r];n=!0,i=!1,a=void 0,o=!0,s=!1,u=void 0,b.label=1;case 1:b.trys.push([1,12,13,14]),c=t[Symbol.iterator](),b.label=2;case 2:if(o=(l=c.next()).done)return[3,11];f=l.value,b.label=3;case 3:b.trys.push([3,8,9,10]),d=f[Symbol.iterator](),b.label=4;case 4:return(n=(h=d.next()).done)?[3,7]:[4,h.value];case 5:b.sent(),b.label=6;case 6:return n=!0,[3,4];case 7:return[3,10];case 8:return v=b.sent(),i=!0,a=v,[3,10];case 9:try{n||null==d.return||d.return()}finally{if(i)throw a}return[7];case 10:return o=!0,[3,2];case 11:return[3,14];case 12:return v=b.sent(),s=!0,u=v,[3,14];case 13:try{o||null==c.return||c.return()}finally{if(s)throw u}return[7];case 14:return[2]}}))},e.concatNested=function(e){var t,r,n,i,a,o,s,u,c,l,f,d;return(0,$cDTRq.__generator)(this,(function(h){switch(h.label){case 0:t=!0,r=!1,n=void 0,i=!0,a=!1,o=void 0,h.label=1;case 1:h.trys.push([1,12,13,14]),s=e[Symbol.iterator](),h.label=2;case 2:if(i=(u=s.next()).done)return[3,11];c=u.value,h.label=3;case 3:h.trys.push([3,8,9,10]),l=c[Symbol.iterator](),h.label=4;case 4:return(t=(f=l.next()).done)?[3,7]:[4,f.value];case 5:h.sent(),h.label=6;case 6:return t=!0,[3,4];case 7:return[3,10];case 8:return d=h.sent(),r=!0,n=d,[3,10];case 9:try{t||null==l.return||l.return()}finally{if(r)throw n}return[7];case 10:return i=!0,[3,2];case 11:return[3,14];case 12:return d=h.sent(),a=!0,o=d,[3,14];case 13:try{i||null==s.return||s.return()}finally{if(a)throw o}return[7];case 14:return[2]}}))},e.reduce=function(e,t,r){var n=r,i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){n=t(n,s.value)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n},e.slice=function(e,t){var r,n=arguments;return(0,$cDTRq.__generator)(this,(function(i){switch(i.label){case 0:r=n.length>2&&void 0!==n[2]?n[2]:e.length,t<0&&(t+=e.length),r<0?r+=e.length:r>e.length&&(r=e.length),i.label=1;case 1:return t<r?[4,e[t]]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}}))},e.consume=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,n=[];if(0===r)return[n,t];for(var i=t[Symbol.iterator](),a=0;a<r;a++){var o=i.next();if(o.done)return[n,e.empty()];n.push(o.value)}return[n,(0,$8WkQI.default)({},Symbol.iterator,(function(){return i}))]},e.equals=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t},n=e[Symbol.iterator](),i=t[Symbol.iterator]();;){var a=n.next(),o=i.next();if(a.done!==o.done)return!1;if(a.done)return!0;if(!r(a.value,o.value))return!1}}}($bef59326251d24bb$var$Iterable||($bef59326251d24bb$var$Iterable={}));var $bef59326251d24bb$export$6f58e2338da23f4d={__proto__:null,get Iterable(){return $bef59326251d24bb$var$Iterable}},$bef59326251d24bb$var$disposableTracker=null;function $bef59326251d24bb$var$setDisposableTracker(e){$bef59326251d24bb$var$disposableTracker=e}function $bef59326251d24bb$var$trackDisposable(e){var t;return null==(t=$bef59326251d24bb$var$disposableTracker)||t.trackDisposable(e),e}function $bef59326251d24bb$var$markAsDisposed(e){var t;null==(t=$bef59326251d24bb$var$disposableTracker)||t.markAsDisposed(e)}function $bef59326251d24bb$var$setParentOfDisposable(e,t){var r;null==(r=$bef59326251d24bb$var$disposableTracker)||r.setParent(e,t)}function $bef59326251d24bb$var$setParentOfDisposables(e,t){if($bef59326251d24bb$var$disposableTracker){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;$bef59326251d24bb$var$disposableTracker.setParent(s,t)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}function $bef59326251d24bb$var$markAsSingleton(e){var t;return null==(t=$bef59326251d24bb$var$disposableTracker)||t.markAsSingleton(e),e}var $bef59326251d24bb$var$MultiDisposeError=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,"Encountered errors while disposing of store. Errors: [".concat(e.join(", "),"]"))).errors=e,n}return r}((0,$9PuT7.default)(Error));function $bef59326251d24bb$var$isDisposable(e){return"function"==typeof e.dispose&&0===e.dispose.length}function $bef59326251d24bb$var$dispose(e){if($bef59326251d24bb$var$Iterable.is(e)){var t=[],r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s)try{s.dispose()}catch(e){t.push(e)}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}if(1===t.length)throw t[0];if(t.length>1)throw new $bef59326251d24bb$var$MultiDisposeError(t);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function $bef59326251d24bb$var$combinedDisposable(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=$bef59326251d24bb$var$toDisposable((function(){return $bef59326251d24bb$var$dispose(t)}));return $bef59326251d24bb$var$setParentOfDisposables(t,n),n}function $bef59326251d24bb$var$toDisposable(e){var t=$bef59326251d24bb$var$trackDisposable({dispose:$bef59326251d24bb$var$once((function(){$bef59326251d24bb$var$markAsDisposed(t),e()}))});return t}var $bef59326251d24bb$var$DisposableStore=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._toDispose=new Set,this._isDisposed=!1,$bef59326251d24bb$var$trackDisposable(this)}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){this._isDisposed||($bef59326251d24bb$var$markAsDisposed(this),this._isDisposed=!0,this.clear())}},{key:"clear",value:function(){try{$bef59326251d24bb$var$dispose(this._toDispose.values())}finally{this._toDispose.clear()}}},{key:"add",value:function(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return $bef59326251d24bb$var$setParentOfDisposable(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}}]),e}();$bef59326251d24bb$var$DisposableStore.DISABLE_DISPOSED_WARNING=!1;var $bef59326251d24bb$var$Disposable=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._store=new $bef59326251d24bb$var$DisposableStore,$bef59326251d24bb$var$trackDisposable(this),$bef59326251d24bb$var$setParentOfDisposable(this._store,this)}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){$bef59326251d24bb$var$markAsDisposed(this),this._store.dispose()}},{key:"_register",value:function(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}]),e}();$bef59326251d24bb$var$Disposable.None=Object.freeze({dispose:function(){}});var $bef59326251d24bb$var$MutableDisposable=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._isDisposed=!1,$bef59326251d24bb$var$trackDisposable(this)}return(0,$9HoHC.default)(e,[{key:"value",get:function(){return this._isDisposed?void 0:this._value},set:function(e){var t;this._isDisposed||e===this._value||(null==(t=this._value)||t.dispose(),e&&$bef59326251d24bb$var$setParentOfDisposable(e,this),this._value=e)}},{key:"clear",value:function(){this.value=void 0}},{key:"dispose",value:function(){var e;this._isDisposed=!0,$bef59326251d24bb$var$markAsDisposed(this),null==(e=this._value)||e.dispose(),this._value=void 0}},{key:"clearAndLeak",value:function(){var e=this._value;return this._value=void 0,e&&$bef59326251d24bb$var$setParentOfDisposable(e,null),e}}]),e}(),$bef59326251d24bb$var$RefCountedDisposable=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._disposable=t,this._counter=1}return(0,$9HoHC.default)(e,[{key:"acquire",value:function(){return this._counter++,this}},{key:"release",value:function(){return 0==--this._counter&&this._disposable.dispose(),this}}]),e}(),$bef59326251d24bb$var$ReferenceCollection=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.references=new Map}return(0,$9HoHC.default)(e,[{key:"acquire",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=this,a=this.references.get(e);a||(a={counter:0,object:this.createReferencedObject.apply(this,[e].concat((0,$caN7I.default)(r)))},this.references.set(e,a));var o=a.object,s=$bef59326251d24bb$var$once((function(){0==--a.counter&&(i.destroyReferencedObject(e,a.object),i.references.delete(e))}));return a.counter++,{object:o,dispose:s}}}]),e}(),$bef59326251d24bb$var$AsyncReferenceCollection=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.referenceCollection=t}return(0,$9HoHC.default)(e,[{key:"acquire",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=this;return(0,$3mpD3.default)((function(){var t,n,a;return(0,$cDTRq.__generator)(this,(function(o){switch(o.label){case 0:n=(t=i.referenceCollection).acquire.apply(t,[e].concat((0,$caN7I.default)(r))),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.object];case 2:return[2,{object:o.sent(),dispose:function(){return n.dispose()}}];case 3:throw a=o.sent(),n.dispose(),a;case 4:return[2]}}))}))()}}]),e}(),$bef59326251d24bb$var$ImmortalReference=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.object=t}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){}}]),e}(),$bef59326251d24bb$export$3efdceeb8ca25c51={__proto__:null,setDisposableTracker:$bef59326251d24bb$var$setDisposableTracker,markAsSingleton:$bef59326251d24bb$var$markAsSingleton,MultiDisposeError:$bef59326251d24bb$var$MultiDisposeError,isDisposable:$bef59326251d24bb$var$isDisposable,dispose:$bef59326251d24bb$var$dispose,combinedDisposable:$bef59326251d24bb$var$combinedDisposable,toDisposable:$bef59326251d24bb$var$toDisposable,DisposableStore:$bef59326251d24bb$var$DisposableStore,Disposable:$bef59326251d24bb$var$Disposable,MutableDisposable:$bef59326251d24bb$var$MutableDisposable,RefCountedDisposable:$bef59326251d24bb$var$RefCountedDisposable,ReferenceCollection:$bef59326251d24bb$var$ReferenceCollection,AsyncReferenceCollection:$bef59326251d24bb$var$AsyncReferenceCollection,ImmortalReference:$bef59326251d24bb$var$ImmortalReference};function $bef59326251d24bb$var$_extends(){return $bef59326251d24bb$var$_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$bef59326251d24bb$var$_extends.apply(this,arguments)}var $bef59326251d24bb$var$id=0;function $bef59326251d24bb$var$_classPrivateFieldLooseKey(e){return"__private_"+$bef59326251d24bb$var$id+++"_"+e}function $bef59326251d24bb$var$_classPrivateFieldLooseBase(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var $bef59326251d24bb$var$ErrorHandler=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e}),0)}}return(0,$9HoHC.default)(e,[{key:"addListener",value:function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){t(e)}))}},{key:"_removeListener",value:function(e){this.listeners.splice(this.listeners.indexOf(e),1)}},{key:"setUnexpectedErrorHandler",value:function(e){this.unexpectedErrorHandler=e}},{key:"getUnexpectedErrorHandler",value:function(){return this.unexpectedErrorHandler}},{key:"onUnexpectedError",value:function(e){this.unexpectedErrorHandler(e),this.emit(e)}},{key:"onUnexpectedExternalError",value:function(e){this.unexpectedErrorHandler(e)}}]),e}(),$bef59326251d24bb$var$errorHandler=new $bef59326251d24bb$var$ErrorHandler;function $bef59326251d24bb$var$setUnexpectedErrorHandler(e){$bef59326251d24bb$var$errorHandler.setUnexpectedErrorHandler(e)}function $bef59326251d24bb$var$onUnexpectedError(e){$bef59326251d24bb$var$isPromiseCanceledError(e)||$bef59326251d24bb$var$errorHandler.onUnexpectedError(e)}function $bef59326251d24bb$var$onUnexpectedExternalError(e){$bef59326251d24bb$var$isPromiseCanceledError(e)||$bef59326251d24bb$var$errorHandler.onUnexpectedExternalError(e)}function $bef59326251d24bb$var$transformErrorForSerialization(e){return e instanceof Error?{$isError:!0,name:e.name,message:e.message,stack:e.stacktrace||e.stack}:e}var $bef59326251d24bb$var$canceledName="Canceled";function $bef59326251d24bb$var$isPromiseCanceledError(e){return e instanceof Error&&e.name===$bef59326251d24bb$var$canceledName&&e.message===$bef59326251d24bb$var$canceledName}var $bef59326251d24bb$var$CancellationError=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),(e=t.call(this,$bef59326251d24bb$var$canceledName)).name=e.message,e}return r}((0,$9PuT7.default)(Error));function $bef59326251d24bb$var$canceled(){var e=new Error($bef59326251d24bb$var$canceledName);return e.name=e.message,e}function $bef59326251d24bb$var$illegalArgument(e){return e?new Error("Illegal argument: ".concat(e)):new Error("Illegal argument")}function $bef59326251d24bb$var$illegalState(e){return e?new Error("Illegal state: ".concat(e)):new Error("Illegal state")}function $bef59326251d24bb$var$readonly(e){return e?new Error("readonly property '".concat(e," cannot be changed'")):new Error("readonly property cannot be changed")}function $bef59326251d24bb$var$disposed(e){var t=new Error("".concat(e," has been disposed"));return t.name="DISPOSED",t}function $bef59326251d24bb$var$getErrorMessage(e){return e?e.message?e.message:e.stack?e.stack.split("\n")[0]:String(e):"Error"}var $bef59326251d24bb$var$NotImplementedError=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),n=t.call(this,"NotImplemented"),e&&(n.message=e),n}return r}((0,$9PuT7.default)(Error)),$bef59326251d24bb$var$NotSupportedError=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),n=t.call(this,"NotSupported"),e&&(n.message=e),n}return r}((0,$9PuT7.default)(Error)),$bef59326251d24bb$var$ExpectedError=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).isExpected=!0,e}return r}((0,$9PuT7.default)(Error));function $bef59326251d24bb$var$isErrorWithActions(e){var t=e;return t instanceof Error&&Array.isArray(t.actions)}function $bef59326251d24bb$var$createErrorWithActions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),r=new Error(e);return t.actions&&(r.actions=t.actions),r}var $bef59326251d24bb$export$30f3b02011db23c0={__proto__:null,ErrorHandler:$bef59326251d24bb$var$ErrorHandler,errorHandler:$bef59326251d24bb$var$errorHandler,setUnexpectedErrorHandler:$bef59326251d24bb$var$setUnexpectedErrorHandler,onUnexpectedError:$bef59326251d24bb$var$onUnexpectedError,onUnexpectedExternalError:$bef59326251d24bb$var$onUnexpectedExternalError,transformErrorForSerialization:$bef59326251d24bb$var$transformErrorForSerialization,isPromiseCanceledError:$bef59326251d24bb$var$isPromiseCanceledError,CancellationError:$bef59326251d24bb$var$CancellationError,canceled:$bef59326251d24bb$var$canceled,illegalArgument:$bef59326251d24bb$var$illegalArgument,illegalState:$bef59326251d24bb$var$illegalState,readonly:$bef59326251d24bb$var$readonly,disposed:$bef59326251d24bb$var$disposed,getErrorMessage:$bef59326251d24bb$var$getErrorMessage,NotImplementedError:$bef59326251d24bb$var$NotImplementedError,NotSupportedError:$bef59326251d24bb$var$NotSupportedError,ExpectedError:$bef59326251d24bb$var$ExpectedError,isErrorWithActions:$bef59326251d24bb$var$isErrorWithActions,createErrorWithActions:$bef59326251d24bb$var$createErrorWithActions},$bef59326251d24bb$var$Node$2=function e(t){"use strict";(0,$4JAgF.default)(this,e),this.element=t,this.next=e.Undefined,this.prev=e.Undefined};$bef59326251d24bb$var$Node$2.Undefined=new $bef59326251d24bb$var$Node$2(void 0);var $bef59326251d24bb$var$LinkedList=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._first=$bef59326251d24bb$var$Node$2.Undefined,this._last=$bef59326251d24bb$var$Node$2.Undefined,this._size=0}return(0,$9HoHC.default)(e,[{key:"size",get:function(){return this._size}},{key:"isEmpty",value:function(){return this._first===$bef59326251d24bb$var$Node$2.Undefined}},{key:"clear",value:function(){for(var e=this._first;e!==$bef59326251d24bb$var$Node$2.Undefined;){var t=e.next;e.prev=$bef59326251d24bb$var$Node$2.Undefined,e.next=$bef59326251d24bb$var$Node$2.Undefined,e=t}this._first=$bef59326251d24bb$var$Node$2.Undefined,this._last=$bef59326251d24bb$var$Node$2.Undefined,this._size=0}},{key:"unshift",value:function(e){return this._insert(e,!1)}},{key:"push",value:function(e){return this._insert(e,!0)}},{key:"_insert",value:function(e,t){var r=this,n=new $bef59326251d24bb$var$Node$2(e);if(this._first===$bef59326251d24bb$var$Node$2.Undefined)this._first=n,this._last=n;else if(t){var i=this._last;this._last=n,n.prev=i,i.next=n}else{var a=this._first;this._first=n,n.next=a,a.prev=n}this._size+=1;var o=!1;return function(){o||(o=!0,r._remove(n))}}},{key:"shift",value:function(){if(this._first!==$bef59326251d24bb$var$Node$2.Undefined){var e=this._first.element;return this._remove(this._first),e}}},{key:"pop",value:function(){if(this._last!==$bef59326251d24bb$var$Node$2.Undefined){var e=this._last.element;return this._remove(this._last),e}}},{key:"_remove",value:function(e){if(e.prev!==$bef59326251d24bb$var$Node$2.Undefined&&e.next!==$bef59326251d24bb$var$Node$2.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===$bef59326251d24bb$var$Node$2.Undefined&&e.next===$bef59326251d24bb$var$Node$2.Undefined?(this._first=$bef59326251d24bb$var$Node$2.Undefined,this._last=$bef59326251d24bb$var$Node$2.Undefined):e.next===$bef59326251d24bb$var$Node$2.Undefined?(this._last=this._last.prev,this._last.next=$bef59326251d24bb$var$Node$2.Undefined):e.prev===$bef59326251d24bb$var$Node$2.Undefined&&(this._first=this._first.next,this._first.prev=$bef59326251d24bb$var$Node$2.Undefined);this._size-=1}},{key:Symbol.iterator,value:function(){var e;return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:e=this._first,t.label=1;case 1:return e===$bef59326251d24bb$var$Node$2.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))}}]),e}(),$bef59326251d24bb$export$7f30df8c9fb96f9e={__proto__:null,LinkedList:$bef59326251d24bb$var$LinkedList},$bef59326251d24bb$var$_nodeProcess,$bef59326251d24bb$var$_nodeProcess$versions,$bef59326251d24bb$var$_nodeProcess2,$bef59326251d24bb$var$LANGUAGE_DEFAULT="en",$bef59326251d24bb$var$_isWindows=!1,$bef59326251d24bb$var$_isMacintosh=!1,$bef59326251d24bb$var$_isLinux=!1,$bef59326251d24bb$var$_isLinuxSnap=!1,$bef59326251d24bb$var$_isNative=!1,$bef59326251d24bb$var$_isWeb=!1,$bef59326251d24bb$var$_isIOS=!1,$bef59326251d24bb$var$_locale=void 0,$bef59326251d24bb$var$_language=$bef59326251d24bb$var$LANGUAGE_DEFAULT,$bef59326251d24bb$var$_translationsConfigFile=void 0,$bef59326251d24bb$var$_userAgent=void 0,$bef59326251d24bb$var$globals="object"==typeof self?self:"object"==typeof $parcel$global?$parcel$global:{},$bef59326251d24bb$var$nodeProcess=void 0;void 0!==$bef59326251d24bb$var$globals.vscode&&void 0!==$bef59326251d24bb$var$globals.vscode.process?$bef59326251d24bb$var$nodeProcess=$bef59326251d24bb$var$globals.vscode.process:void 0!==$d2KzW&&($bef59326251d24bb$var$nodeProcess=$d2KzW);var $bef59326251d24bb$var$isElectronRenderer="string"==typeof(null==($bef59326251d24bb$var$_nodeProcess=$bef59326251d24bb$var$nodeProcess)||null==($bef59326251d24bb$var$_nodeProcess$versions=$bef59326251d24bb$var$_nodeProcess.versions)?void 0:$bef59326251d24bb$var$_nodeProcess$versions.electron)&&"renderer"===$bef59326251d24bb$var$nodeProcess.type,$bef59326251d24bb$var$isElectronSandboxed=$bef59326251d24bb$var$isElectronRenderer&&(null==($bef59326251d24bb$var$_nodeProcess2=$bef59326251d24bb$var$nodeProcess)?void 0:$bef59326251d24bb$var$_nodeProcess2.sandboxed),$bef59326251d24bb$var$browserCodeLoadingCacheStrategy=function(){var e;if($bef59326251d24bb$var$isElectronSandboxed)return"bypassHeatCheck";var t=null==(e=$bef59326251d24bb$var$nodeProcess)?void 0:e.env.VSCODE_BROWSER_CODE_LOADING;return"string"==typeof t?"none"===t||"code"===t||"bypassHeatCheck"===t||"bypassHeatCheckAndEagerCompile"===t?t:"bypassHeatCheck":void 0}(),$bef59326251d24bb$var$isPreferringBrowserCodeLoad="string"==typeof $bef59326251d24bb$var$browserCodeLoadingCacheStrategy,$bef59326251d24bb$var$Platform,Platform;if("object"!=typeof navigator||$bef59326251d24bb$var$isElectronRenderer)if("object"==typeof $bef59326251d24bb$var$nodeProcess){$bef59326251d24bb$var$_isWindows="win32"===$bef59326251d24bb$var$nodeProcess.platform,$bef59326251d24bb$var$_isMacintosh="darwin"===$bef59326251d24bb$var$nodeProcess.platform,$bef59326251d24bb$var$_isLinux="linux"===$bef59326251d24bb$var$nodeProcess.platform,$bef59326251d24bb$var$_isLinuxSnap=$bef59326251d24bb$var$_isLinux&&!!$bef59326251d24bb$var$nodeProcess.env.SNAP&&!!$bef59326251d24bb$var$nodeProcess.env.SNAP_REVISION,$bef59326251d24bb$var$_locale=$bef59326251d24bb$var$LANGUAGE_DEFAULT,$bef59326251d24bb$var$_language=$bef59326251d24bb$var$LANGUAGE_DEFAULT;var $bef59326251d24bb$var$rawNlsConfig=$bef59326251d24bb$var$nodeProcess.env.VSCODE_NLS_CONFIG;if($bef59326251d24bb$var$rawNlsConfig)try{var $bef59326251d24bb$var$nlsConfig=JSON.parse($bef59326251d24bb$var$rawNlsConfig),$bef59326251d24bb$var$resolved=$bef59326251d24bb$var$nlsConfig.availableLanguages["*"];$bef59326251d24bb$var$_locale=$bef59326251d24bb$var$nlsConfig.locale,$bef59326251d24bb$var$_language=$bef59326251d24bb$var$resolved||$bef59326251d24bb$var$LANGUAGE_DEFAULT,$bef59326251d24bb$var$_translationsConfigFile=$bef59326251d24bb$var$nlsConfig._translationsConfigFile}catch(e){}$bef59326251d24bb$var$_isNative=!0}else console.error("Unable to resolve platform.");else $bef59326251d24bb$var$_userAgent=navigator.userAgent,$bef59326251d24bb$var$_isWindows=$bef59326251d24bb$var$_userAgent.indexOf("Windows")>=0,$bef59326251d24bb$var$_isMacintosh=$bef59326251d24bb$var$_userAgent.indexOf("Macintosh")>=0,$bef59326251d24bb$var$_isIOS=($bef59326251d24bb$var$_userAgent.indexOf("Macintosh")>=0||$bef59326251d24bb$var$_userAgent.indexOf("iPad")>=0||$bef59326251d24bb$var$_userAgent.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,$bef59326251d24bb$var$_isLinux=$bef59326251d24bb$var$_userAgent.indexOf("Linux")>=0,$bef59326251d24bb$var$_isWeb=!0,$bef59326251d24bb$var$_locale=navigator.language,$bef59326251d24bb$var$_language=$bef59326251d24bb$var$_locale;function $bef59326251d24bb$var$PlatformToString(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}Platform=$bef59326251d24bb$var$Platform||($bef59326251d24bb$var$Platform={}),Platform[Platform.Web=0]="Web",Platform[Platform.Mac=1]="Mac",Platform[Platform.Linux=2]="Linux",Platform[Platform.Windows=3]="Windows";var $bef59326251d24bb$var$_platform=0;$bef59326251d24bb$var$_isMacintosh?$bef59326251d24bb$var$_platform=1:$bef59326251d24bb$var$_isWindows?$bef59326251d24bb$var$_platform=3:$bef59326251d24bb$var$_isLinux&&($bef59326251d24bb$var$_platform=2);var $bef59326251d24bb$var$isWindows=$bef59326251d24bb$var$_isWindows,$bef59326251d24bb$var$isMacintosh=$bef59326251d24bb$var$_isMacintosh,$bef59326251d24bb$var$isLinux=$bef59326251d24bb$var$_isLinux,$bef59326251d24bb$var$isLinuxSnap=$bef59326251d24bb$var$_isLinuxSnap,$bef59326251d24bb$var$isNative=$bef59326251d24bb$var$_isNative,$bef59326251d24bb$var$isWeb=$bef59326251d24bb$var$_isWeb,$bef59326251d24bb$var$isIOS=$bef59326251d24bb$var$_isIOS,$bef59326251d24bb$var$platform$1=$bef59326251d24bb$var$_platform,$bef59326251d24bb$var$userAgent=$bef59326251d24bb$var$_userAgent,$bef59326251d24bb$var$language=$bef59326251d24bb$var$_language,$bef59326251d24bb$var$Language,Language;Language=$bef59326251d24bb$var$Language||($bef59326251d24bb$var$Language={}),Language.value=function(){return $bef59326251d24bb$var$language},Language.isDefaultVariant=function(){return 2===$bef59326251d24bb$var$language.length?"en"===$bef59326251d24bb$var$language:$bef59326251d24bb$var$language.length>=3&&"e"===$bef59326251d24bb$var$language[0]&&"n"===$bef59326251d24bb$var$language[1]&&"-"===$bef59326251d24bb$var$language[2]},Language.isDefault=function(){return"en"===$bef59326251d24bb$var$language};var $bef59326251d24bb$var$locale=$bef59326251d24bb$var$_locale,$bef59326251d24bb$var$translationsConfigFile=$bef59326251d24bb$var$_translationsConfigFile,$bef59326251d24bb$var$setImmediate=function(){var e;if($bef59326251d24bb$var$globals.setImmediate)return $bef59326251d24bb$var$globals.setImmediate.bind($bef59326251d24bb$var$globals);if("function"==typeof $bef59326251d24bb$var$globals.postMessage&&!$bef59326251d24bb$var$globals.importScripts){var t=[];$bef59326251d24bb$var$globals.addEventListener("message",(function(e){if(e.data&&e.data.vscodeSetImmediateId)for(var r=0,n=t.length;r<n;r++){var i=t[r];if(i.id===e.data.vscodeSetImmediateId)return t.splice(r,1),void i.callback()}}));var r=0;return function(e){var n=++r;t.push({id:n,callback:e}),$bef59326251d24bb$var$globals.postMessage({vscodeSetImmediateId:n},"*")}}if("function"==typeof(null==(e=$bef59326251d24bb$var$nodeProcess)?void 0:e.nextTick))return $bef59326251d24bb$var$nodeProcess.nextTick.bind($bef59326251d24bb$var$nodeProcess);var n=Promise.resolve();return function(e){return n.then(e)}}(),$bef59326251d24bb$var$OperatingSystem,OperatingSystem;OperatingSystem=$bef59326251d24bb$var$OperatingSystem||($bef59326251d24bb$var$OperatingSystem={}),OperatingSystem[OperatingSystem.Windows=1]="Windows",OperatingSystem[OperatingSystem.Macintosh=2]="Macintosh",OperatingSystem[OperatingSystem.Linux=3]="Linux";var $bef59326251d24bb$var$OS=$bef59326251d24bb$var$_isMacintosh||$bef59326251d24bb$var$_isIOS?2:$bef59326251d24bb$var$_isWindows?1:3,$bef59326251d24bb$var$_isLittleEndian=!0,$bef59326251d24bb$var$_isLittleEndianComputed=!1;function $bef59326251d24bb$var$isLittleEndian(){if(!$bef59326251d24bb$var$_isLittleEndianComputed){$bef59326251d24bb$var$_isLittleEndianComputed=!0;var e=new Uint8Array(2);e[0]=1,e[1]=2;var t=new Uint16Array(e.buffer);$bef59326251d24bb$var$_isLittleEndian=513===t[0]}return $bef59326251d24bb$var$_isLittleEndian}var $bef59326251d24bb$export$722a64dea1b767dc={__proto__:null,globals:$bef59326251d24bb$var$globals,isElectronSandboxed:$bef59326251d24bb$var$isElectronSandboxed,browserCodeLoadingCacheStrategy:$bef59326251d24bb$var$browserCodeLoadingCacheStrategy,isPreferringBrowserCodeLoad:$bef59326251d24bb$var$isPreferringBrowserCodeLoad,get Platform(){return $bef59326251d24bb$var$Platform},PlatformToString:$bef59326251d24bb$var$PlatformToString,isWindows:$bef59326251d24bb$var$isWindows,isMacintosh:$bef59326251d24bb$var$isMacintosh,isLinux:$bef59326251d24bb$var$isLinux,isLinuxSnap:$bef59326251d24bb$var$isLinuxSnap,isNative:$bef59326251d24bb$var$isNative,isWeb:$bef59326251d24bb$var$isWeb,isIOS:$bef59326251d24bb$var$isIOS,platform:$bef59326251d24bb$var$platform$1,userAgent:$bef59326251d24bb$var$userAgent,language:$bef59326251d24bb$var$language,get Language(){return $bef59326251d24bb$var$Language},locale:$bef59326251d24bb$var$locale,translationsConfigFile:$bef59326251d24bb$var$translationsConfigFile,setImmediate:$bef59326251d24bb$var$setImmediate,get OperatingSystem(){return $bef59326251d24bb$var$OperatingSystem},OS:$bef59326251d24bb$var$OS,isLittleEndian:$bef59326251d24bb$var$isLittleEndian},$bef59326251d24bb$var$hasPerformanceNow=$bef59326251d24bb$var$globals.performance&&"function"==typeof $bef59326251d24bb$var$globals.performance.now,$bef59326251d24bb$var$StopWatch=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._highResolution=$bef59326251d24bb$var$hasPerformanceNow&&t,this._startTime=this._now(),this._stopTime=-1}return(0,$9HoHC.default)(e,[{key:"stop",value:function(){this._stopTime=this._now()}},{key:"elapsed",value:function(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}},{key:"_now",value:function(){return this._highResolution?$bef59326251d24bb$var$globals.performance.now():Date.now()}}],[{key:"create",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new e(t)}}]),e}(),$bef59326251d24bb$export$18f26cd6a8690a9b={__proto__:null,StopWatch:$bef59326251d24bb$var$StopWatch},$bef59326251d24bb$var$Event;!function(e){var t=function(e){return function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,a=!1;return r=e((function(e){if(!a)return r?r.dispose():a=!0,t.call(n,e)}),null,i),a&&r.dispose(),r}},r=function(e,t){return o((function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;return e((function(e){return r.call(n,t(e))}),null,i)}))},n=function(e,t){return o((function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;return e((function(e){t(e),r.call(n,e)}),null,i)}))},i=function(e,t){return o((function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;return e((function(e){return t(e)&&r.call(n,e)}),null,i)}))},a=function(e,t,n){var i=n;return r(e,(function(e){return i=t(i,e)}))},o=function(e){var t,r=new $bef59326251d24bb$var$Emitter({onFirstListenerAdd:function(){t=e(r.fire,r)},onLastListenerRemove:function(){t.dispose()}});return r.event},s=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=void 0,s=void 0,u=0,c=new $bef59326251d24bb$var$Emitter({leakWarningThreshold:a,onFirstListenerAdd:function(){r=e((function(e){u++,o=t(o,e),i&&!s&&(c.fire(o),o=void 0),clearTimeout(s),s=setTimeout((function(){var e=o;o=void 0,s=void 0,(!i||u>1)&&c.fire(e),u=0}),n)}))},onLastListenerRemove:function(){r.dispose()}});return c.event},u=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t},n=!0;return i(e,(function(e){var i=n||!r(e,t);return n=!1,t=e,i}))};e.None=function(){return $bef59326251d24bb$var$Disposable.None},e.once=t,e.map=r,e.forEach=n,e.filter=i,e.signal=function(e){return e},e.any=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return $bef59326251d24bb$var$combinedDisposable.apply(void 0,(0,$caN7I.default)(t.map((function(t){return t((function(t){return e.call(r,t)}),null,n)}))))}},e.reduce=a,e.debounce=s,e.latch=u,e.split=function(t,r){return[e.filter(t,r),e.filter(t,(function(e){return!r(e)}))]},e.buffer=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=r.slice(),i=e((function(e){n?n.push(e):o.fire(e)})),a=function(){n&&n.forEach((function(e){return o.fire(e)})),n=null},o=new $bef59326251d24bb$var$Emitter({onFirstListenerAdd:function(){i||(i=e((function(e){return o.fire(e)})))},onFirstListenerDidAdd:function(){n&&(t?setTimeout(a):a())},onLastListenerRemove:function(){i&&i.dispose(),i=null}});return o.event};var c=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.event=t}return(0,$9HoHC.default)(e,[{key:"map",value:function(t){return new e(r(this.event,t))}},{key:"forEach",value:function(t){return new e(n(this.event,t))}},{key:"filter",value:function(t){return new e(i(this.event,t))}},{key:"reduce",value:function(t,r){return new e(a(this.event,t,r))}},{key:"latch",value:function(){return new e(u(this.event))}},{key:"debounce",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return new e(s(this.event,t,r,n,i))}},{key:"on",value:function(e,t,r){return this.event(e,t,r)}},{key:"once",value:function(e,r,n){return t(this.event)(e,r,n)}}]),e}();e.chain=function(e){return new c(e)},e.fromNodeEventEmitter=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.fire(r.apply(void 0,(0,$caN7I.default)(t)))},i=function(){return e.on(t,n)},a=function(){return e.removeListener(t,n)},o=new $bef59326251d24bb$var$Emitter({onFirstListenerAdd:i,onLastListenerRemove:a});return o.event},e.fromDOMEventEmitter=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.fire(r.apply(void 0,(0,$caN7I.default)(t)))},i=function(){return e.addEventListener(t,n)},a=function(){return e.removeEventListener(t,n)},o=new $bef59326251d24bb$var$Emitter({onFirstListenerAdd:i,onLastListenerRemove:a});return o.event},e.toPromise=function(e){return new Promise((function(r){return t(e)(r)}))}}($bef59326251d24bb$var$Event||($bef59326251d24bb$var$Event={}));var $bef59326251d24bb$var$EventProfiling=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name="".concat(t,"_").concat(e._idPool++)}return(0,$9HoHC.default)(e,[{key:"start",value:function(e){this._stopWatch=new $bef59326251d24bb$var$StopWatch(!0),this._listenerCount=e}},{key:"stop",value:function(){if(this._stopWatch){var e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info("did FIRE ".concat(this._name,": elapsed_ms: ").concat(e.toFixed(5),", listener: ").concat(this._listenerCount," (elapsed_overall: ").concat(this._elapsedOverall.toFixed(2),", invocations: ").concat(this._invocationCount,")")),this._stopWatch=void 0}}}]),e}();$bef59326251d24bb$var$EventProfiling._idPool=0;var $bef59326251d24bb$var$_globalLeakWarningThreshold=-1;function $bef59326251d24bb$var$setGlobalLeakWarningThreshold(e){var t=$bef59326251d24bb$var$_globalLeakWarningThreshold;return $bef59326251d24bb$var$_globalLeakWarningThreshold=e,{dispose:function(){$bef59326251d24bb$var$_globalLeakWarningThreshold=t}}}var $bef59326251d24bb$var$LeakageMonitor=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random().toString(18).slice(2,5);(0,$4JAgF.default)(this,e),this.customThreshold=t,this.name=r,this._warnCountdown=0}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){this._stacks&&this._stacks.clear()}},{key:"check",value:function(e){var t=this,r=$bef59326251d24bb$var$_globalLeakWarningThreshold;if("number"==typeof this.customThreshold&&(r=this.customThreshold),!(r<=0||e<r)){this._stacks||(this._stacks=new Map);var n=(new Error).stack.split("\n").slice(3).join("\n"),i=this._stacks.get(n)||0;if(this._stacks.set(n,i+1),this._warnCountdown-=1,this._warnCountdown<=0){var a;this._warnCountdown=.5*r;var o=0,s=!0,u=!1,c=void 0;try{for(var l,f=this._stacks[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=(0,$dVhHy.default)(l.value,2),h=d[0],v=d[1];(!a||o<v)&&(a=h,o=v)}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}console.warn("[".concat(this.name,"] potential listener LEAK detected, having ").concat(e," listeners already. MOST frequent listener (").concat(o,"):")),console.warn(a)}return function(){var e=t._stacks.get(n)||0;t._stacks.set(n,e-1)}}}}]),e}(),$bef59326251d24bb$var$Emitter=function(){"use strict";function e(t){var r;(0,$4JAgF.default)(this,e),this._disposed=!1,this._options=t,this._leakageMon=$bef59326251d24bb$var$_globalLeakWarningThreshold>0?new $bef59326251d24bb$var$LeakageMonitor(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=null!=(r=this._options)&&r._profName?new $bef59326251d24bb$var$EventProfiling(this._options._profName):void 0}return(0,$9HoHC.default)(e,[{key:"event",get:function(){var e=this;return this._event||(this._event=function(t,r,n){var i;e._listeners||(e._listeners=new $bef59326251d24bb$var$LinkedList);var a=e._listeners.isEmpty();a&&e._options&&e._options.onFirstListenerAdd&&e._options.onFirstListenerAdd(e);var o=e._listeners.push(r?[t,r]:t);a&&e._options&&e._options.onFirstListenerDidAdd&&e._options.onFirstListenerDidAdd(e),e._options&&e._options.onListenerDidAdd&&e._options.onListenerDidAdd(e,t,r);var s=null==(i=e._leakageMon)?void 0:i.check(e._listeners.size),u=$bef59326251d24bb$var$toDisposable((function(){(s&&s(),e._disposed)||(o(),e._options&&e._options.onLastListenerRemove&&(e._listeners&&!e._listeners.isEmpty()||e._options.onLastListenerRemove(e)))}));return n instanceof $bef59326251d24bb$var$DisposableStore?n.add(u):Array.isArray(n)&&n.push(u),u}),this._event}},{key:"fire",value:function(e){if(this._listeners){var t,r;this._deliveryQueue||(this._deliveryQueue=new $bef59326251d24bb$var$LinkedList);var n=!0,i=!1,a=void 0;try{for(var o,s=this._listeners[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;this._deliveryQueue.push([u,e])}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}for(null==(t=this._perfMon)||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){var c=(0,$dVhHy.default)(this._deliveryQueue.shift(),2),l=c[0],f=c[1];try{"function"==typeof l?l.call(void 0,f):l[0].call(l[1],f)}catch(e){$bef59326251d24bb$var$onUnexpectedError(e)}}null==(r=this._perfMon)||r.stop()}}},{key:"dispose",value:function(){var e,t,r,n;this._disposed||(this._disposed=!0,null==(e=this._listeners)||e.clear(),null==(t=this._deliveryQueue)||t.clear(),null==(r=this._options)||null==r.onLastListenerRemove||r.onLastListenerRemove(),null==(n=this._leakageMon)||n.dispose())}}]),e}(),$bef59326251d24bb$var$AsyncEmitter=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.apply(this,arguments)}return(0,$9HoHC.default)(r,[{key:"fireAsync",value:function(e,t,r){var n=this;return(0,$3mpD3.default)((function(){var i,a,o,s,u,c,l,f,d,h,v;return(0,$cDTRq.__generator)(this,(function(p){switch(p.label){case 0:if(!n._listeners)return[2];n._asyncDeliveryQueue||(n._asyncDeliveryQueue=new $bef59326251d24bb$var$LinkedList),i=!0,a=!1,o=void 0;try{for(s=n._listeners[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c=u.value,n._asyncDeliveryQueue.push([c,e])}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}p.label=1;case 1:if(!(n._asyncDeliveryQueue.size>0)||t.isCancellationRequested)return[3,3];l=(0,$dVhHy.default)(n._asyncDeliveryQueue.shift(),2),f=l[0],d=l[1],h=[],v=$bef59326251d24bb$var$_extends({},d,{waitUntil:function(e){if(Object.isFrozen(h))throw new Error("waitUntil can NOT be called asynchronous");r&&(e=r(e,"function"==typeof f?f:f[0])),h.push(e)}});try{"function"==typeof f?f.call(void 0,v):f[0].call(f[1],v)}catch(e){return $bef59326251d24bb$var$onUnexpectedError(e),[3,1]}return Object.freeze(h),[4,Promise.allSettled(h).then((function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;"rejected"===o.status&&$bef59326251d24bb$var$onUnexpectedError(o.reason)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}))];case 2:return p.sent(),[3,1];case 3:return[2]}}))}))()}}]),r}($bef59326251d24bb$var$Emitter),$bef59326251d24bb$var$PauseableEmitter=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,e))._isPaused=0,n._eventQueue=new $bef59326251d24bb$var$LinkedList,n._mergeFn=null==e?void 0:e.merge,n}return(0,$9HoHC.default)(r,[{key:"pause",value:function(){this._isPaused++}},{key:"resume",value:function(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){var e=Array.from(this._eventQueue);this._eventQueue.clear(),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"fire",this).call(this,this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"fire",this).call(this,this._eventQueue.shift())}},{key:"fire",value:function(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"fire",this).call(this,e))}}]),r}($bef59326251d24bb$var$Emitter),$bef59326251d24bb$var$DebounceEmitter=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n,i;return(0,$4JAgF.default)(this,r),(n=t.call(this,e))._delay=null!=(i=e.delay)?i:100,n}return(0,$9HoHC.default)(r,[{key:"fire",value:function(e){var t=this;this._handle||(this.pause(),this._handle=setTimeout((function(){t._handle=void 0,t.resume()}),this._delay)),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"fire",this).call(this,e)}}]),r}($bef59326251d24bb$var$PauseableEmitter),$bef59326251d24bb$var$EventMultiplexer=function(){"use strict";function e(){var t=this;(0,$4JAgF.default)(this,e),this.hasListeners=!1,this.events=[],this.emitter=new $bef59326251d24bb$var$Emitter({onFirstListenerAdd:function(){return t.onFirstListenerAdd()},onLastListenerRemove:function(){return t.onLastListenerRemove()}})}return(0,$9HoHC.default)(e,[{key:"event",get:function(){return this.emitter.event}},{key:"add",value:function(e){var t=this,r={event:e,listener:null};this.events.push(r),this.hasListeners&&this.hook(r);return $bef59326251d24bb$var$toDisposable($bef59326251d24bb$var$once((function(){t.hasListeners&&t.unhook(r);var e=t.events.indexOf(r);t.events.splice(e,1)})))}},{key:"onFirstListenerAdd",value:function(){var e=this;this.hasListeners=!0,this.events.forEach((function(t){return e.hook(t)}))}},{key:"onLastListenerRemove",value:function(){var e=this;this.hasListeners=!1,this.events.forEach((function(t){return e.unhook(t)}))}},{key:"hook",value:function(e){var t=this;e.listener=e.event((function(e){return t.emitter.fire(e)}))}},{key:"unhook",value:function(e){e.listener&&e.listener.dispose(),e.listener=null}},{key:"dispose",value:function(){this.emitter.dispose()}}]),e}(),$bef59326251d24bb$var$EventBufferer=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.buffers=[]}return(0,$9HoHC.default)(e,[{key:"wrapEvent",value:function(e){var t=this;return function(r,n,i){return e((function(e){var i=t.buffers[t.buffers.length-1];i?i.push((function(){return r.call(n,e)})):r.call(n,e)}),void 0,i)}}},{key:"bufferEvents",value:function(e){var t=[];this.buffers.push(t);var r=e();return this.buffers.pop(),t.forEach((function(e){return e()})),r}}]),e}(),$bef59326251d24bb$var$Relay=function(){"use strict";function e(){var t=this;(0,$4JAgF.default)(this,e),this.listening=!1,this.inputEvent=$bef59326251d24bb$var$Event.None,this.inputEventListener=$bef59326251d24bb$var$Disposable.None,this.emitter=new $bef59326251d24bb$var$Emitter({onFirstListenerDidAdd:function(){t.listening=!0,t.inputEventListener=t.inputEvent(t.emitter.fire,t.emitter)},onLastListenerRemove:function(){t.listening=!1,t.inputEventListener.dispose()}}),this.event=this.emitter.event}return(0,$9HoHC.default)(e,[{key:"input",set:function(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}},{key:"dispose",value:function(){this.inputEventListener.dispose(),this.emitter.dispose()}}]),e}(),$bef59326251d24bb$export$6cd530ed55e06764={__proto__:null,get Event(){return $bef59326251d24bb$var$Event},setGlobalLeakWarningThreshold:$bef59326251d24bb$var$setGlobalLeakWarningThreshold,Emitter:$bef59326251d24bb$var$Emitter,AsyncEmitter:$bef59326251d24bb$var$AsyncEmitter,PauseableEmitter:$bef59326251d24bb$var$PauseableEmitter,DebounceEmitter:$bef59326251d24bb$var$DebounceEmitter,EventMultiplexer:$bef59326251d24bb$var$EventMultiplexer,EventBufferer:$bef59326251d24bb$var$EventBufferer,Relay:$bef59326251d24bb$var$Relay},$bef59326251d24bb$var$Action=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4?arguments[4]:void 0;return(0,$4JAgF.default)(this,r),(n=t.call(this))._onDidChange=n._register(new $bef59326251d24bb$var$Emitter),n.onDidChange=n._onDidChange.event,n._enabled=!0,n._checked=!1,n._id=e,n._label=i,n._cssClass=a,n._enabled=o,n._actionCallback=s,n}return(0,$9HoHC.default)(r,[{key:"id",get:function(){return this._id}},{key:"label",get:function(){return this._label},set:function(e){this._setLabel(e)}},{key:"_setLabel",value:function(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}},{key:"tooltip",get:function(){return this._tooltip||""},set:function(e){this._setTooltip(e)}},{key:"_setTooltip",value:function(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}},{key:"class",get:function(){return this._cssClass},set:function(e){this._setClass(e)}},{key:"_setClass",value:function(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._setEnabled(e)}},{key:"_setEnabled",value:function(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}},{key:"checked",get:function(){return this._checked},set:function(e){this._setChecked(e)}},{key:"_setChecked",value:function(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}},{key:"run",value:function(e,t){var r=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:return r._actionCallback?[4,r._actionCallback(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))()}}]),r}($bef59326251d24bb$var$Disposable),$bef59326251d24bb$var$ActionRunner=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._onBeforeRun=e._register(new $bef59326251d24bb$var$Emitter),e.onBeforeRun=e._onBeforeRun.event,e._onDidRun=e._register(new $bef59326251d24bb$var$Emitter),e.onDidRun=e._onDidRun.event,e}return(0,$9HoHC.default)(r,[{key:"run",value:function(e,t){var r=this;return(0,$3mpD3.default)((function(){var n,i;return(0,$cDTRq.__generator)(this,(function(a){switch(a.label){case 0:if(!e.enabled)return[2];r._onBeforeRun.fire({action:e}),n=void 0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.runAction(e,t)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),n=i,[3,4];case 4:return r._onDidRun.fire({action:e,error:n}),[2]}}))}))()}},{key:"runAction",value:function(e,t){return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.run(t)];case 1:return r.sent(),[2]}}))}))()}}]),r}($bef59326251d24bb$var$Disposable),$bef59326251d24bb$var$Separator=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,r.ID,e,e?"separator text":"separator")).checked=!1,n.enabled=!1,n}return(0,$9HoHC.default)(r,null,[{key:"join",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=[],a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;l.length&&(i=i.length?(0,$caN7I.default)(i).concat([new r],(0,$caN7I.default)(l)):l)}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i}}]),r}($bef59326251d24bb$var$Action);$bef59326251d24bb$var$Separator.ID="vs.actions.separator";var $bef59326251d24bb$var$SubmenuAction=function(){"use strict";function e(t,r,n,i){(0,$4JAgF.default)(this,e),this.tooltip="",this.enabled=!0,this.checked=!1,this.id=t,this.label=r,this.class=i,this._actions=n}return(0,$9HoHC.default)(e,[{key:"actions",get:function(){return this._actions}},{key:"dispose",value:function(){}},{key:"run",value:function(){return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(e){return[2]}))}))()}}]),e}(),$bef59326251d24bb$var$EmptySubmenuAction=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.call(this,r.ID,$bef59326251d24bb$var$localize("submenu.empty","(empty)"),void 0,!1)}return r}($bef59326251d24bb$var$Action);function $bef59326251d24bb$var$toAction(e){var t,r;return{id:e.id,label:e.label,class:void 0,enabled:null==(t=e.enabled)||t,checked:null!=(r=e.checked)&&r,run:(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(t){return[2,e.run()]}))})),tooltip:e.label,dispose:function(){}}}$bef59326251d24bb$var$EmptySubmenuAction.ID="vs.actions.empty";var $bef59326251d24bb$export$e324594224ef24da={__proto__:null,Action:$bef59326251d24bb$var$Action,ActionRunner:$bef59326251d24bb$var$ActionRunner,Separator:$bef59326251d24bb$var$Separator,SubmenuAction:$bef59326251d24bb$var$SubmenuAction,EmptySubmenuAction:$bef59326251d24bb$var$EmptySubmenuAction,toAction:$bef59326251d24bb$var$toAction};function $bef59326251d24bb$var$tail(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[e.length-(1+t)]}function $bef59326251d24bb$var$tail2(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function $bef59326251d24bb$var$equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}function $bef59326251d24bb$var$binarySearch(e,t,r){for(var n=0,i=e.length-1;n<=i;){var a=(n+i)/2|0,o=r(e[a],t);if(o<0)n=a+1;else{if(!(o>0))return a;i=a-1}}return-(n+1)}function $bef59326251d24bb$var$findFirstInSorted(e,t){var r=0,n=e.length;if(0===n)return 0;for(;r<n;){var i=Math.floor((r+n)/2);t(e[i])?n=i:r=i+1}return r}function $bef59326251d24bb$var$quickSelect(e,t,r){if((e|=0)>=t.length)throw new TypeError("invalid index");var n=t[Math.floor(t.length*Math.random())],i=[],a=[],o=[],s=!0,u=!1,c=void 0;try{for(var l,f=t[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value,h=r(d,n);h<0?i.push(d):h>0?a.push(d):o.push(d)}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return e<i.length?$bef59326251d24bb$var$quickSelect(e,i,r):e<i.length+o.length?o[0]:$bef59326251d24bb$var$quickSelect(e-(i.length+o.length),a,r)}function $bef59326251d24bb$var$groupBy$1(e,t){var r=[],n=void 0,i=!0,a=!1,o=void 0;try{for(var s,u=e.slice(0).sort(t)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n&&0===t(n[0],c)?n.push(c):(n=[c],r.push(n))}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return r}function $bef59326251d24bb$var$sortedDiff(e,t,r){for(var n=function(e,t,r){if(0!==t||0!==r.length){var n,a=i[i.length-1];if(a&&a.start+a.deleteCount===e)a.deleteCount+=t,(n=a.toInsert).push.apply(n,(0,$caN7I.default)(r));else i.push({start:e,deleteCount:t,toInsert:r})}},i=[],a=0,o=0;;){if(a===e.length){n(a,0,t.slice(o));break}if(o===t.length){n(a,e.length-a,[]);break}var s=e[a],u=t[o],c=r(s,u);0===c?(a+=1,o+=1):c<0?(n(a,1,[]),a+=1):c>0&&(n(a,0,[u]),o+=1)}return i}function $bef59326251d24bb$var$delta(e,t,r){var n=$bef59326251d24bb$var$sortedDiff(e,t,r),i=[],a=[],o=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f,d,h=c.value;(f=i).push.apply(f,(0,$caN7I.default)(e.slice(h.start,h.start+h.deleteCount))),(d=a).push.apply(d,(0,$caN7I.default)(h.toInsert))}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return{removed:i,added:a}}function $bef59326251d24bb$var$top(e,t,r){if(0===r)return[];var n=e.slice(0,r).sort(t);return $bef59326251d24bb$var$topStep(e,t,n,r,e.length),n}function $bef59326251d24bb$var$topAsync(e,t,r,n,i){return 0===r?Promise.resolve([]):new Promise((function(a,o){(0,$3mpD3.default)((function(){var a,o,s,u;return(0,$cDTRq.__generator)(this,(function(c){switch(c.label){case 0:a=e.length,o=e.slice(0,r).sort(t),s=r,u=Math.min(r+n,a),c.label=1;case 1:return s<a?s>r?[4,new Promise((function(e){return setTimeout(e)}))]:[3,3]:[3,5];case 2:c.sent(),c.label=3;case 3:if(i&&i.isCancellationRequested)throw $bef59326251d24bb$var$canceled();$bef59326251d24bb$var$topStep(e,t,o,s,u),c.label=4;case 4:return s=u,u=Math.min(u+n,a),[3,1];case 5:return[2,o]}}))}))().then(a,o)}))}function $bef59326251d24bb$var$topStep(e,t,r,n,i){for(var a=function(i){var a=e[n];if(t(a,r[i-1])<0){r.pop();var o=$bef59326251d24bb$var$findFirstInSorted(r,(function(e){return t(a,e)<0}));r.splice(o,0,a)}},o=r.length;n<i;n++)a(o)}function $bef59326251d24bb$var$coalesce(e){return e.filter((function(e){return!!e}))}function $bef59326251d24bb$var$coalesceInPlace(e){for(var t=0,r=0;r<e.length;r++)e[r]&&(e[t]=e[r],t+=1);e.length=t}function $bef59326251d24bb$var$move(e,t,r){e.splice(r,0,e.splice(t,1)[0])}function $bef59326251d24bb$var$isFalsyOrEmpty(e){return!Array.isArray(e)||0===e.length}function $bef59326251d24bb$var$isNonEmptyArray(e){return Array.isArray(e)&&e.length>0}function $bef59326251d24bb$var$distinct(e,t){if(!t)return e.filter((function(t,r){return e.indexOf(t)===r}));var r=Object.create(null);return e.filter((function(e){var n=t(e);return!r[n]&&(r[n]=!0,!0)}))}function $bef59326251d24bb$var$distinctES6(e){var t=new Set;return e.filter((function(e){return!t.has(e)&&(t.add(e),!0)}))}function $bef59326251d24bb$var$uniqueFilter(e){var t=Object.create(null);return function(r){var n=e(r);return!t[n]&&(t[n]=!0,!0)}}function $bef59326251d24bb$var$lastIndex(e,t){for(var r=e.length-1;r>=0;r--){if(t(e[r]))return r}return-1}function $bef59326251d24bb$var$firstOrDefault(e,t){return e.length>0?e[0]:t}function $bef59326251d24bb$var$commonPrefixLength$1(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t},n=0,i=0,a=Math.min(e.length,t.length);i<a&&r(e[i],t[i]);i++)n++;return n}function $bef59326251d24bb$var$flatten(e){var t;return(t=[]).concat.apply(t,(0,$caN7I.default)(e))}function $bef59326251d24bb$var$range$1(e,t){var r="number"==typeof t?e:0;"number"==typeof t?r=e:(r=0,t=e);var n=[];if(r<=t)for(var i=r;i<t;i++)n.push(i);else for(var a=r;a>t;a--)n.push(a);return n}function $bef59326251d24bb$var$index(e,t,r){return e.reduce((function(e,n){return e[t(n)]=r?r(n):n,e}),Object.create(null))}function $bef59326251d24bb$var$insert(e,t){return e.push(t),function(){return $bef59326251d24bb$var$remove(e,t)}}function $bef59326251d24bb$var$remove(e,t){var r=e.indexOf(t);if(r>-1)return e.splice(r,1),t}function $bef59326251d24bb$var$arrayInsert(e,t,r){var n=e.slice(0,t),i=e.slice(t);return n.concat(r,i)}function $bef59326251d24bb$var$shuffle(e,t){var r;if("number"==typeof t){var n=t;r=function(){var e=179426549*Math.sin(n++);return e-Math.floor(e)}}else r=Math.random;for(var i=e.length-1;i>0;i-=1){var a=Math.floor(r()*(i+1)),o=e[i];e[i]=e[a],e[a]=o}}function $bef59326251d24bb$var$pushToStart(e,t){var r=e.indexOf(t);r>-1&&(e.splice(r,1),e.unshift(t))}function $bef59326251d24bb$var$pushToEnd(e,t){var r=e.indexOf(t);r>-1&&(e.splice(r,1),e.push(t))}function $bef59326251d24bb$var$mapArrayOrNot(e,t){return Array.isArray(e)?e.map(t):t(e)}function $bef59326251d24bb$var$asArray(e){return Array.isArray(e)?e:[e]}function $bef59326251d24bb$var$getRandomElement(e){return e[Math.floor(Math.random()*e.length)]}function $bef59326251d24bb$var$mapFind(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=t(a.value);if(void 0!==s)return s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}function $bef59326251d24bb$var$insertInto(e,t,r){var n=$bef59326251d24bb$var$getActualStartIndex(e,t),i=e.length,a=r.length;e.length=i+a;for(var o=i-1;o>=n;o--)e[o+a]=e[o];for(var s=0;s<a;s++)e[s+n]=r[s]}function $bef59326251d24bb$var$splice(e,t,r,n){var i=$bef59326251d24bb$var$getActualStartIndex(e,t),a=e.splice(i,r);return $bef59326251d24bb$var$insertInto(e,i,n),a}function $bef59326251d24bb$var$getActualStartIndex(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}function $bef59326251d24bb$var$minIndex(e,t){var r=Number.MAX_SAFE_INTEGER,n=0;return e.forEach((function(e,i){var a=t(e);a<r&&(r=a,n=i)})),n}function $bef59326251d24bb$var$maxIndex(e,t){var r=Number.MIN_SAFE_INTEGER,n=0;return e.forEach((function(e,i){var a=t(e);a>r&&(r=a,n=i)})),n}var $bef59326251d24bb$var$ArrayQueue=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.items=t,this.firstIdx=0,this.lastIdx=this.items.length-1}return(0,$9HoHC.default)(e,[{key:"length",get:function(){return this.lastIdx-this.firstIdx+1}},{key:"takeWhile",value:function(e){for(var t=this.firstIdx;t<this.items.length&&e(this.items[t]);)t++;var r=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,r}},{key:"takeFromEndWhile",value:function(e){for(var t=this.lastIdx;t>=0&&e(this.items[t]);)t--;var r=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,r}}]),e}(),$bef59326251d24bb$export$40d218f64510f659={__proto__:null,tail:$bef59326251d24bb$var$tail,tail2:$bef59326251d24bb$var$tail2,equals:$bef59326251d24bb$var$equals,binarySearch:$bef59326251d24bb$var$binarySearch,findFirstInSorted:$bef59326251d24bb$var$findFirstInSorted,quickSelect:$bef59326251d24bb$var$quickSelect,groupBy:$bef59326251d24bb$var$groupBy$1,sortedDiff:$bef59326251d24bb$var$sortedDiff,delta:$bef59326251d24bb$var$delta,top:$bef59326251d24bb$var$top,topAsync:$bef59326251d24bb$var$topAsync,coalesce:$bef59326251d24bb$var$coalesce,coalesceInPlace:$bef59326251d24bb$var$coalesceInPlace,move:$bef59326251d24bb$var$move,isFalsyOrEmpty:$bef59326251d24bb$var$isFalsyOrEmpty,isNonEmptyArray:$bef59326251d24bb$var$isNonEmptyArray,distinct:$bef59326251d24bb$var$distinct,distinctES6:$bef59326251d24bb$var$distinctES6,uniqueFilter:$bef59326251d24bb$var$uniqueFilter,lastIndex:$bef59326251d24bb$var$lastIndex,firstOrDefault:$bef59326251d24bb$var$firstOrDefault,commonPrefixLength:$bef59326251d24bb$var$commonPrefixLength$1,flatten:$bef59326251d24bb$var$flatten,range:$bef59326251d24bb$var$range$1,index:$bef59326251d24bb$var$index,insert:$bef59326251d24bb$var$insert,remove:$bef59326251d24bb$var$remove,arrayInsert:$bef59326251d24bb$var$arrayInsert,shuffle:$bef59326251d24bb$var$shuffle,pushToStart:$bef59326251d24bb$var$pushToStart,pushToEnd:$bef59326251d24bb$var$pushToEnd,mapArrayOrNot:$bef59326251d24bb$var$mapArrayOrNot,asArray:$bef59326251d24bb$var$asArray,getRandomElement:$bef59326251d24bb$var$getRandomElement,mapFind:$bef59326251d24bb$var$mapFind,insertInto:$bef59326251d24bb$var$insertInto,splice:$bef59326251d24bb$var$splice,minIndex:$bef59326251d24bb$var$minIndex,maxIndex:$bef59326251d24bb$var$maxIndex,ArrayQueue:$bef59326251d24bb$var$ArrayQueue};function $bef59326251d24bb$var$ok(e,t){if(!e)throw new Error(t?"Assertion failed (".concat(t,")"):"Assertion Failed")}var $bef59326251d24bb$export$a7a9523472993e97={__proto__:null,ok:$bef59326251d24bb$var$ok},$bef59326251d24bb$var$shortcutEvent=Object.freeze((function(e,t){var r=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(r)}}})),$bef59326251d24bb$var$CancellationToken,CancellationToken;CancellationToken=$bef59326251d24bb$var$CancellationToken||($bef59326251d24bb$var$CancellationToken={}),CancellationToken.isCancellationToken=function(e){return e===CancellationToken.None||e===CancellationToken.Cancelled||e instanceof $bef59326251d24bb$var$MutableToken||!(!e||"object"!=typeof e)&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},CancellationToken.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$bef59326251d24bb$var$Event.None}),CancellationToken.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$bef59326251d24bb$var$shortcutEvent});var $bef59326251d24bb$var$MutableToken=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._isCancelled=!1,this._emitter=null}return(0,$9HoHC.default)(e,[{key:"cancel",value:function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}},{key:"isCancellationRequested",get:function(){return this._isCancelled}},{key:"onCancellationRequested",get:function(){return this._isCancelled?$bef59326251d24bb$var$shortcutEvent:(this._emitter||(this._emitter=new $bef59326251d24bb$var$Emitter),this._emitter.event)}},{key:"dispose",value:function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}]),e}(),$bef59326251d24bb$var$CancellationTokenSource=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._token=void 0,this._parentListener=void 0,this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}return(0,$9HoHC.default)(e,[{key:"token",get:function(){return this._token||(this._token=new $bef59326251d24bb$var$MutableToken),this._token}},{key:"cancel",value:function(){this._token?this._token instanceof $bef59326251d24bb$var$MutableToken&&this._token.cancel():this._token=$bef59326251d24bb$var$CancellationToken.Cancelled}},{key:"dispose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof $bef59326251d24bb$var$MutableToken&&this._token.dispose():this._token=$bef59326251d24bb$var$CancellationToken.None}}]),e}(),$bef59326251d24bb$export$823e9ecf45309cca={__proto__:null,get CancellationToken(){return $bef59326251d24bb$var$CancellationToken},CancellationTokenSource:$bef59326251d24bb$var$CancellationTokenSource};function $bef59326251d24bb$var$isFalsyOrWhitespace(e){return!e||"string"!=typeof e||0===e.trim().length}var $bef59326251d24bb$var$_formatRegexp=/{(\d+)}/g;function $bef59326251d24bb$var$format$2(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 0===r.length?e:e.replace($bef59326251d24bb$var$_formatRegexp,(function(e,t){var n=parseInt(t,10);return isNaN(n)||n<0||n>=r.length?e:r[n]}))}var $bef59326251d24bb$var$_format2Regexp=/{([^}]+)}/g;function $bef59326251d24bb$var$format2(e,t){return e.replace($bef59326251d24bb$var$_format2Regexp,(function(e,r){var n;return null!=(n=t[r])?n:e}))}function $bef59326251d24bb$var$escape(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function $bef59326251d24bb$var$escapeRegExpCharacters(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function $bef59326251d24bb$var$count(e,t){for(var r=0,n=t.charCodeAt(0),i=e.length-1;i>=0;i--)e.charCodeAt(i)===n&&r++;return r}function $bef59326251d24bb$var$truncate(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…";return e.length<=t?e:"".concat(e.substr(0,t)).concat(r)}function $bef59326251d24bb$var$trim(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=$bef59326251d24bb$var$ltrim(e,t);return $bef59326251d24bb$var$rtrim(r,t)}function $bef59326251d24bb$var$ltrim(e,t){if(!e||!t)return e;var r=t.length;if(0===r||0===e.length)return e;for(var n=0;e.indexOf(t,n)===n;)n+=r;return e.substring(n)}function $bef59326251d24bb$var$rtrim(e,t){if(!e||!t)return e;var r=t.length,n=e.length;if(0===r||0===n)return e;for(var i=n,a=-1;-1!==(a=e.lastIndexOf(t,i-1))&&a+r===i;){if(0===a)return"";i=a}return e.substring(0,i)}function $bef59326251d24bb$var$convertSimple2RegExpPattern(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function $bef59326251d24bb$var$stripWildcards(e){return e.replace(/\*/g,"")}function $bef59326251d24bb$var$createRegExp(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("Cannot create regex from empty string");t||(e=$bef59326251d24bb$var$escapeRegExpCharacters(e)),r.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var n="";return r.global&&(n+="g"),r.matchCase||(n+="i"),r.multiline&&(n+="m"),r.unicode&&(n+="u"),new RegExp(e,n)}function $bef59326251d24bb$var$regExpLeadsToEndlessLoop(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&"^\\s*$"!==e.source&&!(!e.exec("")||0!==e.lastIndex)}function $bef59326251d24bb$var$regExpContainsBackreference(e){return!!e.match(/([^\\]|^)(\\\\)*\\\d+/)}function $bef59326251d24bb$var$regExpFlags(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function $bef59326251d24bb$var$splitLines(e){return e.split(/\r\n|\r|\n/)}function $bef59326251d24bb$var$firstNonWhitespaceIndex(e){for(var t=0,r=e.length;t<r;t++){var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}return-1}function $bef59326251d24bb$var$getLeadingWhitespace(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=t;n<r;n++){var i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,r)}function $bef59326251d24bb$var$lastNonWhitespaceIndex(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length-1,r=t;r>=0;r--){var n=e.charCodeAt(r);if(32!==n&&9!==n)return r}return-1}function $bef59326251d24bb$var$compare(e,t){return e<t?-1:e>t?1:0}function $bef59326251d24bb$var$compareSubstring(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.length;r<n&&i<a;r++,i++){var o=e.charCodeAt(r),s=t.charCodeAt(i);if(o<s)return-1;if(o>s)return 1}var u=n-r,c=a-i;return u<c?-1:u>c?1:0}function $bef59326251d24bb$var$compareIgnoreCase(e,t){return $bef59326251d24bb$var$compareSubstringIgnoreCase(e,t,0,e.length,0,t.length)}function $bef59326251d24bb$var$compareSubstringIgnoreCase(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.length;r<n&&i<a;r++,i++){var o=e.charCodeAt(r),s=t.charCodeAt(i);if(o!==s){var u=o-s;if(!(32===u&&$bef59326251d24bb$var$isUpperAsciiLetter(s)||-32===u&&$bef59326251d24bb$var$isUpperAsciiLetter(o)))return $bef59326251d24bb$var$isLowerAsciiLetter(o)&&$bef59326251d24bb$var$isLowerAsciiLetter(s)?u:$bef59326251d24bb$var$compareSubstring(e.toLowerCase(),t.toLowerCase(),r,n,i,a)}}var c=n-r,l=a-i;return c<l?-1:c>l?1:0}function $bef59326251d24bb$var$isLowerAsciiLetter(e){return e>=97&&e<=122}function $bef59326251d24bb$var$isUpperAsciiLetter(e){return e>=65&&e<=90}function $bef59326251d24bb$var$isAsciiLetter(e){return $bef59326251d24bb$var$isLowerAsciiLetter(e)||$bef59326251d24bb$var$isUpperAsciiLetter(e)}function $bef59326251d24bb$var$equalsIgnoreCase(e,t){return e.length===t.length&&$bef59326251d24bb$var$doEqualsIgnoreCase(e,t)}function $bef59326251d24bb$var$doEqualsIgnoreCase(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=0;n<r;n++){var i=e.charCodeAt(n),a=t.charCodeAt(n);if(i!==a)if($bef59326251d24bb$var$isAsciiLetter(i)&&$bef59326251d24bb$var$isAsciiLetter(a)){var o=Math.abs(i-a);if(0!==o&&32!==o)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(a).toLowerCase())return!1}return!0}function $bef59326251d24bb$var$startsWithIgnoreCase(e,t){var r=t.length;return!(t.length>e.length)&&$bef59326251d24bb$var$doEqualsIgnoreCase(e,t,r)}function $bef59326251d24bb$var$commonPrefixLength(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r++)if(e.charCodeAt(r)!==t.charCodeAt(r))return r;return n}function $bef59326251d24bb$var$commonSuffixLength(e,t){var r,n=Math.min(e.length,t.length),i=e.length-1,a=t.length-1;for(r=0;r<n;r++)if(e.charCodeAt(i-r)!==t.charCodeAt(a-r))return r;return n}function $bef59326251d24bb$var$isHighSurrogate(e){return 55296<=e&&e<=56319}function $bef59326251d24bb$var$isLowSurrogate(e){return 56320<=e&&e<=57343}function $bef59326251d24bb$var$computeCodePoint(e,t){return t-56320+(e-55296<<10)+65536}function $bef59326251d24bb$var$getNextCodePoint(e,t,r){var n=e.charCodeAt(r);if($bef59326251d24bb$var$isHighSurrogate(n)&&r+1<t){var i=e.charCodeAt(r+1);if($bef59326251d24bb$var$isLowSurrogate(i))return $bef59326251d24bb$var$computeCodePoint(n,i)}return n}function $bef59326251d24bb$var$getPrevCodePoint(e,t){var r=e.charCodeAt(t-1);if($bef59326251d24bb$var$isLowSurrogate(r)&&t>1){var n=e.charCodeAt(t-2);if($bef59326251d24bb$var$isHighSurrogate(n))return $bef59326251d24bb$var$computeCodePoint(n,r)}return r}function $bef59326251d24bb$var$nextCharLength(e,t){var r=$bef59326251d24bb$var$GraphemeBreakTree.getInstance(),n=t,i=e.length,a=$bef59326251d24bb$var$getNextCodePoint(e,i,t);t+=a>=65536?2:1;for(var o=r.getGraphemeBreakType(a);t<i;){var s=$bef59326251d24bb$var$getNextCodePoint(e,i,t),u=r.getGraphemeBreakType(s);if($bef59326251d24bb$var$breakBetweenGraphemeBreakType(o,u))break;t+=s>=65536?2:1,o=u}return t-n}function $bef59326251d24bb$var$prevCharLength(e,t){var r=$bef59326251d24bb$var$GraphemeBreakTree.getInstance(),n=t,i=$bef59326251d24bb$var$getPrevCodePoint(e,t);t-=i>=65536?2:1;for(var a=r.getGraphemeBreakType(i);t>0;){var o=$bef59326251d24bb$var$getPrevCodePoint(e,t),s=r.getGraphemeBreakType(o);if($bef59326251d24bb$var$breakBetweenGraphemeBreakType(s,a))break;t-=o>=65536?2:1,a=s}return n-t}function $bef59326251d24bb$var$_getCharContainingOffset(e,t){var r=$bef59326251d24bb$var$GraphemeBreakTree.getInstance(),n=e.length,i=t,a=$bef59326251d24bb$var$getNextCodePoint(e,n,t),o=r.getGraphemeBreakType(a);t+=a>=65536?2:1;for(var s=o;t<n;){var u=$bef59326251d24bb$var$getNextCodePoint(e,n,t),c=r.getGraphemeBreakType(u);if($bef59326251d24bb$var$breakBetweenGraphemeBreakType(s,c))break;t+=u>=65536?2:1,s=c}var l=t;for(t=i,s=o;t>0;){var f=$bef59326251d24bb$var$getPrevCodePoint(e,t),d=r.getGraphemeBreakType(f);if($bef59326251d24bb$var$breakBetweenGraphemeBreakType(d,s))break;t-=f>=65536?2:1,s=d}return[t,l]}function $bef59326251d24bb$var$getCharContainingOffset(e,t){return t>0&&$bef59326251d24bb$var$isLowSurrogate(e.charCodeAt(t))?$bef59326251d24bb$var$_getCharContainingOffset(e,t-1):$bef59326251d24bb$var$_getCharContainingOffset(e,t)}function $bef59326251d24bb$var$encodeUTF8(e){for(var t=e.length,r=0,n=0;n<t;){var i=$bef59326251d24bb$var$getNextCodePoint(e,t,n);n+=i>=65536?2:1,r+=i<128?1:i<2048?2:i<65536?3:4}var a=new Uint8Array(r);n=0;for(var o=0;n<t;){var s=$bef59326251d24bb$var$getNextCodePoint(e,t,n);n+=s>=65536?2:1,s<128?a[o++]=s:s<2048?(a[o++]=192|(1984&s)>>>6,a[o++]=128|(63&s)>>>0):s<65536?(a[o++]=224|(61440&s)>>>12,a[o++]=128|(4032&s)>>>6,a[o++]=128|(63&s)>>>0):(a[o++]=240|(1835008&s)>>>18,a[o++]=128|(258048&s)>>>12,a[o++]=128|(4032&s)>>>6,a[o++]=128|(63&s)>>>0)}return a}function $bef59326251d24bb$var$decodeUTF8(e){for(var t=e.byteLength,r=[],n=0;n<t;){var i=e[n],a=void 0;if((a=i>=240&&n+3<t?(7&e[n++])<<18>>>0|(63&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:i>=224&&n+2<t?(15&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:i>=192&&n+1<t?(31&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:e[n++])>=0&&a<=55295||a>=57344&&a<=65535)r.push(String.fromCharCode(a));else if(a>=65536&&a<=1114111){var o=a-65536,s=55296+((1047552&o)>>>10),u=56320+((1023&o)>>>0);r.push(String.fromCharCode(s)),r.push(String.fromCharCode(u))}else r.push(String.fromCharCode(65533))}return r.join("")}var $bef59326251d24bb$var$CONTAINS_RTL=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function $bef59326251d24bb$var$containsRTL(e){return $bef59326251d24bb$var$CONTAINS_RTL.test(e)}var $bef59326251d24bb$var$CONTAINS_EMOJI=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function $bef59326251d24bb$var$containsEmoji(e){return $bef59326251d24bb$var$CONTAINS_EMOJI.test(e)}var $bef59326251d24bb$var$IS_BASIC_ASCII=/^[\t\n\r\x20-\x7E]*$/;function $bef59326251d24bb$var$isBasicASCII(e){return $bef59326251d24bb$var$IS_BASIC_ASCII.test(e)}var $bef59326251d24bb$var$UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function $bef59326251d24bb$var$containsUnusualLineTerminators(e){return $bef59326251d24bb$var$UNUSUAL_LINE_TERMINATORS.test(e)}function $bef59326251d24bb$var$containsFullWidthCharacter(e){for(var t=0,r=e.length;t<r;t++)if($bef59326251d24bb$var$isFullWidthCharacter(e.charCodeAt(t)))return!0;return!1}function $bef59326251d24bb$var$isFullWidthCharacter(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function $bef59326251d24bb$var$isEmojiImprecise(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129750}function $bef59326251d24bb$var$lcut(e,t){if(e.length<t)return e;for(var r=/\b/g,n=0;r.test(e)&&!(e.length-r.lastIndex<t);)n=r.lastIndex,r.lastIndex+=1;return e.substring(n).replace(/^\s/,"")}var $bef59326251d24bb$var$EL=/\x1B\x5B[12]?K/g,$bef59326251d24bb$var$COLOR_START=/\x1b\[\d+m/g,$bef59326251d24bb$var$COLOR_END=/\x1b\[0?m/g;function $bef59326251d24bb$var$removeAnsiEscapeCodes(e){return e&&(e=(e=(e=e.replace($bef59326251d24bb$var$EL,"")).replace($bef59326251d24bb$var$COLOR_START,"")).replace($bef59326251d24bb$var$COLOR_END,"")),e}var $bef59326251d24bb$var$UTF8_BOM_CHARACTER=String.fromCharCode(65279),$bef59326251d24bb$var$GraphemeBreakType,GraphemeBreakType;function $bef59326251d24bb$var$startsWithUTF8BOM(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function $bef59326251d24bb$var$stripUTF8BOM(e){return $bef59326251d24bb$var$startsWithUTF8BOM(e)?e.substr(1):e}function $bef59326251d24bb$var$fuzzyContains(e,t){if(!e||!t)return!1;if(e.length<t.length)return!1;for(var r=t.length,n=e.toLowerCase(),i=0,a=-1;i<r;){var o=n.indexOf(t[i],a+1);if(o<0)return!1;a=o,i++}return!0}function $bef59326251d24bb$var$containsUppercaseCharacter(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e&&(t&&(e=e.replace(/\\./g,"")),e.toLowerCase()!==e)}function $bef59326251d24bb$var$uppercaseFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function $bef59326251d24bb$var$getNLines(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===t)return"";var r=-1;do{r=e.indexOf("\n",r+1),t--}while(t>0&&r>=0);return-1===r?e:("\r"===e[r-1]&&r--,e.substr(0,r))}function $bef59326251d24bb$var$singleLetterHash(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function $bef59326251d24bb$var$getGraphemeBreakType(e){return $bef59326251d24bb$var$GraphemeBreakTree.getInstance().getGraphemeBreakType(e)}function $bef59326251d24bb$var$breakBetweenGraphemeBreakType(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}GraphemeBreakType=$bef59326251d24bb$var$GraphemeBreakType||($bef59326251d24bb$var$GraphemeBreakType={}),GraphemeBreakType[GraphemeBreakType.Other=0]="Other",GraphemeBreakType[GraphemeBreakType.Prepend=1]="Prepend",GraphemeBreakType[GraphemeBreakType.CR=2]="CR",GraphemeBreakType[GraphemeBreakType.LF=3]="LF",GraphemeBreakType[GraphemeBreakType.Control=4]="Control",GraphemeBreakType[GraphemeBreakType.Extend=5]="Extend",GraphemeBreakType[GraphemeBreakType.Regional_Indicator=6]="Regional_Indicator",GraphemeBreakType[GraphemeBreakType.SpacingMark=7]="SpacingMark",GraphemeBreakType[GraphemeBreakType.L=8]="L",GraphemeBreakType[GraphemeBreakType.V=9]="V",GraphemeBreakType[GraphemeBreakType.T=10]="T",GraphemeBreakType[GraphemeBreakType.LV=11]="LV",GraphemeBreakType[GraphemeBreakType.LVT=12]="LVT",GraphemeBreakType[GraphemeBreakType.ZWJ=13]="ZWJ",GraphemeBreakType[GraphemeBreakType.Extended_Pictographic=14]="Extended_Pictographic";var $bef59326251d24bb$var$GraphemeBreakTree=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._data=$bef59326251d24bb$var$getGraphemeBreakRawData()}return(0,$9HoHC.default)(e,[{key:"getGraphemeBreakType",value:function(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;for(var t=this._data,r=t.length/3,n=1;n<=r;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}],[{key:"getInstance",value:function(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}}]),e}(),$bef59326251d24bb$var$CodePoint,CodePoint;function $bef59326251d24bb$var$getGraphemeBreakRawData(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function $bef59326251d24bb$var$getLeftDeleteOffset(e,t){if(0===e)return 0;var r=$bef59326251d24bb$var$getOffsetBeforeLastEmojiComponent(e,t);return void 0!==r?r:e-=$bef59326251d24bb$var$getUTF16Length($bef59326251d24bb$var$getPrevCodePoint(t,e))}function $bef59326251d24bb$var$getOffsetBeforeLastEmojiComponent(e,t){var r=$bef59326251d24bb$var$getPrevCodePoint(t,e);for(e-=$bef59326251d24bb$var$getUTF16Length(r);$bef59326251d24bb$var$isEmojiModifier(r)||65039===r||8419===r;){if(0===e)return;e-=$bef59326251d24bb$var$getUTF16Length(r=$bef59326251d24bb$var$getPrevCodePoint(t,e))}if($bef59326251d24bb$var$isEmojiImprecise(r)){if(e>=0){var n=$bef59326251d24bb$var$getPrevCodePoint(t,e);8205===n&&(e-=$bef59326251d24bb$var$getUTF16Length(n))}return e}}function $bef59326251d24bb$var$getUTF16Length(e){return e>=65536?2:1}function $bef59326251d24bb$var$isEmojiModifier(e){return 127995<=e&&e<=127999}$bef59326251d24bb$var$GraphemeBreakTree._INSTANCE=null,CodePoint=$bef59326251d24bb$var$CodePoint||($bef59326251d24bb$var$CodePoint={}),CodePoint[CodePoint.zwj=8205]="zwj",CodePoint[CodePoint.emojiVariantSelector=65039]="emojiVariantSelector",CodePoint[CodePoint.enclosingKeyCap=8419]="enclosingKeyCap";var $bef59326251d24bb$export$21c51bc433c16634={__proto__:null,isFalsyOrWhitespace:$bef59326251d24bb$var$isFalsyOrWhitespace,format:$bef59326251d24bb$var$format$2,format2:$bef59326251d24bb$var$format2,escape:$bef59326251d24bb$var$escape,escapeRegExpCharacters:$bef59326251d24bb$var$escapeRegExpCharacters,count:$bef59326251d24bb$var$count,truncate:$bef59326251d24bb$var$truncate,trim:$bef59326251d24bb$var$trim,ltrim:$bef59326251d24bb$var$ltrim,rtrim:$bef59326251d24bb$var$rtrim,convertSimple2RegExpPattern:$bef59326251d24bb$var$convertSimple2RegExpPattern,stripWildcards:$bef59326251d24bb$var$stripWildcards,createRegExp:$bef59326251d24bb$var$createRegExp,regExpLeadsToEndlessLoop:$bef59326251d24bb$var$regExpLeadsToEndlessLoop,regExpContainsBackreference:$bef59326251d24bb$var$regExpContainsBackreference,regExpFlags:$bef59326251d24bb$var$regExpFlags,splitLines:$bef59326251d24bb$var$splitLines,firstNonWhitespaceIndex:$bef59326251d24bb$var$firstNonWhitespaceIndex,getLeadingWhitespace:$bef59326251d24bb$var$getLeadingWhitespace,lastNonWhitespaceIndex:$bef59326251d24bb$var$lastNonWhitespaceIndex,compare:$bef59326251d24bb$var$compare,compareSubstring:$bef59326251d24bb$var$compareSubstring,compareIgnoreCase:$bef59326251d24bb$var$compareIgnoreCase,compareSubstringIgnoreCase:$bef59326251d24bb$var$compareSubstringIgnoreCase,isLowerAsciiLetter:$bef59326251d24bb$var$isLowerAsciiLetter,isUpperAsciiLetter:$bef59326251d24bb$var$isUpperAsciiLetter,equalsIgnoreCase:$bef59326251d24bb$var$equalsIgnoreCase,startsWithIgnoreCase:$bef59326251d24bb$var$startsWithIgnoreCase,commonPrefixLength:$bef59326251d24bb$var$commonPrefixLength,commonSuffixLength:$bef59326251d24bb$var$commonSuffixLength,isHighSurrogate:$bef59326251d24bb$var$isHighSurrogate,isLowSurrogate:$bef59326251d24bb$var$isLowSurrogate,computeCodePoint:$bef59326251d24bb$var$computeCodePoint,getNextCodePoint:$bef59326251d24bb$var$getNextCodePoint,nextCharLength:$bef59326251d24bb$var$nextCharLength,prevCharLength:$bef59326251d24bb$var$prevCharLength,getCharContainingOffset:$bef59326251d24bb$var$getCharContainingOffset,encodeUTF8:$bef59326251d24bb$var$encodeUTF8,decodeUTF8:$bef59326251d24bb$var$decodeUTF8,containsRTL:$bef59326251d24bb$var$containsRTL,containsEmoji:$bef59326251d24bb$var$containsEmoji,isBasicASCII:$bef59326251d24bb$var$isBasicASCII,UNUSUAL_LINE_TERMINATORS:$bef59326251d24bb$var$UNUSUAL_LINE_TERMINATORS,containsUnusualLineTerminators:$bef59326251d24bb$var$containsUnusualLineTerminators,containsFullWidthCharacter:$bef59326251d24bb$var$containsFullWidthCharacter,isFullWidthCharacter:$bef59326251d24bb$var$isFullWidthCharacter,isEmojiImprecise:$bef59326251d24bb$var$isEmojiImprecise,lcut:$bef59326251d24bb$var$lcut,removeAnsiEscapeCodes:$bef59326251d24bb$var$removeAnsiEscapeCodes,UTF8_BOM_CHARACTER:$bef59326251d24bb$var$UTF8_BOM_CHARACTER,startsWithUTF8BOM:$bef59326251d24bb$var$startsWithUTF8BOM,stripUTF8BOM:$bef59326251d24bb$var$stripUTF8BOM,fuzzyContains:$bef59326251d24bb$var$fuzzyContains,containsUppercaseCharacter:$bef59326251d24bb$var$containsUppercaseCharacter,uppercaseFirstLetter:$bef59326251d24bb$var$uppercaseFirstLetter,getNLines:$bef59326251d24bb$var$getNLines,singleLetterHash:$bef59326251d24bb$var$singleLetterHash,getGraphemeBreakType:$bef59326251d24bb$var$getGraphemeBreakType,breakBetweenGraphemeBreakType:$bef59326251d24bb$var$breakBetweenGraphemeBreakType,get GraphemeBreakType(){return $bef59326251d24bb$var$GraphemeBreakType},getLeftDeleteOffset:$bef59326251d24bb$var$getLeftDeleteOffset},$bef59326251d24bb$var$safeProcess;if(void 0!==$bef59326251d24bb$var$globals.vscode&&void 0!==$bef59326251d24bb$var$globals.vscode.process){var $bef59326251d24bb$var$sandboxProcess=$bef59326251d24bb$var$globals.vscode.process;$bef59326251d24bb$var$safeProcess={get platform(){return $bef59326251d24bb$var$sandboxProcess.platform},get env(){return $bef59326251d24bb$var$sandboxProcess.env},cwd:function(){return $bef59326251d24bb$var$sandboxProcess.cwd()},nextTick:function(e){return $bef59326251d24bb$var$setImmediate(e)}}}else $bef59326251d24bb$var$safeProcess=void 0!==$d2KzW?{get platform(){return $d2KzW.platform},get env(){return $d2KzW.env},cwd:function(){return $d2KzW.cwd()},nextTick:function(e){return $d2KzW.nextTick(e)}}:{get platform(){return $bef59326251d24bb$var$isWindows?"win32":$bef59326251d24bb$var$isMacintosh?"darwin":"linux"},nextTick:function(e){return $bef59326251d24bb$var$setImmediate(e)},get env(){return{}},cwd:function(){return"/"}};var $bef59326251d24bb$var$cwd=$bef59326251d24bb$var$safeProcess.cwd,$bef59326251d24bb$var$env=$bef59326251d24bb$var$safeProcess.env,$bef59326251d24bb$var$platform=$bef59326251d24bb$var$safeProcess.platform,$bef59326251d24bb$var$nextTick=$bef59326251d24bb$var$safeProcess.nextTick,$bef59326251d24bb$export$e54fe5b0f43758f7={__proto__:null,cwd:$bef59326251d24bb$var$cwd,env:$bef59326251d24bb$var$env,platform:$bef59326251d24bb$var$platform,nextTick:$bef59326251d24bb$var$nextTick},$bef59326251d24bb$var$CHAR_UPPERCASE_A=65,$bef59326251d24bb$var$CHAR_LOWERCASE_A=97,$bef59326251d24bb$var$CHAR_UPPERCASE_Z=90,$bef59326251d24bb$var$CHAR_LOWERCASE_Z=122,$bef59326251d24bb$var$CHAR_DOT=46,$bef59326251d24bb$var$CHAR_FORWARD_SLASH=47,$bef59326251d24bb$var$CHAR_BACKWARD_SLASH=92,$bef59326251d24bb$var$CHAR_COLON=58,$bef59326251d24bb$var$CHAR_QUESTION_MARK=63,$bef59326251d24bb$var$ErrorInvalidArgType=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i){var a,o;(0,$4JAgF.default)(this,r),"string"==typeof n&&0===n.indexOf("not ")?(o="must not be",n=n.replace(/^not /,"")):o="must be";var s=-1!==e.indexOf(".")?"property":"argument",u='The "'.concat(e,'" ').concat(s," ").concat(o," of type ").concat(n);return u+=". Received type ".concat(void 0===i?"undefined":(0,$dCPLc.default)(i)),(a=t.call(this,u)).code="ERR_INVALID_ARG_TYPE",a}return r}((0,$9PuT7.default)(Error));function $bef59326251d24bb$var$validateString(e,t){if("string"!=typeof e)throw new $bef59326251d24bb$var$ErrorInvalidArgType(t,"string",e)}function $bef59326251d24bb$var$isPathSeparator$1(e){return e===$bef59326251d24bb$var$CHAR_FORWARD_SLASH||e===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH}function $bef59326251d24bb$var$isPosixPathSeparator(e){return e===$bef59326251d24bb$var$CHAR_FORWARD_SLASH}function $bef59326251d24bb$var$isWindowsDeviceRoot(e){return e>=$bef59326251d24bb$var$CHAR_UPPERCASE_A&&e<=$bef59326251d24bb$var$CHAR_UPPERCASE_Z||e>=$bef59326251d24bb$var$CHAR_LOWERCASE_A&&e<=$bef59326251d24bb$var$CHAR_LOWERCASE_Z}function $bef59326251d24bb$var$normalizeString(e,t,r,n){for(var i="",a=0,o=-1,s=0,u=0,c=0;c<=e.length;++c){if(c<e.length)u=e.charCodeAt(c);else{if(n(u))break;u=$bef59326251d24bb$var$CHAR_FORWARD_SLASH}if(n(u)){if(o===c-1||1===s);else if(2===s){if(i.length<2||2!==a||i.charCodeAt(i.length-1)!==$bef59326251d24bb$var$CHAR_DOT||i.charCodeAt(i.length-2)!==$bef59326251d24bb$var$CHAR_DOT){if(i.length>2){var l=i.lastIndexOf(r);-1===l?(i="",a=0):a=(i=i.slice(0,l)).length-1-i.lastIndexOf(r),o=c,s=0;continue}if(0!==i.length){i="",a=0,o=c,s=0;continue}}t&&(i+=i.length>0?"".concat(r,".."):"..",a=2)}else i.length>0?i+="".concat(r).concat(e.slice(o+1,c)):i=e.slice(o+1,c),a=c-o-1;o=c,s=0}else u===$bef59326251d24bb$var$CHAR_DOT&&-1!==s?++s:s=-1}return i}function $bef59326251d24bb$var$_format(e,t){if(null===t||"object"!=typeof t)throw new $bef59326251d24bb$var$ErrorInvalidArgType("pathObject","Object",t);var r=t.dir||t.root,n=t.base||"".concat(t.name||"").concat(t.ext||"");return r?r===t.root?"".concat(r).concat(n):"".concat(r).concat(e).concat(n):n}var $bef59326251d24bb$var$win32={resolve:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n="",i="",a=!1,o=t.length-1;o>=-1;o--){var s=void 0;if(o>=0){if($bef59326251d24bb$var$validateString(s=t[o],"path"),0===s.length)continue}else 0===n.length?s=$bef59326251d24bb$var$cwd():(void 0===(s=$bef59326251d24bb$var$env["=".concat(n)]||$bef59326251d24bb$var$cwd())||s.slice(0,2).toLowerCase()!==n.toLowerCase()&&s.charCodeAt(2)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH)&&(s="".concat(n,"\\"));var u=s.length,c=0,l="",f=!1,d=s.charCodeAt(0);if(1===u)$bef59326251d24bb$var$isPathSeparator$1(d)&&(c=1,f=!0);else if($bef59326251d24bb$var$isPathSeparator$1(d))if(f=!0,$bef59326251d24bb$var$isPathSeparator$1(s.charCodeAt(1))){for(var h=2,v=h;h<u&&!$bef59326251d24bb$var$isPathSeparator$1(s.charCodeAt(h));)h++;if(h<u&&h!==v){var p=s.slice(v,h);for(v=h;h<u&&$bef59326251d24bb$var$isPathSeparator$1(s.charCodeAt(h));)h++;if(h<u&&h!==v){for(v=h;h<u&&!$bef59326251d24bb$var$isPathSeparator$1(s.charCodeAt(h));)h++;h!==u&&h===v||(l="\\\\".concat(p,"\\").concat(s.slice(v,h)),c=h)}}}else c=1;else $bef59326251d24bb$var$isWindowsDeviceRoot(d)&&s.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON&&(l=s.slice(0,2),c=2,u>2&&$bef59326251d24bb$var$isPathSeparator$1(s.charCodeAt(2))&&(f=!0,c=3));if(l.length>0)if(n.length>0){if(l.toLowerCase()!==n.toLowerCase())continue}else n=l;if(a){if(n.length>0)break}else if(i="".concat(s.slice(c),"\\").concat(i),a=f,f&&n.length>0)break}return i=$bef59326251d24bb$var$normalizeString(i,!a,"\\",$bef59326251d24bb$var$isPathSeparator$1),a?"".concat(n,"\\").concat(i):"".concat(n).concat(i)||"."},normalize:function(e){$bef59326251d24bb$var$validateString(e,"path");var t=e.length;if(0===t)return".";var r,n=0,i=!1,a=e.charCodeAt(0);if(1===t)return $bef59326251d24bb$var$isPosixPathSeparator(a)?"\\":e;if($bef59326251d24bb$var$isPathSeparator$1(a))if(i=!0,$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(1))){for(var o=2,s=o;o<t&&!$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(o));)o++;if(o<t&&o!==s){var u=e.slice(s,o);for(s=o;o<t&&$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(o));)o++;if(o===t)return"\\\\".concat(u,"\\").concat(e.slice(s),"\\");o!==s&&(r="\\\\".concat(u,"\\").concat(e.slice(s,o)),n=o)}}}else n=1;else $bef59326251d24bb$var$isWindowsDeviceRoot(a)&&e.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON&&(r=e.slice(0,2),n=2,t>2&&$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(2))&&(i=!0,n=3));var c=n<t?$bef59326251d24bb$var$normalizeString(e.slice(n),!i,"\\",$bef59326251d24bb$var$isPathSeparator$1):"";return 0!==c.length||i||(c="."),c.length>0&&$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(t-1))&&(c+="\\"),void 0===r?i?"\\".concat(c):c:i?"".concat(r,"\\").concat(c):"".concat(r).concat(c)},isAbsolute:function(e){$bef59326251d24bb$var$validateString(e,"path");var t=e.length;if(0===t)return!1;var r=e.charCodeAt(0);return $bef59326251d24bb$var$isPathSeparator$1(r)||t>2&&$bef59326251d24bb$var$isWindowsDeviceRoot(r)&&e.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON&&$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(2))},join:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return".";for(var n,i,a=0;a<t.length;++a){var o=t[a];$bef59326251d24bb$var$validateString(o,"path"),o.length>0&&(void 0===n?n=i=o:n+="\\".concat(o))}if(void 0===n)return".";var s=!0,u=0;if("string"==typeof i&&$bef59326251d24bb$var$isPathSeparator$1(i.charCodeAt(0))){++u;var c=i.length;c>1&&$bef59326251d24bb$var$isPathSeparator$1(i.charCodeAt(1))&&(++u,c>2&&($bef59326251d24bb$var$isPathSeparator$1(i.charCodeAt(2))?++u:s=!1))}if(s){for(;u<n.length&&$bef59326251d24bb$var$isPathSeparator$1(n.charCodeAt(u));)u++;u>=2&&(n="\\".concat(n.slice(u)))}return $bef59326251d24bb$var$win32.normalize(n)},relative:function(e,t){if($bef59326251d24bb$var$validateString(e,"from"),$bef59326251d24bb$var$validateString(t,"to"),e===t)return"";var r=$bef59326251d24bb$var$win32.resolve(e),n=$bef59326251d24bb$var$win32.resolve(t);if(r===n)return"";if((e=r.toLowerCase())===(t=n.toLowerCase()))return"";for(var i=0;i<e.length&&e.charCodeAt(i)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH;)i++;for(var a=e.length;a-1>i&&e.charCodeAt(a-1)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH;)a--;for(var o=a-i,s=0;s<t.length&&t.charCodeAt(s)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH;)s++;for(var u=t.length;u-1>s&&t.charCodeAt(u-1)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH;)u--;for(var c=u-s,l=o<c?o:c,f=-1,d=0;d<l;d++){var h=e.charCodeAt(i+d);if(h!==t.charCodeAt(s+d))break;h===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH&&(f=d)}if(d!==l){if(-1===f)return n}else{if(c>l){if(t.charCodeAt(s+d)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH)return n.slice(s+d+1);if(2===d)return n.slice(s+d)}o>l&&(e.charCodeAt(i+d)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH?f=d:2===d&&(f=3)),-1===f&&(f=0)}var v="";for(d=i+f+1;d<=a;++d)d!==a&&e.charCodeAt(d)!==$bef59326251d24bb$var$CHAR_BACKWARD_SLASH||(v+=0===v.length?"..":"\\..");return s+=f,v.length>0?"".concat(v).concat(n.slice(s,u)):(n.charCodeAt(s)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH&&++s,n.slice(s,u))},toNamespacedPath:function(e){if("string"!=typeof e)return e;if(0===e.length)return"";var t=$bef59326251d24bb$var$win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH){if(t.charCodeAt(1)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH){var r=t.charCodeAt(2);if(r!==$bef59326251d24bb$var$CHAR_QUESTION_MARK&&r!==$bef59326251d24bb$var$CHAR_DOT)return"\\\\?\\UNC\\".concat(t.slice(2))}}else if($bef59326251d24bb$var$isWindowsDeviceRoot(t.charCodeAt(0))&&t.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON&&t.charCodeAt(2)===$bef59326251d24bb$var$CHAR_BACKWARD_SLASH)return"\\\\?\\".concat(t);return e},dirname:function(e){$bef59326251d24bb$var$validateString(e,"path");var t=e.length;if(0===t)return".";var r=-1,n=0,i=e.charCodeAt(0);if(1===t)return $bef59326251d24bb$var$isPathSeparator$1(i)?e:".";if($bef59326251d24bb$var$isPathSeparator$1(i)){if(r=n=1,$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(1))){for(var a=2,o=a;a<t&&!$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(a));)a++;if(a<t&&a!==o){for(o=a;a<t&&$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(a));)a++;if(a<t&&a!==o){for(o=a;a<t&&!$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(a));)a++;if(a===t)return e;a!==o&&(r=n=a+1)}}}}else $bef59326251d24bb$var$isWindowsDeviceRoot(i)&&e.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON&&(n=r=t>2&&$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(2))?3:2);for(var s=-1,u=!0,c=t-1;c>=n;--c)if($bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(c))){if(!u){s=c;break}}else u=!1;if(-1===s){if(-1===r)return".";s=r}return e.slice(0,s)},basename:function(e,t){void 0!==t&&$bef59326251d24bb$var$validateString(t,"ext"),$bef59326251d24bb$var$validateString(e,"path");var r,n=0,i=-1,a=!0;if(e.length>=2&&$bef59326251d24bb$var$isWindowsDeviceRoot(e.charCodeAt(0))&&e.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";var o=t.length-1,s=-1;for(r=e.length-1;r>=n;--r){var u=e.charCodeAt(r);if($bef59326251d24bb$var$isPathSeparator$1(u)){if(!a){n=r+1;break}}else-1===s&&(a=!1,s=r+1),o>=0&&(u===t.charCodeAt(o)?-1==--o&&(i=r):(o=-1,i=s))}return n===i?i=s:-1===i&&(i=e.length),e.slice(n,i)}for(r=e.length-1;r>=n;--r)if($bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(r))){if(!a){n=r+1;break}}else-1===i&&(a=!1,i=r+1);return-1===i?"":e.slice(n,i)},extname:function(e){$bef59326251d24bb$var$validateString(e,"path");var t=0,r=-1,n=0,i=-1,a=!0,o=0;e.length>=2&&e.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON&&$bef59326251d24bb$var$isWindowsDeviceRoot(e.charCodeAt(0))&&(t=n=2);for(var s=e.length-1;s>=t;--s){var u=e.charCodeAt(s);if($bef59326251d24bb$var$isPathSeparator$1(u)){if(!a){n=s+1;break}}else-1===i&&(a=!1,i=s+1),u===$bef59326251d24bb$var$CHAR_DOT?-1===r?r=s:1!==o&&(o=1):-1!==r&&(o=-1)}return-1===r||-1===i||0===o||1===o&&r===i-1&&r===n+1?"":e.slice(r,i)},format:$bef59326251d24bb$var$_format.bind(null,"\\"),parse:function(e){$bef59326251d24bb$var$validateString(e,"path");var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r=e.length,n=0,i=e.charCodeAt(0);if(1===r)return $bef59326251d24bb$var$isPathSeparator$1(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if($bef59326251d24bb$var$isPathSeparator$1(i)){if(n=1,$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(1))){for(var a=2,o=a;a<r&&!$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(a));)a++;if(a<r&&a!==o){for(o=a;a<r&&$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(a));)a++;if(a<r&&a!==o){for(o=a;a<r&&!$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(a));)a++;a===r?n=a:a!==o&&(n=a+1)}}}}else if($bef59326251d24bb$var$isWindowsDeviceRoot(i)&&e.charCodeAt(1)===$bef59326251d24bb$var$CHAR_COLON){if(r<=2)return t.root=t.dir=e,t;if(n=2,$bef59326251d24bb$var$isPathSeparator$1(e.charCodeAt(2))){if(3===r)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));for(var s=-1,u=n,c=-1,l=!0,f=e.length-1,d=0;f>=n;--f)if($bef59326251d24bb$var$isPathSeparator$1(i=e.charCodeAt(f))){if(!l){u=f+1;break}}else-1===c&&(l=!1,c=f+1),i===$bef59326251d24bb$var$CHAR_DOT?-1===s?s=f:1!==d&&(d=1):-1!==s&&(d=-1);return-1!==c&&(-1===s||0===d||1===d&&s===c-1&&s===u+1?t.base=t.name=e.slice(u,c):(t.name=e.slice(u,s),t.base=e.slice(u,c),t.ext=e.slice(s,c))),t.dir=u>0&&u!==n?e.slice(0,u-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},$bef59326251d24bb$var$posix={resolve:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n="",i=!1,a=t.length-1;a>=-1&&!i;a--){var o=a>=0?t[a]:$bef59326251d24bb$var$cwd();$bef59326251d24bb$var$validateString(o,"path"),0!==o.length&&(n="".concat(o,"/").concat(n),i=o.charCodeAt(0)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH)}return n=$bef59326251d24bb$var$normalizeString(n,!i,"/",$bef59326251d24bb$var$isPosixPathSeparator),i?"/".concat(n):n.length>0?n:"."},normalize:function(e){if($bef59326251d24bb$var$validateString(e,"path"),0===e.length)return".";var t=e.charCodeAt(0)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH,r=e.charCodeAt(e.length-1)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH;return 0===(e=$bef59326251d24bb$var$normalizeString(e,!t,"/",$bef59326251d24bb$var$isPosixPathSeparator)).length?t?"/":r?"./":".":(r&&(e+="/"),t?"/".concat(e):e)},isAbsolute:function(e){return $bef59326251d24bb$var$validateString(e,"path"),e.length>0&&e.charCodeAt(0)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH},join:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return".";for(var n,i=0;i<t.length;++i){var a=t[i];$bef59326251d24bb$var$validateString(a,"path"),a.length>0&&(void 0===n?n=a:n+="/".concat(a))}return void 0===n?".":$bef59326251d24bb$var$posix.normalize(n)},relative:function(e,t){if($bef59326251d24bb$var$validateString(e,"from"),$bef59326251d24bb$var$validateString(t,"to"),e===t)return"";if((e=$bef59326251d24bb$var$posix.resolve(e))===(t=$bef59326251d24bb$var$posix.resolve(t)))return"";for(var r=e.length,n=r-1,i=t.length-1,a=n<i?n:i,o=-1,s=0;s<a;s++){var u=e.charCodeAt(1+s);if(u!==t.charCodeAt(1+s))break;u===$bef59326251d24bb$var$CHAR_FORWARD_SLASH&&(o=s)}if(s===a)if(i>a){if(t.charCodeAt(1+s)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH)return t.slice(1+s+1);if(0===s)return t.slice(1+s)}else n>a&&(e.charCodeAt(1+s)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH?o=s:0===s&&(o=0));var c="";for(s=1+o+1;s<=r;++s)s!==r&&e.charCodeAt(s)!==$bef59326251d24bb$var$CHAR_FORWARD_SLASH||(c+=0===c.length?"..":"/..");return"".concat(c).concat(t.slice(1+o))},toNamespacedPath:function(e){return e},dirname:function(e){if($bef59326251d24bb$var$validateString(e,"path"),0===e.length)return".";for(var t=e.charCodeAt(0)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH,r=-1,n=!0,i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH){if(!n){r=i;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"//":e.slice(0,r)},basename:function(e,t){void 0!==t&&$bef59326251d24bb$var$validateString(t,"ext"),$bef59326251d24bb$var$validateString(e,"path");var r,n=0,i=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";var o=t.length-1,s=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(u===$bef59326251d24bb$var$CHAR_FORWARD_SLASH){if(!a){n=r+1;break}}else-1===s&&(a=!1,s=r+1),o>=0&&(u===t.charCodeAt(o)?-1==--o&&(i=r):(o=-1,i=s))}return n===i?i=s:-1===i&&(i=e.length),e.slice(n,i)}for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH){if(!a){n=r+1;break}}else-1===i&&(a=!1,i=r+1);return-1===i?"":e.slice(n,i)},extname:function(e){$bef59326251d24bb$var$validateString(e,"path");for(var t=-1,r=0,n=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(s!==$bef59326251d24bb$var$CHAR_FORWARD_SLASH)-1===n&&(i=!1,n=o+1),s===$bef59326251d24bb$var$CHAR_DOT?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)},format:$bef59326251d24bb$var$_format.bind(null,"/"),parse:function(e){$bef59326251d24bb$var$validateString(e,"path");var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0)===$bef59326251d24bb$var$CHAR_FORWARD_SLASH;n?(t.root="/",r=1):r=0;for(var i=-1,a=0,o=-1,s=!0,u=e.length-1,c=0;u>=r;--u){var l=e.charCodeAt(u);if(l!==$bef59326251d24bb$var$CHAR_FORWARD_SLASH)-1===o&&(s=!1,o=u+1),l===$bef59326251d24bb$var$CHAR_DOT?-1===i?i=u:1!==c&&(c=1):-1!==i&&(c=-1);else if(!s){a=u+1;break}}if(-1!==o){var f=0===a&&n?1:a;-1===i||0===c||1===c&&i===o-1&&i===a+1?t.base=t.name=e.slice(f,o):(t.name=e.slice(f,i),t.base=e.slice(f,o),t.ext=e.slice(i,o))}return a>0?t.dir=e.slice(0,a-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};$bef59326251d24bb$var$posix.win32=$bef59326251d24bb$var$win32.win32=$bef59326251d24bb$var$win32,$bef59326251d24bb$var$posix.posix=$bef59326251d24bb$var$win32.posix=$bef59326251d24bb$var$posix;var $bef59326251d24bb$var$normalize$1="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.normalize:$bef59326251d24bb$var$posix.normalize,$bef59326251d24bb$var$isAbsolute="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.isAbsolute:$bef59326251d24bb$var$posix.isAbsolute,$bef59326251d24bb$var$join$1="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.join:$bef59326251d24bb$var$posix.join,$bef59326251d24bb$var$resolve="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.resolve:$bef59326251d24bb$var$posix.resolve,$bef59326251d24bb$var$relative="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.relative:$bef59326251d24bb$var$posix.relative,$bef59326251d24bb$var$dirname$1="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.dirname:$bef59326251d24bb$var$posix.dirname,$bef59326251d24bb$var$basename$1="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.basename:$bef59326251d24bb$var$posix.basename,$bef59326251d24bb$var$extname$1="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.extname:$bef59326251d24bb$var$posix.extname,$bef59326251d24bb$var$format$1="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.format:$bef59326251d24bb$var$posix.format,$bef59326251d24bb$var$parse$4="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.parse:$bef59326251d24bb$var$posix.parse,$bef59326251d24bb$var$toNamespacedPath="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.toNamespacedPath:$bef59326251d24bb$var$posix.toNamespacedPath,$bef59326251d24bb$var$sep="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.sep:$bef59326251d24bb$var$posix.sep,$bef59326251d24bb$var$delimiter="win32"===$bef59326251d24bb$var$platform?$bef59326251d24bb$var$win32.delimiter:$bef59326251d24bb$var$posix.delimiter,$bef59326251d24bb$export$bb654e07daaf8c3a={__proto__:null,win32:$bef59326251d24bb$var$win32,posix:$bef59326251d24bb$var$posix,normalize:$bef59326251d24bb$var$normalize$1,isAbsolute:$bef59326251d24bb$var$isAbsolute,join:$bef59326251d24bb$var$join$1,resolve:$bef59326251d24bb$var$resolve,relative:$bef59326251d24bb$var$relative,dirname:$bef59326251d24bb$var$dirname$1,basename:$bef59326251d24bb$var$basename$1,extname:$bef59326251d24bb$var$extname$1,format:$bef59326251d24bb$var$format$1,parse:$bef59326251d24bb$var$parse$4,toNamespacedPath:$bef59326251d24bb$var$toNamespacedPath,sep:$bef59326251d24bb$var$sep,delimiter:$bef59326251d24bb$var$delimiter};function $bef59326251d24bb$var$isArray(e){return Array.isArray(e)}function $bef59326251d24bb$var$isString(e){return"string"==typeof e}function $bef59326251d24bb$var$isStringArray(e){return Array.isArray(e)&&e.every((function(e){return $bef59326251d24bb$var$isString(e)}))}function $bef59326251d24bb$var$isObject(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function $bef59326251d24bb$var$isNumber$1(e){return"number"==typeof e&&!isNaN(e)}function $bef59326251d24bb$var$isIterable(e){return!!e&&"function"==typeof e[Symbol.iterator]}function $bef59326251d24bb$var$isBoolean(e){return!0===e||!1===e}function $bef59326251d24bb$var$isUndefined(e){return void 0===e}function $bef59326251d24bb$var$isDefined(e){return!$bef59326251d24bb$var$isUndefinedOrNull(e)}function $bef59326251d24bb$var$isUndefinedOrNull(e){return $bef59326251d24bb$var$isUndefined(e)||null===e}function $bef59326251d24bb$var$assertType(e,t){if(!e)throw new Error(t?"Unexpected type, expected '".concat(t,"'"):"Unexpected type")}function $bef59326251d24bb$var$assertIsDefined(e){if($bef59326251d24bb$var$isUndefinedOrNull(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function $bef59326251d24bb$var$assertAllDefined(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=[],i=0;i<t.length;i++){var a=t[i];if($bef59326251d24bb$var$isUndefinedOrNull(a))throw new Error("Assertion Failed: argument at index ".concat(i," is undefined or null"));n.push(a)}return n}var $bef59326251d24bb$var$hasOwnProperty$1=Object.prototype.hasOwnProperty;function $bef59326251d24bb$var$isEmptyObject(e){if(!$bef59326251d24bb$var$isObject(e))return!1;for(var t in e)if($bef59326251d24bb$var$hasOwnProperty$1.call(e,t))return!1;return!0}function $bef59326251d24bb$var$isFunction(e){return"function"==typeof e}function $bef59326251d24bb$var$areFunctions(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length>0&&t.every($bef59326251d24bb$var$isFunction)}function $bef59326251d24bb$var$validateConstraints(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)$bef59326251d24bb$var$validateConstraint(e[n],t[n])}function $bef59326251d24bb$var$validateConstraint(e,t){if($bef59326251d24bb$var$isString(t)){if((void 0===e?"undefined":(0,$dCPLc.default)(e))!==t)throw new Error("argument does not match constraint: typeof ".concat(t))}else if($bef59326251d24bb$var$isFunction(t)){try{if(e instanceof t)return}catch(e){}if(!$bef59326251d24bb$var$isUndefinedOrNull(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function $bef59326251d24bb$var$getAllPropertyNames(e){for(var t=[],r=Object.getPrototypeOf(e);Object.prototype!==r;)t=t.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r);return t}function $bef59326251d24bb$var$getAllMethodNames(e){var t=[],r=!0,n=!1,i=void 0;try{for(var a,o=$bef59326251d24bb$var$getAllPropertyNames(e)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;"function"==typeof e[s]&&t.push(s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}function $bef59326251d24bb$var$createProxyObject(e,t){var r=function(e){return function(){var r=Array.prototype.slice.call(arguments,0);return t(e,r)}},n={},i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c]=r(c)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n}function $bef59326251d24bb$var$withNullAsUndefined(e){return null===e?void 0:e}function $bef59326251d24bb$var$withUndefinedAsNull(e){return void 0===e?null:e}function $bef59326251d24bb$var$NotImplementedProxy(e){return function t(){"use strict";return(0,$4JAgF.default)(this,t),new Proxy({},{get:function(t,r){if(t[r])return t[r];throw new Error("Not Implemented: ".concat(e,"->").concat(String(r)))}})}}function $bef59326251d24bb$var$assertNever(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unreachable";throw new Error(t)}var $bef59326251d24bb$export$b14ad400b1d09e0f={__proto__:null,isArray:$bef59326251d24bb$var$isArray,isString:$bef59326251d24bb$var$isString,isStringArray:$bef59326251d24bb$var$isStringArray,isObject:$bef59326251d24bb$var$isObject,isNumber:$bef59326251d24bb$var$isNumber$1,isIterable:$bef59326251d24bb$var$isIterable,isBoolean:$bef59326251d24bb$var$isBoolean,isUndefined:$bef59326251d24bb$var$isUndefined,isDefined:$bef59326251d24bb$var$isDefined,isUndefinedOrNull:$bef59326251d24bb$var$isUndefinedOrNull,assertType:$bef59326251d24bb$var$assertType,assertIsDefined:$bef59326251d24bb$var$assertIsDefined,assertAllDefined:$bef59326251d24bb$var$assertAllDefined,isEmptyObject:$bef59326251d24bb$var$isEmptyObject,isFunction:$bef59326251d24bb$var$isFunction,areFunctions:$bef59326251d24bb$var$areFunctions,validateConstraints:$bef59326251d24bb$var$validateConstraints,validateConstraint:$bef59326251d24bb$var$validateConstraint,getAllPropertyNames:$bef59326251d24bb$var$getAllPropertyNames,getAllMethodNames:$bef59326251d24bb$var$getAllMethodNames,createProxyObject:$bef59326251d24bb$var$createProxyObject,withNullAsUndefined:$bef59326251d24bb$var$withNullAsUndefined,withUndefinedAsNull:$bef59326251d24bb$var$withUndefinedAsNull,NotImplementedProxy:$bef59326251d24bb$var$NotImplementedProxy,assertNever:$bef59326251d24bb$var$assertNever};function $bef59326251d24bb$var$isPathSeparator(e){return 47===e||92===e}function $bef59326251d24bb$var$toSlashes(e){return e.replace(/[\\/]/g,$bef59326251d24bb$var$posix.sep)}function $bef59326251d24bb$var$toPosixPath(e){return-1===e.indexOf("/")&&(e=$bef59326251d24bb$var$toSlashes(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function $bef59326251d24bb$var$getRoot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$posix.sep;if(!e)return"";var r=e.length,n=e.charCodeAt(0);if($bef59326251d24bb$var$isPathSeparator(n)){if($bef59326251d24bb$var$isPathSeparator(e.charCodeAt(1))&&!$bef59326251d24bb$var$isPathSeparator(e.charCodeAt(2))){for(var i=3,a=i;i<r&&!$bef59326251d24bb$var$isPathSeparator(e.charCodeAt(i));i++);if(a!==i&&!$bef59326251d24bb$var$isPathSeparator(e.charCodeAt(i+1)))for(i+=1;i<r;i++)if($bef59326251d24bb$var$isPathSeparator(e.charCodeAt(i)))return e.slice(0,i+1).replace(/[\\/]/g,t)}return t}if($bef59326251d24bb$var$isWindowsDriveLetter(n)&&58===e.charCodeAt(1))return $bef59326251d24bb$var$isPathSeparator(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);var o=e.indexOf("://");if(-1!==o)for(o+=3;o<r;o++)if($bef59326251d24bb$var$isPathSeparator(e.charCodeAt(o)))return e.slice(0,o+1);return""}function $bef59326251d24bb$var$isUNC(e){if(!$bef59326251d24bb$var$isWindows)return!1;if(!e||e.length<5)return!1;var t=e.charCodeAt(0);if(92!==t)return!1;if(92!==(t=e.charCodeAt(1)))return!1;for(var r=2,n=r;r<e.length&&92!==(t=e.charCodeAt(r));r++);return n!==r&&(t=e.charCodeAt(r+1),!isNaN(t)&&92!==t)}var $bef59326251d24bb$var$WINDOWS_INVALID_FILE_CHARS=/[\\/:\*\?"<>\|]/g,$bef59326251d24bb$var$UNIX_INVALID_FILE_CHARS=/[\\/]/g,$bef59326251d24bb$var$WINDOWS_FORBIDDEN_NAMES=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function $bef59326251d24bb$var$isValidBasename(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$isWindows,r=t?$bef59326251d24bb$var$WINDOWS_INVALID_FILE_CHARS:$bef59326251d24bb$var$UNIX_INVALID_FILE_CHARS;return!(!e||0===e.length||/^\s+$/.test(e))&&(r.lastIndex=0,!r.test(e)&&((!t||!$bef59326251d24bb$var$WINDOWS_FORBIDDEN_NAMES.test(e))&&("."!==e&&".."!==e&&((!t||"."!==e[e.length-1])&&((!t||e.length===e.trim().length)&&!(e.length>255))))))}function $bef59326251d24bb$var$isEqual$1(e,t,r){var n=e===t;return!r||n?n:!(!e||!t)&&$bef59326251d24bb$var$equalsIgnoreCase(e,t)}function $bef59326251d24bb$var$isEqualOrParent$1(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$bef59326251d24bb$var$sep;if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(r){var i=$bef59326251d24bb$var$startsWithIgnoreCase(e,t);if(!i)return!1;if(t.length===e.length)return!0;var a=t.length;return t.charAt(t.length-1)===n&&a--,e.charAt(a)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}function $bef59326251d24bb$var$isWindowsDriveLetter(e){return e>=65&&e<=90||e>=97&&e<=122}function $bef59326251d24bb$var$sanitizeFilePath(e,t){return $bef59326251d24bb$var$isWindows&&e.endsWith(":")&&(e+=$bef59326251d24bb$var$sep),$bef59326251d24bb$var$isAbsolute(e)||(e=$bef59326251d24bb$var$join$1(t,e)),e=$bef59326251d24bb$var$normalize$1(e),$bef59326251d24bb$var$isWindows?(e=$bef59326251d24bb$var$rtrim(e,$bef59326251d24bb$var$sep)).endsWith(":")&&(e+=$bef59326251d24bb$var$sep):(e=$bef59326251d24bb$var$rtrim(e,$bef59326251d24bb$var$sep))||(e=$bef59326251d24bb$var$sep),e}function $bef59326251d24bb$var$isRootOrDriveLetter(e){var t=$bef59326251d24bb$var$normalize$1(e);return $bef59326251d24bb$var$isWindows?!(e.length>3)&&($bef59326251d24bb$var$hasDriveLetter(t)&&(2===e.length||92===t.charCodeAt(2))):t===$bef59326251d24bb$var$posix.sep}function $bef59326251d24bb$var$hasDriveLetter(e){return!!$bef59326251d24bb$var$isWindows&&($bef59326251d24bb$var$isWindowsDriveLetter(e.charCodeAt(0))&&58===e.charCodeAt(1))}function $bef59326251d24bb$var$getDriveLetter(e){return $bef59326251d24bb$var$hasDriveLetter(e)?e[0]:void 0}function $bef59326251d24bb$var$indexOfPath(e,t,r){return t.length>e.length?-1:e===t?0:(r&&(e=e.toLowerCase(),t=t.toLowerCase()),e.indexOf(t))}function $bef59326251d24bb$var$parseLineAndColumnAware(e){var t=e.split(":"),r=void 0,n=void 0,i=void 0;if(t.forEach((function(e){var t=Number(e);$bef59326251d24bb$var$isNumber$1(t)?void 0===n?n=t:void 0===i&&(i=t):r=r?[r,e].join(":"):e})),!r)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:r,line:void 0!==n?n:void 0,column:void 0!==i?i:void 0!==n?1:void 0}}var $bef59326251d24bb$export$ed51d2c26e9e41bf={__proto__:null,isPathSeparator:$bef59326251d24bb$var$isPathSeparator,toSlashes:$bef59326251d24bb$var$toSlashes,toPosixPath:$bef59326251d24bb$var$toPosixPath,getRoot:$bef59326251d24bb$var$getRoot,isUNC:$bef59326251d24bb$var$isUNC,isValidBasename:$bef59326251d24bb$var$isValidBasename,isEqual:$bef59326251d24bb$var$isEqual$1,isEqualOrParent:$bef59326251d24bb$var$isEqualOrParent$1,isWindowsDriveLetter:$bef59326251d24bb$var$isWindowsDriveLetter,sanitizeFilePath:$bef59326251d24bb$var$sanitizeFilePath,isRootOrDriveLetter:$bef59326251d24bb$var$isRootOrDriveLetter,hasDriveLetter:$bef59326251d24bb$var$hasDriveLetter,getDriveLetter:$bef59326251d24bb$var$getDriveLetter,indexOfPath:$bef59326251d24bb$var$indexOfPath,parseLineAndColumnAware:$bef59326251d24bb$var$parseLineAndColumnAware},$bef59326251d24bb$var$_schemePattern=/^\w[\w\d+.-]*$/,$bef59326251d24bb$var$_singleSlashStart=/^\//,$bef59326251d24bb$var$_doubleSlashStart=/^\/\//;function $bef59326251d24bb$var$_validateUri(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!$bef59326251d24bb$var$_schemePattern.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!$bef59326251d24bb$var$_singleSlashStart.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if($bef59326251d24bb$var$_doubleSlashStart.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}function $bef59326251d24bb$var$_schemeFix(e,t){return e||t?e:"file"}function $bef59326251d24bb$var$_referenceResolution(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==$bef59326251d24bb$var$_slash&&(t=$bef59326251d24bb$var$_slash+t):t=$bef59326251d24bb$var$_slash}return t}var $bef59326251d24bb$var$_empty="",$bef59326251d24bb$var$_slash="/",$bef59326251d24bb$var$_regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,$bef59326251d24bb$var$URI=function(){"use strict";function e(t,r,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,$4JAgF.default)(this,e),"object"==typeof t?(this.scheme=t.scheme||$bef59326251d24bb$var$_empty,this.authority=t.authority||$bef59326251d24bb$var$_empty,this.path=t.path||$bef59326251d24bb$var$_empty,this.query=t.query||$bef59326251d24bb$var$_empty,this.fragment=t.fragment||$bef59326251d24bb$var$_empty):(this.scheme=$bef59326251d24bb$var$_schemeFix(t,o),this.authority=r||$bef59326251d24bb$var$_empty,this.path=$bef59326251d24bb$var$_referenceResolution(this.scheme,n||$bef59326251d24bb$var$_empty),this.query=i||$bef59326251d24bb$var$_empty,this.fragment=a||$bef59326251d24bb$var$_empty,$bef59326251d24bb$var$_validateUri(this,o))}return(0,$9HoHC.default)(e,[{key:"fsPath",get:function(){return $bef59326251d24bb$var$uriToFsPath(this,!1)}},{key:"with",value:function(e){if(!e)return this;var t=e.scheme,r=e.authority,n=e.path,i=e.query,a=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=$bef59326251d24bb$var$_empty),void 0===r?r=this.authority:null===r&&(r=$bef59326251d24bb$var$_empty),void 0===n?n=this.path:null===n&&(n=$bef59326251d24bb$var$_empty),void 0===i?i=this.query:null===i&&(i=$bef59326251d24bb$var$_empty),void 0===a?a=this.fragment:null===a&&(a=$bef59326251d24bb$var$_empty),t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&a===this.fragment?this:new $bef59326251d24bb$var$Uri(t,r,n,i,a)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return $bef59326251d24bb$var$_asFormatted(this,e)}},{key:"toJSON",value:function(){return this}}],[{key:"isUri",value:function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"string"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString)}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=$bef59326251d24bb$var$_regexp.exec(e);return r?new $bef59326251d24bb$var$Uri(r[2]||$bef59326251d24bb$var$_empty,$bef59326251d24bb$var$percentDecode(r[4]||$bef59326251d24bb$var$_empty),$bef59326251d24bb$var$percentDecode(r[5]||$bef59326251d24bb$var$_empty),$bef59326251d24bb$var$percentDecode(r[7]||$bef59326251d24bb$var$_empty),$bef59326251d24bb$var$percentDecode(r[9]||$bef59326251d24bb$var$_empty),t):new $bef59326251d24bb$var$Uri($bef59326251d24bb$var$_empty,$bef59326251d24bb$var$_empty,$bef59326251d24bb$var$_empty,$bef59326251d24bb$var$_empty,$bef59326251d24bb$var$_empty)}},{key:"file",value:function(e){var t=$bef59326251d24bb$var$_empty;if($bef59326251d24bb$var$isWindows&&(e=e.replace(/\\/g,$bef59326251d24bb$var$_slash)),e[0]===$bef59326251d24bb$var$_slash&&e[1]===$bef59326251d24bb$var$_slash){var r=e.indexOf($bef59326251d24bb$var$_slash,2);-1===r?(t=e.substring(2),e=$bef59326251d24bb$var$_slash):(t=e.substring(2,r),e=e.substring(r)||$bef59326251d24bb$var$_slash)}return new $bef59326251d24bb$var$Uri("file",t,e,$bef59326251d24bb$var$_empty,$bef59326251d24bb$var$_empty)}},{key:"from",value:function(e){var t=new $bef59326251d24bb$var$Uri(e.scheme,e.authority,e.path,e.query,e.fragment);return $bef59326251d24bb$var$_validateUri(t,!0),t}},{key:"joinPath",value:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a,o,s;if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");return s=$bef59326251d24bb$var$isWindows&&"file"===t.scheme?e.file((a=$bef59326251d24bb$var$win32).join.apply(a,[$bef59326251d24bb$var$uriToFsPath(t,!0)].concat((0,$caN7I.default)(n)))).path:(o=$bef59326251d24bb$var$posix).join.apply(o,[t.path].concat((0,$caN7I.default)(n))),t.with({path:s})}},{key:"revive",value:function(t){if(t){if(t instanceof e)return t;var r=new $bef59326251d24bb$var$Uri(t);return r._formatted=t.external,r._fsPath=t._sep===$bef59326251d24bb$var$_pathSepMarker?t.fsPath:null,r}return t}}]),e}(),$bef59326251d24bb$var$_pathSepMarker=$bef59326251d24bb$var$isWindows?1:void 0,$bef59326251d24bb$var$Uri=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._formatted=null,e._fsPath=null,e}return(0,$9HoHC.default)(r,[{key:"fsPath",get:function(){return this._fsPath||(this._fsPath=$bef59326251d24bb$var$uriToFsPath(this,!1)),this._fsPath}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?$bef59326251d24bb$var$_asFormatted(this,!0):(this._formatted||(this._formatted=$bef59326251d24bb$var$_asFormatted(this,!1)),this._formatted)}},{key:"toJSON",value:function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=$bef59326251d24bb$var$_pathSepMarker),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}]),r}($bef59326251d24bb$var$URI),$bef59326251d24bb$var$_obj,$bef59326251d24bb$var$encodeTable=($bef59326251d24bb$var$_obj={},(0,$8WkQI.default)($bef59326251d24bb$var$_obj,58,"%3A"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,47,"%2F"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,63,"%3F"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,35,"%23"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,91,"%5B"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,93,"%5D"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,64,"%40"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,33,"%21"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,36,"%24"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,38,"%26"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,39,"%27"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,40,"%28"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,41,"%29"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,42,"%2A"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,43,"%2B"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,44,"%2C"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,59,"%3B"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,61,"%3D"),(0,$8WkQI.default)($bef59326251d24bb$var$_obj,32,"%20"),$bef59326251d24bb$var$_obj);function $bef59326251d24bb$var$encodeURIComponentFast(e,t){for(var r=void 0,n=-1,i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||45===a||46===a||95===a||126===a||t&&47===a)-1!==n&&(r+=encodeURIComponent(e.substring(n,i)),n=-1),void 0!==r&&(r+=e.charAt(i));else{void 0===r&&(r=e.substr(0,i));var o=$bef59326251d24bb$var$encodeTable[a];void 0!==o?(-1!==n&&(r+=encodeURIComponent(e.substring(n,i)),n=-1),r+=o):-1===n&&(n=i)}}return-1!==n&&(r+=encodeURIComponent(e.substring(n))),void 0!==r?r:e}function $bef59326251d24bb$var$encodeURIComponentMinimal(e){for(var t=void 0,r=0;r<e.length;r++){var n=e.charCodeAt(r);35===n||63===n?(void 0===t&&(t=e.substr(0,r)),t+=$bef59326251d24bb$var$encodeTable[n]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function $bef59326251d24bb$var$uriToFsPath(e,t){var r;return r=e.authority&&e.path.length>1&&"file"===e.scheme?"//".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,$bef59326251d24bb$var$isWindows&&(r=r.replace(/\//g,"\\")),r}function $bef59326251d24bb$var$_asFormatted(e,t){var r=t?$bef59326251d24bb$var$encodeURIComponentMinimal:$bef59326251d24bb$var$encodeURIComponentFast,n="",i=e.scheme,a=e.authority,o=e.path,s=e.query,u=e.fragment;if(i&&(n+=i,n+=":"),(a||"file"===i)&&(n+=$bef59326251d24bb$var$_slash,n+=$bef59326251d24bb$var$_slash),a){var c=a.indexOf("@");if(-1!==c){var l=a.substr(0,c);a=a.substr(c+1),-1===(c=l.indexOf(":"))?n+=r(l,!1):(n+=r(l.substr(0,c),!1),n+=":",n+=r(l.substr(c+1),!1)),n+="@"}-1===(c=(a=a.toLowerCase()).indexOf(":"))?n+=r(a,!1):(n+=r(a.substr(0,c),!1),n+=a.substr(c))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2)){var f=o.charCodeAt(1);f>=65&&f<=90&&(o="/".concat(String.fromCharCode(f+32),":").concat(o.substr(3)))}else if(o.length>=2&&58===o.charCodeAt(1)){var d=o.charCodeAt(0);d>=65&&d<=90&&(o="".concat(String.fromCharCode(d+32),":").concat(o.substr(2)))}n+=r(o,!0)}return s&&(n+="?",n+=r(s,!1)),u&&(n+="#",n+=t?u:$bef59326251d24bb$var$encodeURIComponentFast(u,!1)),n}function $bef59326251d24bb$var$decodeURIComponentGraceful(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+$bef59326251d24bb$var$decodeURIComponentGraceful(e.substr(3)):e}}var $bef59326251d24bb$var$_rEncodedAsHex=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function $bef59326251d24bb$var$percentDecode(e){return e.match($bef59326251d24bb$var$_rEncodedAsHex)?e.replace($bef59326251d24bb$var$_rEncodedAsHex,(function(e){return $bef59326251d24bb$var$decodeURIComponentGraceful(e)})):e}var $bef59326251d24bb$export$6f63889f465ec8ee={__proto__:null,URI:$bef59326251d24bb$var$URI,uriToFsPath:$bef59326251d24bb$var$uriToFsPath},$bef59326251d24bb$var$Schemas,Schemas;Schemas=$bef59326251d24bb$var$Schemas||($bef59326251d24bb$var$Schemas={}),Schemas.inMemory="inmemory",Schemas.vscode="vscode",Schemas.internal="private",Schemas.walkThrough="walkThrough",Schemas.walkThroughSnippet="walkThroughSnippet",Schemas.http="http",Schemas.https="https",Schemas.file="file",Schemas.mailto="mailto",Schemas.untitled="untitled",Schemas.data="data",Schemas.command="command",Schemas.vscodeRemote="vscode-remote",Schemas.vscodeRemoteResource="vscode-remote-resource",Schemas.userData="vscode-userdata",Schemas.vscodeCustomEditor="vscode-custom-editor",Schemas.vscodeNotebook="vscode-notebook",Schemas.vscodeNotebookCell="vscode-notebook-cell",Schemas.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",Schemas.vscodeNotebookCellOutput="vscode-notebook-cell-output",Schemas.vscodeInteractive="vscode-interactive",Schemas.vscodeInteractiveInput="vscode-interactive-input",Schemas.vscodeSettings="vscode-settings",Schemas.vscodeWorkspaceTrust="vscode-workspace-trust",Schemas.vscodeTerminal="vscode-terminal",Schemas.webviewPanel="webview-panel",Schemas.vscodeWebview="vscode-webview",Schemas.extension="extension",Schemas.vscodeFileResource="vscode-file",Schemas.tmp="tmp";var $bef59326251d24bb$var$RemoteAuthoritiesImpl=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}return(0,$9HoHC.default)(e,[{key:"setPreferredWebSchema",value:function(e){this._preferredWebSchema=e}},{key:"setDelegate",value:function(e){this._delegate=e}},{key:"set",value:function(e,t,r){this._hosts[e]=t,this._ports[e]=r}},{key:"setConnectionToken",value:function(e,t){this._connectionTokens[e]=t}},{key:"rewrite",value:function(e){if(this._delegate)return this._delegate(e);var t=e.authority,r=this._hosts[t];r&&-1!==r.indexOf(":")&&(r="[".concat(r,"]"));var n=this._ports[t],i=this._connectionTokens[t],a="path=".concat(encodeURIComponent(e.path));return"string"==typeof i&&(a+="&tkn=".concat(encodeURIComponent(i))),$bef59326251d24bb$var$URI.from({scheme:$bef59326251d24bb$var$isWeb?this._preferredWebSchema:$bef59326251d24bb$var$Schemas.vscodeRemoteResource,authority:"".concat(r,":").concat(n),path:"/vscode-remote-resource",query:a})}}]),e}(),$bef59326251d24bb$var$RemoteAuthorities=new $bef59326251d24bb$var$RemoteAuthoritiesImpl,$bef59326251d24bb$var$FileAccessImpl=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.FALLBACK_AUTHORITY="vscode-app"}return(0,$9HoHC.default)(e,[{key:"asBrowserUri",value:function(e,t,r){var n=this.toUri(e,t);if(n.scheme===$bef59326251d24bb$var$Schemas.vscodeRemote)return $bef59326251d24bb$var$RemoteAuthorities.rewrite(n);var i=!1;return $bef59326251d24bb$var$isNative&&(r||$bef59326251d24bb$var$isPreferringBrowserCodeLoad)&&n.scheme===$bef59326251d24bb$var$Schemas.file&&(i=!0),n.scheme===$bef59326251d24bb$var$Schemas.file&&"function"==typeof $bef59326251d24bb$var$globals.importScripts&&"vscode-file://vscode-app"===$bef59326251d24bb$var$globals.origin&&(i=!0),i?n.with({scheme:$bef59326251d24bb$var$Schemas.vscodeFileResource,authority:n.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):n}},{key:"asFileUri",value:function(e,t){var r=this.toUri(e,t);return r.scheme===$bef59326251d24bb$var$Schemas.vscodeFileResource?r.with({scheme:$bef59326251d24bb$var$Schemas.file,authority:r.authority!==this.FALLBACK_AUTHORITY?r.authority:null,query:null,fragment:null}):r}},{key:"toUri",value:function(e,t){return $bef59326251d24bb$var$URI.isUri(e)?e:$bef59326251d24bb$var$URI.parse(t.toUrl(e))}}]),e}(),$bef59326251d24bb$var$FileAccess=new $bef59326251d24bb$var$FileAccessImpl,$bef59326251d24bb$export$21fcfd9d5c6ebbd4={__proto__:null,get Schemas(){return $bef59326251d24bb$var$Schemas},RemoteAuthorities:$bef59326251d24bb$var$RemoteAuthorities,FileAccess:$bef59326251d24bb$var$FileAccess};function $bef59326251d24bb$var$originalFSPath(e){return $bef59326251d24bb$var$uriToFsPath(e,!0)}var $bef59326251d24bb$var$ExtUri=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._ignorePathCasing=t}return(0,$9HoHC.default)(e,[{key:"compare",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t?0:$bef59326251d24bb$var$compare(this.getComparisonKey(e,r),this.getComparisonKey(t,r))}},{key:"isEqual",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||!(!e||!t)&&this.getComparisonKey(e,r)===this.getComparisonKey(t,r)}},{key:"getComparisonKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}},{key:"ignorePathCasing",value:function(e){return this._ignorePathCasing(e)}},{key:"isEqualOrParent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.scheme===t.scheme){if(e.scheme===$bef59326251d24bb$var$Schemas.file)return $bef59326251d24bb$var$isEqualOrParent$1($bef59326251d24bb$var$originalFSPath(e),$bef59326251d24bb$var$originalFSPath(t),this._ignorePathCasing(e))&&e.query===t.query&&(r||e.fragment===t.fragment);if($bef59326251d24bb$var$isEqualAuthority(e.authority,t.authority))return $bef59326251d24bb$var$isEqualOrParent$1(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(r||e.fragment===t.fragment)}return!1}},{key:"joinPath",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;return(i=$bef59326251d24bb$var$URI).joinPath.apply(i,[e].concat((0,$caN7I.default)(r)))}},{key:"basenameOrAuthority",value:function(e){return $bef59326251d24bb$var$basename(e)||e.authority}},{key:"basename",value:function(e){return $bef59326251d24bb$var$posix.basename(e.path)}},{key:"extname",value:function(e){return $bef59326251d24bb$var$posix.extname(e.path)}},{key:"dirname",value:function(e){return 0===e.path.length?e:(e.scheme===$bef59326251d24bb$var$Schemas.file?t=$bef59326251d24bb$var$URI.file($bef59326251d24bb$var$dirname$1($bef59326251d24bb$var$originalFSPath(e))).path:(t=$bef59326251d24bb$var$posix.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error('dirname("'.concat(e.toString,")) resulted in a relative path")),t="/")),e.with({path:t}));var t}},{key:"normalizePath",value:function(e){return e.path.length?(t=e.scheme===$bef59326251d24bb$var$Schemas.file?$bef59326251d24bb$var$URI.file($bef59326251d24bb$var$normalize$1($bef59326251d24bb$var$originalFSPath(e))).path:$bef59326251d24bb$var$posix.normalize(e.path),e.with({path:t})):e;var t}},{key:"relativePath",value:function(e,t){if(e.scheme===t.scheme&&$bef59326251d24bb$var$isEqualAuthority(e.authority,t.authority)){if(e.scheme===$bef59326251d24bb$var$Schemas.file){var r=$bef59326251d24bb$var$relative($bef59326251d24bb$var$originalFSPath(e),$bef59326251d24bb$var$originalFSPath(t));return $bef59326251d24bb$var$isWindows?$bef59326251d24bb$var$toSlashes(r):r}var n=e.path||"/",i=t.path||"/";if(this._ignorePathCasing(e)){for(var a=0,o=Math.min(n.length,i.length);a<o&&(n.charCodeAt(a)===i.charCodeAt(a)||n.charAt(a).toLowerCase()===i.charAt(a).toLowerCase());a++);n=i.substr(0,a)+n.substr(a)}return $bef59326251d24bb$var$posix.relative(n,i)}}},{key:"resolvePath",value:function(e,t){if(e.scheme===$bef59326251d24bb$var$Schemas.file){var r=$bef59326251d24bb$var$URI.file($bef59326251d24bb$var$resolve($bef59326251d24bb$var$originalFSPath(e),t));return e.with({authority:r.authority,path:r.path})}return t=$bef59326251d24bb$var$toPosixPath(t),e.with({path:$bef59326251d24bb$var$posix.resolve(e.path,t)})}},{key:"isAbsolutePath",value:function(e){return!!e.path&&"/"===e.path[0]}},{key:"isEqualAuthority",value:function(e,t){return e===t||$bef59326251d24bb$var$equalsIgnoreCase(e,t)}},{key:"hasTrailingPathSeparator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$sep;if(e.scheme===$bef59326251d24bb$var$Schemas.file){var r=$bef59326251d24bb$var$originalFSPath(e);return r.length>$bef59326251d24bb$var$getRoot(r).length&&r[r.length-1]===t}var n=e.path;return n.length>1&&47===n.charCodeAt(n.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}},{key:"removeTrailingPathSeparator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$sep;return $bef59326251d24bb$var$hasTrailingPathSeparator(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}},{key:"addTrailingPathSeparator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$sep,r=!1;if(e.scheme===$bef59326251d24bb$var$Schemas.file){var n=$bef59326251d24bb$var$originalFSPath(e);r=void 0!==n&&n.length===$bef59326251d24bb$var$getRoot(n).length&&n[n.length-1]===t}else{t="/";var i=e.path;r=1===i.length&&47===i.charCodeAt(i.length-1)}return r||$bef59326251d24bb$var$hasTrailingPathSeparator(e,t)?e:e.with({path:e.path+"/"})}}]),e}(),$bef59326251d24bb$var$extUri=new $bef59326251d24bb$var$ExtUri((function(){return!1})),$bef59326251d24bb$var$extUriBiasedIgnorePathCase=new $bef59326251d24bb$var$ExtUri((function(e){return e.scheme!==$bef59326251d24bb$var$Schemas.file||!$bef59326251d24bb$var$isLinux})),$bef59326251d24bb$var$extUriIgnorePathCase=new $bef59326251d24bb$var$ExtUri((function(e){return!0})),$bef59326251d24bb$var$isEqual=$bef59326251d24bb$var$extUri.isEqual.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$isEqualOrParent=$bef59326251d24bb$var$extUri.isEqualOrParent.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$getComparisonKey=$bef59326251d24bb$var$extUri.getComparisonKey.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$basenameOrAuthority=$bef59326251d24bb$var$extUri.basenameOrAuthority.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$basename=$bef59326251d24bb$var$extUri.basename.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$extname=$bef59326251d24bb$var$extUri.extname.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$dirname=$bef59326251d24bb$var$extUri.dirname.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$joinPath=$bef59326251d24bb$var$extUri.joinPath.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$normalizePath=$bef59326251d24bb$var$extUri.normalizePath.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$relativePath=$bef59326251d24bb$var$extUri.relativePath.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$resolvePath=$bef59326251d24bb$var$extUri.resolvePath.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$isAbsolutePath=$bef59326251d24bb$var$extUri.isAbsolutePath.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$isEqualAuthority=$bef59326251d24bb$var$extUri.isEqualAuthority.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$hasTrailingPathSeparator=$bef59326251d24bb$var$extUri.hasTrailingPathSeparator.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$removeTrailingPathSeparator=$bef59326251d24bb$var$extUri.removeTrailingPathSeparator.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$addTrailingPathSeparator=$bef59326251d24bb$var$extUri.addTrailingPathSeparator.bind($bef59326251d24bb$var$extUri),$bef59326251d24bb$var$DataUri,DataUri;function $bef59326251d24bb$var$distinctParents(e,t){for(var r=function(r){var i=t(e[r]);if(e.some((function(e,n){return n!==r&&$bef59326251d24bb$var$isEqualOrParent(i,t(e))})))return"continue";n.push(e[r])},n=[],i=0;i<e.length;i++)r(i);return n}function $bef59326251d24bb$var$toLocalResource(e,t,r){if(t){var n=e.path;return n&&n[0]!==$bef59326251d24bb$var$posix.sep&&(n=$bef59326251d24bb$var$posix.sep+n),e.with({scheme:r,authority:t,path:n})}return e.with({scheme:r})}DataUri=$bef59326251d24bb$var$DataUri||($bef59326251d24bb$var$DataUri={}),DataUri.META_DATA_LABEL="label",DataUri.META_DATA_DESCRIPTION="description",DataUri.META_DATA_SIZE="size",DataUri.META_DATA_MIME="mime",DataUri.parseMetaData=function(e){var t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((function(e){var r=(0,$dVhHy.default)(e.split(":"),2),n=r[0],i=r[1];n&&i&&t.set(n,i)}));var r=e.path.substring(0,e.path.indexOf(";"));return r&&t.set(DataUri.META_DATA_MIME,r),t};var $bef59326251d24bb$export$bc99aaabaf7b70a7={__proto__:null,originalFSPath:$bef59326251d24bb$var$originalFSPath,ExtUri:$bef59326251d24bb$var$ExtUri,extUri:$bef59326251d24bb$var$extUri,extUriBiasedIgnorePathCase:$bef59326251d24bb$var$extUriBiasedIgnorePathCase,extUriIgnorePathCase:$bef59326251d24bb$var$extUriIgnorePathCase,isEqual:$bef59326251d24bb$var$isEqual,isEqualOrParent:$bef59326251d24bb$var$isEqualOrParent,getComparisonKey:$bef59326251d24bb$var$getComparisonKey,basenameOrAuthority:$bef59326251d24bb$var$basenameOrAuthority,basename:$bef59326251d24bb$var$basename,extname:$bef59326251d24bb$var$extname,dirname:$bef59326251d24bb$var$dirname,joinPath:$bef59326251d24bb$var$joinPath,normalizePath:$bef59326251d24bb$var$normalizePath,relativePath:$bef59326251d24bb$var$relativePath,resolvePath:$bef59326251d24bb$var$resolvePath,isAbsolutePath:$bef59326251d24bb$var$isAbsolutePath,isEqualAuthority:$bef59326251d24bb$var$isEqualAuthority,hasTrailingPathSeparator:$bef59326251d24bb$var$hasTrailingPathSeparator,removeTrailingPathSeparator:$bef59326251d24bb$var$removeTrailingPathSeparator,addTrailingPathSeparator:$bef59326251d24bb$var$addTrailingPathSeparator,distinctParents:$bef59326251d24bb$var$distinctParents,get DataUri(){return $bef59326251d24bb$var$DataUri},toLocalResource:$bef59326251d24bb$var$toLocalResource};function $bef59326251d24bb$var$isThenable(e){return!!e&&"function"==typeof e.then}function $bef59326251d24bb$var$createCancelablePromise(e){var t=new $bef59326251d24bb$var$CancellationTokenSource,r=e(t.token),n=new Promise((function(e,n){var i=t.token.onCancellationRequested((function(){i.dispose(),t.dispose(),n($bef59326251d24bb$var$canceled())}));Promise.resolve(r).then((function(r){i.dispose(),t.dispose(),e(r)}),(function(e){i.dispose(),t.dispose(),n(e)}))}));return new(function(){"use strict";function e(){(0,$4JAgF.default)(this,e)}return(0,$9HoHC.default)(e,[{key:"cancel",value:function(){t.cancel()}},{key:"then",value:function(e,t){return n.then(e,t)}},{key:"catch",value:function(e){return this.then(void 0,e)}},{key:"finally",value:function(e){return n.finally(e)}}]),e}())}function $bef59326251d24bb$var$raceCancellation(e,t,r){return Promise.race([e,new Promise((function(e){return t.onCancellationRequested((function(){return e(r)}))}))])}function $bef59326251d24bb$var$raceCancellablePromises(e){return $bef59326251d24bb$var$_raceCancellablePromises.apply(this,arguments)}function $bef59326251d24bb$var$_raceCancellablePromises(){return($bef59326251d24bb$var$_raceCancellablePromises=(0,$3mpD3.default)((function(e){var t,r,n;return(0,$cDTRq.__generator)(this,(function(i){switch(i.label){case 0:return t=-1,r=e.map((function(e,r){return e.then((function(e){return t=r,e}))})),[4,Promise.race(r)];case 1:return n=i.sent(),e.forEach((function(e,r){r!==t&&e.cancel()})),[2,n]}}))}))).apply(this,arguments)}function $bef59326251d24bb$var$raceTimeout(e,t,r){var n=void 0,i=setTimeout((function(){null==n||n(void 0),null==r||r()}),t);return Promise.race([e.finally((function(){return clearTimeout(i)})),new Promise((function(e){return n=e}))])}function $bef59326251d24bb$var$asPromise(e){return new Promise((function(t,r){var n=e();$bef59326251d24bb$var$isThenable(n)?n.then(t,r):t(n)}))}var $bef59326251d24bb$var$Throttler=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return(0,$9HoHC.default)(e,[{key:"queue",value:function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var r=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((function(e){t.activePromise.then(r,r).then(e)}))}return new Promise((function(e,r){t.queuedPromise.then(e,r)}))}return this.activePromise=e(),new Promise((function(e,r){t.activePromise.then((function(r){t.activePromise=null,e(r)}),(function(e){t.activePromise=null,r(e)}))}))}}]),e}(),$bef59326251d24bb$var$Sequencer=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.current=Promise.resolve(null)}return(0,$9HoHC.default)(e,[{key:"queue",value:function(e){return this.current=this.current.then((function(){return e()}),(function(){return e()}))}}]),e}(),$bef59326251d24bb$var$SequencerByKey=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.promiseMap=new Map}return(0,$9HoHC.default)(e,[{key:"queue",value:function(e,t){var r,n=this,i=(null!=(r=this.promiseMap.get(e))?r:Promise.resolve()).catch((function(){})).then(t).finally((function(){n.promiseMap.get(e)===i&&n.promiseMap.delete(e)}));return this.promiseMap.set(e,i),i}}]),e}(),$bef59326251d24bb$var$Delayer=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.defaultDelay=t,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}return(0,$9HoHC.default)(e,[{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultDelay,r=this;return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((function(e,t){r.doResolve=e,r.doReject=t})).then((function(){if(r.completionPromise=null,r.doResolve=null,r.task){var e=r.task;return r.task=null,e()}}))),this.timeout=setTimeout((function(){r.timeout=null,r.doResolve&&r.doResolve(null)}),t),this.completionPromise}},{key:"isTriggered",value:function(){return null!==this.timeout}},{key:"cancel",value:function(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject($bef59326251d24bb$var$canceled()),this.completionPromise=null)}},{key:"cancelTimeout",value:function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}},{key:"dispose",value:function(){this.cancel()}}]),e}(),$bef59326251d24bb$var$ThrottledDelayer=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.delayer=new $bef59326251d24bb$var$Delayer(t),this.throttler=new $bef59326251d24bb$var$Throttler}return(0,$9HoHC.default)(e,[{key:"trigger",value:function(e,t){var r=this;return this.delayer.trigger((function(){return r.throttler.queue(e)}),t)}},{key:"isTriggered",value:function(){return this.delayer.isTriggered()}},{key:"cancel",value:function(){this.delayer.cancel()}},{key:"dispose",value:function(){this.delayer.dispose()}}]),e}(),$bef59326251d24bb$var$Barrier=function(){"use strict";function e(){var t=this;(0,$4JAgF.default)(this,e),this._isOpen=!1,this._promise=new Promise((function(e,r){t._completePromise=e}))}return(0,$9HoHC.default)(e,[{key:"isOpen",value:function(){return this._isOpen}},{key:"open",value:function(){this._isOpen=!0,this._completePromise(!0)}},{key:"wait",value:function(){return this._promise}}]),e}(),$bef59326251d24bb$var$AutoOpenBarrier=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this))._timeout=setTimeout((function(){return n.open()}),e),n}return(0,$9HoHC.default)(r,[{key:"open",value:function(){clearTimeout(this._timeout),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"open",this).call(this)}}]),r}($bef59326251d24bb$var$Barrier);function $bef59326251d24bb$var$timeout(e,t){return t?new Promise((function(r,n){var i=setTimeout((function(){a.dispose(),r()}),e),a=t.onCancellationRequested((function(){clearTimeout(i),a.dispose(),n($bef59326251d24bb$var$canceled())}))})):$bef59326251d24bb$var$createCancelablePromise((function(t){return $bef59326251d24bb$var$timeout(e,t)}))}function $bef59326251d24bb$var$disposableTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=setTimeout(e,t);return $bef59326251d24bb$var$toDisposable((function(){return clearTimeout(r)}))}function $bef59326251d24bb$var$sequence$1(e){var t=[],r=0,n=e.length;return Promise.resolve(null).then((function i(a){null!=a&&t.push(a);var o=r<n?e[r++]():null;return o?o.then(i):Promise.resolve(t)}))}function $bef59326251d24bb$var$first(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!!e},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0,i=e.length,a=function(){if(n>=i)return Promise.resolve(r);var o=e[n++];return Promise.resolve(o()).then((function(e){return t(e)?Promise.resolve(e):a()}))};return a()}function $bef59326251d24bb$var$firstParallel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!!e},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.length)return Promise.resolve(r);var n=e.length,i=function(){n=-1;var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;null==s.cancel||s.cancel()}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}};return new Promise((function(a,o){var s=!0,u=!1,c=void 0;try{for(var l,f=e[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){l.value.then((function(e){--n>=0&&t(e)?(i(),a(e)):0===n&&a(r)})).catch((function(e){--n>=0&&(i(),o(e))}))}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}}))}var $bef59326251d24bb$var$Limiter=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._size=0,this.maxDegreeOfParalellism=t,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new $bef59326251d24bb$var$Emitter}return(0,$9HoHC.default)(e,[{key:"onFinished",get:function(){return this._onFinished.event}},{key:"size",get:function(){return this._size}},{key:"queue",value:function(e){var t=this;return this._size++,new Promise((function(r,n){t.outstandingPromises.push({factory:e,c:r,e:n}),t.consume()}))}},{key:"consume",value:function(){for(var e=this;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){var t=this.outstandingPromises.shift();this.runningPromises++;var r=t.factory();r.then(t.c,t.e),r.then((function(){return e.consumed()}),(function(){return e.consumed()}))}}},{key:"consumed",value:function(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}},{key:"dispose",value:function(){this._onFinished.dispose()}}]),e}(),$bef59326251d24bb$var$Queue=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){return(0,$4JAgF.default)(this,r),t.call(this,1)}return r}($bef59326251d24bb$var$Limiter),$bef59326251d24bb$var$ResourceQueue=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.queues=new Map}return(0,$9HoHC.default)(e,[{key:"queueFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$extUri,r=this,n=t.getComparisonKey(e),i=this.queues.get(n);return i||(i=new $bef59326251d24bb$var$Queue,$bef59326251d24bb$var$Event.once(i.onFinished)((function(){var e;null==(e=i)||e.dispose(),r.queues.delete(n)})),this.queues.set(n,i)),i}},{key:"dispose",value:function(){this.queues.forEach((function(e){return e.dispose()})),this.queues.clear()}}]),e}(),$bef59326251d24bb$var$TimeoutTimer=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this._token=-1,"function"==typeof t&&"number"==typeof r&&this.setIfNotSet(t,r)}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){this.cancel()}},{key:"cancel",value:function(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}},{key:"cancelAndSet",value:function(e,t){var r=this;this.cancel(),this._token=setTimeout((function(){r._token=-1,e()}),t)}},{key:"setIfNotSet",value:function(e,t){var r=this;-1===this._token&&(this._token=setTimeout((function(){r._token=-1,e()}),t))}}]),e}(),$bef59326251d24bb$var$IntervalTimer=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._token=-1}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){this.cancel()}},{key:"cancel",value:function(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}},{key:"cancelAndSet",value:function(e,t){this.cancel(),this._token=setInterval((function(){e()}),t)}}]),e}(),$bef59326251d24bb$var$RunOnceScheduler=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this.timeoutToken=-1,this.runner=t,this.timeout=r,this.timeoutHandler=this.onTimeout.bind(this)}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){this.cancel(),this.runner=null}},{key:"cancel",value:function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}},{key:"schedule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}},{key:"delay",get:function(){return this.timeout},set:function(e){this.timeout=e}},{key:"isScheduled",value:function(){return-1!==this.timeoutToken}},{key:"onTimeout",value:function(){this.timeoutToken=-1,this.runner&&this.doRun()}},{key:"doRun",value:function(){this.runner&&this.runner()}}]),e}(),$bef59326251d24bb$var$RunOnceWorker=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this,e,n)).units=[],i}return(0,$9HoHC.default)(r,[{key:"work",value:function(e){this.units.push(e),this.isScheduled()||this.schedule()}},{key:"doRun",value:function(){var e=this.units;this.units=[],this.runner&&this.runner(e)}},{key:"dispose",value:function(){this.units=[],(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"dispose",this).call(this)}}]),r}($bef59326251d24bb$var$RunOnceScheduler),$bef59326251d24bb$var$ThrottledWorker=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i,a){var o;return(0,$4JAgF.default)(this,r),(o=t.call(this)).maxWorkChunkSize=e,o.maxPendingWork=n,o.throttleDelay=i,o.handler=a,o.pendingWork=[],o.throttler=o._register(new $bef59326251d24bb$var$MutableDisposable),o.disposed=!1,o}return(0,$9HoHC.default)(r,[{key:"pending",get:function(){return this.pendingWork.length}},{key:"work",value:function(e){var t;if(this.disposed)return!1;if("number"==typeof this.maxPendingWork)if(this.throttler.value){if(this.pending+e.length>this.maxPendingWork)return!1}else if(this.pending+e.length-this.maxWorkChunkSize>this.maxPendingWork)return!1;return(t=this.pendingWork).push.apply(t,(0,$caN7I.default)(e)),this.throttler.value||this.doWork(),!0}},{key:"doWork",value:function(){var e=this;this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new $bef59326251d24bb$var$RunOnceScheduler((function(){e.throttler.clear(),e.doWork()}),this.throttleDelay),this.throttler.value.schedule())}},{key:"dispose",value:function(){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"dispose",this).call(this),this.disposed=!0}}]),r}($bef59326251d24bb$var$Disposable),$bef59326251d24bb$var$runWhenIdle;!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var e=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});$bef59326251d24bb$var$runWhenIdle=function(t){var r=setTimeout((function(){return t(e)})),n=!1;return{dispose:function(){n||(n=!0,clearTimeout(r))}}}}else $bef59326251d24bb$var$runWhenIdle=function(e,t){var r=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0),n=!1;return{dispose:function(){n||(n=!0,cancelIdleCallback(r))}}}}();var $bef59326251d24bb$var$IdleValue=function(){"use strict";function e(t){var r=this;(0,$4JAgF.default)(this,e),this._didRun=!1,this._executor=function(){try{r._value=t()}catch(e){r._error=e}finally{r._didRun=!0}},this._handle=$bef59326251d24bb$var$runWhenIdle((function(){return r._executor()}))}return(0,$9HoHC.default)(e,[{key:"dispose",value:function(){this._handle.dispose()}},{key:"value",get:function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}]),e}();function $bef59326251d24bb$var$retry(e,t,r){return $bef59326251d24bb$var$_retry.apply(this,arguments)}function $bef59326251d24bb$var$_retry(){return($bef59326251d24bb$var$_retry=(0,$3mpD3.default)((function(e,t,r){var n,i,a;return(0,$cDTRq.__generator)(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:if(!(i<r))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,e()];case 3:return[2,o.sent()];case 4:return a=o.sent(),n=a,[4,$bef59326251d24bb$var$timeout(t)];case 5:return o.sent(),[3,6];case 6:return i++,[3,1];case 7:throw n}}))}))).apply(this,arguments)}var $bef59326251d24bb$var$TaskSequentializer=function(){"use strict";function e(){(0,$4JAgF.default)(this,e)}return(0,$9HoHC.default)(e,[{key:"hasPending",value:function(e){return!!this._pending&&("number"==typeof e?this._pending.taskId===e:!!this._pending)}},{key:"pending",get:function(){return this._pending?this._pending.promise:void 0}},{key:"cancelPending",value:function(){var e;null==(e=this._pending)||e.cancel()}},{key:"setPending",value:function(e,t,r){var n=this;return this._pending={taskId:e,cancel:function(){return null==r?void 0:r()},promise:t},t.then((function(){return n.donePending(e)}),(function(){return n.donePending(e)})),t}},{key:"donePending",value:function(e){this._pending&&e===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}},{key:"triggerNext",value:function(){if(this._next){var e=this._next;this._next=void 0,e.run().then(e.promiseResolve,e.promiseReject)}}},{key:"setNext",value:function(e){if(this._next)this._next.run=e;else{var t,r,n=new Promise((function(e,n){t=e,r=n}));this._next={run:e,promise:n,promiseResolve:t,promiseReject:r}}return this._next.promise}}]),e}(),$bef59326251d24bb$var$IntervalCounter=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.interval=t,this.lastIncrementTime=0,this.value=0}return(0,$9HoHC.default)(e,[{key:"increment",value:function(){var e=Date.now();return e-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=e,this.value=0),this.value++,this.value}}]),e}(),$bef59326251d24bb$var$DeferredPromise=function(){"use strict";function e(){var t=this;(0,$4JAgF.default)(this,e),this.rejected=!1,this.resolved=!1,this.p=new Promise((function(e,r){t.completeCallback=e,t.errorCallback=r}))}return(0,$9HoHC.default)(e,[{key:"isRejected",get:function(){return this.rejected}},{key:"isResolved",get:function(){return this.resolved}},{key:"isSettled",get:function(){return this.rejected||this.resolved}},{key:"complete",value:function(e){var t=this;return new Promise((function(r){t.completeCallback(e),t.resolved=!0,r()}))}},{key:"error",value:function(e){var t=this;return new Promise((function(r){t.errorCallback(e),t.rejected=!0,r()}))}},{key:"cancel",value:function(){var e=this;new Promise((function(t){e.errorCallback($bef59326251d24bb$var$canceled()),e.rejected=!0,t()}))}}]),e}(),$bef59326251d24bb$var$Promises;!function(e){function t(){return(t=(0,$3mpD3.default)((function(e){var t,r;return(0,$cDTRq.__generator)(this,(function(n){switch(n.label){case 0:return t=void 0,[4,Promise.all(e.map((function(e){return e.then((function(e){return e}),(function(e){t||(t=e)}))})))];case 1:if(r=n.sent(),void 0!==t)throw t;return[2,r]}}))}))).apply(this,arguments)}e.settled=function(e){return t.apply(this,arguments)}}($bef59326251d24bb$var$Promises||($bef59326251d24bb$var$Promises={}));var $bef59326251d24bb$export$12af436354f1a4f7={__proto__:null,isThenable:$bef59326251d24bb$var$isThenable,createCancelablePromise:$bef59326251d24bb$var$createCancelablePromise,raceCancellation:$bef59326251d24bb$var$raceCancellation,raceCancellablePromises:$bef59326251d24bb$var$raceCancellablePromises,raceTimeout:$bef59326251d24bb$var$raceTimeout,asPromise:$bef59326251d24bb$var$asPromise,Throttler:$bef59326251d24bb$var$Throttler,Sequencer:$bef59326251d24bb$var$Sequencer,SequencerByKey:$bef59326251d24bb$var$SequencerByKey,Delayer:$bef59326251d24bb$var$Delayer,ThrottledDelayer:$bef59326251d24bb$var$ThrottledDelayer,Barrier:$bef59326251d24bb$var$Barrier,AutoOpenBarrier:$bef59326251d24bb$var$AutoOpenBarrier,timeout:$bef59326251d24bb$var$timeout,disposableTimeout:$bef59326251d24bb$var$disposableTimeout,sequence:$bef59326251d24bb$var$sequence$1,first:$bef59326251d24bb$var$first,firstParallel:$bef59326251d24bb$var$firstParallel,Limiter:$bef59326251d24bb$var$Limiter,Queue:$bef59326251d24bb$var$Queue,ResourceQueue:$bef59326251d24bb$var$ResourceQueue,TimeoutTimer:$bef59326251d24bb$var$TimeoutTimer,IntervalTimer:$bef59326251d24bb$var$IntervalTimer,RunOnceScheduler:$bef59326251d24bb$var$RunOnceScheduler,RunOnceWorker:$bef59326251d24bb$var$RunOnceWorker,ThrottledWorker:$bef59326251d24bb$var$ThrottledWorker,get runWhenIdle(){return $bef59326251d24bb$var$runWhenIdle},IdleValue:$bef59326251d24bb$var$IdleValue,retry:$bef59326251d24bb$var$retry,TaskSequentializer:$bef59326251d24bb$var$TaskSequentializer,IntervalCounter:$bef59326251d24bb$var$IntervalCounter,DeferredPromise:$bef59326251d24bb$var$DeferredPromise,get Promises(){return $bef59326251d24bb$var$Promises}};function $bef59326251d24bb$var$isReadableStream(e){var t=e;return!!t&&[t.on,t.pause,t.resume,t.destroy].every((function(e){return"function"==typeof e}))}function $bef59326251d24bb$var$isReadableBufferedStream(e){var t=e;return!!t&&($bef59326251d24bb$var$isReadableStream(t.stream)&&Array.isArray(t.buffer)&&"boolean"==typeof t.ended)}function $bef59326251d24bb$var$newWriteableStream(e,t){return new $bef59326251d24bb$var$WriteableStreamImpl(e,t)}var $bef59326251d24bb$var$WriteableStreamImpl=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this.reducer=t,this.options=r,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}return(0,$9HoHC.default)(e,[{key:"pause",value:function(){this.state.destroyed||(this.state.flowing=!1)}},{key:"resume",value:function(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}},{key:"write",value:function(e){var t,r=this;if(!this.state.destroyed)if(this.state.flowing)this.emitData(e);else if(this.buffer.data.push(e),"number"==typeof(null==(t=this.options)?void 0:t.highWaterMark)&&this.buffer.data.length>this.options.highWaterMark)return new Promise((function(e){return r.pendingWritePromises.push(e)}))}},{key:"error",value:function(e){this.state.destroyed||(this.state.flowing?this.emitError(e):this.buffer.error.push(e))}},{key:"end",value:function(e){this.state.destroyed||(void 0!==e&&this.write(e),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}},{key:"emitData",value:function(e){this.listeners.data.slice(0).forEach((function(t){return t(e)}))}},{key:"emitError",value:function(e){0===this.listeners.error.length?$bef59326251d24bb$var$onUnexpectedError(e):this.listeners.error.slice(0).forEach((function(t){return t(e)}))}},{key:"emitEnd",value:function(){this.listeners.end.slice(0).forEach((function(e){return e()}))}},{key:"on",value:function(e,t){if(!this.state.destroyed)switch(e){case"data":this.listeners.data.push(t),this.resume();break;case"end":this.listeners.end.push(t),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(t),this.state.flowing&&this.flowErrors()}}},{key:"removeListener",value:function(e,t){if(!this.state.destroyed){var r=void 0;switch(e){case"data":r=this.listeners.data;break;case"end":r=this.listeners.end;break;case"error":r=this.listeners.error}if(r){var n=r.indexOf(t);n>=0&&r.splice(n,1)}}}},{key:"flowData",value:function(){if(this.buffer.data.length>0){var e=this.reducer(this.buffer.data);this.emitData(e),this.buffer.data.length=0;var t=(0,$caN7I.default)(this.pendingWritePromises);this.pendingWritePromises.length=0,t.forEach((function(e){return e()}))}}},{key:"flowErrors",value:function(){if(this.listeners.error.length>0){var e=!0,t=!1,r=void 0;try{for(var n,i=this.buffer.error[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this.emitError(a)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this.buffer.error.length=0}}},{key:"flowEnd",value:function(){return!!this.state.ended&&(this.emitEnd(),this.listeners.end.length>0)}},{key:"destroy",value:function(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}]),e}();function $bef59326251d24bb$var$consumeReadable(e,t){for(var r,n=[];null!==(r=e.read());)n.push(r);return t(n)}function $bef59326251d24bb$var$peekReadable(e,t,r){for(var n=[],i=void 0;null!==(i=e.read())&&n.length<r;)n.push(i);return null===i&&n.length>0?t(n):{read:function(){if(n.length>0)return n.shift();if(void 0!==i){var t=i;return i=void 0,t}return e.read()}}}function $bef59326251d24bb$var$consumeStream(e,t){return new Promise((function(r,n){var i=[];$bef59326251d24bb$var$listenStream(e,{onData:function(e){t&&i.push(e)},onError:function(e){t?n(e):r(void 0)},onEnd:function(){r(t?t(i):void 0)}})}))}function $bef59326251d24bb$var$listenStream(e,t){e.on("error",(function(e){return t.onError(e)})),e.on("end",(function(){return t.onEnd()})),e.on("data",(function(e){return t.onData(e)}))}function $bef59326251d24bb$var$peekStream(e,t){return new Promise((function(r,n){var i=new $bef59326251d24bb$var$DisposableStore,a=[],o=function(n){if(a.push(n),a.length>t)return i.dispose(),e.pause(),r({stream:e,buffer:a,ended:!1})},s=function(e){return n(e)},u=function(){return r({stream:e,buffer:a,ended:!0})};i.add($bef59326251d24bb$var$toDisposable((function(){return e.removeListener("error",s)}))),e.on("error",s),i.add($bef59326251d24bb$var$toDisposable((function(){return e.removeListener("end",u)}))),e.on("end",u),i.add($bef59326251d24bb$var$toDisposable((function(){return e.removeListener("data",o)}))),e.on("data",o)}))}function $bef59326251d24bb$var$toStream(e,t){var r=$bef59326251d24bb$var$newWriteableStream(t);return r.end(e),r}function $bef59326251d24bb$var$emptyStream(){var e=$bef59326251d24bb$var$newWriteableStream((function(){throw new Error("not supported")}));return e.end(),e}function $bef59326251d24bb$var$toReadable(e){var t=!1;return{read:function(){return t?null:(t=!0,e)}}}function $bef59326251d24bb$var$transform(e,t,r){var n=$bef59326251d24bb$var$newWriteableStream(r);return $bef59326251d24bb$var$listenStream(e,{onData:function(e){return n.write(t.data(e))},onError:function(e){return n.error(t.error?t.error(e):e)},onEnd:function(){return n.end()}}),n}function $bef59326251d24bb$var$prefixedReadable(e,t,r){var n=!1;return{read:function(){var i=t.read();return n?i:(n=!0,null!==i?r([e,i]):e)}}}function $bef59326251d24bb$var$prefixedStream(e,t,r){var n=!1,i=$bef59326251d24bb$var$newWriteableStream(r);return $bef59326251d24bb$var$listenStream(t,{onData:function(t){return n?i.write(t):(n=!0,i.write(r([e,t])))},onError:function(e){return i.error(e)},onEnd:function(){n||(n=!0,i.write(e)),i.end()}}),i}var $bef59326251d24bb$export$4938110305e6185f={__proto__:null,isReadableStream:$bef59326251d24bb$var$isReadableStream,isReadableBufferedStream:$bef59326251d24bb$var$isReadableBufferedStream,newWriteableStream:$bef59326251d24bb$var$newWriteableStream,consumeReadable:$bef59326251d24bb$var$consumeReadable,peekReadable:$bef59326251d24bb$var$peekReadable,consumeStream:$bef59326251d24bb$var$consumeStream,listenStream:$bef59326251d24bb$var$listenStream,peekStream:$bef59326251d24bb$var$peekStream,toStream:$bef59326251d24bb$var$toStream,emptyStream:$bef59326251d24bb$var$emptyStream,toReadable:$bef59326251d24bb$var$toReadable,transform:$bef59326251d24bb$var$transform,prefixedReadable:$bef59326251d24bb$var$prefixedReadable,prefixedStream:$bef59326251d24bb$var$prefixedStream},$bef59326251d24bb$var$hasBuffer=void 0!==$bef59326251d24bb$require$Buffer,$bef59326251d24bb$var$hasTextEncoder="undefined"!=typeof TextEncoder,$bef59326251d24bb$var$hasTextDecoder="undefined"!=typeof TextDecoder,$bef59326251d24bb$var$textEncoder,$bef59326251d24bb$var$textDecoder,$bef59326251d24bb$var$VSBuffer=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.buffer=t,this.byteLength=this.buffer.byteLength}return(0,$9HoHC.default)(e,[{key:"toString",value:function(){return $bef59326251d24bb$var$hasBuffer?this.buffer.toString():$bef59326251d24bb$var$hasTextDecoder?($bef59326251d24bb$var$textDecoder||($bef59326251d24bb$var$textDecoder=new TextDecoder),$bef59326251d24bb$var$textDecoder.decode(this.buffer)):$bef59326251d24bb$var$decodeUTF8(this.buffer)}},{key:"slice",value:function(t,r){return new e(this.buffer.subarray(t,r))}},{key:"set",value:function(t,r){t instanceof e?this.buffer.set(t.buffer,r):this.buffer.set(t,r)}},{key:"readUInt32BE",value:function(e){return $bef59326251d24bb$var$readUInt32BE(this.buffer,e)}},{key:"writeUInt32BE",value:function(e,t){$bef59326251d24bb$var$writeUInt32BE(this.buffer,e,t)}},{key:"readUInt32LE",value:function(e){return $bef59326251d24bb$var$readUInt32LE(this.buffer,e)}},{key:"writeUInt32LE",value:function(e,t){$bef59326251d24bb$var$writeUInt32LE(this.buffer,e,t)}},{key:"readUInt8",value:function(e){return $bef59326251d24bb$var$readUInt8(this.buffer,e)}},{key:"writeUInt8",value:function(e,t){$bef59326251d24bb$var$writeUInt8(this.buffer,e,t)}}],[{key:"alloc",value:function(t){return new e($bef59326251d24bb$var$hasBuffer?$bef59326251d24bb$require$Buffer.allocUnsafe(t):new Uint8Array(t))}},{key:"wrap",value:function(t){return $bef59326251d24bb$var$hasBuffer&&!$bef59326251d24bb$require$Buffer.isBuffer(t)&&(t=$bef59326251d24bb$require$Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new e(t)}},{key:"fromString",value:function(t,r){return!((null==r?void 0:r.dontUseNodeBuffer)||!1)&&$bef59326251d24bb$var$hasBuffer?new e($bef59326251d24bb$require$Buffer.from(t)):$bef59326251d24bb$var$hasTextEncoder?($bef59326251d24bb$var$textEncoder||($bef59326251d24bb$var$textEncoder=new TextEncoder),new e($bef59326251d24bb$var$textEncoder.encode(t))):new e($bef59326251d24bb$var$encodeUTF8(t))}},{key:"concat",value:function(t,r){if(void 0===r){r=0;for(var n=0,i=t.length;n<i;n++)r+=t[n].byteLength}for(var a=e.alloc(r),o=0,s=0,u=t.length;s<u;s++){var c=t[s];a.set(c,o),o+=c.byteLength}return a}}]),e}();function $bef59326251d24bb$var$readUInt16LE(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function $bef59326251d24bb$var$writeUInt16LE(e,t,r){e[r+0]=255&t,t>>>=8,e[r+1]=255&t}function $bef59326251d24bb$var$readUInt32BE(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+256*e[t+2]+e[t+3]}function $bef59326251d24bb$var$writeUInt32BE(e,t,r){e[r+3]=t,t>>>=8,e[r+2]=t,t>>>=8,e[r+1]=t,t>>>=8,e[r]=t}function $bef59326251d24bb$var$readUInt32LE(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}function $bef59326251d24bb$var$writeUInt32LE(e,t,r){e[r+0]=255&t,t>>>=8,e[r+1]=255&t,t>>>=8,e[r+2]=255&t,t>>>=8,e[r+3]=255&t}function $bef59326251d24bb$var$readUInt8(e,t){return e[t]}function $bef59326251d24bb$var$writeUInt8(e,t,r){e[r]=t}function $bef59326251d24bb$var$readableToBuffer(e){return $bef59326251d24bb$var$consumeReadable(e,(function(e){return $bef59326251d24bb$var$VSBuffer.concat(e)}))}function $bef59326251d24bb$var$bufferToReadable(e){return $bef59326251d24bb$var$toReadable(e)}function $bef59326251d24bb$var$streamToBuffer(e){return $bef59326251d24bb$var$consumeStream(e,(function(e){return $bef59326251d24bb$var$VSBuffer.concat(e)}))}function $bef59326251d24bb$var$bufferedStreamToBuffer(e){return $bef59326251d24bb$var$_bufferedStreamToBuffer.apply(this,arguments)}function $bef59326251d24bb$var$_bufferedStreamToBuffer(){return($bef59326251d24bb$var$_bufferedStreamToBuffer=(0,$3mpD3.default)((function(e){var t,r,n;return(0,$cDTRq.__generator)(this,(function(i){switch(i.label){case 0:return e.ended?[2,$bef59326251d24bb$var$VSBuffer.concat(e.buffer)]:(t=$bef59326251d24bb$var$VSBuffer.concat,n=(r=(0,$caN7I.default)(e.buffer)).concat,[4,$bef59326251d24bb$var$streamToBuffer(e.stream)]);case 1:return[2,t.apply($bef59326251d24bb$var$VSBuffer,[n.apply(r,[[i.sent()]])])]}}))}))).apply(this,arguments)}function $bef59326251d24bb$var$bufferToStream(e){return $bef59326251d24bb$var$toStream(e,(function(e){return $bef59326251d24bb$var$VSBuffer.concat(e)}))}function $bef59326251d24bb$var$streamToBufferReadableStream(e){return $bef59326251d24bb$var$transform(e,{data:function(e){return"string"==typeof e?$bef59326251d24bb$var$VSBuffer.fromString(e):$bef59326251d24bb$var$VSBuffer.wrap(e)}},(function(e){return $bef59326251d24bb$var$VSBuffer.concat(e)}))}function $bef59326251d24bb$var$newWriteableBufferStream(e){return $bef59326251d24bb$var$newWriteableStream((function(e){return $bef59326251d24bb$var$VSBuffer.concat(e)}),e)}function $bef59326251d24bb$var$prefixedBufferReadable(e,t){return $bef59326251d24bb$var$prefixedReadable(e,t,(function(e){return $bef59326251d24bb$var$VSBuffer.concat(e)}))}function $bef59326251d24bb$var$prefixedBufferStream(e,t){return $bef59326251d24bb$var$prefixedStream(e,t,(function(e){return $bef59326251d24bb$var$VSBuffer.concat(e)}))}var $bef59326251d24bb$export$ab1029bcae9ddb4a={__proto__:null,VSBuffer:$bef59326251d24bb$var$VSBuffer,readUInt16LE:$bef59326251d24bb$var$readUInt16LE,writeUInt16LE:$bef59326251d24bb$var$writeUInt16LE,readUInt32BE:$bef59326251d24bb$var$readUInt32BE,writeUInt32BE:$bef59326251d24bb$var$writeUInt32BE,readUInt32LE:$bef59326251d24bb$var$readUInt32LE,writeUInt32LE:$bef59326251d24bb$var$writeUInt32LE,readUInt8:$bef59326251d24bb$var$readUInt8,writeUInt8:$bef59326251d24bb$var$writeUInt8,readableToBuffer:$bef59326251d24bb$var$readableToBuffer,bufferToReadable:$bef59326251d24bb$var$bufferToReadable,streamToBuffer:$bef59326251d24bb$var$streamToBuffer,bufferedStreamToBuffer:$bef59326251d24bb$var$bufferedStreamToBuffer,bufferToStream:$bef59326251d24bb$var$bufferToStream,streamToBufferReadableStream:$bef59326251d24bb$var$streamToBufferReadableStream,newWriteableBufferStream:$bef59326251d24bb$var$newWriteableBufferStream,prefixedBufferReadable:$bef59326251d24bb$var$prefixedBufferReadable,prefixedBufferStream:$bef59326251d24bb$var$prefixedBufferStream},$bef59326251d24bb$var$Cache=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.task=t,this.result=null}return(0,$9HoHC.default)(e,[{key:"get",value:function(){var e=this;if(this.result)return this.result;var t=new $bef59326251d24bb$var$CancellationTokenSource,r=this.task(t.token);return this.result={promise:r,dispose:function(){e.result=null,t.cancel(),t.dispose()}},this.result}}]),e}(),$bef59326251d24bb$export$69a3209f1a06c04d={__proto__:null,Cache:$bef59326251d24bb$var$Cache},$bef59326251d24bb$var$CharCode,CharCode;CharCode=$bef59326251d24bb$var$CharCode||($bef59326251d24bb$var$CharCode={}),CharCode[CharCode.Null=0]="Null",CharCode[CharCode.Backspace=8]="Backspace",CharCode[CharCode.Tab=9]="Tab",CharCode[CharCode.LineFeed=10]="LineFeed",CharCode[CharCode.CarriageReturn=13]="CarriageReturn",CharCode[CharCode.Space=32]="Space",CharCode[CharCode.ExclamationMark=33]="ExclamationMark",CharCode[CharCode.DoubleQuote=34]="DoubleQuote",CharCode[CharCode.Hash=35]="Hash",CharCode[CharCode.DollarSign=36]="DollarSign",CharCode[CharCode.PercentSign=37]="PercentSign",CharCode[CharCode.Ampersand=38]="Ampersand",CharCode[CharCode.SingleQuote=39]="SingleQuote",CharCode[CharCode.OpenParen=40]="OpenParen",CharCode[CharCode.CloseParen=41]="CloseParen",CharCode[CharCode.Asterisk=42]="Asterisk",CharCode[CharCode.Plus=43]="Plus",CharCode[CharCode.Comma=44]="Comma",CharCode[CharCode.Dash=45]="Dash",CharCode[CharCode.Period=46]="Period",CharCode[CharCode.Slash=47]="Slash",CharCode[CharCode.Digit0=48]="Digit0",CharCode[CharCode.Digit1=49]="Digit1",CharCode[CharCode.Digit2=50]="Digit2",CharCode[CharCode.Digit3=51]="Digit3",CharCode[CharCode.Digit4=52]="Digit4",CharCode[CharCode.Digit5=53]="Digit5",CharCode[CharCode.Digit6=54]="Digit6",CharCode[CharCode.Digit7=55]="Digit7",CharCode[CharCode.Digit8=56]="Digit8",CharCode[CharCode.Digit9=57]="Digit9",CharCode[CharCode.Colon=58]="Colon",CharCode[CharCode.Semicolon=59]="Semicolon",CharCode[CharCode.LessThan=60]="LessThan",CharCode[CharCode.Equals=61]="Equals",CharCode[CharCode.GreaterThan=62]="GreaterThan",CharCode[CharCode.QuestionMark=63]="QuestionMark",CharCode[CharCode.AtSign=64]="AtSign",CharCode[CharCode.A=65]="A",CharCode[CharCode.B=66]="B",CharCode[CharCode.C=67]="C",CharCode[CharCode.D=68]="D",CharCode[CharCode.E=69]="E",CharCode[CharCode.F=70]="F",CharCode[CharCode.G=71]="G",CharCode[CharCode.H=72]="H",CharCode[CharCode.I=73]="I",CharCode[CharCode.J=74]="J",CharCode[CharCode.K=75]="K",CharCode[CharCode.L=76]="L",CharCode[CharCode.M=77]="M",CharCode[CharCode.N=78]="N",CharCode[CharCode.O=79]="O",CharCode[CharCode.P=80]="P",CharCode[CharCode.Q=81]="Q",CharCode[CharCode.R=82]="R",CharCode[CharCode.S=83]="S",CharCode[CharCode.T=84]="T",CharCode[CharCode.U=85]="U",CharCode[CharCode.V=86]="V",CharCode[CharCode.W=87]="W",CharCode[CharCode.X=88]="X",CharCode[CharCode.Y=89]="Y",CharCode[CharCode.Z=90]="Z",CharCode[CharCode.OpenSquareBracket=91]="OpenSquareBracket",CharCode[CharCode.Backslash=92]="Backslash",CharCode[CharCode.CloseSquareBracket=93]="CloseSquareBracket",CharCode[CharCode.Caret=94]="Caret",CharCode[CharCode.Underline=95]="Underline",CharCode[CharCode.BackTick=96]="BackTick",CharCode[CharCode.a=97]="a",CharCode[CharCode.b=98]="b",CharCode[CharCode.c=99]="c",CharCode[CharCode.d=100]="d",CharCode[CharCode.e=101]="e",CharCode[CharCode.f=102]="f",CharCode[CharCode.g=103]="g",CharCode[CharCode.h=104]="h",CharCode[CharCode.i=105]="i",CharCode[CharCode.j=106]="j",CharCode[CharCode.k=107]="k",CharCode[CharCode.l=108]="l",CharCode[CharCode.m=109]="m",CharCode[CharCode.n=110]="n",CharCode[CharCode.o=111]="o",CharCode[CharCode.p=112]="p",CharCode[CharCode.q=113]="q",CharCode[CharCode.r=114]="r",CharCode[CharCode.s=115]="s",CharCode[CharCode.t=116]="t",CharCode[CharCode.u=117]="u",CharCode[CharCode.v=118]="v",CharCode[CharCode.w=119]="w",CharCode[CharCode.x=120]="x",CharCode[CharCode.y=121]="y",CharCode[CharCode.z=122]="z",CharCode[CharCode.OpenCurlyBrace=123]="OpenCurlyBrace",CharCode[CharCode.Pipe=124]="Pipe",CharCode[CharCode.CloseCurlyBrace=125]="CloseCurlyBrace",CharCode[CharCode.Tilde=126]="Tilde",CharCode[CharCode.U_Combining_Grave_Accent=768]="U_Combining_Grave_Accent",CharCode[CharCode.U_Combining_Acute_Accent=769]="U_Combining_Acute_Accent",CharCode[CharCode.U_Combining_Circumflex_Accent=770]="U_Combining_Circumflex_Accent",CharCode[CharCode.U_Combining_Tilde=771]="U_Combining_Tilde",CharCode[CharCode.U_Combining_Macron=772]="U_Combining_Macron",CharCode[CharCode.U_Combining_Overline=773]="U_Combining_Overline",CharCode[CharCode.U_Combining_Breve=774]="U_Combining_Breve",CharCode[CharCode.U_Combining_Dot_Above=775]="U_Combining_Dot_Above",CharCode[CharCode.U_Combining_Diaeresis=776]="U_Combining_Diaeresis",CharCode[CharCode.U_Combining_Hook_Above=777]="U_Combining_Hook_Above",CharCode[CharCode.U_Combining_Ring_Above=778]="U_Combining_Ring_Above",CharCode[CharCode.U_Combining_Double_Acute_Accent=779]="U_Combining_Double_Acute_Accent",CharCode[CharCode.U_Combining_Caron=780]="U_Combining_Caron",CharCode[CharCode.U_Combining_Vertical_Line_Above=781]="U_Combining_Vertical_Line_Above",CharCode[CharCode.U_Combining_Double_Vertical_Line_Above=782]="U_Combining_Double_Vertical_Line_Above",CharCode[CharCode.U_Combining_Double_Grave_Accent=783]="U_Combining_Double_Grave_Accent",CharCode[CharCode.U_Combining_Candrabindu=784]="U_Combining_Candrabindu",CharCode[CharCode.U_Combining_Inverted_Breve=785]="U_Combining_Inverted_Breve",CharCode[CharCode.U_Combining_Turned_Comma_Above=786]="U_Combining_Turned_Comma_Above",CharCode[CharCode.U_Combining_Comma_Above=787]="U_Combining_Comma_Above",CharCode[CharCode.U_Combining_Reversed_Comma_Above=788]="U_Combining_Reversed_Comma_Above",CharCode[CharCode.U_Combining_Comma_Above_Right=789]="U_Combining_Comma_Above_Right",CharCode[CharCode.U_Combining_Grave_Accent_Below=790]="U_Combining_Grave_Accent_Below",CharCode[CharCode.U_Combining_Acute_Accent_Below=791]="U_Combining_Acute_Accent_Below",CharCode[CharCode.U_Combining_Left_Tack_Below=792]="U_Combining_Left_Tack_Below",CharCode[CharCode.U_Combining_Right_Tack_Below=793]="U_Combining_Right_Tack_Below",CharCode[CharCode.U_Combining_Left_Angle_Above=794]="U_Combining_Left_Angle_Above",CharCode[CharCode.U_Combining_Horn=795]="U_Combining_Horn",CharCode[CharCode.U_Combining_Left_Half_Ring_Below=796]="U_Combining_Left_Half_Ring_Below",CharCode[CharCode.U_Combining_Up_Tack_Below=797]="U_Combining_Up_Tack_Below",CharCode[CharCode.U_Combining_Down_Tack_Below=798]="U_Combining_Down_Tack_Below",CharCode[CharCode.U_Combining_Plus_Sign_Below=799]="U_Combining_Plus_Sign_Below",CharCode[CharCode.U_Combining_Minus_Sign_Below=800]="U_Combining_Minus_Sign_Below",CharCode[CharCode.U_Combining_Palatalized_Hook_Below=801]="U_Combining_Palatalized_Hook_Below",CharCode[CharCode.U_Combining_Retroflex_Hook_Below=802]="U_Combining_Retroflex_Hook_Below",CharCode[CharCode.U_Combining_Dot_Below=803]="U_Combining_Dot_Below",CharCode[CharCode.U_Combining_Diaeresis_Below=804]="U_Combining_Diaeresis_Below",CharCode[CharCode.U_Combining_Ring_Below=805]="U_Combining_Ring_Below",CharCode[CharCode.U_Combining_Comma_Below=806]="U_Combining_Comma_Below",CharCode[CharCode.U_Combining_Cedilla=807]="U_Combining_Cedilla",CharCode[CharCode.U_Combining_Ogonek=808]="U_Combining_Ogonek",CharCode[CharCode.U_Combining_Vertical_Line_Below=809]="U_Combining_Vertical_Line_Below",CharCode[CharCode.U_Combining_Bridge_Below=810]="U_Combining_Bridge_Below",CharCode[CharCode.U_Combining_Inverted_Double_Arch_Below=811]="U_Combining_Inverted_Double_Arch_Below",CharCode[CharCode.U_Combining_Caron_Below=812]="U_Combining_Caron_Below",CharCode[CharCode.U_Combining_Circumflex_Accent_Below=813]="U_Combining_Circumflex_Accent_Below",CharCode[CharCode.U_Combining_Breve_Below=814]="U_Combining_Breve_Below",CharCode[CharCode.U_Combining_Inverted_Breve_Below=815]="U_Combining_Inverted_Breve_Below",CharCode[CharCode.U_Combining_Tilde_Below=816]="U_Combining_Tilde_Below",CharCode[CharCode.U_Combining_Macron_Below=817]="U_Combining_Macron_Below",CharCode[CharCode.U_Combining_Low_Line=818]="U_Combining_Low_Line",CharCode[CharCode.U_Combining_Double_Low_Line=819]="U_Combining_Double_Low_Line",CharCode[CharCode.U_Combining_Tilde_Overlay=820]="U_Combining_Tilde_Overlay",CharCode[CharCode.U_Combining_Short_Stroke_Overlay=821]="U_Combining_Short_Stroke_Overlay",CharCode[CharCode.U_Combining_Long_Stroke_Overlay=822]="U_Combining_Long_Stroke_Overlay",CharCode[CharCode.U_Combining_Short_Solidus_Overlay=823]="U_Combining_Short_Solidus_Overlay",CharCode[CharCode.U_Combining_Long_Solidus_Overlay=824]="U_Combining_Long_Solidus_Overlay",CharCode[CharCode.U_Combining_Right_Half_Ring_Below=825]="U_Combining_Right_Half_Ring_Below",CharCode[CharCode.U_Combining_Inverted_Bridge_Below=826]="U_Combining_Inverted_Bridge_Below",CharCode[CharCode.U_Combining_Square_Below=827]="U_Combining_Square_Below",CharCode[CharCode.U_Combining_Seagull_Below=828]="U_Combining_Seagull_Below",CharCode[CharCode.U_Combining_X_Above=829]="U_Combining_X_Above",CharCode[CharCode.U_Combining_Vertical_Tilde=830]="U_Combining_Vertical_Tilde",CharCode[CharCode.U_Combining_Double_Overline=831]="U_Combining_Double_Overline",CharCode[CharCode.U_Combining_Grave_Tone_Mark=832]="U_Combining_Grave_Tone_Mark",CharCode[CharCode.U_Combining_Acute_Tone_Mark=833]="U_Combining_Acute_Tone_Mark",CharCode[CharCode.U_Combining_Greek_Perispomeni=834]="U_Combining_Greek_Perispomeni",CharCode[CharCode.U_Combining_Greek_Koronis=835]="U_Combining_Greek_Koronis",CharCode[CharCode.U_Combining_Greek_Dialytika_Tonos=836]="U_Combining_Greek_Dialytika_Tonos",CharCode[CharCode.U_Combining_Greek_Ypogegrammeni=837]="U_Combining_Greek_Ypogegrammeni",CharCode[CharCode.U_Combining_Bridge_Above=838]="U_Combining_Bridge_Above",CharCode[CharCode.U_Combining_Equals_Sign_Below=839]="U_Combining_Equals_Sign_Below",CharCode[CharCode.U_Combining_Double_Vertical_Line_Below=840]="U_Combining_Double_Vertical_Line_Below",CharCode[CharCode.U_Combining_Left_Angle_Below=841]="U_Combining_Left_Angle_Below",CharCode[CharCode.U_Combining_Not_Tilde_Above=842]="U_Combining_Not_Tilde_Above",CharCode[CharCode.U_Combining_Homothetic_Above=843]="U_Combining_Homothetic_Above",CharCode[CharCode.U_Combining_Almost_Equal_To_Above=844]="U_Combining_Almost_Equal_To_Above",CharCode[CharCode.U_Combining_Left_Right_Arrow_Below=845]="U_Combining_Left_Right_Arrow_Below",CharCode[CharCode.U_Combining_Upwards_Arrow_Below=846]="U_Combining_Upwards_Arrow_Below",CharCode[CharCode.U_Combining_Grapheme_Joiner=847]="U_Combining_Grapheme_Joiner",CharCode[CharCode.U_Combining_Right_Arrowhead_Above=848]="U_Combining_Right_Arrowhead_Above",CharCode[CharCode.U_Combining_Left_Half_Ring_Above=849]="U_Combining_Left_Half_Ring_Above",CharCode[CharCode.U_Combining_Fermata=850]="U_Combining_Fermata",CharCode[CharCode.U_Combining_X_Below=851]="U_Combining_X_Below",CharCode[CharCode.U_Combining_Left_Arrowhead_Below=852]="U_Combining_Left_Arrowhead_Below",CharCode[CharCode.U_Combining_Right_Arrowhead_Below=853]="U_Combining_Right_Arrowhead_Below",CharCode[CharCode.U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below=854]="U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below",CharCode[CharCode.U_Combining_Right_Half_Ring_Above=855]="U_Combining_Right_Half_Ring_Above",CharCode[CharCode.U_Combining_Dot_Above_Right=856]="U_Combining_Dot_Above_Right",CharCode[CharCode.U_Combining_Asterisk_Below=857]="U_Combining_Asterisk_Below",CharCode[CharCode.U_Combining_Double_Ring_Below=858]="U_Combining_Double_Ring_Below",CharCode[CharCode.U_Combining_Zigzag_Above=859]="U_Combining_Zigzag_Above",CharCode[CharCode.U_Combining_Double_Breve_Below=860]="U_Combining_Double_Breve_Below",CharCode[CharCode.U_Combining_Double_Breve=861]="U_Combining_Double_Breve",CharCode[CharCode.U_Combining_Double_Macron=862]="U_Combining_Double_Macron",CharCode[CharCode.U_Combining_Double_Macron_Below=863]="U_Combining_Double_Macron_Below",CharCode[CharCode.U_Combining_Double_Tilde=864]="U_Combining_Double_Tilde",CharCode[CharCode.U_Combining_Double_Inverted_Breve=865]="U_Combining_Double_Inverted_Breve",CharCode[CharCode.U_Combining_Double_Rightwards_Arrow_Below=866]="U_Combining_Double_Rightwards_Arrow_Below",CharCode[CharCode.U_Combining_Latin_Small_Letter_A=867]="U_Combining_Latin_Small_Letter_A",CharCode[CharCode.U_Combining_Latin_Small_Letter_E=868]="U_Combining_Latin_Small_Letter_E",CharCode[CharCode.U_Combining_Latin_Small_Letter_I=869]="U_Combining_Latin_Small_Letter_I",CharCode[CharCode.U_Combining_Latin_Small_Letter_O=870]="U_Combining_Latin_Small_Letter_O",CharCode[CharCode.U_Combining_Latin_Small_Letter_U=871]="U_Combining_Latin_Small_Letter_U",CharCode[CharCode.U_Combining_Latin_Small_Letter_C=872]="U_Combining_Latin_Small_Letter_C",CharCode[CharCode.U_Combining_Latin_Small_Letter_D=873]="U_Combining_Latin_Small_Letter_D",CharCode[CharCode.U_Combining_Latin_Small_Letter_H=874]="U_Combining_Latin_Small_Letter_H",CharCode[CharCode.U_Combining_Latin_Small_Letter_M=875]="U_Combining_Latin_Small_Letter_M",CharCode[CharCode.U_Combining_Latin_Small_Letter_R=876]="U_Combining_Latin_Small_Letter_R",CharCode[CharCode.U_Combining_Latin_Small_Letter_T=877]="U_Combining_Latin_Small_Letter_T",CharCode[CharCode.U_Combining_Latin_Small_Letter_V=878]="U_Combining_Latin_Small_Letter_V",CharCode[CharCode.U_Combining_Latin_Small_Letter_X=879]="U_Combining_Latin_Small_Letter_X",CharCode[CharCode.LINE_SEPARATOR=8232]="LINE_SEPARATOR",CharCode[CharCode.PARAGRAPH_SEPARATOR=8233]="PARAGRAPH_SEPARATOR",CharCode[CharCode.NEXT_LINE=133]="NEXT_LINE",CharCode[CharCode.U_CIRCUMFLEX=94]="U_CIRCUMFLEX",CharCode[CharCode.U_GRAVE_ACCENT=96]="U_GRAVE_ACCENT",CharCode[CharCode.U_DIAERESIS=168]="U_DIAERESIS",CharCode[CharCode.U_MACRON=175]="U_MACRON",CharCode[CharCode.U_ACUTE_ACCENT=180]="U_ACUTE_ACCENT",CharCode[CharCode.U_CEDILLA=184]="U_CEDILLA",CharCode[CharCode.U_MODIFIER_LETTER_LEFT_ARROWHEAD=706]="U_MODIFIER_LETTER_LEFT_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_RIGHT_ARROWHEAD=707]="U_MODIFIER_LETTER_RIGHT_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_UP_ARROWHEAD=708]="U_MODIFIER_LETTER_UP_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_DOWN_ARROWHEAD=709]="U_MODIFIER_LETTER_DOWN_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING=722]="U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING",CharCode[CharCode.U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING=723]="U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING",CharCode[CharCode.U_MODIFIER_LETTER_UP_TACK=724]="U_MODIFIER_LETTER_UP_TACK",CharCode[CharCode.U_MODIFIER_LETTER_DOWN_TACK=725]="U_MODIFIER_LETTER_DOWN_TACK",CharCode[CharCode.U_MODIFIER_LETTER_PLUS_SIGN=726]="U_MODIFIER_LETTER_PLUS_SIGN",CharCode[CharCode.U_MODIFIER_LETTER_MINUS_SIGN=727]="U_MODIFIER_LETTER_MINUS_SIGN",CharCode[CharCode.U_BREVE=728]="U_BREVE",CharCode[CharCode.U_DOT_ABOVE=729]="U_DOT_ABOVE",CharCode[CharCode.U_RING_ABOVE=730]="U_RING_ABOVE",CharCode[CharCode.U_OGONEK=731]="U_OGONEK",CharCode[CharCode.U_SMALL_TILDE=732]="U_SMALL_TILDE",CharCode[CharCode.U_DOUBLE_ACUTE_ACCENT=733]="U_DOUBLE_ACUTE_ACCENT",CharCode[CharCode.U_MODIFIER_LETTER_RHOTIC_HOOK=734]="U_MODIFIER_LETTER_RHOTIC_HOOK",CharCode[CharCode.U_MODIFIER_LETTER_CROSS_ACCENT=735]="U_MODIFIER_LETTER_CROSS_ACCENT",CharCode[CharCode.U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR=741]="U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR",CharCode[CharCode.U_MODIFIER_LETTER_HIGH_TONE_BAR=742]="U_MODIFIER_LETTER_HIGH_TONE_BAR",CharCode[CharCode.U_MODIFIER_LETTER_MID_TONE_BAR=743]="U_MODIFIER_LETTER_MID_TONE_BAR",CharCode[CharCode.U_MODIFIER_LETTER_LOW_TONE_BAR=744]="U_MODIFIER_LETTER_LOW_TONE_BAR",CharCode[CharCode.U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR=745]="U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR",CharCode[CharCode.U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK=746]="U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK",CharCode[CharCode.U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK=747]="U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK",CharCode[CharCode.U_MODIFIER_LETTER_UNASPIRATED=749]="U_MODIFIER_LETTER_UNASPIRATED",CharCode[CharCode.U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD=751]="U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_LOW_UP_ARROWHEAD=752]="U_MODIFIER_LETTER_LOW_UP_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD=753]="U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD=754]="U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD",CharCode[CharCode.U_MODIFIER_LETTER_LOW_RING=755]="U_MODIFIER_LETTER_LOW_RING",CharCode[CharCode.U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT=756]="U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT",CharCode[CharCode.U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT=757]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT",CharCode[CharCode.U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT=758]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT",CharCode[CharCode.U_MODIFIER_LETTER_LOW_TILDE=759]="U_MODIFIER_LETTER_LOW_TILDE",CharCode[CharCode.U_MODIFIER_LETTER_RAISED_COLON=760]="U_MODIFIER_LETTER_RAISED_COLON",CharCode[CharCode.U_MODIFIER_LETTER_BEGIN_HIGH_TONE=761]="U_MODIFIER_LETTER_BEGIN_HIGH_TONE",CharCode[CharCode.U_MODIFIER_LETTER_END_HIGH_TONE=762]="U_MODIFIER_LETTER_END_HIGH_TONE",CharCode[CharCode.U_MODIFIER_LETTER_BEGIN_LOW_TONE=763]="U_MODIFIER_LETTER_BEGIN_LOW_TONE",CharCode[CharCode.U_MODIFIER_LETTER_END_LOW_TONE=764]="U_MODIFIER_LETTER_END_LOW_TONE",CharCode[CharCode.U_MODIFIER_LETTER_SHELF=765]="U_MODIFIER_LETTER_SHELF",CharCode[CharCode.U_MODIFIER_LETTER_OPEN_SHELF=766]="U_MODIFIER_LETTER_OPEN_SHELF",CharCode[CharCode.U_MODIFIER_LETTER_LOW_LEFT_ARROW=767]="U_MODIFIER_LETTER_LOW_LEFT_ARROW",CharCode[CharCode.U_GREEK_LOWER_NUMERAL_SIGN=885]="U_GREEK_LOWER_NUMERAL_SIGN",CharCode[CharCode.U_GREEK_TONOS=900]="U_GREEK_TONOS",CharCode[CharCode.U_GREEK_DIALYTIKA_TONOS=901]="U_GREEK_DIALYTIKA_TONOS",CharCode[CharCode.U_GREEK_KORONIS=8125]="U_GREEK_KORONIS",CharCode[CharCode.U_GREEK_PSILI=8127]="U_GREEK_PSILI",CharCode[CharCode.U_GREEK_PERISPOMENI=8128]="U_GREEK_PERISPOMENI",CharCode[CharCode.U_GREEK_DIALYTIKA_AND_PERISPOMENI=8129]="U_GREEK_DIALYTIKA_AND_PERISPOMENI",CharCode[CharCode.U_GREEK_PSILI_AND_VARIA=8141]="U_GREEK_PSILI_AND_VARIA",CharCode[CharCode.U_GREEK_PSILI_AND_OXIA=8142]="U_GREEK_PSILI_AND_OXIA",CharCode[CharCode.U_GREEK_PSILI_AND_PERISPOMENI=8143]="U_GREEK_PSILI_AND_PERISPOMENI",CharCode[CharCode.U_GREEK_DASIA_AND_VARIA=8157]="U_GREEK_DASIA_AND_VARIA",CharCode[CharCode.U_GREEK_DASIA_AND_OXIA=8158]="U_GREEK_DASIA_AND_OXIA",CharCode[CharCode.U_GREEK_DASIA_AND_PERISPOMENI=8159]="U_GREEK_DASIA_AND_PERISPOMENI",CharCode[CharCode.U_GREEK_DIALYTIKA_AND_VARIA=8173]="U_GREEK_DIALYTIKA_AND_VARIA",CharCode[CharCode.U_GREEK_DIALYTIKA_AND_OXIA=8174]="U_GREEK_DIALYTIKA_AND_OXIA",CharCode[CharCode.U_GREEK_VARIA=8175]="U_GREEK_VARIA",CharCode[CharCode.U_GREEK_OXIA=8189]="U_GREEK_OXIA",CharCode[CharCode.U_GREEK_DASIA=8190]="U_GREEK_DASIA",CharCode[CharCode.U_OVERLINE=8254]="U_OVERLINE",CharCode[CharCode.UTF8_BOM=65279]="UTF8_BOM";var $bef59326251d24bb$export$caf4e1df1c801ab3={__proto__:null,get CharCode(){return $bef59326251d24bb$var$CharCode}},$bef59326251d24bb$var$Registry=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._icons=new Map,this._onDidRegister=new $bef59326251d24bb$var$Emitter}return(0,$9HoHC.default)(e,[{key:"add",value:function(e){var t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error("Duplicate registration of codicon ".concat(e.id)):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}},{key:"get",value:function(e){return this._icons.get(e)}},{key:"all",get:function(){return this._icons.values()}},{key:"onDidRegister",get:function(){return this._onDidRegister.event}}]),e}(),$bef59326251d24bb$var$_registry=new $bef59326251d24bb$var$Registry,$bef59326251d24bb$var$iconRegistry=$bef59326251d24bb$var$_registry;function $bef59326251d24bb$var$registerCodicon(e,t){return new $bef59326251d24bb$var$Codicon(e,t)}function $bef59326251d24bb$var$getCodiconAriaLabel(e){return e?e.replace(/\$\((.*?)\)/g,(function(e,t){return" ".concat(t," ")})).trim():""}var $bef59326251d24bb$var$Codicon=function(){"use strict";function e(t,r,n){(0,$4JAgF.default)(this,e),this.id=t,this.definition=r,this.description=n,$bef59326251d24bb$var$_registry.add(this)}return(0,$9HoHC.default)(e,[{key:"classNames",get:function(){return"codicon codicon-"+this.id}},{key:"classNamesArray",get:function(){return["codicon","codicon-"+this.id]}},{key:"cssSelector",get:function(){return".codicon.codicon-"+this.id}}]),e}(),$bef59326251d24bb$var$CSSIcon,Codicon;function $bef59326251d24bb$var$getClassNamesArray(e,t){var r=["codicon","codicon-"+e];return t&&r.push("codicon-modifier-"+t),r}!function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9\\-]+",e.iconModifierExpression="~[A-Za-z]+";var t=new RegExp("^(".concat(e.iconNameExpression,")(").concat(e.iconModifierExpression,")?$"));function r(e){if(e instanceof $bef59326251d24bb$var$Codicon)return["codicon","codicon-"+e.id];var n=t.exec(e.id);if(!n)return r($bef59326251d24bb$var$Codicon.error);var i=(0,$dVhHy.default)(n,3),a=i[1],o=i[2],s=["codicon","codicon-"+a];return o&&s.push("codicon-modifier-"+o.substr(1)),s}e.asClassNameArray=r,e.asClassName=function(e){return r(e).join(" ")},e.asCSSSelector=function(e){return"."+r(e).join(".")}}($bef59326251d24bb$var$CSSIcon||($bef59326251d24bb$var$CSSIcon={})),Codicon=$bef59326251d24bb$var$Codicon||($bef59326251d24bb$var$Codicon={}),Codicon.add=new Codicon("add",{fontCharacter:"\\ea60"}),Codicon.plus=new Codicon("plus",{fontCharacter:"\\ea60"}),Codicon.gistNew=new Codicon("gist-new",{fontCharacter:"\\ea60"}),Codicon.repoCreate=new Codicon("repo-create",{fontCharacter:"\\ea60"}),Codicon.lightbulb=new Codicon("lightbulb",{fontCharacter:"\\ea61"}),Codicon.lightBulb=new Codicon("light-bulb",{fontCharacter:"\\ea61"}),Codicon.repo=new Codicon("repo",{fontCharacter:"\\ea62"}),Codicon.repoDelete=new Codicon("repo-delete",{fontCharacter:"\\ea62"}),Codicon.gistFork=new Codicon("gist-fork",{fontCharacter:"\\ea63"}),Codicon.repoForked=new Codicon("repo-forked",{fontCharacter:"\\ea63"}),Codicon.gitPullRequest=new Codicon("git-pull-request",{fontCharacter:"\\ea64"}),Codicon.gitPullRequestAbandoned=new Codicon("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),Codicon.recordKeys=new Codicon("record-keys",{fontCharacter:"\\ea65"}),Codicon.keyboard=new Codicon("keyboard",{fontCharacter:"\\ea65"}),Codicon.tag=new Codicon("tag",{fontCharacter:"\\ea66"}),Codicon.tagAdd=new Codicon("tag-add",{fontCharacter:"\\ea66"}),Codicon.tagRemove=new Codicon("tag-remove",{fontCharacter:"\\ea66"}),Codicon.person=new Codicon("person",{fontCharacter:"\\ea67"}),Codicon.personFollow=new Codicon("person-follow",{fontCharacter:"\\ea67"}),Codicon.personOutline=new Codicon("person-outline",{fontCharacter:"\\ea67"}),Codicon.personFilled=new Codicon("person-filled",{fontCharacter:"\\ea67"}),Codicon.gitBranch=new Codicon("git-branch",{fontCharacter:"\\ea68"}),Codicon.gitBranchCreate=new Codicon("git-branch-create",{fontCharacter:"\\ea68"}),Codicon.gitBranchDelete=new Codicon("git-branch-delete",{fontCharacter:"\\ea68"}),Codicon.sourceControl=new Codicon("source-control",{fontCharacter:"\\ea68"}),Codicon.mirror=new Codicon("mirror",{fontCharacter:"\\ea69"}),Codicon.mirrorPublic=new Codicon("mirror-public",{fontCharacter:"\\ea69"}),Codicon.star=new Codicon("star",{fontCharacter:"\\ea6a"}),Codicon.starAdd=new Codicon("star-add",{fontCharacter:"\\ea6a"}),Codicon.starDelete=new Codicon("star-delete",{fontCharacter:"\\ea6a"}),Codicon.starEmpty=new Codicon("star-empty",{fontCharacter:"\\ea6a"}),Codicon.comment=new Codicon("comment",{fontCharacter:"\\ea6b"}),Codicon.commentAdd=new Codicon("comment-add",{fontCharacter:"\\ea6b"}),Codicon.alert=new Codicon("alert",{fontCharacter:"\\ea6c"}),Codicon.warning=new Codicon("warning",{fontCharacter:"\\ea6c"}),Codicon.search=new Codicon("search",{fontCharacter:"\\ea6d"}),Codicon.searchSave=new Codicon("search-save",{fontCharacter:"\\ea6d"}),Codicon.logOut=new Codicon("log-out",{fontCharacter:"\\ea6e"}),Codicon.signOut=new Codicon("sign-out",{fontCharacter:"\\ea6e"}),Codicon.logIn=new Codicon("log-in",{fontCharacter:"\\ea6f"}),Codicon.signIn=new Codicon("sign-in",{fontCharacter:"\\ea6f"}),Codicon.eye=new Codicon("eye",{fontCharacter:"\\ea70"}),Codicon.eyeUnwatch=new Codicon("eye-unwatch",{fontCharacter:"\\ea70"}),Codicon.eyeWatch=new Codicon("eye-watch",{fontCharacter:"\\ea70"}),Codicon.circleFilled=new Codicon("circle-filled",{fontCharacter:"\\ea71"}),Codicon.primitiveDot=new Codicon("primitive-dot",{fontCharacter:"\\ea71"}),Codicon.closeDirty=new Codicon("close-dirty",{fontCharacter:"\\ea71"}),Codicon.debugBreakpoint=new Codicon("debug-breakpoint",{fontCharacter:"\\ea71"}),Codicon.debugBreakpointDisabled=new Codicon("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),Codicon.debugHint=new Codicon("debug-hint",{fontCharacter:"\\ea71"}),Codicon.primitiveSquare=new Codicon("primitive-square",{fontCharacter:"\\ea72"}),Codicon.edit=new Codicon("edit",{fontCharacter:"\\ea73"}),Codicon.pencil=new Codicon("pencil",{fontCharacter:"\\ea73"}),Codicon.info=new Codicon("info",{fontCharacter:"\\ea74"}),Codicon.issueOpened=new Codicon("issue-opened",{fontCharacter:"\\ea74"}),Codicon.gistPrivate=new Codicon("gist-private",{fontCharacter:"\\ea75"}),Codicon.gitForkPrivate=new Codicon("git-fork-private",{fontCharacter:"\\ea75"}),Codicon.lock=new Codicon("lock",{fontCharacter:"\\ea75"}),Codicon.mirrorPrivate=new Codicon("mirror-private",{fontCharacter:"\\ea75"}),Codicon.close=new Codicon("close",{fontCharacter:"\\ea76"}),Codicon.removeClose=new Codicon("remove-close",{fontCharacter:"\\ea76"}),Codicon.x=new Codicon("x",{fontCharacter:"\\ea76"}),Codicon.repoSync=new Codicon("repo-sync",{fontCharacter:"\\ea77"}),Codicon.sync=new Codicon("sync",{fontCharacter:"\\ea77"}),Codicon.clone=new Codicon("clone",{fontCharacter:"\\ea78"}),Codicon.desktopDownload=new Codicon("desktop-download",{fontCharacter:"\\ea78"}),Codicon.beaker=new Codicon("beaker",{fontCharacter:"\\ea79"}),Codicon.microscope=new Codicon("microscope",{fontCharacter:"\\ea79"}),Codicon.vm=new Codicon("vm",{fontCharacter:"\\ea7a"}),Codicon.deviceDesktop=new Codicon("device-desktop",{fontCharacter:"\\ea7a"}),Codicon.file=new Codicon("file",{fontCharacter:"\\ea7b"}),Codicon.fileText=new Codicon("file-text",{fontCharacter:"\\ea7b"}),Codicon.more=new Codicon("more",{fontCharacter:"\\ea7c"}),Codicon.ellipsis=new Codicon("ellipsis",{fontCharacter:"\\ea7c"}),Codicon.kebabHorizontal=new Codicon("kebab-horizontal",{fontCharacter:"\\ea7c"}),Codicon.mailReply=new Codicon("mail-reply",{fontCharacter:"\\ea7d"}),Codicon.reply=new Codicon("reply",{fontCharacter:"\\ea7d"}),Codicon.organization=new Codicon("organization",{fontCharacter:"\\ea7e"}),Codicon.organizationFilled=new Codicon("organization-filled",{fontCharacter:"\\ea7e"}),Codicon.organizationOutline=new Codicon("organization-outline",{fontCharacter:"\\ea7e"}),Codicon.newFile=new Codicon("new-file",{fontCharacter:"\\ea7f"}),Codicon.fileAdd=new Codicon("file-add",{fontCharacter:"\\ea7f"}),Codicon.newFolder=new Codicon("new-folder",{fontCharacter:"\\ea80"}),Codicon.fileDirectoryCreate=new Codicon("file-directory-create",{fontCharacter:"\\ea80"}),Codicon.trash=new Codicon("trash",{fontCharacter:"\\ea81"}),Codicon.trashcan=new Codicon("trashcan",{fontCharacter:"\\ea81"}),Codicon.history=new Codicon("history",{fontCharacter:"\\ea82"}),Codicon.clock=new Codicon("clock",{fontCharacter:"\\ea82"}),Codicon.folder=new Codicon("folder",{fontCharacter:"\\ea83"}),Codicon.fileDirectory=new Codicon("file-directory",{fontCharacter:"\\ea83"}),Codicon.symbolFolder=new Codicon("symbol-folder",{fontCharacter:"\\ea83"}),Codicon.logoGithub=new Codicon("logo-github",{fontCharacter:"\\ea84"}),Codicon.markGithub=new Codicon("mark-github",{fontCharacter:"\\ea84"}),Codicon.github=new Codicon("github",{fontCharacter:"\\ea84"}),Codicon.terminal=new Codicon("terminal",{fontCharacter:"\\ea85"}),Codicon.console=new Codicon("console",{fontCharacter:"\\ea85"}),Codicon.repl=new Codicon("repl",{fontCharacter:"\\ea85"}),Codicon.zap=new Codicon("zap",{fontCharacter:"\\ea86"}),Codicon.symbolEvent=new Codicon("symbol-event",{fontCharacter:"\\ea86"}),Codicon.error=new Codicon("error",{fontCharacter:"\\ea87"}),Codicon.stop=new Codicon("stop",{fontCharacter:"\\ea87"}),Codicon.variable=new Codicon("variable",{fontCharacter:"\\ea88"}),Codicon.symbolVariable=new Codicon("symbol-variable",{fontCharacter:"\\ea88"}),Codicon.array=new Codicon("array",{fontCharacter:"\\ea8a"}),Codicon.symbolArray=new Codicon("symbol-array",{fontCharacter:"\\ea8a"}),Codicon.symbolModule=new Codicon("symbol-module",{fontCharacter:"\\ea8b"}),Codicon.symbolPackage=new Codicon("symbol-package",{fontCharacter:"\\ea8b"}),Codicon.symbolNamespace=new Codicon("symbol-namespace",{fontCharacter:"\\ea8b"}),Codicon.symbolObject=new Codicon("symbol-object",{fontCharacter:"\\ea8b"}),Codicon.symbolMethod=new Codicon("symbol-method",{fontCharacter:"\\ea8c"}),Codicon.symbolFunction=new Codicon("symbol-function",{fontCharacter:"\\ea8c"}),Codicon.symbolConstructor=new Codicon("symbol-constructor",{fontCharacter:"\\ea8c"}),Codicon.symbolBoolean=new Codicon("symbol-boolean",{fontCharacter:"\\ea8f"}),Codicon.symbolNull=new Codicon("symbol-null",{fontCharacter:"\\ea8f"}),Codicon.symbolNumeric=new Codicon("symbol-numeric",{fontCharacter:"\\ea90"}),Codicon.symbolNumber=new Codicon("symbol-number",{fontCharacter:"\\ea90"}),Codicon.symbolStructure=new Codicon("symbol-structure",{fontCharacter:"\\ea91"}),Codicon.symbolStruct=new Codicon("symbol-struct",{fontCharacter:"\\ea91"}),Codicon.symbolParameter=new Codicon("symbol-parameter",{fontCharacter:"\\ea92"}),Codicon.symbolTypeParameter=new Codicon("symbol-type-parameter",{fontCharacter:"\\ea92"}),Codicon.symbolKey=new Codicon("symbol-key",{fontCharacter:"\\ea93"}),Codicon.symbolText=new Codicon("symbol-text",{fontCharacter:"\\ea93"}),Codicon.symbolReference=new Codicon("symbol-reference",{fontCharacter:"\\ea94"}),Codicon.goToFile=new Codicon("go-to-file",{fontCharacter:"\\ea94"}),Codicon.symbolEnum=new Codicon("symbol-enum",{fontCharacter:"\\ea95"}),Codicon.symbolValue=new Codicon("symbol-value",{fontCharacter:"\\ea95"}),Codicon.symbolRuler=new Codicon("symbol-ruler",{fontCharacter:"\\ea96"}),Codicon.symbolUnit=new Codicon("symbol-unit",{fontCharacter:"\\ea96"}),Codicon.activateBreakpoints=new Codicon("activate-breakpoints",{fontCharacter:"\\ea97"}),Codicon.archive=new Codicon("archive",{fontCharacter:"\\ea98"}),Codicon.arrowBoth=new Codicon("arrow-both",{fontCharacter:"\\ea99"}),Codicon.arrowDown=new Codicon("arrow-down",{fontCharacter:"\\ea9a"}),Codicon.arrowLeft=new Codicon("arrow-left",{fontCharacter:"\\ea9b"}),Codicon.arrowRight=new Codicon("arrow-right",{fontCharacter:"\\ea9c"}),Codicon.arrowSmallDown=new Codicon("arrow-small-down",{fontCharacter:"\\ea9d"}),Codicon.arrowSmallLeft=new Codicon("arrow-small-left",{fontCharacter:"\\ea9e"}),Codicon.arrowSmallRight=new Codicon("arrow-small-right",{fontCharacter:"\\ea9f"}),Codicon.arrowSmallUp=new Codicon("arrow-small-up",{fontCharacter:"\\eaa0"}),Codicon.arrowUp=new Codicon("arrow-up",{fontCharacter:"\\eaa1"}),Codicon.bell=new Codicon("bell",{fontCharacter:"\\eaa2"}),Codicon.bold=new Codicon("bold",{fontCharacter:"\\eaa3"}),Codicon.book=new Codicon("book",{fontCharacter:"\\eaa4"}),Codicon.bookmark=new Codicon("bookmark",{fontCharacter:"\\eaa5"}),Codicon.debugBreakpointConditionalUnverified=new Codicon("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),Codicon.debugBreakpointConditional=new Codicon("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),Codicon.debugBreakpointConditionalDisabled=new Codicon("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),Codicon.debugBreakpointDataUnverified=new Codicon("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),Codicon.debugBreakpointData=new Codicon("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),Codicon.debugBreakpointDataDisabled=new Codicon("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),Codicon.debugBreakpointLogUnverified=new Codicon("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),Codicon.debugBreakpointLog=new Codicon("debug-breakpoint-log",{fontCharacter:"\\eaab"}),Codicon.debugBreakpointLogDisabled=new Codicon("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),Codicon.briefcase=new Codicon("briefcase",{fontCharacter:"\\eaac"}),Codicon.broadcast=new Codicon("broadcast",{fontCharacter:"\\eaad"}),Codicon.browser=new Codicon("browser",{fontCharacter:"\\eaae"}),Codicon.bug=new Codicon("bug",{fontCharacter:"\\eaaf"}),Codicon.calendar=new Codicon("calendar",{fontCharacter:"\\eab0"}),Codicon.caseSensitive=new Codicon("case-sensitive",{fontCharacter:"\\eab1"}),Codicon.check=new Codicon("check",{fontCharacter:"\\eab2"}),Codicon.checklist=new Codicon("checklist",{fontCharacter:"\\eab3"}),Codicon.chevronDown=new Codicon("chevron-down",{fontCharacter:"\\eab4"}),Codicon.chevronLeft=new Codicon("chevron-left",{fontCharacter:"\\eab5"}),Codicon.chevronRight=new Codicon("chevron-right",{fontCharacter:"\\eab6"}),Codicon.chevronUp=new Codicon("chevron-up",{fontCharacter:"\\eab7"}),Codicon.chromeClose=new Codicon("chrome-close",{fontCharacter:"\\eab8"}),Codicon.chromeMaximize=new Codicon("chrome-maximize",{fontCharacter:"\\eab9"}),Codicon.chromeMinimize=new Codicon("chrome-minimize",{fontCharacter:"\\eaba"}),Codicon.chromeRestore=new Codicon("chrome-restore",{fontCharacter:"\\eabb"}),Codicon.circleOutline=new Codicon("circle-outline",{fontCharacter:"\\eabc"}),Codicon.debugBreakpointUnverified=new Codicon("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),Codicon.circleSlash=new Codicon("circle-slash",{fontCharacter:"\\eabd"}),Codicon.circuitBoard=new Codicon("circuit-board",{fontCharacter:"\\eabe"}),Codicon.clearAll=new Codicon("clear-all",{fontCharacter:"\\eabf"}),Codicon.clippy=new Codicon("clippy",{fontCharacter:"\\eac0"}),Codicon.closeAll=new Codicon("close-all",{fontCharacter:"\\eac1"}),Codicon.cloudDownload=new Codicon("cloud-download",{fontCharacter:"\\eac2"}),Codicon.cloudUpload=new Codicon("cloud-upload",{fontCharacter:"\\eac3"}),Codicon.code=new Codicon("code",{fontCharacter:"\\eac4"}),Codicon.collapseAll=new Codicon("collapse-all",{fontCharacter:"\\eac5"}),Codicon.colorMode=new Codicon("color-mode",{fontCharacter:"\\eac6"}),Codicon.commentDiscussion=new Codicon("comment-discussion",{fontCharacter:"\\eac7"}),Codicon.compareChanges=new Codicon("compare-changes",{fontCharacter:"\\eafd"}),Codicon.creditCard=new Codicon("credit-card",{fontCharacter:"\\eac9"}),Codicon.dash=new Codicon("dash",{fontCharacter:"\\eacc"}),Codicon.dashboard=new Codicon("dashboard",{fontCharacter:"\\eacd"}),Codicon.database=new Codicon("database",{fontCharacter:"\\eace"}),Codicon.debugContinue=new Codicon("debug-continue",{fontCharacter:"\\eacf"}),Codicon.debugDisconnect=new Codicon("debug-disconnect",{fontCharacter:"\\ead0"}),Codicon.debugPause=new Codicon("debug-pause",{fontCharacter:"\\ead1"}),Codicon.debugRestart=new Codicon("debug-restart",{fontCharacter:"\\ead2"}),Codicon.debugStart=new Codicon("debug-start",{fontCharacter:"\\ead3"}),Codicon.debugStepInto=new Codicon("debug-step-into",{fontCharacter:"\\ead4"}),Codicon.debugStepOut=new Codicon("debug-step-out",{fontCharacter:"\\ead5"}),Codicon.debugStepOver=new Codicon("debug-step-over",{fontCharacter:"\\ead6"}),Codicon.debugStop=new Codicon("debug-stop",{fontCharacter:"\\ead7"}),Codicon.debug=new Codicon("debug",{fontCharacter:"\\ead8"}),Codicon.deviceCameraVideo=new Codicon("device-camera-video",{fontCharacter:"\\ead9"}),Codicon.deviceCamera=new Codicon("device-camera",{fontCharacter:"\\eada"}),Codicon.deviceMobile=new Codicon("device-mobile",{fontCharacter:"\\eadb"}),Codicon.diffAdded=new Codicon("diff-added",{fontCharacter:"\\eadc"}),Codicon.diffIgnored=new Codicon("diff-ignored",{fontCharacter:"\\eadd"}),Codicon.diffModified=new Codicon("diff-modified",{fontCharacter:"\\eade"}),Codicon.diffRemoved=new Codicon("diff-removed",{fontCharacter:"\\eadf"}),Codicon.diffRenamed=new Codicon("diff-renamed",{fontCharacter:"\\eae0"}),Codicon.diff=new Codicon("diff",{fontCharacter:"\\eae1"}),Codicon.discard=new Codicon("discard",{fontCharacter:"\\eae2"}),Codicon.editorLayout=new Codicon("editor-layout",{fontCharacter:"\\eae3"}),Codicon.emptyWindow=new Codicon("empty-window",{fontCharacter:"\\eae4"}),Codicon.exclude=new Codicon("exclude",{fontCharacter:"\\eae5"}),Codicon.extensions=new Codicon("extensions",{fontCharacter:"\\eae6"}),Codicon.eyeClosed=new Codicon("eye-closed",{fontCharacter:"\\eae7"}),Codicon.fileBinary=new Codicon("file-binary",{fontCharacter:"\\eae8"}),Codicon.fileCode=new Codicon("file-code",{fontCharacter:"\\eae9"}),Codicon.fileMedia=new Codicon("file-media",{fontCharacter:"\\eaea"}),Codicon.filePdf=new Codicon("file-pdf",{fontCharacter:"\\eaeb"}),Codicon.fileSubmodule=new Codicon("file-submodule",{fontCharacter:"\\eaec"}),Codicon.fileSymlinkDirectory=new Codicon("file-symlink-directory",{fontCharacter:"\\eaed"}),Codicon.fileSymlinkFile=new Codicon("file-symlink-file",{fontCharacter:"\\eaee"}),Codicon.fileZip=new Codicon("file-zip",{fontCharacter:"\\eaef"}),Codicon.files=new Codicon("files",{fontCharacter:"\\eaf0"}),Codicon.filter=new Codicon("filter",{fontCharacter:"\\eaf1"}),Codicon.flame=new Codicon("flame",{fontCharacter:"\\eaf2"}),Codicon.foldDown=new Codicon("fold-down",{fontCharacter:"\\eaf3"}),Codicon.foldUp=new Codicon("fold-up",{fontCharacter:"\\eaf4"}),Codicon.fold=new Codicon("fold",{fontCharacter:"\\eaf5"}),Codicon.folderActive=new Codicon("folder-active",{fontCharacter:"\\eaf6"}),Codicon.folderOpened=new Codicon("folder-opened",{fontCharacter:"\\eaf7"}),Codicon.gear=new Codicon("gear",{fontCharacter:"\\eaf8"}),Codicon.gift=new Codicon("gift",{fontCharacter:"\\eaf9"}),Codicon.gistSecret=new Codicon("gist-secret",{fontCharacter:"\\eafa"}),Codicon.gist=new Codicon("gist",{fontCharacter:"\\eafb"}),Codicon.gitCommit=new Codicon("git-commit",{fontCharacter:"\\eafc"}),Codicon.gitCompare=new Codicon("git-compare",{fontCharacter:"\\eafd"}),Codicon.gitMerge=new Codicon("git-merge",{fontCharacter:"\\eafe"}),Codicon.githubAction=new Codicon("github-action",{fontCharacter:"\\eaff"}),Codicon.githubAlt=new Codicon("github-alt",{fontCharacter:"\\eb00"}),Codicon.globe=new Codicon("globe",{fontCharacter:"\\eb01"}),Codicon.grabber=new Codicon("grabber",{fontCharacter:"\\eb02"}),Codicon.graph=new Codicon("graph",{fontCharacter:"\\eb03"}),Codicon.gripper=new Codicon("gripper",{fontCharacter:"\\eb04"}),Codicon.heart=new Codicon("heart",{fontCharacter:"\\eb05"}),Codicon.home=new Codicon("home",{fontCharacter:"\\eb06"}),Codicon.horizontalRule=new Codicon("horizontal-rule",{fontCharacter:"\\eb07"}),Codicon.hubot=new Codicon("hubot",{fontCharacter:"\\eb08"}),Codicon.inbox=new Codicon("inbox",{fontCharacter:"\\eb09"}),Codicon.issueClosed=new Codicon("issue-closed",{fontCharacter:"\\eba4"}),Codicon.issueReopened=new Codicon("issue-reopened",{fontCharacter:"\\eb0b"}),Codicon.issues=new Codicon("issues",{fontCharacter:"\\eb0c"}),Codicon.italic=new Codicon("italic",{fontCharacter:"\\eb0d"}),Codicon.jersey=new Codicon("jersey",{fontCharacter:"\\eb0e"}),Codicon.json=new Codicon("json",{fontCharacter:"\\eb0f"}),Codicon.kebabVertical=new Codicon("kebab-vertical",{fontCharacter:"\\eb10"}),Codicon.key=new Codicon("key",{fontCharacter:"\\eb11"}),Codicon.law=new Codicon("law",{fontCharacter:"\\eb12"}),Codicon.lightbulbAutofix=new Codicon("lightbulb-autofix",{fontCharacter:"\\eb13"}),Codicon.linkExternal=new Codicon("link-external",{fontCharacter:"\\eb14"}),Codicon.link=new Codicon("link",{fontCharacter:"\\eb15"}),Codicon.listOrdered=new Codicon("list-ordered",{fontCharacter:"\\eb16"}),Codicon.listUnordered=new Codicon("list-unordered",{fontCharacter:"\\eb17"}),Codicon.liveShare=new Codicon("live-share",{fontCharacter:"\\eb18"}),Codicon.loading=new Codicon("loading",{fontCharacter:"\\eb19"}),Codicon.location=new Codicon("location",{fontCharacter:"\\eb1a"}),Codicon.mailRead=new Codicon("mail-read",{fontCharacter:"\\eb1b"}),Codicon.mail=new Codicon("mail",{fontCharacter:"\\eb1c"}),Codicon.markdown=new Codicon("markdown",{fontCharacter:"\\eb1d"}),Codicon.megaphone=new Codicon("megaphone",{fontCharacter:"\\eb1e"}),Codicon.mention=new Codicon("mention",{fontCharacter:"\\eb1f"}),Codicon.milestone=new Codicon("milestone",{fontCharacter:"\\eb20"}),Codicon.mortarBoard=new Codicon("mortar-board",{fontCharacter:"\\eb21"}),Codicon.move=new Codicon("move",{fontCharacter:"\\eb22"}),Codicon.multipleWindows=new Codicon("multiple-windows",{fontCharacter:"\\eb23"}),Codicon.mute=new Codicon("mute",{fontCharacter:"\\eb24"}),Codicon.noNewline=new Codicon("no-newline",{fontCharacter:"\\eb25"}),Codicon.note=new Codicon("note",{fontCharacter:"\\eb26"}),Codicon.octoface=new Codicon("octoface",{fontCharacter:"\\eb27"}),Codicon.openPreview=new Codicon("open-preview",{fontCharacter:"\\eb28"}),Codicon.package_=new Codicon("package",{fontCharacter:"\\eb29"}),Codicon.paintcan=new Codicon("paintcan",{fontCharacter:"\\eb2a"}),Codicon.pin=new Codicon("pin",{fontCharacter:"\\eb2b"}),Codicon.play=new Codicon("play",{fontCharacter:"\\eb2c"}),Codicon.run=new Codicon("run",{fontCharacter:"\\eb2c"}),Codicon.plug=new Codicon("plug",{fontCharacter:"\\eb2d"}),Codicon.preserveCase=new Codicon("preserve-case",{fontCharacter:"\\eb2e"}),Codicon.preview=new Codicon("preview",{fontCharacter:"\\eb2f"}),Codicon.project=new Codicon("project",{fontCharacter:"\\eb30"}),Codicon.pulse=new Codicon("pulse",{fontCharacter:"\\eb31"}),Codicon.question=new Codicon("question",{fontCharacter:"\\eb32"}),Codicon.quote=new Codicon("quote",{fontCharacter:"\\eb33"}),Codicon.radioTower=new Codicon("radio-tower",{fontCharacter:"\\eb34"}),Codicon.reactions=new Codicon("reactions",{fontCharacter:"\\eb35"}),Codicon.references=new Codicon("references",{fontCharacter:"\\eb36"}),Codicon.refresh=new Codicon("refresh",{fontCharacter:"\\eb37"}),Codicon.regex=new Codicon("regex",{fontCharacter:"\\eb38"}),Codicon.remoteExplorer=new Codicon("remote-explorer",{fontCharacter:"\\eb39"}),Codicon.remote=new Codicon("remote",{fontCharacter:"\\eb3a"}),Codicon.remove=new Codicon("remove",{fontCharacter:"\\eb3b"}),Codicon.replaceAll=new Codicon("replace-all",{fontCharacter:"\\eb3c"}),Codicon.replace=new Codicon("replace",{fontCharacter:"\\eb3d"}),Codicon.repoClone=new Codicon("repo-clone",{fontCharacter:"\\eb3e"}),Codicon.repoForcePush=new Codicon("repo-force-push",{fontCharacter:"\\eb3f"}),Codicon.repoPull=new Codicon("repo-pull",{fontCharacter:"\\eb40"}),Codicon.repoPush=new Codicon("repo-push",{fontCharacter:"\\eb41"}),Codicon.report=new Codicon("report",{fontCharacter:"\\eb42"}),Codicon.requestChanges=new Codicon("request-changes",{fontCharacter:"\\eb43"}),Codicon.rocket=new Codicon("rocket",{fontCharacter:"\\eb44"}),Codicon.rootFolderOpened=new Codicon("root-folder-opened",{fontCharacter:"\\eb45"}),Codicon.rootFolder=new Codicon("root-folder",{fontCharacter:"\\eb46"}),Codicon.rss=new Codicon("rss",{fontCharacter:"\\eb47"}),Codicon.ruby=new Codicon("ruby",{fontCharacter:"\\eb48"}),Codicon.saveAll=new Codicon("save-all",{fontCharacter:"\\eb49"}),Codicon.saveAs=new Codicon("save-as",{fontCharacter:"\\eb4a"}),Codicon.save=new Codicon("save",{fontCharacter:"\\eb4b"}),Codicon.screenFull=new Codicon("screen-full",{fontCharacter:"\\eb4c"}),Codicon.screenNormal=new Codicon("screen-normal",{fontCharacter:"\\eb4d"}),Codicon.searchStop=new Codicon("search-stop",{fontCharacter:"\\eb4e"}),Codicon.server=new Codicon("server",{fontCharacter:"\\eb50"}),Codicon.settingsGear=new Codicon("settings-gear",{fontCharacter:"\\eb51"}),Codicon.settings=new Codicon("settings",{fontCharacter:"\\eb52"}),Codicon.shield=new Codicon("shield",{fontCharacter:"\\eb53"}),Codicon.smiley=new Codicon("smiley",{fontCharacter:"\\eb54"}),Codicon.sortPrecedence=new Codicon("sort-precedence",{fontCharacter:"\\eb55"}),Codicon.splitHorizontal=new Codicon("split-horizontal",{fontCharacter:"\\eb56"}),Codicon.splitVertical=new Codicon("split-vertical",{fontCharacter:"\\eb57"}),Codicon.squirrel=new Codicon("squirrel",{fontCharacter:"\\eb58"}),Codicon.starFull=new Codicon("star-full",{fontCharacter:"\\eb59"}),Codicon.starHalf=new Codicon("star-half",{fontCharacter:"\\eb5a"}),Codicon.symbolClass=new Codicon("symbol-class",{fontCharacter:"\\eb5b"}),Codicon.symbolColor=new Codicon("symbol-color",{fontCharacter:"\\eb5c"}),Codicon.symbolConstant=new Codicon("symbol-constant",{fontCharacter:"\\eb5d"}),Codicon.symbolEnumMember=new Codicon("symbol-enum-member",{fontCharacter:"\\eb5e"}),Codicon.symbolField=new Codicon("symbol-field",{fontCharacter:"\\eb5f"}),Codicon.symbolFile=new Codicon("symbol-file",{fontCharacter:"\\eb60"}),Codicon.symbolInterface=new Codicon("symbol-interface",{fontCharacter:"\\eb61"}),Codicon.symbolKeyword=new Codicon("symbol-keyword",{fontCharacter:"\\eb62"}),Codicon.symbolMisc=new Codicon("symbol-misc",{fontCharacter:"\\eb63"}),Codicon.symbolOperator=new Codicon("symbol-operator",{fontCharacter:"\\eb64"}),Codicon.symbolProperty=new Codicon("symbol-property",{fontCharacter:"\\eb65"}),Codicon.wrench=new Codicon("wrench",{fontCharacter:"\\eb65"}),Codicon.wrenchSubaction=new Codicon("wrench-subaction",{fontCharacter:"\\eb65"}),Codicon.symbolSnippet=new Codicon("symbol-snippet",{fontCharacter:"\\eb66"}),Codicon.tasklist=new Codicon("tasklist",{fontCharacter:"\\eb67"}),Codicon.telescope=new Codicon("telescope",{fontCharacter:"\\eb68"}),Codicon.textSize=new Codicon("text-size",{fontCharacter:"\\eb69"}),Codicon.threeBars=new Codicon("three-bars",{fontCharacter:"\\eb6a"}),Codicon.thumbsdown=new Codicon("thumbsdown",{fontCharacter:"\\eb6b"}),Codicon.thumbsup=new Codicon("thumbsup",{fontCharacter:"\\eb6c"}),Codicon.tools=new Codicon("tools",{fontCharacter:"\\eb6d"}),Codicon.triangleDown=new Codicon("triangle-down",{fontCharacter:"\\eb6e"}),Codicon.triangleLeft=new Codicon("triangle-left",{fontCharacter:"\\eb6f"}),Codicon.triangleRight=new Codicon("triangle-right",{fontCharacter:"\\eb70"}),Codicon.triangleUp=new Codicon("triangle-up",{fontCharacter:"\\eb71"}),Codicon.twitter=new Codicon("twitter",{fontCharacter:"\\eb72"}),Codicon.unfold=new Codicon("unfold",{fontCharacter:"\\eb73"}),Codicon.unlock=new Codicon("unlock",{fontCharacter:"\\eb74"}),Codicon.unmute=new Codicon("unmute",{fontCharacter:"\\eb75"}),Codicon.unverified=new Codicon("unverified",{fontCharacter:"\\eb76"}),Codicon.verified=new Codicon("verified",{fontCharacter:"\\eb77"}),Codicon.versions=new Codicon("versions",{fontCharacter:"\\eb78"}),Codicon.vmActive=new Codicon("vm-active",{fontCharacter:"\\eb79"}),Codicon.vmOutline=new Codicon("vm-outline",{fontCharacter:"\\eb7a"}),Codicon.vmRunning=new Codicon("vm-running",{fontCharacter:"\\eb7b"}),Codicon.watch=new Codicon("watch",{fontCharacter:"\\eb7c"}),Codicon.whitespace=new Codicon("whitespace",{fontCharacter:"\\eb7d"}),Codicon.wholeWord=new Codicon("whole-word",{fontCharacter:"\\eb7e"}),Codicon.window=new Codicon("window",{fontCharacter:"\\eb7f"}),Codicon.wordWrap=new Codicon("word-wrap",{fontCharacter:"\\eb80"}),Codicon.zoomIn=new Codicon("zoom-in",{fontCharacter:"\\eb81"}),Codicon.zoomOut=new Codicon("zoom-out",{fontCharacter:"\\eb82"}),Codicon.listFilter=new Codicon("list-filter",{fontCharacter:"\\eb83"}),Codicon.listFlat=new Codicon("list-flat",{fontCharacter:"\\eb84"}),Codicon.listSelection=new Codicon("list-selection",{fontCharacter:"\\eb85"}),Codicon.selection=new Codicon("selection",{fontCharacter:"\\eb85"}),Codicon.listTree=new Codicon("list-tree",{fontCharacter:"\\eb86"}),Codicon.debugBreakpointFunctionUnverified=new Codicon("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),Codicon.debugBreakpointFunction=new Codicon("debug-breakpoint-function",{fontCharacter:"\\eb88"}),Codicon.debugBreakpointFunctionDisabled=new Codicon("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),Codicon.debugStackframeActive=new Codicon("debug-stackframe-active",{fontCharacter:"\\eb89"}),Codicon.debugStackframeDot=new Codicon("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),Codicon.debugStackframe=new Codicon("debug-stackframe",{fontCharacter:"\\eb8b"}),Codicon.debugStackframeFocused=new Codicon("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),Codicon.debugBreakpointUnsupported=new Codicon("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),Codicon.symbolString=new Codicon("symbol-string",{fontCharacter:"\\eb8d"}),Codicon.debugReverseContinue=new Codicon("debug-reverse-continue",{fontCharacter:"\\eb8e"}),Codicon.debugStepBack=new Codicon("debug-step-back",{fontCharacter:"\\eb8f"}),Codicon.debugRestartFrame=new Codicon("debug-restart-frame",{fontCharacter:"\\eb90"}),Codicon.callIncoming=new Codicon("call-incoming",{fontCharacter:"\\eb92"}),Codicon.callOutgoing=new Codicon("call-outgoing",{fontCharacter:"\\eb93"}),Codicon.menu=new Codicon("menu",{fontCharacter:"\\eb94"}),Codicon.expandAll=new Codicon("expand-all",{fontCharacter:"\\eb95"}),Codicon.feedback=new Codicon("feedback",{fontCharacter:"\\eb96"}),Codicon.groupByRefType=new Codicon("group-by-ref-type",{fontCharacter:"\\eb97"}),Codicon.ungroupByRefType=new Codicon("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),Codicon.account=new Codicon("account",{fontCharacter:"\\eb99"}),Codicon.bellDot=new Codicon("bell-dot",{fontCharacter:"\\eb9a"}),Codicon.debugConsole=new Codicon("debug-console",{fontCharacter:"\\eb9b"}),Codicon.library=new Codicon("library",{fontCharacter:"\\eb9c"}),Codicon.output=new Codicon("output",{fontCharacter:"\\eb9d"}),Codicon.runAll=new Codicon("run-all",{fontCharacter:"\\eb9e"}),Codicon.syncIgnored=new Codicon("sync-ignored",{fontCharacter:"\\eb9f"}),Codicon.pinned=new Codicon("pinned",{fontCharacter:"\\eba0"}),Codicon.githubInverted=new Codicon("github-inverted",{fontCharacter:"\\eba1"}),Codicon.debugAlt=new Codicon("debug-alt",{fontCharacter:"\\eb91"}),Codicon.serverProcess=new Codicon("server-process",{fontCharacter:"\\eba2"}),Codicon.serverEnvironment=new Codicon("server-environment",{fontCharacter:"\\eba3"}),Codicon.pass=new Codicon("pass",{fontCharacter:"\\eba4"}),Codicon.stopCircle=new Codicon("stop-circle",{fontCharacter:"\\eba5"}),Codicon.playCircle=new Codicon("play-circle",{fontCharacter:"\\eba6"}),Codicon.record=new Codicon("record",{fontCharacter:"\\eba7"}),Codicon.debugAltSmall=new Codicon("debug-alt-small",{fontCharacter:"\\eba8"}),Codicon.vmConnect=new Codicon("vm-connect",{fontCharacter:"\\eba9"}),Codicon.cloud=new Codicon("cloud",{fontCharacter:"\\ebaa"}),Codicon.merge=new Codicon("merge",{fontCharacter:"\\ebab"}),Codicon.exportIcon=new Codicon("export",{fontCharacter:"\\ebac"}),Codicon.graphLeft=new Codicon("graph-left",{fontCharacter:"\\ebad"}),Codicon.magnet=new Codicon("magnet",{fontCharacter:"\\ebae"}),Codicon.notebook=new Codicon("notebook",{fontCharacter:"\\ebaf"}),Codicon.redo=new Codicon("redo",{fontCharacter:"\\ebb0"}),Codicon.checkAll=new Codicon("check-all",{fontCharacter:"\\ebb1"}),Codicon.pinnedDirty=new Codicon("pinned-dirty",{fontCharacter:"\\ebb2"}),Codicon.passFilled=new Codicon("pass-filled",{fontCharacter:"\\ebb3"}),Codicon.circleLargeFilled=new Codicon("circle-large-filled",{fontCharacter:"\\ebb4"}),Codicon.circleLargeOutline=new Codicon("circle-large-outline",{fontCharacter:"\\ebb5"}),Codicon.combine=new Codicon("combine",{fontCharacter:"\\ebb6"}),Codicon.gather=new Codicon("gather",{fontCharacter:"\\ebb6"}),Codicon.table=new Codicon("table",{fontCharacter:"\\ebb7"}),Codicon.variableGroup=new Codicon("variable-group",{fontCharacter:"\\ebb8"}),Codicon.typeHierarchy=new Codicon("type-hierarchy",{fontCharacter:"\\ebb9"}),Codicon.typeHierarchySub=new Codicon("type-hierarchy-sub",{fontCharacter:"\\ebba"}),Codicon.typeHierarchySuper=new Codicon("type-hierarchy-super",{fontCharacter:"\\ebbb"}),Codicon.gitPullRequestCreate=new Codicon("git-pull-request-create",{fontCharacter:"\\ebbc"}),Codicon.runAbove=new Codicon("run-above",{fontCharacter:"\\ebbd"}),Codicon.runBelow=new Codicon("run-below",{fontCharacter:"\\ebbe"}),Codicon.notebookTemplate=new Codicon("notebook-template",{fontCharacter:"\\ebbf"}),Codicon.debugRerun=new Codicon("debug-rerun",{fontCharacter:"\\ebc0"}),Codicon.workspaceTrusted=new Codicon("workspace-trusted",{fontCharacter:"\\ebc1"}),Codicon.workspaceUntrusted=new Codicon("workspace-untrusted",{fontCharacter:"\\ebc2"}),Codicon.workspaceUnspecified=new Codicon("workspace-unspecified",{fontCharacter:"\\ebc3"}),Codicon.terminalCmd=new Codicon("terminal-cmd",{fontCharacter:"\\ebc4"}),Codicon.terminalDebian=new Codicon("terminal-debian",{fontCharacter:"\\ebc5"}),Codicon.terminalLinux=new Codicon("terminal-linux",{fontCharacter:"\\ebc6"}),Codicon.terminalPowershell=new Codicon("terminal-powershell",{fontCharacter:"\\ebc7"}),Codicon.terminalTmux=new Codicon("terminal-tmux",{fontCharacter:"\\ebc8"}),Codicon.terminalUbuntu=new Codicon("terminal-ubuntu",{fontCharacter:"\\ebc9"}),Codicon.terminalBash=new Codicon("terminal-bash",{fontCharacter:"\\ebca"}),Codicon.arrowSwap=new Codicon("arrow-swap",{fontCharacter:"\\ebcb"}),Codicon.copy=new Codicon("copy",{fontCharacter:"\\ebcc"}),Codicon.personAdd=new Codicon("person-add",{fontCharacter:"\\ebcd"}),Codicon.filterFilled=new Codicon("filter-filled",{fontCharacter:"\\ebce"}),Codicon.wand=new Codicon("wand",{fontCharacter:"\\ebcf"}),Codicon.debugLineByLine=new Codicon("debug-line-by-line",{fontCharacter:"\\ebd0"}),Codicon.inspect=new Codicon("inspect",{fontCharacter:"\\ebd1"}),Codicon.layers=new Codicon("layers",{fontCharacter:"\\ebd2"}),Codicon.layersDot=new Codicon("layers-dot",{fontCharacter:"\\ebd3"}),Codicon.layersActive=new Codicon("layers-active",{fontCharacter:"\\ebd4"}),Codicon.compass=new Codicon("compass",{fontCharacter:"\\ebd5"}),Codicon.compassDot=new Codicon("compass-dot",{fontCharacter:"\\ebd6"}),Codicon.compassActive=new Codicon("compass-active",{fontCharacter:"\\ebd7"}),Codicon.azure=new Codicon("azure",{fontCharacter:"\\ebd8"}),Codicon.issueDraft=new Codicon("issue-draft",{fontCharacter:"\\ebd9"}),Codicon.gitPullRequestClosed=new Codicon("git-pull-request-closed",{fontCharacter:"\\ebda"}),Codicon.gitPullRequestDraft=new Codicon("git-pull-request-draft",{fontCharacter:"\\ebdb"}),Codicon.debugAll=new Codicon("debug-all",{fontCharacter:"\\ebdc"}),Codicon.debugCoverage=new Codicon("debug-coverage",{fontCharacter:"\\ebdd"}),Codicon.dropDownButton=new Codicon("drop-down-button",Codicon.chevronDown.definition);var $bef59326251d24bb$export$bdedbd166418c21e={__proto__:null,iconRegistry:$bef59326251d24bb$var$iconRegistry,registerCodicon:$bef59326251d24bb$var$registerCodicon,getCodiconAriaLabel:$bef59326251d24bb$var$getCodiconAriaLabel,get Codicon(){return $bef59326251d24bb$var$Codicon},getClassNamesArray:$bef59326251d24bb$var$getClassNamesArray,get CSSIcon(){return $bef59326251d24bb$var$CSSIcon}},$bef59326251d24bb$var$hasOwnProperty=Object.prototype.hasOwnProperty;function $bef59326251d24bb$var$values(e){var t=[];for(var r in e)$bef59326251d24bb$var$hasOwnProperty.call(e,r)&&t.push(e[r]);return t}function $bef59326251d24bb$var$forEach(e,t){var r=function(r){if($bef59326251d24bb$var$hasOwnProperty.call(e,r)&&!1===t({key:r,value:e[r]},(function(){delete e[r]})))return{v:void 0}};for(var n in e){var i=r(n);if("object"===(0,$dCPLc.default)(i))return i.v}}function $bef59326251d24bb$var$groupBy(e,t){var r=Object.create(null),n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=t(u),l=r[c];l||(l=r[c]=[]),l.push(u)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function $bef59326251d24bb$var$fromMap(e){var t=Object.create(null);return e&&e.forEach((function(e,r){t[r]=e})),t}function $bef59326251d24bb$var$diffSets(e,t){var r=[],n=[],i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t.has(c)||r.push(c)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}var l=!0,f=!1,d=void 0;try{for(var h,v=t[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var p=h.value;e.has(p)||n.push(p)}}catch(e){f=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}return{removed:r,added:n}}function $bef59326251d24bb$var$diffMaps(e,t){var r=[],n=[],i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=(0,$dVhHy.default)(s.value,2),l=c[0],f=c[1];t.has(l)||r.push(f)}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}var d=!0,h=!1,v=void 0;try{for(var p,b=t[Symbol.iterator]();!(d=(p=b.next()).done);d=!0){var g=(0,$dVhHy.default)(p.value,2),m=g[0],$=g[1];e.has(m)||n.push($)}}catch(e){h=!0,v=e}finally{try{d||null==b.return||b.return()}finally{if(h)throw v}}return{removed:r,added:n}}var $bef59326251d24bb$var$SetMap=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.map=new Map}return(0,$9HoHC.default)(e,[{key:"add",value:function(e,t){var r=this.map.get(e);r||(r=new Set,this.map.set(e,r)),r.add(t)}},{key:"delete",value:function(e,t){var r=this.map.get(e);r&&(r.delete(t),0===r.size&&this.map.delete(e))}},{key:"forEach",value:function(e,t){var r=this.map.get(e);r&&r.forEach(t)}}]),e}(),$bef59326251d24bb$export$167de583c0ce0e55={__proto__:null,values:$bef59326251d24bb$var$values,forEach:$bef59326251d24bb$var$forEach,groupBy:$bef59326251d24bb$var$groupBy,fromMap:$bef59326251d24bb$var$fromMap,diffSets:$bef59326251d24bb$var$diffSets,diffMaps:$bef59326251d24bb$var$diffMaps,SetMap:$bef59326251d24bb$var$SetMap};function $bef59326251d24bb$var$roundFloat(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}var $bef59326251d24bb$var$RGBA=function(){"use strict";function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,$4JAgF.default)(this,e),this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,r)),this.b=0|Math.min(255,Math.max(0,n)),this.a=$bef59326251d24bb$var$roundFloat(Math.max(Math.min(1,i),0),3)}return(0,$9HoHC.default)(e,null,[{key:"equals",value:function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}]),e}(),$bef59326251d24bb$var$HSLA=function(){"use strict";function e(t,r,n,i){(0,$4JAgF.default)(this,e),this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=$bef59326251d24bb$var$roundFloat(Math.max(Math.min(1,r),0),3),this.l=$bef59326251d24bb$var$roundFloat(Math.max(Math.min(1,n),0),3),this.a=$bef59326251d24bb$var$roundFloat(Math.max(Math.min(1,i),0),3)}return(0,$9HoHC.default)(e,null,[{key:"equals",value:function(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}},{key:"fromRGBA",value:function(t){var r=t.r/255,n=t.g/255,i=t.b/255,a=t.a,o=Math.max(r,n,i),s=Math.min(r,n,i),u=0,c=0,l=(s+o)/2,f=o-s;if(f>0){switch(c=Math.min(l<=.5?f/(2*l):f/(2-2*l),1),o){case r:u=(n-i)/f+(n<i?6:0);break;case n:u=(i-r)/f+2;break;case i:u=(r-n)/f+4}u*=60,u=Math.round(u)}return new e(u,c,l,a)}},{key:"_hue2rgb",value:function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}},{key:"toRGBA",value:function(t){var r,n,i,a=t.h/360,o=t.s,s=t.l,u=t.a;if(0===o)r=n=i=s;else{var c=s<.5?s*(1+o):s+o-s*o,l=2*s-c;r=e._hue2rgb(l,c,a+1/3),n=e._hue2rgb(l,c,a),i=e._hue2rgb(l,c,a-1/3)}return new $bef59326251d24bb$var$RGBA(Math.round(255*r),Math.round(255*n),Math.round(255*i),u)}}]),e}(),$bef59326251d24bb$var$HSVA=function(){"use strict";function e(t,r,n,i){(0,$4JAgF.default)(this,e),this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=$bef59326251d24bb$var$roundFloat(Math.max(Math.min(1,r),0),3),this.v=$bef59326251d24bb$var$roundFloat(Math.max(Math.min(1,n),0),3),this.a=$bef59326251d24bb$var$roundFloat(Math.max(Math.min(1,i),0),3)}return(0,$9HoHC.default)(e,null,[{key:"equals",value:function(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}},{key:"fromRGBA",value:function(t){var r,n=t.r/255,i=t.g/255,a=t.b/255,o=Math.max(n,i,a),s=o-Math.min(n,i,a),u=0===o?0:s/o;return r=0===s?0:o===n?((i-a)/s%6+6)%6:o===i?(a-n)/s+2:(n-i)/s+4,new e(Math.round(60*r),u,o,t.a)}},{key:"toRGBA",value:function(e){var t=e.h,r=e.s,n=e.v,i=e.a,a=n*r,o=a*(1-Math.abs(t/60%2-1)),s=n-a,u=0,c=0,l=0;return t<60?(u=a,c=o):t<120?(u=o,c=a):t<180?(c=a,l=o):t<240?(c=o,l=a):t<300?(u=o,l=a):t<=360&&(u=a,l=o),u=Math.round(255*(u+s)),c=Math.round(255*(c+s)),l=Math.round(255*(l+s)),new $bef59326251d24bb$var$RGBA(u,c,l,i)}}]),e}(),$bef59326251d24bb$var$Color=function(){"use strict";function e(t){if((0,$4JAgF.default)(this,e),!t)throw new Error("Color needs a value");if(t instanceof $bef59326251d24bb$var$RGBA)this.rgba=t;else if(t instanceof $bef59326251d24bb$var$HSLA)this._hsla=t,this.rgba=$bef59326251d24bb$var$HSLA.toRGBA(t);else{if(!(t instanceof $bef59326251d24bb$var$HSVA))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=$bef59326251d24bb$var$HSVA.toRGBA(t)}}return(0,$9HoHC.default)(e,[{key:"hsla",get:function(){return this._hsla?this._hsla:$bef59326251d24bb$var$HSLA.fromRGBA(this.rgba)}},{key:"hsva",get:function(){return this._hsva?this._hsva:$bef59326251d24bb$var$HSVA.fromRGBA(this.rgba)}},{key:"equals",value:function(e){return!!e&&$bef59326251d24bb$var$RGBA.equals(this.rgba,e.rgba)&&$bef59326251d24bb$var$HSLA.equals(this.hsla,e.hsla)&&$bef59326251d24bb$var$HSVA.equals(this.hsva,e.hsva)}},{key:"getRelativeLuminance",value:function(){return $bef59326251d24bb$var$roundFloat(.2126*e._relativeLuminanceForComponent(this.rgba.r)+.7152*e._relativeLuminanceForComponent(this.rgba.g)+.0722*e._relativeLuminanceForComponent(this.rgba.b),4)}},{key:"getContrastRatio",value:function(e){var t=this.getRelativeLuminance(),r=e.getRelativeLuminance();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)}},{key:"isDarker",value:function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}},{key:"isLighter",value:function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}},{key:"isLighterThan",value:function(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}},{key:"isDarkerThan",value:function(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}},{key:"lighten",value:function(t){return new e(new $bef59326251d24bb$var$HSLA(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}},{key:"darken",value:function(t){return new e(new $bef59326251d24bb$var$HSLA(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}},{key:"transparent",value:function(t){var r=this.rgba,n=r.r,i=r.g,a=r.b,o=r.a;return new e(new $bef59326251d24bb$var$RGBA(n,i,a,o*t))}},{key:"isTransparent",value:function(){return 0===this.rgba.a}},{key:"isOpaque",value:function(){return 1===this.rgba.a}},{key:"opposite",value:function(){return new e(new $bef59326251d24bb$var$RGBA(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}},{key:"blend",value:function(t){var r=t.rgba,n=this.rgba.a,i=r.a,a=n+i*(1-n);if(a<1e-6)return e.transparent;var o=this.rgba.r*n/a+r.r*i*(1-n)/a,s=this.rgba.g*n/a+r.g*i*(1-n)/a,u=this.rgba.b*n/a+r.b*i*(1-n)/a;return new e(new $bef59326251d24bb$var$RGBA(o,s,u,a))}},{key:"makeOpaque",value:function(t){if(this.isOpaque()||1!==t.rgba.a)return this;var r=this.rgba,n=r.r,i=r.g,a=r.b,o=r.a;return new e(new $bef59326251d24bb$var$RGBA(t.rgba.r-o*(t.rgba.r-n),t.rgba.g-o*(t.rgba.g-i),t.rgba.b-o*(t.rgba.b-a),1))}},{key:"flatten",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.reduceRight((function(t,r){return e._flatten(r,t)}));return e._flatten(this,i)}},{key:"toString",value:function(){return""+e.Format.CSS.format(this)}}],[{key:"fromHex",value:function(t){return e.Format.CSS.parseHex(t)||e.red}},{key:"_relativeLuminanceForComponent",value:function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}},{key:"_flatten",value:function(t,r){var n=1-t.rgba.a;return new e(new $bef59326251d24bb$var$RGBA(n*r.rgba.r+t.rgba.a*t.rgba.r,n*r.rgba.g+t.rgba.a*t.rgba.g,n*r.rgba.b+t.rgba.a*t.rgba.b))}},{key:"getLighterColor",value:function(e,t,r){if(e.isLighterThan(t))return e;r=r||.5;var n=e.getRelativeLuminance(),i=t.getRelativeLuminance();return r=r*(i-n)/i,e.lighten(r)}},{key:"getDarkerColor",value:function(e,t,r){if(e.isDarkerThan(t))return e;r=r||.5;var n=e.getRelativeLuminance();return r=r*(n-t.getRelativeLuminance())/n,e.darken(r)}}]),e}(),Color,Format,CSS,_toTwoDigitHex,_parseHexDigit;$bef59326251d24bb$var$Color.white=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(255,255,255,1)),$bef59326251d24bb$var$Color.black=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(0,0,0,1)),$bef59326251d24bb$var$Color.red=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(255,0,0,1)),$bef59326251d24bb$var$Color.blue=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(0,0,255,1)),$bef59326251d24bb$var$Color.green=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(0,255,0,1)),$bef59326251d24bb$var$Color.cyan=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(0,255,255,1)),$bef59326251d24bb$var$Color.lightgrey=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(211,211,211,1)),$bef59326251d24bb$var$Color.transparent=new $bef59326251d24bb$var$Color(new $bef59326251d24bb$var$RGBA(0,0,0,0)),Color=$bef59326251d24bb$var$Color||($bef59326251d24bb$var$Color={}),Format=Color.Format||(Color.Format={}),CSS=Format.CSS||(Format.CSS={}),_toTwoDigitHex=function(e){var t=e.toString(16);return 2!==t.length?"0"+t:t},_parseHexDigit=function(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0},CSS.formatRGB=function(e){return 1===e.rgba.a?"rgb(".concat(e.rgba.r,", ").concat(e.rgba.g,", ").concat(e.rgba.b,")"):Color.Format.CSS.formatRGBA(e)},CSS.formatRGBA=function(e){return"rgba(".concat(e.rgba.r,", ").concat(e.rgba.g,", ").concat(e.rgba.b,", ").concat(+e.rgba.a.toFixed(2),")")},CSS.formatHSL=function(e){return 1===e.hsla.a?"hsl(".concat(e.hsla.h,", ").concat((100*e.hsla.s).toFixed(2),"%, ").concat((100*e.hsla.l).toFixed(2),"%)"):Color.Format.CSS.formatHSLA(e)},CSS.formatHSLA=function(e){return"hsla(".concat(e.hsla.h,", ").concat((100*e.hsla.s).toFixed(2),"%, ").concat((100*e.hsla.l).toFixed(2),"%, ").concat(e.hsla.a.toFixed(2),")")},CSS.formatHex=function(e){return"#".concat(_toTwoDigitHex(e.rgba.r)).concat(_toTwoDigitHex(e.rgba.g)).concat(_toTwoDigitHex(e.rgba.b))},CSS.formatHexA=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&1===e.rgba.a?Color.Format.CSS.formatHex(e):"#".concat(_toTwoDigitHex(e.rgba.r)).concat(_toTwoDigitHex(e.rgba.g)).concat(_toTwoDigitHex(e.rgba.b)).concat(_toTwoDigitHex(Math.round(255*e.rgba.a)))},CSS.format=function(e){return e.isOpaque()?Color.Format.CSS.formatHex(e):Color.Format.CSS.formatRGBA(e)},CSS.parseHex=function(e){var t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){var r=16*_parseHexDigit(e.charCodeAt(1))+_parseHexDigit(e.charCodeAt(2)),n=16*_parseHexDigit(e.charCodeAt(3))+_parseHexDigit(e.charCodeAt(4)),i=16*_parseHexDigit(e.charCodeAt(5))+_parseHexDigit(e.charCodeAt(6));return new Color(new $bef59326251d24bb$var$RGBA(r,n,i,1))}if(9===t){var a=16*_parseHexDigit(e.charCodeAt(1))+_parseHexDigit(e.charCodeAt(2)),o=16*_parseHexDigit(e.charCodeAt(3))+_parseHexDigit(e.charCodeAt(4)),s=16*_parseHexDigit(e.charCodeAt(5))+_parseHexDigit(e.charCodeAt(6)),u=16*_parseHexDigit(e.charCodeAt(7))+_parseHexDigit(e.charCodeAt(8));return new Color(new $bef59326251d24bb$var$RGBA(a,o,s,u/255))}if(4===t){var c=_parseHexDigit(e.charCodeAt(1)),l=_parseHexDigit(e.charCodeAt(2)),f=_parseHexDigit(e.charCodeAt(3));return new Color(new $bef59326251d24bb$var$RGBA(16*c+c,16*l+l,16*f+f))}if(5===t){var d=_parseHexDigit(e.charCodeAt(1)),h=_parseHexDigit(e.charCodeAt(2)),v=_parseHexDigit(e.charCodeAt(3)),p=_parseHexDigit(e.charCodeAt(4));return new Color(new $bef59326251d24bb$var$RGBA(16*d+d,16*h+h,16*v+v,(16*p+p)/255))}return null};var $bef59326251d24bb$export$35e9368ef982300f={__proto__:null,RGBA:$bef59326251d24bb$var$RGBA,HSLA:$bef59326251d24bb$var$HSLA,HSVA:$bef59326251d24bb$var$HSVA,get Color(){return $bef59326251d24bb$var$Color}},$bef59326251d24bb$var$intlFileNameCollatorBaseNumeric=new $bef59326251d24bb$var$IdleValue((function(){var e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}})),$bef59326251d24bb$var$intlFileNameCollatorNumeric=new $bef59326251d24bb$var$IdleValue((function(){return{collator:new Intl.Collator(void 0,{numeric:!0})}})),$bef59326251d24bb$var$intlFileNameCollatorNumericCaseInsensitive=new $bef59326251d24bb$var$IdleValue((function(){return{collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}}));function $bef59326251d24bb$var$compareFileNames(e,t){var r=e||"",n=t||"",i=$bef59326251d24bb$var$intlFileNameCollatorBaseNumeric.value.collator.compare(r,n);return $bef59326251d24bb$var$intlFileNameCollatorBaseNumeric.value.collatorIsNumeric&&0===i&&r!==n?r<n?-1:1:i}function $bef59326251d24bb$var$compareFileNamesDefault(e,t){return $bef59326251d24bb$var$compareAndDisambiguateByLength($bef59326251d24bb$var$intlFileNameCollatorNumeric.value.collator,e=e||"",t=t||"")}function $bef59326251d24bb$var$compareFileNamesUpper(e,t){var r=$bef59326251d24bb$var$intlFileNameCollatorNumeric.value.collator;return $bef59326251d24bb$var$compareCaseUpperFirst(e=e||"",t=t||"")||$bef59326251d24bb$var$compareAndDisambiguateByLength(r,e,t)}function $bef59326251d24bb$var$compareFileNamesLower(e,t){var r=$bef59326251d24bb$var$intlFileNameCollatorNumeric.value.collator;return $bef59326251d24bb$var$compareCaseLowerFirst(e=e||"",t=t||"")||$bef59326251d24bb$var$compareAndDisambiguateByLength(r,e,t)}function $bef59326251d24bb$var$compareFileNamesUnicode(e,t){return(e=e||"")===(t=t||"")?0:e<t?-1:1}function $bef59326251d24bb$var$noIntlCompareFileNames(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r||(e=e&&e.toLowerCase(),t=t&&t.toLowerCase());var n=(0,$dVhHy.default)($bef59326251d24bb$var$extractNameAndExtension(e),2),i=n[0],a=n[1],o=(0,$dVhHy.default)($bef59326251d24bb$var$extractNameAndExtension(t),2),s=o[0],u=o[1];return i!==s?i<s?-1:1:a===u?0:a<u?-1:1}function $bef59326251d24bb$var$compareFileExtensions(e,t){var r=(0,$dVhHy.default)($bef59326251d24bb$var$extractNameAndExtension(e),2),n=r[0],i=r[1],a=(0,$dVhHy.default)($bef59326251d24bb$var$extractNameAndExtension(t),2),o=a[0],s=a[1],u=$bef59326251d24bb$var$intlFileNameCollatorBaseNumeric.value.collator.compare(i,s);if(0===u){if($bef59326251d24bb$var$intlFileNameCollatorBaseNumeric.value.collatorIsNumeric&&i!==s)return i<s?-1:1;if(u=$bef59326251d24bb$var$intlFileNameCollatorBaseNumeric.value.collator.compare(n,o),$bef59326251d24bb$var$intlFileNameCollatorBaseNumeric.value.collatorIsNumeric&&0===u&&n!==o)return n<o?-1:1}return u}function $bef59326251d24bb$var$compareFileExtensionsDefault(e,t){t=t||"";var r=$bef59326251d24bb$var$extractExtension(e=e||""),n=$bef59326251d24bb$var$extractExtension(t),i=$bef59326251d24bb$var$intlFileNameCollatorNumeric.value.collator;return $bef59326251d24bb$var$compareAndDisambiguateByLength($bef59326251d24bb$var$intlFileNameCollatorNumericCaseInsensitive.value.collator,r,n)||$bef59326251d24bb$var$compareAndDisambiguateByLength(i,e,t)}function $bef59326251d24bb$var$compareFileExtensionsUpper(e,t){t=t||"";var r=$bef59326251d24bb$var$extractExtension(e=e||""),n=$bef59326251d24bb$var$extractExtension(t),i=$bef59326251d24bb$var$intlFileNameCollatorNumeric.value.collator;return $bef59326251d24bb$var$compareAndDisambiguateByLength($bef59326251d24bb$var$intlFileNameCollatorNumericCaseInsensitive.value.collator,r,n)||$bef59326251d24bb$var$compareCaseUpperFirst(e,t)||$bef59326251d24bb$var$compareAndDisambiguateByLength(i,e,t)}function $bef59326251d24bb$var$compareFileExtensionsLower(e,t){t=t||"";var r=$bef59326251d24bb$var$extractExtension(e=e||""),n=$bef59326251d24bb$var$extractExtension(t),i=$bef59326251d24bb$var$intlFileNameCollatorNumeric.value.collator;return $bef59326251d24bb$var$compareAndDisambiguateByLength($bef59326251d24bb$var$intlFileNameCollatorNumericCaseInsensitive.value.collator,r,n)||$bef59326251d24bb$var$compareCaseLowerFirst(e,t)||$bef59326251d24bb$var$compareAndDisambiguateByLength(i,e,t)}function $bef59326251d24bb$var$compareFileExtensionsUnicode(e,t){t=t||"";var r=$bef59326251d24bb$var$extractExtension(e=e||"").toLowerCase(),n=$bef59326251d24bb$var$extractExtension(t).toLowerCase();return r!==n?r<n?-1:1:e!==t?e<t?-1:1:0}var $bef59326251d24bb$var$FileNameMatch=/^(.*?)(\.([^.]*))?$/;function $bef59326251d24bb$var$extractNameAndExtension(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e?$bef59326251d24bb$var$FileNameMatch.exec(e):[],n=[r&&r[1]||"",r&&r[3]||""];return t&&(!n[0]&&n[1]||n[0]&&"."===n[0].charAt(0))&&(n=[n[0]+"."+n[1],""]),n}function $bef59326251d24bb$var$extractExtension(e){var t=e?$bef59326251d24bb$var$FileNameMatch.exec(e):[];return t&&t[1]&&"."!==t[1].charAt(0)&&t[3]||""}function $bef59326251d24bb$var$compareAndDisambiguateByLength(e,t,r){var n=e.compare(t,r);return 0!==n?n:t.length!==r.length?t.length<r.length?-1:1:0}function $bef59326251d24bb$var$startsWithLower(e){var t=e.charAt(0);return t.toLocaleUpperCase()!==t}function $bef59326251d24bb$var$startsWithUpper(e){var t=e.charAt(0);return t.toLocaleLowerCase()!==t}function $bef59326251d24bb$var$compareCaseLowerFirst(e,t){return $bef59326251d24bb$var$startsWithLower(e)&&$bef59326251d24bb$var$startsWithUpper(t)?-1:$bef59326251d24bb$var$startsWithUpper(e)&&$bef59326251d24bb$var$startsWithLower(t)?1:0}function $bef59326251d24bb$var$compareCaseUpperFirst(e,t){return $bef59326251d24bb$var$startsWithUpper(e)&&$bef59326251d24bb$var$startsWithLower(t)?-1:$bef59326251d24bb$var$startsWithLower(e)&&$bef59326251d24bb$var$startsWithUpper(t)?1:0}function $bef59326251d24bb$var$comparePathComponents(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(e=e&&e.toLowerCase(),t=t&&t.toLowerCase()),e===t?0:e<t?-1:1}function $bef59326251d24bb$var$comparePaths(e,t){for(var r,n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.split($bef59326251d24bb$var$sep),o=t.split($bef59326251d24bb$var$sep),s=a.length-1,u=o.length-1,c=0;;c++){if(n=u===c,(r=s===c)&&n)return $bef59326251d24bb$var$compareFileNames(a[c],o[c],i);if(r)return-1;if(n)return 1;var l=$bef59326251d24bb$var$comparePathComponents(a[c],o[c],i);if(0!==l)return l}}function $bef59326251d24bb$var$compareAnything(e,t,r){var n=e.toLowerCase(),i=t.toLowerCase(),a=$bef59326251d24bb$var$compareByPrefix(e,t,r);if(a)return a;var o=n.endsWith(r);if(o!==i.endsWith(r))return o?-1:1;var s=$bef59326251d24bb$var$compareFileNames(n,i);return 0!==s?s:n.localeCompare(i)}function $bef59326251d24bb$var$compareByPrefix(e,t,r){var n=e.toLowerCase(),i=t.toLowerCase(),a=n.startsWith(r),o=i.startsWith(r);if(a!==o)return a?-1:1;if(a&&o){if(n.length<i.length)return-1;if(n.length>i.length)return 1}return 0}var $bef59326251d24bb$export$c3c981cdcc2cffdd={__proto__:null,compareFileNames:$bef59326251d24bb$var$compareFileNames,compareFileNamesDefault:$bef59326251d24bb$var$compareFileNamesDefault,compareFileNamesUpper:$bef59326251d24bb$var$compareFileNamesUpper,compareFileNamesLower:$bef59326251d24bb$var$compareFileNamesLower,compareFileNamesUnicode:$bef59326251d24bb$var$compareFileNamesUnicode,noIntlCompareFileNames:$bef59326251d24bb$var$noIntlCompareFileNames,compareFileExtensions:$bef59326251d24bb$var$compareFileExtensions,compareFileExtensionsDefault:$bef59326251d24bb$var$compareFileExtensionsDefault,compareFileExtensionsUpper:$bef59326251d24bb$var$compareFileExtensionsUpper,compareFileExtensionsLower:$bef59326251d24bb$var$compareFileExtensionsLower,compareFileExtensionsUnicode:$bef59326251d24bb$var$compareFileExtensionsUnicode,comparePaths:$bef59326251d24bb$var$comparePaths,compareAnything:$bef59326251d24bb$var$compareAnything,compareByPrefix:$bef59326251d24bb$var$compareByPrefix};function $bef59326251d24bb$var$isRemoteConsoleLog(e){var t=e;return t&&"string"==typeof t.type&&"string"==typeof t.severity}function $bef59326251d24bb$var$parse$3(e){var t,r=[];try{var n,i=JSON.parse(e.arguments),a=i[i.length-1];a&&a.__$stack&&(i.pop(),t=a.__$stack),(n=r).push.apply(n,(0,$caN7I.default)(i))}catch(t){r.push("Unable to log remote console arguments",e.arguments)}return{args:r,stack:t}}function $bef59326251d24bb$var$getFirstFrame(e){if("string"!=typeof e)return $bef59326251d24bb$var$getFirstFrame($bef59326251d24bb$var$parse$3(e).stack);if(e){var t=$bef59326251d24bb$var$findFirstFrame(e),r=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(t||"");if(r&&4===r.length)return{uri:$bef59326251d24bb$var$URI.file(r[1]),line:Number(r[2]),column:Number(r[3])}}}function $bef59326251d24bb$var$findFirstFrame(e){if(!e)return e;var t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function $bef59326251d24bb$var$log(e,t){var r=$bef59326251d24bb$var$parse$3(e),n=r.args,i=r.stack,a="string"==typeof n[0]&&1===n.length,o=$bef59326251d24bb$var$findFirstFrame(i);o&&(o="(".concat(o.trim(),")"));var s=[];if(s="string"==typeof n[0]?o&&a?["%c[".concat(t,"] %c").concat(n[0]," %c").concat(o),$bef59326251d24bb$var$color("blue"),$bef59326251d24bb$var$color(""),$bef59326251d24bb$var$color("grey")]:["%c[".concat(t,"] %c").concat(n[0]),$bef59326251d24bb$var$color("blue"),$bef59326251d24bb$var$color("")].concat((0,$caN7I.default)(n.slice(1))):["%c[".concat(t,"]%"),$bef59326251d24bb$var$color("blue")].concat((0,$caN7I.default)(n)),o&&!a&&s.push(o),"function"!=typeof console[e.severity])throw new Error("Unknown console method");console[e.severity].apply(console,s)}function $bef59326251d24bb$var$color(e){return"color: ".concat(e)}var $bef59326251d24bb$export$e896d9a1b4631fa1={__proto__:null,isRemoteConsoleLog:$bef59326251d24bb$var$isRemoteConsoleLog,parse:$bef59326251d24bb$var$parse$3,getFirstFrame:$bef59326251d24bb$var$getFirstFrame,log:$bef59326251d24bb$var$log},$bef59326251d24bb$var$minute=60,$bef59326251d24bb$var$hour=60*$bef59326251d24bb$var$minute,$bef59326251d24bb$var$day=24*$bef59326251d24bb$var$hour,$bef59326251d24bb$var$week=7*$bef59326251d24bb$var$day,$bef59326251d24bb$var$month=30*$bef59326251d24bb$var$day,$bef59326251d24bb$var$year=365*$bef59326251d24bb$var$day;function $bef59326251d24bb$var$fromNow(e,t){"number"!=typeof e&&(e=e.getTime());var r,n=Math.round(((new Date).getTime()-e)/1e3);return n<-30?$bef59326251d24bb$var$localize("date.fromNow.in","in {0}",$bef59326251d24bb$var$fromNow((new Date).getTime()+1e3*n,!1)):n<30?$bef59326251d24bb$var$localize("date.fromNow.now","now"):n<$bef59326251d24bb$var$minute?(r=n,t?1===r?$bef59326251d24bb$var$localize("date.fromNow.seconds.singular.ago","{0} sec ago",r):$bef59326251d24bb$var$localize("date.fromNow.seconds.plural.ago","{0} secs ago",r):1===r?$bef59326251d24bb$var$localize("date.fromNow.seconds.singular","{0} sec",r):$bef59326251d24bb$var$localize("date.fromNow.seconds.plural","{0} secs",r)):n<$bef59326251d24bb$var$hour?(r=Math.floor(n/$bef59326251d24bb$var$minute),t?1===r?$bef59326251d24bb$var$localize("date.fromNow.minutes.singular.ago","{0} min ago",r):$bef59326251d24bb$var$localize("date.fromNow.minutes.plural.ago","{0} mins ago",r):1===r?$bef59326251d24bb$var$localize("date.fromNow.minutes.singular","{0} min",r):$bef59326251d24bb$var$localize("date.fromNow.minutes.plural","{0} mins",r)):n<$bef59326251d24bb$var$day?(r=Math.floor(n/$bef59326251d24bb$var$hour),t?1===r?$bef59326251d24bb$var$localize("date.fromNow.hours.singular.ago","{0} hr ago",r):$bef59326251d24bb$var$localize("date.fromNow.hours.plural.ago","{0} hrs ago",r):1===r?$bef59326251d24bb$var$localize("date.fromNow.hours.singular","{0} hr",r):$bef59326251d24bb$var$localize("date.fromNow.hours.plural","{0} hrs",r)):n<$bef59326251d24bb$var$week?(r=Math.floor(n/$bef59326251d24bb$var$day),t?1===r?$bef59326251d24bb$var$localize("date.fromNow.days.singular.ago","{0} day ago",r):$bef59326251d24bb$var$localize("date.fromNow.days.plural.ago","{0} days ago",r):1===r?$bef59326251d24bb$var$localize("date.fromNow.days.singular","{0} day",r):$bef59326251d24bb$var$localize("date.fromNow.days.plural","{0} days",r)):n<$bef59326251d24bb$var$month?(r=Math.floor(n/$bef59326251d24bb$var$week),t?1===r?$bef59326251d24bb$var$localize("date.fromNow.weeks.singular.ago","{0} wk ago",r):$bef59326251d24bb$var$localize("date.fromNow.weeks.plural.ago","{0} wks ago",r):1===r?$bef59326251d24bb$var$localize("date.fromNow.weeks.singular","{0} wk",r):$bef59326251d24bb$var$localize("date.fromNow.weeks.plural","{0} wks",r)):n<$bef59326251d24bb$var$year?(r=Math.floor(n/$bef59326251d24bb$var$month),t?1===r?$bef59326251d24bb$var$localize("date.fromNow.months.singular.ago","{0} mo ago",r):$bef59326251d24bb$var$localize("date.fromNow.months.plural.ago","{0} mos ago",r):1===r?$bef59326251d24bb$var$localize("date.fromNow.months.singular","{0} mo",r):$bef59326251d24bb$var$localize("date.fromNow.months.plural","{0} mos",r)):(r=Math.floor(n/$bef59326251d24bb$var$year),t?1===r?$bef59326251d24bb$var$localize("date.fromNow.years.singular.ago","{0} yr ago",r):$bef59326251d24bb$var$localize("date.fromNow.years.plural.ago","{0} yrs ago",r):1===r?$bef59326251d24bb$var$localize("date.fromNow.years.singular","{0} yr",r):$bef59326251d24bb$var$localize("date.fromNow.years.plural","{0} yrs",r))}function $bef59326251d24bb$var$toLocalISOString(e){return e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")+"T"+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0")+"."+(e.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}var $bef59326251d24bb$export$324d90190a8b822a={__proto__:null,fromNow:$bef59326251d24bb$var$fromNow,toLocalISOString:$bef59326251d24bb$var$toLocalISOString};function $bef59326251d24bb$var$createDecorator(e){return function(t,r,n){var i=null,a=null;if("function"==typeof n.value?(i="value",a=n.value):"function"==typeof n.get&&(i="get",a=n.get),!a)throw new Error("not supported");n[i]=e(a,r)}}function $bef59326251d24bb$var$memoize(e,t,r){var n=null,i=null;if("function"==typeof r.value?(n="value",0!==(i=r.value).length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof r.get&&(n="get",i=r.get),!i)throw new Error("not supported");var a="$memoize$".concat(t);r[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,t)}),this[a]}}function $bef59326251d24bb$var$debounce(e,t,r){return $bef59326251d24bb$var$createDecorator((function(n,i){var a="$debounce$".concat(i),o="$debounce$result$".concat(i);return function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];var c=this;this[o]||(this[o]=r?r():void 0),clearTimeout(this[a]),t&&(this[o]=t.apply(void 0,[this[o]].concat((0,$caN7I.default)(s))),s=[this[o]]),this[a]=setTimeout((function(){n.apply(c,s),c[o]=r?r():void 0}),e)}}))}function $bef59326251d24bb$var$throttle(e,t,r){return $bef59326251d24bb$var$createDecorator((function(n,i){var a="$throttle$timer$".concat(i),o="$throttle$result$".concat(i),s="$throttle$lastRun$".concat(i),u="$throttle$pending$".concat(i);return function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];var f=this;if(this[o]||(this[o]=r?r():void 0),null!==this[s]&&void 0!==this[s]||(this[s]=-Number.MAX_VALUE),t&&(this[o]=t.apply(void 0,[this[o]].concat((0,$caN7I.default)(c)))),!this[u]){var d=this[s]+e;d<=Date.now()?(this[s]=Date.now(),n.apply(this,[this[o]]),this[o]=r?r():void 0):(this[u]=!0,this[a]=setTimeout((function(){f[u]=!1,f[s]=Date.now(),n.apply(f,[f[o]]),f[o]=r?r():void 0}),d-Date.now()))}}}))}var $bef59326251d24bb$export$716f525a5f91bb7={__proto__:null,createDecorator:$bef59326251d24bb$var$createDecorator,memoize:$bef59326251d24bb$var$memoize,debounce:$bef59326251d24bb$var$debounce,throttle:$bef59326251d24bb$var$throttle};function $bef59326251d24bb$var$exceptionToErrorMessage(e,t){return t&&(e.stack||e.stacktrace)?$bef59326251d24bb$var$localize("stackTrace.format","{0}: {1}",$bef59326251d24bb$var$detectSystemErrorMessage(e),$bef59326251d24bb$var$stackToString(e.stack)||$bef59326251d24bb$var$stackToString(e.stacktrace)):$bef59326251d24bb$var$detectSystemErrorMessage(e)}function $bef59326251d24bb$var$stackToString(e){return Array.isArray(e)?e.join("\n"):e}function $bef59326251d24bb$var$detectSystemErrorMessage(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?$bef59326251d24bb$var$localize("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||$bef59326251d24bb$var$localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function $bef59326251d24bb$var$toErrorMessage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return $bef59326251d24bb$var$localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){var r=$bef59326251d24bb$var$coalesce(e),n=$bef59326251d24bb$var$toErrorMessage(r[0],t);return r.length>1?$bef59326251d24bb$var$localize("error.moreErrors","{0} ({1} errors in total)",n,r.length):n}if($bef59326251d24bb$var$isString(e))return e;if(e.detail){var i=e.detail;if(i.error)return $bef59326251d24bb$var$exceptionToErrorMessage(i.error,t);if(i.exception)return $bef59326251d24bb$var$exceptionToErrorMessage(i.exception,t)}return e.stack?$bef59326251d24bb$var$exceptionToErrorMessage(e,t):e.message?e.message:$bef59326251d24bb$var$localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var $bef59326251d24bb$export$493b5823483d2c4e={__proto__:null,toErrorMessage:$bef59326251d24bb$var$toErrorMessage},$bef59326251d24bb$var$_Symbol$iterator,$bef59326251d24bb$var$_a$1,$bef59326251d24bb$var$_b;function $bef59326251d24bb$var$getOrSet(e,t,r){var n=e.get(t);return void 0===n&&(n=r,e.set(t,n)),n}function $bef59326251d24bb$var$mapToString(e){var t=[];return e.forEach((function(e,r){t.push("".concat(r," => ").concat(e))})),"Map(".concat(e.size,") {").concat(t.join(", "),"}")}function $bef59326251d24bb$var$setToString(e){var t=[];return e.forEach((function(e){t.push(e)})),"Set(".concat(e.size,") {").concat(t.join(", "),"}")}var $bef59326251d24bb$var$StringIterator=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._value="",this._pos=0}return(0,$9HoHC.default)(e,[{key:"reset",value:function(e){return this._value=e,this._pos=0,this}},{key:"next",value:function(){return this._pos+=1,this}},{key:"hasNext",value:function(){return this._pos<this._value.length-1}},{key:"cmp",value:function(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}},{key:"value",value:function(){return this._value[this._pos]}}]),e}(),$bef59326251d24bb$var$ConfigKeysIterator=function(){"use strict";function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,$4JAgF.default)(this,e),this._caseSensitive=t}return(0,$9HoHC.default)(e,[{key:"reset",value:function(e){return this._value=e,this._from=0,this._to=0,this.next()}},{key:"hasNext",value:function(){return this._to<this._value.length}},{key:"next",value:function(){this._from=this._to;for(var e=!0;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}},{key:"cmp",value:function(e){return this._caseSensitive?$bef59326251d24bb$var$compareSubstring(e,this._value,0,e.length,this._from,this._to):$bef59326251d24bb$var$compareSubstringIgnoreCase(e,this._value,0,e.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),e}(),$bef59326251d24bb$var$PathIterator=function(){"use strict";function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,$4JAgF.default)(this,e),this._splitOnBackslash=t,this._caseSensitive=r}return(0,$9HoHC.default)(e,[{key:"reset",value:function(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}},{key:"hasNext",value:function(){return this._to<this._value.length}},{key:"next",value:function(){this._from=this._to;for(var e=!0;this._to<this._value.length;this._to++){var t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}},{key:"cmp",value:function(e){return this._caseSensitive?$bef59326251d24bb$var$compareSubstring(e,this._value,0,e.length,this._from,this._to):$bef59326251d24bb$var$compareSubstringIgnoreCase(e,this._value,0,e.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),e}(),$bef59326251d24bb$var$UriIteratorState,UriIteratorState;UriIteratorState=$bef59326251d24bb$var$UriIteratorState||($bef59326251d24bb$var$UriIteratorState={}),UriIteratorState[UriIteratorState.Scheme=1]="Scheme",UriIteratorState[UriIteratorState.Authority=2]="Authority",UriIteratorState[UriIteratorState.Path=3]="Path",UriIteratorState[UriIteratorState.Query=4]="Query",UriIteratorState[UriIteratorState.Fragment=5]="Fragment";var $bef59326251d24bb$var$UriIterator=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._ignorePathCasing=t,this._states=[],this._stateIdx=0}return(0,$9HoHC.default)(e,[{key:"reset",value:function(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new $bef59326251d24bb$var$PathIterator(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}},{key:"next",value:function(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}},{key:"hasNext",value:function(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}},{key:"cmp",value:function(e){if(1===this._states[this._stateIdx])return $bef59326251d24bb$var$compareIgnoreCase(e,this._value.scheme);if(2===this._states[this._stateIdx])return $bef59326251d24bb$var$compareIgnoreCase(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return $bef59326251d24bb$var$compare(e,this._value.query);if(5===this._states[this._stateIdx])return $bef59326251d24bb$var$compare(e,this._value.fragment);throw new Error}},{key:"value",value:function(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}]),e}(),$bef59326251d24bb$var$TernarySearchTreeNode=function(){"use strict";function e(){(0,$4JAgF.default)(this,e)}return(0,$9HoHC.default)(e,[{key:"isEmpty",value:function(){return!(this.left||this.mid||this.right||this.value)}}]),e}(),$bef59326251d24bb$var$TernarySearchTree=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._iter=t}return(0,$9HoHC.default)(e,[{key:"clear",value:function(){this._root=void 0}},{key:"set",value:function(e,t){var r,n=this._iter.reset(e);for(this._root||(this._root=new $bef59326251d24bb$var$TernarySearchTreeNode,this._root.segment=n.value()),r=this._root;;){var i=n.cmp(r.segment);if(i>0)r.left||(r.left=new $bef59326251d24bb$var$TernarySearchTreeNode,r.left.segment=n.value()),r=r.left;else if(i<0)r.right||(r.right=new $bef59326251d24bb$var$TernarySearchTreeNode,r.right.segment=n.value()),r=r.right;else{if(!n.hasNext())break;n.next(),r.mid||(r.mid=new $bef59326251d24bb$var$TernarySearchTreeNode,r.mid.segment=n.value()),r=r.mid}}var a=r.value;return r.value=t,r.key=e,a}},{key:"get",value:function(e){var t;return null==(t=this._getNode(e))?void 0:t.value}},{key:"_getNode",value:function(e){for(var t=this._iter.reset(e),r=this._root;r;){var n=t.cmp(r.segment);if(n>0)r=r.left;else if(n<0)r=r.right;else{if(!t.hasNext())break;t.next(),r=r.mid}}return r}},{key:"has",value:function(e){var t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}},{key:"delete",value:function(e){return this._delete(e,!1)}},{key:"deleteSuperstr",value:function(e){return this._delete(e,!0)}},{key:"_delete",value:function(e,t){for(var r=this._iter.reset(e),n=[],i=this._root;i;){var a=r.cmp(i.segment);if(a>0)n.push([1,i]),i=i.left;else if(a<0)n.push([-1,i]),i=i.right;else{if(!r.hasNext()){for(t?(i.left=void 0,i.mid=void 0,i.right=void 0):i.value=void 0;n.length>0&&i.isEmpty();){var o=(0,$dVhHy.default)(n.pop(),2),s=o[0],u=o[1];switch(s){case 1:u.left=void 0;break;case 0:u.mid=void 0;break;case-1:u.right=void 0}i=u}break}r.next(),n.push([0,i]),i=i.mid}}}},{key:"findSubstr",value:function(e){for(var t=this._iter.reset(e),r=this._root,n=void 0;r;){var i=t.cmp(r.segment);if(i>0)r=r.left;else if(i<0)r=r.right;else{if(!t.hasNext())break;t.next(),n=r.value||n,r=r.mid}}return r&&r.value||n}},{key:"findSuperstr",value:function(e){for(var t=this._iter.reset(e),r=this._root;r;){var n=t.cmp(r.segment);if(n>0)r=r.left;else if(n<0)r=r.right;else{if(!t.hasNext())return r.mid?this._entries(r.mid):void 0;t.next(),r=r.mid}}}},{key:"forEach",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,$dVhHy.default)(i.value,2),s=o[0];e(o[1],s)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:Symbol.iterator,value:function(){return(0,$cDTRq.__generator)(this,(function(e){switch(e.label){case 0:return[5,(0,$cDTRq.__values)(this._entries(this._root))];case 1:return e.sent(),[2]}}))}},{key:"_entries",value:function(e){var t,r;return(0,$cDTRq.__generator)(this,(function(n){switch(n.label){case 0:if(!e)return[2];t=[e],n.label=1;case 1:return t.length>0?(r=t.pop())?r.value?[4,[r.key,r.value]]:[3,3]:[3,4]:[3,5];case 2:n.sent(),n.label=3;case 3:r.left&&t.push(r.left),r.mid&&t.push(r.mid),r.right&&t.push(r.right),n.label=4;case 4:return[3,1];case 5:return[2]}}))}}],[{key:"forUris",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1};return new e(new $bef59326251d24bb$var$UriIterator(t))}},{key:"forPaths",value:function(){return new e(new $bef59326251d24bb$var$PathIterator)}},{key:"forStrings",value:function(){return new e(new $bef59326251d24bb$var$StringIterator)}},{key:"forConfigKeys",value:function(){return new e(new $bef59326251d24bb$var$ConfigKeysIterator)}}]),e}(),$bef59326251d24bb$var$ResourceMap=function(){"use strict";function e(t,r){(0,$4JAgF.default)(this,e),this[$bef59326251d24bb$var$_a$1]="ResourceMap",t instanceof e?(this.map=new Map(t.map),this.toKey=null!=r?r:e.defaultToKey):(this.map=new Map,this.toKey=null!=t?t:e.defaultToKey)}return(0,$9HoHC.default)(e,[{key:"set",value:function(e,t){return this.map.set(this.toKey(e),t),this}},{key:"get",value:function(e){return this.map.get(this.toKey(e))}},{key:"has",value:function(e){return this.map.has(this.toKey(e))}},{key:"size",get:function(){return this.map.size}},{key:"clear",value:function(){this.map.clear()}},{key:"delete",value:function(e){return this.map.delete(this.toKey(e))}},{key:"forEach",value:function(e,t){void 0!==t&&(e=e.bind(t));var r=!0,n=!1,i=void 0;try{for(var a,o=this.map[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=(0,$dVhHy.default)(a.value,2),u=s[0];e(s[1],$bef59326251d24bb$var$URI.parse(u),this)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"values",value:function(){return this.map.values()}},{key:"keys",value:function(){var e,t,r,n,i,a,o;return(0,$cDTRq.__generator)(this,(function(s){switch(s.label){case 0:e=!0,t=!1,r=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),n=this.map.keys()[Symbol.iterator](),s.label=2;case 2:return(e=(i=n.next()).done)?[3,5]:(a=i.value,[4,$bef59326251d24bb$var$URI.parse(a)]);case 3:s.sent(),s.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return o=s.sent(),t=!0,r=o,[3,8];case 7:try{e||null==n.return||n.return()}finally{if(t)throw r}return[7];case 8:return[2]}}))}},{key:"entries",value:function(){var e,t,r,n,i,a,o;return(0,$cDTRq.__generator)(this,(function(s){switch(s.label){case 0:e=!0,t=!1,r=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),n=this.map.entries()[Symbol.iterator](),s.label=2;case 2:return(e=(i=n.next()).done)?[3,5]:(a=i.value,[4,[$bef59326251d24bb$var$URI.parse(a[0]),a[1]]]);case 3:s.sent(),s.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return o=s.sent(),t=!0,r=o,[3,8];case 7:try{e||null==n.return||n.return()}finally{if(t)throw r}return[7];case 8:return[2]}}))}},{key:($bef59326251d24bb$var$_a$1=Symbol.toStringTag,Symbol.iterator),value:function(){var e,t,r,n,i,a,o;return(0,$cDTRq.__generator)(this,(function(s){switch(s.label){case 0:e=!0,t=!1,r=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),n=this.map[Symbol.iterator](),s.label=2;case 2:return(e=(i=n.next()).done)?[3,5]:(a=i.value,[4,[$bef59326251d24bb$var$URI.parse(a[0]),a[1]]]);case 3:s.sent(),s.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return o=s.sent(),t=!0,r=o,[3,8];case 7:try{e||null==n.return||n.return()}finally{if(t)throw r}return[7];case 8:return[2]}}))}}]),e}(),$bef59326251d24bb$var$Touch,Touch;$bef59326251d24bb$var$ResourceMap.defaultToKey=function(e){return e.toString()},Touch=$bef59326251d24bb$var$Touch||($bef59326251d24bb$var$Touch={}),Touch[Touch.None=0]="None",Touch[Touch.AsOld=1]="AsOld",Touch[Touch.AsNew=2]="AsNew";var $bef59326251d24bb$var$LinkedMap=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this[$bef59326251d24bb$var$_b]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}return(0,$9HoHC.default)(e,[{key:"clear",value:function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}},{key:"isEmpty",value:function(){return!this._head&&!this._tail}},{key:"size",get:function(){return this._size}},{key:"first",get:function(){var e;return null==(e=this._head)?void 0:e.value}},{key:"last",get:function(){var e;return null==(e=this._tail)?void 0:e.value}},{key:"has",value:function(e){return this._map.has(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._map.get(e);if(r)return 0!==t&&this.touch(r,t),r.value}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this._map.get(e);if(n)n.value=t,0!==r&&this.touch(n,r);else{switch(n={key:e,value:t,next:void 0,previous:void 0},r){case 0:case 2:default:this.addItemLast(n);break;case 1:this.addItemFirst(n)}this._map.set(e,n),this._size++}return this}},{key:"delete",value:function(e){return!!this.remove(e)}},{key:"remove",value:function(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}},{key:"shift",value:function(){if(this._head||this._tail){if(!this._head||!this._tail)throw new Error("Invalid list");var e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}}},{key:"forEach",value:function(e,t){for(var r=this._state,n=this._head;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}},{key:"keys",value:function(){var e,t=this,r=this._state,n=this._head,i=(e={},(0,$8WkQI.default)(e,Symbol.iterator,(function(){return i})),(0,$8WkQI.default)(e,"next",(function(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){var e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}})),e);return i}},{key:"values",value:function(){var e,t=this,r=this._state,n=this._head,i=(e={},(0,$8WkQI.default)(e,Symbol.iterator,(function(){return i})),(0,$8WkQI.default)(e,"next",(function(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){var e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}})),e);return i}},{key:"entries",value:function(){var e,t=this,r=this._state,n=this._head,i=(e={},(0,$8WkQI.default)(e,Symbol.iterator,(function(){return i})),(0,$8WkQI.default)(e,"next",(function(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){var e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}})),e);return i}},{key:($bef59326251d24bb$var$_b=Symbol.toStringTag,Symbol.iterator),value:function(){return this.entries()}},{key:"trimOld",value:function(e){if(!(e>=this.size))if(0!==e){for(var t=this._head,r=this.size;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}else this.clear()}},{key:"addItemFirst",value:function(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}},{key:"addItemLast",value:function(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}},{key:"removeItem",value:function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{var t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}},{key:"touch",value:function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;var r=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(r.previous=n,n.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;var i=e.next,a=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=a,a.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}},{key:"toJSON",value:function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),e}},{key:"fromJSON",value:function(e){this.clear();var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,$dVhHy.default)(i.value,2),s=o[0],u=o[1];this.set(s,u)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}}]),e}(),$bef59326251d24bb$var$LRUCache=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,$4JAgF.default)(this,r),(n=t.call(this))._limit=e,n._ratio=Math.min(Math.max(0,i),1),n}return(0,$9HoHC.default)(r,[{key:"limit",get:function(){return this._limit},set:function(e){this._limit=e,this.checkTrim()}},{key:"ratio",get:function(){return this._ratio},set:function(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"get",this).call(this,e,t)}},{key:"peek",value:function(e){return(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"get",this).call(this,e,0)}},{key:"set",value:function(e,t){return(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"set",this).call(this,e,t,2),this.checkTrim(),this}},{key:"checkTrim",value:function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}]),r}($bef59326251d24bb$var$LinkedMap),$bef59326251d24bb$var$_source=$bef59326251d24bb$var$_classPrivateFieldLooseKey("source");$bef59326251d24bb$var$_Symbol$iterator=Symbol.iterator;var $bef59326251d24bb$var$ReadonlyMapView=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),Object.defineProperty(this,$bef59326251d24bb$var$_source,{writable:!0,value:void 0}),$bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source]=t}return(0,$9HoHC.default)(e,[{key:"size",get:function(){return $bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].size}},{key:"forEach",value:function(e,t){$bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].forEach(e,t)}},{key:"get",value:function(e){return $bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].get(e)}},{key:"has",value:function(e){return $bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].has(e)}},{key:"entries",value:function(){return $bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].entries()}},{key:"keys",value:function(){return $bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].keys()}},{key:"values",value:function(){return $bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].values()}},{key:$bef59326251d24bb$var$_Symbol$iterator,value:function(){return $bef59326251d24bb$var$_classPrivateFieldLooseBase(this,$bef59326251d24bb$var$_source)[$bef59326251d24bb$var$_source].entries()}}]),e}(),$bef59326251d24bb$export$871de8747c9eaa88={__proto__:null,getOrSet:$bef59326251d24bb$var$getOrSet,mapToString:$bef59326251d24bb$var$mapToString,setToString:$bef59326251d24bb$var$setToString,StringIterator:$bef59326251d24bb$var$StringIterator,ConfigKeysIterator:$bef59326251d24bb$var$ConfigKeysIterator,PathIterator:$bef59326251d24bb$var$PathIterator,UriIterator:$bef59326251d24bb$var$UriIterator,TernarySearchTree:$bef59326251d24bb$var$TernarySearchTree,ResourceMap:$bef59326251d24bb$var$ResourceMap,get Touch(){return $bef59326251d24bb$var$Touch},LinkedMap:$bef59326251d24bb$var$LinkedMap,LRUCache:$bef59326251d24bb$var$LRUCache,ReadonlyMapView:$bef59326251d24bb$var$ReadonlyMapView};function $bef59326251d24bb$var$or(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){for(var n=0,i=t.length;n<i;n++){var a=t[n](e,r);if(a)return a}return null}}var $bef59326251d24bb$var$matchesStrictPrefix=$bef59326251d24bb$var$_matchesPrefix.bind(void 0,!1),$bef59326251d24bb$var$matchesPrefix=$bef59326251d24bb$var$_matchesPrefix.bind(void 0,!0);function $bef59326251d24bb$var$_matchesPrefix(e,t,r){return!r||r.length<t.length?null:(e?$bef59326251d24bb$var$startsWithIgnoreCase(r,t):0===r.indexOf(t))?t.length>0?[{start:0,end:t.length}]:[]:null}function $bef59326251d24bb$var$matchesContiguousSubString(e,t){var r=t.toLowerCase().indexOf(e.toLowerCase());return-1===r?null:[{start:r,end:r+e.length}]}function $bef59326251d24bb$var$matchesSubString(e,t){return $bef59326251d24bb$var$_matchesSubString(e.toLowerCase(),t.toLowerCase(),0,0)}function $bef59326251d24bb$var$_matchesSubString(e,t,r,n){if(r===e.length)return[];if(n===t.length)return null;if(e[r]===t[n]){var i;return(i=$bef59326251d24bb$var$_matchesSubString(e,t,r+1,n+1))?$bef59326251d24bb$var$join({start:n,end:n+1},i):null}return $bef59326251d24bb$var$_matchesSubString(e,t,r,n+1)}function $bef59326251d24bb$var$isLower(e){return 97<=e&&e<=122}function $bef59326251d24bb$var$isUpper(e){return 65<=e&&e<=90}function $bef59326251d24bb$var$isNumber(e){return 48<=e&&e<=57}function $bef59326251d24bb$var$isWhitespace$1(e){return 32===e||9===e||10===e||13===e}var $bef59326251d24bb$var$wordSeparators=new Set;function $bef59326251d24bb$var$isWordSeparator(e){return $bef59326251d24bb$var$isWhitespace$1(e)||$bef59326251d24bb$var$wordSeparators.has(e)}function $bef59326251d24bb$var$charactersMatch(e,t){return e===t||$bef59326251d24bb$var$isWordSeparator(e)&&$bef59326251d24bb$var$isWordSeparator(t)}function $bef59326251d24bb$var$isAlphanumeric(e){return $bef59326251d24bb$var$isLower(e)||$bef59326251d24bb$var$isUpper(e)||$bef59326251d24bb$var$isNumber(e)}function $bef59326251d24bb$var$join(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function $bef59326251d24bb$var$nextAnchor(e,t){for(var r=t;r<e.length;r++){var n=e.charCodeAt(r);if($bef59326251d24bb$var$isUpper(n)||$bef59326251d24bb$var$isNumber(n)||r>0&&!$bef59326251d24bb$var$isAlphanumeric(e.charCodeAt(r-1)))return r}return e.length}function $bef59326251d24bb$var$_matchesCamelCase(e,t,r,n){if(r===e.length)return[];if(n===t.length)return null;if(e[r]!==t[n].toLowerCase())return null;var i=null,a=n+1;for(i=$bef59326251d24bb$var$_matchesCamelCase(e,t,r+1,n+1);!i&&(a=$bef59326251d24bb$var$nextAnchor(t,a))<t.length;)i=$bef59326251d24bb$var$_matchesCamelCase(e,t,r+1,a),a++;return null===i?null:$bef59326251d24bb$var$join({start:n,end:n+1},i)}function $bef59326251d24bb$var$analyzeCamelCaseWord(e){for(var t=0,r=0,n=0,i=0,a=0,o=0;o<e.length;o++)$bef59326251d24bb$var$isUpper(a=e.charCodeAt(o))&&t++,$bef59326251d24bb$var$isLower(a)&&r++,$bef59326251d24bb$var$isAlphanumeric(a)&&n++,$bef59326251d24bb$var$isNumber(a)&&i++;return{upperPercent:t/e.length,lowerPercent:r/e.length,alphaPercent:n/e.length,numericPercent:i/e.length}}function $bef59326251d24bb$var$isUpperCaseWord(e){var t=e.upperPercent;return 0===e.lowerPercent&&t>.6}function $bef59326251d24bb$var$isCamelCaseWord(e){var t=e.upperPercent,r=e.lowerPercent,n=e.alphaPercent,i=e.numericPercent;return r>.2&&t<.8&&n>.6&&i<.2}function $bef59326251d24bb$var$isCamelCasePattern(e){for(var t=0,r=0,n=0,i=0,a=0;a<e.length;a++)$bef59326251d24bb$var$isUpper(n=e.charCodeAt(a))&&t++,$bef59326251d24bb$var$isLower(n)&&r++,$bef59326251d24bb$var$isWhitespace$1(n)&&i++;return 0!==t&&0!==r||0!==i?t<=5:e.length<=30}function $bef59326251d24bb$var$matchesCamelCase(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!$bef59326251d24bb$var$isCamelCasePattern(e))return null;if(t.length>60)return null;var r=$bef59326251d24bb$var$analyzeCamelCaseWord(t);if(!$bef59326251d24bb$var$isCamelCaseWord(r)){if(!$bef59326251d24bb$var$isUpperCaseWord(r))return null;t=t.toLowerCase()}var n=null,i=0;for(e=e.toLowerCase();i<t.length&&null===(n=$bef59326251d24bb$var$_matchesCamelCase(e,t,0,i));)i=$bef59326251d24bb$var$nextAnchor(t,i+1);return n}function $bef59326251d24bb$var$matchesWords(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||0===t.length)return null;var n=null,i=0;for(e=e.toLowerCase(),t=t.toLowerCase();i<t.length&&null===(n=$bef59326251d24bb$var$_matchesWords(e,t,0,i,r));)i=$bef59326251d24bb$var$nextWord(t,i+1);return n}function $bef59326251d24bb$var$_matchesWords(e,t,r,n,i){if(r===e.length)return[];if(n===t.length)return null;if($bef59326251d24bb$var$charactersMatch(e.charCodeAt(r),t.charCodeAt(n))){var a=null,o=n+1;if(a=$bef59326251d24bb$var$_matchesWords(e,t,r+1,n+1,i),!i)for(;!a&&(o=$bef59326251d24bb$var$nextWord(t,o))<t.length;)a=$bef59326251d24bb$var$_matchesWords(e,t,r+1,o,i),o++;return null===a?null:$bef59326251d24bb$var$join({start:n,end:n+1},a)}return null}function $bef59326251d24bb$var$nextWord(e,t){for(var r=t;r<e.length;r++)if($bef59326251d24bb$var$isWordSeparator(e.charCodeAt(r))||r>0&&$bef59326251d24bb$var$isWordSeparator(e.charCodeAt(r-1)))return r;return e.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach((function(e){return $bef59326251d24bb$var$wordSeparators.add(e.charCodeAt(0))}));var $bef59326251d24bb$var$fuzzyContiguousFilter=$bef59326251d24bb$var$or($bef59326251d24bb$var$matchesPrefix,$bef59326251d24bb$var$matchesCamelCase,$bef59326251d24bb$var$matchesContiguousSubString),$bef59326251d24bb$var$fuzzySeparateFilter=$bef59326251d24bb$var$or($bef59326251d24bb$var$matchesPrefix,$bef59326251d24bb$var$matchesCamelCase,$bef59326251d24bb$var$matchesSubString),$bef59326251d24bb$var$fuzzyRegExpCache=new $bef59326251d24bb$var$LRUCache(1e4);function $bef59326251d24bb$var$matchesFuzzy(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e||"string"!=typeof t)return null;var n=$bef59326251d24bb$var$fuzzyRegExpCache.get(e);n||(n=new RegExp($bef59326251d24bb$var$convertSimple2RegExpPattern(e),"i"),$bef59326251d24bb$var$fuzzyRegExpCache.set(e,n));var i=n.exec(t);return i?[{start:i.index,end:i.index+i[0].length}]:r?$bef59326251d24bb$var$fuzzySeparateFilter(e,t):$bef59326251d24bb$var$fuzzyContiguousFilter(e,t)}function $bef59326251d24bb$var$matchesFuzzy2(e,t){var r=$bef59326251d24bb$var$fuzzyScore(e,e.toLowerCase(),0,t,t.toLowerCase(),0,!0);return r?$bef59326251d24bb$var$createMatches$1(r):null}function $bef59326251d24bb$var$anyScore(e,t,r,n,i,a){for(var o=Math.min(13,e.length);r<o;r++){var s=$bef59326251d24bb$var$fuzzyScore(e,t,r,n,i,a,!1);if(s)return s}return[0,a]}function $bef59326251d24bb$var$createMatches$1(e){if(void 0===e)return[];for(var t=[],r=e[1],n=e.length-1;n>1;n--){var i=e[n]+r,a=t[t.length-1];a&&a.end===i?a.end=i+1:t.push({start:i,end:i+1})}return t}var $bef59326251d24bb$var$_maxLen=128;function $bef59326251d24bb$var$initTable(){for(var e=[],t=[],r=0;r<=$bef59326251d24bb$var$_maxLen;r++)t[r]=0;for(var n=0;n<=$bef59326251d24bb$var$_maxLen;n++)e.push(t.slice(0));return e}function $bef59326251d24bb$var$initArr(e){for(var t=[],r=0;r<=e;r++)t[r]=0;return t}var $bef59326251d24bb$var$_minWordMatchPos=$bef59326251d24bb$var$initArr(2*$bef59326251d24bb$var$_maxLen),$bef59326251d24bb$var$_maxWordMatchPos=$bef59326251d24bb$var$initArr(2*$bef59326251d24bb$var$_maxLen),$bef59326251d24bb$var$_diag=$bef59326251d24bb$var$initTable(),$bef59326251d24bb$var$_table=$bef59326251d24bb$var$initTable(),$bef59326251d24bb$var$_arrows=$bef59326251d24bb$var$initTable(),$bef59326251d24bb$var$Arrow,Arrow,$bef59326251d24bb$var$FuzzyScore,FuzzyScore;function $bef59326251d24bb$var$isSeparatorAtPos(e,t){if(t<0||t>=e.length)return!1;var r=e.codePointAt(t);switch(r){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!$bef59326251d24bb$var$isEmojiImprecise(r)}}function $bef59326251d24bb$var$isWhitespaceAtPos(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function $bef59326251d24bb$var$isUpperCaseAtPos(e,t,r){return t[e]!==r[e]}function $bef59326251d24bb$var$isPatternInWord(e,t,r,n,i,a){for(var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];t<r&&i<a;)e[t]===n[i]&&(o&&($bef59326251d24bb$var$_minWordMatchPos[t]=i),t+=1),i+=1;return t===r}function $bef59326251d24bb$var$fuzzyScore(e,t,r,n,i,a,o){var s=e.length>$bef59326251d24bb$var$_maxLen?$bef59326251d24bb$var$_maxLen:e.length,u=n.length>$bef59326251d24bb$var$_maxLen?$bef59326251d24bb$var$_maxLen:n.length;if(!(r>=s||a>=u||s-r>u-a)&&$bef59326251d24bb$var$isPatternInWord(t,r,s,i,a,u,!0)){$bef59326251d24bb$var$_fillInMaxWordMatchPos(s,u,r,a,t,i);var c=1,l=1,f=r,d=a,h=[!1];for(c=1,f=r;f<s;c++,f++){var v=$bef59326251d24bb$var$_minWordMatchPos[f],p=$bef59326251d24bb$var$_maxWordMatchPos[f],b=f+1<s?$bef59326251d24bb$var$_maxWordMatchPos[f+1]:u;for(l=v-a+1,d=v;d<b;l++,d++){var g=Number.MIN_SAFE_INTEGER,m=!1;d<=p&&(g=$bef59326251d24bb$var$_doScore(e,t,f,r,n,i,d,u,a,0===$bef59326251d24bb$var$_diag[c-1][l-1],h));var $=0;g!==Number.MAX_SAFE_INTEGER&&(m=!0,$=g+$bef59326251d24bb$var$_table[c-1][l-1]);var y=d>v,w=y?$bef59326251d24bb$var$_table[c][l-1]+($bef59326251d24bb$var$_diag[c][l-1]>0?-5:0):0,_=d>v+1&&$bef59326251d24bb$var$_diag[c][l-1]>0,S=_?$bef59326251d24bb$var$_table[c][l-2]+($bef59326251d24bb$var$_diag[c][l-2]>0?-5:0):0;if(_&&(!y||S>=w)&&(!m||S>=$))$bef59326251d24bb$var$_table[c][l]=S,$bef59326251d24bb$var$_arrows[c][l]=3,$bef59326251d24bb$var$_diag[c][l]=0;else if(y&&(!m||w>=$))$bef59326251d24bb$var$_table[c][l]=w,$bef59326251d24bb$var$_arrows[c][l]=2,$bef59326251d24bb$var$_diag[c][l]=0;else{if(!m)throw new Error("not possible");$bef59326251d24bb$var$_table[c][l]=$,$bef59326251d24bb$var$_arrows[c][l]=1,$bef59326251d24bb$var$_diag[c][l]=$bef59326251d24bb$var$_diag[c-1][l-1]+1}}}if(h[0]||o){c--,l--;for(var C=[$bef59326251d24bb$var$_table[c][l],a],k=0,E=0;c>=1;){var R=l;do{var x=$bef59326251d24bb$var$_arrows[c][R];if(3===x)R-=2;else{if(2!==x)break;R-=1}}while(R>=1);k>1&&t[r+c-1]===i[a+l-1]&&!$bef59326251d24bb$var$isUpperCaseAtPos(R+a-1,n,i)&&k+1>$bef59326251d24bb$var$_diag[c][R]&&(R=l),R===l?k++:k=1,E||(E=R),c--,l=R-1,C.push(l)}u===s&&(C[0]+=2);var M=E-s;return C[0]-=M,C}}}function $bef59326251d24bb$var$_fillInMaxWordMatchPos(e,t,r,n,i,a){for(var o=e-1,s=t-1;o>=r&&s>=n;)i[o]===a[s]&&($bef59326251d24bb$var$_maxWordMatchPos[o]=s,o--),s--}function $bef59326251d24bb$var$_doScore(e,t,r,n,i,a,o,s,u,c,l){if(t[r]!==a[o])return Number.MIN_SAFE_INTEGER;var f=1,d=!1;return o===r-n?f=e[r]===i[o]?7:5:!$bef59326251d24bb$var$isUpperCaseAtPos(o,i,a)||0!==o&&$bef59326251d24bb$var$isUpperCaseAtPos(o-1,i,a)?!$bef59326251d24bb$var$isSeparatorAtPos(a,o)||0!==o&&$bef59326251d24bb$var$isSeparatorAtPos(a,o-1)?($bef59326251d24bb$var$isSeparatorAtPos(a,o-1)||$bef59326251d24bb$var$isWhitespaceAtPos(a,o-1))&&(f=5,d=!0):f=5:(f=e[r]===i[o]?7:5,d=!0),f>1&&r===n&&(l[0]=!0),d||(d=$bef59326251d24bb$var$isUpperCaseAtPos(o,i,a)||$bef59326251d24bb$var$isSeparatorAtPos(a,o-1)||$bef59326251d24bb$var$isWhitespaceAtPos(a,o-1)),r===n?o>u&&(f-=d?3:5):f+=c?d?2:0:d?0:1,o+1===s&&(f-=d?3:5),f}function $bef59326251d24bb$var$fuzzyScoreGracefulAggressive(e,t,r,n,i,a,o){return $bef59326251d24bb$var$fuzzyScoreWithPermutations(e,t,r,n,i,a,!0,o)}function $bef59326251d24bb$var$fuzzyScoreGraceful(e,t,r,n,i,a,o){return $bef59326251d24bb$var$fuzzyScoreWithPermutations(e,t,r,n,i,a,!1,o)}function $bef59326251d24bb$var$fuzzyScoreWithPermutations(e,t,r,n,i,a,o,s){var u=$bef59326251d24bb$var$fuzzyScore(e,t,r,n,i,a,s);if(u&&!o)return u;if(e.length>=3)for(var c=Math.min(7,e.length-1),l=r+1;l<c;l++){var f=$bef59326251d24bb$var$nextTypoPermutation(e,l);if(f){var d=$bef59326251d24bb$var$fuzzyScore(f,f.toLowerCase(),r,n,i,a,s);d&&(d[0]-=3,(!u||d[0]>u[0])&&(u=d))}}return u}function $bef59326251d24bb$var$nextTypoPermutation(e,t){if(!(t+1>=e.length)){var r=e[t],n=e[t+1];if(r!==n)return e.slice(0,t)+n+r+e.slice(t+2)}}Arrow=$bef59326251d24bb$var$Arrow||($bef59326251d24bb$var$Arrow={}),Arrow[Arrow.Diag=1]="Diag",Arrow[Arrow.Left=2]="Left",Arrow[Arrow.LeftLeft=3]="LeftLeft",FuzzyScore=$bef59326251d24bb$var$FuzzyScore||($bef59326251d24bb$var$FuzzyScore={}),FuzzyScore.Default=[-100,0],FuzzyScore.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]};var $bef59326251d24bb$export$82462a21aead86ed={__proto__:null,or:$bef59326251d24bb$var$or,matchesStrictPrefix:$bef59326251d24bb$var$matchesStrictPrefix,matchesPrefix:$bef59326251d24bb$var$matchesPrefix,matchesContiguousSubString:$bef59326251d24bb$var$matchesContiguousSubString,matchesSubString:$bef59326251d24bb$var$matchesSubString,isUpper:$bef59326251d24bb$var$isUpper,matchesCamelCase:$bef59326251d24bb$var$matchesCamelCase,matchesWords:$bef59326251d24bb$var$matchesWords,matchesFuzzy:$bef59326251d24bb$var$matchesFuzzy,matchesFuzzy2:$bef59326251d24bb$var$matchesFuzzy2,anyScore:$bef59326251d24bb$var$anyScore,createMatches:$bef59326251d24bb$var$createMatches$1,isPatternInWord:$bef59326251d24bb$var$isPatternInWord,get FuzzyScore(){return $bef59326251d24bb$var$FuzzyScore},fuzzyScore:$bef59326251d24bb$var$fuzzyScore,fuzzyScoreGracefulAggressive:$bef59326251d24bb$var$fuzzyScoreGracefulAggressive,fuzzyScoreGraceful:$bef59326251d24bb$var$fuzzyScoreGraceful},$bef59326251d24bb$var$NO_MATCH=0,$bef59326251d24bb$var$NO_SCORE=[$bef59326251d24bb$var$NO_MATCH,[]];function $bef59326251d24bb$var$scoreFuzzy(e,t,r,n){if(!e||!t)return $bef59326251d24bb$var$NO_SCORE;var i=e.length,a=t.length;if(i<a)return $bef59326251d24bb$var$NO_SCORE;var o=e.toLowerCase();return n||o.includes(r)?$bef59326251d24bb$var$doScoreFuzzy(t,r,a,e,o,i):$bef59326251d24bb$var$NO_SCORE}function $bef59326251d24bb$var$doScoreFuzzy(e,t,r,n,i,a){for(var o=[],s=[],u=0;u<r;u++)for(var c=u*a,l=c-a,f=u>0,d=e[u],h=t[u],v=0;v<a;v++){var p=v>0,b=c+v,g=l+v-1,m=p?o[b-1]:0,$=f&&p?o[g]:0,y=f&&p?s[g]:0,w=void 0;(w=!$&&f?0:$bef59326251d24bb$var$computeCharScore(d,h,n,i,v,y))&&$+w>=m?(s[b]=y+1,o[b]=$+w):(s[b]=$bef59326251d24bb$var$NO_MATCH,o[b]=m)}for(var _=[],S=r-1,C=a-1;S>=0&&C>=0;){s[S*a+C]===$bef59326251d24bb$var$NO_MATCH||(_.push(C),S--),C--}return[o[r*a-1],_.reverse()]}function $bef59326251d24bb$var$computeCharScore(e,t,r,n,i,a){var o=0;if(!$bef59326251d24bb$var$considerAsEqual(t,n[i]))return o;if(o+=1,a>0&&(o+=5*a),e===r[i]&&(o+=1),0===i)o+=8;else{var s=$bef59326251d24bb$var$scoreSeparatorAtPos(r.charCodeAt(i-1));s?o+=s:$bef59326251d24bb$var$isUpper(r.charCodeAt(i))&&(o+=2)}return o}function $bef59326251d24bb$var$considerAsEqual(e,t){return e===t||("/"===e||"\\"===e)&&("/"===t||"\\"===t)}function $bef59326251d24bb$var$scoreSeparatorAtPos(e){switch(e){case 47:case 92:return 5;case 95:case 45:case 46:case 32:case 39:case 34:case 58:return 4;default:return 0}}var $bef59326251d24bb$var$NO_SCORE2=[void 0,[]];function $bef59326251d24bb$var$scoreFuzzy2(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t;return i.values&&i.values.length>1?$bef59326251d24bb$var$doScoreFuzzy2Multiple(e,i.values,r,n):$bef59326251d24bb$var$doScoreFuzzy2Single(e,t,r,n)}function $bef59326251d24bb$var$doScoreFuzzy2Multiple(e,t,r,n){var i=0,a=[],o=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f,d=c.value,h=(0,$dVhHy.default)($bef59326251d24bb$var$doScoreFuzzy2Single(e,d,r,n),2),v=h[0],p=h[1];if("number"!=typeof v)return $bef59326251d24bb$var$NO_SCORE2;i+=v,(f=a).push.apply(f,(0,$caN7I.default)(p))}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return[i,$bef59326251d24bb$var$normalizeMatches(a)]}function $bef59326251d24bb$var$doScoreFuzzy2Single(e,t,r,n){var i=$bef59326251d24bb$var$fuzzyScore(t.original,t.originalLowercase,r,e,e.toLowerCase(),n,!0);return i?[i[0],$bef59326251d24bb$var$createMatches$1(i)]:$bef59326251d24bb$var$NO_SCORE2}var $bef59326251d24bb$var$NO_ITEM_SCORE=Object.freeze({score:0}),$bef59326251d24bb$var$PATH_IDENTITY_SCORE=262144,$bef59326251d24bb$var$LABEL_PREFIX_SCORE_THRESHOLD=131072,$bef59326251d24bb$var$LABEL_SCORE_THRESHOLD=65536;function $bef59326251d24bb$var$scoreItemFuzzy(e,t,r,n,i){if(!e||!t.normalized)return $bef59326251d24bb$var$NO_ITEM_SCORE;var a=n.getItemLabel(e);if(!a)return $bef59326251d24bb$var$NO_ITEM_SCORE;var o,s=n.getItemDescription(e),u=i[o=s?"".concat(a).concat(s).concat(t.normalized).concat(Array.isArray(t.values)?t.values.length:"").concat(r):"".concat(a).concat(t.normalized).concat(Array.isArray(t.values)?t.values.length:"").concat(r)];if(u)return u;var c=$bef59326251d24bb$var$doScoreItemFuzzy(a,s,n.getItemPath(e),t,r);return i[o]=c,c}function $bef59326251d24bb$var$doScoreItemFuzzy(e,t,r,n,i){var a=!r||!n.containsPathSeparator;return r&&($bef59326251d24bb$var$isLinux?n.pathNormalized===r:$bef59326251d24bb$var$equalsIgnoreCase(n.pathNormalized,r))?{score:$bef59326251d24bb$var$PATH_IDENTITY_SCORE,labelMatch:[{start:0,end:e.length}],descriptionMatch:t?[{start:0,end:t.length}]:void 0}:n.values&&n.values.length>1?$bef59326251d24bb$var$doScoreItemFuzzyMultiple(e,t,r,n.values,a,i):$bef59326251d24bb$var$doScoreItemFuzzySingle(e,t,r,n,a,i)}function $bef59326251d24bb$var$doScoreItemFuzzyMultiple(e,t,r,n,i,a){var o=0,s=[],u=[],c=!0,l=!1,f=void 0;try{for(var d,h=n[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v,p,b=$bef59326251d24bb$var$doScoreItemFuzzySingle(e,t,r,d.value,i,a),g=b.score,m=b.labelMatch,$=b.descriptionMatch;if(g===$bef59326251d24bb$var$NO_MATCH)return $bef59326251d24bb$var$NO_ITEM_SCORE;o+=g,m&&(v=s).push.apply(v,(0,$caN7I.default)(m)),$&&(p=u).push.apply(p,(0,$caN7I.default)($))}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}return{score:o,labelMatch:$bef59326251d24bb$var$normalizeMatches(s),descriptionMatch:$bef59326251d24bb$var$normalizeMatches(u)}}function $bef59326251d24bb$var$doScoreItemFuzzySingle(e,t,r,n,i,a){if(i||!t){var o=(0,$dVhHy.default)($bef59326251d24bb$var$scoreFuzzy(e,n.normalized,n.normalizedLowercase,a),2),s=o[0],u=o[1];if(s){var c,l=$bef59326251d24bb$var$matchesPrefix(n.normalized,e);if(l)c=$bef59326251d24bb$var$LABEL_PREFIX_SCORE_THRESHOLD,c+=Math.round(n.normalized.length/e.length*100);else c=$bef59326251d24bb$var$LABEL_SCORE_THRESHOLD;return{score:c+s,labelMatch:l||$bef59326251d24bb$var$createMatches(u)}}}if(t){var f=t;r&&(f="".concat(t).concat($bef59326251d24bb$var$sep));var d=f.length,h="".concat(f).concat(e),v=(0,$dVhHy.default)($bef59326251d24bb$var$scoreFuzzy(h,n.normalized,n.normalizedLowercase,a),2),p=v[0],b=v[1];if(p){var g=$bef59326251d24bb$var$createMatches(b),m=[],$=[];return g.forEach((function(e){e.start<d&&e.end>d?(m.push({start:0,end:e.end-d}),$.push({start:e.start,end:d})):e.start>=d?m.push({start:e.start-d,end:e.end-d}):$.push(e)})),{score:p,labelMatch:m,descriptionMatch:$}}}return $bef59326251d24bb$var$NO_ITEM_SCORE}function $bef59326251d24bb$var$createMatches(e){var t,r=[];if(!e)return r;var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;t&&t.end===u?t.end+=1:(t={start:u,end:u+1},r.push(t))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function $bef59326251d24bb$var$normalizeMatches(e){var t=e.sort((function(e,t){return e.start-t.start})),r=[],n=void 0,i=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n&&$bef59326251d24bb$var$matchOverlaps(n,c)?(n.start=Math.min(n.start,c.start),n.end=Math.max(n.end,c.end)):(n=c,r.push(c))}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return r}function $bef59326251d24bb$var$matchOverlaps(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function $bef59326251d24bb$var$compareItemsByFuzzyScore(e,t,r,n,i,a){var o=$bef59326251d24bb$var$scoreItemFuzzy(e,r,n,i,a),s=$bef59326251d24bb$var$scoreItemFuzzy(t,r,n,i,a),u=o.score,c=s.score;if((u===$bef59326251d24bb$var$PATH_IDENTITY_SCORE||c===$bef59326251d24bb$var$PATH_IDENTITY_SCORE)&&u!==c)return u===$bef59326251d24bb$var$PATH_IDENTITY_SCORE?-1:1;if(u>$bef59326251d24bb$var$LABEL_SCORE_THRESHOLD||c>$bef59326251d24bb$var$LABEL_SCORE_THRESHOLD){if(u!==c)return u>c?-1:1;if(u<$bef59326251d24bb$var$LABEL_PREFIX_SCORE_THRESHOLD&&c<$bef59326251d24bb$var$LABEL_PREFIX_SCORE_THRESHOLD){var l=$bef59326251d24bb$var$compareByMatchLength(o.labelMatch,s.labelMatch);if(0!==l)return l}var f=i.getItemLabel(e)||"",d=i.getItemLabel(t)||"";if(f.length!==d.length)return f.length-d.length}if(u!==c)return u>c?-1:1;var h=Array.isArray(o.labelMatch)&&o.labelMatch.length>0,v=Array.isArray(s.labelMatch)&&s.labelMatch.length>0;if(h&&!v)return-1;if(v&&!h)return 1;var p=$bef59326251d24bb$var$computeLabelAndDescriptionMatchDistance(e,o,i),b=$bef59326251d24bb$var$computeLabelAndDescriptionMatchDistance(t,s,i);return p&&b&&p!==b?b>p?-1:1:$bef59326251d24bb$var$fallbackCompare(e,t,r,i)}function $bef59326251d24bb$var$computeLabelAndDescriptionMatchDistance(e,t,r){var n=-1,i=-1;if(t.descriptionMatch&&t.descriptionMatch.length?n=t.descriptionMatch[0].start:t.labelMatch&&t.labelMatch.length&&(n=t.labelMatch[0].start),t.labelMatch&&t.labelMatch.length){if(i=t.labelMatch[t.labelMatch.length-1].end,t.descriptionMatch&&t.descriptionMatch.length){var a=r.getItemDescription(e);a&&(i+=a.length)}}else t.descriptionMatch&&t.descriptionMatch.length&&(i=t.descriptionMatch[t.descriptionMatch.length-1].end);return i-n}function $bef59326251d24bb$var$compareByMatchLength(e,t){if(!((e||t)&&(e&&e.length||t&&t.length)))return 0;if(!t||!t.length)return-1;if(!e||!e.length)return 1;var r=e[0].start,n=e[e.length-1].end-r,i=t[0].start,a=t[t.length-1].end-i;return n===a?0:a<n?1:-1}function $bef59326251d24bb$var$fallbackCompare(e,t,r,n){var i=n.getItemLabel(e)||"",a=n.getItemLabel(t)||"",o=n.getItemDescription(e),s=n.getItemDescription(t),u=i.length+(o?o.length:0),c=a.length+(s?s.length:0);if(u!==c)return u-c;var l=n.getItemPath(e),f=n.getItemPath(t);return l&&f&&l.length!==f.length?l.length-f.length:i!==a?$bef59326251d24bb$var$compareAnything(i,a,r.normalized):o&&s&&o!==s?$bef59326251d24bb$var$compareAnything(o,s,r.normalized):l&&f&&l!==f?$bef59326251d24bb$var$compareAnything(l,f,r.normalized):0}var $bef59326251d24bb$var$MULTIPLE_QUERY_VALUES_SEPARATOR=" ";function $bef59326251d24bb$var$prepareQuery(e){"string"!=typeof e&&(e="");var t=e.toLowerCase(),r=$bef59326251d24bb$var$normalizeQuery(e),n=r.pathNormalized,i=r.normalized,a=r.normalizedLowercase,o=n.indexOf($bef59326251d24bb$var$sep)>=0,s=void 0,u=e.split($bef59326251d24bb$var$MULTIPLE_QUERY_VALUES_SEPARATOR),c=!0,l=!1,f=void 0;if(u.length>1)try{for(var d,h=u[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=d.value,p=$bef59326251d24bb$var$normalizeQuery(v),b=p.pathNormalized,g=p.normalized,m=p.normalizedLowercase;g&&(s||(s=[]),s.push({original:v,originalLowercase:v.toLowerCase(),pathNormalized:b,normalized:g,normalizedLowercase:m}))}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}return{original:e,originalLowercase:t,pathNormalized:n,normalized:i,normalizedLowercase:a,values:s,containsPathSeparator:o}}function $bef59326251d24bb$var$normalizeQuery(e){var t,r=$bef59326251d24bb$var$stripWildcards(t=$bef59326251d24bb$var$isWindows?e.replace(/\//g,$bef59326251d24bb$var$sep):e.replace(/\\/g,$bef59326251d24bb$var$sep)).replace(/\s/g,"");return{pathNormalized:t,normalized:r,normalizedLowercase:r.toLowerCase()}}function $bef59326251d24bb$var$pieceToQuery(e){return Array.isArray(e)?$bef59326251d24bb$var$prepareQuery(e.map((function(e){return e.original})).join($bef59326251d24bb$var$MULTIPLE_QUERY_VALUES_SEPARATOR)):$bef59326251d24bb$var$prepareQuery(e.original)}var $bef59326251d24bb$export$46d2ea662a8b31e={__proto__:null,scoreFuzzy:$bef59326251d24bb$var$scoreFuzzy,scoreFuzzy2:$bef59326251d24bb$var$scoreFuzzy2,scoreItemFuzzy:$bef59326251d24bb$var$scoreItemFuzzy,compareItemsByFuzzyScore:$bef59326251d24bb$var$compareItemsByFuzzyScore,prepareQuery:$bef59326251d24bb$var$prepareQuery,pieceToQuery:$bef59326251d24bb$var$pieceToQuery};function $bef59326251d24bb$var$getEmptyExpression(){return Object.create(null)}var $bef59326251d24bb$var$GLOBSTAR="**",$bef59326251d24bb$var$GLOB_SPLIT="/",$bef59326251d24bb$var$PATH_REGEX="[/\\\\]",$bef59326251d24bb$var$NO_PATH_REGEX="[^/\\\\]",$bef59326251d24bb$var$ALL_FORWARD_SLASHES=/\//g;function $bef59326251d24bb$var$starsToRegExp(e){switch(e){case 0:return"";case 1:return"".concat($bef59326251d24bb$var$NO_PATH_REGEX,"*?");default:return"(?:".concat($bef59326251d24bb$var$PATH_REGEX,"|").concat($bef59326251d24bb$var$NO_PATH_REGEX,"+").concat($bef59326251d24bb$var$PATH_REGEX,"|").concat($bef59326251d24bb$var$PATH_REGEX).concat($bef59326251d24bb$var$NO_PATH_REGEX,"+)*?")}}function $bef59326251d24bb$var$splitGlobAware(e,t){if(!e)return[];var r=[],n=!1,i=!1,a="",o=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;switch(f){case t:if(!n&&!i){r.push(a),a="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":i=!0;break;case"]":i=!1}a+=f}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return a&&r.push(a),r}function $bef59326251d24bb$var$parseRegExp(e){if(!e)return"";var t="",r=$bef59326251d24bb$var$splitGlobAware(e,$bef59326251d24bb$var$GLOB_SPLIT);if(r.every((function(e){return e===$bef59326251d24bb$var$GLOBSTAR})))t=".*";else{var n=!1;r.forEach((function(e,i){if(e!==$bef59326251d24bb$var$GLOBSTAR){var a=!1,o="",s=!1,u="",c=!0,l=!1,f=void 0;try{for(var d,h=e[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=d.value;if("}"!==v&&a)o+=v;else if(!s||"]"===v&&u)switch(v){case"{":a=!0;continue;case"[":s=!0;continue;case"}":var p=$bef59326251d24bb$var$splitGlobAware(o,","),b="(?:".concat(p.map((function(e){return $bef59326251d24bb$var$parseRegExp(e)})).join("|"),")");t+=b,a=!1,o="";break;case"]":t+="["+u+"]",s=!1,u="";break;case"?":t+=$bef59326251d24bb$var$NO_PATH_REGEX;continue;case"*":t+=$bef59326251d24bb$var$starsToRegExp(1);continue;default:t+=$bef59326251d24bb$var$escapeRegExpCharacters(v)}else{u+="-"===v?v:"^"!==v&&"!"!==v||u?v===$bef59326251d24bb$var$GLOB_SPLIT?"":$bef59326251d24bb$var$escapeRegExpCharacters(v):"^"}}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}i<r.length-1&&(r[i+1]!==$bef59326251d24bb$var$GLOBSTAR||i+2<r.length)&&(t+=$bef59326251d24bb$var$PATH_REGEX),n=!1}else n||(t+=$bef59326251d24bb$var$starsToRegExp(2),n=!0)}))}return t}var $bef59326251d24bb$var$T1=/^\*\*\/\*\.[\w\.-]+$/,$bef59326251d24bb$var$T2=/^\*\*\/([\w\.-]+)\/?$/,$bef59326251d24bb$var$T3=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,$bef59326251d24bb$var$T3_2=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,$bef59326251d24bb$var$T4=/^\*\*((\/[\w\.-]+)+)\/?$/,$bef59326251d24bb$var$T5=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,$bef59326251d24bb$var$CACHE=new $bef59326251d24bb$var$LRUCache(1e4),$bef59326251d24bb$var$FALSE=function(){return!1},$bef59326251d24bb$var$NULL=function(){return null};function $bef59326251d24bb$var$parsePattern(e,t){if(!e)return $bef59326251d24bb$var$NULL;var r;r=(r="string"!=typeof e?e.pattern:e).trim();var n,i="".concat(r,"_").concat(!!t.trimForExclusions),a=$bef59326251d24bb$var$CACHE.get(i);if(a)return $bef59326251d24bb$var$wrapRelativePattern(a,e);if($bef59326251d24bb$var$T1.test(r)){var o=r.substr(4);a=function(e,t){return"string"==typeof e&&e.endsWith(o)?r:null}}else a=(n=$bef59326251d24bb$var$T2.exec($bef59326251d24bb$var$trimForExclusions(r,t)))?$bef59326251d24bb$var$trivia2(n[1],r):(t.trimForExclusions?$bef59326251d24bb$var$T3_2:$bef59326251d24bb$var$T3).test(r)?$bef59326251d24bb$var$trivia3(r,t):(n=$bef59326251d24bb$var$T4.exec($bef59326251d24bb$var$trimForExclusions(r,t)))?$bef59326251d24bb$var$trivia4and5(n[1].substr(1),r,!0):(n=$bef59326251d24bb$var$T5.exec($bef59326251d24bb$var$trimForExclusions(r,t)))?$bef59326251d24bb$var$trivia4and5(n[1],r,!1):$bef59326251d24bb$var$toRegExp(r);return $bef59326251d24bb$var$CACHE.set(i,a),$bef59326251d24bb$var$wrapRelativePattern(a,e)}function $bef59326251d24bb$var$wrapRelativePattern(e,t){return"string"==typeof t?e:function(r,n){return $bef59326251d24bb$var$isEqualOrParent$1(r,t.base)?e($bef59326251d24bb$var$relative(t.base,r),n):null}}function $bef59326251d24bb$var$trimForExclusions(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function $bef59326251d24bb$var$trivia2(e,t){var r="/".concat(e),n="\\".concat(e),i=function(i,a){return"string"!=typeof i?null:a?a===e?t:null:i===e||i.endsWith(r)||i.endsWith(n)?t:null},a=[e];return i.basenames=a,i.patterns=[t],i.allBasenames=a,i}function $bef59326251d24bb$var$trivia3(e,t){var r=$bef59326251d24bb$var$aggregateBasenameMatches(e.slice(1,-1).split(",").map((function(e){return $bef59326251d24bb$var$parsePattern(e,t)})).filter((function(e){return e!==$bef59326251d24bb$var$NULL})),e),n=r.length;if(!n)return $bef59326251d24bb$var$NULL;if(1===n)return r[0];var i=function(t,n){for(var i=0,a=r.length;i<a;i++)if(r[i](t,n))return e;return null},a=r.find((function(e){return!!e.allBasenames}));a&&(i.allBasenames=a.allBasenames);var o=r.reduce((function(e,t){return t.allPaths?e.concat(t.allPaths):e}),[]);return o.length&&(i.allPaths=o),i}function $bef59326251d24bb$var$trivia4and5(e,t,r){var n=$bef59326251d24bb$var$sep===$bef59326251d24bb$var$posix.sep,i=n?e:e.replace($bef59326251d24bb$var$ALL_FORWARD_SLASHES,$bef59326251d24bb$var$sep),a=$bef59326251d24bb$var$sep+i,o=$bef59326251d24bb$var$posix.sep+e,s=r?function(r,s){return"string"!=typeof r||r!==i&&!r.endsWith(a)&&(n||r!==e&&!r.endsWith(o))?null:t}:function(r,a){return"string"!=typeof r||r!==i&&(n||r!==e)?null:t};return s.allPaths=[(r?"*/":"./")+e],s}function $bef59326251d24bb$var$toRegExp(e){try{var t=new RegExp("^".concat($bef59326251d24bb$var$parseRegExp(e),"$"));return function(r){return t.lastIndex=0,"string"==typeof r&&t.test(r)?e:null}}catch(e){return $bef59326251d24bb$var$NULL}}function $bef59326251d24bb$var$match(e,t,r){return!(!e||"string"!=typeof t)&&$bef59326251d24bb$var$parse$2(e)(t,void 0,r)}function $bef59326251d24bb$var$parse$2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return $bef59326251d24bb$var$FALSE;if("string"==typeof e||$bef59326251d24bb$var$isRelativePattern(e)){var r=$bef59326251d24bb$var$parsePattern(e,t);if(r===$bef59326251d24bb$var$NULL)return $bef59326251d24bb$var$FALSE;var n=function(e,t){return!!r(e,t)};return r.allBasenames&&(n.allBasenames=r.allBasenames),r.allPaths&&(n.allPaths=r.allPaths),n}return $bef59326251d24bb$var$parsedExpression(e,t)}function $bef59326251d24bb$var$hasSiblingPromiseFn(e){var t;if(e)return function(r){return t||(t=(e()||Promise.resolve([])).then((function(e){return e?$bef59326251d24bb$var$listToMap(e):{}}))),t.then((function(e){return!!e[r]}))}}function $bef59326251d24bb$var$hasSiblingFn(e){var t;if(e)return function(r){if(!t){var n=e();t=n?$bef59326251d24bb$var$listToMap(n):{}}return!!t[r]}}function $bef59326251d24bb$var$listToMap(e){var t={},r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){t[a.value]=!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}function $bef59326251d24bb$var$isRelativePattern(e){var t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}function $bef59326251d24bb$var$getBasenameTerms(e){return e.allBasenames||[]}function $bef59326251d24bb$var$getPathTerms(e){return e.allPaths||[]}function $bef59326251d24bb$var$parsedExpression(e,t){var r=$bef59326251d24bb$var$aggregateBasenameMatches(Object.getOwnPropertyNames(e).map((function(r){return $bef59326251d24bb$var$parseExpressionPattern(r,e[r],t)})).filter((function(e){return e!==$bef59326251d24bb$var$NULL}))),n=r.length;if(!n)return $bef59326251d24bb$var$NULL;if(!r.some((function(e){return!!e.requiresSiblings}))){if(1===n)return r[0];var i=function(e,t){for(var n=0,i=r.length;n<i;n++){var a=r[n](e,t);if(a)return a}return null},a=r.find((function(e){return!!e.allBasenames}));a&&(i.allBasenames=a.allBasenames);var o=r.reduce((function(e,t){return t.allPaths?e.concat(t.allPaths):e}),[]);return o.length&&(i.allPaths=o),i}var s=function(e,t,n){for(var i=void 0,a=0,o=r.length;a<o;a++){var s=r[a];s.requiresSiblings&&n&&(t||(t=$bef59326251d24bb$var$basename$1(e)),i||(i=t.substr(0,t.length-$bef59326251d24bb$var$extname$1(e).length)));var u=s(e,t,i,n);if(u)return u}return null},u=r.find((function(e){return!!e.allBasenames}));u&&(s.allBasenames=u.allBasenames);var c=r.reduce((function(e,t){return t.allPaths?e.concat(t.allPaths):e}),[]);return c.length&&(s.allPaths=c),s}function $bef59326251d24bb$var$parseExpressionPattern(e,t,r){if(!1===t)return $bef59326251d24bb$var$NULL;var n=$bef59326251d24bb$var$parsePattern(e,r);if(n===$bef59326251d24bb$var$NULL)return $bef59326251d24bb$var$NULL;if("boolean"==typeof t)return n;if(t){var i=t.when;if("string"==typeof i){var a=function(t,r,a,o){if(!o||!n(t,r))return null;var s=o(i.replace("$(basename)",a));return $bef59326251d24bb$var$isThenable(s)?s.then((function(t){return t?e:null})):s?e:null};return a.requiresSiblings=!0,a}}return n}function $bef59326251d24bb$var$aggregateBasenameMatches(e,t){var r=e.filter((function(e){return!!e.basenames}));if(r.length<2)return e;var n,i=r.reduce((function(e,t){var r=t.basenames;return r?e.concat(r):e}),[]);if(t){n=[];for(var a=0,o=i.length;a<o;a++)n.push(t)}else n=r.reduce((function(e,t){var r=t.patterns;return r?e.concat(r):e}),[]);var s=function(e,t){if("string"!=typeof e)return null;if(!t){var r;for(r=e.length;r>0;r--){var a=e.charCodeAt(r-1);if(47===a||92===a)break}t=e.substr(r)}var o=i.indexOf(t);return-1!==o?n[o]:null};s.basenames=i,s.patterns=n,s.allBasenames=i;var u=e.filter((function(e){return!e.basenames}));return u.push(s),u}var $bef59326251d24bb$export$442f1a04865e4790={__proto__:null,getEmptyExpression:$bef59326251d24bb$var$getEmptyExpression,splitGlobAware:$bef59326251d24bb$var$splitGlobAware,match:$bef59326251d24bb$var$match,parse:$bef59326251d24bb$var$parse$2,hasSiblingPromiseFn:$bef59326251d24bb$var$hasSiblingPromiseFn,hasSiblingFn:$bef59326251d24bb$var$hasSiblingFn,isRelativePattern:$bef59326251d24bb$var$isRelativePattern,getBasenameTerms:$bef59326251d24bb$var$getBasenameTerms,getPathTerms:$bef59326251d24bb$var$getPathTerms};function $bef59326251d24bb$var$hash(e){return $bef59326251d24bb$var$doHash(e,0)}function $bef59326251d24bb$var$doHash(e,t){switch(void 0===e?"undefined":(0,$dCPLc.default)(e)){case"object":return null===e?$bef59326251d24bb$var$numberHash(349,t):Array.isArray(e)?$bef59326251d24bb$var$arrayHash(e,t):$bef59326251d24bb$var$objectHash(e,t);case"string":return $bef59326251d24bb$var$stringHash(e,t);case"boolean":return $bef59326251d24bb$var$booleanHash(e,t);case"number":return $bef59326251d24bb$var$numberHash(e,t);case"undefined":return $bef59326251d24bb$var$numberHash(937,t);default:return $bef59326251d24bb$var$numberHash(617,t)}}function $bef59326251d24bb$var$numberHash(e,t){return(t<<5)-t+e|0}function $bef59326251d24bb$var$booleanHash(e,t){return $bef59326251d24bb$var$numberHash(e?433:863,t)}function $bef59326251d24bb$var$stringHash(e,t){t=$bef59326251d24bb$var$numberHash(149417,t);for(var r=0,n=e.length;r<n;r++)t=$bef59326251d24bb$var$numberHash(e.charCodeAt(r),t);return t}function $bef59326251d24bb$var$arrayHash(e,t){return t=$bef59326251d24bb$var$numberHash(104579,t),e.reduce((function(e,t){return $bef59326251d24bb$var$doHash(t,e)}),t)}function $bef59326251d24bb$var$objectHash(e,t){return t=$bef59326251d24bb$var$numberHash(181387,t),Object.keys(e).sort().reduce((function(t,r){return t=$bef59326251d24bb$var$stringHash(r,t),$bef59326251d24bb$var$doHash(e[r],t)}),t)}var $bef59326251d24bb$var$Hasher=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._value=0}return(0,$9HoHC.default)(e,[{key:"value",get:function(){return this._value}},{key:"hash",value:function(e){return this._value=$bef59326251d24bb$var$doHash(e,this._value),this._value}}]),e}(),$bef59326251d24bb$var$SHA1Constant,SHA1Constant;function $bef59326251d24bb$var$leftRotate(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,n=r-t,i=~((1<<n)-1);return(e<<t|(i&e)>>>n)>>>0}function $bef59326251d24bb$var$fill(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=0;i<r;i++)e[t+i]=n}function $bef59326251d24bb$var$leftPad(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";e.length<t;)e=r+e;return e}function $bef59326251d24bb$var$toHexString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join(""):$bef59326251d24bb$var$leftPad((e>>>0).toString(16),t/4)}SHA1Constant=$bef59326251d24bb$var$SHA1Constant||($bef59326251d24bb$var$SHA1Constant={}),SHA1Constant[SHA1Constant.BLOCK_SIZE=64]="BLOCK_SIZE",SHA1Constant[SHA1Constant.UNICODE_REPLACEMENT=65533]="UNICODE_REPLACEMENT";var $bef59326251d24bb$var$StringSHA1=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}return(0,$9HoHC.default)(e,[{key:"update",value:function(e){var t=e.length;if(0!==t){var r,n,i=this._buff,a=this._buffLen,o=this._leftoverHighSurrogate;for(0!==o?(r=o,n=-1,o=0):(r=e.charCodeAt(0),n=0);;){var s=r;if($bef59326251d24bb$var$isHighSurrogate(r)){if(!(n+1<t)){o=r;break}var u=e.charCodeAt(n+1);$bef59326251d24bb$var$isLowSurrogate(u)?(n++,s=$bef59326251d24bb$var$computeCodePoint(r,u)):s=65533}else $bef59326251d24bb$var$isLowSurrogate(r)&&(s=65533);if(a=this._push(i,a,s),!(++n<t))break;r=e.charCodeAt(n)}this._buffLen=a,this._leftoverHighSurrogate=o}}},{key:"_push",value:function(e,t,r){return r<128?e[t++]=r:r<2048?(e[t++]=192|(1984&r)>>>6,e[t++]=128|(63&r)>>>0):r<65536?(e[t++]=224|(61440&r)>>>12,e[t++]=128|(4032&r)>>>6,e[t++]=128|(63&r)>>>0):(e[t++]=240|(1835008&r)>>>18,e[t++]=128|(258048&r)>>>12,e[t++]=128|(4032&r)>>>6,e[t++]=128|(63&r)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}},{key:"digest",value:function(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),$bef59326251d24bb$var$toHexString(this._h0)+$bef59326251d24bb$var$toHexString(this._h1)+$bef59326251d24bb$var$toHexString(this._h2)+$bef59326251d24bb$var$toHexString(this._h3)+$bef59326251d24bb$var$toHexString(this._h4)}},{key:"_wrapUp",value:function(){this._buff[this._buffLen++]=128,$bef59326251d24bb$var$fill(this._buff,this._buffLen),this._buffLen>56&&(this._step(),$bef59326251d24bb$var$fill(this._buff));var e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}},{key:"_step",value:function(){for(var t=e._bigBlock32,r=this._buffDV,n=0;n<64;n+=4)t.setUint32(n,r.getUint32(n,!1),!1);for(var i=64;i<320;i+=4)t.setUint32(i,$bef59326251d24bb$var$leftRotate(t.getUint32(i-12,!1)^t.getUint32(i-32,!1)^t.getUint32(i-56,!1)^t.getUint32(i-64,!1),1),!1);for(var a,o,s,u=this._h0,c=this._h1,l=this._h2,f=this._h3,d=this._h4,h=0;h<80;h++)h<20?(a=c&l|~c&f,o=1518500249):h<40?(a=c^l^f,o=1859775393):h<60?(a=c&l|c&f|l&f,o=2400959708):(a=c^l^f,o=3395469782),s=$bef59326251d24bb$var$leftRotate(u,5)+a+d+o+t.getUint32(4*h,!1)&4294967295,d=f,f=l,l=$bef59326251d24bb$var$leftRotate(c,30),c=u,u=s;this._h0=this._h0+u&4294967295,this._h1=this._h1+c&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+f&4294967295,this._h4=this._h4+d&4294967295}}]),e}();$bef59326251d24bb$var$StringSHA1._bigBlock32=new DataView(new ArrayBuffer(320));var $bef59326251d24bb$export$d6af199866bfb566={__proto__:null,hash:$bef59326251d24bb$var$hash,doHash:$bef59326251d24bb$var$doHash,stringHash:$bef59326251d24bb$var$stringHash,Hasher:$bef59326251d24bb$var$Hasher,toHexString:$bef59326251d24bb$var$toHexString,StringSHA1:$bef59326251d24bb$var$StringSHA1},$bef59326251d24bb$var$ArrayNavigator=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r-1;(0,$4JAgF.default)(this,e),this.items=t,this.start=r,this.end=n,this.index=i}return(0,$9HoHC.default)(e,[{key:"current",value:function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}},{key:"next",value:function(){return this.index=Math.min(this.index+1,this.end),this.current()}},{key:"previous",value:function(){return this.index=Math.max(this.index-1,this.start-1),this.current()}},{key:"first",value:function(){return this.index=this.start,this.current()}},{key:"last",value:function(){return this.index=this.end-1,this.current()}}]),e}(),$bef59326251d24bb$export$ec7c8efa7f5790ae={__proto__:null,ArrayNavigator:$bef59326251d24bb$var$ArrayNavigator},$bef59326251d24bb$var$HistoryNavigator=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,$4JAgF.default)(this,e),this._initialize(t),this._limit=r,this._onChange()}return(0,$9HoHC.default)(e,[{key:"getHistory",value:function(){return this._elements}},{key:"add",value:function(e){this._history.delete(e),this._history.add(e),this._onChange()}},{key:"next",value:function(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}},{key:"previous",value:function(){return 0!==this._currentPosition()?this._navigator.previous():null}},{key:"current",value:function(){return this._navigator.current()}},{key:"first",value:function(){return this._navigator.first()}},{key:"last",value:function(){return this._navigator.last()}},{key:"has",value:function(e){return this._history.has(e)}},{key:"clear",value:function(){this._initialize([]),this._onChange()}},{key:"_onChange",value:function(){this._reduceToLimit();var e=this._elements;this._navigator=new $bef59326251d24bb$var$ArrayNavigator(e,0,e.length,e.length)}},{key:"_reduceToLimit",value:function(){var e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}},{key:"_currentPosition",value:function(){var e=this._navigator.current();return e?this._elements.indexOf(e):-1}},{key:"_initialize",value:function(e){this._history=new Set;var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this._history.add(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"_elements",get:function(){var e=[];return this._history.forEach((function(t){return e.push(t)})),e}}]),e}(),$bef59326251d24bb$var$HistoryNavigator2=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if((0,$4JAgF.default)(this,e),this.capacity=r,t.length<1)throw new Error("not supported");this.size=1,this.head=this.tail=this.cursor={value:t[0],previous:void 0,next:void 0};for(var n=1;n<t.length;n++)this.add(t[n])}return(0,$9HoHC.default)(e,[{key:"add",value:function(e){var t={value:e,previous:this.tail,next:void 0};for(this.tail.next=t,this.tail=t,this.cursor=this.tail,this.size++;this.size>this.capacity;)this.head=this.head.next,this.head.previous=void 0,this.size--}},{key:"replaceLast",value:function(e){this.tail.value=e}},{key:"isAtEnd",value:function(){return this.cursor===this.tail}},{key:"current",value:function(){return this.cursor.value}},{key:"previous",value:function(){return this.cursor.previous&&(this.cursor=this.cursor.previous),this.cursor.value}},{key:"next",value:function(){return this.cursor.next&&(this.cursor=this.cursor.next),this.cursor.value}},{key:"has",value:function(e){for(var t=this.head;t;){if(t.value===e)return!0;t=t.next}return!1}},{key:"resetCursor",value:function(){return this.cursor=this.tail,this.cursor.value}},{key:Symbol.iterator,value:function(){var e;return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:e=this.head,t.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))}}]),e}(),$bef59326251d24bb$export$55abd4691b317664={__proto__:null,HistoryNavigator:$bef59326251d24bb$var$HistoryNavigator,HistoryNavigator2:$bef59326251d24bb$var$HistoryNavigator2},$bef59326251d24bb$var$iconStartMarker="$(",$bef59326251d24bb$var$iconsRegex=new RegExp("\\$\\(".concat($bef59326251d24bb$var$CSSIcon.iconNameExpression,"(?:").concat($bef59326251d24bb$var$CSSIcon.iconModifierExpression,")?\\)"),"g"),$bef59326251d24bb$var$escapeIconsRegex=new RegExp("(\\\\)?".concat($bef59326251d24bb$var$iconsRegex.source),"g");function $bef59326251d24bb$var$escapeIcons(e){return e.replace($bef59326251d24bb$var$escapeIconsRegex,(function(e,t){return t?e:"\\".concat(e)}))}var $bef59326251d24bb$var$markdownEscapedIconsRegex=new RegExp("\\\\".concat($bef59326251d24bb$var$iconsRegex.source),"g");function $bef59326251d24bb$var$markdownEscapeEscapedIcons(e){return e.replace($bef59326251d24bb$var$markdownEscapedIconsRegex,(function(e){return"\\".concat(e)}))}var $bef59326251d24bb$var$stripIconsRegex=new RegExp("(\\s)?(\\\\)?".concat($bef59326251d24bb$var$iconsRegex.source,"(\\s)?"),"g");function $bef59326251d24bb$var$stripIcons(e){return-1===e.indexOf($bef59326251d24bb$var$iconStartMarker)?e:e.replace($bef59326251d24bb$var$stripIconsRegex,(function(e,t,r,n){return r?e:t||n||""}))}function $bef59326251d24bb$var$parseLabelWithIcons(e){var t=e.indexOf($bef59326251d24bb$var$iconStartMarker);return-1===t?{text:e}:$bef59326251d24bb$var$doParseLabelWithIcons(e,t)}function $bef59326251d24bb$var$doParseLabelWithIcons(e,t){var r,n,i=function(e){if(e){o+=e;var t=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){i.value;a.push(c)}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}},a=[],o="",s=-1,u="",c=0,l=t,f=e.length;for(i(e.substr(0,t));l<f;){if(r=e[l],n=e[l+1],r===$bef59326251d24bb$var$iconStartMarker[0]&&n===$bef59326251d24bb$var$iconStartMarker[1])s=l,i(u),u=$bef59326251d24bb$var$iconStartMarker,l++;else if(")"===r&&-1!==s){c+=l-s+1,s=-1,u=""}else-1!==s?/^[a-z0-9\-]$/i.test(r)?u+=r:(i(u),s=-1,u=""):i(r);l++}return i(u),{text:o,iconOffsets:a}}function $bef59326251d24bb$var$matchesFuzzyIconAware(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.text,i=t.iconOffsets;if(!i||0===i.length)return $bef59326251d24bb$var$matchesFuzzy(e,n,r);var a=$bef59326251d24bb$var$ltrim(n," "),o=n.length-a.length,s=$bef59326251d24bb$var$matchesFuzzy(e,a,r),u=!0,c=!1,l=void 0;if(s)try{for(var f,d=s[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var h=f.value,v=i[h.start+o]+o;h.start+=v,h.end+=v}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}return s}var $bef59326251d24bb$export$312d46965812b7fb={__proto__:null,iconStartMarker:$bef59326251d24bb$var$iconStartMarker,escapeIcons:$bef59326251d24bb$var$escapeIcons,markdownEscapeEscapedIcons:$bef59326251d24bb$var$markdownEscapeEscapedIcons,stripIcons:$bef59326251d24bb$var$stripIcons,parseLabelWithIcons:$bef59326251d24bb$var$parseLabelWithIcons,matchesFuzzyIconAware:$bef59326251d24bb$var$matchesFuzzyIconAware},$bef59326251d24bb$var$MarkdownStringTextNewlineStyle,MarkdownStringTextNewlineStyle;MarkdownStringTextNewlineStyle=$bef59326251d24bb$var$MarkdownStringTextNewlineStyle||($bef59326251d24bb$var$MarkdownStringTextNewlineStyle={}),MarkdownStringTextNewlineStyle[MarkdownStringTextNewlineStyle.Paragraph=0]="Paragraph",MarkdownStringTextNewlineStyle[MarkdownStringTextNewlineStyle.Break=1]="Break";var $bef59326251d24bb$var$MarkdownString=function(){"use strict";function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,$4JAgF.default)(this,e),this.value=n,"string"!=typeof this.value)throw $bef59326251d24bb$var$illegalArgument("value");"boolean"==typeof i?(this.isTrusted=i,this.supportThemeIcons=!1):(this.isTrusted=null!=(t=i.isTrusted)?t:void 0,this.supportThemeIcons=null!=(r=i.supportThemeIcons)&&r)}return(0,$9HoHC.default)(e,[{key:"appendText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.value+=$bef59326251d24bb$var$escapeMarkdownSyntaxTokens(this.supportThemeIcons?$bef59326251d24bb$var$escapeIcons(e):e).replace(/([ \t]+)/g,(function(e,t){return"&nbsp;".repeat(t.length)})).replace(/^>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}},{key:"appendMarkdown",value:function(e){return this.value+=e,this}},{key:"appendCodeblock",value:function(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}]),e}();function $bef59326251d24bb$var$isEmptyMarkdownString(e){return $bef59326251d24bb$var$isMarkdownString(e)?!e.value:!Array.isArray(e)||e.every($bef59326251d24bb$var$isEmptyMarkdownString)}function $bef59326251d24bb$var$isMarkdownString(e){return e instanceof $bef59326251d24bb$var$MarkdownString||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function $bef59326251d24bb$var$markdownStringEqual(e,t){return e===t||!(!e||!t)&&(e.value===t.value&&e.isTrusted===t.isTrusted&&e.supportThemeIcons===t.supportThemeIcons)}function $bef59326251d24bb$var$escapeMarkdownSyntaxTokens(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function $bef59326251d24bb$var$removeMarkdownEscapes(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}function $bef59326251d24bb$var$parseHrefAndDimensions(e){var t=[],r=e.split("|").map((function(e){return e.trim()}));e=r[0];var n=r[1];if(n){var i=/height=(\d+)/.exec(n),a=/width=(\d+)/.exec(n),o=i?i[1]:"",s=a?a[1]:"",u=isFinite(parseInt(s)),c=isFinite(parseInt(o));u&&t.push('width="'.concat(s,'"')),c&&t.push('height="'.concat(o,'"'))}return{href:e,dimensions:t}}var $bef59326251d24bb$export$4b5461c3d6a08eda={__proto__:null,get MarkdownStringTextNewlineStyle(){return $bef59326251d24bb$var$MarkdownStringTextNewlineStyle},MarkdownString:$bef59326251d24bb$var$MarkdownString,isEmptyMarkdownString:$bef59326251d24bb$var$isEmptyMarkdownString,isMarkdownString:$bef59326251d24bb$var$isMarkdownString,markdownStringEqual:$bef59326251d24bb$var$markdownStringEqual,escapeMarkdownSyntaxTokens:$bef59326251d24bb$var$escapeMarkdownSyntaxTokens,removeMarkdownEscapes:$bef59326251d24bb$var$removeMarkdownEscapes,parseHrefAndDimensions:$bef59326251d24bb$var$parseHrefAndDimensions},$bef59326251d24bb$var$IdGenerator=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._prefix=t,this._lastId=0}return(0,$9HoHC.default)(e,[{key:"nextId",value:function(){return this._prefix+ ++this._lastId}}]),e}(),$bef59326251d24bb$var$defaultGenerator=new $bef59326251d24bb$var$IdGenerator("id#"),$bef59326251d24bb$export$82884410b91fbb16={__proto__:null,IdGenerator:$bef59326251d24bb$var$IdGenerator,defaultGenerator:$bef59326251d24bb$var$defaultGenerator},$bef59326251d24bb$var$ScanError,ScanError,$bef59326251d24bb$var$SyntaxKind,SyntaxKind,$bef59326251d24bb$var$ParseErrorCode,ParseErrorCode,$bef59326251d24bb$var$ParseOptions,ParseOptions,$bef59326251d24bb$var$CharacterCodes,CharacterCodes;function $bef59326251d24bb$var$createScanner(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(t){for(var r=0,n=0;r<t;){var i=e.charCodeAt(c);if(i>=48&&i<=57)n=16*n+i-48;else if(i>=65&&i<=70)n=16*n+i-65+10;else{if(!(i>=97&&i<=102))break;n=16*n+i-97+10}c++,r++}return r<t&&(n=-1),n},n=function(e){c=e,f="",d=0,h=16,v=0},i=function(){var t=c;if(48===e.charCodeAt(c))c++;else for(c++;c<e.length&&$bef59326251d24bb$var$isDigit(e.charCodeAt(c));)c++;if(c<e.length&&46===e.charCodeAt(c)){if(!(++c<e.length&&$bef59326251d24bb$var$isDigit(e.charCodeAt(c))))return v=3,e.substring(t,c);for(c++;c<e.length&&$bef59326251d24bb$var$isDigit(e.charCodeAt(c));)c++}var r=c;if(c<e.length&&(69===e.charCodeAt(c)||101===e.charCodeAt(c)))if((++c<e.length&&43===e.charCodeAt(c)||45===e.charCodeAt(c))&&c++,c<e.length&&$bef59326251d24bb$var$isDigit(e.charCodeAt(c))){for(c++;c<e.length&&$bef59326251d24bb$var$isDigit(e.charCodeAt(c));)c++;r=c}else v=3;return e.substring(t,r)},a=function(){for(var t="",n=c;;){if(c>=l){t+=e.substring(n,c),v=2;break}var i=e.charCodeAt(c);if(34===i){t+=e.substring(n,c),c++;break}if(92!==i){if(i>=0&&i<=31){if($bef59326251d24bb$var$isLineBreak(i)){t+=e.substring(n,c),v=2;break}v=6}c++}else{if(t+=e.substring(n,c),++c>=l){v=2;break}switch(e.charCodeAt(c++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=r(4);a>=0?t+=String.fromCharCode(a):v=4;break;default:v=5}n=c}}return t},o=function(){if(f="",v=0,d=c,c>=l)return d=l,h=17;var t=e.charCodeAt(c);if($bef59326251d24bb$var$isWhitespace(t)){do{c++,f+=String.fromCharCode(t),t=e.charCodeAt(c)}while($bef59326251d24bb$var$isWhitespace(t));return h=15}if($bef59326251d24bb$var$isLineBreak(t))return c++,f+=String.fromCharCode(t),13===t&&10===e.charCodeAt(c)&&(c++,f+="\n"),h=14;switch(t){case 123:return c++,h=1;case 125:return c++,h=2;case 91:return c++,h=3;case 93:return c++,h=4;case 58:return c++,h=6;case 44:return c++,h=5;case 34:return c++,f=a(),h=10;case 47:var r=c-1;if(47===e.charCodeAt(c+1)){for(c+=2;c<l&&!$bef59326251d24bb$var$isLineBreak(e.charCodeAt(c));)c++;return f=e.substring(r,c),h=12}if(42===e.charCodeAt(c+1)){c+=2;for(var n=l-1,o=!1;c<n;){if(42===e.charCodeAt(c)&&47===e.charCodeAt(c+1)){c+=2,o=!0;break}c++}return o||(c++,v=1),f=e.substring(r,c),h=13}return f+=String.fromCharCode(t),c++,h=16;case 45:if(f+=String.fromCharCode(t),++c===l||!$bef59326251d24bb$var$isDigit(e.charCodeAt(c)))return h=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return f+=i(),h=11;default:for(;c<l&&s(t);)c++,t=e.charCodeAt(c);if(d!==c){switch(f=e.substring(d,c)){case"true":return h=8;case"false":return h=9;case"null":return h=7}return h=16}return f+=String.fromCharCode(t),c++,h=16}},s=function(e){if($bef59326251d24bb$var$isWhitespace(e)||$bef59326251d24bb$var$isLineBreak(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0},u=function(){var e;do{e=o()}while(e>=12&&e<=15);return e},c=0,l=e.length,f="",d=0,h=16,v=0;return{setPosition:n,getPosition:function(){return c},scan:t?u:o,getToken:function(){return h},getTokenValue:function(){return f},getTokenOffset:function(){return d},getTokenLength:function(){return c-d},getTokenError:function(){return v}}}function $bef59326251d24bb$var$isWhitespace(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function $bef59326251d24bb$var$isLineBreak(e){return 10===e||13===e||8232===e||8233===e}function $bef59326251d24bb$var$isDigit(e){return e>=48&&e<=57}function $bef59326251d24bb$var$getLocation(e,t){var r=function(e,t,r,n){o.value=e,o.offset=t,o.length=r,o.type=n,o.colonOffset=void 0,a=o},n=[],i=new Object,a=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;try{$bef59326251d24bb$var$visit(e,{onObjectBegin:function(e,r){if(t<=e)throw i;a=void 0,s=t>e,n.push("")},onObjectProperty:function(e,a,o){if(t<a)throw i;if(r(e,a,o,"property"),n[n.length-1]=e,t<=a+o)throw i},onObjectEnd:function(e,r){if(t<=e)throw i;a=void 0,n.pop()},onArrayBegin:function(e,r){if(t<=e)throw i;a=void 0,n.push(0)},onArrayEnd:function(e,r){if(t<=e)throw i;a=void 0,n.pop()},onLiteralValue:function(e,n,a){if(t<n)throw i;if(r(e,n,a,$bef59326251d24bb$var$getNodeType(e)),t<=n+a)throw i},onSeparator:function(e,r,o){if(t<=r)throw i;if(":"===e&&a&&"property"===a.type)a.colonOffset=r,s=!1,a=void 0;else if(","===e){var u=n[n.length-1];"number"==typeof u?n[n.length-1]=u+1:(s=!0,n[n.length-1]=""),a=void 0}}})}catch(e){if(e!==i)throw e}return{path:n,previousNode:a,isAtPropertyKey:s,matches:function(e){for(var t=0,r=0;t<e.length&&r<n.length;r++)if(e[t]===n[r]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}}function $bef59326251d24bb$var$parse$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$bef59326251d24bb$var$ParseOptions.DEFAULT,n=function(e){Array.isArray(a)?a.push(e):null!==i&&(a[i]=e)},i=null,a=[],o=[],s={onObjectBegin:function(){var e={};n(e),o.push(a),a=e,i=null},onObjectProperty:function(e){i=e},onObjectEnd:function(){a=o.pop()},onArrayBegin:function(){var e=[];n(e),o.push(a),a=e,i=null},onArrayEnd:function(){a=o.pop()},onLiteralValue:n,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}};return $bef59326251d24bb$var$visit(e,s,r),a[0]}function $bef59326251d24bb$var$parseTree(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$bef59326251d24bb$var$ParseOptions.DEFAULT,n=function(e){"property"===a.type&&(a.length=e-a.offset,a=a.parent)},i=function(e){return a.children.push(e),e},a={type:"array",offset:-1,length:-1,children:[],parent:void 0},o={onObjectBegin:function(e){a=i({type:"object",offset:e,length:-1,parent:a,children:[]})},onObjectProperty:function(e,t,r){(a=i({type:"property",offset:t,length:-1,parent:a,children:[]})).children.push({type:"string",value:e,offset:t,length:r,parent:a})},onObjectEnd:function(e,t){a.length=e+t-a.offset,a=a.parent,n(e+t)},onArrayBegin:function(e,t){a=i({type:"array",offset:e,length:-1,parent:a,children:[]})},onArrayEnd:function(e,t){a.length=e+t-a.offset,a=a.parent,n(e+t)},onLiteralValue:function(e,t,r){i({type:$bef59326251d24bb$var$getNodeType(e),offset:t,length:r,parent:a,value:e}),n(t+r)},onSeparator:function(e,t,r){"property"===a.type&&(":"===e?a.colonOffset=t:","===e&&n(t))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}};$bef59326251d24bb$var$visit(e,o,r);var s=a.children[0];return s&&delete s.parent,s}function $bef59326251d24bb$var$findNodeAtLocation(e,t){if(e){var r=e,n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if("string"==typeof u){if("object"!==r.type||!Array.isArray(r.children))return;var c=!1,l=!0,f=!1,d=void 0;try{for(var h,v=r.children[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var p=h.value;if(Array.isArray(p.children)&&p.children[0].value===u){r=p.children[1],c=!0;break}}}catch(e){f=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}if(!c)return}else{var b=u;if("array"!==r.type||b<0||!Array.isArray(r.children)||b>=r.children.length)return;r=r.children[b]}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}function $bef59326251d24bb$var$getNodePath(e){if(!e.parent||!e.parent.children)return[];var t=$bef59326251d24bb$var$getNodePath(e.parent);if("property"===e.parent.type){var r=e.parent.children[0].value;t.push(r)}else if("array"===e.parent.type){var n=e.parent.children.indexOf(e);-1!==n&&t.push(n)}return t}function $bef59326251d24bb$var$getNodeValue(e){switch(e.type){case"array":return e.children.map($bef59326251d24bb$var$getNodeValue);case"object":var t=Object.create(null),r=!0,n=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,u=s.children[1];u&&(t[s.children[0].value]=$bef59326251d24bb$var$getNodeValue(u))}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function $bef59326251d24bb$var$contains(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}function $bef59326251d24bb$var$findNodeAtOffset(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($bef59326251d24bb$var$contains(e,t,r)){var n=e.children;if(Array.isArray(n))for(var i=0;i<n.length&&n[i].offset<=t;i++){var a=$bef59326251d24bb$var$findNodeAtOffset(n[i],t,r);if(a)return a}return e}}function $bef59326251d24bb$var$visit(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$bef59326251d24bb$var$ParseOptions.DEFAULT,n=function(e){return e?function(){return e(h.getTokenOffset(),h.getTokenLength())}:function(){return!0}},i=function(e){return e?function(t){return e(t,h.getTokenOffset(),h.getTokenLength())}:function(){return!0}},a=function(){for(;;){var e=h.scan();switch(h.getTokenError()){case 4:o(14);break;case 5:o(15);break;case 3:o(13);break;case 1:S||o(11);break;case 2:o(12);break;case 6:o(16)}switch(e){case 12:case 13:S?o(10):w();break;case 16:o(1);break;case 15:case 14:break;default:return e}}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(_(e),t.length+r.length>0)for(var n=h.getToken();17!==n;){if(-1!==t.indexOf(n)){a();break}if(-1!==r.indexOf(n))break;n=a()}},s=function(e){var t=h.getTokenValue();return e?$(t):p(t),a(),!0},u=function(){switch(h.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(h.getTokenValue()))&&(o(2),e=0)}catch(e){o(2)}$(e);break;case 7:$(null);break;case 8:$(!0);break;case 9:$(!1);break;default:return!1}return a(),!0},c=function(){return 10!==h.getToken()?(o(3,[],[2,5]),!1):(s(!1),6===h.getToken()?(y(":"),a(),d()||o(4,[],[2,5])):o(5,[],[2,5]),!0)},l=function(){v(),a();for(var e=!1;2!==h.getToken()&&17!==h.getToken();){if(5===h.getToken()){if(e||o(4,[],[]),y(","),a(),2===h.getToken()&&C)break}else e&&o(6,[],[]);c()||o(4,[],[2,5]),e=!0}return b(),2!==h.getToken()?o(7,[2],[]):a(),!0},f=function(){g(),a();for(var e=!1;4!==h.getToken()&&17!==h.getToken();){if(5===h.getToken()){if(e||o(4,[],[]),y(","),a(),4===h.getToken()&&C)break}else e&&o(6,[],[]);d()||o(4,[],[4,5]),e=!0}return m(),4!==h.getToken()?o(8,[4],[]):a(),!0},d=function(){switch(h.getToken()){case 3:return f();case 1:return l();case 10:return s(!0);default:return u()}},h=$bef59326251d24bb$var$createScanner(e,!1),v=n(t.onObjectBegin),p=i(t.onObjectProperty),b=n(t.onObjectEnd),g=n(t.onArrayBegin),m=n(t.onArrayEnd),$=i(t.onLiteralValue),y=i(t.onSeparator),w=n(t.onComment),_=i(t.onError),S=r&&r.disallowComments,C=r&&r.allowTrailingComma;return a(),17===h.getToken()?!!r.allowEmptyContent||(o(4,[],[]),!1):d()?(17!==h.getToken()&&o(9,[],[]),!0):(o(4,[],[]),!1)}function $bef59326251d24bb$var$stripComments(e,t){var r,n,i=$bef59326251d24bb$var$createScanner(e),a=[],o=0;do{switch(n=i.getPosition(),r=i.scan()){case 12:case 13:case 17:o!==n&&a.push(e.substring(o,n)),void 0!==t&&a.push(i.getTokenValue().replace(/[^\r\n]/g,t)),o=i.getPosition()}}while(17!==r);return a.join("")}function $bef59326251d24bb$var$getNodeType(e){switch(void 0===e?"undefined":(0,$dCPLc.default)(e)){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}ScanError=$bef59326251d24bb$var$ScanError||($bef59326251d24bb$var$ScanError={}),ScanError[ScanError.None=0]="None",ScanError[ScanError.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",ScanError[ScanError.UnexpectedEndOfString=2]="UnexpectedEndOfString",ScanError[ScanError.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",ScanError[ScanError.InvalidUnicode=4]="InvalidUnicode",ScanError[ScanError.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",ScanError[ScanError.InvalidCharacter=6]="InvalidCharacter",SyntaxKind=$bef59326251d24bb$var$SyntaxKind||($bef59326251d24bb$var$SyntaxKind={}),SyntaxKind[SyntaxKind.OpenBraceToken=1]="OpenBraceToken",SyntaxKind[SyntaxKind.CloseBraceToken=2]="CloseBraceToken",SyntaxKind[SyntaxKind.OpenBracketToken=3]="OpenBracketToken",SyntaxKind[SyntaxKind.CloseBracketToken=4]="CloseBracketToken",SyntaxKind[SyntaxKind.CommaToken=5]="CommaToken",SyntaxKind[SyntaxKind.ColonToken=6]="ColonToken",SyntaxKind[SyntaxKind.NullKeyword=7]="NullKeyword",SyntaxKind[SyntaxKind.TrueKeyword=8]="TrueKeyword",SyntaxKind[SyntaxKind.FalseKeyword=9]="FalseKeyword",SyntaxKind[SyntaxKind.StringLiteral=10]="StringLiteral",SyntaxKind[SyntaxKind.NumericLiteral=11]="NumericLiteral",SyntaxKind[SyntaxKind.LineCommentTrivia=12]="LineCommentTrivia",SyntaxKind[SyntaxKind.BlockCommentTrivia=13]="BlockCommentTrivia",SyntaxKind[SyntaxKind.LineBreakTrivia=14]="LineBreakTrivia",SyntaxKind[SyntaxKind.Trivia=15]="Trivia",SyntaxKind[SyntaxKind.Unknown=16]="Unknown",SyntaxKind[SyntaxKind.EOF=17]="EOF",ParseErrorCode=$bef59326251d24bb$var$ParseErrorCode||($bef59326251d24bb$var$ParseErrorCode={}),ParseErrorCode[ParseErrorCode.InvalidSymbol=1]="InvalidSymbol",ParseErrorCode[ParseErrorCode.InvalidNumberFormat=2]="InvalidNumberFormat",ParseErrorCode[ParseErrorCode.PropertyNameExpected=3]="PropertyNameExpected",ParseErrorCode[ParseErrorCode.ValueExpected=4]="ValueExpected",ParseErrorCode[ParseErrorCode.ColonExpected=5]="ColonExpected",ParseErrorCode[ParseErrorCode.CommaExpected=6]="CommaExpected",ParseErrorCode[ParseErrorCode.CloseBraceExpected=7]="CloseBraceExpected",ParseErrorCode[ParseErrorCode.CloseBracketExpected=8]="CloseBracketExpected",ParseErrorCode[ParseErrorCode.EndOfFileExpected=9]="EndOfFileExpected",ParseErrorCode[ParseErrorCode.InvalidCommentToken=10]="InvalidCommentToken",ParseErrorCode[ParseErrorCode.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",ParseErrorCode[ParseErrorCode.UnexpectedEndOfString=12]="UnexpectedEndOfString",ParseErrorCode[ParseErrorCode.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",ParseErrorCode[ParseErrorCode.InvalidUnicode=14]="InvalidUnicode",ParseErrorCode[ParseErrorCode.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",ParseErrorCode[ParseErrorCode.InvalidCharacter=16]="InvalidCharacter",ParseOptions=$bef59326251d24bb$var$ParseOptions||($bef59326251d24bb$var$ParseOptions={}),ParseOptions.DEFAULT={allowTrailingComma:!0},CharacterCodes=$bef59326251d24bb$var$CharacterCodes||($bef59326251d24bb$var$CharacterCodes={}),CharacterCodes[CharacterCodes.nullCharacter=0]="nullCharacter",CharacterCodes[CharacterCodes.maxAsciiCharacter=127]="maxAsciiCharacter",CharacterCodes[CharacterCodes.lineFeed=10]="lineFeed",CharacterCodes[CharacterCodes.carriageReturn=13]="carriageReturn",CharacterCodes[CharacterCodes.lineSeparator=8232]="lineSeparator",CharacterCodes[CharacterCodes.paragraphSeparator=8233]="paragraphSeparator",CharacterCodes[CharacterCodes.nextLine=133]="nextLine",CharacterCodes[CharacterCodes.space=32]="space",CharacterCodes[CharacterCodes.nonBreakingSpace=160]="nonBreakingSpace",CharacterCodes[CharacterCodes.enQuad=8192]="enQuad",CharacterCodes[CharacterCodes.emQuad=8193]="emQuad",CharacterCodes[CharacterCodes.enSpace=8194]="enSpace",CharacterCodes[CharacterCodes.emSpace=8195]="emSpace",CharacterCodes[CharacterCodes.threePerEmSpace=8196]="threePerEmSpace",CharacterCodes[CharacterCodes.fourPerEmSpace=8197]="fourPerEmSpace",CharacterCodes[CharacterCodes.sixPerEmSpace=8198]="sixPerEmSpace",CharacterCodes[CharacterCodes.figureSpace=8199]="figureSpace",CharacterCodes[CharacterCodes.punctuationSpace=8200]="punctuationSpace",CharacterCodes[CharacterCodes.thinSpace=8201]="thinSpace",CharacterCodes[CharacterCodes.hairSpace=8202]="hairSpace",CharacterCodes[CharacterCodes.zeroWidthSpace=8203]="zeroWidthSpace",CharacterCodes[CharacterCodes.narrowNoBreakSpace=8239]="narrowNoBreakSpace",CharacterCodes[CharacterCodes.ideographicSpace=12288]="ideographicSpace",CharacterCodes[CharacterCodes.mathematicalSpace=8287]="mathematicalSpace",CharacterCodes[CharacterCodes.ogham=5760]="ogham",CharacterCodes[CharacterCodes._=95]="_",CharacterCodes[CharacterCodes.$=36]="$",CharacterCodes[CharacterCodes._0=48]="_0",CharacterCodes[CharacterCodes._1=49]="_1",CharacterCodes[CharacterCodes._2=50]="_2",CharacterCodes[CharacterCodes._3=51]="_3",CharacterCodes[CharacterCodes._4=52]="_4",CharacterCodes[CharacterCodes._5=53]="_5",CharacterCodes[CharacterCodes._6=54]="_6",CharacterCodes[CharacterCodes._7=55]="_7",CharacterCodes[CharacterCodes._8=56]="_8",CharacterCodes[CharacterCodes._9=57]="_9",CharacterCodes[CharacterCodes.a=97]="a",CharacterCodes[CharacterCodes.b=98]="b",CharacterCodes[CharacterCodes.c=99]="c",CharacterCodes[CharacterCodes.d=100]="d",CharacterCodes[CharacterCodes.e=101]="e",CharacterCodes[CharacterCodes.f=102]="f",CharacterCodes[CharacterCodes.g=103]="g",CharacterCodes[CharacterCodes.h=104]="h",CharacterCodes[CharacterCodes.i=105]="i",CharacterCodes[CharacterCodes.j=106]="j",CharacterCodes[CharacterCodes.k=107]="k",CharacterCodes[CharacterCodes.l=108]="l",CharacterCodes[CharacterCodes.m=109]="m",CharacterCodes[CharacterCodes.n=110]="n",CharacterCodes[CharacterCodes.o=111]="o",CharacterCodes[CharacterCodes.p=112]="p",CharacterCodes[CharacterCodes.q=113]="q",CharacterCodes[CharacterCodes.r=114]="r",CharacterCodes[CharacterCodes.s=115]="s",CharacterCodes[CharacterCodes.t=116]="t",CharacterCodes[CharacterCodes.u=117]="u",CharacterCodes[CharacterCodes.v=118]="v",CharacterCodes[CharacterCodes.w=119]="w",CharacterCodes[CharacterCodes.x=120]="x",CharacterCodes[CharacterCodes.y=121]="y",CharacterCodes[CharacterCodes.z=122]="z",CharacterCodes[CharacterCodes.A=65]="A",CharacterCodes[CharacterCodes.B=66]="B",CharacterCodes[CharacterCodes.C=67]="C",CharacterCodes[CharacterCodes.D=68]="D",CharacterCodes[CharacterCodes.E=69]="E",CharacterCodes[CharacterCodes.F=70]="F",CharacterCodes[CharacterCodes.G=71]="G",CharacterCodes[CharacterCodes.H=72]="H",CharacterCodes[CharacterCodes.I=73]="I",CharacterCodes[CharacterCodes.J=74]="J",CharacterCodes[CharacterCodes.K=75]="K",CharacterCodes[CharacterCodes.L=76]="L",CharacterCodes[CharacterCodes.M=77]="M",CharacterCodes[CharacterCodes.N=78]="N",CharacterCodes[CharacterCodes.O=79]="O",CharacterCodes[CharacterCodes.P=80]="P",CharacterCodes[CharacterCodes.Q=81]="Q",CharacterCodes[CharacterCodes.R=82]="R",CharacterCodes[CharacterCodes.S=83]="S",CharacterCodes[CharacterCodes.T=84]="T",CharacterCodes[CharacterCodes.U=85]="U",CharacterCodes[CharacterCodes.V=86]="V",CharacterCodes[CharacterCodes.W=87]="W",CharacterCodes[CharacterCodes.X=88]="X",CharacterCodes[CharacterCodes.Y=89]="Y",CharacterCodes[CharacterCodes.Z=90]="Z",CharacterCodes[CharacterCodes.ampersand=38]="ampersand",CharacterCodes[CharacterCodes.asterisk=42]="asterisk",CharacterCodes[CharacterCodes.at=64]="at",CharacterCodes[CharacterCodes.backslash=92]="backslash",CharacterCodes[CharacterCodes.bar=124]="bar",CharacterCodes[CharacterCodes.caret=94]="caret",CharacterCodes[CharacterCodes.closeBrace=125]="closeBrace",CharacterCodes[CharacterCodes.closeBracket=93]="closeBracket",CharacterCodes[CharacterCodes.closeParen=41]="closeParen",CharacterCodes[CharacterCodes.colon=58]="colon",CharacterCodes[CharacterCodes.comma=44]="comma",CharacterCodes[CharacterCodes.dot=46]="dot",CharacterCodes[CharacterCodes.doubleQuote=34]="doubleQuote",CharacterCodes[CharacterCodes.equals=61]="equals",CharacterCodes[CharacterCodes.exclamation=33]="exclamation",CharacterCodes[CharacterCodes.greaterThan=62]="greaterThan",CharacterCodes[CharacterCodes.lessThan=60]="lessThan",CharacterCodes[CharacterCodes.minus=45]="minus",CharacterCodes[CharacterCodes.openBrace=123]="openBrace",CharacterCodes[CharacterCodes.openBracket=91]="openBracket",CharacterCodes[CharacterCodes.openParen=40]="openParen",CharacterCodes[CharacterCodes.percent=37]="percent",CharacterCodes[CharacterCodes.plus=43]="plus",CharacterCodes[CharacterCodes.question=63]="question",CharacterCodes[CharacterCodes.semicolon=59]="semicolon",CharacterCodes[CharacterCodes.singleQuote=39]="singleQuote",CharacterCodes[CharacterCodes.slash=47]="slash",CharacterCodes[CharacterCodes.tilde=126]="tilde",CharacterCodes[CharacterCodes.backspace=8]="backspace",CharacterCodes[CharacterCodes.formFeed=12]="formFeed",CharacterCodes[CharacterCodes.byteOrderMark=65279]="byteOrderMark",CharacterCodes[CharacterCodes.tab=9]="tab",CharacterCodes[CharacterCodes.verticalTab=11]="verticalTab";var $bef59326251d24bb$export$7b419323e6ed4f31={__proto__:null,get ScanError(){return $bef59326251d24bb$var$ScanError},get SyntaxKind(){return $bef59326251d24bb$var$SyntaxKind},get ParseErrorCode(){return $bef59326251d24bb$var$ParseErrorCode},get ParseOptions(){return $bef59326251d24bb$var$ParseOptions},createScanner:$bef59326251d24bb$var$createScanner,getLocation:$bef59326251d24bb$var$getLocation,parse:$bef59326251d24bb$var$parse$1,parseTree:$bef59326251d24bb$var$parseTree,findNodeAtLocation:$bef59326251d24bb$var$findNodeAtLocation,getNodePath:$bef59326251d24bb$var$getNodePath,getNodeValue:$bef59326251d24bb$var$getNodeValue,contains:$bef59326251d24bb$var$contains,findNodeAtOffset:$bef59326251d24bb$var$findNodeAtOffset,visit:$bef59326251d24bb$var$visit,stripComments:$bef59326251d24bb$var$stripComments,getNodeType:$bef59326251d24bb$var$getNodeType};function $bef59326251d24bb$var$format(e,t,r){var n,i,a,o,s,u=function(){return h+$bef59326251d24bb$var$repeat(d,n+p)},c=function(){var e=b.scan();for(v=!1;15===e||14===e;)v=v||14===e,e=b.scan();return g=16===e||0!==b.getTokenError(),e},l=function(t,r,n){!g&&r<s&&n>o&&e.substring(r,n)!==t&&m.push({offset:r,length:n-r,content:t})};if(t){for(o=t.offset,s=o+t.length,a=o;a>0&&!$bef59326251d24bb$var$isEOL(e,a-1);)a--;for(var f=s;f<e.length&&!$bef59326251d24bb$var$isEOL(e,f);)f++;i=e.substring(a,f),n=$bef59326251d24bb$var$computeIndentLevel(i,r)}else i=e,n=0,a=0,o=0,s=e.length;var d,h=$bef59326251d24bb$var$getEOL(r,e),v=!1,p=0;d=r.insertSpaces?$bef59326251d24bb$var$repeat(" ",r.tabSize||4):"\t";var b=$bef59326251d24bb$var$createScanner(i,!1),g=!1,m=[],$=c();if(17!==$){var y=b.getTokenOffset()+a;l($bef59326251d24bb$var$repeat(d,n),a,y)}for(;17!==$;){for(var w=b.getTokenOffset()+b.getTokenLength()+a,_=c(),S="";!v&&(12===_||13===_);){l(" ",w,b.getTokenOffset()+a),w=b.getTokenOffset()+b.getTokenLength()+a,S=12===_?u():"",_=c()}if(2===_)1!==$&&(p--,S=u());else if(4===_)3!==$&&(p--,S=u());else{switch($){case 3:case 1:p++,S=u();break;case 5:case 12:S=u();break;case 13:S=v?u():" ";break;case 6:S=" ";break;case 10:if(6===_){S="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===_||13===_?S=" ":5!==_&&17!==_&&(g=!0);break;case 16:g=!0}!v||12!==_&&13!==_||(S=u())}l(S,w,b.getTokenOffset()+a),$=_}return m}function $bef59326251d24bb$var$repeat(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function $bef59326251d24bb$var$computeIndentLevel(e,t){for(var r=0,n=0,i=t.tabSize||4;r<e.length;){var a=e.charAt(r);if(" "===a)n++;else{if("\t"!==a)break;n+=i}r++}return Math.floor(n/i)}function $bef59326251d24bb$var$getEOL(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if("\r"===n)return r+1<t.length&&"\n"===t.charAt(r+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}function $bef59326251d24bb$var$isEOL(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var $bef59326251d24bb$export$52477cd5b1f76df4={__proto__:null,format:$bef59326251d24bb$var$format,getEOL:$bef59326251d24bb$var$getEOL,isEOL:$bef59326251d24bb$var$isEOL};function $bef59326251d24bb$var$removeProperty(e,t,r){return $bef59326251d24bb$var$setProperty(e,t,void 0,r)}function $bef59326251d24bb$var$setProperty(e,t,r,n,i){for(var a=t.slice(),o=$bef59326251d24bb$var$parseTree(e,[]),s=void 0,u=void 0;a.length>0&&(u=a.pop(),void 0===(s=$bef59326251d24bb$var$findNodeAtLocation(o,a))&&void 0!==r);)r="string"==typeof u?(0,$8WkQI.default)({},u,r):[r];if(s){if("object"===s.type&&"string"==typeof u&&Array.isArray(s.children)){var c=$bef59326251d24bb$var$findNodeAtLocation(s,[u]);if(void 0!==c){if(void 0===r){if(!c.parent)throw new Error("Malformed AST");var l,f=s.children.indexOf(c.parent),d=c.parent.offset+c.parent.length;if(f>0){var h=s.children[f-1];l=h.offset+h.length}else{if(l=s.offset+1,s.children.length>1)d=s.children[1].offset}return $bef59326251d24bb$var$withFormatting(e,{offset:l,length:d-l,content:""},n)}return $bef59326251d24bb$var$withFormatting(e,{offset:c.offset,length:c.length,content:JSON.stringify(r)},n)}if(void 0===r)return[];var v,p="".concat(JSON.stringify(u),": ").concat(JSON.stringify(r)),b=i?i(s.children.map((function(e){return e.children[0].value}))):s.children.length;if(b>0){var g=s.children[b-1];v={offset:g.offset+g.length,length:0,content:","+p}}else v=0===s.children.length?{offset:s.offset+1,length:0,content:p}:{offset:s.offset+1,length:0,content:p+","};return $bef59326251d24bb$var$withFormatting(e,v,n)}if("array"===s.type&&"number"==typeof u&&Array.isArray(s.children)){if(void 0!==r){var m,$="".concat(JSON.stringify(r));if(0===s.children.length||0===u)m={offset:s.offset+1,length:0,content:0===s.children.length?$:$+","};else{var y=-1===u||u>s.children.length?s.children.length:u,w=s.children[y-1];m={offset:w.offset+w.length,length:0,content:","+$}}return $bef59326251d24bb$var$withFormatting(e,m,n)}var _,S=u,C=s.children[S];if(1===s.children.length)_={offset:s.offset+1,length:s.length-2,content:""};else if(s.children.length-1===S){var k=s.children[S-1],E=k.offset+k.length;_={offset:E,length:s.offset+s.length-2-E,content:""}}else _={offset:C.offset,length:s.children[S+1].offset-C.offset,content:""};return $bef59326251d24bb$var$withFormatting(e,_,n)}throw new Error("Can not add ".concat("number"!=typeof u?"index":"property"," to parent of type ").concat(s.type))}if(void 0===r)throw new Error("Can not delete in empty document");return $bef59326251d24bb$var$withFormatting(e,{offset:o?o.offset:0,length:o?o.length:0,content:JSON.stringify(r)},n)}function $bef59326251d24bb$var$withFormatting(e,t,r){var n=$bef59326251d24bb$var$applyEdit(e,t),i=t.offset,a=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!$bef59326251d24bb$var$isEOL(n,i-1);)i--;for(;a<n.length&&!$bef59326251d24bb$var$isEOL(n,a);)a++}for(var o=$bef59326251d24bb$var$format(n,{offset:i,length:a-i},r),s=o.length-1;s>=0;s--){var u=o[s];n=$bef59326251d24bb$var$applyEdit(n,u),i=Math.min(i,u.offset),a=Math.max(a,u.offset+u.length),a+=u.content.length-u.length}return[{offset:i,length:e.length-(n.length-a)-i,content:n.substring(i,a)}]}function $bef59326251d24bb$var$applyEdit(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function $bef59326251d24bb$var$applyEdits(e,t){for(var r=t.slice(0).sort((function(e,t){var r=e.offset-t.offset;return 0===r?e.length-t.length:r})),n=e.length,i=r.length-1;i>=0;i--){var a=r[i];if(!(a.offset+a.length<=n))throw new Error("Overlapping edit");e=$bef59326251d24bb$var$applyEdit(e,a),n=a.offset}return e}var $bef59326251d24bb$export$4e1b82c60c58a62b={__proto__:null,removeProperty:$bef59326251d24bb$var$removeProperty,setProperty:$bef59326251d24bb$var$setProperty,withFormatting:$bef59326251d24bb$var$withFormatting,applyEdit:$bef59326251d24bb$var$applyEdit,applyEdits:$bef59326251d24bb$var$applyEdits};function $bef59326251d24bb$var$getParseErrorMessage(e){switch(e){case 1:return $bef59326251d24bb$var$localize("error.invalidSymbol","Invalid symbol");case 2:return $bef59326251d24bb$var$localize("error.invalidNumberFormat","Invalid number format");case 3:return $bef59326251d24bb$var$localize("error.propertyNameExpected","Property name expected");case 4:return $bef59326251d24bb$var$localize("error.valueExpected","Value expected");case 5:return $bef59326251d24bb$var$localize("error.colonExpected","Colon expected");case 6:return $bef59326251d24bb$var$localize("error.commaExpected","Comma expected");case 7:return $bef59326251d24bb$var$localize("error.closeBraceExpected","Closing brace expected");case 8:return $bef59326251d24bb$var$localize("error.closeBracketExpected","Closing bracket expected");case 9:return $bef59326251d24bb$var$localize("error.endOfFileExpected","End of file expected");default:return""}}var $bef59326251d24bb$export$d8ad1d19b6a46bdc={__proto__:null,getParseErrorMessage:$bef59326251d24bb$var$getParseErrorMessage},$bef59326251d24bb$export$f485dbfa8eaf28f6={__proto__:null},$bef59326251d24bb$var$KeyCode,KeyCode;KeyCode=$bef59326251d24bb$var$KeyCode||($bef59326251d24bb$var$KeyCode={}),KeyCode[KeyCode.DependsOnKbLayout=-1]="DependsOnKbLayout",KeyCode[KeyCode.Unknown=0]="Unknown",KeyCode[KeyCode.Backspace=1]="Backspace",KeyCode[KeyCode.Tab=2]="Tab",KeyCode[KeyCode.Enter=3]="Enter",KeyCode[KeyCode.Shift=4]="Shift",KeyCode[KeyCode.Ctrl=5]="Ctrl",KeyCode[KeyCode.Alt=6]="Alt",KeyCode[KeyCode.PauseBreak=7]="PauseBreak",KeyCode[KeyCode.CapsLock=8]="CapsLock",KeyCode[KeyCode.Escape=9]="Escape",KeyCode[KeyCode.Space=10]="Space",KeyCode[KeyCode.PageUp=11]="PageUp",KeyCode[KeyCode.PageDown=12]="PageDown",KeyCode[KeyCode.End=13]="End",KeyCode[KeyCode.Home=14]="Home",KeyCode[KeyCode.LeftArrow=15]="LeftArrow",KeyCode[KeyCode.UpArrow=16]="UpArrow",KeyCode[KeyCode.RightArrow=17]="RightArrow",KeyCode[KeyCode.DownArrow=18]="DownArrow",KeyCode[KeyCode.Insert=19]="Insert",KeyCode[KeyCode.Delete=20]="Delete",KeyCode[KeyCode.KEY_0=21]="KEY_0",KeyCode[KeyCode.KEY_1=22]="KEY_1",KeyCode[KeyCode.KEY_2=23]="KEY_2",KeyCode[KeyCode.KEY_3=24]="KEY_3",KeyCode[KeyCode.KEY_4=25]="KEY_4",KeyCode[KeyCode.KEY_5=26]="KEY_5",KeyCode[KeyCode.KEY_6=27]="KEY_6",KeyCode[KeyCode.KEY_7=28]="KEY_7",KeyCode[KeyCode.KEY_8=29]="KEY_8",KeyCode[KeyCode.KEY_9=30]="KEY_9",KeyCode[KeyCode.KEY_A=31]="KEY_A",KeyCode[KeyCode.KEY_B=32]="KEY_B",KeyCode[KeyCode.KEY_C=33]="KEY_C",KeyCode[KeyCode.KEY_D=34]="KEY_D",KeyCode[KeyCode.KEY_E=35]="KEY_E",KeyCode[KeyCode.KEY_F=36]="KEY_F",KeyCode[KeyCode.KEY_G=37]="KEY_G",KeyCode[KeyCode.KEY_H=38]="KEY_H",KeyCode[KeyCode.KEY_I=39]="KEY_I",KeyCode[KeyCode.KEY_J=40]="KEY_J",KeyCode[KeyCode.KEY_K=41]="KEY_K",KeyCode[KeyCode.KEY_L=42]="KEY_L",KeyCode[KeyCode.KEY_M=43]="KEY_M",KeyCode[KeyCode.KEY_N=44]="KEY_N",KeyCode[KeyCode.KEY_O=45]="KEY_O",KeyCode[KeyCode.KEY_P=46]="KEY_P",KeyCode[KeyCode.KEY_Q=47]="KEY_Q",KeyCode[KeyCode.KEY_R=48]="KEY_R",KeyCode[KeyCode.KEY_S=49]="KEY_S",KeyCode[KeyCode.KEY_T=50]="KEY_T",KeyCode[KeyCode.KEY_U=51]="KEY_U",KeyCode[KeyCode.KEY_V=52]="KEY_V",KeyCode[KeyCode.KEY_W=53]="KEY_W",KeyCode[KeyCode.KEY_X=54]="KEY_X",KeyCode[KeyCode.KEY_Y=55]="KEY_Y",KeyCode[KeyCode.KEY_Z=56]="KEY_Z",KeyCode[KeyCode.Meta=57]="Meta",KeyCode[KeyCode.ContextMenu=58]="ContextMenu",KeyCode[KeyCode.F1=59]="F1",KeyCode[KeyCode.F2=60]="F2",KeyCode[KeyCode.F3=61]="F3",KeyCode[KeyCode.F4=62]="F4",KeyCode[KeyCode.F5=63]="F5",KeyCode[KeyCode.F6=64]="F6",KeyCode[KeyCode.F7=65]="F7",KeyCode[KeyCode.F8=66]="F8",KeyCode[KeyCode.F9=67]="F9",KeyCode[KeyCode.F10=68]="F10",KeyCode[KeyCode.F11=69]="F11",KeyCode[KeyCode.F12=70]="F12",KeyCode[KeyCode.F13=71]="F13",KeyCode[KeyCode.F14=72]="F14",KeyCode[KeyCode.F15=73]="F15",KeyCode[KeyCode.F16=74]="F16",KeyCode[KeyCode.F17=75]="F17",KeyCode[KeyCode.F18=76]="F18",KeyCode[KeyCode.F19=77]="F19",KeyCode[KeyCode.NumLock=78]="NumLock",KeyCode[KeyCode.ScrollLock=79]="ScrollLock",KeyCode[KeyCode.US_SEMICOLON=80]="US_SEMICOLON",KeyCode[KeyCode.US_EQUAL=81]="US_EQUAL",KeyCode[KeyCode.US_COMMA=82]="US_COMMA",KeyCode[KeyCode.US_MINUS=83]="US_MINUS",KeyCode[KeyCode.US_DOT=84]="US_DOT",KeyCode[KeyCode.US_SLASH=85]="US_SLASH",KeyCode[KeyCode.US_BACKTICK=86]="US_BACKTICK",KeyCode[KeyCode.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",KeyCode[KeyCode.US_BACKSLASH=88]="US_BACKSLASH",KeyCode[KeyCode.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",KeyCode[KeyCode.US_QUOTE=90]="US_QUOTE",KeyCode[KeyCode.OEM_8=91]="OEM_8",KeyCode[KeyCode.OEM_102=92]="OEM_102",KeyCode[KeyCode.NUMPAD_0=93]="NUMPAD_0",KeyCode[KeyCode.NUMPAD_1=94]="NUMPAD_1",KeyCode[KeyCode.NUMPAD_2=95]="NUMPAD_2",KeyCode[KeyCode.NUMPAD_3=96]="NUMPAD_3",KeyCode[KeyCode.NUMPAD_4=97]="NUMPAD_4",KeyCode[KeyCode.NUMPAD_5=98]="NUMPAD_5",KeyCode[KeyCode.NUMPAD_6=99]="NUMPAD_6",KeyCode[KeyCode.NUMPAD_7=100]="NUMPAD_7",KeyCode[KeyCode.NUMPAD_8=101]="NUMPAD_8",KeyCode[KeyCode.NUMPAD_9=102]="NUMPAD_9",KeyCode[KeyCode.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",KeyCode[KeyCode.NUMPAD_ADD=104]="NUMPAD_ADD",KeyCode[KeyCode.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",KeyCode[KeyCode.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",KeyCode[KeyCode.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",KeyCode[KeyCode.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",KeyCode[KeyCode.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",KeyCode[KeyCode.ABNT_C1=110]="ABNT_C1",KeyCode[KeyCode.ABNT_C2=111]="ABNT_C2",KeyCode[KeyCode.MAX_VALUE=112]="MAX_VALUE";var $bef59326251d24bb$var$KeyCodeStrMap=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return(0,$9HoHC.default)(e,[{key:"define",value:function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}},{key:"keyCodeToStr",value:function(e){return this._keyCodeToStr[e]}},{key:"strToKeyCode",value:function(e){return this._strToKeyCode[e.toLowerCase()]||0}}]),e}(),$bef59326251d24bb$var$uiMap=new $bef59326251d24bb$var$KeyCodeStrMap,$bef59326251d24bb$var$userSettingsUSMap=new $bef59326251d24bb$var$KeyCodeStrMap,$bef59326251d24bb$var$userSettingsGeneralMap=new $bef59326251d24bb$var$KeyCodeStrMap,$bef59326251d24bb$var$KeyCodeUtils,KeyCodeUtils,$bef59326251d24bb$var$BinaryKeybindingsMask,BinaryKeybindingsMask,$bef59326251d24bb$var$KeyMod,KeyMod;function $bef59326251d24bb$var$KeyChord(e,t){return(e|(65535&t)<<16>>>0)>>>0}function $bef59326251d24bb$var$createKeybinding(e,t){if(0===e)return null;var r=(65535&e)>>>0,n=(4294901760&e)>>>16;return new $bef59326251d24bb$var$ChordKeybinding(0!==n?[$bef59326251d24bb$var$createSimpleKeybinding(r,t),$bef59326251d24bb$var$createSimpleKeybinding(n,t)]:[$bef59326251d24bb$var$createSimpleKeybinding(r,t)])}function $bef59326251d24bb$var$createSimpleKeybinding(e,t){var r=!!(2048&e),n=!!(256&e);return new $bef59326251d24bb$var$SimpleKeybinding(2===t?n:r,!!(1024&e),!!(512&e),2===t?r:n,255&e)}!function(){var e=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;$bef59326251d24bb$var$uiMap.define(e,t),$bef59326251d24bb$var$userSettingsUSMap.define(e,r),$bef59326251d24bb$var$userSettingsGeneralMap.define(e,n)};e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),KeyCodeUtils=$bef59326251d24bb$var$KeyCodeUtils||($bef59326251d24bb$var$KeyCodeUtils={}),KeyCodeUtils.toString=function(e){return $bef59326251d24bb$var$uiMap.keyCodeToStr(e)},KeyCodeUtils.fromString=function(e){return $bef59326251d24bb$var$uiMap.strToKeyCode(e)},KeyCodeUtils.toUserSettingsUS=function(e){return $bef59326251d24bb$var$userSettingsUSMap.keyCodeToStr(e)},KeyCodeUtils.toUserSettingsGeneral=function(e){return $bef59326251d24bb$var$userSettingsGeneralMap.keyCodeToStr(e)},KeyCodeUtils.fromUserSettings=function(e){return $bef59326251d24bb$var$userSettingsUSMap.strToKeyCode(e)||$bef59326251d24bb$var$userSettingsGeneralMap.strToKeyCode(e)},BinaryKeybindingsMask=$bef59326251d24bb$var$BinaryKeybindingsMask||($bef59326251d24bb$var$BinaryKeybindingsMask={}),BinaryKeybindingsMask[BinaryKeybindingsMask.CtrlCmd=2048]="CtrlCmd",BinaryKeybindingsMask[BinaryKeybindingsMask.Shift=1024]="Shift",BinaryKeybindingsMask[BinaryKeybindingsMask.Alt=512]="Alt",BinaryKeybindingsMask[BinaryKeybindingsMask.WinCtrl=256]="WinCtrl",BinaryKeybindingsMask[BinaryKeybindingsMask.KeyCode=255]="KeyCode",KeyMod=$bef59326251d24bb$var$KeyMod||($bef59326251d24bb$var$KeyMod={}),KeyMod[KeyMod.CtrlCmd=2048]="CtrlCmd",KeyMod[KeyMod.Shift=1024]="Shift",KeyMod[KeyMod.Alt=512]="Alt",KeyMod[KeyMod.WinCtrl=256]="WinCtrl";var $bef59326251d24bb$var$SimpleKeybinding=function(){"use strict";function e(t,r,n,i,a){(0,$4JAgF.default)(this,e),this.ctrlKey=t,this.shiftKey=r,this.altKey=n,this.metaKey=i,this.keyCode=a}return(0,$9HoHC.default)(e,[{key:"equals",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}},{key:"getHashCode",value:function(){var e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",r=this.altKey?"1":"0",n=this.metaKey?"1":"0";return"".concat(e).concat(t).concat(r).concat(n).concat(this.keyCode)}},{key:"isModifierKey",value:function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}},{key:"toChord",value:function(){return new $bef59326251d24bb$var$ChordKeybinding([this])}},{key:"isDuplicateModifierCase",value:function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}]),e}(),$bef59326251d24bb$var$ChordKeybinding=function(){"use strict";function e(t){if((0,$4JAgF.default)(this,e),0===t.length)throw $bef59326251d24bb$var$illegalArgument("parts");this.parts=t}return(0,$9HoHC.default)(e,[{key:"getHashCode",value:function(){for(var e="",t=0,r=this.parts.length;t<r;t++)0!==t&&(e+=";"),e+=this.parts[t].getHashCode();return e}},{key:"equals",value:function(e){if(null===e)return!1;if(this.parts.length!==e.parts.length)return!1;for(var t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0}}]),e}(),$bef59326251d24bb$var$ResolvedKeybindingPart=function e(t,r,n,i,a,o){"use strict";(0,$4JAgF.default)(this,e),this.ctrlKey=t,this.shiftKey=r,this.altKey=n,this.metaKey=i,this.keyLabel=a,this.keyAriaLabel=o},$bef59326251d24bb$var$ResolvedKeybinding=function e(){"use strict";(0,$4JAgF.default)(this,e)},$bef59326251d24bb$export$6d3e562ac77a9517={__proto__:null,get KeyCode(){return $bef59326251d24bb$var$KeyCode},get KeyCodeUtils(){return $bef59326251d24bb$var$KeyCodeUtils},get KeyMod(){return $bef59326251d24bb$var$KeyMod},KeyChord:$bef59326251d24bb$var$KeyChord,createKeybinding:$bef59326251d24bb$var$createKeybinding,createSimpleKeybinding:$bef59326251d24bb$var$createSimpleKeybinding,SimpleKeybinding:$bef59326251d24bb$var$SimpleKeybinding,ChordKeybinding:$bef59326251d24bb$var$ChordKeybinding,ResolvedKeybindingPart:$bef59326251d24bb$var$ResolvedKeybindingPart,ResolvedKeybinding:$bef59326251d24bb$var$ResolvedKeybinding},$bef59326251d24bb$var$ModifierLabelProvider=function(){"use strict";function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;(0,$4JAgF.default)(this,e),this.modifierLabels=[null],this.modifierLabels[2]=t,this.modifierLabels[1]=r,this.modifierLabels[3]=n}return(0,$9HoHC.default)(e,[{key:"toLabel",value:function(e,t,r){if(0===t.length)return null;for(var n=[],i=0,a=t.length;i<a;i++){var o=t[i],s=r(o);if(null===s)return null;n[i]=$bef59326251d24bb$var$_simpleAsString(o,s,this.modifierLabels[e])}return n.join(" ")}}]),e}(),$bef59326251d24bb$var$UILabelProvider=new $bef59326251d24bb$var$ModifierLabelProvider({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:$bef59326251d24bb$var$localize({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:$bef59326251d24bb$var$localize({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:$bef59326251d24bb$var$localize({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:$bef59326251d24bb$var$localize({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:$bef59326251d24bb$var$localize({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:$bef59326251d24bb$var$localize({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:$bef59326251d24bb$var$localize({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:$bef59326251d24bb$var$localize({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),$bef59326251d24bb$var$AriaLabelProvider=new $bef59326251d24bb$var$ModifierLabelProvider({ctrlKey:$bef59326251d24bb$var$localize({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:$bef59326251d24bb$var$localize({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:$bef59326251d24bb$var$localize({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:$bef59326251d24bb$var$localize({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:$bef59326251d24bb$var$localize({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:$bef59326251d24bb$var$localize({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:$bef59326251d24bb$var$localize({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:$bef59326251d24bb$var$localize({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:$bef59326251d24bb$var$localize({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:$bef59326251d24bb$var$localize({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:$bef59326251d24bb$var$localize({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:$bef59326251d24bb$var$localize({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),$bef59326251d24bb$var$ElectronAcceleratorLabelProvider=new $bef59326251d24bb$var$ModifierLabelProvider({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),$bef59326251d24bb$var$UserSettingsLabelProvider=new $bef59326251d24bb$var$ModifierLabelProvider({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function $bef59326251d24bb$var$_simpleAsString(e,t,r){if(null===t)return"";var n=[];return e.ctrlKey&&n.push(r.ctrlKey),e.shiftKey&&n.push(r.shiftKey),e.altKey&&n.push(r.altKey),e.metaKey&&n.push(r.metaKey),""!==t&&n.push(t),n.join(r.separator)}var $bef59326251d24bb$export$31d4dc6e5cd15b36={__proto__:null,ModifierLabelProvider:$bef59326251d24bb$var$ModifierLabelProvider,UILabelProvider:$bef59326251d24bb$var$UILabelProvider,AriaLabelProvider:$bef59326251d24bb$var$AriaLabelProvider,ElectronAcceleratorLabelProvider:$bef59326251d24bb$var$ElectronAcceleratorLabelProvider,UserSettingsLabelProvider:$bef59326251d24bb$var$UserSettingsLabelProvider},$bef59326251d24bb$var$ScanCode,ScanCode;ScanCode=$bef59326251d24bb$var$ScanCode||($bef59326251d24bb$var$ScanCode={}),ScanCode[ScanCode.DependsOnKbLayout=-1]="DependsOnKbLayout",ScanCode[ScanCode.None=0]="None",ScanCode[ScanCode.Hyper=1]="Hyper",ScanCode[ScanCode.Super=2]="Super",ScanCode[ScanCode.Fn=3]="Fn",ScanCode[ScanCode.FnLock=4]="FnLock",ScanCode[ScanCode.Suspend=5]="Suspend",ScanCode[ScanCode.Resume=6]="Resume",ScanCode[ScanCode.Turbo=7]="Turbo",ScanCode[ScanCode.Sleep=8]="Sleep",ScanCode[ScanCode.WakeUp=9]="WakeUp",ScanCode[ScanCode.KeyA=10]="KeyA",ScanCode[ScanCode.KeyB=11]="KeyB",ScanCode[ScanCode.KeyC=12]="KeyC",ScanCode[ScanCode.KeyD=13]="KeyD",ScanCode[ScanCode.KeyE=14]="KeyE",ScanCode[ScanCode.KeyF=15]="KeyF",ScanCode[ScanCode.KeyG=16]="KeyG",ScanCode[ScanCode.KeyH=17]="KeyH",ScanCode[ScanCode.KeyI=18]="KeyI",ScanCode[ScanCode.KeyJ=19]="KeyJ",ScanCode[ScanCode.KeyK=20]="KeyK",ScanCode[ScanCode.KeyL=21]="KeyL",ScanCode[ScanCode.KeyM=22]="KeyM",ScanCode[ScanCode.KeyN=23]="KeyN",ScanCode[ScanCode.KeyO=24]="KeyO",ScanCode[ScanCode.KeyP=25]="KeyP",ScanCode[ScanCode.KeyQ=26]="KeyQ",ScanCode[ScanCode.KeyR=27]="KeyR",ScanCode[ScanCode.KeyS=28]="KeyS",ScanCode[ScanCode.KeyT=29]="KeyT",ScanCode[ScanCode.KeyU=30]="KeyU",ScanCode[ScanCode.KeyV=31]="KeyV",ScanCode[ScanCode.KeyW=32]="KeyW",ScanCode[ScanCode.KeyX=33]="KeyX",ScanCode[ScanCode.KeyY=34]="KeyY",ScanCode[ScanCode.KeyZ=35]="KeyZ",ScanCode[ScanCode.Digit1=36]="Digit1",ScanCode[ScanCode.Digit2=37]="Digit2",ScanCode[ScanCode.Digit3=38]="Digit3",ScanCode[ScanCode.Digit4=39]="Digit4",ScanCode[ScanCode.Digit5=40]="Digit5",ScanCode[ScanCode.Digit6=41]="Digit6",ScanCode[ScanCode.Digit7=42]="Digit7",ScanCode[ScanCode.Digit8=43]="Digit8",ScanCode[ScanCode.Digit9=44]="Digit9",ScanCode[ScanCode.Digit0=45]="Digit0",ScanCode[ScanCode.Enter=46]="Enter",ScanCode[ScanCode.Escape=47]="Escape",ScanCode[ScanCode.Backspace=48]="Backspace",ScanCode[ScanCode.Tab=49]="Tab",ScanCode[ScanCode.Space=50]="Space",ScanCode[ScanCode.Minus=51]="Minus",ScanCode[ScanCode.Equal=52]="Equal",ScanCode[ScanCode.BracketLeft=53]="BracketLeft",ScanCode[ScanCode.BracketRight=54]="BracketRight",ScanCode[ScanCode.Backslash=55]="Backslash",ScanCode[ScanCode.IntlHash=56]="IntlHash",ScanCode[ScanCode.Semicolon=57]="Semicolon",ScanCode[ScanCode.Quote=58]="Quote",ScanCode[ScanCode.Backquote=59]="Backquote",ScanCode[ScanCode.Comma=60]="Comma",ScanCode[ScanCode.Period=61]="Period",ScanCode[ScanCode.Slash=62]="Slash",ScanCode[ScanCode.CapsLock=63]="CapsLock",ScanCode[ScanCode.F1=64]="F1",ScanCode[ScanCode.F2=65]="F2",ScanCode[ScanCode.F3=66]="F3",ScanCode[ScanCode.F4=67]="F4",ScanCode[ScanCode.F5=68]="F5",ScanCode[ScanCode.F6=69]="F6",ScanCode[ScanCode.F7=70]="F7",ScanCode[ScanCode.F8=71]="F8",ScanCode[ScanCode.F9=72]="F9",ScanCode[ScanCode.F10=73]="F10",ScanCode[ScanCode.F11=74]="F11",ScanCode[ScanCode.F12=75]="F12",ScanCode[ScanCode.PrintScreen=76]="PrintScreen",ScanCode[ScanCode.ScrollLock=77]="ScrollLock",ScanCode[ScanCode.Pause=78]="Pause",ScanCode[ScanCode.Insert=79]="Insert",ScanCode[ScanCode.Home=80]="Home",ScanCode[ScanCode.PageUp=81]="PageUp",ScanCode[ScanCode.Delete=82]="Delete",ScanCode[ScanCode.End=83]="End",ScanCode[ScanCode.PageDown=84]="PageDown",ScanCode[ScanCode.ArrowRight=85]="ArrowRight",ScanCode[ScanCode.ArrowLeft=86]="ArrowLeft",ScanCode[ScanCode.ArrowDown=87]="ArrowDown",ScanCode[ScanCode.ArrowUp=88]="ArrowUp",ScanCode[ScanCode.NumLock=89]="NumLock",ScanCode[ScanCode.NumpadDivide=90]="NumpadDivide",ScanCode[ScanCode.NumpadMultiply=91]="NumpadMultiply",ScanCode[ScanCode.NumpadSubtract=92]="NumpadSubtract",ScanCode[ScanCode.NumpadAdd=93]="NumpadAdd",ScanCode[ScanCode.NumpadEnter=94]="NumpadEnter",ScanCode[ScanCode.Numpad1=95]="Numpad1",ScanCode[ScanCode.Numpad2=96]="Numpad2",ScanCode[ScanCode.Numpad3=97]="Numpad3",ScanCode[ScanCode.Numpad4=98]="Numpad4",ScanCode[ScanCode.Numpad5=99]="Numpad5",ScanCode[ScanCode.Numpad6=100]="Numpad6",ScanCode[ScanCode.Numpad7=101]="Numpad7",ScanCode[ScanCode.Numpad8=102]="Numpad8",ScanCode[ScanCode.Numpad9=103]="Numpad9",ScanCode[ScanCode.Numpad0=104]="Numpad0",ScanCode[ScanCode.NumpadDecimal=105]="NumpadDecimal",ScanCode[ScanCode.IntlBackslash=106]="IntlBackslash",ScanCode[ScanCode.ContextMenu=107]="ContextMenu",ScanCode[ScanCode.Power=108]="Power",ScanCode[ScanCode.NumpadEqual=109]="NumpadEqual",ScanCode[ScanCode.F13=110]="F13",ScanCode[ScanCode.F14=111]="F14",ScanCode[ScanCode.F15=112]="F15",ScanCode[ScanCode.F16=113]="F16",ScanCode[ScanCode.F17=114]="F17",ScanCode[ScanCode.F18=115]="F18",ScanCode[ScanCode.F19=116]="F19",ScanCode[ScanCode.F20=117]="F20",ScanCode[ScanCode.F21=118]="F21",ScanCode[ScanCode.F22=119]="F22",ScanCode[ScanCode.F23=120]="F23",ScanCode[ScanCode.F24=121]="F24",ScanCode[ScanCode.Open=122]="Open",ScanCode[ScanCode.Help=123]="Help",ScanCode[ScanCode.Select=124]="Select",ScanCode[ScanCode.Again=125]="Again",ScanCode[ScanCode.Undo=126]="Undo",ScanCode[ScanCode.Cut=127]="Cut",ScanCode[ScanCode.Copy=128]="Copy",ScanCode[ScanCode.Paste=129]="Paste",ScanCode[ScanCode.Find=130]="Find",ScanCode[ScanCode.AudioVolumeMute=131]="AudioVolumeMute",ScanCode[ScanCode.AudioVolumeUp=132]="AudioVolumeUp",ScanCode[ScanCode.AudioVolumeDown=133]="AudioVolumeDown",ScanCode[ScanCode.NumpadComma=134]="NumpadComma",ScanCode[ScanCode.IntlRo=135]="IntlRo",ScanCode[ScanCode.KanaMode=136]="KanaMode",ScanCode[ScanCode.IntlYen=137]="IntlYen",ScanCode[ScanCode.Convert=138]="Convert",ScanCode[ScanCode.NonConvert=139]="NonConvert",ScanCode[ScanCode.Lang1=140]="Lang1",ScanCode[ScanCode.Lang2=141]="Lang2",ScanCode[ScanCode.Lang3=142]="Lang3",ScanCode[ScanCode.Lang4=143]="Lang4",ScanCode[ScanCode.Lang5=144]="Lang5",ScanCode[ScanCode.Abort=145]="Abort",ScanCode[ScanCode.Props=146]="Props",ScanCode[ScanCode.NumpadParenLeft=147]="NumpadParenLeft",ScanCode[ScanCode.NumpadParenRight=148]="NumpadParenRight",ScanCode[ScanCode.NumpadBackspace=149]="NumpadBackspace",ScanCode[ScanCode.NumpadMemoryStore=150]="NumpadMemoryStore",ScanCode[ScanCode.NumpadMemoryRecall=151]="NumpadMemoryRecall",ScanCode[ScanCode.NumpadMemoryClear=152]="NumpadMemoryClear",ScanCode[ScanCode.NumpadMemoryAdd=153]="NumpadMemoryAdd",ScanCode[ScanCode.NumpadMemorySubtract=154]="NumpadMemorySubtract",ScanCode[ScanCode.NumpadClear=155]="NumpadClear",ScanCode[ScanCode.NumpadClearEntry=156]="NumpadClearEntry",ScanCode[ScanCode.ControlLeft=157]="ControlLeft",ScanCode[ScanCode.ShiftLeft=158]="ShiftLeft",ScanCode[ScanCode.AltLeft=159]="AltLeft",ScanCode[ScanCode.MetaLeft=160]="MetaLeft",ScanCode[ScanCode.ControlRight=161]="ControlRight",ScanCode[ScanCode.ShiftRight=162]="ShiftRight",ScanCode[ScanCode.AltRight=163]="AltRight",ScanCode[ScanCode.MetaRight=164]="MetaRight",ScanCode[ScanCode.BrightnessUp=165]="BrightnessUp",ScanCode[ScanCode.BrightnessDown=166]="BrightnessDown",ScanCode[ScanCode.MediaPlay=167]="MediaPlay",ScanCode[ScanCode.MediaRecord=168]="MediaRecord",ScanCode[ScanCode.MediaFastForward=169]="MediaFastForward",ScanCode[ScanCode.MediaRewind=170]="MediaRewind",ScanCode[ScanCode.MediaTrackNext=171]="MediaTrackNext",ScanCode[ScanCode.MediaTrackPrevious=172]="MediaTrackPrevious",ScanCode[ScanCode.MediaStop=173]="MediaStop",ScanCode[ScanCode.Eject=174]="Eject",ScanCode[ScanCode.MediaPlayPause=175]="MediaPlayPause",ScanCode[ScanCode.MediaSelect=176]="MediaSelect",ScanCode[ScanCode.LaunchMail=177]="LaunchMail",ScanCode[ScanCode.LaunchApp2=178]="LaunchApp2",ScanCode[ScanCode.LaunchApp1=179]="LaunchApp1",ScanCode[ScanCode.SelectTask=180]="SelectTask",ScanCode[ScanCode.LaunchScreenSaver=181]="LaunchScreenSaver",ScanCode[ScanCode.BrowserSearch=182]="BrowserSearch",ScanCode[ScanCode.BrowserHome=183]="BrowserHome",ScanCode[ScanCode.BrowserBack=184]="BrowserBack",ScanCode[ScanCode.BrowserForward=185]="BrowserForward",ScanCode[ScanCode.BrowserStop=186]="BrowserStop",ScanCode[ScanCode.BrowserRefresh=187]="BrowserRefresh",ScanCode[ScanCode.BrowserFavorites=188]="BrowserFavorites",ScanCode[ScanCode.ZoomToggle=189]="ZoomToggle",ScanCode[ScanCode.MailReply=190]="MailReply",ScanCode[ScanCode.MailForward=191]="MailForward",ScanCode[ScanCode.MailSend=192]="MailSend",ScanCode[ScanCode.MAX_VALUE=193]="MAX_VALUE";var $bef59326251d24bb$var$scanCodeIntToStr=[],$bef59326251d24bb$var$scanCodeStrToInt=Object.create(null),$bef59326251d24bb$var$scanCodeLowerCaseStrToInt=Object.create(null),$bef59326251d24bb$var$ScanCodeUtils={lowerCaseToEnum:function(e){return $bef59326251d24bb$var$scanCodeLowerCaseStrToInt[e]||0},toEnum:function(e){return $bef59326251d24bb$var$scanCodeStrToInt[e]||0},toString:function(e){return $bef59326251d24bb$var$scanCodeIntToStr[e]||"None"}},$bef59326251d24bb$var$IMMUTABLE_CODE_TO_KEY_CODE=[],$bef59326251d24bb$var$IMMUTABLE_KEY_CODE_TO_CODE=[],$bef59326251d24bb$var$ScanCodeBinding=function(){"use strict";function e(t,r,n,i,a){(0,$4JAgF.default)(this,e),this.ctrlKey=t,this.shiftKey=r,this.altKey=n,this.metaKey=i,this.scanCode=a}return(0,$9HoHC.default)(e,[{key:"equals",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.scanCode===e.scanCode}},{key:"isDuplicateModifierCase",value:function(){return this.ctrlKey&&(157===this.scanCode||161===this.scanCode)||this.shiftKey&&(158===this.scanCode||162===this.scanCode)||this.altKey&&(159===this.scanCode||163===this.scanCode)||this.metaKey&&(160===this.scanCode||164===this.scanCode)}}]),e}(),d;d=function(e,t){$bef59326251d24bb$var$scanCodeIntToStr[e]=t,$bef59326251d24bb$var$scanCodeStrToInt[t]=e,$bef59326251d24bb$var$scanCodeLowerCaseStrToInt[t.toLowerCase()]=e},d(0,"None"),d(1,"Hyper"),d(2,"Super"),d(3,"Fn"),d(4,"FnLock"),d(5,"Suspend"),d(6,"Resume"),d(7,"Turbo"),d(8,"Sleep"),d(9,"WakeUp"),d(10,"KeyA"),d(11,"KeyB"),d(12,"KeyC"),d(13,"KeyD"),d(14,"KeyE"),d(15,"KeyF"),d(16,"KeyG"),d(17,"KeyH"),d(18,"KeyI"),d(19,"KeyJ"),d(20,"KeyK"),d(21,"KeyL"),d(22,"KeyM"),d(23,"KeyN"),d(24,"KeyO"),d(25,"KeyP"),d(26,"KeyQ"),d(27,"KeyR"),d(28,"KeyS"),d(29,"KeyT"),d(30,"KeyU"),d(31,"KeyV"),d(32,"KeyW"),d(33,"KeyX"),d(34,"KeyY"),d(35,"KeyZ"),d(36,"Digit1"),d(37,"Digit2"),d(38,"Digit3"),d(39,"Digit4"),d(40,"Digit5"),d(41,"Digit6"),d(42,"Digit7"),d(43,"Digit8"),d(44,"Digit9"),d(45,"Digit0"),d(46,"Enter"),d(47,"Escape"),d(48,"Backspace"),d(49,"Tab"),d(50,"Space"),d(51,"Minus"),d(52,"Equal"),d(53,"BracketLeft"),d(54,"BracketRight"),d(55,"Backslash"),d(56,"IntlHash"),d(57,"Semicolon"),d(58,"Quote"),d(59,"Backquote"),d(60,"Comma"),d(61,"Period"),d(62,"Slash"),d(63,"CapsLock"),d(64,"F1"),d(65,"F2"),d(66,"F3"),d(67,"F4"),d(68,"F5"),d(69,"F6"),d(70,"F7"),d(71,"F8"),d(72,"F9"),d(73,"F10"),d(74,"F11"),d(75,"F12"),d(76,"PrintScreen"),d(77,"ScrollLock"),d(78,"Pause"),d(79,"Insert"),d(80,"Home"),d(81,"PageUp"),d(82,"Delete"),d(83,"End"),d(84,"PageDown"),d(85,"ArrowRight"),d(86,"ArrowLeft"),d(87,"ArrowDown"),d(88,"ArrowUp"),d(89,"NumLock"),d(90,"NumpadDivide"),d(91,"NumpadMultiply"),d(92,"NumpadSubtract"),d(93,"NumpadAdd"),d(94,"NumpadEnter"),d(95,"Numpad1"),d(96,"Numpad2"),d(97,"Numpad3"),d(98,"Numpad4"),d(99,"Numpad5"),d(100,"Numpad6"),d(101,"Numpad7"),d(102,"Numpad8"),d(103,"Numpad9"),d(104,"Numpad0"),d(105,"NumpadDecimal"),d(106,"IntlBackslash"),d(107,"ContextMenu"),d(108,"Power"),d(109,"NumpadEqual"),d(110,"F13"),d(111,"F14"),d(112,"F15"),d(113,"F16"),d(114,"F17"),d(115,"F18"),d(116,"F19"),d(117,"F20"),d(118,"F21"),d(119,"F22"),d(120,"F23"),d(121,"F24"),d(122,"Open"),d(123,"Help"),d(124,"Select"),d(125,"Again"),d(126,"Undo"),d(127,"Cut"),d(128,"Copy"),d(129,"Paste"),d(130,"Find"),d(131,"AudioVolumeMute"),d(132,"AudioVolumeUp"),d(133,"AudioVolumeDown"),d(134,"NumpadComma"),d(135,"IntlRo"),d(136,"KanaMode"),d(137,"IntlYen"),d(138,"Convert"),d(139,"NonConvert"),d(140,"Lang1"),d(141,"Lang2"),d(142,"Lang3"),d(143,"Lang4"),d(144,"Lang5"),d(145,"Abort"),d(146,"Props"),d(147,"NumpadParenLeft"),d(148,"NumpadParenRight"),d(149,"NumpadBackspace"),d(150,"NumpadMemoryStore"),d(151,"NumpadMemoryRecall"),d(152,"NumpadMemoryClear"),d(153,"NumpadMemoryAdd"),d(154,"NumpadMemorySubtract"),d(155,"NumpadClear"),d(156,"NumpadClearEntry"),d(157,"ControlLeft"),d(158,"ShiftLeft"),d(159,"AltLeft"),d(160,"MetaLeft"),d(161,"ControlRight"),d(162,"ShiftRight"),d(163,"AltRight"),d(164,"MetaRight"),d(165,"BrightnessUp"),d(166,"BrightnessDown"),d(167,"MediaPlay"),d(168,"MediaRecord"),d(169,"MediaFastForward"),d(170,"MediaRewind"),d(171,"MediaTrackNext"),d(172,"MediaTrackPrevious"),d(173,"MediaStop"),d(174,"Eject"),d(175,"MediaPlayPause"),d(176,"MediaSelect"),d(177,"LaunchMail"),d(178,"LaunchApp2"),d(179,"LaunchApp1"),d(180,"SelectTask"),d(181,"LaunchScreenSaver"),d(182,"BrowserSearch"),d(183,"BrowserHome"),d(184,"BrowserBack"),d(185,"BrowserForward"),d(186,"BrowserStop"),d(187,"BrowserRefresh"),d(188,"BrowserFavorites"),d(189,"ZoomToggle"),d(190,"MailReply"),d(191,"MailForward"),d(192,"MailSend"),function(){for(var e=function(e,t){$bef59326251d24bb$var$IMMUTABLE_CODE_TO_KEY_CODE[e]=t,0!==t&&3!==t&&5!==t&&4!==t&&6!==t&&57!==t&&($bef59326251d24bb$var$IMMUTABLE_KEY_CODE_TO_CODE[t]=e)},t=0;t<=193;t++)$bef59326251d24bb$var$IMMUTABLE_CODE_TO_KEY_CODE[t]=-1;for(var r=0;r<=112;r++)$bef59326251d24bb$var$IMMUTABLE_KEY_CODE_TO_CODE[r]=-1;$bef59326251d24bb$var$IMMUTABLE_KEY_CODE_TO_CODE[3]=46,e(0,0),e(1,0),e(2,0),e(3,0),e(4,0),e(5,0),e(6,0),e(7,0),e(8,0),e(9,0),e(46,3),e(47,9),e(48,1),e(49,2),e(50,10),e(63,8),e(64,59),e(65,60),e(66,61),e(67,62),e(68,63),e(69,64),e(70,65),e(71,66),e(72,67),e(73,68),e(74,69),e(75,70),e(76,0),e(77,79),e(78,7),e(79,19),e(80,14),e(81,11),e(82,20),e(83,13),e(84,12),e(85,17),e(86,15),e(87,18),e(88,16),e(89,78),e(90,108),e(91,103),e(92,106),e(93,104),e(94,3),e(95,94),e(96,95),e(97,96),e(98,97),e(99,98),e(100,99),e(101,100),e(102,101),e(103,102),e(104,93),e(105,107),e(107,58),e(108,0),e(109,0),e(110,71),e(111,72),e(112,73),e(113,74),e(114,75),e(115,76),e(116,77),e(117,0),e(118,0),e(119,0),e(120,0),e(121,0),e(122,0),e(123,0),e(124,0),e(125,0),e(126,0),e(127,0),e(128,0),e(129,0),e(130,0),e(131,0),e(132,0),e(133,0),e(134,105),e(136,0),e(138,0),e(139,0),e(140,0),e(141,0),e(142,0),e(143,0),e(144,0),e(145,0),e(146,0),e(147,0),e(148,0),e(149,0),e(150,0),e(151,0),e(152,0),e(153,0),e(154,0),e(155,0),e(156,0),e(157,5),e(158,4),e(159,6),e(160,57),e(161,5),e(162,4),e(163,6),e(164,57),e(165,0),e(166,0),e(167,0),e(168,0),e(169,0),e(170,0),e(171,0),e(172,0),e(173,0),e(174,0),e(175,0),e(176,0),e(177,0),e(178,0),e(179,0),e(180,0),e(181,0),e(182,0),e(183,0),e(184,0),e(185,0),e(186,0),e(187,0),e(188,0),e(189,0),e(190,0),e(191,0),e(192,0)}();var $bef59326251d24bb$export$e73d3150a5949bc2={__proto__:null,get ScanCode(){return $bef59326251d24bb$var$ScanCode},ScanCodeUtils:$bef59326251d24bb$var$ScanCodeUtils,IMMUTABLE_CODE_TO_KEY_CODE:$bef59326251d24bb$var$IMMUTABLE_CODE_TO_KEY_CODE,IMMUTABLE_KEY_CODE_TO_CODE:$bef59326251d24bb$var$IMMUTABLE_KEY_CODE_TO_CODE,ScanCodeBinding:$bef59326251d24bb$var$ScanCodeBinding},$bef59326251d24bb$var$KeybindingParser=function(){"use strict";function e(){(0,$4JAgF.default)(this,e)}return(0,$9HoHC.default)(e,null,[{key:"_readModifiers",value:function(e){e=e.toLowerCase().trim();var t,r,n=!1,i=!1,a=!1,o=!1;do{t=!1,/^ctrl(\+|\-)/.test(e)&&(n=!0,e=e.substr(5),t=!0),/^shift(\+|\-)/.test(e)&&(i=!0,e=e.substr(6),t=!0),/^alt(\+|\-)/.test(e)&&(a=!0,e=e.substr(4),t=!0),/^meta(\+|\-)/.test(e)&&(o=!0,e=e.substr(5),t=!0),/^win(\+|\-)/.test(e)&&(o=!0,e=e.substr(4),t=!0),/^cmd(\+|\-)/.test(e)&&(o=!0,e=e.substr(4),t=!0)}while(t);var s=e.indexOf(" ");return s>0?(r=e.substring(0,s),e=e.substring(s)):(r=e,e=""),{remains:e,ctrl:n,shift:i,alt:a,meta:o,key:r}}},{key:"parseSimpleKeybinding",value:function(e){var t=this._readModifiers(e),r=$bef59326251d24bb$var$KeyCodeUtils.fromUserSettings(t.key);return[new $bef59326251d24bb$var$SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,r),t.remains]}},{key:"parseKeybinding",value:function(e,t){if(!e)return null;var r,n=[];do{var i;r=(i=(0,$dVhHy.default)(this.parseSimpleKeybinding(e),2))[0],e=i[1],n.push(r)}while(e.length>0);return new $bef59326251d24bb$var$ChordKeybinding(n)}},{key:"parseSimpleUserBinding",value:function(e){var t=this._readModifiers(e),r=t.key.match(/^\[([^\]]+)\]$/);if(r){var n=r[1],i=$bef59326251d24bb$var$ScanCodeUtils.lowerCaseToEnum(n);return[new $bef59326251d24bb$var$ScanCodeBinding(t.ctrl,t.shift,t.alt,t.meta,i),t.remains]}var a=$bef59326251d24bb$var$KeyCodeUtils.fromUserSettings(t.key);return[new $bef59326251d24bb$var$SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,a),t.remains]}},{key:"parseUserBinding",value:function(e){if(!e)return[];for(var t,r=[];e.length>0;){var n;t=(n=(0,$dVhHy.default)(this.parseSimpleUserBinding(e),2))[0],e=n[1],r.push(t)}return r}}]),e}(),$bef59326251d24bb$export$17dbab60d16c0519={__proto__:null,KeybindingParser:$bef59326251d24bb$var$KeybindingParser};function $bef59326251d24bb$var$getPathLabel(e,t,r){if("string"==typeof e&&(e=$bef59326251d24bb$var$URI.file(e)),r){var n=r.getWorkspaceFolder(e);if(n){var i,a=r.getWorkspace().folders.length>1;if(i=$bef59326251d24bb$var$isEqual(n.uri,e)?"":$bef59326251d24bb$var$relativePath(n.uri,e),a){var o=n.name?n.name:$bef59326251d24bb$var$basename(n.uri);i=i?o+" • "+i:o}return i}}if(e.scheme!==$bef59326251d24bb$var$Schemas.file&&e.scheme!==$bef59326251d24bb$var$Schemas.untitled)return e.with({query:null,fragment:null}).toString(!0);if($bef59326251d24bb$var$hasDriveLetter(e.fsPath))return $bef59326251d24bb$var$normalize$1($bef59326251d24bb$var$normalizeDriveLetter(e.fsPath));var s=$bef59326251d24bb$var$normalize$1(e.fsPath);return!$bef59326251d24bb$var$isWindows&&null!=t&&t.userHome&&(s=$bef59326251d24bb$var$tildify(s,t.userHome.fsPath)),s}function $bef59326251d24bb$var$getBaseLabel(e){if(e){"string"==typeof e&&(e=$bef59326251d24bb$var$URI.file(e));var t=$bef59326251d24bb$var$basename(e)||(e.scheme===$bef59326251d24bb$var$Schemas.file?e.fsPath:e.path);return $bef59326251d24bb$var$isWindows&&$bef59326251d24bb$var$isRootOrDriveLetter(t)?$bef59326251d24bb$var$normalizeDriveLetter(t):t}}function $bef59326251d24bb$var$normalizeDriveLetter(e){return $bef59326251d24bb$var$hasDriveLetter(e)?e.charAt(0).toUpperCase()+e.slice(1):e}var $bef59326251d24bb$var$normalizedUserHomeCached=Object.create(null);function $bef59326251d24bb$var$tildify(e,t){if($bef59326251d24bb$var$isWindows||!e||!t)return e;var r=$bef59326251d24bb$var$normalizedUserHomeCached.original===t?$bef59326251d24bb$var$normalizedUserHomeCached.normalized:void 0;return r||(r="".concat($bef59326251d24bb$var$rtrim(t,$bef59326251d24bb$var$posix.sep)).concat($bef59326251d24bb$var$posix.sep),$bef59326251d24bb$var$normalizedUserHomeCached={original:t,normalized:r}),($bef59326251d24bb$var$isLinux?e.startsWith(r):$bef59326251d24bb$var$startsWithIgnoreCase(e,r))&&(e="~/".concat(e.substr(r.length))),e}function $bef59326251d24bb$var$untildify(e,t){return e.replace(/^~($|\/|\\)/,"".concat(t,"$1"))}var $bef59326251d24bb$var$ellipsis="…",$bef59326251d24bb$var$unc="\\\\",$bef59326251d24bb$var$home="~",$bef59326251d24bb$var$Type,Type;function $bef59326251d24bb$var$shorten(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$sep,r=new Array(e.length),n=!1,i=0;i<e.length;i++){var a=e[i];if(""!==a)if(a){n=!0;var o="";0===a.indexOf($bef59326251d24bb$var$unc)?(o=a.substr(0,a.indexOf($bef59326251d24bb$var$unc)+$bef59326251d24bb$var$unc.length),a=a.substr(a.indexOf($bef59326251d24bb$var$unc)+$bef59326251d24bb$var$unc.length)):0===a.indexOf(t)?(o=a.substr(0,a.indexOf(t)+t.length),a=a.substr(a.indexOf(t)+t.length)):0===a.indexOf($bef59326251d24bb$var$home)&&(o=a.substr(0,a.indexOf($bef59326251d24bb$var$home)+$bef59326251d24bb$var$home.length),a=a.substr(a.indexOf($bef59326251d24bb$var$home)+$bef59326251d24bb$var$home.length));for(var s=a.split(t),u=1;n&&u<=s.length;u++)for(var c=s.length-u;n&&c>=0;c--){n=!1;for(var l=s.slice(c,c+u).join(t),f=0;!n&&f<e.length;f++)if(f!==i&&e[f]&&e[f].indexOf(l)>-1){var d=c+u===s.length,h=c>0&&e[f].indexOf(t)>-1?t+l:l,v=e[f].endsWith(h);n=!d||v}if(!n){var p="";(s[0].endsWith(":")||""!==o)&&(1===c&&(c=0,u++,l=s[0]+t+l),c>0&&(p=s[0]+t),p=o+p),c>0&&(p=p+$bef59326251d24bb$var$ellipsis+t),p+=l,c+u<s.length&&(p=p+t+$bef59326251d24bb$var$ellipsis),r[i]=p}}n&&(r[i]=a)}else r[i]=a;else r[i]=".".concat(t)}return r}function $bef59326251d24bb$var$template(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),r=[],n=!1,i="",a=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;if("$"===l||n&&"{"===l)i&&r.push({value:i,type:$bef59326251d24bb$var$Type.TEXT}),i="",n=!0;else if("}"===l&&n){var f=t[i];if("string"==typeof f)f.length&&r.push({value:f,type:$bef59326251d24bb$var$Type.VARIABLE});else if(f){var d=r[r.length-1];d&&d.type===$bef59326251d24bb$var$Type.SEPARATOR||r.push({value:f.label,type:$bef59326251d24bb$var$Type.SEPARATOR})}i="",n=!1}else i+=l}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i&&!n&&r.push({value:i,type:$bef59326251d24bb$var$Type.TEXT}),r.filter((function(e,t){return e.type!==$bef59326251d24bb$var$Type.SEPARATOR||[r[t-1],r[t+1]].every((function(e){return e&&(e.type===$bef59326251d24bb$var$Type.VARIABLE||e.type===$bef59326251d24bb$var$Type.TEXT)&&e.value.length>0}))})).map((function(e){return e.value})).join("")}function $bef59326251d24bb$var$mnemonicMenuLabel(e,t){return $bef59326251d24bb$var$isMacintosh||t?e.replace(/\(&&\w\)|&&/g,"").replace(/&/g,$bef59326251d24bb$var$isMacintosh?"&":"&&"):e.replace(/&&|&/g,(function(e){return"&"===e?"&&":"&"}))}function $bef59326251d24bb$var$mnemonicButtonLabel(e,t){return $bef59326251d24bb$var$isMacintosh||t?e.replace(/\(&&\w\)|&&/g,""):$bef59326251d24bb$var$isWindows?e.replace(/&&|&/g,(function(e){return"&"===e?"&&":"&"})):e.replace(/&&/g,"_")}function $bef59326251d24bb$var$unmnemonicLabel(e){return e.replace(/&/g,"&&")}function $bef59326251d24bb$var$splitName(e){var t=-1!==e.indexOf("/")?$bef59326251d24bb$var$posix:$bef59326251d24bb$var$win32,r=t.basename(e),n=t.dirname(e);return r.length?{name:r,parentPath:n}:{name:n,parentPath:""}}Type=$bef59326251d24bb$var$Type||($bef59326251d24bb$var$Type={}),Type[Type.TEXT=0]="TEXT",Type[Type.VARIABLE=1]="VARIABLE",Type[Type.SEPARATOR=2]="SEPARATOR";var $bef59326251d24bb$export$a238cb463698c900={__proto__:null,getPathLabel:$bef59326251d24bb$var$getPathLabel,getBaseLabel:$bef59326251d24bb$var$getBaseLabel,normalizeDriveLetter:$bef59326251d24bb$var$normalizeDriveLetter,tildify:$bef59326251d24bb$var$tildify,untildify:$bef59326251d24bb$var$untildify,shorten:$bef59326251d24bb$var$shorten,template:$bef59326251d24bb$var$template,mnemonicMenuLabel:$bef59326251d24bb$var$mnemonicMenuLabel,mnemonicButtonLabel:$bef59326251d24bb$var$mnemonicButtonLabel,unmnemonicLabel:$bef59326251d24bb$var$unmnemonicLabel,splitName:$bef59326251d24bb$var$splitName},$bef59326251d24bb$var$Lazy=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.executor=t,this._didRun=!1}return(0,$9HoHC.default)(e,[{key:"hasValue",value:function(){return this._didRun}},{key:"getValue",value:function(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}},{key:"rawValue",get:function(){return this._value}},{key:"map",value:function(t){var r=this;return new e((function(){return t(r.getValue())}))}}]),e}(),$bef59326251d24bb$export$488013bae63b21da={__proto__:null,Lazy:$bef59326251d24bb$var$Lazy};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function $bef59326251d24bb$var$__decorate(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}var $bef59326251d24bb$var$LinkedText=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.nodes=t}return(0,$9HoHC.default)(e,[{key:"toString",value:function(){return this.nodes.map((function(e){return"string"==typeof e?e:e.label})).join("")}}]),e}();$bef59326251d24bb$var$__decorate([$bef59326251d24bb$var$memoize],$bef59326251d24bb$var$LinkedText.prototype,"toString",null);var $bef59326251d24bb$var$LINK_REGEX=/\[([^\]]+)\]\(((?:https?:\/\/|command:)[^\)\s]+)(?: ("|')([^\3]+)(\3))?\)/gi;function $bef59326251d24bb$var$parseLinkedText(e){for(var t,r=[],n=0;t=$bef59326251d24bb$var$LINK_REGEX.exec(e);){t.index-n>0&&r.push(e.substring(n,t.index));var i=(0,$dVhHy.default)(t,5),a=i[1],o=i[2],s=i[4];s?r.push({label:a,href:o,title:s}):r.push({label:a,href:o}),n=t.index+t[0].length}return n<e.length&&r.push(e.substring(n)),new $bef59326251d24bb$var$LinkedText(r)}var $bef59326251d24bb$export$3331ce9daf218b61={__proto__:null,LinkedText:$bef59326251d24bb$var$LinkedText,parseLinkedText:$bef59326251d24bb$var$parseLinkedText},$bef59326251d24bb$var$MarshalledId,MarshalledId;function $bef59326251d24bb$var$stringify(e){return JSON.stringify(e,$bef59326251d24bb$var$replacer)}function $bef59326251d24bb$var$parse(e){var t=JSON.parse(e);return t=$bef59326251d24bb$var$revive(t)}function $bef59326251d24bb$var$replacer(e,t){return t instanceof RegExp?{$mid:2,source:t.source,flags:$bef59326251d24bb$var$regExpFlags(t)}:t}function $bef59326251d24bb$var$revive(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return $bef59326251d24bb$var$URI.revive(e);case 2:return new RegExp(e.source,e.flags)}if(e instanceof $bef59326251d24bb$var$VSBuffer||e instanceof Uint8Array)return e;if(Array.isArray(e))for(var r=0;r<e.length;++r)e[r]=$bef59326251d24bb$var$revive(e[r],t+1);else for(var n in e)Object.hasOwnProperty.call(e,n)&&(e[n]=$bef59326251d24bb$var$revive(e[n],t+1))}return e}MarshalledId=$bef59326251d24bb$var$MarshalledId||($bef59326251d24bb$var$MarshalledId={}),MarshalledId[MarshalledId.Uri=1]="Uri",MarshalledId[MarshalledId.Regexp=2]="Regexp",MarshalledId[MarshalledId.ScmResource=3]="ScmResource",MarshalledId[MarshalledId.ScmResourceGroup=4]="ScmResourceGroup",MarshalledId[MarshalledId.ScmProvider=5]="ScmProvider",MarshalledId[MarshalledId.CommentController=6]="CommentController",MarshalledId[MarshalledId.CommentThread=7]="CommentThread",MarshalledId[MarshalledId.CommentThreadReply=8]="CommentThreadReply",MarshalledId[MarshalledId.CommentNode=9]="CommentNode",MarshalledId[MarshalledId.CommentThreadNode=10]="CommentThreadNode",MarshalledId[MarshalledId.TimelineActionContext=11]="TimelineActionContext",MarshalledId[MarshalledId.NotebookCellActionContext=12]="NotebookCellActionContext",MarshalledId[MarshalledId.TestItemContext=13]="TestItemContext";var $bef59326251d24bb$export$d4993b04b92013eb={__proto__:null,stringify:$bef59326251d24bb$var$stringify,parse:$bef59326251d24bb$var$parse,get MarshalledId(){return $bef59326251d24bb$var$MarshalledId},revive:$bef59326251d24bb$var$revive},$bef59326251d24bb$var$Mimes,Mimes;Mimes=$bef59326251d24bb$var$Mimes||($bef59326251d24bb$var$Mimes={}),Mimes.text="text/plain",Mimes.binary="application/octet-stream",Mimes.unknown="application/unknown",Mimes.markdown="text/markdown";var $bef59326251d24bb$var$registeredAssociations=[],$bef59326251d24bb$var$nonUserRegisteredAssociations=[],$bef59326251d24bb$var$userRegisteredAssociations=[];function $bef59326251d24bb$var$registerTextMime(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=$bef59326251d24bb$var$toTextMimeAssociationItem(e);$bef59326251d24bb$var$registeredAssociations.push(r),r.userConfigured?$bef59326251d24bb$var$userRegisteredAssociations.push(r):$bef59326251d24bb$var$nonUserRegisteredAssociations.push(r),t&&!r.userConfigured&&$bef59326251d24bb$var$registeredAssociations.forEach((function(e){e.mime===r.mime||e.userConfigured||(r.extension&&e.extension===r.extension&&console.warn("Overwriting extension <<".concat(r.extension,">> to now point to mime <<").concat(r.mime,">>")),r.filename&&e.filename===r.filename&&console.warn("Overwriting filename <<".concat(r.filename,">> to now point to mime <<").concat(r.mime,">>")),r.filepattern&&e.filepattern===r.filepattern&&console.warn("Overwriting filepattern <<".concat(r.filepattern,">> to now point to mime <<").concat(r.mime,">>")),r.firstline&&e.firstline===r.firstline&&console.warn("Overwriting firstline <<".concat(r.firstline,">> to now point to mime <<").concat(r.mime,">>")))}))}function $bef59326251d24bb$var$toTextMimeAssociationItem(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf($bef59326251d24bb$var$posix.sep)>=0}}function $bef59326251d24bb$var$clearTextMimes(e){e?($bef59326251d24bb$var$registeredAssociations=$bef59326251d24bb$var$registeredAssociations.filter((function(e){return!e.userConfigured})),$bef59326251d24bb$var$userRegisteredAssociations=[]):($bef59326251d24bb$var$registeredAssociations=[],$bef59326251d24bb$var$nonUserRegisteredAssociations=[],$bef59326251d24bb$var$userRegisteredAssociations=[])}function $bef59326251d24bb$var$guessMimeTypes(e,t){var r;if(e)switch(e.scheme){case $bef59326251d24bb$var$Schemas.file:r=e.fsPath;break;case $bef59326251d24bb$var$Schemas.data:r=$bef59326251d24bb$var$DataUri.parseMetaData(e).get($bef59326251d24bb$var$DataUri.META_DATA_LABEL);break;default:r=e.path}if(!r)return[$bef59326251d24bb$var$Mimes.unknown];r=r.toLowerCase();var n=$bef59326251d24bb$var$basename$1(r),i=$bef59326251d24bb$var$guessMimeTypeByPath(r,n,$bef59326251d24bb$var$userRegisteredAssociations);if(i)return[i,$bef59326251d24bb$var$Mimes.text];var a=$bef59326251d24bb$var$guessMimeTypeByPath(r,n,$bef59326251d24bb$var$nonUserRegisteredAssociations);if(a)return[a,$bef59326251d24bb$var$Mimes.text];if(t){var o=$bef59326251d24bb$var$guessMimeTypeByFirstline(t);if(o)return[o,$bef59326251d24bb$var$Mimes.text]}return[$bef59326251d24bb$var$Mimes.unknown]}function $bef59326251d24bb$var$guessMimeTypeByPath(e,t,r){for(var n=null,i=null,a=null,o=r.length-1;o>=0;o--){var s=r[o];if(t===s.filenameLowercase){n=s;break}if(s.filepattern&&(!i||s.filepattern.length>i.filepattern.length)){var u=s.filepatternOnPath?e:t;$bef59326251d24bb$var$match(s.filepatternLowercase,u)&&(i=s)}s.extension&&(!a||s.extension.length>a.extension.length)&&t.endsWith(s.extensionLowercase)&&(a=s)}return n?n.mime:i?i.mime:a?a.mime:null}function $bef59326251d24bb$var$guessMimeTypeByFirstline(e){if($bef59326251d24bb$var$startsWithUTF8BOM(e)&&(e=e.substr(1)),e.length>0)for(var t=$bef59326251d24bb$var$registeredAssociations.length-1;t>=0;t--){var r=$bef59326251d24bb$var$registeredAssociations[t];if(r.firstline){var n=e.match(r.firstline);if(n&&n.length>0)return r.mime}}return null}function $bef59326251d24bb$var$isUnspecific(e){return!e||("string"==typeof e?e===$bef59326251d24bb$var$Mimes.binary||e===$bef59326251d24bb$var$Mimes.text||e===$bef59326251d24bb$var$Mimes.unknown:1===e.length&&$bef59326251d24bb$var$isUnspecific(e[0]))}var $bef59326251d24bb$var$mapExtToMediaMimes={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function $bef59326251d24bb$var$getMediaMime(e){var t=$bef59326251d24bb$var$extname$1(e);return $bef59326251d24bb$var$mapExtToMediaMimes[t.toLowerCase()]}function $bef59326251d24bb$var$getExtensionForMimeType(e){for(var t in $bef59326251d24bb$var$mapExtToMediaMimes)if($bef59326251d24bb$var$mapExtToMediaMimes[t]===e)return t}var $bef59326251d24bb$var$_simplePattern=/^(.+)\/(.+?)(;.+)?$/;function $bef59326251d24bb$var$normalizeMimeType(e,t){var r,n=$bef59326251d24bb$var$_simplePattern.exec(e);return n?"".concat(n[1].toLowerCase(),"/").concat(n[2].toLowerCase()).concat(null!=(r=n[3])?r:""):t?void 0:e}var $bef59326251d24bb$export$632af5c97ff7795d={__proto__:null,get Mimes(){return $bef59326251d24bb$var$Mimes},registerTextMime:$bef59326251d24bb$var$registerTextMime,clearTextMimes:$bef59326251d24bb$var$clearTextMimes,guessMimeTypes:$bef59326251d24bb$var$guessMimeTypes,isUnspecific:$bef59326251d24bb$var$isUnspecific,getMediaMime:$bef59326251d24bb$var$getMediaMime,getExtensionForMimeType:$bef59326251d24bb$var$getExtensionForMimeType,normalizeMimeType:$bef59326251d24bb$var$normalizeMimeType},$bef59326251d24bb$var$nfcCache=new $bef59326251d24bb$var$LRUCache(1e4);function $bef59326251d24bb$var$normalizeNFC(e){return $bef59326251d24bb$var$normalize(e,"NFC",$bef59326251d24bb$var$nfcCache)}var $bef59326251d24bb$var$nfdCache=new $bef59326251d24bb$var$LRUCache(1e4);function $bef59326251d24bb$var$normalizeNFD(e){return $bef59326251d24bb$var$normalize(e,"NFD",$bef59326251d24bb$var$nfdCache)}var $bef59326251d24bb$var$nonAsciiCharactersPattern=/[^\u0000-\u0080]/;function $bef59326251d24bb$var$normalize(e,t,r){if(!e)return e;var n,i=r.get(e);return i||(n=$bef59326251d24bb$var$nonAsciiCharactersPattern.test(e)?e.normalize(t):e,r.set(e,n),n)}var $bef59326251d24bb$var$removeAccents=(regex=/[\u0300-\u036f]/g,function(e){return $bef59326251d24bb$var$normalizeNFD(e).replace(regex,"")}),regex,$bef59326251d24bb$export$ff83e808a709eda7={__proto__:null,normalizeNFC:$bef59326251d24bb$var$normalizeNFC,normalizeNFD:$bef59326251d24bb$var$normalizeNFD,removeAccents:$bef59326251d24bb$var$removeAccents};function $bef59326251d24bb$var$clamp(e,t,r){return Math.min(Math.max(e,t),r)}function $bef59326251d24bb$var$rot(e,t){return(t+e%t)%t}var $bef59326251d24bb$var$Counter=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._next=0}return(0,$9HoHC.default)(e,[{key:"getNext",value:function(){return this._next++}}]),e}(),$bef59326251d24bb$var$MovingAverage=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._n=1,this._val=0}return(0,$9HoHC.default)(e,[{key:"update",value:function(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}},{key:"value",get:function(){return this._val}}]),e}(),$bef59326251d24bb$export$1f6c9cc012ebacae={__proto__:null,clamp:$bef59326251d24bb$var$clamp,rot:$bef59326251d24bb$var$rot,Counter:$bef59326251d24bb$var$Counter,MovingAverage:$bef59326251d24bb$var$MovingAverage};function $bef59326251d24bb$var$createPage(e){return{isResolved:!!e,promise:null,cts:null,promiseIndexes:new Set,elements:e||[]}}function $bef59326251d24bb$var$singlePagePager(e){return{firstPage:e,total:e.length,pageSize:e.length,getPage:function(t,r){return Promise.resolve(e)}}}var $bef59326251d24bb$var$PagedModel=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this.pages=[],this.pager=$bef59326251d24bb$var$isArray(t)?$bef59326251d24bb$var$singlePagePager(t):t;var r=Math.ceil(this.pager.total/this.pager.pageSize);this.pages=[$bef59326251d24bb$var$createPage(this.pager.firstPage.slice())].concat((0,$caN7I.default)($bef59326251d24bb$var$range$1(r-1).map((function(){return $bef59326251d24bb$var$createPage()}))))}return(0,$9HoHC.default)(e,[{key:"length",get:function(){return this.pager.total}},{key:"isResolved",value:function(e){var t=Math.floor(e/this.pager.pageSize);return!!this.pages[t].isResolved}},{key:"get",value:function(e){var t=Math.floor(e/this.pager.pageSize),r=e%this.pager.pageSize;return this.pages[t].elements[r]}},{key:"resolve",value:function(e,t){if(t.isCancellationRequested)return Promise.reject($bef59326251d24bb$var$canceled());var r=Math.floor(e/this.pager.pageSize),n=e%this.pager.pageSize,i=this.pages[r];return i.isResolved?Promise.resolve(i.elements[n]):(i.promise||(i.cts=new $bef59326251d24bb$var$CancellationTokenSource,i.promise=this.pager.getPage(r,i.cts.token).then((function(e){i.elements=e,i.isResolved=!0,i.promise=null,i.cts=null}),(function(e){return i.isResolved=!1,i.promise=null,i.cts=null,Promise.reject(e)}))),t.onCancellationRequested((function(){i.cts&&(i.promiseIndexes.delete(e),0===i.promiseIndexes.size&&i.cts.cancel())})),i.promiseIndexes.add(e),i.promise.then((function(){return i.elements[n]})))}}]),e}(),$bef59326251d24bb$var$DelayedPagedModel=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;(0,$4JAgF.default)(this,e),this.model=t,this.timeout=r}return(0,$9HoHC.default)(e,[{key:"length",get:function(){return this.model.length}},{key:"isResolved",value:function(e){return this.model.isResolved(e)}},{key:"get",value:function(e){return this.model.get(e)}},{key:"resolve",value:function(e,t){var r=this;return new Promise((function(n,i){if(t.isCancellationRequested)return i($bef59326251d24bb$var$canceled());var a=setTimeout((function(){if(t.isCancellationRequested)return i($bef59326251d24bb$var$canceled());o.dispose(),r.model.resolve(e,t).then(n,i)}),r.timeout),o=t.onCancellationRequested((function(){clearTimeout(a),o.dispose(),i($bef59326251d24bb$var$canceled())}))}))}}]),e}();function $bef59326251d24bb$var$mapPager(e,t){return{firstPage:e.firstPage.map(t),total:e.total,pageSize:e.pageSize,getPage:function(r,n){return e.getPage(r,n).then((function(e){return e.map(t)}))}}}var $bef59326251d24bb$export$e973a13a69c1c71d={__proto__:null,singlePagePager:$bef59326251d24bb$var$singlePagePager,PagedModel:$bef59326251d24bb$var$PagedModel,DelayedPagedModel:$bef59326251d24bb$var$DelayedPagedModel,mapPager:$bef59326251d24bb$var$mapPager},$bef59326251d24bb$var$ValidationState,ValidationState;ValidationState=$bef59326251d24bb$var$ValidationState||($bef59326251d24bb$var$ValidationState={}),ValidationState[ValidationState.OK=0]="OK",ValidationState[ValidationState.Info=1]="Info",ValidationState[ValidationState.Warning=2]="Warning",ValidationState[ValidationState.Error=3]="Error",ValidationState[ValidationState.Fatal=4]="Fatal";var $bef59326251d24bb$var$ValidationStatus=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._state=0}return(0,$9HoHC.default)(e,[{key:"state",get:function(){return this._state},set:function(e){e>this._state&&(this._state=e)}},{key:"isOK",value:function(){return 0===this._state}},{key:"isFatal",value:function(){return 4===this._state}}]),e}(),$bef59326251d24bb$var$Parser=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._problemReporter=t}return(0,$9HoHC.default)(e,[{key:"reset",value:function(){this._problemReporter.status.state=0}},{key:"problemReporter",get:function(){return this._problemReporter}},{key:"info",value:function(e){this._problemReporter.info(e)}},{key:"warn",value:function(e){this._problemReporter.warn(e)}},{key:"error",value:function(e){this._problemReporter.error(e)}},{key:"fatal",value:function(e){this._problemReporter.fatal(e)}}]),e}(),$bef59326251d24bb$export$19131010e7fd8373={__proto__:null,get ValidationState(){return $bef59326251d24bb$var$ValidationState},ValidationStatus:$bef59326251d24bb$var$ValidationStatus,Parser:$bef59326251d24bb$var$Parser},$bef59326251d24bb$var$Source,Source,$bef59326251d24bb$var$TerminateResponseCode,TerminateResponseCode;function $bef59326251d24bb$var$sanitizeProcessEnvironment(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r.reduce((function(e,t){return e[t]=!0,e}),{}),a=[/^ELECTRON_.+$/,/^VSCODE_.+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/],o=Object.keys(e);o.filter((function(e){return!i[e]})).forEach((function(t){for(var r=0;r<a.length;r++)if(-1!==t.search(a[r])){delete e[t];break}}))}Source=$bef59326251d24bb$var$Source||($bef59326251d24bb$var$Source={}),Source[Source.stdout=0]="stdout",Source[Source.stderr=1]="stderr",TerminateResponseCode=$bef59326251d24bb$var$TerminateResponseCode||($bef59326251d24bb$var$TerminateResponseCode={}),TerminateResponseCode[TerminateResponseCode.Success=0]="Success",TerminateResponseCode[TerminateResponseCode.Unknown=1]="Unknown",TerminateResponseCode[TerminateResponseCode.AccessDenied=2]="AccessDenied",TerminateResponseCode[TerminateResponseCode.ProcessNotFound=3]="ProcessNotFound";var $bef59326251d24bb$export$fc1182ee13531fec={__proto__:null,get Source(){return $bef59326251d24bb$var$Source},get TerminateResponseCode(){return $bef59326251d24bb$var$TerminateResponseCode},sanitizeProcessEnvironment:$bef59326251d24bb$var$sanitizeProcessEnvironment},$bef59326251d24bb$export$dbd0f18357df1ddd={__proto__:null},$bef59326251d24bb$var$Range,Range,intersect,isEmpty;Range=$bef59326251d24bb$var$Range||($bef59326251d24bb$var$Range={}),intersect=function(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};var r=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-r<=0?{start:0,end:0}:{start:r,end:n}},isEmpty=function(e){return e.end-e.start<=0},Range.intersect=intersect,Range.isEmpty=isEmpty,Range.intersects=function(e,t){return!isEmpty(intersect(e,t))},Range.relativeComplement=function(e,t){var r=[],n={start:e.start,end:Math.min(t.start,e.end)},i={start:Math.max(t.end,e.start),end:e.end};return isEmpty(n)||r.push(n),isEmpty(i)||r.push(i),r};var $bef59326251d24bb$export$d02631cccf789723={__proto__:null,get Range(){return $bef59326251d24bb$var$Range}},$bef59326251d24bb$var$Node$1=function(){"use strict";function e(t,r,n,i,a){(0,$4JAgF.default)(this,e),this.uri=t,this.relativePath=r,this.context=n,this.element=i,this.parent=a,this._children=new Map}return(0,$9HoHC.default)(e,[{key:"childrenCount",get:function(){return this._children.size}},{key:"children",get:function(){return this._children.values()}},{key:"name",get:function(){return $bef59326251d24bb$var$posix.basename(this.relativePath)}},{key:"get",value:function(e){return this._children.get(e)}},{key:"set",value:function(e,t){this._children.set(e,t)}},{key:"delete",value:function(e){this._children.delete(e)}},{key:"clear",value:function(){this._children.clear()}}]),e}();function $bef59326251d24bb$var$collect(e,t){void 0!==e.element&&t.push(e.element);var r=!0,n=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){$bef59326251d24bb$var$collect(a.value,t)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}$bef59326251d24bb$var$__decorate([$bef59326251d24bb$var$memoize],$bef59326251d24bb$var$Node$1.prototype,"name",null);var $bef59326251d24bb$var$ResourceTree=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$bef59326251d24bb$var$URI.file("/"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$bef59326251d24bb$var$extUri;(0,$4JAgF.default)(this,e),this.extUri=n,this.root=new $bef59326251d24bb$var$Node$1(r,"",t)}return(0,$9HoHC.default)(e,[{key:"add",value:function(e,t){for(var r=this.extUri.relativePath(this.root.uri,e)||e.path,n=new $bef59326251d24bb$var$PathIterator(!1).reset(r),i=this.root,a="";;){var o=n.value();a=a+"/"+o;var s=i.get(o);if(s?n.hasNext()||(s.element=t):(s=new $bef59326251d24bb$var$Node$1(this.extUri.joinPath(this.root.uri,a),a,this.root.context,n.hasNext()?void 0:t,i),i.set(o,s)),i=s,!n.hasNext())return;n.next()}}},{key:"delete",value:function(e){var t=this.extUri.relativePath(this.root.uri,e)||e.path,r=new $bef59326251d24bb$var$PathIterator(!1).reset(t);return this._delete(this.root,r)}},{key:"_delete",value:function(e,t){var r=t.value(),n=e.get(r);if(n){if(t.hasNext()){var i=this._delete(n,t.next());return void 0!==i&&0===n.childrenCount&&e.delete(r),i}return e.delete(r),n.element}}},{key:"clear",value:function(){this.root.clear()}},{key:"getNode",value:function(e){for(var t=this.extUri.relativePath(this.root.uri,e)||e.path,r=new $bef59326251d24bb$var$PathIterator(!1).reset(t),n=this.root;;){var i=r.value(),a=n.get(i);if(!a||!r.hasNext())return a;n=a,r.next()}}}],[{key:"getRoot",value:function(e){for(;e.parent;)e=e.parent;return e}},{key:"collect",value:function(e){return $bef59326251d24bb$var$collect(e,[])}},{key:"isResourceNode",value:function(e){return e instanceof $bef59326251d24bb$var$Node$1}}]),e}(),$bef59326251d24bb$export$580b2594fffef3f5={__proto__:null,ResourceTree:$bef59326251d24bb$var$ResourceTree},$bef59326251d24bb$var$ScrollbarVisibility,ScrollbarVisibility;ScrollbarVisibility=$bef59326251d24bb$var$ScrollbarVisibility||($bef59326251d24bb$var$ScrollbarVisibility={}),ScrollbarVisibility[ScrollbarVisibility.Auto=1]="Auto",ScrollbarVisibility[ScrollbarVisibility.Hidden=2]="Hidden",ScrollbarVisibility[ScrollbarVisibility.Visible=3]="Visible";var $bef59326251d24bb$var$ScrollState=function(){"use strict";function e(t,r,n,i,a,o){(0,$4JAgF.default)(this,e),this._scrollStateBrand=void 0,t|=0,r|=0,n|=0,i|=0,a|=0,o|=0,this.rawScrollLeft=n,this.rawScrollTop=o,t<0&&(t=0),n+t>r&&(n=r-t),n<0&&(n=0),i<0&&(i=0),o+i>a&&(o=a-i),o<0&&(o=0),this.width=t,this.scrollWidth=r,this.scrollLeft=n,this.height=i,this.scrollHeight=a,this.scrollTop=o}return(0,$9HoHC.default)(e,[{key:"equals",value:function(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}},{key:"withScrollDimensions",value:function(t,r){return new e(void 0!==t.width?t.width:this.width,void 0!==t.scrollWidth?t.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,void 0!==t.height?t.height:this.height,void 0!==t.scrollHeight?t.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}},{key:"withScrollPosition",value:function(t){return new e(this.width,this.scrollWidth,void 0!==t.scrollLeft?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==t.scrollTop?t.scrollTop:this.rawScrollTop)}},{key:"createScrollEvent",value:function(e,t){var r=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,a=this.height!==e.height,o=this.scrollHeight!==e.scrollHeight,s=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:n,scrollLeftChanged:i,heightChanged:a,scrollHeightChanged:o,scrollTopChanged:s}}}]),e}(),$bef59326251d24bb$var$Scrollable=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this))._scrollableBrand=void 0,i._onScroll=i._register(new $bef59326251d24bb$var$Emitter),i.onScroll=i._onScroll.event,i._smoothScrollDuration=e,i._scheduleAtNextAnimationFrame=n,i._state=new $bef59326251d24bb$var$ScrollState(0,0,0,0,0,0),i._smoothScrolling=null,i}return(0,$9HoHC.default)(r,[{key:"dispose",value:function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"dispose",this).call(this)}},{key:"setSmoothScrollDuration",value:function(e){this._smoothScrollDuration=e}},{key:"validateScrollPosition",value:function(e){return this._state.withScrollPosition(e)}},{key:"getScrollDimensions",value:function(){return this._state}},{key:"setScrollDimensions",value:function(e,t){var r=this._state.withScrollDimensions(e,t);this._setState(r,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}},{key:"getFutureScrollPosition",value:function(){return this._smoothScrolling?this._smoothScrolling.to:this._state}},{key:"getCurrentScrollPosition",value:function(){return this._state}},{key:"setScrollPositionNow",value:function(e){var t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}},{key:"setScrollPositionSmooth",value:function(e,t){var r=this;if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};var n,i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;n=t?new $bef59326251d24bb$var$SmoothScrollingOperation(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{var a=this._state.withScrollPosition(e);this._smoothScrolling=$bef59326251d24bb$var$SmoothScrollingOperation.start(this._state,a,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((function(){r._smoothScrolling&&(r._smoothScrolling.animationFrameDisposable=null,r._performSmoothScrolling())}))}},{key:"_performSmoothScrolling",value:function(){var e=this;if(this._smoothScrolling){var t=this._smoothScrolling.tick(),r=this._state.withScrollPosition(t);if(this._setState(r,!0),this._smoothScrolling)return t.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((function(){e._smoothScrolling&&(e._smoothScrolling.animationFrameDisposable=null,e._performSmoothScrolling())})))}}},{key:"_setState",value:function(e,t){var r=this._state;r.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(r,t)))}}]),r}($bef59326251d24bb$var$Disposable),$bef59326251d24bb$var$SmoothScrollingUpdate=function e(t,r,n){"use strict";(0,$4JAgF.default)(this,e),this.scrollLeft=t,this.scrollTop=r,this.isDone=n};function $bef59326251d24bb$var$createEaseOutCubic(e,t){var r=t-e;return function(t){return e+r*$bef59326251d24bb$var$easeOutCubic(t)}}function $bef59326251d24bb$var$createComposed(e,t,r){return function(n){return n<r?e(n/r):t((n-r)/(1-r))}}var $bef59326251d24bb$var$SmoothScrollingOperation=function(){"use strict";function e(t,r,n,i){(0,$4JAgF.default)(this,e),this.from=t,this.to=r,this.duration=i,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}return(0,$9HoHC.default)(e,[{key:"_initAnimations",value:function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}},{key:"_initAnimation",value:function(e,t,r){var n,i;return Math.abs(e-t)>2.5*r?(e<t?(n=e+.75*r,i=t-.75*r):(n=e-.75*r,i=t+.75*r),$bef59326251d24bb$var$createComposed($bef59326251d24bb$var$createEaseOutCubic(e,n),$bef59326251d24bb$var$createEaseOutCubic(i,t),.33)):$bef59326251d24bb$var$createEaseOutCubic(e,t)}},{key:"dispose",value:function(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}},{key:"acceptScrollDimensions",value:function(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}},{key:"tick",value:function(){return this._tick(Date.now())}},{key:"_tick",value:function(e){var t=(e-this.startTime)/this.duration;if(t<1){var r=this.scrollLeft(t),n=this.scrollTop(t);return new $bef59326251d24bb$var$SmoothScrollingUpdate(r,n,!1)}return new $bef59326251d24bb$var$SmoothScrollingUpdate(this.to.scrollLeft,this.to.scrollTop,!0)}},{key:"combine",value:function(t,r,n){return e.start(t,r,n)}}],[{key:"start",value:function(t,r,n){return n+=10,new e(t,r,Date.now()-10,n)}}]),e}();function $bef59326251d24bb$var$easeInCubic(e){return Math.pow(e,3)}function $bef59326251d24bb$var$easeOutCubic(e){return 1-$bef59326251d24bb$var$easeInCubic(1-e)}var $bef59326251d24bb$export$e19e816763c25ac={__proto__:null,get ScrollbarVisibility(){return $bef59326251d24bb$var$ScrollbarVisibility},ScrollState:$bef59326251d24bb$var$ScrollState,Scrollable:$bef59326251d24bb$var$Scrollable,SmoothScrollingUpdate:$bef59326251d24bb$var$SmoothScrollingUpdate,SmoothScrollingOperation:$bef59326251d24bb$var$SmoothScrollingOperation};function $bef59326251d24bb$var$buildReplaceStringWithCasePreserved(e,t){if(e&&""!==e[0]){var r=$bef59326251d24bb$var$validateSpecificSpecialCharacter(e,t,"-"),n=$bef59326251d24bb$var$validateSpecificSpecialCharacter(e,t,"_");return r&&!n?$bef59326251d24bb$var$buildReplaceStringForSpecificSpecialCharacter(e,t,"-"):!r&&n?$bef59326251d24bb$var$buildReplaceStringForSpecificSpecialCharacter(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():$bef59326251d24bb$var$containsUppercaseCharacter(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function $bef59326251d24bb$var$validateSpecificSpecialCharacter(e,t,r){return-1!==e[0].indexOf(r)&&-1!==t.indexOf(r)&&e[0].split(r).length===t.split(r).length}function $bef59326251d24bb$var$buildReplaceStringForSpecificSpecialCharacter(e,t,r){var n=t.split(r),i=e[0].split(r),a="";return n.forEach((function(e,t){a+=$bef59326251d24bb$var$buildReplaceStringWithCasePreserved([i[t]],e)+r})),a.slice(0,-1)}var $bef59326251d24bb$export$d76128d007d19019={__proto__:null,buildReplaceStringWithCasePreserved:$bef59326251d24bb$var$buildReplaceStringWithCasePreserved},$bef59326251d24bb$var$Sequence=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.elements=[],this._onDidSplice=new $bef59326251d24bb$var$Emitter,this.onDidSplice=this._onDidSplice.event}return(0,$9HoHC.default)(e,[{key:"splice",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(r=this.elements).splice.apply(r,[e,t].concat((0,$caN7I.default)(n))),this._onDidSplice.fire({start:e,deleteCount:t,toInsert:n})}}]),e}(),$bef59326251d24bb$var$SimpleSequence=function(){"use strict";function e(t,r,n){var i,a=this;(0,$4JAgF.default)(this,e),this._elements=(0,$caN7I.default)(t),this.onDidSplice=$bef59326251d24bb$var$Event.any($bef59326251d24bb$var$Event.map(r,(function(e){return{start:a.elements.length,deleteCount:0,toInsert:[e]}})),$bef59326251d24bb$var$Event.map($bef59326251d24bb$var$Event.filter($bef59326251d24bb$var$Event.map(n,(function(e){return a.elements.indexOf(e)})),(function(e){return e>-1})),(function(e){return{start:e,deleteCount:1,toInsert:[]}}))),this.disposable=this.onDidSplice((function(e){var t=e.start,r=e.deleteCount,n=e.toInsert;return(i=a._elements).splice.apply(i,[t,r].concat((0,$caN7I.default)(n)))}))}return(0,$9HoHC.default)(e,[{key:"elements",get:function(){return this._elements}},{key:"dispose",value:function(){this.disposable.dispose()}}]),e}(),$bef59326251d24bb$export$49bb65c2ea163039={__proto__:null,Sequence:$bef59326251d24bb$var$Sequence,SimpleSequence:$bef59326251d24bb$var$SimpleSequence},$bef59326251d24bb$var$Severity,Severity;Severity=$bef59326251d24bb$var$Severity||($bef59326251d24bb$var$Severity={}),Severity[Severity.Ignore=0]="Ignore",Severity[Severity.Info=1]="Info",Severity[Severity.Warning=2]="Warning",Severity[Severity.Error=3]="Error",function(e){var t="error",r="warning",n="warn",i="info",a="ignore";e.fromValue=function(a){return a?$bef59326251d24bb$var$equalsIgnoreCase(t,a)?e.Error:$bef59326251d24bb$var$equalsIgnoreCase(r,a)||$bef59326251d24bb$var$equalsIgnoreCase(n,a)?e.Warning:$bef59326251d24bb$var$equalsIgnoreCase(i,a)?e.Info:e.Ignore:e.Ignore},e.toString=function(n){switch(n){case e.Error:return t;case e.Warning:return r;case e.Info:return i;default:return a}}}($bef59326251d24bb$var$Severity||($bef59326251d24bb$var$Severity={}));var $bef59326251d24bb$var$Severity$1=$bef59326251d24bb$var$Severity,$bef59326251d24bb$export$cf3716817bb93454={__proto__:null,default:$bef59326251d24bb$var$Severity$1},$bef59326251d24bb$var$_a,$bef59326251d24bb$var$Node=function e(t,r,n){"use strict";(0,$4JAgF.default)(this,e),this.level=t,this.key=r,this.value=n,this.forward=[]},$bef59326251d24bb$var$NIL=void 0,$bef59326251d24bb$var$SkipList=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.pow(2,16);(0,$4JAgF.default)(this,e),this.comparator=t,this[$bef59326251d24bb$var$_a]="SkipList",this._level=0,this._size=0,this._maxLevel=Math.max(1,0|Math.log2(r)),this._header=new $bef59326251d24bb$var$Node(this._maxLevel,$bef59326251d24bb$var$NIL,$bef59326251d24bb$var$NIL)}return(0,$9HoHC.default)(e,[{key:"size",get:function(){return this._size}},{key:"clear",value:function(){this._header=new $bef59326251d24bb$var$Node(this._maxLevel,$bef59326251d24bb$var$NIL,$bef59326251d24bb$var$NIL)}},{key:"has",value:function(t){return Boolean(e._search(this,t,this.comparator))}},{key:"get",value:function(t){var r;return null==(r=e._search(this,t,this.comparator))?void 0:r.value}},{key:"set",value:function(t,r){return e._insert(this,t,r,this.comparator)&&(this._size+=1),this}},{key:"delete",value:function(t){var r=e._delete(this,t,this.comparator);return r&&(this._size-=1),r}},{key:"forEach",value:function(e,t){for(var r=this._header.forward[0];r;)e.call(t,r.value,r.key,this),r=r.forward[0]}},{key:($bef59326251d24bb$var$_a=Symbol.toStringTag,Symbol.iterator),value:function(){return this.entries()}},{key:"entries",value:function(){var e;return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:e=this._header.forward[0],t.label=1;case 1:return e?[4,[e.key,e.value]]:[3,3];case 2:return t.sent(),e=e.forward[0],[3,1];case 3:return[2]}}))}},{key:"keys",value:function(){var e;return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:e=this._header.forward[0],t.label=1;case 1:return e?[4,e.key]:[3,3];case 2:return t.sent(),e=e.forward[0],[3,1];case 3:return[2]}}))}},{key:"values",value:function(){var e;return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:e=this._header.forward[0],t.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return t.sent(),e=e.forward[0],[3,1];case 3:return[2]}}))}},{key:"toString",value:function(){for(var e="[SkipList]:",t=this._header.forward[0];t;)e+="node(".concat(t.key,", ").concat(t.value,", lvl:").concat(t.level,")"),t=t.forward[0];return e}}],[{key:"_search",value:function(e,t,r){for(var n=e._header,i=e._level-1;i>=0;i--)for(;n.forward[i]&&r(n.forward[i].key,t)<0;)n=n.forward[i];if((n=n.forward[0])&&0===r(n.key,t))return n}},{key:"_insert",value:function(t,r,n,i){for(var a=[],o=t._header,s=t._level-1;s>=0;s--){for(;o.forward[s]&&i(o.forward[s].key,r)<0;)o=o.forward[s];a[s]=o}if((o=o.forward[0])&&0===i(o.key,r))return o.value=n,!1;var u=e._randomLevel(t);if(u>t._level){for(var c=t._level;c<u;c++)a[c]=t._header;t._level=u}o=new $bef59326251d24bb$var$Node(u,r,n);for(var l=0;l<u;l++)o.forward[l]=a[l].forward[l],a[l].forward[l]=o;return!0}},{key:"_randomLevel",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=1;Math.random()<t&&r<e._maxLevel;)r+=1;return r}},{key:"_delete",value:function(e,t,r){for(var n=[],i=e._header,a=e._level-1;a>=0;a--){for(;i.forward[a]&&r(i.forward[a].key,t)<0;)i=i.forward[a];n[a]=i}if(!(i=i.forward[0])||0!==r(i.key,t))return!1;for(var o=0;o<e._level&&n[o].forward[o]===i;o++)n[o].forward[o]=i.forward[o];for(;e._level>0&&e._header.forward[e._level-1]===$bef59326251d24bb$var$NIL;)e._level-=1;return!0}}]),e}(),$bef59326251d24bb$export$766bb19dd57214db={__proto__:null,SkipList:$bef59326251d24bb$var$SkipList},$bef59326251d24bb$export$c3354330983465a3={__proto__:null},$bef59326251d24bb$var$Constants,Constants;function $bef59326251d24bb$var$toUint8(e){return e<0?0:e>255?255:0|e}function $bef59326251d24bb$var$toUint32(e){return e<0?0:e>4294967295?4294967295:0|e}Constants=$bef59326251d24bb$var$Constants||($bef59326251d24bb$var$Constants={}),Constants[Constants.MAX_SAFE_SMALL_INTEGER=1073741824]="MAX_SAFE_SMALL_INTEGER",Constants[Constants.MIN_SAFE_SMALL_INTEGER=-1073741824]="MIN_SAFE_SMALL_INTEGER",Constants[Constants.MAX_UINT_8=255]="MAX_UINT_8",Constants[Constants.MAX_UINT_16=65535]="MAX_UINT_16",Constants[Constants.MAX_UINT_32=4294967295]="MAX_UINT_32",Constants[Constants.UNICODE_SUPPLEMENTARY_PLANE_BEGIN=65536]="UNICODE_SUPPLEMENTARY_PLANE_BEGIN";var $bef59326251d24bb$export$877455b195f03b92={__proto__:null,get Constants(){return $bef59326251d24bb$var$Constants},toUint8:$bef59326251d24bb$var$toUint8,toUint32:$bef59326251d24bb$var$toUint32};function $bef59326251d24bb$var$toJSON(e){return e.toJSON()}var $bef59326251d24bb$var$URITransformer=function(){"use strict";function e(t){(0,$4JAgF.default)(this,e),this._uriTransformer=t}return(0,$9HoHC.default)(e,[{key:"transformIncoming",value:function(e){var t=this._uriTransformer.transformIncoming(e);return t===e?e:$bef59326251d24bb$var$toJSON($bef59326251d24bb$var$URI.from(t))}},{key:"transformOutgoing",value:function(e){var t=this._uriTransformer.transformOutgoing(e);return t===e?e:$bef59326251d24bb$var$toJSON($bef59326251d24bb$var$URI.from(t))}},{key:"transformOutgoingURI",value:function(e){var t=this._uriTransformer.transformOutgoing(e);return t===e?e:$bef59326251d24bb$var$URI.from(t)}},{key:"transformOutgoingScheme",value:function(e){return this._uriTransformer.transformOutgoingScheme(e)}}]),e}(),$bef59326251d24bb$var$DefaultURITransformer=new(function(){"use strict";function e(){(0,$4JAgF.default)(this,e)}return(0,$9HoHC.default)(e,[{key:"transformIncoming",value:function(e){return e}},{key:"transformOutgoing",value:function(e){return e}},{key:"transformOutgoingURI",value:function(e){return e}},{key:"transformOutgoingScheme",value:function(e){return e}}]),e}());function $bef59326251d24bb$var$_transformOutgoingURIs(e,t,r){if(!e||r>200)return null;if("object"==typeof e){if(e instanceof $bef59326251d24bb$var$URI)return t.transformOutgoing(e);for(var n in e)if(Object.hasOwnProperty.call(e,n)){var i=$bef59326251d24bb$var$_transformOutgoingURIs(e[n],t,r+1);null!==i&&(e[n]=i)}}return null}function $bef59326251d24bb$var$transformOutgoingURIs(e,t){var r=$bef59326251d24bb$var$_transformOutgoingURIs(e,t,0);return null===r?e:r}function $bef59326251d24bb$var$_transformIncomingURIs(e,t,r,n){if(!e||n>200)return null;if("object"==typeof e){if(1===e.$mid)return r?$bef59326251d24bb$var$URI.revive(t.transformIncoming(e)):t.transformIncoming(e);for(var i in e)if(Object.hasOwnProperty.call(e,i)){var a=$bef59326251d24bb$var$_transformIncomingURIs(e[i],t,r,n+1);null!==a&&(e[i]=a)}}return null}function $bef59326251d24bb$var$transformIncomingURIs(e,t){var r=$bef59326251d24bb$var$_transformIncomingURIs(e,t,!1,0);return null===r?e:r}function $bef59326251d24bb$var$transformAndReviveIncomingURIs(e,t){var r=$bef59326251d24bb$var$_transformIncomingURIs(e,t,!0,0);return null===r?e:r}var $bef59326251d24bb$export$e5217d047823a7e7={__proto__:null,URITransformer:$bef59326251d24bb$var$URITransformer,DefaultURITransformer:$bef59326251d24bb$var$DefaultURITransformer,transformOutgoingURIs:$bef59326251d24bb$var$transformOutgoingURIs,transformIncomingURIs:$bef59326251d24bb$var$transformIncomingURIs,transformAndReviveIncomingURIs:$bef59326251d24bb$var$transformAndReviveIncomingURIs},$bef59326251d24bb$var$_UUIDPattern=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function $bef59326251d24bb$var$isUUID(e){return $bef59326251d24bb$var$_UUIDPattern.test(e)}for(var $bef59326251d24bb$var$_data=new Uint8Array(16),$bef59326251d24bb$var$_hex=[],$bef59326251d24bb$var$i=0,$bef59326251d24bb$var$_fillRandomValues;$bef59326251d24bb$var$i<256;$bef59326251d24bb$var$i++)$bef59326251d24bb$var$_hex.push($bef59326251d24bb$var$i.toString(16).padStart(2,"0"));function $bef59326251d24bb$var$generateUuid(){$bef59326251d24bb$var$_fillRandomValues($bef59326251d24bb$var$_data),$bef59326251d24bb$var$_data[6]=15&$bef59326251d24bb$var$_data[6]|64,$bef59326251d24bb$var$_data[8]=63&$bef59326251d24bb$var$_data[8]|128;var e=0,t="";return t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+="-",t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+="-",t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+="-",t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+="-",t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]],t+=$bef59326251d24bb$var$_hex[$bef59326251d24bb$var$_data[e++]]}$bef59326251d24bb$var$_fillRandomValues="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(var t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e};var $bef59326251d24bb$export$31b40729666a4ae0={__proto__:null,isUUID:$bef59326251d24bb$var$isUUID,generateUuid:$bef59326251d24bb$var$generateUuid},$cBsbd=parcelRequire("cBsbd"),$5299cb0342a5bb8a$exports={};Object.defineProperty($5299cb0342a5bb8a$exports,"__esModule",{value:!0});var $5299cb0342a5bb8a$var$_exportNames={};$5299cb0342a5bb8a$exports.default=void 0;var $5299cb0342a5bb8a$var$matrixcs=$5299cb0342a5bb8a$var$_interopRequireWildcard(parcelRequire("graqz")),$5299cb0342a5bb8a$var$indexedDB;function $5299cb0342a5bb8a$var$_getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return($5299cb0342a5bb8a$var$_getRequireWildcardCache=function(e){return e?r:t})(e)}function $5299cb0342a5bb8a$var$_interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=$5299cb0342a5bb8a$var$_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}if(Object.keys($5299cb0342a5bb8a$var$matrixcs).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call($5299cb0342a5bb8a$var$_exportNames,e)||e in $5299cb0342a5bb8a$exports&&$5299cb0342a5bb8a$exports[e]===$5299cb0342a5bb8a$var$matrixcs[e]||Object.defineProperty($5299cb0342a5bb8a$exports,e,{enumerable:!0,get:function(){return $5299cb0342a5bb8a$var$matrixcs[e]}}))})),$parcel$global.__js_sdk_entrypoint)throw new Error("Multiple matrix-js-sdk entrypoints detected!");$parcel$global.__js_sdk_entrypoint=!0;try{$5299cb0342a5bb8a$var$indexedDB=$parcel$global.indexedDB}catch(e){}$5299cb0342a5bb8a$var$indexedDB&&$5299cb0342a5bb8a$var$matrixcs.setCryptoStoreFactory((function(){return new $5299cb0342a5bb8a$var$matrixcs.IndexedDBCryptoStore($5299cb0342a5bb8a$var$indexedDB,"matrix-js-sdk:crypto")}));var $5299cb0342a5bb8a$var$_default=$5299cb0342a5bb8a$var$matrixcs;$5299cb0342a5bb8a$exports.default=$5299cb0342a5bb8a$var$_default,$parcel$global.matrixcs=$5299cb0342a5bb8a$var$matrixcs;var $d790dcf15e934ba6$exports={},$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$gNsil=parcelRequire("gNsil"),$bw73z=parcelRequire("bw73z"),$8rJSp=parcelRequire("8rJSp"),$d790dcf15e934ba6$var$debug=parcelRequire("498FS")("simple-peer"),$e53a5816147d4749$exports={};
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */$e53a5816147d4749$exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null};var $5o49g=parcelRequire("5o49g"),$82OBz=parcelRequire("82OBz"),$3dd74272e4add708$exports={},$3dd74272e4add708$var$promise;$3dd74272e4add708$exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:$parcel$global):function(e){return($3dd74272e4add708$var$promise||($3dd74272e4add708$var$promise=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))};var $f4aff721afbc5bca$exports={};function $f4aff721afbc5bca$var$assign(e,t){for(var r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function $f4aff721afbc5bca$var$createError(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return $f4aff721afbc5bca$var$assign(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),$f4aff721afbc5bca$var$assign(new n,r)}}$f4aff721afbc5bca$exports=$f4aff721afbc5bca$var$createError;var $dwjmx=parcelRequire("dwjmx"),$d790dcf15e934ba6$require$Buffer=$dwjmx.Buffer,$d790dcf15e934ba6$var$MAX_BUFFERED_AMOUNT=65536,$d790dcf15e934ba6$var$ICECOMPLETE_TIMEOUT=5e3,$d790dcf15e934ba6$var$CHANNEL_CLOSING_TIMEOUT=5e3;function $d790dcf15e934ba6$var$filterTrickle(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function $d790dcf15e934ba6$var$warn(e){console.warn(e)}var $d790dcf15e934ba6$var$Peer=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;if((0,$4JAgF.default)(this,r),e=Object.assign({allowHalfOpen:!1},e),(n=t.call(this,e))._id=$5o49g(4).toString("hex").slice(0,7),n._debug("new peer %o",e),n.channelName=e.initiator?e.channelName||$5o49g(20).toString("hex"):null,n.initiator=e.initiator||!1,n.channelConfig=e.channelConfig||r.channelConfig,n.channelNegotiated=n.channelConfig.negotiated,n.config=Object.assign({},r.config,e.config),n.offerOptions=e.offerOptions||{},n.answerOptions=e.answerOptions||{},n.sdpTransform=e.sdpTransform||function(e){return e},n.streams=e.streams||(e.stream?[e.stream]:[]),n.trickle=void 0===e.trickle||e.trickle,n.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,n.iceCompleteTimeout=e.iceCompleteTimeout||$d790dcf15e934ba6$var$ICECOMPLETE_TIMEOUT,n.destroyed=!1,n.destroying=!1,n._connected=!1,n.remoteAddress=void 0,n.remoteFamily=void 0,n.remotePort=void 0,n.localAddress=void 0,n.localFamily=void 0,n.localPort=void 0,n._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:$e53a5816147d4749$exports(),!n._wrtc)throw"undefined"==typeof window?$f4aff721afbc5bca$exports(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):$f4aff721afbc5bca$exports(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");n._pcReady=!1,n._channelReady=!1,n._iceComplete=!1,n._iceCompleteTimer=null,n._channel=null,n._pendingCandidates=[],n._isNegotiating=!1,n._firstNegotiation=!0,n._batchedNegotiation=!1,n._queuedNegotiation=!1,n._sendersAwaitingStable=[],n._senderMap=new Map,n._closingInterval=null,n._remoteTracks=[],n._remoteStreams=[],n._chunk=null,n._cb=null,n._interval=null;try{n._pc=new n._wrtc.RTCPeerConnection(n.config)}catch(e){return n.destroy($f4aff721afbc5bca$exports(e,"ERR_PC_CONSTRUCTOR")),(0,$bw73z.default)(n)}return n._isReactNativeWebrtc="number"==typeof n._pc._peerConnectionId,n._pc.oniceconnectionstatechange=function(){n._onIceStateChange()},n._pc.onicegatheringstatechange=function(){n._onIceStateChange()},n._pc.onconnectionstatechange=function(){n._onConnectionStateChange()},n._pc.onsignalingstatechange=function(){n._onSignalingStateChange()},n._pc.onicecandidate=function(e){n._onIceCandidate(e)},"object"==typeof n._pc.peerIdentity&&n._pc.peerIdentity.catch((function(e){n.destroy($f4aff721afbc5bca$exports(e,"ERR_PC_PEER_IDENTITY"))})),n.initiator||n.channelNegotiated?n._setupData({channel:n._pc.createDataChannel(n.channelName,n.channelConfig)}):n._pc.ondatachannel=function(e){n._setupData(e)},n.streams&&n.streams.forEach((function(e){n.addStream(e)})),n._pc.ontrack=function(e){n._onTrack(e)},n._debug("initial negotiation"),n._needsNegotiation(),n._onFinishBound=function(){n._onFinish()},n.once("finish",n._onFinishBound),n}return(0,$9HoHC.default)(r,[{key:"bufferSize",get:function(){return this._channel&&this._channel.bufferedAmount||0}},{key:"connected",get:function(){return this._connected&&"open"===this._channel.readyState}},{key:"address",value:function(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}},{key:"signal",value:function(e){var t=this;if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((function(){t.destroyed||(t._pendingCandidates.forEach((function(e){t._addIceCandidate(e)})),t._pendingCandidates=[],"offer"===t._pc.remoteDescription.type&&t._createAnswer())})).catch((function(e){t.destroy($f4aff721afbc5bca$exports(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy($f4aff721afbc5bca$exports(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}},{key:"_addIceCandidate",value:function(e){var t=this,r=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(r).catch((function(e){!r.address||r.address.endsWith(".local")?$d790dcf15e934ba6$var$warn("Ignoring unsupported ICE candidate."):t.destroy($f4aff721afbc5bca$exports(e,"ERR_ADD_ICE_CANDIDATE"))}))}},{key:"send",value:function(e){if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}},{key:"addTransceiver",value:function(e,t){if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy($f4aff721afbc5bca$exports(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}},{key:"addStream",value:function(e){var t=this;if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((function(r){t.addTrack(r,e)}))}}},{key:"addTrack",value:function(e,t){if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");var r=this._senderMap.get(e)||new Map,n=r.get(t);if(n)throw n.removed?$f4aff721afbc5bca$exports(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):$f4aff721afbc5bca$exports(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");n=this._pc.addTrack(e,t),r.set(t,n),this._senderMap.set(e,r),this._needsNegotiation()}}},{key:"replaceTrack",value:function(e,t,r){if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");var n=this._senderMap.get(e),i=n?n.get(r):null;if(!i)throw $f4aff721afbc5bca$exports(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,n),null!=i.replaceTrack?i.replaceTrack(t):this.destroy($f4aff721afbc5bca$exports(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}}},{key:"removeTrack",value:function(e,t){if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");var r=this._senderMap.get(e),n=r?r.get(t):null;if(!n)throw $f4aff721afbc5bca$exports(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(n):this.destroy($f4aff721afbc5bca$exports(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}}},{key:"removeStream",value:function(e){var t=this;if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((function(r){t.removeTrack(r,e)}))}}},{key:"_needsNegotiation",value:function(){var e=this;this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,$3dd74272e4add708$exports((function(){e._batchedNegotiation=!1,e.initiator||!e._firstNegotiation?(e._debug("starting batched negotiation"),e.negotiate()):e._debug("non-initiator initial negotiation request discarded"),e._firstNegotiation=!1})))}},{key:"negotiate",value:function(){var e=this;if(!this.destroying){if(this.destroyed)throw $f4aff721afbc5bca$exports(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((function(){e._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}},{key:"destroy",value:function(e){this._destroy(e,(function(){}))}},{key:"_destroy",value:function(e,t){var r=this;this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),$3dd74272e4add708$exports((function(){if(r.destroyed=!0,r.destroying=!1,r._debug("destroy (error: %s)",e&&(e.message||e)),r.readable=r.writable=!1,r._readableState.ended||r.push(null),r._writableState.finished||r.end(),r._connected=!1,r._pcReady=!1,r._channelReady=!1,r._remoteTracks=null,r._remoteStreams=null,r._senderMap=null,clearInterval(r._closingInterval),r._closingInterval=null,clearInterval(r._interval),r._interval=null,r._chunk=null,r._cb=null,r._onFinishBound&&r.removeListener("finish",r._onFinishBound),r._onFinishBound=null,r._channel){try{r._channel.close()}catch(e){}r._channel.onmessage=null,r._channel.onopen=null,r._channel.onclose=null,r._channel.onerror=null}if(r._pc){try{r._pc.close()}catch(e){}r._pc.oniceconnectionstatechange=null,r._pc.onicegatheringstatechange=null,r._pc.onsignalingstatechange=null,r._pc.onicecandidate=null,r._pc.ontrack=null,r._pc.ondatachannel=null}r._pc=null,r._channel=null,e&&r.emit("error",e),r.emit("close"),t()})))}},{key:"_setupData",value:function(e){var t=this;if(!e.channel)return this.destroy($f4aff721afbc5bca$exports(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=$d790dcf15e934ba6$var$MAX_BUFFERED_AMOUNT),this.channelName=this._channel.label,this._channel.onmessage=function(e){t._onChannelMessage(e)},this._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},this._channel.onopen=function(){t._onChannelOpen()},this._channel.onclose=function(){t._onChannelClose()},this._channel.onerror=function(e){var r=e.error instanceof Error?e.error:new Error("Datachannel error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));t.destroy($f4aff721afbc5bca$exports(r,"ERR_DATA_CHANNEL"))};var r=!1;this._closingInterval=setInterval((function(){t._channel&&"closing"===t._channel.readyState?(r&&t._onChannelClose(),r=!0):r=!1}),$d790dcf15e934ba6$var$CHANNEL_CLOSING_TIMEOUT)}},{key:"_read",value:function(){}},{key:"_write",value:function(e,t,r){if(this.destroyed)return r($f4aff721afbc5bca$exports(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy($f4aff721afbc5bca$exports(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>$d790dcf15e934ba6$var$MAX_BUFFERED_AMOUNT?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}},{key:"_onFinish",value:function(){var e=this;if(!this.destroyed){var t=function(){setTimeout((function(){return e.destroy()}),1e3)};this._connected?t():this.once("connect",t)}}},{key:"_startIceCompleteTimeout",value:function(){var e=this;this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((function(){e._iceComplete||(e._iceComplete=!0,e._debug("iceComplete timeout completed"),e.emit("iceTimeout"),e.emit("_iceComplete"))}),this.iceCompleteTimeout))}},{key:"_createOffer",value:function(){var e=this;this.destroyed||this._pc.createOffer(this.offerOptions).then((function(t){if(!e.destroyed){e.trickle||e.allowHalfTrickle||(t.sdp=$d790dcf15e934ba6$var$filterTrickle(t.sdp)),t.sdp=e.sdpTransform(t.sdp);var r=function(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp})}};e._pc.setLocalDescription(t).then((function(){e._debug("createOffer success"),e.destroyed||(e.trickle||e._iceComplete?r():e.once("_iceComplete",r))})).catch((function(t){e.destroy($f4aff721afbc5bca$exports(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}})).catch((function(t){e.destroy($f4aff721afbc5bca$exports(t,"ERR_CREATE_OFFER"))}))}},{key:"_requestMissingTransceivers",value:function(){var e=this;this._pc.getTransceivers&&this._pc.getTransceivers().forEach((function(t){t.mid||!t.sender.track||t.requested||(t.requested=!0,e.addTransceiver(t.sender.track.kind))}))}},{key:"_createAnswer",value:function(){var e=this;this.destroyed||this._pc.createAnswer(this.answerOptions).then((function(t){if(!e.destroyed){e.trickle||e.allowHalfTrickle||(t.sdp=$d790dcf15e934ba6$var$filterTrickle(t.sdp)),t.sdp=e.sdpTransform(t.sdp);var r=function(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp}),e.initiator||e._requestMissingTransceivers()}};e._pc.setLocalDescription(t).then((function(){e.destroyed||(e.trickle||e._iceComplete?r():e.once("_iceComplete",r))})).catch((function(t){e.destroy($f4aff721afbc5bca$exports(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}})).catch((function(t){e.destroy($f4aff721afbc5bca$exports(t,"ERR_CREATE_ANSWER"))}))}},{key:"_onConnectionStateChange",value:function(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy($f4aff721afbc5bca$exports(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}},{key:"_onIceStateChange",value:function(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy($f4aff721afbc5bca$exports(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy($f4aff721afbc5bca$exports(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}}},{key:"getStats",value:function(e){var t=this,r=function(e){return"[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((function(t){Object.assign(e,t)})),e};0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((function(t){var n=[];t.forEach((function(e){n.push(r(e))})),e(null,n)}),(function(t){return e(t)})):this._pc.getStats.length>0?this._pc.getStats((function(n){if(!t.destroyed){var i=[];n.result().forEach((function(e){var t={};e.names().forEach((function(r){t[r]=e.stat(r)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(r(t))})),e(null,i)}}),(function(t){return e(t)})):e(null,[])}},{key:"_maybeReady",value:function(){var e=this;if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),!this._connected&&!this._connecting&&this._pcReady&&this._channelReady){this._connecting=!0;var t=function(){e.destroyed||e.getStats((function(r,n){if(!e.destroyed){r&&(n=[]);var i={},a={},o={},s=!1;n.forEach((function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(a[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(o[e.id]=e)}));var u=function(t){s=!0;var r=a[t.localCandidateId];r&&(r.ip||r.address)?(e.localAddress=r.ip||r.address,e.localPort=Number(r.port)):r&&r.ipAddress?(e.localAddress=r.ipAddress,e.localPort=Number(r.portNumber)):"string"==typeof t.googLocalAddress&&(r=t.googLocalAddress.split(":"),e.localAddress=r[0],e.localPort=Number(r[1])),e.localAddress&&(e.localFamily=e.localAddress.includes(":")?"IPv6":"IPv4");var n=i[t.remoteCandidateId];n&&(n.ip||n.address)?(e.remoteAddress=n.ip||n.address,e.remotePort=Number(n.port)):n&&n.ipAddress?(e.remoteAddress=n.ipAddress,e.remotePort=Number(n.portNumber)):"string"==typeof t.googRemoteAddress&&(n=t.googRemoteAddress.split(":"),e.remoteAddress=n[0],e.remotePort=Number(n[1])),e.remoteAddress&&(e.remoteFamily=e.remoteAddress.includes(":")?"IPv6":"IPv4"),e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)};if(n.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId&&u(o[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&u(e)})),s||Object.keys(o).length&&!Object.keys(a).length){if(e._connecting=!1,e._connected=!0,e._chunk){try{e.send(e._chunk)}catch(t){return e.destroy($f4aff721afbc5bca$exports(t,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var c=e._cb;e._cb=null,c(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval((function(){return e._onInterval()}),150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}}))};t()}}},{key:"_onInterval",value:function(){!this._cb||!this._channel||this._channel.bufferedAmount>$d790dcf15e934ba6$var$MAX_BUFFERED_AMOUNT||this._onChannelBufferedAmountLow()}},{key:"_onSignalingStateChange",value:function(){var e=this;this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}},{key:"_onIceCandidate",value:function(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}},{key:"_onChannelMessage",value:function(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=$d790dcf15e934ba6$require$Buffer.from(t)),this.push(t)}}},{key:"_onChannelBufferedAmountLow",value:function(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}},{key:"_onChannelOpen",value:function(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}},{key:"_onChannelClose",value:function(){this.destroyed||(this._debug("on channel close"),this.destroy())}},{key:"_onTrack",value:function(e){var t=this;this.destroyed||e.streams.forEach((function(r){t._debug("on track"),t.emit("track",e.track,r),t._remoteTracks.push({track:e.track,stream:r}),t._remoteStreams.some((function(e){return e.id===r.id}))||(t._remoteStreams.push(r),$3dd74272e4add708$exports((function(){t._debug("on stream"),t.emit("stream",r)})))}))}},{key:"_debug",value:function(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],$d790dcf15e934ba6$var$debug.apply(null,e)}}]),r}($82OBz.Duplex);$d790dcf15e934ba6$var$Peer.WEBRTC_SUPPORT=!!$e53a5816147d4749$exports(),$d790dcf15e934ba6$var$Peer.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},$d790dcf15e934ba6$var$Peer.channelConfig={},$d790dcf15e934ba6$exports=$d790dcf15e934ba6$var$Peer;var $azd2b=parcelRequire("azd2b"),$d2KzW=parcelRequire("d2KzW"),$dwjmx=parcelRequire("dwjmx"),$c1f5dfa1217bff34$require$Buffer=$dwjmx.Buffer;function $c1f5dfa1217bff34$var$mt(e,t,r,n,i){return $c1f5dfa1217bff34$var$_mt.apply(this,arguments)}function $c1f5dfa1217bff34$var$_mt(){return($c1f5dfa1217bff34$var$_mt=(0,$3mpD3.default)((function(e,t,r,n,i){var a,o,s,u;return(0,$cDTRq.__generator)(this,(function(c){if(a="ed25519:"+n,!(o=((t.signatures||{})[r]||{})[a]))throw Error("No signature");return delete(s=Object.assign({},t)).unsigned,delete s.signatures,u=$parcel$interopDefault($cBsbd).stringify(s),e.verifySignature(i,u,o),[2]}))}))).apply(this,arguments)}function $c1f5dfa1217bff34$var$le(e){return $c1f5dfa1217bff34$require$Buffer.from(e).toString("base64")}function $c1f5dfa1217bff34$var$We(e){return $c1f5dfa1217bff34$require$Buffer.from(e,"base64")}function $c1f5dfa1217bff34$var$yt(e,t){return $c1f5dfa1217bff34$var$_yt.apply(this,arguments)}function $c1f5dfa1217bff34$var$_yt(){return($c1f5dfa1217bff34$var$_yt=(0,$3mpD3.default)((function(e,t){return(0,$cDTRq.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.crypto.signObject(t)];case 1:return r.sent(),[2]}}))}))).apply(this,arguments)}function $c1f5dfa1217bff34$var$bt(e,t,r,n){return $c1f5dfa1217bff34$var$_bt.apply(this,arguments)}function $c1f5dfa1217bff34$var$_bt(){return($c1f5dfa1217bff34$var$_bt=(0,$3mpD3.default)((function(e,t,r,n){var i,a,o,s;return(0,$cDTRq.__generator)(this,(function(u){switch(u.label){case 0:if(!r.signatures||1!==Object.keys(r.signatures).length)throw new Error("invalid signature");if(i=Object.keys(r.signatures)[0],!t.hasWriteAccess(i,n))throw new Error("user doesn't have write access");if(!(a=Object.keys(r.signatures[i])[0]).startsWith("ed25519:"))throw new Error("unexpected key");return o=a.substr(8),e.crypto.deviceList.startTrackingDeviceList(i),[4,e.crypto.deviceList.downloadKeys([i],!1)];case 1:if(!(s=u.sent()[i][o].keys[a]))throw new Error("key not found");return[4,$c1f5dfa1217bff34$var$mt(e.crypto.olmDevice,r,i,o,s)];case 2:return u.sent(),[2]}}))}))).apply(this,arguments)}var $c1f5dfa1217bff34$export$eeca8ad81c23230c=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i;return(0,$4JAgF.default)(this,r),(i=t.call(this)).matrixClient=e,i.reader=n,i.disposed=!1,i.initialized=!1,i.initializing=!1,i.initializeOutdated=!1,i.members=new Map,i.processEvent=function(e){if("m.room.power_levels"===e.type||"m.room.member"===e.type){if(i.initializing)return void(i.initializeOutdated=!0);if(i.initialized){if("m.room.power_levels"===e.type)return void(i.powerLevels=e.content);if("m.room.member"===e.type){if("join"===e.content.membership||"invite"===e.content.membership){var t={displayname:e.content.displayname,user_id:e.state_key};i.members.set(e.state_key,t)}else i.members.delete(e.state_key);return}throw new Error("unexpected")}}},i._register(i.reader.onEvents((function(e){return e.events.forEach((function(e){return i.processEvent(e)}))}))),(0,$bw73z.default)(i)}return(0,$9HoHC.default)(r,[{key:"hasWriteAccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m.room.message";if(!this.members.has(e))return!1;var r=this.powerLevels,n=r.events[t];void 0===n&&(n=r.events_default);var i=r.users[e];if(void 0===i&&(i=r.users_default),"number"!=typeof i||"number"!=typeof n)throw new Error("unexpected");return i>=n}},{key:"initialize",value:function(){var e=this;return(0,$3mpD3.default)((function(){var t,r,n;return(0,$cDTRq.__generator)(this,(function(i){switch(i.label){case 0:if(e.initializing||e.initialized)throw new Error("already initializing / initialized");if(!e.reader.isStarted)throw new Error("MatrixReader must have started before initializing MatrixMemberReader");return e.initializing=!0,[4,Promise.all([e.matrixClient.getStateEvent(e.reader.roomId,"m.room.power_levels",void 0),e.matrixClient.members(e.reader.roomId,void 0,["knock","leave","ban"])])];case 1:return t=$dVhHy.default.apply(void 0,[i.sent(),2]),r=t[0],n=t[1],e.initializeOutdated?[2,(e.initializing=!1,e.initializeOutdated=!1,e.initialize())]:(e.powerLevels=r,n.chunk.filter((function(e){return"m.room.member"===e.type&&("join"===e.content.membership||"invite"===e.content.membership)})).forEach((function(t){e.members.set(t.state_key,{displayname:t.content.displayname,user_id:t.state_key})})),e.initializing=!1,e.initialized=!0,[2])}}))}))()}},{key:"dispose",value:function(){this.disposed=!0,(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"dispose",this).call(this)}}]),r}($bef59326251d24bb$export$3efdceeb8ca25c51.Disposable),$c1f5dfa1217bff34$var$Te=3e4,$c1f5dfa1217bff34$var$vt=3e4,$c1f5dfa1217bff34$var$Et={snapshotInterval:30},$c1f5dfa1217bff34$var$St=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,$4JAgF.default)(this,r),(a=t.call(this)).matrixClient=e,a.roomId=n,a.translator=i,a.disposed=!1,a.polling=!1,a.messagesSinceSnapshot=0,a._onEvents=a._register(new $bef59326251d24bb$export$6cd530ed55e06764.Emitter),a.onEvents=a._onEvents.event,a.matrixRoomListener=function(e,t,r){throw console.error("not expected; Room.timeline on MatrixClient"),new Error("unexpected, we don't use /sync calls for MatrixReader, startClient should not be used on the Matrix client")},a.opts=(0,$gUJ6q.default)({},$c1f5dfa1217bff34$var$Et,o),a.matrixClient.on($5299cb0342a5bb8a$exports.RoomEvent.Timeline,a.matrixRoomListener),(0,$bw73z.default)(a)}return(0,$9HoHC.default)(r,[{key:"processIncomingEventsForSnapshot",value:function(e){var t=!1,r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(this.translator.isUpdateEvent(s)){if(s.room_id!==this.roomId)throw new Error("event received with invalid roomid");this.messagesSinceSnapshot++,this.messagesSinceSnapshot%this.opts.snapshotInterval==0&&s.user_id===this.matrixClient.credentials.userId&&(t=!0)}else this.translator.isSnapshotEvent(s)&&(this.messagesSinceSnapshot=0,t=!1)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"decryptRawEventsIfNecessary",value:function(e){var t=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(){var e=(0,$3mpD3.default)((function(e){var r;return(0,$cDTRq.__generator)(this,(function(n){switch(n.label){case 0:return"m.room.encrypted"!==e.type?[3,2]:[4,t.matrixClient.crypto.decryptEvent(new(0,$5299cb0342a5bb8a$exports.MatrixEvent)(e))];case 1:return r=n.sent().clearEvent,[3,3];case 2:r=e,n.label=3;case 3:return[2,r]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return[2,r.sent()]}}))}))()}},{key:"peekPoll",value:function(){var e=this;return(0,$3mpD3.default)((function(){var t,r,n,i;return(0,$cDTRq.__generator)(this,(function(a){switch(a.label){case 0:if(!e.latestToken)throw new Error("polling but no pagination token");if(e.disposed)return[3,5];a.label=1;case 1:return a.trys.push([1,4,,5]),e.pendingPollRequest=e.matrixClient.http.authedRequest(void 0,$5299cb0342a5bb8a$exports.Method.Get,"/events",{room_id:e.roomId,timeout:$c1f5dfa1217bff34$var$Te+"",from:e.latestToken},void 0,{localTimeoutMs:2*$c1f5dfa1217bff34$var$Te}),[4,e.pendingPollRequest];case 2:return t=a.sent(),e.pendingPollRequest=void 0,e.disposed?[2]:[4,e.decryptRawEventsIfNecessary(t.chunk)];case 3:return r=a.sent(),n=e.processIncomingEventsForSnapshot(r),r.length&&e._onEvents.fire({events:r,shouldSendSnapshot:n}),e.latestToken=t.end,e.peekPoll(),[3,5];case 4:return i=a.sent(),console.error("peek error",i),e.disposed||(e.pollRetryTimeout=setTimeout((function(){return e.peekPoll()}),$c1f5dfa1217bff34$var$vt)),[3,5];case 5:return[2]}}))}))()}},{key:"getInitialDocumentUpdateEvents",value:function(e){var t=this;return(0,$3mpD3.default)((function(){var r,n,i,a,o,s,u,c,l,f,d,h;return(0,$cDTRq.__generator)(this,(function(v){switch(v.label){case 0:r=[],n="",i=!0,v.label=1;case 1:return i?[4,t.matrixClient.createMessagesRequest(t.roomId,n,30,$5299cb0342a5bb8a$exports.Direction.Backward)]:[3,5];case 2:return o=v.sent(),[4,t.decryptRawEventsIfNecessary(o.chunk)];case 3:s=v.sent(),u=!0,c=!1,l=void 0;try{for(f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0)if(h=d.value,e)h.type===e&&r.push(h);else if(t.translator.isSnapshotEvent(h))r.push(h),a=h.content.last_event_id;else if(t.translator.isUpdateEvent(h)){if(a&&a===h.event_id)return[2,(t.latestToken||(t.latestToken=o.start),r.reverse())];t.messagesSinceSnapshot++,r.push(h)}}catch(e){c=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}n=o.end,t.latestToken||(t.latestToken=o.start),i=!(o.start===o.end||!o.end),v.label=4;case 4:return[3,1];case 5:return[2,r.reverse()]}}))}))()}},{key:"startPolling",value:function(){if(this.polling)throw new Error("already polling");this.polling=!0,this.peekPoll()}},{key:"isStarted",get:function(){return this.polling}},{key:"dispose",value:function(){this.disposed=!0,(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"dispose",this).call(this),this.pollRetryTimeout&&clearTimeout(this.pollRetryTimeout),this.pendingPollRequest&&this.pendingPollRequest.abort(),this.matrixClient.off($5299cb0342a5bb8a$exports.RoomEvent.Timeline,this.matrixRoomListener)}}]),r}($bef59326251d24bb$export$3efdceeb8ca25c51.Disposable),$c1f5dfa1217bff34$var$Ct=String.fromCharCode,$c1f5dfa1217bff34$var$_t=function(e){return e.toLowerCase()},$c1f5dfa1217bff34$var$Ut=/^\s*/g,$c1f5dfa1217bff34$var$It=function(e){return e.replace($c1f5dfa1217bff34$var$Ut,"")},$c1f5dfa1217bff34$var$Tt=/([A-Z])/g,$c1f5dfa1217bff34$var$Me=function(e,t){return $c1f5dfa1217bff34$var$It(e.replace($c1f5dfa1217bff34$var$Tt,(function(e){return"".concat(t).concat($c1f5dfa1217bff34$var$_t(e))})))},$c1f5dfa1217bff34$var$Mt=function(e){for(var t=unescape(encodeURIComponent(e)),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.codePointAt(i);return n},$c1f5dfa1217bff34$var$je=("undefined"==typeof TextEncoder?"undefined":(0,$dCPLc.default)(TextEncoder))<"u"?new TextEncoder:null,$c1f5dfa1217bff34$var$kt=function(e){return $c1f5dfa1217bff34$var$je.encode(e)},$c1f5dfa1217bff34$var$ke=$c1f5dfa1217bff34$var$je?$c1f5dfa1217bff34$var$kt:$c1f5dfa1217bff34$var$Mt,$c1f5dfa1217bff34$var$ne=("undefined"==typeof TextDecoder?"undefined":(0,$dCPLc.default)(TextDecoder))>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});$c1f5dfa1217bff34$var$ne&&1===$c1f5dfa1217bff34$var$ne.decode(new Uint8Array).length&&($c1f5dfa1217bff34$var$ne=null);var $c1f5dfa1217bff34$var$A=function(){return new Map},$c1f5dfa1217bff34$var$W=function(e,t,r){var n=e.get(t);return void 0===n&&e.set(t,n=r()),n},$c1f5dfa1217bff34$var$At=function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=(0,$dVhHy.default)(o.value,2),c=u[0],l=u[1];r.push(t(l,c))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r},$c1f5dfa1217bff34$var$Ae=function(e){return void 0===e?null:e},$c1f5dfa1217bff34$var$xt=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this.map=new Map}return(0,$9HoHC.default)(e,[{key:"setItem",value:function(e,t){this.map.set(e,t)}},{key:"getItem",value:function(e){return this.map.get(e)}}]),e}(),$c1f5dfa1217bff34$var$Ve=new $c1f5dfa1217bff34$var$xt,$c1f5dfa1217bff34$var$$e=!0;try{("undefined"==typeof localStorage?"undefined":(0,$dCPLc.default)(localStorage))<"u"&&($c1f5dfa1217bff34$var$Ve=localStorage,$c1f5dfa1217bff34$var$$e=!1)}catch(e){}var $c1f5dfa1217bff34$var$He=$c1f5dfa1217bff34$var$Ve,$c1f5dfa1217bff34$var$Rt=function(e){return $c1f5dfa1217bff34$var$$e||addEventListener("storage",e)},$c1f5dfa1217bff34$var$te=(void 0===$d2KzW?"undefined":(0,$dCPLc.default)($d2KzW))<"u"&&$d2KzW.release&&/node|io\.js/.test($d2KzW.release.name),$c1f5dfa1217bff34$var$Ge=("undefined"==typeof window?"undefined":(0,$dCPLc.default)(window))<"u"&&!$c1f5dfa1217bff34$var$te,$c1f5dfa1217bff34$var$S;("undefined"==typeof navigator?"undefined":(0,$dCPLc.default)(navigator))<"u"&&/Mac/.test(navigator.platform);var $c1f5dfa1217bff34$var$Dt=function(){if(void 0===$c1f5dfa1217bff34$var$S)if($c1f5dfa1217bff34$var$te){$c1f5dfa1217bff34$var$S=$c1f5dfa1217bff34$var$A();for(var e=$d2KzW.argv,t=null,r=0;r<e.length;r++){var n=e[r];"-"===n[0]?(null!==t&&$c1f5dfa1217bff34$var$S.set(t,""),t=n):null!==t&&($c1f5dfa1217bff34$var$S.set(t,n),t=null)}null!==t&&$c1f5dfa1217bff34$var$S.set(t,"")}else"object"==typeof location?($c1f5dfa1217bff34$var$S=$c1f5dfa1217bff34$var$A(),(location.search||"?").slice(1).split("&").forEach((function(e){if(0!==e.length){var t=(0,$dVhHy.default)(e.split("="),2),r=t[0],n=t[1];$c1f5dfa1217bff34$var$S.set("--".concat($c1f5dfa1217bff34$var$Me(r,"-")),n),$c1f5dfa1217bff34$var$S.set("-".concat($c1f5dfa1217bff34$var$Me(r,"-")),n)}}))):$c1f5dfa1217bff34$var$S=$c1f5dfa1217bff34$var$A();return $c1f5dfa1217bff34$var$S},$c1f5dfa1217bff34$var$Pt=function(e){return $c1f5dfa1217bff34$var$Dt().has(e)},$c1f5dfa1217bff34$var$qe=function(e){return $c1f5dfa1217bff34$var$Ae($c1f5dfa1217bff34$var$te?$d2KzW.env[e.toUpperCase()]:$c1f5dfa1217bff34$var$He.getItem(e))},$c1f5dfa1217bff34$var$Lt=function(e){return $c1f5dfa1217bff34$var$Pt("--"+e)||null!==$c1f5dfa1217bff34$var$qe(e)};$c1f5dfa1217bff34$var$Lt("production");var $c1f5dfa1217bff34$var$pe=Math.floor,$c1f5dfa1217bff34$var$Ot=Math.abs,$c1f5dfa1217bff34$var$Bt=Math.log10,$c1f5dfa1217bff34$var$Ke=function(e,t){return e<t?e:t},$c1f5dfa1217bff34$var$Ye=function(e,t){return e>t?e:t},$c1f5dfa1217bff34$var$Ft=function(e){return 0!==e?e<0:1/e<0},$c1f5dfa1217bff34$var$Je=64,$c1f5dfa1217bff34$var$O=128,$c1f5dfa1217bff34$var$he=63,$c1f5dfa1217bff34$var$x=127,$c1f5dfa1217bff34$var$Nt=2147483647,$c1f5dfa1217bff34$var$zt=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&$c1f5dfa1217bff34$var$pe(e)===e},$c1f5dfa1217bff34$var$Wt=function e(){"use strict";(0,$4JAgF.default)(this,e),this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]},$c1f5dfa1217bff34$var$g=function(){return new $c1f5dfa1217bff34$var$Wt},$c1f5dfa1217bff34$var$jt=function(e){for(var t=e.cpos,r=0;r<e.bufs.length;r++)t+=e.bufs[r].length;return t},$c1f5dfa1217bff34$var$y=function(e){for(var t=new Uint8Array($c1f5dfa1217bff34$var$jt(e)),r=0,n=0;n<e.bufs.length;n++){var i=e.bufs[n];t.set(i,r),r+=i.length}return t.set($c1f5dfa1217bff34$var$ge(e.cbuf.buffer,0,e.cpos),r),t},$c1f5dfa1217bff34$var$Vt=function(e,t){var r=e.cbuf.length;r-e.cpos<t&&(e.bufs.push($c1f5dfa1217bff34$var$ge(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*$c1f5dfa1217bff34$var$Ye(r,t)),e.cpos=0)},$c1f5dfa1217bff34$var$m=function(e,t){var r=e.cbuf.length;e.cpos===r&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*r),e.cpos=0),e.cbuf[e.cpos++]=t},$c1f5dfa1217bff34$var$xe=$c1f5dfa1217bff34$var$m,$c1f5dfa1217bff34$var$p=function(e,t){for(;t>$c1f5dfa1217bff34$var$x;)$c1f5dfa1217bff34$var$m(e,$c1f5dfa1217bff34$var$O|$c1f5dfa1217bff34$var$x&t),t>>>=7;$c1f5dfa1217bff34$var$m(e,$c1f5dfa1217bff34$var$x&t)},$c1f5dfa1217bff34$var$$t=function(e,t){var r=$c1f5dfa1217bff34$var$Ft(t);for(r&&(t=-t),$c1f5dfa1217bff34$var$m(e,(t>$c1f5dfa1217bff34$var$he?$c1f5dfa1217bff34$var$O:0)|(r?$c1f5dfa1217bff34$var$Je:0)|$c1f5dfa1217bff34$var$he&t),t>>>=6;t>0;)$c1f5dfa1217bff34$var$m(e,(t>$c1f5dfa1217bff34$var$x?$c1f5dfa1217bff34$var$O:0)|$c1f5dfa1217bff34$var$x&t),t>>>=7},$c1f5dfa1217bff34$var$B=function(e,t){var r=unescape(encodeURIComponent(t)),n=r.length;$c1f5dfa1217bff34$var$p(e,n);for(var i=0;i<n;i++)$c1f5dfa1217bff34$var$m(e,r.codePointAt(i))},$c1f5dfa1217bff34$var$Ht=function(e,t){var r=e.cbuf.length,n=e.cpos,i=$c1f5dfa1217bff34$var$Ke(r-n,t.length),a=t.length-i;e.cbuf.set(t.subarray(0,i),n),e.cpos+=i,a>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array($c1f5dfa1217bff34$var$Ye(2*r,a)),e.cbuf.set(t.subarray(i)),e.cpos=a)},$c1f5dfa1217bff34$var$w=function(e,t){$c1f5dfa1217bff34$var$p(e,t.byteLength),$c1f5dfa1217bff34$var$Ht(e,t)},$c1f5dfa1217bff34$var$fe=function(e,t){$c1f5dfa1217bff34$var$Vt(e,t);var r=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,r},$c1f5dfa1217bff34$var$Gt=function(e,t){return $c1f5dfa1217bff34$var$fe(e,4).setFloat32(0,t,!1)},$c1f5dfa1217bff34$var$qt=function(e,t){return $c1f5dfa1217bff34$var$fe(e,8).setFloat64(0,t,!1)},$c1f5dfa1217bff34$var$Kt=function(e,t){return $c1f5dfa1217bff34$var$fe(e,8).setBigInt64(0,t,!1)},$c1f5dfa1217bff34$var$Re=new DataView(new ArrayBuffer(4)),$c1f5dfa1217bff34$var$Yt=function(e){return $c1f5dfa1217bff34$var$Re.setFloat32(0,e),$c1f5dfa1217bff34$var$Re.getFloat32(0)===e},$c1f5dfa1217bff34$var$q=function(e,t){switch(void 0===t?"undefined":(0,$dCPLc.default)(t)){case"string":$c1f5dfa1217bff34$var$m(e,119),$c1f5dfa1217bff34$var$B(e,t);break;case"number":$c1f5dfa1217bff34$var$zt(t)&&$c1f5dfa1217bff34$var$Ot(t)<=$c1f5dfa1217bff34$var$Nt?($c1f5dfa1217bff34$var$m(e,125),$c1f5dfa1217bff34$var$$t(e,t)):$c1f5dfa1217bff34$var$Yt(t)?($c1f5dfa1217bff34$var$m(e,124),$c1f5dfa1217bff34$var$Gt(e,t)):($c1f5dfa1217bff34$var$m(e,123),$c1f5dfa1217bff34$var$qt(e,t));break;case"bigint":$c1f5dfa1217bff34$var$m(e,122),$c1f5dfa1217bff34$var$Kt(e,t);break;case"object":if(null===t)$c1f5dfa1217bff34$var$m(e,126);else if(t instanceof Array){$c1f5dfa1217bff34$var$m(e,117),$c1f5dfa1217bff34$var$p(e,t.length);for(var r=0;r<t.length;r++)$c1f5dfa1217bff34$var$q(e,t[r])}else if(t instanceof Uint8Array)$c1f5dfa1217bff34$var$m(e,116),$c1f5dfa1217bff34$var$w(e,t);else{$c1f5dfa1217bff34$var$m(e,118);var n=Object.keys(t);$c1f5dfa1217bff34$var$p(e,n.length);for(var i=0;i<n.length;i++){var a=n[i];$c1f5dfa1217bff34$var$B(e,a),$c1f5dfa1217bff34$var$q(e,t[a])}}break;case"boolean":$c1f5dfa1217bff34$var$m(e,t?120:121);break;default:$c1f5dfa1217bff34$var$m(e,127)}},$c1f5dfa1217bff34$var$Jt=function(e){return new Uint8Array(e)},$c1f5dfa1217bff34$var$ge=function(e,t,r){return new Uint8Array(e,t,r)},$c1f5dfa1217bff34$var$Zt=function(e){return new Uint8Array(e)},$c1f5dfa1217bff34$var$Qt=function(e){for(var t="",r=0;r<e.byteLength;r++)t+=$c1f5dfa1217bff34$var$Ct(e[r]);return btoa(t)},$c1f5dfa1217bff34$var$Xt=function(e){return $c1f5dfa1217bff34$require$Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")},$c1f5dfa1217bff34$var$es=function(e){for(var t=atob(e),r=$c1f5dfa1217bff34$var$Jt(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},$c1f5dfa1217bff34$var$ts=function(e){var t=$c1f5dfa1217bff34$require$Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},$c1f5dfa1217bff34$var$Ze=$c1f5dfa1217bff34$var$Ge?$c1f5dfa1217bff34$var$Qt:$c1f5dfa1217bff34$var$Xt,$c1f5dfa1217bff34$var$Qe=$c1f5dfa1217bff34$var$Ge?$c1f5dfa1217bff34$var$es:$c1f5dfa1217bff34$var$ts,$c1f5dfa1217bff34$var$ss=function e(t){"use strict";(0,$4JAgF.default)(this,e),this.arr=t,this.pos=0},$c1f5dfa1217bff34$var$R=function(e){return new $c1f5dfa1217bff34$var$ss(e)},$c1f5dfa1217bff34$var$ns=function(e,t){var r=$c1f5dfa1217bff34$var$ge(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,r},$c1f5dfa1217bff34$var$M=function(e){return $c1f5dfa1217bff34$var$ns(e,$c1f5dfa1217bff34$var$v(e))},$c1f5dfa1217bff34$var$K=function(e){return e.arr[e.pos++]},$c1f5dfa1217bff34$var$v=function(e){for(var t=0,r=0;;){var n=e.arr[e.pos++];if(t|=(n&$c1f5dfa1217bff34$var$x)<<r,n<$c1f5dfa1217bff34$var$O)return t>>>0;if((r+=7)>53)throw new Error("Integer out of range!")}},$c1f5dfa1217bff34$var$rs=function(e){var t=e.arr[e.pos++],r=t&$c1f5dfa1217bff34$var$he,n=6,i=(t&$c1f5dfa1217bff34$var$Je)>0?-1:1;if(0==(t&$c1f5dfa1217bff34$var$O))return i*r;for(;;){if(r|=((t=e.arr[e.pos++])&$c1f5dfa1217bff34$var$x)<<n,t<$c1f5dfa1217bff34$var$O)return i*(r>>>0);if((n+=7)>53)throw new Error("Integer out of range!")}},$c1f5dfa1217bff34$var$j=function(e){var t=$c1f5dfa1217bff34$var$v(e);if(0===t)return"";var r=String.fromCodePoint($c1f5dfa1217bff34$var$K(e));if(--t<100)for(;t--;)r+=String.fromCodePoint($c1f5dfa1217bff34$var$K(e));else for(;t>0;){var n=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,r+=String.fromCodePoint.apply(null,i),t-=n}return decodeURIComponent(escape(r))},$c1f5dfa1217bff34$var$me=function(e,t){var r=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,r},$c1f5dfa1217bff34$var$is=function(e){return $c1f5dfa1217bff34$var$me(e,4).getFloat32(0,!1)},$c1f5dfa1217bff34$var$os=function(e){return $c1f5dfa1217bff34$var$me(e,8).getFloat64(0,!1)},$c1f5dfa1217bff34$var$as=function(e){return $c1f5dfa1217bff34$var$me(e,8).getBigInt64(0,!1)},$c1f5dfa1217bff34$var$cs=[function(e){},function(e){return null},$c1f5dfa1217bff34$var$rs,$c1f5dfa1217bff34$var$is,$c1f5dfa1217bff34$var$os,$c1f5dfa1217bff34$var$as,function(e){return!1},function(e){return!0},$c1f5dfa1217bff34$var$j,function(e){for(var t=$c1f5dfa1217bff34$var$v(e),r={},n=0;n<t;n++){r[$c1f5dfa1217bff34$var$j(e)]=$c1f5dfa1217bff34$var$Y(e)}return r},function(e){for(var t=$c1f5dfa1217bff34$var$v(e),r=[],n=0;n<t;n++)r.push($c1f5dfa1217bff34$var$Y(e));return r},$c1f5dfa1217bff34$var$M],$c1f5dfa1217bff34$var$Y=function(e){return $c1f5dfa1217bff34$var$cs[127-$c1f5dfa1217bff34$var$K(e)](e)},$c1f5dfa1217bff34$var$U=Date.now,$c1f5dfa1217bff34$var$ls=function(){return new Set},$c1f5dfa1217bff34$var$hs=Array.from,$c1f5dfa1217bff34$var$ye=function(){"use strict";function e(){(0,$4JAgF.default)(this,e),this._observers=$c1f5dfa1217bff34$var$A()}return(0,$9HoHC.default)(e,[{key:"on",value:function(e,t){$c1f5dfa1217bff34$var$W(this._observers,e,$c1f5dfa1217bff34$var$ls).add(t)}},{key:"once",value:function(e,t){var r=this,n=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.off(e,n),t.apply(void 0,(0,$caN7I.default)(a))};this.on(e,n)}},{key:"off",value:function(e,t){var r=this._observers.get(e);void 0!==r&&(r.delete(t),0===r.size&&this._observers.delete(e))}},{key:"emit",value:function(e,t){return $c1f5dfa1217bff34$var$hs((this._observers.get(e)||$c1f5dfa1217bff34$var$A()).values()).forEach((function(e){return e.apply(void 0,(0,$caN7I.default)(t))}))}},{key:"destroy",value:function(){this._observers=$c1f5dfa1217bff34$var$A()}}]),e}(),$c1f5dfa1217bff34$var$ds=Object.keys,$c1f5dfa1217bff34$var$De=function(e){return $c1f5dfa1217bff34$var$ds(e).length},$c1f5dfa1217bff34$var$us=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},$c1f5dfa1217bff34$var$ps=function(){},$c1f5dfa1217bff34$var$fs=function(e,t){return e===t},$c1f5dfa1217bff34$var$z=function(e,t){if(null==e||null==t)return $c1f5dfa1217bff34$var$fs(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;break;case Set:if(e.size!==t.size)return!1;var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(!t.has(u))return!1}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}break;case Map:if(e.size!==t.size)return!1;var c=!0,l=!1,f=void 0;try{for(var d,h=e.keys()[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=d.value;if(!t.has(v)||!$c1f5dfa1217bff34$var$z(e.get(v),t.get(v)))return!1}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}break;case Object:if($c1f5dfa1217bff34$var$De(e)!==$c1f5dfa1217bff34$var$De(t))return!1;for(var p in e)if(!$c1f5dfa1217bff34$var$us(e,p)||!$c1f5dfa1217bff34$var$z(e[p],t[p]))return!1;break;case Array:if(e.length!==t.length)return!1;for(var b=0;b<e.length;b++)if(!$c1f5dfa1217bff34$var$z(e[b],t[b]))return!1;break;default:return!1}return!0},$c1f5dfa1217bff34$var$re=3e4,$c1f5dfa1217bff34$var$Xe=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this)).doc=e,n.clientID=e.clientID,n.states=new Map,n.meta=new Map,n._checkInterval=setInterval((function(){var e=$c1f5dfa1217bff34$var$U();null!==n.getLocalState()&&$c1f5dfa1217bff34$var$re/2<=e-n.meta.get(n.clientID).lastUpdated&&n.setLocalState(n.getLocalState());var t=[];n.meta.forEach((function(r,i){i!==n.clientID&&$c1f5dfa1217bff34$var$re<=e-r.lastUpdated&&n.states.has(i)&&t.push(i)})),t.length>0&&$c1f5dfa1217bff34$var$be((0,$aPYZr.default)(n),t,"timeout")}),$c1f5dfa1217bff34$var$pe($c1f5dfa1217bff34$var$re/10)),e.on("destroy",(function(){n.destroy()})),n.setLocalState({}),(0,$bw73z.default)(n)}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){this.emit("destroy",[this]),this.setLocalState(null),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this),clearInterval(this._checkInterval)}},{key:"getLocalState",value:function(){return this.states.get(this.clientID)||null}},{key:"setLocalState",value:function(e){var t=this.clientID,r=this.meta.get(t),n=void 0===r?0:r.clock+1,i=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:n,lastUpdated:$c1f5dfa1217bff34$var$U()});var a=[],o=[],s=[],u=[];null===e?u.push(t):null==i?null!=e&&a.push(t):(o.push(t),$c1f5dfa1217bff34$var$z(i,e)||s.push(t)),(a.length>0||s.length>0||u.length>0)&&this.emit("change",[{added:a,updated:s,removed:u},"local"]),this.emit("update",[{added:a,updated:o,removed:u},"local"])}},{key:"setLocalStateField",value:function(e,t){var r=this.getLocalState();null!==r&&this.setLocalState($62fec355e81061c1$export$2e2bcd8739ae039((0,$gUJ6q.default)({},r),(0,$8WkQI.default)({},e,t)))}},{key:"getStates",value:function(){return this.states}}]),r}($c1f5dfa1217bff34$var$ye),$c1f5dfa1217bff34$var$be=function(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=t[i];if(e.states.has(a)){if(e.states.delete(a),a===e.clientID){var o=e.meta.get(a);e.meta.set(a,{clock:o.clock+1,lastUpdated:$c1f5dfa1217bff34$var$U()})}n.push(a)}}n.length>0&&(e.emit("change",[{added:[],updated:[],removed:n},r]),e.emit("update",[{added:[],updated:[],removed:n},r]))},$c1f5dfa1217bff34$var$J=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.states,n=t.length,i=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(i,n);for(var a=0;a<n;a++){var o=t[a],s=r.get(o)||null,u=e.meta.get(o).clock;$c1f5dfa1217bff34$var$p(i,o),$c1f5dfa1217bff34$var$p(i,u),$c1f5dfa1217bff34$var$B(i,JSON.stringify(s))}return $c1f5dfa1217bff34$var$y(i)},$c1f5dfa1217bff34$var$et=function(e,t,r){for(var n=$c1f5dfa1217bff34$var$R(t),i=$c1f5dfa1217bff34$var$U(),a=[],o=[],s=[],u=[],c=$c1f5dfa1217bff34$var$v(n),l=0;l<c;l++){var f=$c1f5dfa1217bff34$var$v(n),d=$c1f5dfa1217bff34$var$v(n),h=JSON.parse($c1f5dfa1217bff34$var$j(n)),v=e.meta.get(f),p=e.states.get(f),b=void 0===v?0:v.clock;(b<d||b===d&&null===h&&e.states.has(f))&&(null===h?f===e.clientID&&null!=e.getLocalState()?d++:e.states.delete(f):e.states.set(f,h),e.meta.set(f,{clock:d,lastUpdated:i}),void 0===v&&null!==h?a.push(f):void 0!==v&&null===h?u.push(f):null!==h&&($c1f5dfa1217bff34$var$z(h,p)||s.push(f),o.push(f)))}(a.length>0||s.length>0||u.length>0)&&e.emit("change",[{added:a,updated:s,removed:u},r]),(a.length>0||o.length>0||u.length>0)&&e.emit("update",[{added:a,updated:o,removed:u},r])},$c1f5dfa1217bff34$var$we=0,$c1f5dfa1217bff34$var$tt=1,$c1f5dfa1217bff34$var$ve=2,$c1f5dfa1217bff34$var$gs=function(e,t){$c1f5dfa1217bff34$var$p(e,$c1f5dfa1217bff34$var$we);var r=$e67e71e96b17d958$export$3e2f5393f32e71f(t);$c1f5dfa1217bff34$var$w(e,r)},$c1f5dfa1217bff34$var$ms=function(e,t,r){$c1f5dfa1217bff34$var$p(e,$c1f5dfa1217bff34$var$tt),$c1f5dfa1217bff34$var$w(e,$e67e71e96b17d958$export$e5848df80e65bd53(t,r))},$c1f5dfa1217bff34$var$ys=function(e,t,r){return $c1f5dfa1217bff34$var$ms(t,r,$c1f5dfa1217bff34$var$M(e))},$c1f5dfa1217bff34$var$st=function(e,t,r){try{$e67e71e96b17d958$export$c271737a9c02e925(t,$c1f5dfa1217bff34$var$M(e),r)}catch(e){console.error("Caught error while handling a Yjs update",e)}},$c1f5dfa1217bff34$var$nt=function(e,t){$c1f5dfa1217bff34$var$p(e,$c1f5dfa1217bff34$var$ve),$c1f5dfa1217bff34$var$w(e,t)},$c1f5dfa1217bff34$var$bs=$c1f5dfa1217bff34$var$st,$c1f5dfa1217bff34$var$rt=function(e,t,r,n){var i=$c1f5dfa1217bff34$var$v(e);switch(i){case $c1f5dfa1217bff34$var$we:$c1f5dfa1217bff34$var$ys(e,t,r);break;case $c1f5dfa1217bff34$var$tt:$c1f5dfa1217bff34$var$st(e,r,n);break;case $c1f5dfa1217bff34$var$ve:$c1f5dfa1217bff34$var$bs(e,r,n);break;default:throw new Error("Unknown message type")}return i},$c1f5dfa1217bff34$var$I=Symbol,$c1f5dfa1217bff34$var$ws=function e(t,r){"use strict";(0,$4JAgF.default)(this,e),this.left=t,this.right=r},$c1f5dfa1217bff34$var$C=function(e,t){return new $c1f5dfa1217bff34$var$ws(e,t)},$c1f5dfa1217bff34$var$D=("undefined"==typeof document?"undefined":(0,$dCPLc.default)(document))<"u"?document:{};("undefined"==typeof DOMParser?"undefined":(0,$dCPLc.default)(DOMParser))<"u"&&new DOMParser;var $c1f5dfa1217bff34$var$vs=function(e){return $c1f5dfa1217bff34$var$At(e,(function(e,t){return"".concat(t,":").concat(e,";")})).join("")},$c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$_obj1;$c1f5dfa1217bff34$var$D.ELEMENT_NODE,$c1f5dfa1217bff34$var$D.TEXT_NODE,$c1f5dfa1217bff34$var$D.CDATA_SECTION_NODE,$c1f5dfa1217bff34$var$D.COMMENT_NODE,$c1f5dfa1217bff34$var$D.DOCUMENT_NODE,$c1f5dfa1217bff34$var$D.DOCUMENT_TYPE_NODE,$c1f5dfa1217bff34$var$D.DOCUMENT_FRAGMENT_NODE;var $c1f5dfa1217bff34$var$_=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$V=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$Ee=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$Z=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$Se=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$it=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$Ce=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$_e=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$$=$c1f5dfa1217bff34$var$I(),$c1f5dfa1217bff34$var$Es=($c1f5dfa1217bff34$var$_obj={},(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$_,$c1f5dfa1217bff34$var$C("font-weight","bold")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$V,$c1f5dfa1217bff34$var$C("font-weight","normal")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$Ee,$c1f5dfa1217bff34$var$C("color","blue")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$Se,$c1f5dfa1217bff34$var$C("color","green")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$Z,$c1f5dfa1217bff34$var$C("color","grey")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$it,$c1f5dfa1217bff34$var$C("color","red")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$Ce,$c1f5dfa1217bff34$var$C("color","purple")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$_e,$c1f5dfa1217bff34$var$C("color","orange")),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj,$c1f5dfa1217bff34$var$$,$c1f5dfa1217bff34$var$C("color","black")),$c1f5dfa1217bff34$var$_obj),$c1f5dfa1217bff34$var$Ss=($c1f5dfa1217bff34$var$_obj1={},(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$_,"[1m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$V,"[2m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$Ee,"[34m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$Se,"[32m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$Z,"[37m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$it,"[31m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$Ce,"[35m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$_e,"[38;5;208m"),(0,$8WkQI.default)($c1f5dfa1217bff34$var$_obj1,$c1f5dfa1217bff34$var$$,"[0m"),$c1f5dfa1217bff34$var$_obj1),$c1f5dfa1217bff34$var$Cs=function(e){for(var t=[],r=[],n=$c1f5dfa1217bff34$var$A(),i=[],a=0;a<e.length;a++){var o=e[a],s=$c1f5dfa1217bff34$var$Es[o];if(void 0!==s)n.set(s.left,s.right);else{if(o.constructor!==String&&o.constructor!==Number)break;var u=$c1f5dfa1217bff34$var$vs(n);a>0||u.length>0?(t.push("%c"+o),r.push(u)):t.push(o)}}for(a>0&&(i=r).unshift(t.join(""));a<e.length;a++){var c=e[a];c instanceof Symbol||i.push(c)}return i},$c1f5dfa1217bff34$var$_s=function(e){for(var t=[],r=[],n=0;n<e.length;n++){var i=e[n],a=$c1f5dfa1217bff34$var$Ss[i];if(void 0!==a)t.push(a);else{if(i.constructor!==String&&i.constructor!==Number)break;t.push(i)}}for(n>0&&(t.push("[0m"),r.push(t.join("")));n<e.length;n++){var o=e[n];o instanceof Symbol||r.push(o)}return r},$c1f5dfa1217bff34$var$Us=$c1f5dfa1217bff34$var$te?$c1f5dfa1217bff34$var$_s:$c1f5dfa1217bff34$var$Cs,$c1f5dfa1217bff34$var$Is=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;(n=console).log.apply(n,(0,$caN7I.default)($c1f5dfa1217bff34$var$Us(t))),$c1f5dfa1217bff34$var$Ts.forEach((function(e){return e.print(t)}))},$c1f5dfa1217bff34$var$Ts=new Set,$c1f5dfa1217bff34$var$Pe=[$c1f5dfa1217bff34$var$Se,$c1f5dfa1217bff34$var$Ce,$c1f5dfa1217bff34$var$_e,$c1f5dfa1217bff34$var$Ee],$c1f5dfa1217bff34$var$ie=0,$c1f5dfa1217bff34$var$Le=$c1f5dfa1217bff34$var$U(),$c1f5dfa1217bff34$var$F=function(e){var t=$c1f5dfa1217bff34$var$Pe[$c1f5dfa1217bff34$var$ie],r=$c1f5dfa1217bff34$var$qe("log"),n=null!==r&&("*"===r||"true"===r||new RegExp(r,"gi").test(e));return $c1f5dfa1217bff34$var$ie=($c1f5dfa1217bff34$var$ie+1)%$c1f5dfa1217bff34$var$Pe.length,e+=": ",n?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=$c1f5dfa1217bff34$var$U(),o=a-$c1f5dfa1217bff34$var$Le;$c1f5dfa1217bff34$var$Le=a,$c1f5dfa1217bff34$var$Is.apply(void 0,[t,e,$c1f5dfa1217bff34$var$$].concat((0,$caN7I.default)(n.map((function(e){return"string"==typeof e||"symbol"==(void 0===e?"undefined":(0,$dCPLc.default)(e))?e:JSON.stringify(e)}))),[t," +"+o+"ms"]))}:$c1f5dfa1217bff34$var$ps},$c1f5dfa1217bff34$var$ot=function(e){return new Error(e)},$c1f5dfa1217bff34$var$Oe=("undefined"==typeof crypto?"undefined":(0,$dCPLc.default)(crypto))>"u"?null:crypto,$c1f5dfa1217bff34$var$Ms=null!==$c1f5dfa1217bff34$var$Oe?function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t);return $c1f5dfa1217bff34$var$Oe.getRandomValues(r),t}:function(e){for(var t=new ArrayBuffer(e),r=new Uint8Array(t),n=0;n<e;n++)r[n]=Math.ceil(4294967295*Math.random()>>>0);return t},$c1f5dfa1217bff34$var$ks=Math.random,$c1f5dfa1217bff34$var$As=function(){return new Uint32Array($c1f5dfa1217bff34$var$Ms(4))[0]},$c1f5dfa1217bff34$var$xs="10000000-1000-4000-8000-100000000000",$c1f5dfa1217bff34$var$Rs=function(){return $c1f5dfa1217bff34$var$xs.replace(/[018]/g,(function(e){return(e^$c1f5dfa1217bff34$var$As()&15>>e/4).toString(16)}))},$c1f5dfa1217bff34$var$Ds=function(e){return Promise.reject(e)},$c1f5dfa1217bff34$var$Ps=function(e,t){var r=$c1f5dfa1217bff34$var$ke(e).buffer,n=$c1f5dfa1217bff34$var$ke(t).buffer;return crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]).then((function(e){return crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:1e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}))},$c1f5dfa1217bff34$var$at=function(){var e=(0,$3mpD3.default)((function(e,t){var r;return(0,$cDTRq.__generator)(this,(function(n){return t?(r=crypto.getRandomValues(new Uint8Array(12)),[2,crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,e).then((function(e){var t=$c1f5dfa1217bff34$var$g();return $c1f5dfa1217bff34$var$B(t,"AES-GCM"),$c1f5dfa1217bff34$var$w(t,r),$c1f5dfa1217bff34$var$w(t,new Uint8Array(e)),$c1f5dfa1217bff34$var$y(t)}))]):[2,e]}))}));return function(t,r){return e.apply(this,arguments)}}(),$c1f5dfa1217bff34$var$Ls=function(e,t){var r=$c1f5dfa1217bff34$var$g();return $c1f5dfa1217bff34$var$q(r,e),$c1f5dfa1217bff34$var$at($c1f5dfa1217bff34$var$y(r),t)},$c1f5dfa1217bff34$var$ct=function(){var e=(0,$3mpD3.default)((function(e,t){var r,n,i;return(0,$cDTRq.__generator)(this,(function(a){return t?(r=$c1f5dfa1217bff34$var$R(e),"AES-GCM"!==$c1f5dfa1217bff34$var$j(r)&&$c1f5dfa1217bff34$var$Ds($c1f5dfa1217bff34$var$ot("Unknown encryption algorithm")),n=$c1f5dfa1217bff34$var$M(r),i=$c1f5dfa1217bff34$var$M(r),[2,crypto.subtle.decrypt({name:"AES-GCM",iv:n},t,i).then((function(e){return new Uint8Array(e)}))]):[2,e]}))}));return function(t,r){return e.apply(this,arguments)}}(),$c1f5dfa1217bff34$var$Os=function(e,t){return $c1f5dfa1217bff34$var$ct(e,t).then((function(e){return $c1f5dfa1217bff34$var$Y($c1f5dfa1217bff34$var$R(new Uint8Array(e)))}))},$c1f5dfa1217bff34$var$Q=new Map,$c1f5dfa1217bff34$var$T=new Map;function $c1f5dfa1217bff34$var$de(e){$c1f5dfa1217bff34$var$Q.forEach((function(t){t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&t.publishSignalingMessage(e,{type:"announce",from:e.peerId}))}))}var $c1f5dfa1217bff34$var$Bs=new Map,$c1f5dfa1217bff34$var$Fs=function(){"use strict";function e(t){var r=this;(0,$4JAgF.default)(this,e),this.room=t,this.onmessage=null,$c1f5dfa1217bff34$var$Rt((function(e){return e.key===t&&null!==r.onmessage&&r.onmessage({data:$c1f5dfa1217bff34$var$Qe(e.newValue||"")})}))}return(0,$9HoHC.default)(e,[{key:"postMessage",value:function(e){$c1f5dfa1217bff34$var$He.setItem(this.room,$c1f5dfa1217bff34$var$Ze($c1f5dfa1217bff34$var$Zt(e)))}}]),e}(),$c1f5dfa1217bff34$var$Ns=("undefined"==typeof BroadcastChannel?"undefined":(0,$dCPLc.default)(BroadcastChannel))>"u"?$c1f5dfa1217bff34$var$Fs:BroadcastChannel,$c1f5dfa1217bff34$var$Ue=function(e){return $c1f5dfa1217bff34$var$W($c1f5dfa1217bff34$var$Bs,e,(function(){var t=new Set,r=new $c1f5dfa1217bff34$var$Ns(e);return r.onmessage=function(e){return t.forEach((function(t){return t(e.data,"broadcastchannel")}))},{bc:r,subs:t}}))},$c1f5dfa1217bff34$var$zs=function(e,t){return $c1f5dfa1217bff34$var$Ue(e).subs.add(t)},$c1f5dfa1217bff34$var$Ws=function(e,t){return $c1f5dfa1217bff34$var$Ue(e).subs.delete(t)},$c1f5dfa1217bff34$var$js=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=$c1f5dfa1217bff34$var$Ue(e);n.bc.postMessage(t),n.subs.forEach((function(e){return e(t,r)}))},$c1f5dfa1217bff34$var$Vs=function(){var e=!0;return function(t,r){if(e){e=!1;try{t()}finally{e=!0}}else void 0!==r&&r()}},$c1f5dfa1217bff34$var$oe=4,$c1f5dfa1217bff34$var$G=5,$c1f5dfa1217bff34$var$$s=$c1f5dfa1217bff34$var$F("y-webrtc"),$c1f5dfa1217bff34$var$Hs=function(){"use strict";function e(t,r,n,i,a){var o=this;(0,$4JAgF.default)(this,e),this.provider=t,this.onCustomMessage=r,this.onPeerConnected=n,this.name=i,this.key=a,this.peerId=$c1f5dfa1217bff34$var$Rs(),this.synced=!1,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=$c1f5dfa1217bff34$var$Vs(),this.bcconnected=!1,this._bcSubscriber=function(e){return $c1f5dfa1217bff34$var$ct(new Uint8Array(e),o.key).then((function(e){return o.mux((function(){o.readMessage(e,(function(e){o.broadcastBcMessage($c1f5dfa1217bff34$var$y(e))}))}))}))},this.readMessage=function(e,t){var r=$c1f5dfa1217bff34$var$R(e),n=$c1f5dfa1217bff34$var$g(),i=function(e){$c1f5dfa1217bff34$var$p(n,$c1f5dfa1217bff34$var$G),$c1f5dfa1217bff34$var$w(n,e),t(n)};switch($c1f5dfa1217bff34$var$v(r)){case $c1f5dfa1217bff34$var$G:o.onCustomMessage($c1f5dfa1217bff34$var$M(r),i);break;case $c1f5dfa1217bff34$var$oe:var a=1===$c1f5dfa1217bff34$var$K(r),s=$c1f5dfa1217bff34$var$j(r);if(s!==o.peerId&&(o.bcConns.has(s)&&!a||!o.bcConns.has(s)&&a)){var u=[],c=[];a?(o.bcConns.add(s),c.push(s),o.onPeerConnected(i)):(o.bcConns.delete(s),u.push(s)),o.provider.emit("peers",[{added:c,removed:u,webrtcPeers:Array.from(o.webrtcConns.keys()),bcPeers:Array.from(o.bcConns)}]),o.broadcastBcPeerId()}break;default:return void console.error("Unable to compute message")}}}return(0,$9HoHC.default)(e,[{key:"broadcastBcPeerId",value:function(){if(this.provider.filterBcConns){var e=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(e,$c1f5dfa1217bff34$var$oe),$c1f5dfa1217bff34$var$xe(e,1),$c1f5dfa1217bff34$var$B(e,this.peerId),this.broadcastBcMessage($c1f5dfa1217bff34$var$y(e))}}},{key:"broadcastWebrtcConn",value:function(e){$c1f5dfa1217bff34$var$$s("broadcast message in ",$c1f5dfa1217bff34$var$_,this.name,$c1f5dfa1217bff34$var$V),this.webrtcConns.forEach((function(t){try{t.peer.send(e)}catch(e){}}))}},{key:"broadcastRoomMessage",value:function(e){var t=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(t,$c1f5dfa1217bff34$var$G),$c1f5dfa1217bff34$var$w(t,e);var r=$c1f5dfa1217bff34$var$y(t);this.bcconnected&&this.broadcastBcMessage(r),this.broadcastWebrtcConn(r)}},{key:"broadcastBcMessage",value:function(e){var t=this;return $c1f5dfa1217bff34$var$at(e,this.key).then((function(e){return t.mux((function(){return $c1f5dfa1217bff34$var$js(t.name,e)}))}))}},{key:"connect",value:function(){$c1f5dfa1217bff34$var$de(this);var e=this.name;$c1f5dfa1217bff34$var$zs(e,this._bcSubscriber),this.bcconnected=!0,this.broadcastBcPeerId()}},{key:"disconnect",value:function(){var e=this;$c1f5dfa1217bff34$var$Q.forEach((function(t){t.connected&&t.send({type:"unsubscribe",topics:[e.name]})}));var t=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(t,$c1f5dfa1217bff34$var$oe),$c1f5dfa1217bff34$var$xe(t,0),$c1f5dfa1217bff34$var$B(t,this.peerId),this.broadcastBcMessage($c1f5dfa1217bff34$var$y(t)),$c1f5dfa1217bff34$var$Ws(this.name,this._bcSubscriber),this.bcconnected=!1,this.webrtcConns.forEach((function(e){return e.destroy()}))}},{key:"destroy",value:function(){this.disconnect()}}]),e}(),$c1f5dfa1217bff34$var$Gs=1200,$c1f5dfa1217bff34$var$qs=2500,$c1f5dfa1217bff34$var$X=3e4,$c1f5dfa1217bff34$var$ue=function(e){if(e.shouldConnect&&null===e.ws){var t=new WebSocket(e.url),r=e.binaryType,n=null;r&&(t.binaryType=r),e.ws=t,e.connecting=!0,e.connected=!1,t.onmessage=function(t){e.lastMessageReceived=$c1f5dfa1217bff34$var$U();var r=t.data,i="string"==typeof r?JSON.parse(r):r;i&&"pong"===i.type&&(clearTimeout(n),n=setTimeout(a,$c1f5dfa1217bff34$var$X/2)),e.emit("message",[i,e])};var i=function(t){null!==e.ws&&(e.ws=null,e.connecting=!1,e.connected?(e.connected=!1,e.emit("disconnect",[{type:"disconnect",error:t},e])):e.unsuccessfulReconnects++,setTimeout($c1f5dfa1217bff34$var$ue,$c1f5dfa1217bff34$var$Ke($c1f5dfa1217bff34$var$Bt(e.unsuccessfulReconnects+1)*$c1f5dfa1217bff34$var$Gs,$c1f5dfa1217bff34$var$qs),e)),clearTimeout(n)},a=function(){e.ws===t&&e.send({type:"ping"})};t.onclose=function(){return i(null)},t.onerror=function(e){return i(e)},t.onopen=function(){e.lastMessageReceived=$c1f5dfa1217bff34$var$U(),e.connecting=!1,e.connected=!0,e.unsuccessfulReconnects=0,e.emit("connect",[{type:"connect"},e]),n=setTimeout(a,$c1f5dfa1217bff34$var$X/2)}}},$c1f5dfa1217bff34$var$Ks=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.binaryType;return(0,$4JAgF.default)(this,r),(n=t.call(this)).url=e,n.ws=null,n.binaryType=a||null,n.connected=!1,n.connecting=!1,n.unsuccessfulReconnects=0,n.lastMessageReceived=0,n.shouldConnect=!0,n._checkInterval=setInterval((function(){n.connected&&$c1f5dfa1217bff34$var$X<$c1f5dfa1217bff34$var$U()-n.lastMessageReceived&&n.ws.close()}),$c1f5dfa1217bff34$var$X/2),$c1f5dfa1217bff34$var$ue((0,$aPYZr.default)(n)),(0,$bw73z.default)(n)}return(0,$9HoHC.default)(r,[{key:"send",value:function(e){this.ws&&this.ws.send(JSON.stringify(e))}},{key:"destroy",value:function(){clearInterval(this._checkInterval),this.disconnect(),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"disconnect",value:function(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}},{key:"connect",value:function(){this.shouldConnect=!0,!this.connected&&null===this.ws&&$c1f5dfa1217bff34$var$ue(this)}}]),r}($c1f5dfa1217bff34$var$ye),$c1f5dfa1217bff34$var$L=$c1f5dfa1217bff34$var$F("y-webrtc"),$c1f5dfa1217bff34$var$Be=function(){"use strict";function e(t,r,n,i){var a=this;(0,$4JAgF.default)(this,e),this.remotePeerId=n,this.room=i,this.closed=!1,this.connected=!1,this.synced=!1,$c1f5dfa1217bff34$var$L("establishing connection to ",$c1f5dfa1217bff34$var$_,n),this.peer=new($parcel$interopDefault($d790dcf15e934ba6$exports))((0,$gUJ6q.default)({initiator:r},i.provider.peerOpts)),this.peer.on("signal",(function(e){t.publishSignalingMessage(i,{to:n,from:i.peerId,type:"signal",signal:e})})),this.peer.on("connect",(function(){$c1f5dfa1217bff34$var$L("connected to ",$c1f5dfa1217bff34$var$_,n),a.connected=!0,i.onPeerConnected((function(e){var t=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(t,$c1f5dfa1217bff34$var$G),$c1f5dfa1217bff34$var$w(t,e),a.sendWebrtcConn(t)}))})),this.peer.on("close",(function(){a.connected=!1,a.closed=!0,i.webrtcConns.has(a.remotePeerId)&&(i.webrtcConns.delete(a.remotePeerId),i.provider.emit("peers",[{removed:[a.remotePeerId],added:[],webrtcPeers:Array.from(i.webrtcConns.keys()),bcPeers:Array.from(i.bcConns)}])),a.peer.destroy(),$c1f5dfa1217bff34$var$L("closed connection to ",$c1f5dfa1217bff34$var$_,n),$c1f5dfa1217bff34$var$de(i)})),this.peer.on("error",(function(e){$c1f5dfa1217bff34$var$L("Error in connection to ",$c1f5dfa1217bff34$var$_,n,": ",e),$c1f5dfa1217bff34$var$de(i)})),this.peer.on("data",(function(e){$c1f5dfa1217bff34$var$L("received message from ",$c1f5dfa1217bff34$var$_,a.remotePeerId,$c1f5dfa1217bff34$var$Z," (",i.name,")",$c1f5dfa1217bff34$var$V,$c1f5dfa1217bff34$var$$),a.room.readMessage(e,(function(e){a.sendWebrtcConn(e)}))}))}return(0,$9HoHC.default)(e,[{key:"sendWebrtcConn",value:function(e){$c1f5dfa1217bff34$var$L("send message to ",$c1f5dfa1217bff34$var$_,this.remotePeerId,$c1f5dfa1217bff34$var$V,$c1f5dfa1217bff34$var$Z," (",this.room.name,")",$c1f5dfa1217bff34$var$$);try{this.peer.send($c1f5dfa1217bff34$var$y(e))}catch(e){}}},{key:"destroy",value:function(){this.peer.destroy()}}]),e}(),$c1f5dfa1217bff34$var$Fe=$c1f5dfa1217bff34$var$F("y-webrtc"),$c1f5dfa1217bff34$var$Ys=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n;return(0,$4JAgF.default)(this,r),(n=t.call(this,e)).providers=new Set,n.publishSignalingMessage=function(e,t){e.key?$c1f5dfa1217bff34$var$Ls(t,e.key).then((function(t){n.send({type:"publish",topic:e.name,data:$c1f5dfa1217bff34$var$Ze(t)})})):n.send({type:"publish",topic:e.name,data:t})},n.on("connect",(function(){$c1f5dfa1217bff34$var$Fe("connected (".concat(e,")"));var t=Array.from($c1f5dfa1217bff34$var$T.keys());n.send({type:"subscribe",topics:t}),$c1f5dfa1217bff34$var$T.forEach((function(e){return n.publishSignalingMessage(e,{type:"announce",from:e.peerId})}))})),n.on("message",(function(e){if("publish"===e.type){var t=e.topic,r=$c1f5dfa1217bff34$var$T.get(t);if(null==r||"string"!=typeof t)return;var i=function(e){var t=r.webrtcConns,i=r.peerId;if(!(null==e||e.from===i||void 0!==e.to&&e.to!==i||r.bcConns.has(e.from))){var a=t.has(e.from)?function(){}:function(){return r.provider.emit("peers",[{removed:[],added:[e.from],webrtcPeers:Array.from(r.webrtcConns.keys()),bcPeers:Array.from(r.bcConns)}])};switch(e.type){case"announce":t.size<r.provider.maxConns&&($c1f5dfa1217bff34$var$W(t,e.from,(function(){return new $c1f5dfa1217bff34$var$Be((0,$aPYZr.default)(n),!0,e.from,r)})),a());break;case"signal":e.to===i&&($c1f5dfa1217bff34$var$W(t,e.from,(function(){return new $c1f5dfa1217bff34$var$Be(n,!1,e.from,r)})).peer.signal(e.signal),a())}}};r.key?"string"==typeof e.data&&$c1f5dfa1217bff34$var$Os($c1f5dfa1217bff34$var$Qe(e.data),r.key).then(i):i(e.data)}})),n.on("disconnect",(function(){return $c1f5dfa1217bff34$var$Fe("disconnect (".concat(e,")"))})),(0,$bw73z.default)(n)}return r}($c1f5dfa1217bff34$var$Ks);$c1f5dfa1217bff34$var$F("y-webrtc");var $c1f5dfa1217bff34$var$Js=function(e,t,r,n,i){if($c1f5dfa1217bff34$var$T.has(n))throw $c1f5dfa1217bff34$var$ot('A Yjs Doc connected to room "'.concat(n,'" already exists!'));var a=new $c1f5dfa1217bff34$var$Hs(e,t,r,n,i);return $c1f5dfa1217bff34$var$T.set(n,a),a},$c1f5dfa1217bff34$var$lt=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.signaling,o=void 0===a?["wss://signaling.yjs.dev","wss://y-webrtc-signaling-eu.herokuapp.com","wss://y-webrtc-signaling-us.herokuapp.com"]:a,s=i.password,u=i.maxConns,c=void 0===u?20+$c1f5dfa1217bff34$var$pe(15*$c1f5dfa1217bff34$var$ks()):u,l=i.filterBcConns,f=void 0===l||l;i.peerOpts;return(0,$4JAgF.default)(this,r),(n=t.call(this)).roomName=e,n.shouldConnect=!1,n.filterBcConns=!0,n.filterBcConns=f,n.shouldConnect=!1,n.signalingUrls=o,n.signalingConns=[],n.maxConns=c,n.peerOpts={iceServers:[]},n.key=s?$c1f5dfa1217bff34$var$Ps(s,e):Promise.resolve(void 0),n.key.then((function(t){n.room=$c1f5dfa1217bff34$var$Js((0,$aPYZr.default)(n),n.onCustomMessage,n.onPeerConnected,e,t),n.shouldConnect?n.room.connect():n.room.disconnect()})),n.connect(),(0,$bw73z.default)(n)}return(0,$9HoHC.default)(r,[{key:"connected",get:function(){return null!==this.room&&this.shouldConnect}},{key:"connect",value:function(){var e=this;this.shouldConnect=!0,this.signalingUrls.forEach((function(t){var r=$c1f5dfa1217bff34$var$W($c1f5dfa1217bff34$var$Q,t,(function(){return new $c1f5dfa1217bff34$var$Ys(t)}));e.signalingConns.push(r),r.providers.add(e)})),this.room&&this.room.connect()}},{key:"disconnect",value:function(){var e=this;this.shouldConnect=!1,this.signalingConns.forEach((function(t){t.providers.delete(e),0===t.providers.size&&(t.destroy(),$c1f5dfa1217bff34$var$Q.delete(t.url))})),this.room&&this.room.disconnect()}},{key:"destroy",value:function(){var e=this;this.key.then((function(){var t;null==(t=e.room)||t.destroy(),$c1f5dfa1217bff34$var$T.delete(e.roomName)})),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}}]),r}($c1f5dfa1217bff34$var$ye),$c1f5dfa1217bff34$var$Ne=$c1f5dfa1217bff34$var$F("y-webrtc"),$c1f5dfa1217bff34$var$ze=0,$c1f5dfa1217bff34$var$ae=1,$c1f5dfa1217bff34$var$Zs=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i,a,o,s){var u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new $c1f5dfa1217bff34$var$Xe(e);(0,$4JAgF.default)(this,r);var l=(0,$aPYZr.default)(u);return(u=t.call(this,n,(0,$gUJ6q.default)({password:i},s))).doc=e,u.roomPassword=i,u.sign=a,u.verify=o,u.awareness=c,u.onCustomMessage=function(e,t){var r=$c1f5dfa1217bff34$var$R(e),n=$c1f5dfa1217bff34$var$g();switch($c1f5dfa1217bff34$var$v(r)){case $c1f5dfa1217bff34$var$ze:var i=$c1f5dfa1217bff34$var$Y(r);u.verify(i).then((function(){var e=$c1f5dfa1217bff34$var$We(i.message),t=$c1f5dfa1217bff34$var$R(e);if($c1f5dfa1217bff34$var$rt(t,n,u.doc,(0,$aPYZr.default)(u))!==$c1f5dfa1217bff34$var$ve)throw $c1f5dfa1217bff34$var$Ne("error: expect only updates"),new Error("error: only update messages expected")}),(function(e){console.error("couldn't verify message")}));break;case $c1f5dfa1217bff34$var$ae:$c1f5dfa1217bff34$var$et(u.awareness,$c1f5dfa1217bff34$var$M(r),(0,$aPYZr.default)(u))}},u.onPeerConnected=function(e){var t=$c1f5dfa1217bff34$var$g(),r=u.awareness.getStates();r.size>0&&($c1f5dfa1217bff34$var$p(t,$c1f5dfa1217bff34$var$ae),$c1f5dfa1217bff34$var$w(t,$c1f5dfa1217bff34$var$J(u.awareness,Array.from(r.keys()))),e($c1f5dfa1217bff34$var$y(t)))},u._docUpdateHandler=function(){var e=(0,$3mpD3.default)((function(e,t){var r,n,i;return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:return l.room?(r=$c1f5dfa1217bff34$var$g(),$c1f5dfa1217bff34$var$p(r,$c1f5dfa1217bff34$var$ze),n=$c1f5dfa1217bff34$var$g(),$c1f5dfa1217bff34$var$nt(n,e),i={message:$c1f5dfa1217bff34$var$le($c1f5dfa1217bff34$var$y(n))},[4,l.sign(i)]):[2];case 1:return t.sent(),$c1f5dfa1217bff34$var$q(r,i),l.room.broadcastRoomMessage($c1f5dfa1217bff34$var$y(r)),[2]}}))}));return function(t,r){return e.apply(this,arguments)}}(),u._awarenessUpdateHandler=function(e,t){var r=e.added,n=e.updated,i=e.removed;if(u.room){var a=r.concat(n).concat(i);$c1f5dfa1217bff34$var$Ne("awareness change ",{added:r,updated:n,removed:i},"local",u.awareness.clientID);var o=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(o,$c1f5dfa1217bff34$var$ae),$c1f5dfa1217bff34$var$w(o,$c1f5dfa1217bff34$var$J(u.awareness,a)),u.room.broadcastRoomMessage($c1f5dfa1217bff34$var$y(o))}},e.on("destroy",u.destroy.bind((0,$aPYZr.default)(u))),u.doc.on("update",u._docUpdateHandler),u.awareness.on("update",u._awarenessUpdateHandler),window.addEventListener("beforeunload",(function(){$c1f5dfa1217bff34$var$be(u.awareness,[e.clientID],"window unload"),$c1f5dfa1217bff34$var$T.forEach((function(e){e.disconnect()}))})),(0,$bw73z.default)(u)}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("destroy",this.destroy),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}}]),r}($c1f5dfa1217bff34$var$lt),$c1f5dfa1217bff34$var$Qs={flushInterval:500,retryIfForbiddenInterval:3e4},$c1f5dfa1217bff34$var$Xs=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,$4JAgF.default)(this,r);var o=(0,$aPYZr.default)(i);return(i=t.call(this)).matrixClient=e,i.translator=n,i.pendingUpdates=[],i.isSendingUpdates=!1,i._canWrite=!0,i._onCanWriteChanged=i._register(new $bef59326251d24bb$export$6cd530ed55e06764.Emitter),i.onCanWriteChanged=i._onCanWriteChanged.event,i._onSentAllEvents=i._register(new $bef59326251d24bb$export$6cd530ed55e06764.Emitter),i.onSentAllEvents=i._onSentAllEvents.event,i.flushUpdatesToMatrix=(0,$3mpD3.default)((function(){var e,t,r,n;return(0,$cDTRq.__generator)(this,(function(i){switch(i.label){case 0:if(o.isSendingUpdates||!o.pendingUpdates.length||!o.roomId)return[2];o.isSendingUpdates=!0,e=$e67e71e96b17d958$export$6319871659fd2460(o.pendingUpdates),o.pendingUpdates=[],t=!1,i.label=1;case 1:return i.trys.push([1,3,10,11]),console.log("Sending updates"),[4,o.translator.sendUpdate(o.matrixClient,o.roomId,e)];case 2:return i.sent(),o.setCanWrite(!0),console.log("sent updates"),[3,11];case 3:if("M_FORBIDDEN"!==(r=i.sent()).errcode)return[3,8];console.warn("not allowed to edit document",r),o.setCanWrite(!1),i.label=4;case 4:return i.trys.push([4,6,,7]),[4,o.matrixClient.joinRoom(o.roomId)];case 5:return i.sent(),console.log("joined room",o.roomId),t=!0,[3,7];case 6:return n=i.sent(),console.warn("failed to join room",n),[3,7];case 7:return[3,9];case 8:console.error("error sending updates",r),i.label=9;case 9:return o.pendingUpdates.unshift(e),[3,11];case 10:return o.isSendingUpdates=!1,[7];case 11:return o.pendingUpdates.length?o.retryTimeoutHandler=setTimeout((function(){o.throttledFlushUpdatesToMatrix()}),t?0:o.canWrite?o.opts.flushInterval:o.opts.retryIfForbiddenInterval):(console.log("_onSentAllEvents"),o._onSentAllEvents.fire()),[2]}}))})),i.opts=(0,$gUJ6q.default)({},$c1f5dfa1217bff34$var$Qs,a),i.throttledFlushUpdatesToMatrix=$azd2b.throttle(i.flushUpdatesToMatrix,i.canWrite?i.opts.flushInterval:i.opts.retryIfForbiddenInterval),(0,$bw73z.default)(i)}return(0,$9HoHC.default)(r,[{key:"setCanWrite",value:function(e){this._canWrite!==e&&(this._canWrite=e,this._onCanWriteChanged.fire())}},{key:"initialize",value:function(e){var t=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(r){return t.roomId=e,t.throttledFlushUpdatesToMatrix(),[2]}))}))()}},{key:"canWrite",get:function(){return this._canWrite}},{key:"writeUpdate",value:function(e){this.pendingUpdates.push(e),this.throttledFlushUpdatesToMatrix()}},{key:"waitForFlush",value:function(){var e=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:return!e.pendingUpdates.length&&!e.isSendingUpdates?[3,2]:[4,$bef59326251d24bb$export$6cd530ed55e06764.Event.toPromise(e.onSentAllEvents)];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))()}},{key:"dispose",value:function(){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"dispose",this).call(this),clearTimeout(this.retryTimeoutHandler),this.throttledFlushUpdatesToMatrix.cancel()}}]),r}($bef59326251d24bb$export$3efdceeb8ca25c51.Disposable);function $c1f5dfa1217bff34$var$en(e,t){return $c1f5dfa1217bff34$var$tn(new DataView(e),new DataView(t))}function $c1f5dfa1217bff34$var$tn(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0}var $c1f5dfa1217bff34$var$N="m.room.message",$c1f5dfa1217bff34$var$sn={updatesAsRegularMessages:!1,updateEventType:"matrix-crdt.doc_update",snapshotEventType:"matrix-crdt.doc_snapshot"},$c1f5dfa1217bff34$var$nn=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,$4JAgF.default)(this,e),this.opts=(0,$gUJ6q.default)({},$c1f5dfa1217bff34$var$sn,t)}return(0,$9HoHC.default)(e,[{key:"sendUpdate",value:function(e,t,r){var n=this;return(0,$3mpD3.default)((function(){var i,a,o;return(0,$cDTRq.__generator)(this,(function(s){switch(s.label){case 0:return i=$c1f5dfa1217bff34$var$le(r),a={update:i},n.opts.updatesAsRegularMessages?(o=(0,$gUJ6q.default)({body:n.opts.updateEventType+": "+i,msgtype:n.opts.updateEventType},a),e.scheduler=void 0,[4,e.sendEvent(t,$c1f5dfa1217bff34$var$N,o,"")]):[3,2];case 1:return s.sent(),[3,4];case 2:return[4,e.sendEvent(t,n.opts.updateEventType,a,"")];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))()}},{key:"sendSnapshot",value:function(e,t,r,n){var i=this;return(0,$3mpD3.default)((function(){var a,o,s;return(0,$cDTRq.__generator)(this,(function(u){switch(u.label){case 0:return a=$c1f5dfa1217bff34$var$le(r),o={update:a,last_event_id:n},i.opts.updatesAsRegularMessages?(s=(0,$gUJ6q.default)({body:i.opts.snapshotEventType+": "+a,msgtype:i.opts.snapshotEventType},o),e.scheduler=void 0,[4,e.sendEvent(t,$c1f5dfa1217bff34$var$N,s,"")]):[3,2];case 1:return u.sent(),[3,4];case 2:return[4,e.sendEvent(t,i.opts.snapshotEventType,o,"")];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()}},{key:"isUpdateEvent",value:function(e){return this.opts.updatesAsRegularMessages?e.type===$c1f5dfa1217bff34$var$N&&e.content.msgtype===this.opts.updateEventType:e.type===this.opts.updateEventType}},{key:"isSnapshotEvent",value:function(e){return this.opts.updatesAsRegularMessages?e.type===$c1f5dfa1217bff34$var$N&&e.content.msgtype===this.opts.snapshotEventType:e.type===this.opts.snapshotEventType}},{key:"WrappedEventType",get:function(){return this.opts.updatesAsRegularMessages?$c1f5dfa1217bff34$var$N:this.opts.updateEventType}}]),e}(),$c1f5dfa1217bff34$var$rn={enableExperimentalWebrtcSync:!1,reader:{},writer:{},translator:{}},$c1f5dfa1217bff34$export$4a73364619633ace=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,$4JAgF.default)(this,r);var u=(0,$aPYZr.default)(o);if((o=t.call(this)).doc=e,o.matrixClient=n,o.room=i,o.awareness=a,o.disposed=!1,o.initializedPromise=new Promise((function(e){o.initializedResolve=e})),o._onDocumentAvailable=o._register(new $bef59326251d24bb$export$6cd530ed55e06764.Emitter),o._onDocumentUnavailable=o._register(new $bef59326251d24bb$export$6cd530ed55e06764.Emitter),o._onReceivedEvents=o._register(new $bef59326251d24bb$export$6cd530ed55e06764.Emitter),o.onDocumentAvailable=o._onDocumentAvailable.event,o.onReceivedEvents=o._onReceivedEvents.event,o.onDocumentUnavailable=o._onDocumentUnavailable.event,o.totalEventsReceived=0,o.documentUpdateListener=function(){var e=(0,$3mpD3.default)((function(e,t){return(0,$cDTRq.__generator)(this,(function(r){return t===u||u.webrtcProvider&&t===u.webrtcProvider||null!=t&&t.provider||u.throttledWriter.writeUpdate(e),[2]}))}));return function(t,r){return e.apply(this,arguments)}}(),o.processIncomingEvents=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e.filter((function(e){return!(!o.translator.isUpdateEvent(e)&&!o.translator.isSnapshotEvent(e))})),o.totalEventsReceived+=e.length;var r=e.map((function(e){return new Uint8Array($c1f5dfa1217bff34$var$We(e.content.update))})),n=$e67e71e96b17d958$export$6319871659fd2460(r);if(!r.length)return n;if($e67e71e96b17d958$export$c271737a9c02e925(o.doc,n,(0,$aPYZr.default)(o)),t){var i=e[e.length-1],a=$e67e71e96b17d958$export$e5848df80e65bd53(o.doc);o.translator.sendSnapshot(o.matrixClient,o._roomId,a,i.event_id).catch((function(e){console.error("failed to send snapshot")}))}return e.filter((function(e){return e.user_id!==o.matrixClient.credentials.userId})).length&&o._onReceivedEvents.fire(),n},a&&!s.enableExperimentalWebrtcSync)throw new Error("awareness is only supported when using enableExperimentalWebrtcSync=true");return o.opts=(0,$gUJ6q.default)({},$c1f5dfa1217bff34$var$rn,s),o.translator=new $c1f5dfa1217bff34$var$nn(o.opts.translator),o.throttledWriter=new $c1f5dfa1217bff34$var$Xs(o.matrixClient,o.translator,o.opts.writer),e.on("update",o.documentUpdateListener),(0,$bw73z.default)(o)}return(0,$9HoHC.default)(r,[{key:"onCanWriteChanged",get:function(){return this.throttledWriter.onCanWriteChanged}},{key:"canWrite",get:function(){return this.throttledWriter.canWrite}},{key:"roomId",get:function(){return this._roomId}},{key:"matrixReader",get:function(){return this.reader}},{key:"initializeWebrtc",value:function(){var e=this;return(0,$3mpD3.default)((function(){var t;return(0,$cDTRq.__generator)(this,(function(r){switch(r.label){case 0:if(!e._roomId)throw new Error("not initialized");if(!e.reader)throw new Error("needs reader to initialize webrtc");return[4,(t=e._register(new $c1f5dfa1217bff34$export$eeca8ad81c23230c(e.matrixClient,e.reader))).initialize()];case 1:return r.sent(),e.webrtcProvider=new $c1f5dfa1217bff34$var$Zs(e.doc,e._roomId,e._roomId,function(){var t=(0,$3mpD3.default)((function(t){return(0,$cDTRq.__generator)(this,(function(r){switch(r.label){case 0:return[4,$c1f5dfa1217bff34$var$yt(e.matrixClient,t)];case 1:return r.sent(),[2]}}))}));return function(e){return t.apply(this,arguments)}}(),function(){var r=(0,$3mpD3.default)((function(r){return(0,$cDTRq.__generator)(this,(function(n){switch(n.label){case 0:return[4,$c1f5dfa1217bff34$var$bt(e.matrixClient,t,r,e.translator.WrappedEventType)];case 1:return n.sent(),[2]}}))}));return function(e){return r.apply(this,arguments)}}(),void 0,e.awareness),[2]}}))}))()}},{key:"initializeNoCatch",value:function(){var e=this;return(0,$3mpD3.default)((function(){var t,r,n,i,a,o,s,u,c,l,f,d;return(0,$cDTRq.__generator)(this,(function(h){switch(h.label){case 0:t="id"===e.room.type?e.room.id:e.room.alias,h.label=1;case 1:return h.trys.push([1,6,,7]),"id"!==e.room.type?[3,2]:(e._roomId=e.room.id,[3,4]);case 2:return"alias"!==e.room.type?[3,4]:[4,e.matrixClient.getRoomIdForAlias(e.room.alias)];case 3:r=h.sent(),e._roomId=r.room_id,h.label=4;case 4:if(!e._roomId)throw new Error("error receiving room id");return console.log("room resolved",e._roomId),[4,e.throttledWriter.initialize(e._roomId)];case 5:return h.sent(),[3,7];case 6:return n=h.sent(),i=5e3,"M_NOT_FOUND"===n.errcode?(console.log("room not found",t),e._onDocumentUnavailable.fire()):"ConnectionError"===n.name?console.log("room not found (offline)",t):(console.error("error retrieving room",t,n),i=3e4,e._onDocumentUnavailable.fire()),e.initializeTimeoutHandler=setTimeout((function(){e.initialize()}),i),[2];case 7:return a=$e67e71e96b17d958$export$e5848df80e65bd53(e.doc),o=$e67e71e96b17d958$export$5c451fd8502b011f(a),s=$e67e71e96b17d958$export$bf60b51d6c283426(a,o),u=$e67e71e96b17d958$export$b8801ea43165ed7d(e.doc),[4,e.initializeReader()];case 8:return c=h.sent(),e._onDocumentAvailable.fire(),l=$e67e71e96b17d958$export$5c451fd8502b011f(c),f=$e67e71e96b17d958$export$bf60b51d6c283426(a,l),$c1f5dfa1217bff34$var$en(s.buffer,f.buffer)&&(d=new $e67e71e96b17d958$export$bceacc74c2212615,$e67e71e96b17d958$export$c271737a9c02e925(d,c),$c1f5dfa1217bff34$var$on($e67e71e96b17d958$export$b8801ea43165ed7d(d),u))?(e.initializedResolve(),[2]):(f.length>2&&e.throttledWriter.writeUpdate(f),e.initializedResolve(),[2])}}))}))()}},{key:"initializeReader",value:function(){var e=this;return(0,$3mpD3.default)((function(){var t;return(0,$cDTRq.__generator)(this,(function(r){switch(r.label){case 0:if(e.reader)throw new Error("already initialized reader");if(!e._roomId)throw new Error("no roomId");return e.reader=e._register(new $c1f5dfa1217bff34$var$St(e.matrixClient,e._roomId,e.translator,e.opts.reader)),e._register(e.reader.onEvents((function(t){return e.processIncomingEvents(t.events,t.shouldSendSnapshot)}))),[4,e.reader.getInitialDocumentUpdateEvents()];case 1:return t=r.sent(),[2,(e.reader.startPolling(),e.processIncomingEvents(t))]}}))}))()}},{key:"waitForFlush",value:function(){var e=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.initializedPromise];case 1:return t.sent(),[4,e.throttledWriter.waitForFlush()];case 2:return t.sent(),[2]}}))}))()}},{key:"initialize",value:function(){var e=this;return(0,$3mpD3.default)((function(){var t;return(0,$cDTRq.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,e.initializeNoCatch()];case 1:return r.sent(),[4,e.initializedPromise];case 2:return r.sent(),!e.disposed&&e.opts.enableExperimentalWebrtcSync?[4,e.initializeWebrtc()]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:throw t=r.sent(),console.error(t),t;case 6:return[2]}}))}))()}},{key:"dispose",value:function(){var e,t;(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"dispose",this).call(this),this.disposed=!0,null==(e=this.webrtcProvider)||e.destroy(),null==(t=this.reader)||t.dispose(),clearTimeout(this.initializeTimeoutHandler),this.doc.off("update",this.documentUpdateListener)}}]),r}($bef59326251d24bb$export$3efdceeb8ca25c51.Disposable);function $c1f5dfa1217bff34$var$on(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=t.ds.clients.entries()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=(0,$dVhHy.default)(a.value,2),u=s[0],c=s[1],l=e.ds.clients.get(u)||[];if(c.length>l.length)return!1;for(var f=0;f<c.length;f++){var d=c[f],h=l[f];if(d.clock!==h.clock||d.len!==h.len)return!1}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0}function $c1f5dfa1217bff34$export$749aa32e39aa5711(e,t,r){return $c1f5dfa1217bff34$var$_pn.apply(this,arguments)}function $c1f5dfa1217bff34$var$_pn(){return($c1f5dfa1217bff34$var$_pn=(0,$3mpD3.default)((function(e,t,r){var n,i;return(0,$cDTRq.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),(n=[]).push({type:"m.room.guest_access",state_key:"",content:{guest_access:"forbidden"}}),n.push({type:"m.room.join_rules",content:{join_rule:"public-read-write"===r?"public":"invite"}}),n.push({type:"m.room.history_visibility",content:{history_visibility:"world_readable"}}),[4,e.createRoom({room_alias_name:t,visibility:"public",name:t,topic:"",initial_state:n})];case 1:return[2,{status:"ok",roomId:a.sent().room_id}];case 2:return[2,"M_ROOM_IN_USE"===(i=a.sent()).errcode?"already-exists":"ConnectionError"===i.name?"offline":{status:"error",error:i}];case 3:return[2]}}))}))).apply(this,arguments)}function $c1f5dfa1217bff34$export$52870e8d66f747cd(e,t){return $c1f5dfa1217bff34$var$_fn.apply(this,arguments)}function $c1f5dfa1217bff34$var$_fn(){return($c1f5dfa1217bff34$var$_fn=(0,$3mpD3.default)((function(e,t){var r;return(0,$cDTRq.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.getStateEvent(t,"m.room.join_rules")];case 1:return r=n.sent(),[3,3];case 2:return[2,{status:"error",error:n.sent()}];case 3:if("public"===r.join_rule)return[2,"public-read-write"];if("invite"===r.join_rule)return[2,"public-read"];throw new Error("unsupported join_rule")}}))}))).apply(this,arguments)}function $c1f5dfa1217bff34$export$d199bece984e2f7e(e,t,r){return $c1f5dfa1217bff34$var$_gn.apply(this,arguments)}function $c1f5dfa1217bff34$var$_gn(){return($c1f5dfa1217bff34$var$_gn=(0,$3mpD3.default)((function(e,t,r){var n;return(0,$cDTRq.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.sendStateEvent(t,"m.room.join_rules",{join_rule:"public-read-write"===r?"public":"invite"},"")];case 1:return[2,(i.sent(),{status:"ok",roomId:t})];case 2:return[2,"ConnectionError"===(n=i.sent()).name?"offline":{status:"error",error:n}];case 3:return[2]}}))}))).apply(this,arguments)}var $c1f5dfa1217bff34$var$an=$c1f5dfa1217bff34$var$F("y-webrtc"),$c1f5dfa1217bff34$export$70790f6f28b13205=0,$c1f5dfa1217bff34$export$83b62f7afdd0e333=3,$c1f5dfa1217bff34$export$790bca08a5d3ef2c=1,$c1f5dfa1217bff34$export$1fa129fd2f5ff860=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new $c1f5dfa1217bff34$var$Xe(n);return(0,$4JAgF.default)(this,r),(a=t.call(this,e,i)).doc=n,a.awareness=o,a.onCustomMessage=function(e,t){var r=$c1f5dfa1217bff34$var$R(e),n=$c1f5dfa1217bff34$var$g();switch($c1f5dfa1217bff34$var$v(r)){case $c1f5dfa1217bff34$export$70790f6f28b13205:$c1f5dfa1217bff34$var$p(n,$c1f5dfa1217bff34$export$70790f6f28b13205),$c1f5dfa1217bff34$var$rt(r,n,a.doc,(0,$aPYZr.default)(a))===$c1f5dfa1217bff34$var$we&&t($c1f5dfa1217bff34$var$y(n));break;case $c1f5dfa1217bff34$export$790bca08a5d3ef2c:$c1f5dfa1217bff34$var$et(a.awareness,$c1f5dfa1217bff34$var$M(r),(0,$aPYZr.default)(a))}},a.onPeerConnected=function(e){var t=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(t,$c1f5dfa1217bff34$export$70790f6f28b13205),$c1f5dfa1217bff34$var$gs(t,a.doc),e($c1f5dfa1217bff34$var$y(t));var r=$c1f5dfa1217bff34$var$g(),n=a.awareness.getStates();n.size>0&&($c1f5dfa1217bff34$var$p(r,$c1f5dfa1217bff34$export$790bca08a5d3ef2c),$c1f5dfa1217bff34$var$w(r,$c1f5dfa1217bff34$var$J(a.awareness,Array.from(n.keys()))),e($c1f5dfa1217bff34$var$y(r)))},a._docUpdateHandler=function(e,t){if(a.room){var r=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(r,$c1f5dfa1217bff34$export$70790f6f28b13205),$c1f5dfa1217bff34$var$nt(r,e),a.room.broadcastRoomMessage($c1f5dfa1217bff34$var$y(r))}},a._awarenessUpdateHandler=function(e,t){var r=e.added,n=e.updated,i=e.removed;if(a.room){var o=r.concat(n).concat(i);$c1f5dfa1217bff34$var$an("awareness change ",{added:r,updated:n,removed:i},"local",a.awareness.clientID);var s=$c1f5dfa1217bff34$var$g();$c1f5dfa1217bff34$var$p(s,$c1f5dfa1217bff34$export$790bca08a5d3ef2c),$c1f5dfa1217bff34$var$w(s,$c1f5dfa1217bff34$var$J(a.awareness,o)),a.room.broadcastRoomMessage($c1f5dfa1217bff34$var$y(s))}},n.on("destroy",a.destroy.bind((0,$aPYZr.default)(a))),a.doc.on("update",a._docUpdateHandler),a.awareness.on("update",a._awarenessUpdateHandler),window.addEventListener("beforeunload",(function(){$c1f5dfa1217bff34$var$be(a.awareness,[n.clientID],"window unload"),$c1f5dfa1217bff34$var$T.forEach((function(e){e.disconnect()}))})),(0,$bw73z.default)(a)}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("destroy",this.destroy),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}}]),r}($c1f5dfa1217bff34$var$lt),$46e438ec40bdfe7c$export$2ae15352e0a80063=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(e,n){return(0,$4JAgF.default)(this,r),t.call(this,e,n,!1)}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){this.client,(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"connect",value:function(e){(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"connect",this).call(this,e),this.config=e.config,window.matrixcs?this.init(!0):this.load(["https://cdn.jsdelivr.net/npm/matrix-js-sdk@23.1.1/lib/browser-index.min.js"],this)}},{key:"init",value:function(e,t){var r=this.uniqueID();if(e&&window.matrixcs&&r)try{this.client=window.matrixcs.createClient(this.config);try{this.client.canSupportVoip=!1,this.client.clientOpts={lazyLoadMembers:!0}}catch(e){console.warn("Matrix set protected params failed:",e.message)}this.provider=new $c1f5dfa1217bff34$export$4a73364619633ace(this.db.doc,this.client,{type:"alias",alias:r}),this.provider.initialize();var n=this;this.db.doc.on("update",(function(e,t){"exit"===t?n.destroy():n.update()})),this.sendConnect()}catch(e){this.sendDisconnectError("Could not connect to Matrix: "+e.message)}else this.sendDisconnectError("Could not load Matrix browser lib. "+t)}},{key:"broadcast",value:function(e){}}]),r}($7cb3224c301266d7$export$2ae15352e0a80063),$aPYZr=parcelRequire("aPYZr"),$3mpD3=parcelRequire("3mpD3"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$8rJSp=parcelRequire("8rJSp"),$cDTRq=parcelRequire("cDTRq"),$5rPeW=parcelRequire("5rPeW"),$103b8827a475dc01$export$2ae15352e0a80063=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),e=t.apply(this,arguments),(0,$8WkQI.default)((0,$aPYZr.default)(e),"channel",""),e}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){this.pubnub&&(this.pubnub.unsubscribeAll(),this.pubnub.stop()),(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"connect",value:function(e){var t=this,n=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(i){return(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"connect",t).call(n,e),n.publishKey=e.config.publishKey,n.subscribeKey=e.config.subscribeKey,window.PubNub?n.init(!0):n.load(["//cdn.pubnub.com/sdk/javascript/pubnub.4.33.1.min.js"],n),[2]}))}))()}},{key:"init",value:function(e,t){if(!this.publishKey||!this.subscribeKey)return this.sendDisconnectError("You have to provide a valid pair of keys");var r=this.uniqueID();if(e&&window.PubNub&&r){this.channel=btoa(r),this.pubnub=new PubNub({publishKey:this.publishKey,subscribeKey:this.subscribeKey,uuid:this.token,heartbeatInterval:30,cipherKey:this.password}),this.pubnub.subscribe({channels:[this.channel],withPresence:!0,restore:!1});var n=this;this.pubnub.addListener({status:function(e){$5rPeW.default.info("PUBNUB status:",e),"PNConnectedCategory"===e.category?n.sendConnect():"PNBadRequestCategory"===e.category&&n.sendDisconnectError(e.errorData.message)},message:function(e){e.publisher!==n.token&&n.applyUpdate($4df269dbc5e07ac4$export$2f872c0f2117be69(e.message))},presence:function(e){if("leave"===e.action)n.db.removePeer(e.uuid)}})}}},{key:"broadcast",value:function(e){this.pubnub&&this.pubnub.publish({channel:this.channel,message:$4df269dbc5e07ac4$export$c564cdbbe6da493(e),storeInHistory:!1},(function(e,t){}))}}]),r}($7cb3224c301266d7$export$2ae15352e0a80063),$aPYZr=parcelRequire("aPYZr"),$3mpD3=parcelRequire("3mpD3"),$4JAgF=parcelRequire("4JAgF"),$9HoHC=parcelRequire("9HoHC"),$8WkQI=parcelRequire("8WkQI"),$aPvD2=parcelRequire("aPvD2"),$aBvOn=parcelRequire("aBvOn"),$gNsil=parcelRequire("gNsil"),$dVhHy=parcelRequire("dVhHy"),$8rJSp=parcelRequire("8rJSp"),$cDTRq=parcelRequire("cDTRq"),$b61ad89dfbd86dc3$export$8ac8b6291b7ccf24={url:"https://cdn.jsdelivr.net/npm/simple-crypto-js@2.5.0/dist/SimpleCrypto.min.js",crypt:null,check:function(){return!!window.SimpleCrypto},init:function(e){try{"string"==typeof e&&e.length>0?this.crypt=new SimpleCrypto(e):this.crypt=null}catch(e){console.warn("cypher: ",e),this.crypt=null}},encode:function(e){return this.cypher?this.cypher.encrypt(btoa(encodeURIComponent(JSON.stringify(e)))):JSON.stringify(e)},decode:function(e){return this.cypher?JSON.parse(decodeURIComponent(atob(this.cypher.decrypt(e)))):JSON.parse(e)}},$a7e6e9bffcbc7782$export$2ae15352e0a80063=function(e){"use strict";(0,$gNsil.default)(r,e);var t=(0,$8rJSp.default)(r);function r(){var e;return(0,$4JAgF.default)(this,r),e=t.apply(this,arguments),(0,$8WkQI.default)((0,$aPYZr.default)(e),"store",""),(0,$8WkQI.default)((0,$aPYZr.default)(e),"gunServer",[]),e}return(0,$9HoHC.default)(r,[{key:"destroy",value:function(){this.gunServer=[],delete this.gun,(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"destroy",this).call(this)}},{key:"connect",value:function(e){var t=this,n=this;return(0,$3mpD3.default)((function(){return(0,$cDTRq.__generator)(this,(function(i){return(0,$aPvD2.default)((0,$aBvOn.default)(r.prototype),"connect",t).call(n,e),n.gunServer=e.config,window.Gun?n.init(!0):n.load(["https://cdn.jsdelivr.net/npm/gun/gun.js",$b61ad89dfbd86dc3$export$8ac8b6291b7ccf24.url],n),[2]}))}))()}},{key:"init",value:function(e,t){if(0==this.gunServer.length)return this.sendDisconnectError("You have to provide at least one relay server.");var r=this.uniqueID();if(e&&window.Gun&&r){this.gun=window.Gun({peers:this.gunServer}),this.store=btoa(r),$b61ad89dfbd86dc3$export$8ac8b6291b7ccf24.init(this.password);var n=this;this.gun.get(this.store).on((function(e,t){try{var r=(0,$dVhHy.default)($b61ad89dfbd86dc3$export$8ac8b6291b7ccf24.decode(e.msg),2),i=r[0],a=r[1];i!=n.token&&null!=a&&n.applyUpdate($4df269dbc5e07ac4$export$2f872c0f2117be69(a))}catch(e){console.warn("GunDB",e.message)}})),this.broadcast(null),this.sendConnect()}else console.warn("Could not load resource:",t)}},{key:"broadcast",value:function(e){if(this.gun){var t=null==e?null:$4df269dbc5e07ac4$export$c564cdbbe6da493(e);this.gun.get(this.store).put({msg:$b61ad89dfbd86dc3$export$8ac8b6291b7ccf24.encode([this.token,t])})}}}]),r}($7cb3224c301266d7$export$2ae15352e0a80063),$5rPeW=parcelRequire("5rPeW"),$f74ebfb4f714e200$var$sync,$f74ebfb4f714e200$var$elmSend,$f74ebfb4f714e200$var$Service={PORT:"sync",supported:[$dd80f29fc9b5b255$export$48c17662a6902497()?"beaker":"","edrys","gun","jitsi","matrix","pubnub"],init:function(e){$f74ebfb4f714e200$var$elmSend=e},handle:function(e){switch(e.message.cmd){case"connect":if($f74ebfb4f714e200$var$sync&&($f74ebfb4f714e200$var$sync=void 0),$f74ebfb4f714e200$var$elmSend){var t=(0,$gUJ6q.default)({},e),r=function(e,r){t.message.cmd=e,t.message.param=r,t.reply=!0,$f74ebfb4f714e200$var$elmSend&&$f74ebfb4f714e200$var$elmSend(t)};switch(e.message.param.backend){case"beaker":$f74ebfb4f714e200$var$sync=new $dd80f29fc9b5b255$export$2ae15352e0a80063(r,$f74ebfb4f714e200$var$elmSend);break;case"edrys":$f74ebfb4f714e200$var$sync=new $bbe587cb0ae59b92$export$2ae15352e0a80063(r,$f74ebfb4f714e200$var$elmSend);break;case"gun":$f74ebfb4f714e200$var$sync=new $a7e6e9bffcbc7782$export$2ae15352e0a80063(r,$f74ebfb4f714e200$var$elmSend);break;case"jitsi":$f74ebfb4f714e200$var$sync=new $ebfca572bd7fb011$export$2ae15352e0a80063(r,$f74ebfb4f714e200$var$elmSend);break;case"matrix":$f74ebfb4f714e200$var$sync=new $46e438ec40bdfe7c$export$2ae15352e0a80063(r,$f74ebfb4f714e200$var$elmSend);break;case"pubnub":$f74ebfb4f714e200$var$sync=new $103b8827a475dc01$export$2ae15352e0a80063(r,$f74ebfb4f714e200$var$elmSend);break;default:$5rPeW.default.error("could not load =>",e.message)}}$f74ebfb4f714e200$var$sync&&$f74ebfb4f714e200$var$sync.connect(e.message.param.config);break;case"disconnect":$f74ebfb4f714e200$var$sync&&($f74ebfb4f714e200$var$sync.disconnect(),$f74ebfb4f714e200$var$sync=null);break;default:$f74ebfb4f714e200$var$sync&&$f74ebfb4f714e200$var$sync.publish(e)}}},$f74ebfb4f714e200$export$2e2bcd8739ae039=$f74ebfb4f714e200$var$Service,$5rPeW=parcelRequire("5rPeW"),$50bb37630b0836f6$var$googleTranslate=!1;function $50bb37630b0836f6$var$changeGoogleStyles(){var e=document.getElementById(":1.container");e&&(e.style.visibility="hidden",document.body.style.top="")}function $50bb37630b0836f6$var$googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:document.documentElement.lang,autoDisplay:!1},"google_translate_element")}function $50bb37630b0836f6$var$injectGoogleTranslate(){$50bb37630b0836f6$var$googleTranslate||($d3683f1f6d118d2a$export$2cb99e4be0dc4646("https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"),window.googleTranslateElementInit=$50bb37630b0836f6$var$googleTranslateElementInit,$50bb37630b0836f6$var$googleTranslate=!0)}var $50bb37630b0836f6$var$Port="translate",$50bb37630b0836f6$var$Service={PORT:$50bb37630b0836f6$var$Port,init:function(e){new MutationObserver((function(t){t.forEach((function(t){$50bb37630b0836f6$var$changeGoogleStyles(),e({reply:!0,track:[],service:$50bb37630b0836f6$var$Port,message:{cmd:"lang",param:document.documentElement.lang}})}))})).observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,attributeFilter:["lang"]})},handle:function(e){if("google"===e.message.cmd)$50bb37630b0836f6$var$injectGoogleTranslate();else $5rPeW.default.warn("(Service Translate) unknown message =>",e.message)}},$50bb37630b0836f6$export$2e2bcd8739ae039=$50bb37630b0836f6$var$Service;function $b21f539d48cc9d98$export$840d54e322e9aa10(){window.LIA||(window.LIA={}),window.LIA.version||(window.LIA.version="0.10.26"),window.LIA.eventSemaphore||(window.LIA.eventSemaphore=0),window.LIA.img||(window.LIA.img=$b21f539d48cc9d98$var$img),null==window.LIA.focusOnMain&&(window.LIA.focusOnMain=!0),null==window.LIA.scrollUpOnMain&&(window.LIA.scrollUpOnMain=!0),void 0===window.LIA.debug&&(window.LIA.debug=!1),void 0===window.LIA.onReady&&(window.LIA.onReady=function(e){parent&&parent.postMessage({cmd:"lia-ready",param:e},"*")}),$b21f539d48cc9d98$var$init("send"),$b21f539d48cc9d98$var$init("playback"),$b21f539d48cc9d98$var$init("showFootnote"),$b21f539d48cc9d98$var$init("goto"),$b21f539d48cc9d98$var$init("gotoNext"),$b21f539d48cc9d98$var$init("gotoPrevious"),$b21f539d48cc9d98$var$init("gotoLine"),$b21f539d48cc9d98$var$init("lineGoto"),$b21f539d48cc9d98$var$init("injectResposivevoice")}function $b21f539d48cc9d98$var$init(e){window.LIA[e]||(window.LIA[e]=function(t){return $b21f539d48cc9d98$var$notDefined(e)})}function $b21f539d48cc9d98$var$notDefined(e){console.log("LIA."+e+" not defined")}parcelRequire("l57ul");var $b21f539d48cc9d98$var$img={load:function(e,t,r){$b21f539d48cc9d98$var$notDefined("img.load")},click:function(e){$b21f539d48cc9d98$var$notDefined("img.click")},zoom:function(e){var t=e.target;if(t){var r=e.currentTarget;if(r)if(t.width<t.naturalWidth){var n=e instanceof MouseEvent?e.offsetX:e.touches[0].pageX,i=e instanceof MouseEvent?e.offsetY:e.touches[0].pageY,a=n/r.offsetWidth*100,o=i/r.offsetHeight*100;r.style.backgroundPosition=a+"% "+o+"%",r.style.cursor="zoom-in"}else r.style.cursor=""}}};$b21f539d48cc9d98$export$840d54e322e9aa10(),window.LIA.injectResposivevoice=$5438ec9bf7654126$export$a976684a0efeb93f;var $86633eebdcd022f3$export$ed35f0402f515308=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,$4JAgF.default)(this,e),window.LIA.debug=n,this.app=$308c98e140179bd1$exports.Elm.Main.init({flags:{courseUrl:window.LIA.defaultCourseURL||i,script:a,settings:t.getSettings(),screen:{width:window.innerWidth,height:window.innerHeight},hasShareAPI:$9b24e28e683d624f$export$2e2bcd8739ae039.isSupported(),hasIndex:t.hasIndex(),sync:{support:$f74ebfb4f714e200$export$2e2bcd8739ae039.supported,enabled:r}}});var o=this.app.ports.event2elm.send,s=function(e){e.reply&&(window.LIA.debug&&$5rPeW.default.info("LIA <<< (".concat(e.track,") :"),e.message),o(e))};window.LIA.send=s,this.connector=t,this.initEventSystem(document.body,this.app.ports.event2js.subscribe,s);var u=this;window.LIA.img.load=function(e,t,r){u.app.ports.media.send([e,t,r])},window.LIA.img.click=function(e){0===document.getElementsByClassName("lia-modal").length&&u.app.ports.media.send([e,null,null])},window.LIA.showFootnote=function(e){u.app.ports.footnote.send(e)},window.LIA.goto=function(e){s({reply:!0,track:[["goto",-1]],service:"",message:{cmd:"goto",param:e}})},window.LIA.gotoNext=function(){s({reply:!0,track:[["goto",-1]],service:"",message:{cmd:"next",param:null}})},window.LIA.gotoPrevious=function(){s({reply:!0,track:[["goto",-1]],service:"",message:{cmd:"prev",param:null}})},$bIpgX.initTooltip()}return(0,$9HoHC.default)(e,[{key:"reset",value:function(){this.app.ports.event2elm.send({track:[{topic:"reset",id:null}],message:null})}},{key:"initEventSystem",value:function(e,t,r){$5rPeW.default.info("initEventSystem"),$05cc80557492520c$export$2e2bcd8739ae039.init(r,this.connector),$5438ec9bf7654126$export$8b2af884909d32a5.init(r),$2h8PU.default.init(r),$f01b3d6dc72493a6$export$2e2bcd8739ae039.init(e,r),$50bb37630b0836f6$export$2e2bcd8739ae039.init(r),$f74ebfb4f714e200$export$2e2bcd8739ae039.init(r);var n=this.connector;t((function(e){switch(window.LIA.debug&&$5rPeW.default.info("LIA >>> (".concat(JSON.stringify(e.track),")"),e.service,e.message),e.service){case $05cc80557492520c$export$2e2bcd8739ae039.PORT:$05cc80557492520c$export$2e2bcd8739ae039.handle(e);break;case $8760448a87d08947$export$2e2bcd8739ae039.PORT:e.message.param.slide&&n.slide(e.message.param.slide),$8760448a87d08947$export$2e2bcd8739ae039.handle(e);break;case $5438ec9bf7654126$export$8b2af884909d32a5.PORT:$5438ec9bf7654126$export$8b2af884909d32a5.handle(e);break;case $2h8PU.default.PORT:$2h8PU.default.handle(e);break;case $2e736b5ac4df0287$export$2e2bcd8739ae039.PORT:$2e736b5ac4df0287$export$2e2bcd8739ae039.handle(e);break;case $f74ebfb4f714e200$export$2e2bcd8739ae039.PORT:$f74ebfb4f714e200$export$2e2bcd8739ae039.handle(e);break;case $9b24e28e683d624f$export$2e2bcd8739ae039.PORT:$9b24e28e683d624f$export$2e2bcd8739ae039.handle(e);break;case $d3683f1f6d118d2a$export$8b2af884909d32a5.PORT:$d3683f1f6d118d2a$export$8b2af884909d32a5.handle(e);break;case $50bb37630b0836f6$export$2e2bcd8739ae039.PORT:$50bb37630b0836f6$export$2e2bcd8739ae039.handle(e);break;default:console.warn("Unknown Service => ",e)}}))}}]),e}();parcelRequire("fbBEx").then((function(e){var t=window.navigator.userAgent;if(t.indexOf("Trident/")>0||t.indexOf("MSIE ")>0){console.warn("unsupported browser");var r=document.getElementById("IE-message");r&&(r.hidden=!1)}else new $86633eebdcd022f3$export$ed35f0402f515308(new e.Connector,!0,!1)}))})();